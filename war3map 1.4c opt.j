globals
constant integer D=1
constant integer E=StringHash("AIDummyState")
integer G=0
boolean array J
integer array K
integer array M
integer array N
boolean O=false
boolean P=false
string array Q
boolean array I
timer array A
integer array T
timer array U
integer array V
timer W=null
integer array F
integer B=0
integer C=0
integer array H
integer array L
boolean D4=false
boolean E4=false
boolean O4=false
boolean P4=false
boolean R4=false
multiboard T4=null
unit V4=null
boolean array W4
integer X4=0
boolean Y4=false
boolean A4=false
boolean C4=false
location Z=null
location vv=null
location ev=null
location ov=null
location rv=null
boolean av=false
boolean Ev=false
boolean Ov=false
boolean Rv=false
boolean Av=false
boolean Nv=false
boolean bv=false
boolean Bv=false
boolean cv=false
boolean Cv=false
boolean Dv=false
boolean fv=false
integer D7=0
integer E7=0
location Jv=null
location lv=null
location Lv=null
location mv=null
location pv=null
location qv=null
location Qv=null
location sv=null
location tv=null
location Tv=null
location Uv=null
location Wv=null
location F7=null
location G7=null
unit array M7
integer ae=0
integer ne=0
player array O7
player array P7
integer array S7
integer array T7
integer array U7
unit array W7
integer array Be
force X7=null
force Y7=null
player array Z7
player array A7
player B7=null
player C7=null
boolean ge=false
integer Ge=0
integer he=0
integer array je
hashtable L7=null
player Le=null
unit D8=null
integer E8=0
real F8=0
item array se
item array Se
item array We
item array ze
item array Ze
item array vx
boolean G8=false
integer N8=0
location array O8
unit ox=null
group R8=null
boolean V8=false
boolean AJ=false
boolean W8=false
boolean X8=false
boolean Ox=false
boolean Rx=false
boolean Nx=false
boolean bx=false
string cx=""
boolean Y8=false
integer Z8=0
item jx=null
player lx=null
boolean A8=false
boolean array mx
integer array B8
integer C8=0
force L8=null
boolean D9=false
real E9=0
boolean F9=false
boolean G9=false
boolean O9=false
boolean array P9
string vo=""
boolean array eo
boolean array oo
boolean S9=false
boolean T9=false
trigger U9
integer array V9
integer array W9
integer array X9
weathereffect bo=null
weathereffect Bo=null
boolean Y9=false
location Z9=null
real A9=0
string B9=""
string array C9
rect go=null
rect jo=null
rect lo=null
rect L9=null
rect Qo=null
rect to=null
rect Uo=null
rect wo=null
rect zo=null
rect er=null
rect ED=null
rect ar=null
rect Er=null
rect Xr=null
rect FD=null
rect GD=null
rect HD=null
rect MD=null
rect Br=null
rect cr=null
rect Cr=null
rect fr=null
rect Fr=null
rect Hr=null
rect jr=null
rect Jr=null
rect lr=null
rect mr=null
rect pr=null
rect qr=null
rect ND=null
rect Sr=null
rect Ur=null
rect Wr=null
rect zr=null
rect Zr=null
rect vi=null
rect ei=null
rect xi=null
rect oi=null
rect ai=null
rect OD=null
rect PD=null
rect Ai=null
rect Ni=null
rect bi=null
rect Bi=null
rect QD=null
rect TD=null
rect di=null
rect fi=null
rect Fi=null
rect Gi=null
rect Ji=null
rect li=null
rect Li=null
rect pi=null
rect WD=null
rect XD=null
rect YD=null
rect ZD=null
rect AD=null
rect BD=null
rect LD=null
rect KE=null
rect RE=null
rect SE=null
rect TE=null
rect WE=null
rect YE=null
rect ZE=null
rect EF=null
rect FF=null
rect GF=null
rect HF=null
rect JF=null
rect KF=null
rect MF=null
rect NF=null
rect OF=null
rect PF=null
rect QF=null
rect RF=null
rect SF=null
rect TF=null
rect UF=null
rect WF=null
rect XF=null
rect YF=null
rect ZF=null
rect BF=null
rect CF=null
rect LF=null
rect DG=null
rect EG=null
rect FG=null
rect GG=null
rect JG=null
rect MG=null
rect OG=null
rect PG=null
rect QG=null
rect RG=null
rect SG=null
rect TG=null
rect UG=null
rect VG=null
rect WG=null
rect XG=null
rect ZG=null
rect AG=null
rect BG=null
rect CG=null
rect LG=null
rect DH=null
rect EH=null
rect HH=null
rect OH=null
rect PH=null
rect QH=null
rect RH=null
rect TH=null
rect UH=null
rect WH=null
rect XH=null
rect YH=null
rect ZH=null
rect AH=null
rect CH=null
rect DI=null
rect EI=null
rect GI=null
rect HI=null
rect II=null
rect JI=null
rect NI=null
rect PI=null
rect SI=null
rect TI=null
rect UI=null
rect WI=null
rect XI=null
rect YI=null
rect BI=null
rect CI=null
rect LI=null
rect TJ=null
rect MK=null
rect UK=null
rect YK=null
rect SM=null
rect TM=null
rect UM=null
rect WM=null
rect YM=null
rect ZM=null
rect JN=null
rect MN=null
rect eE=null
rect oE=null
rect aE=null
rect nE=null
rect VE=null
rect EE=null
rect XE=null
rect OE=null
rect IE=null
rect AE=null
rect bE=null
rect BE=null
rect cE=null
rect CE=null
rect dE=null
rect fE=null
rect FE=null
rect gE=null
rect GE=null
rect JE=null
rect lE=null
rect LE=null
rect ME=null
rect pE=null
rect PE=null
rect qE=null
rect QE=null
rect TN=null
rect UN=null
sound yE=null
sound zE=null
sound vX=null
sound WN=null
sound YN=null
sound ZN=null
sound nX=null
sound EX=null
sound OX=null
sound AN=null
sound BN=null
sound bX=null
sound BX=null
sound cX=null
sound CX=null
sound fX=null
sound kX=null
sound LX=null
sound mX=null
sound MX=null
sound PX=null
sound qX=null
sound QX=null
sound tX=null
sound TX=null
sound CN=null
sound UX=null
sound JO=null
sound TO=null
sound oO=null
sound VO=null
sound aO=null
sound YO=null
sound EO=null
sound XO=null
sound OO=null
sound AO=null
sound NO=null
sound bO=null
sound BO=null
sound cO=null
sound CO=null
sound fO=null
sound FO=null
sound gO=null
sound hO=null
sound HO=null
sound kO=null
sound lO=null
sound mO=null
sound pO=null
sound qO=null
sound QO=null
sound tO=null
sound UO=null
sound wO=null
sound WO=null
sound zO=null
sound vR=null
sound eR=null
sound oR=null
sound rR=null
sound aR=null
sound RR=null
sound bR=null
sound BR=null
sound ZO=null
sound CR=null
sound LO=null
sound DP=null
sound hR=null
sound EP=null
sound JR=null
sound lR=null
sound LR=null
sound mR=null
sound pR=null
sound PR=null
sound qR=null
sound QR=null
sound sR=null
sound SR=null
sound UR=null
sound WR=null
sound zR=null
sound GP=null
sound IP=null
sound eI=null
sound oI=null
sound JP=null
sound KP=null
sound RI=null
sound OP=null
string RP="Sound\\Music\\mp3Music\\Undead1.mp3"
string TP="Sound\\Music\\mp3Music\\Undead2.mp3"
string VP="Sound\\Music\\mp3Music\\Undead3.mp3"
string XP="Sound\\Music\\mp3Music\\Orc1.mp3"
string YP="Sound\\Music\\mp3Music\\Orc2.mp3"
string ZP="Sound\\Music\\mp3Music\\Orc3.mp3"
string BP="Sound\\Music\\mp3Music\\NightElf1.mp3"
string CP="Sound\\Music\\mp3Music\\NightElf2.mp3"
string GQ="Sound\\Music\\mp3Music\\NightElf3.mp3"
string IQ="Sound\\Music\\mp3Music\\Human1.mp3"
string JQ="Sound\\Music\\mp3Music\\Human2.mp3"
string YQ="Sound\\Music\\mp3Music\\Human3.mp3"
string GR="Sound\\Music\\mp3Music\\BloodElfTheme.mp3"
string HR="Sound\\Music\\mp3Music\\DarkAgents.mp3"
string IR="Sound\\Music\\mp3Music\\TragicConfrontation.mp3"
string OR="Sound\\Music\\mp3Music\\SadMystery.mp3"
string XR="Sound\\Music\\mp3Music\\IllidansTheme.mp3"
string YR="Sound\\Music\\mp3Music\\PH1.mp3"
trigger ZR=null
trigger DS=null
trigger ES=null
trigger ZI=null
trigger vA=null
trigger eA=null
trigger xA=null
trigger FS=null
trigger VA=null
trigger EA=null
trigger OA=null
trigger RA=null
trigger GS=null
trigger HS=null
trigger JS=null
trigger cA=null
trigger CA=null
trigger dA=null
trigger DA=null
trigger fA=null
trigger FA=null
trigger gA=null
trigger GA=null
trigger LA=null
trigger mA=null
trigger MA=null
trigger PA=null
trigger SA=null
trigger TA=null
trigger KS=null
trigger wA=null
trigger MS=null
trigger OS=null
boolean zA=false
unit vN=null
real YS=0
integer array BS
constant real VN=1
constant real EN=4
constant real XN=4
constant real ON=150
real CS=1.0
boolean bN=false
boolean LS=false
boolean DT=false
integer array ET
real dN
unit DN
unit fN
integer FN
group gN
unit FT
integer IT
integer pN=0
real SN
real tN
unit JT
unit KT
real MT
boolean array OT
integer array vb
boolean array eb
boolean array ob
boolean array ib
boolean array ab
real array nb
integer array PT
boolean array QT
boolean array Ob
boolean array Ab
boolean array Nb
integer bb
integer Bb
integer cb
string array Cb
boolean array db
boolean array RT
boolean array fb
integer Fb=0
boolean gb=true
string array TT
integer UT=0
string Lb
real mb
real array Mb
integer array pb
integer array Qb
integer Tb=1
constant real wb=15
boolean VT=false
boolean WT=false
boolean XT=false
boolean ZT=false
boolean AT=false
boolean BT=false
boolean CT=false
boolean LT=false
boolean EU=false
boolean FU=false
integer array IU
player array JU
integer array MU
integer array NU
constant real OU=55
integer EB=1747990090
real OB
real AB
unit BB
unit cB
group CB=null
string dB=null
real DB
integer fB
unit FB
unit gB
real lB
unit PU
real QU
unit MB
real pB
unit PB
destructable SB=null
unit TB=null
real wB=0
constant real RU=26
constant real yB=550
constant real zB=500
group ZB
unit vc
real ec
integer xc
integer ac
unit nc=null
unit Vc=null
integer array SU
integer array ZU
integer array AU
integer array BU
string array CU
integer array LU
integer array DV
integer EV=0
integer FV
integer JV
integer MV
integer NV
integer OV
integer QV
integer SV
integer TV
integer UV
integer XV
integer AV
integer BV
integer CV
integer LV
integer EW
integer HW
integer NW
integer OW
integer QW
integer RW
integer TW
integer UW
integer VW
integer YW
integer ZW
integer GX
integer NX
integer RX
integer SX
integer WX
integer YX
integer ZX
integer AX
integer GY
integer HY
integer SY
integer UY
integer ZY
integer DZ
integer EZ
integer HZ
integer NZ
integer OZ
integer RZ
integer UZ
integer XZ
integer AZ
integer BZ
integer CZ
integer IA
integer JA
integer NA
integer QA
integer WA
integer YA
integer ZA
integer BA
integer GB
integer JB
integer QB
integer RB
integer VB
integer WB
integer YB
integer LB
integer EC
integer FC
integer GC
integer JC
integer NC
integer OC
integer PC
integer QC
integer TC
integer VC
integer WC
integer XC
integer YC
integer ZC
integer AC
integer BC
integer CC
integer LC
integer H3
integer M3
integer N3
integer R3
integer U3
integer W3
integer Y3
integer Z3
integer B3
integer C3
integer E6
integer F6
integer G6
integer H6
integer N6
integer S6
integer V6
integer W6
integer A6
integer DL
integer HL
integer OL
integer RL
integer WL
integer ZL
integer AL
integer LL
integer D1
integer E1
integer F1
integer H1
integer J1
integer O1
integer P1
integer Q1
integer R1
integer T1
integer U1
integer V1
integer X1
integer A1
integer D0
integer E0
integer J0
integer N0
integer O0
integer R0
integer T0
integer X0
integer Y0
integer B0
integer C0
integer F5
integer G5
integer J5
integer M5
integer N5
integer R5
integer S5
integer T5
integer W5
integer A5
integer B5
integer C5
integer L5
integer E2
integer F2
integer H2
integer P2
integer R2
integer S2
integer T2
integer W2
integer X2
integer Z2
integer D44
integer D74
integer D84
integer D94
integer DD4
integer DE4
integer DF4
integer DG4
integer DH4
integer DI4
integer DJ4
integer DK4
integer DM4
integer DN4
integer DO4
integer DP4
integer DQ4
integer DR4
integer DS4
integer DT4
integer DU4
integer DV4
integer DW4
integer DX4
integer DY4
integer DZ4
integer DA4
integer DB4
integer DC4
integer D34
integer D64
integer DL4
integer D04
integer D54
integer D24
integer D_4
integer E44
integer E74
integer E84
integer E94
integer ED4
integer EE4
integer EF4
integer EG4
integer EH4
integer EI4
integer EJ4
integer EK4
integer EM4
integer EN4
integer EO4
integer EP4
integer EQ4
integer ER4
integer ES4
integer ET4
integer EU4
integer EV4
integer EW4
integer EX4
integer EY4
integer EZ4
integer EA4
integer EB4
integer EC4
integer E34
integer E64
integer EL4
integer E14
integer E04
integer E54
integer E24
integer E_4
integer F44
integer F74
integer F84
integer F94
integer FD4
integer FE4
integer FF4
integer FG4
integer FH4
integer FI4=-1
integer array FJ4
integer array FK4
integer array FM4
integer array FN4
integer array FO4
integer array FP4
integer FQ4=0
integer FR4
integer FS4
integer FT4
integer FU4
integer FV4
integer FW4
integer FX4
integer FY4
integer FZ4
integer FA4
integer FB4
integer FC4
integer F34
integer F64
integer FL4
integer F14
integer F04
integer F54
integer F24
integer F_4
integer G44
integer G74
integer G84
integer G94
integer GD4
integer GE4
integer GG4
integer GH4
integer GI4
integer GJ4
integer GK4
integer GM4
integer GN4
integer GO4
integer GP4
integer GQ4
integer GR4
integer GS4
integer GT4
integer GU4
integer GV4
integer GW4
integer GX4
integer GY4
integer GZ4
integer GA4
integer GB4
integer G34
integer G64
integer GL4
integer G14
integer G04
integer G54
integer G24
player Sh
boolean Th=false
boolean Uh=false
player G_4
unit H44
unit zh
integer array Zh
integer array H74
unit eH
boolean H84=true
boolean oH=false
trigger H94
integer HD4=0
integer HE4=0
integer HF4=0
integer HG4=0
integer HH4=0
integer HI4=0
boolean NH=false
boolexpr bH=null
trigger BH
trigger cH
constant real HJ4=40
integer array dH
integer array HK4
integer FH
integer GH
integer hH
integer jH
integer JH
integer kH
integer lH
integer LH
integer MH
rect pH=null
integer array HM4
integer array HN4
integer array HO4
integer array HP4
integer array HQ4
integer array HR4
integer array HS4
integer array HT4
integer array HU4
integer array HV4
string array HW4
string array HX4
string array HY4
string array HZ4
trigger array rj
trigger array aj
trigger array nj
trigger array Vj
trigger array Ej
trigger array Rj
trigger array Aj
trigger array Nj
boolean array bj
constant boolean Bj=false
item HA4=null
integer HB4=0
integer HC4=0
string Dj="|c00ff0303"
string fj="|c00ff0303"
string gj="|c000042ff"
string Gj="|c00646464"
string Hj="|c00ffffff"
boolean jj=false
boolean Jj=false
boolean lj=false
boolean H34=false
integer array H64
integer array HL4
integer array H14
trigger H04=null
trigger Tj=null
trigger Uj=null
trigger wj=null
trigger zj=null
trigger Zj=null
trigger vJ=null
trigger eJ=null
trigger xJ=null
trigger oJ=null
trigger iJ=null
trigger H54=null
trigger nJ=null
trigger do=null
trigger VJ=null
trigger dq=null
trigger H24=null
trigger dr=null
trigger dR=null
trigger dT=null
trigger du=null
trigger dU=null
trigger dX=null
trigger dY=null
trigger dZ=null
trigger d0=null
trigger H_4=null
trigger I44=null
trigger d3=null
trigger d4=null
trigger d5=null
trigger I74=null
trigger d8=null
trigger d9=null
trigger XJ=null
trigger Dc=null
trigger DC=null
trigger OJ=null
trigger DF=null
trigger RJ=null
trigger IE4=null
trigger Dk=null
trigger DK=null
trigger Dm=null
trigger NJ=null
trigger Do=null
trigger DO=null
trigger Dp=null
trigger DQ=null
unit BJ=null
unit cJ=null
unit CJ=null
unit dJ=null
unit DJ=null
unit fJ=null
unit FJ=null
unit gJ=null
unit GJ=null
unit HJ=null
unit JJ=null
unit lJ=null
unit LJ=null
unit MJ=null
unit PJ=null
unit qJ=null
unit QJ=null
unit SJ=null
unit tJ=null
unit IF4=null
unit UJ=null
unit wJ=null
unit WJ=null
unit yJ=null
unit zJ=null
unit ZJ=null
unit vk=null
unit ek=null
unit xk=null
unit ok=null
unit ik=null
unit ak=null
unit nk=null
unit Vk=null
unit Ek=null
unit Ok=null
unit Rk=null
unit Ak=null
unit Nk=null
unit bk=null
unit Bk=null
unit ck=null
unit Ck=null
unit dk=null
unit fk=null
unit Fk=null
unit gk=null
unit Gk=null
unit jk=null
unit Jk=null
unit lk=null
unit Lk=null
unit pk=null
unit Pk=null
unit qk=null
unit Qk=null
unit Sk=null
unit tk=null
unit Uk=null
unit wk=null
unit Wk=null
unit yk=null
unit zk=null
unit vK=null
unit eK=null
unit xK=null
unit aK=null
unit VK=null
unit EK=null
unit XK=null
unit OK=null
unit AK=null
unit NK=null
unit bK=null
unit BK=null
unit cK=null
unit CK=null
unit dK=null
unit fK=null
unit FK=null
unit gK=null
unit GK=null
unit JK=null
unit lK=null
unit LK=null
unit PK=null
unit qK=null
unit QK=null
unit SK=null
unit TK=null
unit wK=null
unit WK=null
unit zK=null
unit ZK=null
unit vl=null
unit el=null
unit xl=null
unit ol=null
unit rl=null
unit al=null
unit Vl=null
unit El=null
unit Xl=null
unit Ol=null
unit Rl=null
unit Al=null
unit Nl=null
unit bl=null
unit Bl=null
unit cl=null
unit Cl=null
unit dl=null
unit array fl
unit array Fl
unit array gl
integer Hl=0
trigger array Dx
real array DX
integer Dy=0
boolean array IG4
real array Jl
integer array ll
integer array Ll
integer Ml=0
string array Pl
integer array ql
integer Ql=0
integer sl=0
integer IH4
integer tl
integer Tl
real IJ4
real IK4
real IM4
real Zl
real vL
real eL
unit IN4
unit IP4
trigger eC
group IQ4
group aL
player IR4
boolean EL
string IS4
unit IT4=null
region IU4
integer array NL
integer array bL
integer array BL
integer array cL
integer CL=0
gamecache IV4
weathereffect fL
weathereffect FL
rect IW4
constant playercolor gL=ConvertPlayerColor(0)
constant playercolor hL=ConvertPlayerColor(6)
constant playercolor JL=ConvertPlayerColor(12)
real IX4=-7168
real IY4=-7264
real ML=-6816
real PL=-7264
real QL=-7200
real SL=-6752
real tL=-7200
real TL=-6944
real UL=-6560
real wL=-7264
real zL=-6560
real vm=-6560
real em=-6688
real xm=-6496
real om=-6816
real rm=-6496
real im=-6944
real am=-6496
real Vm=-7072
real Em=-6560
real Xm=-7328
real Om=-5984
real Am=-5632
real Nm=-6144
real bm=-6112
real Bm=1568
real cm=-1504
real Cm=-1824
real dm=4960
real fm=-6752
real Fm=-6112
real hm=-1248
real Jm=-3488
real lm=-3296
real Mm=-544
real pm=-6688
real Pm=-6368
real Qm=-4256
real Tm=-4448
real Um=-4960
real wm=-3744
real Wm=-6816
real zm=-5600
real vM=-5728
real eM=-5280
real oM=-6112
real rM=-6080
real iM=-4480
real aM=-4416
real nM=-5312
real VM=-4032
real XM=-7040
real AM=-6656
real bM=-4480
real BM=-4864
real cM=-4992
real dM=-4032
real fM=-6528
real gM=-5792
real hM=-5408
real HM=-6624
real JM=-5088
real kM=-5344
real lM=-3936
real pM=-4832
real sM=-4384
real tM=-3936
real wM=-5216
real zM=-5088
real vp=-5536
real ep=-4896
real op=-6240
real rp=-3616
real ap=-5728
real Vp=-4512
real Ep=-7072
real Xp=-5472
real Rp=-4704
real Ap=-4512
real bp=-5856
real Bp=-6080
real cp=-5120
real Cp=-4544
real dp=-6528
real fp=-6400
real Fp=-5696
real gp=-5248
real Hp=-6848
unit IZ4
unit I34
unit IL4
unit I04
unit I_4
unit J44
unit J74
unit J84
unit J94
unit JD4
unit JE4
unit JF4
unit JG4
unit JH4
unit JI4
unit JJ4
unit JK4
unit JM4
unit JN4
unit JO4
unit JP4
unit JQ4
unit JR4
unit JS4
unit JT4
unit JU4
unit JV4
unit JW4
unit JX4
unit fP
unit FP
unit lP
unit LP
unit MP
unit pP
unit PP
unit qP
unit QP
unit sP
unit tP
unit WP
unit zP
unit vq
unit eq
real JY4=6272
real JZ4=5504
real rq=6464
real iq=5120
real aq=5952
real Eq=5568
real Rq=6080
real Aq=5568
real Nq=6464
real bq=4736
real Bq=5696
real cq=5120
real Cq=5568
real Dq=5248
real fq=5568
real Fq=5376
real Hq=5696
real jq=5504
real Jq=5568
real Mq=5696
real qq=5568
real Qq=5696
real Sq=4992
real tq=4544
real Uq=-4704
real zq=5920
real Zq=1056
real vQ=-160
real eQ=6048
real xQ=-2080
real oQ=32
real iQ=5856
real aQ=2400
real EQ=1696
real OQ=6112
real RQ=-96
real AQ=3168
real NQ=5920
real bQ=3616
real BQ=3296
real cQ=6048
real CQ=2784
real fQ=4640
real FQ=4576
real hQ=5088
real HQ=4192
real lQ=3776
real LQ=5888
real mQ=4096
real MQ=3392
real PQ=6208
real QQ=3264
real SQ=3520
real UQ=5376
real WQ=3776
real zQ=3840
real ZQ=5696
real vs=3264
real es=3168
real os=4000
real rs=4192
real as=5536
real ns=4128
real Vs=4512
real Es=4640
real Xs=3680
real Rs=4832
real As=3104
real Ns=5408
real bs=2592
real Bs=5408
real cs=3296
real Cs=6112
real Ds=4000
real fs=3040
real Fs=5088
real Hs=6304
real js=3744
real Js=6304
real Ks=3744
real ls=3520
real Ls=4608
real ms=4096
real Ms=2624
real ps=4096
real Ps=2624
real Qs=4096
real Ss=2624
unit JA4
unit JB4
unit zs
unit Zs
unit JC4
unit eS
unit oS
unit rS
unit aS
unit nS
unit VS
unit J34
unit J64
unit JL4
unit J14
unit J04
unit J54
unit J24
unit J_4
unit K44
unit K74
unit K84
unit K94
unit KD4
unit KE4
unit KF4
unit KG4
unit KH4
unit KI4
unit PS
unit QS
unit SS
unit tS
unit TS
unit US
unit WS
unit ZS
unit vt
unit et
unit xt
unit ot
unit rt
unit at
unit Vt
unit KJ4
unit KK4
unit KM4
unit KN4
unit KO4
unit KP4
unit KQ4
unit KR4
unit KS4
unit KT4
unit array KU4
real array KV4
real array KW4
player KX4
player KY4
string array KZ4
integer array KA4
integer array KB4
integer array KC4
integer array K34
integer array K64
integer KL4
integer K14
integer K04
integer K54
integer array K24
integer K_4
integer array M44
integer M74
integer array M84
integer M94
integer array MD4
integer ME4
integer array MF4
integer MG4
string array MH4
integer array MI4
string array MJ4
string array MK4
string array MM4
string array MN4
string array MO4
unit MP4
unit MQ4
unit MR4
unit MS4
unit MT4
unit MU4
unit MV4
unit MW4
unit MX4
unit MY4
unit MZ4
unit MA4
integer array MB4
integer MC4=0
boolean M34=false
integer M64=0
trigger ML4
boolean M14=false
trigger M04
trigger M54
trigger M24
real M_4=0
real N44=0
hashtable N74
timer array N84
integer array N94
integer array ND4
multiboard NE4
integer array NF4
integer array NG4
player array NH4
integer NI4=0
string Fx="|c00FF6600"
multiboard NJ4
trigger NK4
unit array NM4
real array NN4
boolean array NO4
integer NP4=0
unit array qu
real array Qu
boolean array Su
integer array NQ4
integer array NR4
integer array NS4
integer array NT4
integer array NU4
integer array NV4
unit NW4=null
boolean NX4=true
integer NY4=1
trigger NZ4
integer NA4=0
integer NB4
integer NC4
integer array N34
integer array N64
integer NL4
integer N14
integer array N04
boolean N54=false
unit N24=null
unit N_4=null
group KU
boolean O44=true
boolean O74=false
boolean O84=false
integer O94
player OD4
trigger OE4=null
trigger OF4=null
integer OG4
integer TU=1093683285
integer vw=1093683288
trigger OH4
region ow
integer array gD
unit array rw
unit OI4=null
unit OJ4
region Ew
integer array Rw
integer OK4=1093742918
integer OM4=1093742917
integer ON4=1093686067
integer OO4=1093742916
integer OP4=1093742919
integer OQ4=1093742920
integer OR4=1093815369
integer OS4=1093742914
integer OT4=1093742913
integer OU4=1093686066
integer OV4=1093742905
integer OW4=1093742915
integer OX4=1093742904
integer OY4=1093815368
integer OZ4=1093682777
unit Mw
group pw
unit qw
unit Qw
boolean tw=false
boolean Uw=false
boolean zw=false
boolean vW=false
boolean eW=false
boolean oW=false
boolean rW=false
boolean iW=false
unit array OA4
timer array gg
integer array FI
boolean OB4=false
real array Fj
integer gi=0
real array OC4
item array O34
integer O64=0
boolean array AW
boolean array OL4
leaderboard array gm
boolean bW=true
weathereffect BW
boolean array cW
boolean array CW
integer dW=0
integer array DW
integer array fW
integer array FW
integer array hW
integer array LW
integer array mW
integer array MW
integer array pW
integer array PW
string O14="No Mode"
unit gr
boolean O04=false
boolean O54=false
boolean Fz=false
integer array O24
constant real O_4=-6950
constant real P44=6750
boolean P74=false
boolean F0=false
boolean P84=false
boolean gH=false
boolean P94=false
integer PD4
boolean PE4=false
boolean oy=true
boolean PF4=false
boolean PG4=false
boolean PH4=false
boolean PI4=false
boolean PJ4=false
boolean Ny=false
boolean PK4=false
boolean PM4=false
unit array PN4
integer Ly=1093742670
integer my=1093686064
integer My=1093742671
integer py=1093742672
real PO4
real PP4
unit PQ4
trigger PR4
integer PS4=1093678422
boolean PT4=false
boolean uy=false
boolean vY=true
boolean Gs=false
boolean PU4=false
boolean PV4=false
boolean GT=false
boolean GU=false
boolean Gv=true
boolean Gw=true
boolean PW4=true
boolean PX4=true
boolean PY4=false
boolean array GZ
boolean array G0
integer G1=0
integer G2=0
integer G3=-1
integer G4=-1
boolean PZ4=true
boolean PA4=true
integer PB4=0
integer PC4=0
integer P34=0
integer P64=0
integer PL4=0
integer P14=0
integer P04=0
integer P54=0
integer P24=4
integer P_4=5
integer Q44=5
integer hD=0
integer hE=0
integer hF=0
integer array hG
integer array eY
integer array hj
integer xY=0
integer oY
integer rY
real aY=0
real VY=0
real EY=0
real XY=0
real OY=0
real IY=0
real AY=0
real bY=0
real BY=0
real cY=0
real CY=0
real DY=0
real fY=0
real FY=0
real JY=0
real kY=0
real lY=0
real mY=0
real MY=0
real PY=0
real QY=0
real sY=0
real tY=0
real TY=0
real uY=0
real wY=0
real YY=0
real vz=0
constant real Q74=90
boolean xz=false
boolean oz=false
boolean rz=false
boolean az=false
boolean nz=false
boolean Vz=false
boolean Ez=false
boolean Xz=false
timer Q84
boolean Q94=false
integer QD4=90
boolean QE4=false
real Bz=0.
real array hq
unit hr=null
unit hS=null
unit hx=null
unit hy=null
unit hz=null
unit hZ=null
unit h0=null
unit array h4
unit array h7
unit array h8
unit array h9
location Ha
location HA
location Hb
location HB
location Hc
location array HC
rect cz=null
real QF4
real QG4
real QH4
real QI4
real QJ4
real QK4
player QM4
rect QN4=null
rect QO4=null
rect QP4=null
rect Cz=null
rect QQ4=null
rect QR4=null
rect QS4=null
rect He=null
player QT4=null
player QU4=null
player QV4=null
player QW4=null
force QX4=CreateForce()
boolean array QY4
trigger HK=CreateTrigger()
trigger QZ4=CreateTrigger()
trigger QA4=CreateTrigger()
trigger Hn=CreateTrigger()
trigger HN=CreateTrigger()
trigger Ho=CreateTrigger()
trigger QB4=CreateTrigger()
trigger QC4=CreateTrigger()
trigger Q34
trigger Q64
trigger QL4
trigger Q14
trigger array Q04
item Hu
destructable H0
group H8=CreateGroup()
group H9=CreateGroup()
group iA=CreateGroup()
group Q54=CreateGroup()
group iC=CreateGroup()
group iE=CreateGroup()
group iF=CreateGroup()
group ig=CreateGroup()
group iG=CreateGroup()
group iH=CreateGroup()
group ii=CreateGroup()
group ij=null
boolexpr Q24=null
boolexpr iL
boolexpr Q_4
boolexpr ip
boolexpr iP
integer R44=StringHash("PBMN|AI")
integer array R74
integer array R84
real Wz=0.
real Yz=0.
group Zz=null
unit vZ
integer R94
unit oZ
unit RD4
unit RE4
unit RF4
group RG4
real VZ
unit RH4
unit RI4
group RJ4
integer array RK4
integer array RM4
integer array RN4
integer array RO4
integer array RP4
integer array RQ4
integer array RR4
integer array RS4
unit RT4
real RU4
unit FZ
real gZ
integer jZ
integer JZ
unit LZ
real mZ
integer MZ
player QZ
unit sZ
integer tZ
player TZ
integer RV4
unit array wZ
integer WZ
unit array YZ
unit array zZ
integer ZZ
unit array v0
unit e0
unit o0
unit array RW4
integer n0
boolean V0=false
unit RX4
integer RY4
boolean RZ4=false
boolean array A0
boolean RA4=false
integer RB4
unit RC4
real R34
integer R64
unit RL4
real R14
real j0
real K0
integer l0
unit m0
integer M0
group p0
unit Q0
real R04
group t0
integer R54
unit U0
real R24
integer array W0
integer array z0
real Z0
unit v1
unit R_4
real o1
integer a1
integer array n1
boolean S44=false
unit S74
unit N1
integer S84
real B1
real C1
unit S94
integer SD4
integer SE4
integer m1
group M1
unit SF4
real SG4
integer SH4
integer SI4
integer SJ4
unit array SK4
boolean w1=false
boolean W1=false
unit Y1
unit z1
real Z1
real v2
real SM4
real o2
boolean a2=false
boolean SN4=false
force V2=null
integer array SO4
integer array SP4
real A2
real N2
unit b2
unit B2=null
unit C2=null
unit D2=null
unit SQ4
integer array SR4
unit array SS4
integer l2=0
integer ST4
constant real M2=6
constant real p2=600
unit SU4
trigger SV4
boolean array U2
real array SW4
real array SX4
real array SY4
unit array SZ4
integer array SA4
integer array SB4
integer a3
unit n3
integer V3
unit E3
integer X3
unit A3
region SC4
unit S34
unit S64
real SL4
real S14
unit array D3
boolean f3=false
integer F3=0
string array j3
constant real L3=8
unit S04
integer S54
boolean p3=false
player array S24
real array S_4
real array T44
real array T74
integer T84=-1
constant real e4=25
constant real o4=525
region T94
integer array TD4
integer TE4=0
integer array TF4
integer array TG4
integer array TH4
integer array N4
integer array TI4
boolean B4=false
integer TJ4
integer array TK4
boolean array TM4
group array TN4
integer TO4=0
integer TP4=0
boolean TQ4=false
unit TR4
unit TS4
real TT4
real TU4
real TV4
real array TW4
real array TX4
unit TY4
boolean TZ4=false
boolean TA4=false
boolean TB4=false
real array TC4
string array T34
boolean T64=false
boolean TL4=false
integer array T14
real array T04
real array T54
boolean array T24
item array T_4
item array U44
item array U74
item array U84
boolean array U94
boolean array UD4
boolean array UE4
integer UF4
integer UG4=10
boolean array UH4
boolean array UI4
unit UJ4
unit UK4
unit UM4
unit UN4
unit UO4
unit UP4
real UQ4
real UR4
real US4
real UT4
constant real UU4=300
constant real UV4=20
unit UW4
unit UX4
integer UY4
group UZ4
real UA4
real UB4
integer UC4
integer U34
integer U64
region UL4
region U14
real U54
unit U24
boolean U_4=false
sound V44=null
sound V74=null
sound V84=null
sound V94=null
sound VD4=null
unit VE4
group VF4
integer array VG4
boolean VH4=false
unit VI4
sound VJ4
sound VK4=null
string VM4
string VN4
string VO4
string VP4
sound VQ4=null
sound VR4=null
constant integer VS4=1697657160
constant integer VT4=1848651849
constant integer VU4=1848652338
constant integer VV4=1848652337
constant integer VW4=1848658777
constant integer VX4=1848658778
constant integer VY4=1848659013
constant integer VZ4=1697657178
constant integer VA4=1848652339
constant integer VB4=1848652340
constant integer VC4=1848652341
constant integer V34=1848658992
constant integer V64=1848658993
constant integer VL4=1848659252
constant integer V14=1697657428
constant integer V04=1697657427
constant integer V54=1697657648
constant integer V24=1848651853
constant integer V_4=1848658006
constant integer W44=1697657426
constant integer W74=1848659027
constant integer W84=1395667014
constant integer W94=1395667270
constant integer WD4=1395667253
constant real WE4=0.025
constant integer WF4=1848657233
unit WG4
unit WH4
unit WI4
real WJ4
real WK4
real WM4
unit WN4
real WO4
real WP4
unit WQ4
real WR4
real WS4
real WT4
boolean WU4=false
boolean array WV4
destructable WW4
real WX4
real WY4
real WZ4
real WA4
real WB4
real WC4
real W34
real W64
unit WL4
integer W14
unit W04
constant real W54=5.0
integer array W24
integer array W_4
integer array X44
integer array X74
constant integer X84=1848652369
integer X94
player XD4
region XE4=null
region XF4=null
region XG4=null
region XH4=null
trigger XI4=null
trigger XJ4=null
real XK4
real XM4
trigger XN4=null
constant integer XO4=1848652360
boolean XP4=false
sound XQ4=null
sound XR4=null
sound XS4=null
unit XT4=null
unit XU4=null
unit XV4=null
constant integer XW4=1093816119
constant integer XX4=1110460227
group XY4
integer XZ4
unit XA4
constant integer XB4=500
constant integer XC4=1400
constant real X34=1300
constant real X64=20
constant real XL4=20
constant real X14=20
constant real X04=6.0
integer X54
unit X24
group X_4
real Y44
real Y74
constant integer Y84=1093753176
unit Y94
integer YD4
unit YE4
constant integer YF4=1093815352
constant integer YG4=1093808469
constant integer YH4=1093815345
constant string YI4="Environment\\LargeBuildingFire\\LargeBuildingFire1.mdl"
constant integer YJ4=1093815352
unit YK4
unit YM4
integer YN4
group YO4
group YP4
unit YQ4
unit YR4
unit YS4
integer YT4
real YU4
real YV4
real YW4
integer YX4
destructable array YY4
destructable array YZ4
destructable array YA4
integer YB4=0
integer YC4=0
unit Y34
integer Y64
constant real YL4=6
player Y14
boolean Y04=false
boolean Y54=false
unit Y24
boolean Y_4=false
player Z44=null
player Z74=null
integer array Z84
constant integer Z94=0
constant integer ZD4=1
constant integer ZE4=3
constant integer ZF4=5
constant integer ZG4=1
constant integer ZH4=2
constant integer ZI4=3
constant integer ZJ4=4
constant integer ZK4=5
unit ZM4
real ZN4
integer array ZO4
group ZP4
group ZQ4
unit ZR4
integer ZS4
trigger ZT4=null
string ZU4=""
boolean ZX4=false
unit ZY4
unit ZZ4
unit ZA4
group ZB4
group ZC4
group Z34
integer Z64=0
unit ZL4
constant real Z14=3
unit Z04
unit Z54
unit Z24
real Z_4
group A44
integer A74
sound A84=null
sound A94=null
sound AD4=null
sound AE4=null
sound AF4=null
sound AG4=null
sound AH4=null
sound AI4=null
unit AJ4
integer AK4
group AM4
integer AN4
unit AO4
unit AP4
unit AQ4
group AR4
integer AS4
unit AT4
unit AU4
unit AV4
group AW4
real AX4
integer array AY4
integer AZ4=0
integer AA4
constant real AB4=20
constant real AC4=7
constant real A34=300
unit A64
real AL4
unit A14
unit A04
real A54
unit A24
real A_4
real B44
real B74
unit B84
real B94
real BD4
group BE4
unit BF4
unit BG4
real BH4
real BI4
real BJ4
trigger BK4
integer BM4=0
boolean BN4=false
integer array BO4
boolean BV4
boolean BW4=false
boolean BZ4=false
integer array BA4
integer array BB4
integer BC4
integer B34
integer array B64
integer array BL4
integer B14=0
integer B04=0
integer array B54
integer array B24
integer B_4=0
integer CK4=0
integer CM4=0
constant integer CN4=40
constant integer CP4=50
constant integer CQ4=50
constant integer CR4=50
constant integer CS4=90
constant integer CU4=2
constant integer CL4=3
constant string C_4="|c006699CC"
constant string L44="|c00ff0303"
constant string L74="|c00555555"
multiboard L84
image L94
image LD4
image LE4
image LF4
boolean LG4=false
image LH4=null
real LI4=-7030
real LJ4=6966
unit LK4
integer LM4
player LN4
boolean LO4=false
constant integer LP4=852164
constant integer LQ4=852526
constant integer LR4=852599
unit LS4=null
unit LT4=null
unit LU4=null
unit LV4=null
integer LW4=0
integer LX4=0
constant string LY4="Abilities\\Spells\\Human\\MagicSentry\\MagicSentryCaster.mdl"
constant real LZ4=15
constant real LA4=4
constant real LB4=15
constant real LC4=4
integer L34
integer L64
real LL4
real L14
unit L04
integer array L54
constant real L24=7
constant string L_4="war3mapImported\\EpiPulse_1_4.mdx"
constant string D47="war3mapImported\\EpiPulse_5_8.mdx"
constant string D77="war3mapImported\\EpiPulse_9_12.mdx"
unit array D87
integer array D97
integer array DD7
integer DE7=0
integer DF7=0
integer array DG7
integer array DH7
constant integer DI7=20
constant integer DJ7=34
constant integer DK7=2
constant integer DM7=30
unit array DN7
integer DO7=0
boolean DP7=true
boolean array DQ7
boolean DR7=false
boolean DS7=false
boolean DT7=true
unit DU7=null
trigger DV7=null
trigger DW7=null
trigger DX7=null
timer DY7=null
real array DZ7
constant string DA7="|c0020c060"
constant string DB7="|c00ffcc60"
real DC7=0.35
real D37=0.66
real D67=0.25
real DL7=2.
real D17=0.05
integer D07=5
real D57=0.66
real D27=0.25
integer D_7=72
real E47=DC7/2
integer E77=3
integer E87=300
integer E97=180
boolean ED7=false
hashtable EE7
boolean EF7=false
real EG7=1
real EH7=1
string EI7=""
real EJ7=0
real EK7=0
widget EM7=null
boolean EN7=false
player EO7=null
force EP7=null
item EQ7=null
item ER7=null
integer ES7=0
unit ET7=null
real EU7=0
constant real EV7=200
trigger EW7=null
constant integer EX7=67
constant integer EY7=75
boolean EZ7=true
boolean EA7=false
constant string EB7="Doodads\\Icecrown\\Water\\BubbleGeyserSteam\\BubbleGeyserSteam.mdx"
integer array EC7
unit array E37
real array E67
boolexpr EL7=null
integer array E17
integer E07=0
integer E57=1
constant integer E27=1
constant integer E_7=2
constant integer F47=3
constant integer F77=4
constant integer F87=5
constant integer F97=6
constant integer FD7=7
constant integer FE7=8
constant integer FF7=FE7-1
constant integer FG7=2
constant integer FH7=4
constant integer FI7=6
constant real FJ7=60.
constant integer FK7=8
boolean FM7=true
boolean FN7=true
real FO7=0.
constant integer FP7=425
constant integer FQ7=FP7+200
constant real FR7=700.
constant real FS7=10.
constant real FT7=15.
constant real FU7=180.
constant integer FV7=20
unit FW7=null
constant real FX7=120.
constant real FY7=0.05
constant real FZ7=60.
constant real FA7=10.
constant real FB7=20.
constant integer FC7=30
constant real F37=10.
constant real F67=15.
constant real FL7=20.
constant real F17=0.4
constant real F07=0.1
constant string F57="|c00dd8dff"
constant string F27="|c00a0a0a0"
constant string F_7="   "
string G47=null
string G77=null
string G87=null
string G97=null
constant real GD7=8
real GE7=FX7
integer GF7
boolean GG7=false
unit GH7
integer GI7
boolean GJ7=false
unit GK7
unit GM7
location GN7=Location(0,0)
unit GO7
boolean GP7=false
boolean GQ7=false
boolean GR7=false
constant integer GS7=4
unit GT7=null
unit GU7=null
real GV7=99999999.
trigger GW7=null
unit GX7
integer GY7
integer GZ7
unit GA7
real GB7
real GC7
real G37
unit G67
integer array GL7
boolean G17=true
unit G07
integer G57
unit G27
group G_7
real H47
integer array H77
integer array H87
integer H97
integer HD7
integer HE7
unit HF7
integer HG7
integer HH7
boolean HI7=false
unit HJ7
real HK7
group HM7
unit HN7
integer HO7
constant real HP7=300
integer HQ7
integer HR7
integer array HS7
constant real HT7=200
constant real HU7=200
group HV7
unit HW7
integer HX7
unit HY7
integer HZ7
unit HA7
integer HB7
leaderboard array HC7
integer H37
integer H67=0
integer HL7=0
integer array H17
integer array H07
integer H57=-1
integer array H27
sound H_7=null
unit I47
group I77
boolean array I87
integer I97=600
integer ID7=360
integer IE7
constant real IF7=5
constant real IG7=2.6
unit IH7
real II7
unit IJ7
unit IK7
integer IM7
constant real IN7=3.75
group IO7
unit IP7
real IQ7
integer IR7
unit IS7
real IT7
real IU7
real IV7
unit IW7
integer IX7
integer IY7
boolean IZ7=false
real IA7
unit IB7
constant real IC7=0.05
constant real I37=1.0
constant real I67=4
constant integer IL7=1093812788
group I17
constant real I07=20
integer I57
unit I27
integer I_7
constant integer J47=1093815353
constant integer J77=1093815365
constant integer J87=1110460209
constant integer J97=1093815361
constant integer JD7=1093815627
constant integer JE7=1110460212
unit JF7
unit JG7
real JH7=1.35
real JI7=500
constant integer JJ7=1093815362
constant integer JK7=1093815364
constant string JM7="war3mapImported\\Cryofreeze5.mdx"
constant integer JN7=1093687856
group JO7
trigger JP7
unit JQ7
unit JR7=null
constant string JS7="war3mapImported\\WintersCurse.mdx"
constant string JT7="war3mapImported\\WintersCurseAoE.mdx"
constant integer JU7=1093815859
constant integer JV7=1110460215
constant string JW7="effects\\BasicWaterFlash.mdx"
constant real JX7=6
constant integer JY7=1093815877
constant integer JZ7=1093815874
constant integer JA7=1093815873
constant integer JB7=1093815862
constant integer JC7=1093815864
constant integer J37=1093815875
constant integer J67=1093815863
constant integer JL7=1093815876
constant integer J17=1093815865
constant integer J07=1110460225
constant real J57=6
constant integer J27=1093815372
constant integer J_7=1747993927
constant real K47=50
constant integer K77=1093815373
constant integer K87=1093815609
constant integer K97=1093815617
constant integer KD7=1093815374
constant integer KE7=1093815608
constant integer KF7=1093815888
constant integer KG7=1093815891
constant integer KH7=1093815890
constant integer KI7=1093815889
constant string KJ7="war3mapImported\\MagneticField04.mdl"
integer KK7
integer KM7
constant integer KN7=1093815601
constant integer KO7=1093815383
constant integer KP7=1093815385
constant integer KQ7=1110460210
constant integer KR7=1110460211
constant string KS7="war3mapImported\\Flux3.mdx"
constant integer KT7=1093815600
constant integer KU7=1311788365
constant string KV7="Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl"
constant integer KW7=1093686851
constant integer KX7=1093815896
constant integer KY7=1093677625
constant integer KZ7=1093815897
constant integer KA7=1093816115
constant integer KB7=1
constant integer KC7=2
constant integer K37=2
constant integer K67=3
constant integer KL7=1
item array K17
integer array K07
integer array K57
boolean array K27
player K_7=null
integer M47=0
constant integer M77=2000
constant integer M87=0
constant integer M97=1
constant integer MD7=2
constant real ME7=30.
constant integer MF7=30
constant boolean MG7=true
constant boolean MH7=false
unit MI7=null
integer MJ7=0
integer MK7=0
unit MM7=null
integer MN7=0
unit MO7=null
integer array MP7
unit MQ7=null
unit MR7=null
boolean MS7=true
constant boolean MT7=false
constant boolean MU7=true
unit MV7=null
unit MW7=null
boolean MX7=false
integer MY7=0
group MZ7=CreateGroup()
unit MA7=null
unit MB7=null
unit array MC7
real M37=0.
real M67=0.
boolexpr ML7=null
trigger M17=CreateTrigger()
constant integer M07=StringHash("listtop1")
constant integer M57=StringHash("listtop2")
constant integer M27=StringHash("attack")
hashtable M_7=InitHashtable()
unit array N47
integer array N77
constant integer N87=1
constant integer N97=2
integer ND7=0
integer NE7=0
integer NF7=0
real NG7
integer NH7=0
integer NI7=0
location array NJ7
constant integer NK7=16
constant integer NM7=32
trigger array NN7
integer NO7=0
group NP7=null
integer NQ7=0
hashtable NR7=InitHashtable()
group NS7=CreateGroup()
constant integer NT7=1
constant integer NU7=2
real NV7=1000.
constant integer NW7=8
constant real NX7=0.5
constant real NY7=200.
constant real NZ7=2.
real NA7=.0
real NB7=.0
real NC7=.0
real N37=.0
location N67=null
group NL7
integer N17=0
real N07=.0
real N57=.0
real array N27
real array N_7
integer O47=0
boolean O77=false
endglobals
function O87 takes nothing returns boolean
return GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_USER and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true
endfunction
function O97 takes integer OD7,integer a1,integer a2,integer a3,integer a4,integer a5 returns nothing
call SaveInteger(NR7,OD7,1,a1)
call SaveInteger(NR7,OD7,2,a2)
call SaveInteger(NR7,OD7,3,a3)
call SaveInteger(NR7,OD7,4,a4)
call SaveInteger(NR7,OD7,5,a5)
endfunction
function OE7 takes unit u returns nothing
local integer OD7=GetUnitTypeId(u)
local player p=GetOwningPlayer(u)
local integer i=1
loop
exitwhen i>5
call SetPlayerAbilityAvailable(p,LoadInteger(NR7,OD7,i),true)
set i=i+1
endloop
endfunction
function OF7 takes nothing returns nothing
call OE7(GetEnumUnit())
endfunction
function AvailableHumanTimer takes nothing returns nothing
call GroupClear(NS7)
call GroupEnumUnitsInRect(NS7,GetWorldBounds(),Condition(function O87))
call ForGroup(NS7,function OF7)
endfunction
function bug_SkillEnableInit takes nothing returns boolean
call CommentString("call TimerStart(i_HumanHeroAbilityEnableLoop,0.1,true,(function AvailableHumanTimer))")
call DestroyTrigger(GetTriggeringTrigger())
return false
endfunction
function OG7 takes nothing returns nothing
call O97(1214344551,1093678938,1093677402,1093809742,1096904043,1093815628)
call O97(1214409837,0,1093742680,1093742932,1093742898,1093684818)
call O97(1215130471,1093677361,1093678167,1093679155,1093679160,1096904043)
call O97(1215324524,1095264354,1095263347,1095266917,1095262564,0)
call O97(1331850337,1095726955,1095721842,1095724393,1095726967,0)
call O97(1332109682,1093810505,1093808694,1096904043,1093678134,1093678149)
call O97(1332963428,1093677649,1093683019,1093816137,0,1096904043)
call O97(1333027688,1093682248,1093682252,1093686091,1093682250,1096904043)
call O97(1164207469,1096904043,1093684057,1093677618,1095066220,1093682483)
call O97(1164209517,1095069026,1095068013,1095066998,1095069029,0)
call O97(1164666213,1096904043,1093677877,1093678679,1093678678,0)
call O97(1164799855,1093682264,1093677378,1093682263,1093682265,1096904043)
call O97(1165451634,1093687629,1093685324,1093677904,1093677905,1096904043)
call O97(1432580716,1093744977,1093682009,1096904043,1093684300,1093681754)
call O97(1432642913,1093684819,1093684551,1093683507,1093684550,1096904043)
call O97(1432646245,0,1093679173,1093677899,1096904043,1093677640)
call O97(1433168227,1096904043,1093678387,1093678918,1093679186,1093678420)
call O97(1315074670,1093685570,1096904043,1093677625,1093677622,1093686851)
call O97(1315988077,1093678669,1097032808,1093684568,1093684561,1096904043)
call O97(1316252014,1093678645,1093678137,1093678405,1096904043,1093681745)
call O97(1316122466,1095660409,1095656307,1095656807,1095660135,0)
call O97(1315334514,1093682773,1093681746,1093810506,1093682521,1093684818)
call O97(1164277353,1096904043,1093678929,1093751369,1093815130,1093683252)
call O97(1164277357,1096904043,1093678929,1093751369,1093815130,1093683252)
call O97(1164799603,1096904043,1093808453,1093677391,1095067246,1093752632)
call O97(1214345830,1093679182,1093679190,1093682514,1093678657,1096904043)
call O97(1214802796,1095264354,1095263347,1095266917,1095262564,0)
call O97(1214931305,1096904043,1093748025,1093678147,1095262562,1093677906)
call O97(1215063922,1093677895,1093677894,1096904043,1093812553,1093681996)
call O97(1215128178,1096904043,1093677616,1093684789,1093683779,1093810503)
call O97(1215324721,1095264354,1095263347,1095266917,1095262564,0)
call O97(1215657064,1093750841,1093684291,1093677913,1096904043,1095657827)
call O97(1215722344,1093684296,1093683512,1093682499,1096904043,1093684293)
call O97(1215723364,1096904043,1093677633,1094934883,1093744463,1093683534)
call O97(1315070563,1096904043,1093678135,1093678407,1093677131,1093684529)
call O97(1331982964,1095722611,1095725926,1095721836,1095722353,0)
call O97(1332179560,1093682242,1093742660,1093682231,1093687627,1096904043)
call O97(1332766568,1096904043,1093683510,1093686065,1093681974,1093682482)
call O97(1332898670,1096904043,1093677136,1093685848,1093677360,1093677128)
call O97(1432510828,1093751127,1093681985,1093681991,1093682004,1096904043)
call O97(1433105516,1096904043,1093683511,1093744688,1093681713,1093747288)
call O97(1433631084,1093678160,1096904043,1093677909,1093677907,1093678644)
call O97(1315007329,1096904043,1093749073,1093678913,1093677108,1093681716)
call O97(1162032439,1096904043,1093744435,1093684569,1093684563,1093677363)
call O97(1162032951,1096904043,1093746995,1093679152,1093679446,1093684557)
call O97(1311781175,1096904043,1093681733,1093808460,1093685040,1093748042)
call O97(1429221451,1093678674,1093683248,1093678671,1093682753,1096904043)
call O97(1313026096,1096904043,1095267426,1095721842,1096114550,1093677401)
call O97(1430466872,1096904043,1093687349,1093684558,1093677646,1093679413)
call O97(1162032181,1093679153,1096904043,1093682010,1093684299,1093683761)
call O97(1311781174,1096904043,1093681733,1093808460,1093685040,1093748042)
call O97(1430467634,1093684818,1093679412,1093742674,1093750608,1093684565)
call O97(1211117637,1093677895,1093677894,1096904043,1093812553,1093681996)
call O97(1429221430,1093687121,1093681739,1093681736,1096904043,1093681735)
call O97(1160785970,1093748023,1093747792,1093748022,1093747023,1096904043)
call O97(1211117639,1093677895,1093677894,1096904043,1093812553,1093681996)
call O97(1211117643,1093684818,1093678664,1093678410,1093678658,1093681483)
call O97(1429221431,1093683793,1096904043,1093678681,1093677381,1093677624)
call O97(1212363833,1096904043,1093815125,1093809220,1093678643,1093678933)
call O97(1430466609,1096904043,1093685559,1093684549,1093678145,1093810258)
call O97(1212365106,1096904043,1093682266,1093684025,1093677130,1093685831)
call O97(1429221432,1096904043,1093677893,1093687878,1093679411,1093677892)
call O97(1311781199,1093684818,1093681461,1093681464,1093748038,1093681479)
call O97(1429221424,1096904043,1093687351,1093679445,1093748789,1093815119)
call O97(1311781171,1093684818,1093681461,1093681464,1093748038,1093681479)
call O97(1211117616,1096904043,1093816142,1093677142,1093677139,1093816118)
call O97(1328558160,1093682998,0,1093684818,1093684056,1093682766)
call O97(1430466865,1096904043,1093677651,1093677879,1093751364,1093810508)
call O97(1211117638,1093677895,1093677894,1096904043,1093812553,1093681996)
call O97(1430468144,1093684818,1093679192,1093750341,1093686872,1093750337)
call O97(1429221441,1093677903,1093677902,1093685847,1093678389,1096904043)
call O97(1160785972,1093678161,1093677621,1093677872,1096904043,1095263841)
call O97(1328558154,1096904043,1093750840,1093682996,1093682997,1093682515)
call O97(1211117640,1096904043,1093679428,1093684564,1093681989,1093681987)
call O97(1429221445,1093678647,1093678422,1093678640,1093677390,1096904043)
call O97(1430468406,1093677635,1096904043,1093677645,1093685302,1093678899)
call O97(1430468913,1096904043,1093678403,1093810507,1093683786,1093677876)
call O97(1160785973,1093678642,1093678130,1093678388,1096904043,1093678129)
call O97(1211117617,1096904043,1093744944,1093677387,1093814611,1093752648)
call O97(1311781172,1093684818,1093681461,1093681464,1093748038,1093681479)
call O97(1211117624,1093682774,1093684531,1093683024,1093682775,1096904043)
call O97(1211117654,1093747028,1093682994,1093684560,1093747504,1096904043)
call O97(1311781185,1093684314,1093815892,1093743692,1093684275,1096904043)
call O97(1211117620,1096904043,1093677382,1093677623,1093744728,1093677392)
call O97(1429221446,1093678665,1093678660,1093682764,1093678667,1096904043)
call O97(1311781173,1093684818,1093681461,1093681464,1093748038,1093681479)
call O97(1211117633,1093684310,1093810260,1093684308,1096904043,1093684045)
call O97(1160786241,1093684815,1093684813,1093684820,1093684805,1096904043)
call O97(1160786242,1093682776,1093684801,1093683287,1093683257,1096904043)
call O97(1211117636,1093685071,1093685041,1096904043,1093681732,1093685042)
call O97(1160786000,1093685047,1093685046,1093685048,1093685045,1096904043)
call O97(1429221456,1096904043,1093685067,1093685066,1093685065,1093683526)
call O97(1160786243,1093683765,1093681491,1093678672,1395667000,1096904043)
call O97(1311781192,1096904043,0,1093683532,1093685043,1095656306)
call O97(1311781193,1096904043,0,1093683532,1093685043,1095656306)
call O97(1311781194,1096904043,0,1093683532,1093685043,1095656306)
call O97(1311781204,1096904043,0,1093683532,1093685043,1095656306)
call O97(1311781206,1093684280,1093684302,1093684054,1096904043,1093684053)
call O97(1211117641,1096904043,1093684792,1093684802,1093684791,1093684567)
call O97(1211117642,1096904043,1093684792,1093684802,1093684791,1093684567)
call O97(1311781207,1093742668,1093685074,1093742673,1096904043,1093684817)
call O97(1311781442,1096904043,1093681733,1093808460,1093685040,1093748042)
call O97(1211117646,1093685579,1093685815,1093685575,1096904043,1093685573)
call O97(1211117649,1093685586,1093685585,1093685582,1093685584,1096904043)
call O97(1311780946,1096904043,1093685825,1093677385,0,1095328612)
call O97(1211117650,1093743955,1093685813,1093743958,1093743946,1093684818)
call O97(1211117651,1093743698,1093743696,1093743695,1096904043,1093685591)
call O97(1160786265,1093685840,1093685839,1093748033,1096904043,1093685846)
call O97(1311780930,1093686072,1093686083,1093686082,1093686073,1096904043)
call O97(1429221443,1093686103,1096904043,1093686099,1093686322,1093744948)
call O97(1211117653,1093808473,1093808472,1093808471,1093808470,0)
call O97(1160786256,1096904043,1093684057,1093677618,1095066220,1093682483)
call O97(1160786481,1096904043,1093684057,1093677618,1095066220,1093682483)
call O97(1160786483,1096904043,1093684057,1093677618,1095066220,1093682483)
call O97(1160786484,1096904043,1093684057,1093677618,1095066220,1093682483)
call O97(1211117652,1093687864,1093687862,1093687861,1096904043,1093687860)
call O97(1211119187,1093743414,1093743444,0,1093742923,1096904043)
call O97(1211119191,0,1093742680,1093742932,1093742898,1093684818)
call O97(1211119192,0,1093742680,1093742932,1093742898,1093684818)
call O97(1211119193,0,1093742680,1093742932,1093742898,1093684818)
call O97(1211119409,1093749069,1093748818,1096904043,1093749070,1093749303)
call O97(1311786311,1093743184,1093743179,1093743689,1096904043,1093743178)
call O97(1311786313,1093743184,1093743179,1093743408,1096904043,1093743178)
call O97(1311786314,1093743184,1093743179,1093743408,1096904043,1093743178)
call O97(1311786315,1093743184,1093743179,1093743408,1096904043,1093743178)
call O97(1311786317,1093743184,1093743179,1093743408,1096904043,1093743178)
call O97(1211119433,1093743955,1093743958,1093685813,1093743946,1093684818)
call O97(1328558389,1093747524,1093747009,0,1093746993,1096904043)
call O97(1328558390,1093748044,1093744982,1093744986,1093744975,1093684818)
call O97(1328558391,1093748044,1093744982,1093744986,1093744975,1093684818)
call O97(1211119668,1093747028,1093682994,1093684560,1093747504,1096904043)
call O97(1211119682,1093747028,1093682994,1093684560,1093747504,1096904043)
call O97(1211119683,1093747028,1093682994,1093684560,1093747504,1096904043)
call O97(1211119684,1093747028,1093682994,1093684560,1093747504,1096904043)
call O97(1311787088,1096904043,1093748819,1093750087,0,1093748817)
call O97(1311787092,1096904043,0,1093683532,1093685043,1095656306)
call O97(1211122243,0,1093742680,1093742932,1093742898,1093684818)
call O97(1160786502,1093684818,0,1093751371,0,0)
call O97(1160786503,1097885816,0,0,0,0)
call O97(1160786504,1096904043,1093751604,1093751608,1093751617,1093751618)
call O97(1160786505,1096904043,1093753167,1093753169,1093751607,1093753170)
call O97(1160786506,1096904043,1093751637,1093751894,1093751639,1093752118)
call O97(1160786507,1096904043,1093813065,1093813593,1093814834,1093814850)
call O97(1160786508,1096904043,1093684057,1093677618,1095066220,1093682483)
call O97(1160786509,1096904043,1093684057,1093677618,1095066220,1093682483)
call O97(1160786510,1096904043,1093751631,1093751633,1093808697,1093751861)
call O97(1328558406,1093684818,1093751864,0,1093751874,1093810257)
call O97(1160786511,1096904043,1093751631,1093751633,1093808697,1093751861)
call O97(1160786517,1096904043,1093678929,1093751369,1093815130,1093683252)
call O97(1160786518,1096904043,1093678929,1093751369,1093815130,1093683252)
call O97(1160786519,1096904043,1093678929,1093751369,1093815130,1093683252)
call O97(1211122513,1096904043,1093744944,1093677387,1093814611,1093752648)
call O97(1160786520,1093684818,0,1093809991,1093809992,1093810006)
call O97(1311788336,1096904043,1093814320,1093814323,1093814355,0)
call O97(1311788338,1096904043,1093812534,1093812536,1093812537,1093812545)
call O97(1211122764,1096904043,1093812803,1093812788,1093812789,1093812790)
call O97(1211122767,1096904043,1093812805,1093814350,1093812807,1093814612)
call O97(1160786737,1096904043,1093813335,1093813336,1093813338,1093813552)
call O97(1160786738,1096904043,1093813835,1093813555,1093813556,0)
call O97(1311788343,1096904043,1093815361,1093815362,1093687856,1093815877)
call O97(1311788345,1096904043,1093813573,1093813808,1093813812,1093813813)
call O97(1311788353,1096904043,1093815361,1093815362,1093687856,1093815877)
call O97(1311788356,1096904043,1093813844,1093813583,1093813841,1093813836)
call O97(1311788360,1096904043,1093814320,1093814323,1093814355,0)
call O97(1211122993,1096904043,1093814337,1093814338,1093814340,1093814343)
call O97(1211122995,1096904043,1093814337,1093814338,1093814340,1093814343)
call O97(1211122996,1096904043,1093814337,1093814338,1093814340,1093814343)
call O97(1211122997,1096904043,1093814337,1093814338,1093814340,1093814343)
call O97(1429221720,1093744977,1093682009,1096904043,1093684300,1093681754)
call O97(1311788363,1096904043,1093815372,1093815373,1093815600,1093815601)
call O97(1311788365,1096904043,1093815372,1093815373,1093815600,1093815601)
call O97(1311788354,1096904043,1093815361,1093815362,1093687856,1093815877)
call O97(1311788355,1096904043,1093815361,1093815362,1093687856,1093815877)
call O97(1311788367,1096904043,1093815361,1093815362,1093687856,1093815877)
endfunction
function GetLastEnumedGroup takes nothing returns group
return NP7
endfunction
function OH7 takes real OI7,location OJ7,boolexpr OK7 returns group
set NP7=CreateGroup()
call GroupEnumUnitsInRangeOfLoc(NP7,OJ7,OI7,OK7)
if OK7!=null then
call DestroyBoolExpr(OK7)
endif
return NP7
endfunction
function OM7 takes rect r,boolexpr OK7 returns group
set NP7=CreateGroup()
call GroupEnumUnitsInRect(NP7,r,OK7)
if OK7!=null then
call DestroyBoolExpr(OK7)
endif
return NP7
endfunction
function ON7 takes rect r,player OO7 returns group
set NP7=CreateGroup()
set bj_groupEnumOwningPlayer=OO7
call GroupEnumUnitsInRect(NP7,r,filterGetUnitsInRectOfPlayer)
return NP7
endfunction
function OP7 takes player OO7,boolexpr OK7 returns group
set NP7=CreateGroup()
call GroupEnumUnitsOfPlayer(NP7,OO7,OK7)
if OK7!=null then
call DestroyBoolExpr(OK7)
endif
return NP7
endfunction
function OQ7 takes player OO7,integer OR7 returns group
set NP7=CreateGroup()
set bj_groupEnumTypeId=OR7
call GroupEnumUnitsOfPlayer(NP7,OO7,filterGetUnitsOfPlayerAndTypeId)
return NP7
endfunction
function OS7 takes nothing returns boolean
local integer OT7=LoadInteger(M_7,NH7,M57)-1
local unit OU7
local real OV7
set NI7=0
loop
exitwhen NI7>OT7
if NG7-LoadReal(M_7,NH7,NI7)>2.5 or IsUnit(LoadUnitHandle(M_7,NH7,NI7),null)then
set OU7=LoadUnitHandle(M_7,NH7,OT7)
set OV7=LoadReal(M_7,NH7,OT7)
call RemoveSavedBoolean(M_7,NH7,GetHandleId(LoadUnitHandle(M_7,NH7,NI7)))
call RemoveSavedInteger(M_7,NH7,GetHandleId(LoadUnitHandle(M_7,NH7,NI7)))
call SaveUnitHandle(M_7,NH7,NI7,OU7)
call SaveReal(M_7,NH7,NI7,OV7)
call RemoveSavedHandle(M_7,NH7,OT7)
call RemoveSavedReal(M_7,NH7,OT7)
call SaveInteger(M_7,NH7,GetHandleId(OU7),NI7)
call SaveInteger(M_7,NH7,M57,OT7)
set OT7=OT7-1
endif
set NI7=NI7+1
endloop
set OU7=null
return OT7==-1
endfunction
function OW7 takes nothing returns boolean
local integer OT7=LoadInteger(M_7,NH7,M07)-1
local integer OX7=OT7+M27
local unit OU7
local real OV7
set NI7=M27
loop
exitwhen NI7>OX7
if NG7-LoadReal(M_7,NH7,NI7)>=5 or IsUnit(LoadUnitHandle(M_7,NH7,NI7),null)then
set OU7=LoadUnitHandle(M_7,NH7,OT7)
set OV7=LoadReal(M_7,NH7,OT7)
call RemoveSavedBoolean(M_7,NH7,M27+GetHandleId(LoadUnitHandle(M_7,NH7,NI7)))
call RemoveSavedInteger(M_7,NH7,M27+GetHandleId(LoadUnitHandle(M_7,NH7,NI7)))
call SaveUnitHandle(M_7,NH7,NI7,OU7)
call SaveReal(M_7,NH7,NI7,OV7)
call RemoveSavedHandle(M_7,NH7,OT7)
call RemoveSavedReal(M_7,NH7,OT7)
call SaveInteger(M_7,NH7,GetHandleId(OU7),NI7)
call SaveInteger(M_7,NH7,M07,OT7)
set OT7=OT7-1
endif
set NI7=NI7+1
endloop
set OU7=null
return OT7==-1
endfunction
function OY7 takes boolean do returns nothing
if do then
call FlushChildHashtable(M_7,NH7)
set N47[NE7]=N47[ND7-1]
set N77[NE7]=N77[ND7-1]
set N47[ND7-1]=null
set N77[ND7-1]=0
endif
endfunction
function OZ7 takes nothing returns nothing
call OY7(OS7())
endfunction
function OA7 takes nothing returns nothing
call OY7(OW7())
endfunction
function OB7 takes nothing returns boolean
set NF7=NF7+1
set NE7=0
set NG7=TimerGetElapsed(W)
loop
exitwhen NE7>ND7
set NH7=GetHandleId(N47[NE7])
if IsUnit(N47[NE7],null)or GetWidgetLife(N47[NE7])<=0.405 then
call OY7(true)
else
if N77[NE7]==N97 then
call ExecuteFunc("OZ7")
elseif N77[NE7]==N87 and NF7-NF7/2*2==0 then
call ExecuteFunc("OA7")
endif
endif
set NE7=NE7+1
endloop
return false
endfunction
function OC7 takes unit O37,unit O67 returns nothing
local integer OL7=GetHandleId(O37)
local integer OT7
local integer O17=GetHandleId(O67)
if not LoadBoolean(M_7,OL7,O17+M27)then
set OT7=LoadInteger(M_7,OL7,M07)
if OT7==0 then
set N47[ND7]=(O37)
set N77[ND7]=N87
set ND7=ND7+1
endif
call SaveUnitHandle(M_7,OL7,M27+OT7,O67)
call SaveInteger(M_7,OL7,M07,OT7+1)
call SaveBoolean(M_7,OL7,O17+M27,true)
call SaveInteger(M_7,OL7,O17+M27,OT7)
else
set OT7=LoadInteger(M_7,OL7,O17+M27)
endif
call SaveReal(M_7,OL7,M27+OT7,TimerGetElapsed(W))
endfunction
function O07 takes unit O67,unit O37 returns nothing
local integer OL7=GetHandleId(O67)
local integer OT7
local integer O17=GetHandleId(O37)
if not LoadBoolean(M_7,OL7,O17)then
set OT7=LoadInteger(M_7,OL7,M57)
if OT7==0 then
set N47[ND7]=(O67)
set ND7=ND7+1
endif
call SaveUnitHandle(M_7,OL7,OT7,O37)
call SaveInteger(M_7,OL7,M57,OT7+1)
call SaveBoolean(M_7,OL7,O17,true)
call SaveInteger(M_7,OL7,O17,OT7)
else
set OT7=LoadInteger(M_7,OL7,O17)
endif
call SaveReal(M_7,OL7,OT7,TimerGetElapsed(W))
endfunction
function O57 takes nothing returns boolean
local unit O27
local unit O_7
local integer pointerid
set O27=GetAttacker()
set O_7=GetTriggerUnit()
call OC7(O_7,O27)
call O07(O27,O_7)
set O27=null
set O_7=null
return false
endfunction
function P47 takes unit P77 returns nothing
local trigger t=null
if IsUnit(P77,null)==false then
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,P77,EVENT_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function O57))
set t=null
endif
endfunction
function P87 takes unit P97 returns integer
return LoadInteger(M_7,GetHandleId(P97),M07)
endfunction
function PD7 takes unit P97 returns boolean
local integer i
local integer OX7
local integer O17
if LoadInteger(M_7,GetHandleId(P97),M07)==0 then
return false
endif
set i=M27
set OX7=M27+LoadInteger(M_7,GetHandleId(P97),M07)
set O17=GetHandleId(P97)
loop
exitwhen i>=OX7
if IsUnitType(LoadUnitHandle(M_7,O17,i),UNIT_TYPE_HERO)==true or IsUnitType(LoadUnitHandle(M_7,O17,i),UNIT_TYPE_STRUCTURE)==true then
return true
endif
set i=i+1
endloop
return false
endfunction
function PE7 takes unit P97 returns boolean
local integer i
local integer OX7
local integer O17
if LoadInteger(M_7,GetHandleId(P97),M57)==0 then
return false
endif
set i=0
set OX7=LoadInteger(M_7,GetHandleId(P97),M57)
set O17=GetHandleId(P97)
loop
exitwhen i>=OX7
if IsUnitType(LoadUnitHandle(M_7,O17,i),UNIT_TYPE_HERO)==true or IsUnitType(LoadUnitHandle(M_7,O17,i),UNIT_TYPE_STRUCTURE)==true then
return true
endif
set i=i+1
endloop
return false
endfunction
function PF7 takes nothing returns nothing
local integer i=0
call TriggerRegisterTimerEvent(M17,0.5,true)
call TriggerAddCondition(M17,Condition(function OB7))
loop
exitwhen i>1024
set N47[i]=null
set N77[i]=0
set i=i+1
endloop
endfunction
function PG7 takes nothing returns nothing
call P47(JG4)
call P47(JH4)
call P47(JI4)
call P47(JJ4)
call P47(JK4)
call P47(JM4)
call P47(JN4)
call P47(JO4)
call P47(JP4)
call P47(JQ4)
call P47(JR4)
call P47(J64)
call P47(JL4)
call P47(J14)
call P47(J04)
call P47(J54)
call P47(J24)
call P47(J_4)
call P47(K44)
call P47(K74)
call P47(K84)
call P47(K94)
endfunction
function PH7 takes unit PI7 returns real
return GetWidgetLife(PI7)*hq[752+GetPlayerId(GetOwningPlayer(PI7))]
endfunction
function PJ7 takes unit PI7,real PK7,real PM7,integer PN7 returns boolean
if PN7==NU7 then
return GetUnitManaPercent(PI7)>=PK7 or GetUnitState(PI7,UNIT_STATE_MANA)>=PM7
endif
return GetUnitManaPercent(PI7)<=PK7 or GetUnitState(PI7,UNIT_STATE_MANA)<=PM7
endfunction
function PO7 takes unit PI7,real PP7,real PQ7,integer PN7 returns boolean
if PN7==NU7 then
return GetUnitManaPercent(PI7)>=PP7 or GetUnitState(PI7,UNIT_STATE_MANA)>=PQ7
endif
return GetUnitManaPercent(PI7)<=PP7 or GetUnitState(PI7,UNIT_STATE_MANA)<=PQ7
endfunction
function PR7 takes unit a,unit b returns real
return bj_RADTODEG*Atan2(GetUnitY(b)-GetUnitY(a),GetUnitX(b)-GetUnitX(a))
endfunction
function PS7 takes real x1,real y1,real x2,real y2 returns real
return bj_RADTODEG*Atan2(y2-y1,x2-x1)
endfunction
function PT7 takes player pl returns string
if(Z84[GetPlayerId(pl)]==ZD4)then
return"E "
elseif(Z84[GetPlayerId(pl)]==ZE4)then
return"N "
else
return"I "
endif
endfunction
function PU7 takes player p returns nothing
if GetAIDifficulty(p)==AI_DIFFICULTY_NEWBIE then
set Z84[GetPlayerId(p)]=ZD4
elseif GetAIDifficulty(p)==AI_DIFFICULTY_NORMAL then
set Z84[GetPlayerId(p)]=ZE4
elseif GetAIDifficulty(p)==AI_DIFFICULTY_INSANE then
set Z84[GetPlayerId(p)]=ZF4
else
set Z84[GetPlayerId(p)]=Z94
endif
endfunction
function PV7 takes boolean PW7,unit PX7,unit PY7 returns unit
if PW7 then
return PX7
else
return PY7
endif
return null
endfunction
function PZ7 takes boolean PW7,integer PA7,integer PB7 returns integer
if PW7 then
return PA7
else
return PB7
endif
return 0
endfunction
function PC7 takes boolean PW7,string P37,string P67 returns string
if PW7 then
return P37
else
return P67
endif
return""
endfunction
function PL7 takes boolean PW7,real PA7,real PB7 returns real
if PW7 then
return PA7
else
return PB7
endif
return 0.
endfunction
function P17 takes location b returns boolean
return(GetLocationX(b)!=0 or GetLocationY(b)!=0)
endfunction
function P07 takes location b,real x,real y returns location
if x==0 then
set x=0.01
endif
if y==0 then
set y=0.01
endif
call MoveLocation(b,x,y)
return b
endfunction
function P57 takes location b,unit O37 returns location
local real x=GetWidgetX(O37)
local real y=GetWidgetY(O37)
if IsUnitType(O37,UNIT_TYPE_DEAD)==true or IsUnit(O37,null)then
call MoveLocation(b,0,0)
return b
endif
if x==0 then
set x=0.01
endif
if y==0 then
set y=0.01
endif
call MoveLocation(b,x,y)
return b
endfunction
function P27 takes nothing returns nothing
set NA7=GetRectMinX(GetWorldBounds())
set NB7=GetRectMinY(GetWorldBounds())
endfunction
function P_7 takes nothing returns nothing
set NC7=GetRectMaxX(GetWorldBounds())
set N37=GetRectMaxY(GetWorldBounds())
endfunction
function Q47 takes nothing returns nothing
call P27()
call P_7()
endfunction
function aiGetGroupMaxXCallBack_Loop takes nothing returns nothing
local real x=GetUnitX(GetEnumUnit())
if x>=NA7 then
set NA7=x
endif
endfunction
function aiGetGroupMaxYCallBack_Loop takes nothing returns nothing
local real y=GetUnitY(GetEnumUnit())
if y>=NB7 then
set NB7=y
endif
endfunction
function aiGetGroupMinXCallBack_Loop takes nothing returns nothing
local real x=GetUnitX(GetEnumUnit())
if x<=NC7 then
set NC7=x
endif
endfunction
function aiGetGroupMinYCallBack_Loop takes nothing returns nothing
local real y=GetUnitY(GetEnumUnit())
if y<=N37 then
set N37=y
endif
endfunction
function Q77 takes nothing returns nothing
local real y=GetUnitY(GetEnumUnit())
local real x=GetUnitX(GetEnumUnit())
if x>=NA7 then
set NA7=x
endif
if y>=NB7 then
set NB7=y
endif
endfunction
function Q87 takes nothing returns nothing
local real x=GetUnitX(GetEnumUnit())
local real y=GetUnitY(GetEnumUnit())
if x<=NC7 then
set NC7=x
endif
if y<=N37 then
set N37=y
endif
endfunction
function Q97 takes nothing returns nothing
local real x=GetUnitX(GetEnumUnit())
local real y=GetUnitY(GetEnumUnit())
set N17=N17+1
set N07=N07+x
set N57=N57+y
if O77 then
set N27[O47]=x
set N27[O47]=y
set O47=O47+1
endif
endfunction
function aiGetGroupExtremumXY_Loop takes nothing returns nothing
call CommentString("tired")
endfunction
function QO7 takes unit QP7,real OI7,boolexpr Ig,boolean QQ7 returns location
local real x=GetUnitX(QP7)
local real y=GetUnitY(QP7)
if IsUnit(QP7,null)then
return null
endif
call GroupClear(NL7)
call GroupEnumUnitsInRange(NL7,x,y,OI7,Ig)
call Q47()
call ForGroup(NL7,function Q77)
call ForGroup(NL7,function Q87)
if QQ7 then
call DestroyBoolExpr(Ig)
endif
call P07(N67,(NA7+NC7)*.5,(NB7+N37)*.5)
return N67
endfunction
function QR7 takes nothing returns nothing
local integer i=0
loop
exitwhen i>120
set N27[i]=0.
set N_7[i]=0.
set i=i+1
endloop
endfunction
function QS7 takes nothing returns nothing
call ExecuteFunc("QR7")
set N67=Location(0,0)
set O47=0
set NL7=CreateGroup()
call Q47()
endfunction
function QT7 takes integer QU7 returns integer
if(QU7==1212363833 or QU7==1212365106 or QU7==1311781199 or QU7==1315070563 or QU7==1215657064 or QU7==1332179560 or QU7==1160785973 or QU7==1311781174 or QU7==1315074670 or QU7==1164277353 or QU7==1429221430 or QU7==1165451634 or QU7==1160785972 or QU7==1162032181 or QU7==1162032951 or QU7==1315334514 or QU7==1215722344 or QU7==1160786242 or QU7==1211117641 or QU7==1211119409)then
return E27
endif
if(QU7==1215723364 or QU7==1328558160 or QU7==1211117617 or QU7==1212363833 or QU7==1212365106 or QU7==1311781199 or QU7==1315070563 or QU7==1215657064 or QU7==1332179560 or QU7==1160785973 or QU7==1433631084 or QU7==1211117624 or QU7==1315007329 or QU7==1215063922 or QU7==1164207469 or QU7==1315074670 or QU7==1211117636 or QU7==1311781206 or QU7==1211117649 or QU7==1160786265 or QU7==1211117652 or QU7==1211119187 or QU7==1164277353 or QU7==1162032439 or QU7==1430466865 or QU7==1429221441 or QU7==1429221432 or QU7==1429221430 or QU7==1211117654 or QU7==1432646245 or QU7==1430467634 or QU7==1429221424 or QU7==1430468913 or QU7==1162032181 or QU7==1162032951 or QU7==1160785970 or QU7==1429221443 or QU7==1328558154 or QU7==1432510828 or QU7==1315334514 or QU7==1429221451 or QU7==1215722344 or QU7==1160786242 or QU7==1211117641 or QU7==1211119409 or QU7==1160786505 or QU7==1160786510 or QU7==1311788336 or QU7==1160786507)then
return E_7
endif
if(QU7==1211117617 or QU7==1214344551 or QU7==1211117624 or QU7==1315988077 or QU7==1211117616 or QU7==1215063922 or QU7==1311781193 or QU7==1211119187 or QU7==1430466865 or QU7==1429221441 or QU7==1429221432 or QU7==1313026096 or QU7==1429221443 or QU7==1332109682 or QU7==1429221446 or QU7==1332766568 or QU7==1432642913 or QU7==1211117650 or QU7==1328558389 or QU7==1328558406 or QU7==1160786502 or QU7==1160786507 or QU7==1160786738)then
return F47
endif
if(QU7==1164799855 or QU7==1333027688 or QU7==1311781185 or QU7==1433105516 or QU7==1214409837 or QU7==1215130471 or QU7==1164799603 or QU7==1432580716 or QU7==1211117633 or QU7==1332898670 or QU7==1214345830 or QU7==1160786000 or QU7==1311780930 or QU7==1311786311 or QU7==1430466872 or QU7==1430468144 or QU7==1430466609 or QU7==1211117640 or QU7==1332963428 or QU7==1429221445 or QU7==1160786241 or QU7==1429221456 or QU7==1160786243 or QU7==1311781207 or QU7==1311780946 or QU7==1211117646 or QU7==1211117653 or QU7==1311787088 or QU7==1328558390 or QU7==1160786506 or QU7==1160786504)then
return F77
endif
if(QU7==1215128178 or QU7==1164799855 or QU7==1214931305 or QU7==1211117620 or QU7==1215130471 or QU7==1316252014 or QU7==1211117643 or QU7==1160786000 or QU7==1211117651 or QU7==1164666213 or QU7==1433168227 or QU7==1430468406 or QU7==1430466872 or QU7==1211117640 or QU7==1332963428 or QU7==1160786241 or QU7==1429221456 or QU7==1211117653 or QU7==1160786520 or QU7==1432580716 or(QU7==1429221720)or QU7==1211122767)then
return F87
endif
if((QU7==1215128178)or(QU7==1211117620)or(QU7==1215130471)or(QU7==1316252014)or(QU7==1332898670)or(QU7==1160786000)or(QU7==1433168227)or(QU7==1430466872)or(QU7==1430466609)or(QU7==1211117640)or(QU7==1211117653)or(QU7==1311787088)or(QU7==1211122767))then
return F97
endif
if(QU7==1164799855)or(QU7==1433105516)or(QU7==1214409837)or(QU7==1164799603)or(QU7==1432580716)or(QU7==1429221720)or(QU7==1211117643)or(QU7==1211117633)or(QU7==1332898670)or(QU7==1211117616)or(QU7==1315074670)or(QU7==1160786000)or(QU7==1164666213)or(QU7==1430468406)or(QU7==1162032439)or(QU7==1429221432)or(QU7==1429221430)or(QU7==1211117640)or(QU7==1160786243)or(QU7==1429221445)or(QU7==1311780946)or(QU7==1211117620)or(QU7==1211117636)or(QU7==1332179560)or(QU7==1429221441)then
return FD7
endif
return 0
endfunction
function QV7 takes integer QU7,integer QW7 returns boolean
if QW7==0 then
return true
elseif QW7==E27 and(QU7==1212363833 or QU7==1212365106 or QU7==1311781199 or QU7==1315070563 or QU7==1215657064 or QU7==1332179560 or QU7==1160785973 or QU7==1311781174 or QU7==1315074670 or QU7==1164277353 or QU7==1429221430 or QU7==1165451634 or QU7==1160785972 or QU7==1162032181 or QU7==1162032951 or QU7==1315334514 or QU7==1215722344 or QU7==1160786242 or QU7==1211117641 or QU7==1211119409)then
return true
elseif QW7==E_7 and(QU7==1215723364 or QU7==1328558160 or(QU7==1429221720)or QU7==1211117617 or QU7==1212363833 or QU7==1212365106 or QU7==1311781199 or QU7==1315070563 or QU7==1215657064 or QU7==1332179560 or QU7==1160785973 or QU7==1433631084 or QU7==1211117624 or QU7==1315007329 or QU7==1215063922 or QU7==1164207469 or QU7==1315074670 or QU7==1211117636 or QU7==1311781206 or QU7==1211117649 or QU7==1160786265 or QU7==1211117652 or QU7==1211119187 or QU7==1164277353 or QU7==1162032439 or QU7==1430466865 or QU7==1429221441 or QU7==1429221432 or QU7==1429221430 or QU7==1211117654 or QU7==1432646245 or QU7==1430467634 or QU7==1429221424 or QU7==1430468913 or QU7==1162032181 or QU7==1162032951 or QU7==1160785970 or QU7==1429221443 or QU7==1328558154 or QU7==1432510828 or QU7==1315334514 or QU7==1429221451 or QU7==1215722344 or QU7==1160786242 or QU7==1211117641 or QU7==1211119409 or QU7==1160786505 or QU7==1160786510 or QU7==1311788336 or QU7==1160786507)then
return true
elseif QW7==F47 and(QU7==1211117617 or QU7==1214344551 or QU7==1432580716 or(QU7==1429221720)or QU7==1211117624 or QU7==1315988077 or QU7==1211117616 or QU7==1215063922 or QU7==1311781193 or QU7==1211119187 or QU7==1430466865 or QU7==1429221441 or QU7==1429221432 or QU7==1313026096 or QU7==1429221443 or QU7==1332109682 or QU7==1429221446 or QU7==1332766568 or QU7==1432642913 or QU7==1211117650 or QU7==1328558389 or QU7==1328558406 or QU7==1160786502 or QU7==1160786738)then
return true
elseif QW7==F77 and(QU7==1164799855 or QU7==1333027688 or QU7==1311781185 or QU7==1433105516 or QU7==1214409837 or QU7==1215130471 or QU7==1164799603 or QU7==1432580716 or(QU7==1429221720)or QU7==1211117633 or QU7==1332898670 or QU7==1214345830 or QU7==1160786000 or QU7==1311780930 or QU7==1311786311 or QU7==1430466872 or QU7==1430468144 or QU7==1430466609 or QU7==1211117640 or QU7==1332963428 or QU7==1429221445 or QU7==1160786241 or QU7==1429221456 or QU7==1160786243 or QU7==1311781207 or QU7==1311780946 or QU7==1211117646 or QU7==1211117653 or QU7==1311787088 or QU7==1328558390 or QU7==1160786506 or QU7==1160786504)then
return true
elseif QW7==F87 and(QU7==1215128178 or QU7==1164799855 or QU7==1214931305 or QU7==1211117620 or QU7==1215130471 or QU7==1316252014 or QU7==1211117643 or QU7==1160786000 or QU7==1211117651 or QU7==1164666213 or QU7==1433168227 or QU7==1430468406 or QU7==1430466872 or QU7==1211117640 or QU7==1332963428 or QU7==1160786241 or QU7==1429221456 or QU7==1211117653 or QU7==1160786520 or QU7==1432580716 or(QU7==1429221720)or QU7==1211122767)then
return true
elseif QW7==F97 and(((QU7==1215128178)or(QU7==1211117620)or(QU7==1215130471)or(QU7==1316252014)or(QU7==1332898670)or(QU7==1160786000)or(QU7==1433168227)or(QU7==1430466872)or(QU7==1430466609)or(QU7==1211117640)or(QU7==1211117653)or(QU7==1311787088)or(QU7==1211122767)))then
return true
elseif QW7==FD7 and((QU7==1164799855)or(QU7==1433105516)or(QU7==1214409837)or(QU7==1164799603)or(QU7==1432580716)or(QU7==1429221720)or(QU7==1211117643)or(QU7==1211117633)or(QU7==1332898670)or(QU7==1211117616)or(QU7==1315074670)or(QU7==1160786000)or(QU7==1164666213)or(QU7==1430468406)or(QU7==1162032439)or(QU7==1429221432)or(QU7==1429221430)or(QU7==1211117640)or(QU7==1160786243)or(QU7==1429221445)or(QU7==1311780946)or(QU7==1211117620)or(QU7==1211117636)or(QU7==1332179560)or(QU7==1429221441))then
return true
endif
return false
endfunction
function QX7 takes integer QU7 returns integer
if(QU7==1211117620 or QU7==1214409837 or QU7==1432580716 or QU7==1429221720 or QU7==1211117643 or QU7==1160786000 or QU7==1164666213 or QU7==1430468406 or QU7==1211117640 or QU7==1332766568 or QU7==1311780946 or QU7==1211122767)then
return 1
endif
if(QU7==1214931305 or QU7==1333027688 or QU7==1215130471 or QU7==1316252014 or QU7==1164799603 or QU7==1332898670 or QU7==1433168227 or QU7==1430466872 or QU7==1429221445 or QU7==1160786241 or QU7==1211117650 or QU7==1211117646 or QU7==1211117653 or QU7==1160786506 or QU7==1160786507)then
return 2
endif
if(QU7==1215723364 or QU7==1164799855 or QU7==1212365106 or QU7==1311781185 or QU7==1214344551 or QU7==1215657064 or QU7==1211117633 or QU7==1315007329 or QU7==1215063922 or QU7==1164207469 or QU7==1315074670 or QU7==1211117649 or QU7==1160786265 or QU7==1211117652 or QU7==1429221441 or QU7==1165451634 or QU7==1432646245 or QU7==1430467634 or QU7==1332963428 or QU7==1429221446 or QU7==1160786243)then
return 4
endif
return 3
endfunction
function QY7 takes integer QZ7,boolean QA7 returns string
if QZ7==0 then
return GetObjectName(1498169649)
elseif QZ7==1 then
return GetObjectName(1498169650)
elseif QZ7==2 then
return GetObjectName(1498169651)
elseif QZ7==3 and QA7 then
return GetObjectName(1498169652)
elseif QZ7==4 and QA7 then
return GetObjectName(1498169653)
endif
return""
endfunction
function QB7 takes boolean QC7 returns integer
local integer Q37=PZ7(QC7,0,24)
local integer Q67=0
local integer k=0
local integer j
local integer i=-1
loop
exitwhen Q67>3
if Q67==0 then
set j=3
else
set j=Q67-1
endif
if EC7[Q37+8+j]>0 then
if EC7[Q37+12+j]==0 then
set i=j
exitwhen true
elseif EC7[Q37+8+j]>k or(EC7[Q37+8+j]==k and GetRandomInt(1,5-Q67)==1)then
set i=j
set k=EC7[Q37+8+j]
endif
endif
set Q67=Q67+1
endloop
return i
endfunction
function QL7 takes unit it returns real
local integer i1=GetUnitTypeId(it)
if(i1==1433631084)then
return 550.+I2R(75*GetUnitAbilityLevel(it,1093677909))
elseif((i1==1211117616)or(i1==1214345830)or(i1==1315988077)or(i1==1214344551)or(i1==1211117624)or(i1==1328558154)or(i1==1429221443)or(i1==1429221432)or(i1==1432646245)or(i1==1311780946)or(i1==1430468913)or(i1==1211117650)or(i1==1164207469)or(i1==1315070563)or(i1==1212363833)or(i1==1332179560)or(i1==1211117641)or(i1==1215657064)or(i1==1215722344)or(i1==1165451634)or(i1==1164277353)or(i1==1160786242)or(i1==1215130471))then
return 100.
elseif((i1==1211117652)or(i1==1212365106))then
return 125.
elseif((i1==1211119187)or(i1==1333027688)or(i1==1311781193)or(i1==1429221451)or(i1==1429221446)or(i1==1315007329)or(i1==1162032181)or(i1==1429221424)or(i1==1328558389)or(i1==1211119409)or(i1==1160786505)or(i1==1311788336)or(i1==1160786507)or(i1==1160786738))then
return 128.
elseif((i1==1430467634)or(i1==1432642913)or(i1==1215063922))then
return 150.
elseif((i1==1211117636)or(i1==1211117617)or(i1==1432580716)or(i1==1429221720)or(i1==1430466865)or(i1==1332109682)or(i1==1332766568)or(i1==1429221441)or(i1==1313026096)or(i1==1211117646))then
return 200.
elseif(i1==1429221430)then
return 250.
elseif((i1==1328558160)or(i1==1215128178))then
return 350.
elseif((i1==1211117649)or(i1==1160786000))then
return 400.
elseif(i1==1432510828)or(i1==1311788343)then
return 425.
elseif((i1==1162032439)or(i1==1429221456))then
return 450.
elseif(i1==1160785970)then
return 475.
elseif(i1==1211117651)then
return 480.
elseif((i1==1315334514)or(i1==1316252014)or(i1==1332898670)or(i1==1311781207))then
return 500.
elseif(i1==1311781199)or(i1==1164799855)or(i1==1430466609)or(i1==1311780930)then
return 550.
elseif(i1==1162032951)then
return 575.
elseif((i1==1311781206)or(i1==1315074670)or((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))or(i1==1160785972)or(i1==1211117633)or(i1==1311781185)or(i1==1211117620)or(i1==1164666213)or(i1==1160786241)or(i1==1430468406)or(i1==1430466872)or(i1==1211117653)or(i1==1429221445)or(i1==1211117640)or(i1==1160786243)or(i1==1311787088)or(i1==1160786520)or(i1==1211122767))then
return 600.
elseif(i1==1311788363)then
return 625.
else
return 0.
endif
endfunction
function Q17 takes unit PI7,integer O5 returns nothing
if(IsUnitAlly(PI7,Z7[0]))then
if EC7[64+O5]==0 then
set h8[64+O5]=h7[2]
elseif EC7[64+O5]==1 then
set h8[64+O5]=h7[4]
elseif EC7[64+O5]==2 then
set h8[64+O5]=h7[3]
elseif EC7[64+O5]==3 then
set h8[64+O5]=h7[1]
endif
else
if EC7[64+O5]==0 then
set h8[64+O5]=h7[102]
elseif EC7[64+O5]==1 then
set h8[64+O5]=h7[103]
elseif EC7[64+O5]==2 then
set h8[64+O5]=h7[104]
elseif EC7[64+O5]==3 then
set h8[64+O5]=h7[101]
endif
endif
endfunction
function Q07 takes group g returns boolean
return FirstOfGroup(g)==null
endfunction
function Q57 takes integer Q27,unit Q_7,integer R47,integer R77 returns boolean
set UD4[Q27]=true
call SetPlayerAbilityAvailable(GetOwningPlayer(Q_7),R47,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(Q_7),R77,true)
return true
endfunction
function R87 takes integer Q27 returns boolean
set GZ[Q27]=true
return true
endfunction
function R97 takes real RD7 returns nothing
local real RE7
local real st=TimerGetElapsed(W)
if st<=0 then
set W=CreateTimer()
call TimerStart(W,9000,false,null)
endif
if(RD7>0)then
loop
set RE7=RD7-TimerGetElapsed(W)+st
exitwhen RE7<=0
if(RE7>bj_POLLED_WAIT_SKIP_THRESHOLD)then
call TriggerSleepAction(0.1*RE7)
else
call TriggerSleepAction(bj_POLLED_WAIT_INTERVAL)
endif
endloop
endif
endfunction
function RF7 takes unit a,widget b,real RG7 returns boolean
local real QH7=(GetUnitFacing(a)-bj_RADTODEG*Atan2(GetWidgetY(b)-GetUnitY(a),GetWidgetX(b)-GetUnitX(a)))
if QH7>180 then
set QH7=360-QH7
endif
if QH7<0 then
set QH7=-QH7
endif
return QH7<=RG7
endfunction
function RH7 takes widget p5,widget m5 returns real
local real t5
local real w5
local real Y5
local real Z5
if p5!=null and m5!=null then
set t5=GetWidgetX(p5)
set w5=GetWidgetY(p5)
set Y5=GetWidgetX(m5)
set Z5=GetWidgetY(m5)
return SquareRoot((t5-Y5)*(t5-Y5)+(w5-Z5)*(w5-Z5))
endif
return 999999.
endfunction
function RI7 takes real x1,real y1,real x2,real y2 returns real
return SquareRoot(((x1-x2)*(x1-x2))+((y1-y2)*(y1-y2)))
endfunction
function RJ7 takes integer O5 returns integer
local integer kc=3
if((hj[256+O5]==18)or(hj[O5]==10)or(hj[256+O5]==118)or(hj[O5]==110))then
set kc=0
elseif((hj[256+O5]==40)or(hj[O5]==30)or(hj[256+O5]==140)or(hj[O5]==130))then
set kc=1
elseif((hj[256+O5]==60)or(hj[O5]==50)or(hj[256+O5]==160)or(hj[O5]==150))then
set kc=2
endif
return kc
endfunction
function RK7 takes unit it returns integer
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer UP=GetUnitUserData(h8[O5])
if((UP==0)or(UP==100)or(UP==1)or(UP==101))then
set UP=GetUnitUserData(h9[O5])
endif
return RJ7(UP)
endfunction
function RM7 takes integer O5 returns integer
set eY[80+O5]=5
if IG4[O5]then
elseif(RH7(M7[O5],h7[0])<4000.)then
set eY[80+O5]=3
elseif(RH7(M7[O5],h7[100])<4000.)then
set eY[80+O5]=4
elseif IsUnitInRange(M7[O5],h8[O5],2000.)then
set eY[80+O5]=RJ7(GetUnitUserData(h8[O5]))
if eY[80+O5]==3 then
set eY[80+O5]=5
endif
elseif IsUnitInRange(M7[O5],h8[80+O5],2000.)then
set eY[80+O5]=RJ7(GetUnitUserData(h8[80+O5]))
if eY[80+O5]==3 then
set eY[80+O5]=5
endif
else
set eY[80+O5]=5
set GZ[400+O5]=true
endif
return eY[80+O5]
endfunction
function RN7 takes integer RO7 returns integer
local integer RP7=0
loop
exitwhen RP7>K54
if MI4[RP7]==RO7 then
return K34[RP7]
endif
set RP7=RP7+1
endloop
return-1
endfunction
function RQ7 takes unit RR7 returns integer
local integer RS7=GetHeroLevel(RR7)
if RS7==1 then
return 100
elseif RS7==2 then
return 120
elseif RS7==3 then
return 160
elseif RS7==4 then
return 220
else
return-200+100*RS7
endif
return 0
endfunction
function RT7 takes nothing returns real
return TimerGetElapsed(W)
endfunction
function RU7 takes unit RV7 returns nothing
call PauseUnit(RV7,true)
call IssueImmediateOrder(RV7,"stop")
call PauseUnit(RV7,false)
endfunction
function RW7 takes location f4,real F4,real l4 returns location
return Location(GetLocationX(f4)+F4*Cos(l4*bj_DEGTORAD),GetLocationY(f4)+F4*Sin(l4*bj_DEGTORAD))
endfunction
function L4 takes nothing returns boolean
local real dx=GetDestructableX(GetFilterDestructable())-Wz
local real dy=GetDestructableY(GetFilterDestructable())-Yz
return(dx*dx+dy*dy<=bj_enumDestructableRadius)
endfunction
function M4 takes player p4 returns force
set V2=CreateForce()
call ForceEnumEnemies(V2,p4,bH)
return V2
endfunction
function RX7 takes unit PI7 returns boolean
local integer id=GetUnitTypeId(PI7)
return id==VT4 or id==VU4 or id==VV4 or id==VW4 or id==VX4 or id==VY4 or id==VA4 or id==VB4 or id==VC4 or id==V34 or id==V64 or id==VL4 or id==V24 or id==V_4 or id==W74
endfunction
function RY7 takes unit PI7 returns boolean
local integer id=GetUnitTypeId(PI7)
return id==VS4 or id==VZ4 or id==W44 or id==V14 or id==V04 or id==V54
endfunction
function RZ7 takes unit PI7 returns boolean
return RX7(PI7)or RY7(PI7)
endfunction
function RA7 takes item Z4 returns nothing
call DisableTrigger(H94)
call RemoveItem(Z4)
call EnableTrigger(H94)
endfunction
function RB7 takes item x5 returns integer
local integer o5
local integer i=1
if x5==null then
return-2
endif
set o5=GetItemTypeId(x5)
loop
exitwhen i>EV
if SU[i]==o5 or ZU[i]==o5 or BU[i]==o5 then
return i
endif
set i=i+1
endloop
return-1
endfunction
function RC7 takes item R37 returns integer
local integer R67
local integer i=1
if R37==null then
return-2
endif
set R67=GetItemTypeId(R37)
loop
exitwhen i>EV
if SU[i]==R67 or ZU[i]==R67 then
return i
endif
set i=i+1
endloop
return-1
endfunction
function RL7 takes item R37 returns integer
local integer R67
local integer i=1
if R37==null then
return-2
endif
set R67=GetItemTypeId(R37)
loop
exitwhen i>EV
if BU[i]==R67 then
return i
endif
set i=i+1
endloop
return-1
endfunction
function V5 takes nothing returns nothing
set HM4[1]=1093677633
set HN4[1]=1093744463
set HO4[1]=1094934883
set HP4[1]=1093683534
set HM4[2]=1093677616
set HN4[2]=1093683779
set HO4[2]=1093684789
set HP4[2]=1093810503
set HM4[3]=1093682263
set HN4[3]=1093682264
set HO4[3]=1093677378
set HP4[3]=1093682265
set HM4[4]=1093682766
set HN4[4]=1093682998
set HO4[4]=1093684056
set HP4[4]=1093683000
set HM4[5]=1093748025
set HN4[5]=1093678147
set HO4[5]=1095262562
set HP4[5]=1093677906
set HM4[6]=1093744944
set HN4[6]=1093677387
set HO4[6]=1093814611
set HP4[6]=1093752648
set HM4[7]=1093678643
set HN4[7]=1093681729
set HO4[7]=1093677125
set HP4[7]=1093678933
set HM4[8]=1093686091
set HN4[8]=1093682252
set HO4[8]=1093682250
set HP4[8]=1093682248
set HM4[9]=1093685831
set HN4[9]=1093684025
set HO4[9]=1093682266
set HP4[9]=1093677130
set HM4[10]=1093681461
set HN4[10]=1093748039
set HO4[10]=1093681464
set HP4[10]=1093681479
set HM4[11]=1093677382
set HN4[11]=1093677623
set HO4[11]=1093744728
set HP4[11]=1093677392
set HM4[12]=1093678407
set HN4[12]=1093678135
set HO4[12]=1093677131
set HP4[12]=1093684529
set HM4[13]=1093743692
set HN4[13]=1093684314
set HO4[13]=1093815892
set HP4[13]=1093684275
set HM4[14]=1093677402
set HN4[14]=1093748535
set HO4[14]=1093677397
set HP4[14]=1093678938
set HM4[15]=1093747009
set HN4[15]=1093747000
set HO4[15]=1093747524
set HP4[15]=1093746993
set HM4[16]=1093679157
set HN4[16]=1093742680
set HO4[16]=1093742898
set HP4[16]=1093742932
set HM4[17]=1093677913
set HN4[17]=1093750841
set HO4[17]=1095657827
set HP4[17]=1093684291
set HM4[18]=1093679172
set HN4[18]=1093677126
set HO4[18]=1093679177
set HP4[18]=1093679160
set HM4[19]=1093678137
set HN4[19]=1093678405
set HO4[19]=1093681745
set HP4[19]=1093678645
set HM4[20]=1093808453
set HN4[20]=1093677391
set HO4[20]=1095067246
set HP4[20]=1093752632
set HM4[21]=1093742660
set HN4[21]=1093682231
set HO4[21]=1093682242
set HP4[21]=1093687627
set HM4[22]=1093684300
set HN4[22]=1093681754
set HO4[22]=1093744977
set HP4[22]=1093682009
set HM4[23]=1093678410
set HN4[23]=1093678664
set HO4[23]=1093678658
set HP4[23]=1093681483
set HM4[24]=1093684045
set HN4[24]=1093684310
set HO4[24]=1093810260
set HP4[24]=1093684308
set HM4[25]=1093678130
set HN4[25]=1093678129
set HO4[25]=1093678642
set HP4[25]=1093678388
set HM4[26]=1093678644
set HN4[26]=1093677907
set HO4[26]=1093677909
set HP4[26]=1093678160
set HM4[27]=1093681733
set HN4[27]=1093681731
set HO4[27]=1093685040
set HP4[27]=1093748042
set HM4[28]=1093677360
set HN4[28]=1093685848
set HO4[28]=1093677136
set HP4[28]=1093677128
set HM4[29]=1093682775
set HN4[29]=1093683024
set HO4[29]=1093684531
set HP4[29]=1093682774
set HM4[30]=1093678669
set HN4[30]=1097032808
set HO4[30]=1093684568
set HP4[30]=1093684561
set HM4[31]=1093677139
set HN4[31]=1093816142
set HO4[31]=1093677142
set HP4[31]=1093816118
set HM4[32]=1093677108
set HN4[32]=1093749073
set HO4[32]=1093678913
set HP4[32]=1093681716
set HM4[33]=1093677894
set HN4[33]=1093681490
set HO4[33]=1093681996
set HP4[33]=1093677895
set HM4[34]=1093677618
set HN4[34]=1095066220
set HO4[34]=1093684057
set HP4[34]=1093682483
set HM4[35]=1093677622
set HN4[35]=1093685570
set HO4[35]=1093677625
set HP4[35]=1093686851
set HM4[36]=1093679182
set HN4[36]=1093679190
set HO4[36]=1093678657
set HP4[36]=1093682514
set HM4[37]=1093685041
set HN4[37]=1093685071
set HO4[37]=1093681732
set HP4[37]=1093685042
set HM4[38]=1093685047
set HN4[38]=1093685046
set HO4[38]=1093685048
set HP4[38]=1093685045
set HM4[39]=1093683532
set HN4[39]=1093750345
set HO4[39]=1093685043
set HP4[39]=1095656306
set HM4[40]=1093684054
set HN4[40]=1093684280
set HO4[40]=1093684302
set HP4[40]=1093684053
set HM4[41]=1093743696
set HN4[41]=1093743698
set HO4[41]=1093685591
set HP4[41]=1093743695
set HM4[42]=1093685584
set HN4[42]=1093685582
set HO4[42]=1093685585
set HP4[42]=1093685586
set HM4[43]=1093748033
set HN4[43]=1093685846
set HO4[43]=1093685839
set HP4[43]=1093685840
set HM4[44]=1093686073
set HN4[44]=1093686083
set HO4[44]=1093686082
set HP4[44]=1093686072
set HM4[45]=1093687860
set HN4[45]=1093687861
set HO4[45]=1093687862
set HP4[45]=1093687864
set HM4[46]=1093743414
set HN4[46]=1093743444
set HO4[46]=1093742926
set HP4[46]=1093742923
set HM4[47]=1093743178
set HN4[47]=1093743179
set HO4[47]=1093743689
set HP4[47]=1093743184
set HM4[48]=1093751631
set HN4[48]=1093751633
set HO4[48]=1093751895
set HP4[48]=1093751861
set HM4[49]=1093751894
set HN4[49]=1093751639
set HO4[49]=1093751637
set HP4[49]=1093752118
set HM4[50]=1093751873
set HN4[50]=1093751864
set HO4[50]=1093810257
set HP4[50]=1093751874
set HM4[51]=1093678918
set HN4[51]=1093679186
set HO4[51]=1093678387
set HP4[51]=1093678420
set HM4[52]=1093678904
set HN4[52]=1093678925
set HO4[52]=1093677635
set HP4[52]=1093678158
set HM4[53]=1093687349
set HN4[53]=1093684558
set HO4[53]=1093677646
set HP4[53]=1093679413
set HM4[54]=1093744435
set HN4[54]=1093684569
set HO4[54]=1093684563
set HP4[54]=1093677363
set HM4[55]=1093677651
set HN4[55]=1093677879
set HO4[55]=1093751364
set HP4[55]=1093810508
set HM4[56]=1093679192
set HN4[56]=1093750337
set HO4[56]=1093686872
set HP4[56]=1093678923
set HM4[57]=1093678389
set HN4[57]=1093685847
set HO4[57]=1093677902
set HP4[57]=1093677903
set HM4[58]=1093677892
set HN4[58]=1093687878
set HO4[58]=1093677893
set HP4[58]=1093679411
set HM4[59]=1093681736
set HN4[59]=1093681735
set HO4[59]=1093681739
set HP4[59]=1093687121
set HM4[60]=1093687629
set HN4[60]=1093685324
set HO4[60]=1093677904
set HP4[60]=1093677905
set HM4[61]=1093747504
set HN4[61]=1093682994
set HO4[61]=1093684560
set HP4[61]=1093747028
set HM4[62]=1093677640
set HN4[62]=1093679173
set HO4[62]=1093679158
set HP4[62]=1093677899
set HM4[63]=1095267426
set HN4[63]=1096114550
set HO4[63]=1095721842
set HP4[63]=1093677401
set HM4[64]=1093742674
set HN4[64]=1093750608
set HO4[64]=1093679412
set HP4[64]=1093684565
set HM4[65]=1093687351
set HN4[65]=1093748789
set HO4[65]=1093815119
set HP4[65]=1093679445
set HM4[66]=1093678403
set HN4[66]=1093810507
set HO4[66]=1093683786
set HP4[66]=1093677876
set HM4[67]=1093685559
set HN4[67]=1093684549
set HO4[67]=1093678145
set HP4[67]=1093810258
set HM4[68]=1093677872
set HN4[68]=1095263841
set HO4[68]=1093677621
set HP4[68]=1093678161
set HM4[69]=1093684299
set HN4[69]=1093682010
set HO4[69]=1093679153
set HP4[69]=1093683761
set HM4[70]=1093679446
set HN4[70]=1093746995
set HO4[70]=1093684557
set HP4[70]=1093679152
set HM4[71]=1093748023
set HN4[71]=1093747792
set HO4[71]=1093748022
set HP4[71]=1093747023
set HM4[72]=1093686322
set HN4[72]=1093686099
set HO4[72]=1093744948
set HP4[72]=1093686103
set HM4[73]=1093684564
set HN4[73]=1093681989
set HO4[73]=1093679428
set HP4[73]=1093681987
set HM4[74]=1093678134
set HN4[74]=1093678149
set HO4[74]=1093678132
set HP4[74]=1093810505
set HM4[75]=1093816137
set HN4[75]=1093683019
set HO4[75]=1093678169
set HP4[75]=1093677649
set HM4[76]=1093678422
set HN4[76]=1093677390
set HO4[76]=1093678640
set HP4[76]=1093678647
set HM4[77]=1093678665
set HN4[77]=1093678667
set HO4[77]=1093678660
set HP4[77]=1093682764
set HM4[78]=1093750840
set HN4[78]=1093682515
set HO4[78]=1093682997
set HP4[78]=1093682996
set HM4[79]=1093751127
set HN4[79]=1093681985
set HO4[79]=1093681991
set HP4[79]=1093682004
set HM4[80]=1093682521
set HN4[80]=1093681746
set HO4[80]=1093682773
set HP4[80]=1093810506
set HM4[81]=1093678671
set HN4[81]=1093683248
set HO4[81]=1093682753
set HP4[81]=1093678674
set HM4[82]=1093683510
set HN4[82]=1093686065
set HO4[82]=1093681974
set HP4[82]=1093682482
set HM4[83]=1093682499
set HN4[83]=1093684293
set HO4[83]=1093683512
set HP4[83]=1093684296
set HM4[84]=1093683507
set HN4[84]=1093684550
set HO4[84]=1093684551
set HP4[84]=1093684819
set HM4[85]=1093683287
set HN4[85]=1093682776
set HO4[85]=1093684801
set HP4[85]=1093683257
set HM4[86]=1093684813
set HN4[86]=1093684805
set HO4[86]=1093684815
set HP4[86]=1093684820
set HM4[87]=1093685065
set HN4[87]=1093685066
set HO4[87]=1093683526
set HP4[87]=1093685067
set HM4[88]=1093683765
set HN4[88]=1093681491
set HO4[88]=1093678672
set HP4[88]=1395667000
set HM4[89]=1093684802
set HN4[89]=1093684792
set HO4[89]=1093684791
set HP4[89]=1093684567
set HM4[90]=1093684817
set HN4[90]=1093742668
set HO4[90]=1093685074
set HP4[90]=1093742673
set HM4[91]=1093677385
set HN4[91]=1093685825
set HO4[91]=1093810232
set HP4[91]=1093685808
set HM4[92]=1093743955
set HN4[92]=1093685813
set HO4[92]=1093743958
set HP4[92]=1093743946
set HM4[93]=1093685573
set HN4[93]=1093685575
set HO4[93]=1093685815
set HP4[93]=1093685579
set HM4[94]=1093808471
set HN4[94]=1093808472
set HO4[94]=1093808470
set HP4[94]=1093808473
set HM4[95]=1093683511
set HN4[95]=1093744688
set HO4[95]=1093681713
set HP4[95]=1093747288
set HM4[96]=1093748044
set HN4[96]=1093744982
set HO4[96]=1093744986
set HP4[96]=1093744975
set HM4[97]=1093750087
set HN4[97]=1093748819
set HO4[97]=1093748817
set HP4[97]=1093750089
set HM4[98]=1093749069
set HN4[98]=1093749303
set HO4[98]=1093748818
set HP4[98]=1093749070
set HM4[99]=1093678156
set HN4[99]=1093683252
set HO4[99]=1093684566
set HP4[99]=1093678929
set HM4[100]=1093678679
set HN4[100]=1093677877
set HO4[100]=1093678678
set HP4[100]=1093808454
set HM4[101]=1093751608
set HN4[101]=1093751618
set HO4[101]=1093751604
set HP4[101]=1093751617
set HQ4[1]=1093747031
set HQ4[2]=1093810504
set HQ4[5]=1093681494
set HQ4[8]=1093750594
set HQ4[11]=1093679450
set HQ4[12]=1093747032
set HQ4[20]=1093752633
set HQ4[22]=1093752392
set HQ4[23]=1093748313
set HQ4[24]=1093747539
set HQ4[25]=1093677141
set HQ4[28]=1093681457
set HQ4[30]=1093747254
set HQ4[38]=1093747249
set HQ4[42]=1093747251
set HQ4[44]=1093751120
set HQ4[45]=1093747542
set HQ4[47]=1093747766
set HQ4[50]=1093808455
set HQ4[51]=1093679176
set HQ4[53]=1093679447
set HQ4[54]=1093681462
set HQ4[62]=1093747248
set HQ4[64]=1093681458
set HQ4[67]=1093810259
set HQ4[69]=1093747767
set HQ4[70]=1093752154
set HQ4[71]=1093752150
set HQ4[73]=1093677658
set HQ4[75]=1093747769
set HQ4[76]=1093679184
set HQ4[77]=1093747544
set HQ4[78]=1093747768
set HQ4[81]=1093747252
set HQ4[82]=1093750098
set HQ4[84]=1093747777
set HQ4[86]=1093684824
set HQ4[87]=1093752407
set HQ4[88]=1395667029
set HQ4[90]=1093747778
set HQ4[94]=1093748565
set HW4[1]="thunderbolt"
set HX4[1]="volcano"
set HY4[1]="passive"
set HZ4[1]="forkedlightning"
set HW4[2]="chainlightning"
set HX4[2]="thunderbolt"
set HY4[2]="passive"
set HZ4[2]="thunderclap"
set HW4[3]="passive"
set HX4[3]="slow"
set HY4[3]="locustswarm"
set HZ4[3]="poisonarrows"
set HW4[4]="carrionswarm"
set HX4[4]="acidbomb"
set HY4[4]="replenishmana"
set HZ4[4]="itemillusion"
set HW4[5]="blizzard"
set HX4[5]="entanglingroots"
set HY4[5]="passive"
set HZ4[5]="channel"
set HW4[6]="acidbomb"
set HX4[6]="passive"
set HY4[6]="volcano"
set HZ4[6]="chemicalrage"
set HW4[7]="mirrorimage"
set HX4[7]="ensnare"
set HY4[7]="passive"
set HZ4[7]="channel"
set HW4[8]="channel"
set HX4[8]="roar"
set HY4[8]="passive"
set HZ4[8]="fanofknives"
set HW4[9]="blizzard"
set HX4[9]="channel"
set HY4[9]="passive"
set HZ4[9]="passive"
set HW4[10]="summongrizzly"
set HX4[10]="fanofknives"
set HY4[10]="passive"
set HZ4[10]="bearform"
set HW4[11]="shockwave"
set HX4[11]="inferno"
set HY4[11]="passive"
set HZ4[11]="chainlightning"
set HW4[12]="whirlwind"
set HX4[12]="healingward"
set HY4[12]="passive"
set HZ4[12]="thunderbolt"
set HW4[13]="blizzard"
set HX4[13]="poisonarrows"
set HY4[13]="passive"
set HZ4[13]="channel"
set HW4[14]="invisibility"
set HX4[14]="thunderbolt"
set HY4[14]="innerfire"
set HZ4[14]="channel"
set HW4[15]="charm"
set HX4[15]="volcano"
set HY4[15]="passive"
set HZ4[15]="channel"
set HW4[16]="channel"
set HX4[16]="acidbomb"
set HY4[16]="acolyteharvest"
set HZ4[16]="metamorphosis"
set HW4[17]="thunderclap"
set HX4[17]="channel"
set HY4[17]="passive"
set HZ4[17]="berserk"
set HW4[18]="thunderbolt"
set HX4[18]="acidbomb"
set HY4[18]="bloodlust"
set HZ4[18]="passive"
set HW4[19]="drunkenhaze"
set HX4[19]="fanofknives"
set HY4[19]="curse"
set HZ4[19]="channel"
set HW4[20]="thunderbolt"
set HX4[20]="blink"
set HY4[20]="forceofnature"
set HZ4[20]="chainlightning"
set HW4[21]="acidbomb"
set HX4[21]="windwalk"
set HY4[21]="passive"
set HZ4[21]="passive"
set HW4[22]="blizzard"
set HX4[22]="channel"
set HY4[22]="passive"
set HZ4[22]="passive"
set HW4[23]="landmine"
set HX4[23]="stasistrap"
set HY4[23]="selfdestruct"
set HZ4[23]="summonward"
set HW4[24]="drunkenhaze"
set HX4[24]="thunderbolt"
set HY4[24]="charm"
set HZ4[24]="channel"
set HW4[25]="firebolt"
set HX4[25]="moonglaive"
set HY4[25]="passive"
set HZ4[25]="channel"
set HW4[26]="blizzard"
set HX4[26]="passive"
set HY4[26]="moonglaive"
set HZ4[26]="thunderbolt"
set HW4[27]="bearform"
set HX4[27]="curse"
set HY4[27]="passive"
set HZ4[27]="fanofknives"
set HW4[28]="forkedlightning"
set HX4[28]="hex"
set HY4[28]="magicleash"
set HZ4[28]="summonward"
set HW4[29]="channel"
set HX4[29]="fanofknives"
set HY4[29]="passive"
set HZ4[29]="passive"
set HW4[30]="thunderclap"
set HX4[30]="drunkenhaze"
set HY4[30]="passive"
set HZ4[30]="elementalfury"
set HW4[31]="stomp"
set HX4[31]="firebolt"
set HY4[31]="passive"
set HZ4[31]="passive"
set HW4[32]="thunderbolt"
set HX4[32]="passive"
set HY4[32]="windwalk"
set HZ4[32]="faeriefire"
set HW4[33]="breathoffire"
set HX4[33]="thunderbolt"
set HY4[33]="passive"
set HZ4[33]="metamorphosis"
set HW4[34]="passive"
set HX4[34]="blink"
set HY4[34]="passive"
set HZ4[34]="thunderbolt"
set HW4[35]="coldarrows"
set HX4[35]="silence"
set HY4[35]="passive"
set HZ4[35]="passive"
set HW4[36]="frostarmor"
set HX4[36]="antimagicshell"
set HY4[36]="passive"
set HZ4[36]="battleroar"
set HW4[37]="carrionswarm"
set HX4[37]="summonquillbeast"
set HY4[37]="passive"
set HZ4[37]="thunderbolt"
set HW4[38]="carrionswarm"
set HX4[38]="breathoffire"
set HY4[38]="passive"
set HZ4[38]="shockwave"
set HW4[39]="blizzard"
set HX4[39]="fanofknives"
set HY4[39]="passive"
set HZ4[39]="chemicalrage"
set HW4[40]="channel"
set HX4[40]="acidbomb"
set HY4[40]="windwalk"
set HZ4[40]="corporealform"
set HW4[41]="fanofknives"
set HX4[41]="chainlightning"
set HY4[41]="passive"
set HZ4[41]="carrionswarm"
set HW4[42]="thunderbolt"
set HX4[42]="poisonarrows"
set HY4[42]="passive"
set HZ4[42]="firebolt"
set HW4[43]="fanofknives"
set HX4[43]="windwalk"
set HY4[43]="passive"
set HZ4[43]="curse"
set HW4[44]="acidbomb"
set HX4[44]="channel"
set HY4[44]="phaseshift"
set HZ4[44]="blizzard"
set HW4[45]="channel"
set HX4[45]="charm"
set HY4[45]="blizzard"
set HZ4[45]="clusterrockets"
set HW4[46]="blizzard"
set HX4[46]="passive"
set HY4[46]="charm"
set HZ4[46]="acidbomb"
set HW4[47]="chainlightning"
set HX4[47]="acidbomb"
set HY4[47]="fanofknives"
set HZ4[47]="charm"
set HW4[48]=""
set HX4[48]=""
set HY4[48]=""
set HZ4[48]=""
set HW4[49]=""
set HX4[49]=""
set HY4[49]=""
set HZ4[49]=""
set HW4[50]=""
set HX4[50]=""
set HY4[50]=""
set HZ4[50]=""
set HW4[51]="frostnova"
set HX4[51]="frostarmor"
set HY4[51]="innerfire"
set HZ4[51]="sleep"
set HW4[52]="carrionswarm"
set HX4[52]="silence"
set HY4[52]="passive"
set HZ4[52]="locustswarm"
set HW4[53]="impale"
set HX4[53]="hex"
set HY4[53]="drain"
set HZ4[53]="chainlightning"
set HW4[54]="volcano"
set HX4[54]="passive"
set HY4[54]="summonward"
set HZ4[54]="summongrizzly"
set HW4[55]="shockwave"
set HX4[55]="innerfire"
set HY4[55]="carrionswarm"
set HZ4[55]="stomp"
set HW4[56]="cripple"
set HX4[56]="creepheal"
set HY4[56]="passive"
set HZ4[56]="fanofknives"
set HW4[57]="firebolt"
set HX4[57]="channel"
set HY4[57]="passive"
set HZ4[57]="mirrorimage"
set HW4[58]="spiritwolf"
set HX4[58]="channel"
set HY4[58]="passive"
set HZ4[58]="metamorphosis"
set HW4[59]="parasite"
set HX4[59]="inferno"
set HY4[59]="passive"
set HZ4[59]="roar"
set HW4[60]="acidbomb"
set HX4[60]="channel"
set HY4[60]="passive"
set HZ4[60]="passive"
set HW4[61]="bearform"
set HX4[61]="chainlightning"
set HY4[61]="manashield"
set HZ4[61]="charm"
set HW4[62]="thunderbolt"
set HX4[62]="drunkenhaze"
set HY4[62]="passive"
set HZ4[62]="itemchangetime"
set HW4[63]="thunderbolt"
set HX4[63]="passive"
set HY4[63]="passive"
set HZ4[63]="reincarnation"
set HW4[64]="channel"
set HX4[64]="fanofknives"
set HY4[64]="firebolt"
set HZ4[64]="doom"
set HW4[65]="impale"
set HX4[65]="creepheal"
set HY4[65]="carrionscarabsoff"
set HZ4[65]="windwalk"
set HW4[66]="berserk"
set HX4[66]="stomp"
set HY4[66]="passive"
set HZ4[66]="faeriefire"
set HW4[67]="shadowstrike"
set HX4[67]="blink"
set HY4[67]="fanofknives"
set HZ4[67]="carrionswarm"
set HW4[68]="berserk"
set HX4[68]="flamingarrows"
set HY4[68]="windwalk"
set HZ4[68]="innerfire"
set HW4[69]="carrionswarm"
set HX4[69]="passive"
set HY4[69]="passive"
set HZ4[69]="clusterrockets"
set HW4[70]="poisonarrows"
set HX4[70]="passive"
set HY4[70]="passive"
set HZ4[70]="shadowstrike"
set HW4[71]="fanofknives"
set HX4[71]="acidbomb"
set HY4[71]="passive"
set HZ4[71]="darkportal"
set HW4[72]="itemareaheal"
set HX4[72]="passive"
set HY4[72]="chainlightning"
set HZ4[72]="channel"
set HW4[73]="blizzard"
set HX4[73]="banish"
set HY4[73]="summongrizzly"
set HZ4[73]="drain"
set HW4[74]="acidbomb"
set HX4[74]="passive"
set HY4[74]="passive"
set HZ4[74]="stomp"
set HW4[75]="innerfire"
set HX4[75]="chainlightning"
set HY4[75]="sleep"
set HZ4[75]="magicleash"
set HW4[76]="fanofknives"
set HX4[76]="passive"
set HY4[76]="passive"
set HZ4[76]="thunderbolt"
set HW4[77]="channel"
set HX4[77]="immolation"
set HY4[77]="passive"
set HZ4[77]="magicleash"
set HW4[78]="channel"
set HX4[78]="passive"
set HY4[78]="passive"
set HZ4[78]="channel"
set HW4[79]="acidbomb"
set HX4[79]="windwalk"
set HY4[79]="passive"
set HZ4[79]="channel"
set HW4[80]="roar"
set HX4[80]="passive"
set HY4[80]="passive"
set HZ4[80]="stomp"
set HW4[81]="channel"
set HX4[81]="voodoo"
set HY4[81]="incinerate"
set HZ4[81]="charm"
set HW4[82]="channel"
set HX4[82]="creepheal"
set HY4[82]="passive"
set HZ4[82]="chainlightning"
set HW4[83]="soulburn"
set HX4[83]="passive"
set HY4[83]="passive"
set HZ4[83]="firebolt"
set HW4[84]="acidbomb"
set HX4[84]="chainlightning"
set HY4[84]="passive"
set HZ4[84]="windwalk"
set HW4[85]="acidbomb"
set HX4[85]="passive"
set HY4[85]="passive"
set HZ4[85]="ancestralspirit"
set HW4[86]="chainlightning"
set HX4[86]="immolation"
set HY4[86]="blizzard"
set HZ4[86]="tornado"
set HW4[87]="poisonarrows"
set HX4[87]="chainlightning"
set HY4[87]="passive"
set HZ4[87]="blizzard"
set HW4[88]="thunderbolt"
set HX4[88]="creepheal"
set HY4[88]="blizzard"
set HZ4[88]="inferno"
set HW4[89]="blizzard"
set HX4[89]="carrionscarabsoff"
set HY4[89]="passive"
set HZ4[89]="passive"
set HW4[90]="thunderbolt"
set HX4[90]="devourmagic"
set HY4[90]="darkportal"
set HZ4[90]="blizzard"
set HW4[91]="rainoffire"
set HX4[91]="flamestrike"
set HY4[91]="fanofknives"
set HZ4[91]="channel"
set HW4[92]="blizzard"
set HX4[92]="volcano"
set HY4[92]="acidbomb"
set HZ4[92]="metamorphosis"
set HW4[93]="blizzard"
set HX4[93]="thunderbolt"
set HY4[93]="bloodlust"
set HZ4[93]="curse"
set HW4[94]="roar"
set HX4[94]="fanofknives"
set HY4[94]="battleroar"
set HZ4[94]="howlofterror"
set HW4[95]="acidbomb"
set HX4[95]="thunderbolt"
set HY4[95]="channel"
set HZ4[95]="cannibalize"
set HW4[96]="blizzard"
set HX4[96]="thunderbolt"
set HY4[96]="metamorphosis"
set HZ4[96]="chainlightning"
set HW4[97]="channel"
set HX4[97]="blizzard"
set HY4[97]="berserk"
set HZ4[97]="acidbomb"
set HW4[98]="fanofknives"
set HX4[98]="channel"
set HY4[98]="passive"
set HZ4[98]="windwalk"
set HW4[99]="drain"
set HX4[99]="channel"
set HY4[99]="metamorphosis"
set HZ4[99]="cripple"
set HW4[100]="inferno"
set HX4[100]="summongrizzly"
set HY4[100]="chainlightning"
set HZ4[100]="immolation"
set HW4[101]=""
set HX4[101]=""
set HY4[101]=""
set HZ4[101]=""
set HM4[500]=1094004784
set HN4[500]=1094004785
set HO4[500]=1094004786
set HP4[500]=1094004787
set HW4[500]="humanbuild"
set HX4[500]="nightelfbuild"
set HY4[500]="orcbuild"
set HZ4[500]="undeadbuild"
set HR4[1]=1094070320
set HS4[1]=1094070321
set HT4[1]=1094070322
set HU4[1]=1094070323
set HR4[2]=1094070324
set HS4[2]=1094070325
set HT4[2]=1094070326
set HU4[2]=1094070327
set HR4[3]=1094070328
set HS4[3]=1094070329
set HT4[3]=1094070337
set HU4[3]=1094070338
set HR4[4]=1094070339
set HS4[4]=1094070340
set HU4[4]=1094070342
set HR4[5]=1094070343
set HS4[5]=1094070344
set HT4[5]=1094070345
set HU4[5]=1094070346
set HR4[6]=1094070347
set HT4[6]=1094070349
set HU4[6]=1094070350
set HR4[7]=1094070351
set HS4[7]=1094070352
set HT4[7]=1094070353
set HU4[7]=1094070354
set HR4[8]=1094070355
set HS4[8]=1094070356
set HT4[8]=1094070357
set HU4[8]=1094070358
set HR4[9]=1094070359
set HS4[9]=1094070360
set HT4[9]=1094070361
set HU4[9]=1094070362
set HR4[10]=1094070576
set HS4[10]=1094070577
set HR4[11]=1094070580
set HS4[11]=1094070581
set HT4[11]=1094070582
set HU4[11]=1094070583
set HR4[12]=1094070584
set HS4[12]=1094070585
set HT4[12]=1094070593
set HU4[12]=1094070594
set HR4[13]=1094070595
set HS4[13]=1094070596
set HT4[13]=1094070597
set HU4[13]=1094070598
set HR4[14]=1094070599
set HS4[14]=1094070600
set HT4[14]=1094070601
set HU4[14]=1094070602
set HR4[15]=1094070603
set HT4[15]=1094070605
set HU4[15]=1094070606
set HR4[16]=1094070607
set HS4[16]=1094070608
set HT4[16]=1094070609
set HR4[17]=1094070611
set HS4[17]=1094070612
set HT4[17]=1094070613
set HU4[17]=1094070614
set HR4[18]=1094070615
set HS4[18]=1094070616
set HT4[18]=1094070617
set HR4[19]=1094070832
set HS4[19]=1094070833
set HT4[19]=1094070834
set HU4[19]=1094070835
set HR4[20]=1094070836
set HS4[20]=1094070837
set HT4[20]=1094070838
set HU4[20]=1094070839
set HR4[21]=1094070840
set HS4[21]=1094070841
set HT4[21]=1094070849
set HU4[21]=1094070850
set HR4[22]=1094070851
set HS4[22]=1094070852
set HT4[22]=1094070853
set HR4[23]=1094070855
set HS4[23]=1094070856
set HT4[23]=1094070857
set HU4[23]=1094070858
set HR4[24]=1094070859
set HS4[24]=1094070860
set HT4[24]=1094070861
set HU4[24]=1094070862
set HR4[25]=1094070863
set HT4[25]=1094070865
set HU4[25]=1094070866
set HR4[26]=1094070867
set HS4[26]=1094070868
set HU4[26]=1094070870
set HS4[27]=1094070872
set HT4[27]=1094070873
set HU4[27]=1094070874
set HR4[28]=1094071088
set HS4[28]=1094071089
set HT4[28]=1094071090
set HU4[28]=1094071091
set HR4[29]=1094071092
set HS4[29]=1094071093
set HT4[29]=1094071094
set HU4[29]=1094071095
set HR4[30]=1094071096
set HS4[30]=1094071097
set HT4[30]=1094071105
set HU4[30]=1094071106
set HR4[31]=1094071107
set HS4[31]=1094071108
set HT4[31]=1094071109
set HU4[31]=1094071110
set HR4[32]=1094071111
set HS4[32]=1094071112
set HT4[32]=1094071113
set HU4[32]=1094071114
set HR4[33]=1094071115
set HS4[33]=1094071116
set HT4[33]=1094071117
set HR4[34]=1094071119
set HS4[34]=1094071120
set HT4[34]=1094071121
set HU4[34]=1094071122
set HR4[35]=1094071123
set HS4[35]=1094071124
set HT4[35]=1094071125
set HU4[35]=1094071126
set HR4[36]=1094071127
set HS4[36]=1094071128
set HT4[36]=1094071129
set HU4[36]=1094071130
set HR4[37]=1094071344
set HS4[37]=1094071345
set HT4[37]=1094071346
set HU4[37]=1094071347
set HR4[38]=1094071348
set HS4[38]=1094071349
set HT4[38]=1094071350
set HU4[38]=1094071351
set HR4[39]=1094071352
set HT4[39]=1094071361
set HR4[40]=1094071363
set HS4[40]=1094071364
set HT4[40]=1094071365
set HU4[40]=1094071366
set HR4[41]=1094071367
set HS4[41]=1094071368
set HT4[41]=1094071369
set HU4[41]=1094071370
set HR4[42]=1094071371
set HS4[42]=1094071372
set HT4[42]=1094071373
set HU4[42]=1094071374
set HR4[43]=1094071375
set HS4[43]=1094071376
set HU4[43]=1094071378
set HR4[44]=1094071379
set HS4[44]=1094071380
set HT4[44]=1094071381
set HU4[44]=1094071382
set HR4[45]=1094071383
set HS4[45]=1094071384
set HT4[45]=1094071385
set HU4[45]=1094071386
set HR4[46]=1094071600
set HT4[46]=1094071602
set HU4[46]=1094071603
set HR4[47]=1094071604
set HS4[47]=1094071605
set HT4[47]=1094071606
set HU4[47]=1094071607
set HR4[48]=1094071608
set HS4[48]=1094071609
set HT4[48]=1094071617
set HU4[48]=1094071618
set HR4[49]=1094071619
set HS4[49]=1094071620
set HU4[49]=1094071622
set HR4[50]=1094071623
set HS4[50]=1094071624
set HT4[50]=1094071625
set HU4[50]=1094071626
set HR4[51]=1094071627
set HS4[51]=1094071628
set HT4[51]=1094071629
set HU4[51]=1094071630
set HR4[52]=1094071631
set HS4[52]=1094071632
set HU4[52]=1094071634
set HR4[53]=1094071635
set HS4[53]=1094071636
set HT4[53]=1094071637
set HU4[53]=1094071638
set HR4[54]=1094071639
set HS4[54]=1094071640
set HT4[54]=1094071641
set HU4[54]=1094071642
set HR4[55]=1094071856
set HS4[55]=1094071857
set HU4[55]=1094071859
set HR4[56]=1094071860
set HU4[56]=1094071863
set HR4[57]=1094071864
set HS4[57]=1094071865
set HT4[57]=1094071873
set HU4[57]=1094071874
set HR4[58]=1094071875
set HS4[58]=1094071876
set HT4[58]=1094071877
set HR4[59]=1094071879
set HS4[59]=1094071880
set HT4[59]=1094071881
set HR4[60]=1094071883
set HS4[60]=1094071884
set HT4[60]=1094071885
set HU4[60]=1094071886
set HS4[61]=1094071888
set HT4[61]=1094071889
set HU4[61]=1094071890
set HR4[62]=1094071891
set HS4[62]=1094071892
set HT4[62]=1094071893
set HU4[62]=1094071894
set HR4[63]=1094071895
set HS4[63]=1094071896
set HT4[63]=1094071897
set HU4[63]=1094071898
set HS4[64]=1094072113
set HT4[64]=1094072114
set HU4[64]=1094072115
set HR4[65]=1094072116
set HS4[65]=1094072117
set HT4[65]=1094072118
set HU4[65]=1094072119
set HR4[66]=1094072120
set HS4[66]=1094072121
set HT4[66]=1094072129
set HU4[66]=1094072130
set HR4[67]=1094072131
set HS4[67]=1094072132
set HT4[67]=1094072133
set HU4[67]=1094072134
set HR4[68]=1094072135
set HS4[68]=1094072136
set HT4[68]=1094072137
set HU4[68]=1094072138
set HR4[69]=1094072139
set HS4[69]=1094072140
set HT4[69]=1094072141
set HU4[69]=1094072142
set HR4[70]=1094072143
set HS4[70]=1094072144
set HT4[70]=1094072145
set HU4[70]=1094072146
set HR4[71]=1094072147
set HS4[71]=1094072148
set HT4[71]=1094072149
set HU4[71]=1094072150
set HS4[72]=1094072152
set HT4[72]=1094072153
set HR4[73]=1094072368
set HS4[73]=1094072369
set HT4[73]=1094072370
set HU4[73]=1094072371
set HR4[74]=1094072372
set HS4[74]=1094072373
set HU4[74]=1094072375
set HR4[75]=1094072376
set HS4[75]=1094072377
set HT4[75]=1094072385
set HU4[75]=1094072386
set HR4[76]=1094072387
set HS4[76]=1094072388
set HT4[76]=1094072389
set HU4[76]=1094072390
set HR4[77]=1094072391
set HS4[77]=1094072392
set HT4[77]=1094072393
set HU4[77]=1094072394
set HS4[78]=1094072396
set HT4[78]=1094072397
set HU4[78]=1094072398
set HR4[79]=1094072399
set HS4[79]=1094072400
set HT4[79]=1094072401
set HU4[79]=1094072402
set HR4[81]=1094072407
set HS4[81]=1094072408
set HT4[81]=1094072409
set HU4[81]=1094072410
set HR4[82]=1094072624
set HS4[82]=1094072625
set HT4[82]=1094072626
set HU4[82]=1094072627
set HR4[83]=1094072628
set HS4[83]=1094072629
set HT4[83]=1094072630
set HU4[83]=1094072631
set HR4[84]=1094072632
set HS4[84]=1094072633
set HT4[84]=1094072641
set HU4[84]=1094072642
set HR4[85]=1094072643
set HS4[85]=1094072644
set HT4[85]=1094072645
set HU4[85]=1094072646
set HR4[86]=1094072647
set HS4[86]=1094072648
set HT4[86]=1094072649
set HU4[86]=1094072650
set HR4[87]=1094072651
set HS4[87]=1094072652
set HT4[87]=1094072653
set HU4[87]=1094072654
set HR4[88]=1094072655
set HS4[88]=1094072656
set HT4[88]=1094072657
set HU4[88]=1094072658
set HR4[89]=1094072659
set HT4[89]=1094072661
set HR4[90]=1094072663
set HS4[90]=1094072664
set HT4[90]=1094072665
set HU4[90]=1094072666
set HR4[91]=1094074672
set HS4[91]=1094074673
set HT4[91]=1094074674
set HU4[91]=1094074675
set HR4[92]=1094074676
set HS4[92]=1094074677
set HT4[92]=1094074678
set HR4[93]=1094074680
set HS4[93]=1094074681
set HT4[93]=1094074689
set HU4[93]=1094074690
set HR4[95]=1094074695
set HS4[95]=1094074696
set HT4[95]=1094074697
set HU4[95]=1094074698
set HR4[96]=1094074699
set HS4[96]=1094074700
set HU4[96]=1094074702
set HR4[97]=1094074703
set HS4[97]=1094074704
set HT4[97]=1094074705
set HU4[97]=1094074706
set HR4[98]=1094074707
set HS4[98]=1094074708
set HT4[98]=1094074709
set HU4[98]=1094074710
set HV4[1]=1094135856
set HV4[2]=1094135857
set HV4[5]=1094135858
set HV4[8]=1094135897
set HV4[11]=1094135859
set HV4[12]=1094135860
set HV4[20]=1094135861
set HV4[23]=1094135862
set HV4[24]=1094135863
set HV4[25]=1094135864
set HV4[28]=1094135865
set HV4[30]=1094135873
set HV4[38]=1094135874
set HV4[42]=1094135875
set HV4[45]=1094135876
set HV4[47]=1094135877
set HV4[50]=1094135878
set HV4[51]=1094135879
set HV4[53]=1094135880
set HV4[54]=1094135881
set HV4[62]=1094135882
set HV4[64]=1094135883
set HV4[67]=1094135884
set HV4[69]=1094135885
set HV4[73]=1094135886
set HV4[75]=1094135887
set HV4[76]=1094135888
set HV4[77]=1094135889
set HV4[78]=1094135890
set HV4[81]=1094135891
set HV4[82]=1094135896
set HV4[84]=1094135892
set HV4[86]=1094135893
set HV4[90]=1094135894
endfunction
function E5 takes nothing returns nothing
set HK4[FV]=450
set HK4[JV]=500
set HK4[MV]=450
set HK4[NV]=185
set HK4[OV]=450
set HK4[QV]=1000
set HK4[SV]=450
set HK4[TV]=1200
set HK4[UV]=550
set HK4[XV]=1400
set HK4[AV]=2400
set HK4[BV]=3300
set HK4[CV]=1000
set HK4[LV]=150
set HK4[EW]=700
set HK4[HW]=700
set HK4[NW]=950
set HK4[OW]=2100
set HK4[QW]=53
set HK4[RW]=2150
set HK4[TW]=2150
set HK4[UW]=150
set HK4[VW]=900
set HK4[YW]=3200
set HK4[ZW]=1600
set HK4[GX]=2700
set HK4[NX]=1000
set HK4[RX]=550
set HK4[SX]=1400
set HK4[WX]=1200
set HK4[YX]=900
set HK4[ZX]=875
set HK4[AX]=175
set HK4[GY]=350
set HK4[HY]=450
set HK4[SY]=3800
set HK4[UY]=150
set HK4[ZY]=325
set HK4[DZ]=1000
set HK4[EZ]=250
set HK4[HZ]=250
set HK4[NZ]=2100
set HK4[OZ]=1100
set HK4[RZ]=875
set HK4[UZ]=1500
set HK4[XZ]=600
set HK4[AZ]=600
set HK4[BZ]=600
set HK4[CZ]=600
set HK4[IA]=600
set HK4[JA]=600
set HK4[NA]=600
set HK4[QA]=600
set HK4[WA]=600
set HK4[YA]=600
set HK4[ZA]=200
set HK4[BA]=225
set HK4[GB]=225
set HK4[JB]=1800
set HK4[OC]=50
set HK4[PC]=0
set HK4[QC]=100
set HK4[TC]=90
set HK4[VC]=150
set HK4[WC]=200
set HK4[XC]=135
set HK4[YC]=135
set HK4[ZC]=150
set HK4[AC]=1000
set HK4[BC]=0
set HK4[CC]=180
set HK4[Y3]=1750
set HK4[Z3]=603
set HK4[B3]=803
set HK4[C3]=500
set HK4[E6]=500
set HK4[F6]=2500
set HK4[G6]=1450
set HK4[H6]=1450
set HK4[N6]=1450
set HK4[S6]=1900
set HK4[W6]=1675
set HK4[A6]=525
set HK4[DL]=485
set HK4[HL]=480
set HK4[OL]=2050
set HK4[RL]=2050
set HK4[WL]=2950
set HK4[ZL]=2950
set HK4[AL]=2200
set HK4[LL]=2700
set HK4[D1]=3300
set HK4[E1]=4150
set HK4[F1]=3300
set HK4[H1]=4150
set HK4[J1]=1850
set HK4[O1]=1850
set HK4[P1]=1900
set HK4[Q1]=2800
set HK4[R1]=3300
set HK4[T1]=2306
set HK4[U1]=4100
set HK4[V1]=4100
set HK4[X1]=4350
set HK4[A1]=2150
set HK4[D0]=3900
set HK4[E0]=3900
set HK4[J0]=3900
set HK4[N0]=3900
set HK4[O0]=3900
set HK4[R0]=3900
set HK4[X0]=0
set HK4[Y0]=5050
set HK4[B0]=5050
set HK4[C0]=3000
set HK4[F5]=2805
set HK4[G5]=4105
set HK4[J5]=5405
set HK4[M5]=6705
set HK4[N5]=8005
set HK4[R5]=2700
set HK4[S5]=3950
set HK4[T5]=5200
set HK4[W5]=5175
set HK4[A5]=5175
set HK4[B5]=6200
set HK4[L5]=5550
set HK4[E2]=5400
set HK4[F2]=5400
set HK4[H2]=5150
set HK4[P2]=5150
set HK4[R2]=5500
set HK4[T2]=6150
set HK4[W2]=5750
set HK4[X2]=5750
set HK4[Z2]=6000
set HK4[D44]=5300
set HK4[D74]=5675
set HK4[D84]=2225
set HK4[D94]=2225
set HK4[DE4]=5400
set HK4[DF4]=370
set HK4[DG4]=2050
set HK4[DH4]=5350
set HK4[DI4]=5050
set HK4[DJ4]=2125
set HK4[DK4]=2600
set HK4[DM4]=2600
set HK4[DN4]=2600
set HK4[DO4]=2600
set HK4[DP4]=4700
set HK4[DQ4]=4700
set HK4[DR4]=4125
set HK4[DS4]=1400
set HK4[DT4]=509
set HK4[DU4]=2350
set HK4[DV4]=3628
set HK4[DW4]=550
set HK4[DX4]=550
set HK4[DY4]=875
set HK4[DA4]=1600
set HK4[DB4]=200
set HK4[DC4]=200
set HK4[D34]=2000
set HK4[D64]=0
set HK4[DL4]=1400
set HK4[D04]=190
set HK4[D54]=150
set HK4[D24]=155
set HK4[D_4]=600
set HK4[E44]=600
set HK4[E74]=1000
set HK4[E84]=800
set HK4[E94]=850
set HK4[ED4]=1000
set HK4[EE4]=500
set HK4[EF4]=900
set HK4[EG4]=0
set HK4[EH4]=900
set HK4[EI4]=500
set HK4[EJ4]=1300
set HK4[EK4]=900
set HK4[EM4]=1000
set HK4[EN4]=1300
set HK4[EO4]=1250
set HK4[EP4]=1325
set HK4[EQ4]=1000
set HK4[ER4]=1350
set HK4[ES4]=1200
set HK4[ET4]=1100
set HK4[EU4]=0
set HK4[EV4]=1875
set HK4[EX4]=220
set HK4[EY4]=300
set HK4[EZ4]=1300
set HK4[EA4]=700
set HK4[EB4]=600
set HK4[EC4]=150
set HK4[E34]=300
set HK4[E64]=900
set HK4[EL4]=600
set HK4[E14]=250
set HK4[FD4]=1250
set HK4[FE4]=775
set HK4[E_4]=275
set HK4[F44]=275
set HK4[F74]=1500
set HK4[QB]=1500
set HK4[RB]=1500
set HK4[VB]=1725
set HK4[WB]=1725
set HK4[H3]=100
set HK4[M3]=1075
set HK4[F94]=200
set HK4[F84]=750
set HK4[N3]=2650
set HK4[R3]=3950
set HK4[FC]=3100
set HK4[LB]=1025
set HK4[EC]=1025
set HK4[U3]=6750
set HK4[JC]=985
set HK4[NC]=985
set HK4[W3]=1600
set HK4[FS4]=4200
set HK4[FT4]=4200
set HK4[FU4]=4200
set HK4[FV4]=4200
set HK4[FW4]=4200
set HK4[FX4]=4200
set HK4[FY4]=4200
set HK4[FZ4]=4200
set HK4[FA4]=4200
set HK4[FB4]=4200
set HK4[F34]=4200
set HK4[F64]=4200
set HK4[FL4]=4200
set HK4[F14]=4200
set HK4[F04]=4200
set HK4[F54]=4200
set HK4[F24]=4200
set HK4[F_4]=4200
set HK4[G44]=4200
set HK4[G74]=4200
set HK4[G84]=4200
set HK4[G94]=4200
set HK4[GD4]=4200
set HK4[GE4]=4200
set HK4[GG4]=4200
set HK4[GH4]=4200
set HK4[GI4]=4200
set HK4[GJ4]=4200
set HK4[GK4]=4200
set HK4[GM4]=4200
set HK4[GN4]=4200
set HK4[GO4]=4200
set HK4[GP4]=4200
set HK4[GQ4]=4200
set HK4[GR4]=4200
set HK4[GS4]=4200
set HK4[GT4]=4200
set HK4[GU4]=4200
set HK4[FC4]=4200
set HK4[GV4]=4200
set HK4[GW4]=4200
set HK4[GY4]=4200
set HK4[GZ4]=4200
set HK4[GA4]=4200
set HK4[GB4]=4200
set HK4[G34]=4200
set HK4[G64]=4200
set HK4[GL4]=4200
set HK4[G14]=4200
set HK4[G04]=4200
set HK4[G54]=4200
set HK4[G24]=4200
set HK4[GX4]=4200
endfunction
function is takes unit it returns boolean
return((GetUnitCurrentOrder(it)<852000)and(Bz>hq[832+GetPlayerId(GetOwningPlayer(it))]))
endfunction
function R17 takes unit R07 returns boolean
local integer R57=GetUnitCurrentOrder(R07)
return(R57==0)or(R57==851973)or(R57==851975)or(R57==851987)or(R57==851993)
endfunction
function iU takes unit it returns boolean
local integer X5=GetUnitCurrentOrder(it)
return((X5<852000)and(not LoadBoolean(L7,GetHandleId(it),1145131595))and((X5!=851983)or(not GZ[48+GetPlayerId(GetOwningPlayer(it))]))and(Bz>hq[832+GetPlayerId(GetOwningPlayer(it))])and(GetUnitAbilityLevel(it,1110459975)==0))
endfunction
function iy takes unit it returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(it))
return((h4[O5]==null)and((h4[160+O5]==null)or(GetWidgetLife(h4[160+O5])<=.405)or(not IsUnitInRange(h4[160+O5],it,1000.)))and(not G0[144+O5]))
endfunction
function R27 takes unit it returns boolean
local integer X5=GetUnitCurrentOrder(it)
local integer i1=GetUnitTypeId(it)
local integer R_7=GetHandleId(it)
if hq[832+GetPlayerId(GetOwningPlayer(it))]>Bz then
return false
elseif((X5==851973)or(GetWidgetLife(it)<=.405)or(IsUnitPaused(it)))then
return false
elseif(X5>852007)and(X5<852014)and((GetItemTypeId(UnitItemInSlot(it,X5-852007))==ZU[YC])or(GetItemTypeId(UnitItemInSlot(it,X5-852007))==ZU[F6]))then
return false
elseif((X5<852008)and((i1!=1328558154)or((LoadBoolean(L7,R_7,1145131595)==false))))then
return true
elseif(GetUnitAbilityLevel(it,1110459975)!=0)then
return false
endif
return((X5>852013)and(X5!=852480)and(X5!=852525)and(X5!=852487)and(X5!=852597)and((i1!=1160786243)or(X5!=852089))and((i1!=1429221451)or(X5!=852581))and((X5!=852600)or((i1!=1214931305)and(i1!=1316252014)and(i1!=1214409837)))and(((i1!=1164277353)and(i1!=1164277357)and(i1!=1160786518)and(i1!=1160786519)and(i1!=1160786517))or(X5!=852189))and((i1!=1311780946)or(X5!=852238))and((i1!=1311786311)or(X5!=852662))and((i1!=1328558389)or(X5!=852581)))
endfunction
function S47 takes unit it returns boolean
local integer X5=GetUnitCurrentOrder(it)
local integer i1=GetUnitTypeId(it)
local integer R_7=GetHandleId(it)
if hq[832+GetPlayerId(GetOwningPlayer(it))]>Bz then
return false
elseif((X5==851973)or(GetWidgetLife(it)<=.405)or(IsUnitPaused(it)))then
return false
elseif(X5>852007)and(X5<852014)and((GetItemTypeId(UnitItemInSlot(it,X5-852007))==ZU[YC])or(GetItemTypeId(UnitItemInSlot(it,X5-852007))==ZU[F6]))then
return false
elseif((X5<852008)and((i1!=1328558154)or((LoadBoolean(L7,R_7,1145131595)==false))))then
return true
elseif(X5==852600)and((i1==1212363833))then
return false
elseif(GetUnitAbilityLevel(it,1110459975)!=0)then
return false
endif
return((X5>852013)and(X5!=852480)and(X5!=852525)and(X5!=852487)and(X5!=852597)and((i1!=1160786243)or(X5!=852089))and((i1!=1315334514)or(X5!=852127))and((i1!=1429221451)or(X5!=852581))and((X5!=852553)or((i1!=1211117641)and(i1!=1211117642)))and((X5!=852600)or((i1!=1214931305)and(i1!=1316252014)and(i1!=1214409837)))and(((i1!=1164277353)and(i1!=1164277357)and(i1!=1160786518)and(i1!=1160786519)and(i1!=1160786517))or(X5!=852189))and((i1!=1311780946)or(X5!=852238))and((i1!=1311786311)or(X5!=852662))and((i1!=1328558389)or(X5!=852581))and((i1!=1429221451)or(X5!=852503))and((i1!=1311780930)or(X5!=852514))and(((i1==1211119192)or(i1==1211119193)or(i1==1211119191))or(X5!=852248)))
endfunction
function i2 takes unit it returns boolean
local integer X5=GetUnitCurrentOrder(it)
local integer i1=GetUnitTypeId(it)
if(X5<852008)then
return false
endif
return((X5<=852013)or(X5==852480)or(X5==852487)or(X5==852597)or((i1==1328558154)and LoadBoolean(L7,GetHandleId(it),1145131595))or((i1==1160786243)and(X5==852089))or((i1==1315334514)and(X5==852127))or((i1==1429221451)and(X5==852581))or(((i1==1214931305)or(i1==1316252014)or(i1==1214409837))and(X5==852600)))
endfunction
function S77 takes integer O5 returns player
if((O5>0)and(O5<6))then
return Z7[O5]
elseif((O5>5)and(O5<11))then
return A7[O5-5]
endif
return null
endfunction
function S87 takes string O5 returns player
if O5=="0" then
set bj_forLoopAIndex=10
else
set bj_forLoopAIndex=S2I(O5)
endif
if((bj_forLoopAIndex>0)and(bj_forLoopAIndex<6))then
return Z7[bj_forLoopAIndex]
elseif((bj_forLoopAIndex>5)and(bj_forLoopAIndex<11))then
return A7[bj_forLoopAIndex-5]
endif
return null
endfunction
function i5 takes player pl returns integer
local integer O5=1
loop
exitwhen O5>5
if(pl==Z7[O5])then
return O5
elseif(pl==A7[O5])then
return O5+5
endif
set O5=O5+1
endloop
return 0
endfunction
function S97 takes unit PI7 returns boolean
if IsUnitAlly(PI7,Z7[0])then
return IsUnitVisible(PI7,Z74)
else
return IsUnitVisible(PI7,Z44)
endif
return false
endfunction
function SD7 takes unit PI7 returns boolean
if IsUnitAlly(PI7,Z7[0])then
return IsVisibleToPlayer(GetUnitX(PI7),GetUnitY(PI7),Z74)
else
return IsVisibleToPlayer(GetUnitX(PI7),GetUnitY(PI7),Z44)
endif
return false
endfunction
function SE7 takes unit it returns boolean
return(GetWidgetLife(it)>.405 and((not IsUnitType(it,UNIT_TYPE_HERO))or(not IG4[GetPlayerId(GetOwningPlayer(it))])))
endfunction
function SF7 takes unit SG7,unit PI7 returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(PI7))
return((IsUnitType(SG7,UNIT_TYPE_HERO))and(((R2I(GetWidgetLife(SG7))<(300+(GetHeroLevel(SG7)*30)))and(GetUnitLifePercent(SG7)<40.))or((hq[624+O5]>Bz and h4[O5]==SG7)))and(SE7(SG7)))
endfunction
function SH7 takes unit it returns boolean
return((IsUnitType(it,UNIT_TYPE_HERO))and(R2I(GetWidgetLife(it))<(300+(GetHeroLevel(it)*30)))and(GetUnitLifePercent(it)<40.)and(SE7(it)))
endfunction
function SI7 takes integer O5 returns boolean
return(hq[624+O5]>Bz and h4[O5]!=null)and(not SH7(M7[O5]))
endfunction
function SJ7 takes unit it returns boolean
return((GetUnitAbilityLevel(it,1110459472)>0)or(GetUnitAbilityLevel(it,1093687122)>0)or(GetUnitAbilityLevel(it,1110454856)>0))
endfunction
function SK7 takes unit it returns boolean
return((IsUnitType(it,UNIT_TYPE_HERO))and(R2I(GetWidgetLife(it))<(600+(GetHeroLevel(it)*30)))and(GetWidgetLife(it)>.405))
endfunction
function SM7 takes unit it,unit IB returns boolean
return((IsUnitType(it,UNIT_TYPE_HERO))and(R2I(GetWidgetLife(it))<(300+(GetHeroLevel(it)*30)))and(GetUnitLifePercent(it)<40.)and(GetWidgetLife(it)>.405)and(GetUnitState(IB,UNIT_STATE_LIFE)>(GetUnitState(it,UNIT_STATE_LIFE)-(10.*GetHeroLevel(IB)))))
endfunction
function IC takes integer O5 returns boolean
return((V[O5]-3)>=T[O5])
endfunction
function Id takes integer O5 returns boolean
return((h4[O5]!=null)and(SM7(h4[O5],M7[O5])))
endfunction
function Ie takes rect r,boolexpr Ig returns unit
call GroupClear(ig)
call GroupEnumUnitsInRect(ig,r,Ig)
set bj_groupRandomConsidered=0
set bj_groupRandomCurrentPick=null
call ForGroup(ig,function GroupPickRandomUnitEnum)
call DestroyBoolExpr(Ig)
return bj_groupRandomCurrentPick
endfunction
function SN7 takes nothing returns nothing
set bj_groupCountUnits=bj_groupCountUnits+1
set M37=M37+GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)
endfunction
function IH takes player pl,boolexpr Ig returns integer
call GroupClear(ig)
call GroupEnumUnitsOfPlayer(ig,pl,Ig)
set bj_groupCountUnits=0
call ForGroup(ig,function CountUnitsInGroupEnum)
call DestroyBoolExpr(Ig)
return bj_groupCountUnits
endfunction
function SO7 takes real Im,location b5,boolexpr Ig returns unit
set bj_groupRandomConsidered=0
set bj_groupRandomCurrentPick=null
call GroupClear(H9)
call GroupEnumUnitsInRangeOfLoc(H9,b5,Im,Ig)
call ForGroup(H9,function GroupPickRandomUnitEnum)
call DestroyBoolExpr(Ig)
return bj_groupRandomCurrentPick
endfunction
function SP7 takes real Im,unit PI7,boolexpr Ig returns unit
set bj_groupRandomConsidered=0
set bj_groupRandomCurrentPick=null
call GroupClear(H9)
call GroupEnumUnitsInRange(H9,GetUnitX(PI7),GetUnitY(PI7),Im,Ig)
call ForGroup(H9,function GroupPickRandomUnitEnum)
call DestroyBoolExpr(Ig)
return bj_groupRandomCurrentPick
endfunction
function SQ7 takes real Im,location b5,boolexpr Ig returns unit
call GroupClear(H9)
call GroupEnumUnitsInRangeOfLoc(H9,b5,Im,Ig)
call DestroyBoolExpr(Ig)
return FirstOfGroup(H9)
endfunction
function SR7 takes real Im,location b5,boolexpr Ig returns integer
call GroupClear(H8)
call GroupEnumUnitsInRangeOfLoc(H8,b5,Im,Ig)
set bj_groupCountUnits=0
call ForGroup(H8,function CountUnitsInGroupEnum)
call DestroyBoolExpr(Ig)
return bj_groupCountUnits
endfunction
function SS7 takes real Im,unit it,boolexpr Ig returns integer
call GroupClear(H8)
call GroupEnumUnitsInRange(H8,GetUnitX(it),GetUnitY(it),Im,Ig)
set bj_groupCountUnits=0
set M37=0.
call ForGroup(H8,function SN7)
call DestroyBoolExpr(Ig)
return bj_groupCountUnits
endfunction
function IV takes real x,real y,real IW,boolexpr Ig,code IX returns nothing
call GroupClear(iF)
call GroupEnumUnitsInRange(iF,x,y,IW,Ig)
call ForGroup(iF,IX)
call DestroyBoolExpr(Ig)
endfunction
function ST7 takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1697656915)or(i1==1697657137)or(i1==1697656914)or(i1==1697657145)or(i1==1966092366)or(i1==1966092356)or(i1==1966092365)or(i1==1966092372)))
endfunction
function SU7 takes unit it,integer Iz returns boolean
local integer I8=0
local item ja
set bj_lastCreatedItem=null
loop
set ja=UnitItemInSlot(it,I8)
if((ja!=null)and(GetItemTypeId(ja)==Iz))then
set bj_lastCreatedItem=ja
set ja=null
return true
endif
set I8=I8+1
exitwhen I8>=bj_MAX_INVENTORY
endloop
set ja=null
return false
endfunction
function SV7 takes unit it returns boolean
local integer I8=0
loop
if(UnitItemInSlot(it,I8)==null)then
return false
endif
set I8=I8+1
exitwhen(I8>=bj_MAX_INVENTORY)
endloop
return true
endfunction
function SW7 takes unit it returns boolean
local integer I8=0
loop
if(UnitItemInSlot(it,I8)!=null)then
return false
endif
set I8=I8+1
exitwhen(I8>=bj_MAX_INVENTORY)
endloop
return true
endfunction
function SX7 takes unit S4,integer n5,item Z4 returns item
local integer D5
local item f5
set D5=0
loop
exitwhen D5>5
set f5=UnitItemInSlot(S4,D5)
if f5!=null and f5!=Z4 and GetItemTypeId(f5)==n5 then
set f5=null
return UnitItemInSlot(S4,D5)
endif
set D5=D5+1
endloop
set f5=null
return null
endfunction
function SY7 takes unit S4,integer n5 returns item
local integer D5
local item f5
set D5=0
loop
exitwhen D5>5
set f5=UnitItemInSlot(S4,D5)
if(f5!=null)and(GetItemTypeId(f5)==n5)then
set f5=null
return UnitItemInSlot(S4,D5)
endif
set D5=D5+1
endloop
set f5=null
return null
endfunction
function SZ7 takes integer i1 returns boolean
return(i1==ZU[D0]or i1==ZU[E0]or i1==ZU[J0]or i1==ZU[N0]or i1==ZU[O0]or i1==ZU[R0])
endfunction
function SA7 takes integer i1,integer Iz,boolean SB7 returns boolean
if i1==Iz then
return true
elseif(i1==DW4 or i1==DX4)and(Iz==DW4 or Iz==DX4)then
return true
elseif(i1==EZ or i1==HZ)and(Iz==EZ or Iz==HZ)then
return true
elseif(i1==BA or i1==GB)and(Iz==BA or Iz==GB)then
return true
elseif(i1==WL or i1==ZL)and(Iz==WL or Iz==ZL)then
return true
elseif(i1==QB or i1==RB)and(Iz==QB or Iz==RB)then
return true
elseif(i1==Y0 or i1==B0)and(Iz==Y0 or Iz==B0)then
return true
elseif(i1==W2 or i1==X2)and(Iz==W2 or Iz==X2)then
return true
elseif(i1==D84 or i1==D94)and(Iz==D84 or Iz==D94)then
return true
elseif(i1==XZ or i1==AZ or i1==BZ or i1==CZ or i1==IA or i1==JA or i1==NA or i1==QA or i1==WA or i1==YA)and(Iz==XZ or Iz==AZ or Iz==BZ or Iz==CZ or Iz==IA or Iz==JA or Iz==NA or Iz==QA or Iz==WA or Iz==YA)then
return true
elseif(i1==VB or i1==WB)and(Iz==VB or Iz==WB)then
return true
elseif(i1==G6 or i1==H6 or i1==N6)and(Iz==G6 or Iz==H6 or Iz==N6)then
return true
elseif(i1==DY4 or i1==DZ4)and(Iz==DY4 or Iz==DZ4)then
return true
elseif SB7 and((i1==D1 or i1==F1 or i1==E1 or i1==H1)and(Iz==D1 or Iz==F1 or Iz==E1 or Iz==H1))then
return true
elseif(i1==D1 or i1==F1)and(Iz==D1 or Iz==F1)then
return true
elseif(i1==E1 or i1==H1)and(Iz==E1 or Iz==H1)then
return true
elseif SB7 and((i1==F5 or i1==G5 or i1==J5 or i1==M5 or i1==N5)and(Iz==F5 or Iz==G5 or Iz==J5 or Iz==M5 or Iz==N5))then
return true
elseif SB7 and((i1==R5 or i1==S5 or i1==T5)and(Iz==R5 or Iz==S5 or Iz==T5))then
return true
elseif(i1==D0 or i1==E0 or i1==J0 or i1==N0 or i1==O0 or i1==R0)and(Iz==D0 or Iz==E0 or Iz==J0 or Iz==N0 or Iz==O0 or Iz==R0)then
return true
elseif(i1==C3 or i1==E6)and(Iz==C3 or Iz==E6)then
return true
elseif(i1==JC or i1==NC)and(Iz==JC or Iz==NC)then
return true
elseif(i1==H2 or i1==P2)and(Iz==H2 or Iz==P2)then
return true
elseif(i1==E2 or i1==F2)and(Iz==E2 or Iz==F2)then
return true
elseif(i1==R2 or i1==S2)and(Iz==R2 or Iz==S2)then
return true
elseif(i1==DK4 or i1==DM4 or i1==DN4 or i1==DO4)and(Iz==DK4 or Iz==DM4 or Iz==DN4 or Iz==DO4)then
return true
elseif(i1==XC or i1==YC)and(Iz==XC or Iz==YC)then
return true
elseif(i1==W5 or i1==A5)and(Iz==W5 or Iz==A5)then
return true
elseif(i1==B5 or i1==C5)and(Iz==B5 or Iz==C5)then
return true
elseif(i1==J1 or i1==O1)and(Iz==J1 or Iz==O1)then
return true
elseif(i1==EW or i1==HW)and(Iz==EW or Iz==HW)then
return true
elseif(i1==S6 or i1==V6)and(Iz==S6 or Iz==V6)then
return true
elseif(i1==DP4 or i1==DQ4)and(Iz==DP4 or Iz==DQ4)then
return true
endif
return false
endfunction
function SC7 takes unit it,integer Iz returns boolean
local integer i=0
local item ja
local integer i1
local boolean S37=false
set i=0
loop
exitwhen i>EV
if SU[i]==Iz or ZU[i]==Iz or BU[i]==Iz then
set Iz=i
exitwhen true
endif
set i=i+1
endloop
if i>EV then
return false
endif
set i=0
set bj_lastCreatedItem=null
loop
set ja=UnitItemInSlot(it,i)
if ja!=null then
set i1=RB7(ja)
if SA7(i1,Iz,true)then
set bj_lastCreatedItem=ja
set ja=null
return true
endif
endif
set i=i+1
exitwhen i>=bj_MAX_INVENTORY
endloop
set ja=null
return false
endfunction
function S67 takes unit it returns boolean
local integer I8=0
local item ja
set bj_lastCreatedItem=null
loop
set ja=UnitItemInSlot(it,I8)
if((ja!=null)and(GetItemTypeId(ja)==ZU[DT4]or GetItemTypeId(ja)==ZU[ZA]))then
set bj_lastCreatedItem=ja
set ja=null
return true
endif
set I8=I8+1
exitwhen I8>=bj_MAX_INVENTORY
endloop
set ja=null
return false
endfunction
function SL7 takes unit j5,integer Iz returns boolean
local boolean jR=false
local integer O5
if(SC7(j5,Iz))then
set O5=GetPlayerId(GetOwningPlayer(j5))
set GZ[224+O5]=true
set jR=UnitUseItem(j5,bj_lastCreatedItem)
set GZ[224+O5]=false
endif
return jR
endfunction
function S17 takes unit S07,unit S57 returns boolean
local boolean S27=false
local integer O5=GetPlayerId(GetOwningPlayer(S07))
if((TL4)and(not T24[O5])and(GetUnitTypeId(S07)!=1211117642)and(not IsUnitIllusion(S07))and(Bz>T54[O5])and(S57!=null)and(GetUnitLevel(S07)>5)and(GetUnitState(S07,UNIT_STATE_MANA)>300)and(not SU7(S07,ZU[F5]))and(not SU7(S07,ZU[G5]))and(not SU7(S07,ZU[J5]))and(not SU7(S07,ZU[M5]))and(not SU7(S07,ZU[N5]))and(GetRandomInt(1,4)!=4))then
if(GetUnitLevel(S07)>12 and GetUnitLevel(S07)<20)then
set UF4=GetRandomInt(3,5)
elseif(GetUnitLevel(S07)>19 and GetUnitLevel(S07)<25)then
set UF4=GetRandomInt(4,5)
elseif(GetUnitLevel(S07)>24)then
set UF4=5
else
set UF4=GetRandomInt(1,5)
endif
set U44[O5]=CreateItem(T14[UF4],9999,-9999)
set T24[O5]=false
if(U44[O5]!=null)then
set T_4[O5]=UnitItemInSlot(S07,5)
if(T_4[O5]!=null)then
call DisableTrigger(H94)
call UnitRemoveItem(S07,T_4[O5])
call SetItemPosition(T_4[O5],9999,-9999)
call EnableTrigger(H94)
endif
call R97(0.2)
set T24[O5]=(UnitAddItem(S07,U44[O5]))
call SetItemPlayer(U44[O5],GetOwningPlayer(S07),true)
endif
if(T24[O5])then
else
if(T_4[O5]!=null)then
call R97(0.2)
call UnitAddItem(S07,T_4[O5])
call RA7(U44[O5])
endif
set T24[O5]=false
set U44[O5]=null
set T_4[O5]=null
endif
else
if((SU7(S07,ZU[N5]))and(not IsUnitIllusion(S57))and(IsUnitInRange(S07,S57,800.))and((GetUnitState(S57,UNIT_STATE_LIFE)>10.)and(GetUnitState(S57,UNIT_STATE_LIFE)<650.)))then
set S27=(S57!=null)and(UnitUseItemTarget(S07,bj_lastCreatedItem,S57))
elseif((SU7(S07,ZU[M5]))and(not IsUnitIllusion(S57))and(IsUnitInRange(S07,S57,750.))and((GetUnitState(S57,UNIT_STATE_LIFE)>10.)and(GetUnitState(S57,UNIT_STATE_LIFE)<550.)))then
set S27=(S57!=null)and(UnitUseItemTarget(S07,bj_lastCreatedItem,S57))
elseif((SU7(S07,ZU[J5]))and(not IsUnitIllusion(S57))and(IsUnitInRange(S07,S57,700.))and((GetUnitState(S57,UNIT_STATE_LIFE)>10.)and(GetUnitState(S57,UNIT_STATE_LIFE)<450.)))then
set S27=(S57!=null)and(UnitUseItemTarget(S07,bj_lastCreatedItem,S57))
elseif((SU7(S07,ZU[G5]))and(not IsUnitIllusion(S57))and(IsUnitInRange(S07,S57,650.))and((GetUnitState(S57,UNIT_STATE_LIFE)>10.)and(GetUnitState(S57,UNIT_STATE_LIFE)<350.)))then
set S27=(S57!=null)and(UnitUseItemTarget(S07,bj_lastCreatedItem,S57))
elseif((SU7(S07,ZU[F5]))and(not IsUnitIllusion(S57))and(IsUnitInRange(S07,S57,600.))and((GetUnitState(S57,UNIT_STATE_LIFE)>10.)and(GetUnitState(S57,UNIT_STATE_LIFE)<250.)))then
set S27=(S57!=null)and(UnitUseItemTarget(S07,bj_lastCreatedItem,S57))
endif
endif
return S27
endfunction
function ju takes group jU,code IX returns nothing
call ForGroup(jU,IX)
call DestroyGroup(jU)
endfunction
function S_7 takes widget it returns location
call MoveLocation(HA,GetWidgetX(it),GetWidgetY(it))
return HA
endfunction
function T47 takes unit u,integer X5,unit m5 returns boolean
local integer j=0
local integer O5=0
if(h7[GetUnitUserData(m5)]!=m5)or(X5!=851983 and X5!=851986 and X5!=851971)then
return IssuePointOrderById(u,X5,GetUnitX(m5),GetUnitY(m5))
endif
set j=GetUnitUserData(m5)
if j<=0 or j>=100 then
return IssuePointOrderById(u,X5,GetUnitX(m5),GetUnitY(m5))
else
set EU7=PR7(u,m5)-90
set O5=GetPlayerId(GetOwningPlayer(u))
return IssuePointOrderById(u,X5,GetUnitX(m5)+hq[864+O5]*Cos(EU7*bj_DEGTORAD),GetUnitY(m5)+hq[864+O5]*Sin(EU7*bj_DEGTORAD))
endif
endfunction
function j1 takes unit j4,rect Ja returns real
local real JD=GetRectCenterX(Ja)-GetUnitX(j4)
local real Je=GetRectCenterY(Ja)-GetUnitY(j4)
return SquareRoot(JD*JD+Je*Je)
endfunction
function T77 takes unit x6,integer X5,integer o6,unit m5 returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(x6))
if(GetPlayerController(GetOwningPlayer(x6))!=MAP_CONTROL_COMPUTER)then
return false
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,true)
call DisableTrigger(Q04[O5])
if(IssueTargetOrderById(x6,X5,m5))then
call EnableTrigger(Q04[O5])
return true
endif
call EnableTrigger(Q04[O5])
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,(false))
return false
endfunction
function T87 takes unit x6,integer X5,integer o6,location b5 returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(x6))
if b5==null or(GetPlayerController(GetOwningPlayer(x6))!=MAP_CONTROL_COMPUTER)then
return false
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,(true))
call DisableTrigger(Q04[O5])
if(IssuePointOrderById(x6,X5,GetLocationX(b5),GetLocationY(b5)))then
call EnableTrigger(Q04[O5])
return true
endif
call EnableTrigger(Q04[O5])
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,false)
return false
endfunction
function T97 takes unit x6,integer X5,integer o6,integer n6,unit m5 returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(x6))
if(not QY4[O5]or o6==0)or(GetPlayerController(GetOwningPlayer(x6))!=MAP_CONTROL_COMPUTER)then
return false
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,(true))
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),n6,(true))
call DisableTrigger(Q04[O5])
if(IssueTargetOrderById(x6,X5,m5))then
call EnableTrigger(Q04[O5])
return true
endif
call EnableTrigger(Q04[O5])
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),n6,false)
return false
endfunction
function TD7 takes unit x6,integer X5,integer o6,integer n6,real x,real y returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(x6))
if(not QY4[O5]or o6==0)or(GetPlayerController(GetOwningPlayer(x6))!=MAP_CONTROL_COMPUTER)then
return false
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),n6,true)
call DisableTrigger(Q04[O5])
if(IssuePointOrderById(x6,X5,x,y))then
call EnableTrigger(Q04[O5])
return true
endif
call EnableTrigger(Q04[O5])
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),n6,false)
return false
endfunction
function TE7 takes unit u returns boolean
call SaveInteger(EE7,E,GetHandleId(u),1)
return true
endfunction
function TF7 takes unit u,string R57,widget O37 returns boolean
return IssueTargetOrder(u,R57,O37)and TE7(u)
endfunction
function TG7 takes unit x6,integer X5,integer o6 returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(x6))
if(not QY4[O5]or o6==0)or(GetPlayerController(GetOwningPlayer(x6))!=MAP_CONTROL_COMPUTER)then
return false
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,true)
call DisableTrigger(Q04[16+O5])
if(IssueImmediateOrderById(x6,X5))then
call EnableTrigger(Q04[16+O5])
return true
endif
call EnableTrigger(Q04[16+O5])
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,false)
return false
endfunction
function TH7 takes unit TI7 returns nothing
call SaveBoolean(EE7,E,GetHandleId(TI7),true)
endfunction
function Jw takes unit it returns boolean
return((Z84[GetPlayerId(GetOwningPlayer(it))]!=ZD4)or(GetRandomInt(1,5)<=2))
endfunction
function JW takes unit it returns unit
if(IsUnitAlly(it,Z7[0]))then
return h7[1]
else
return h7[101]
endif
endfunction
function TJ7 takes unit it returns unit
if(IsUnitAlly(it,Z7[0]))then
return h7[0]
else
return h7[100]
endif
endfunction
function JX takes unit it returns unit
if(IsUnitAlly(it,A7[0]))then
return h7[0]
else
return h7[100]
endif
endfunction
function TK7 takes boolean TM7 returns integer
if(TM7)then
return HC4
else
return HB4
endif
endfunction
function TN7 takes integer O5,boolean TM7 returns player
if(TM7)then
return Z7[O5]
else
return A7[O5]
endif
endfunction
function TO7 takes boolean TM7 returns player
if(TM7)then
return QT4
else
return QU4
endif
endfunction
function TP7 takes boolean TM7 returns player
if(TM7)then
return QV4
else
return QW4
endif
endfunction
function TQ7 takes integer Gu returns nothing
call FlushChildHashtable(L7,Gu)
endfunction
function TR7 takes integer TS7,string GW returns nothing
call RemoveSavedHandle(L7,TS7,StringHash(GW))
endfunction
function TT7 takes integer Gu,string GW,integer Gy returns nothing
call SaveInteger(L7,Gu,StringHash(GW),Gy)
endfunction
function TU7 takes integer Gu,string GW,real Gy returns nothing
call SaveReal(L7,Gu,StringHash(GW),Gy)
endfunction
function TV7 takes integer Gu,string GW,string Gy returns nothing
call SaveStr(L7,Gu,StringHash(GW),Gy)
endfunction
function TW7 takes integer Gu,string GW,boolean Gy returns nothing
call SaveBoolean(L7,Gu,StringHash(GW),Gy)
endfunction
function TX7 takes integer Gu,string GW,unit Gy returns nothing
call SaveUnitHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function TY7 takes integer Gu,string GW,effect Gy returns nothing
call SaveEffectHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function TZ7 takes integer Gu,string GW,trigger Gy returns nothing
call SaveTriggerHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function TA7 takes integer Gu,string GW,lightning Gy returns nothing
call SaveLightningHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function TB7 takes integer Gu,string GW,fogmodifier Gy returns nothing
call SaveFogModifierHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function TC7 takes integer Gu,string GW,destructable Gy returns nothing
call SaveDestructableHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function T37 takes integer Gu,string GW,player Gy returns nothing
call SavePlayerHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function T67 takes integer Gu,string GW,item Gy returns nothing
call SaveItemHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function TL7 takes integer Gu,string GW,group Gy returns nothing
call SaveGroupHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function T17 takes integer Gu,string GW,timer Gy returns nothing
call SaveTimerHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function T07 takes integer Gu,string GW,widget Gy returns nothing
call SaveWidgetHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function T57 takes integer Gu,string GW,texttag Gy returns nothing
call SaveTextTagHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function T27 takes integer Gu,string GW,location Gy returns nothing
call SaveLocationHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function T_7 takes integer Gu,string GW,boolexpr Gy returns nothing
call SaveBooleanExprHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function U47 takes integer Gu,string GW,button Gy returns nothing
call SaveButtonHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function U77 takes integer Gu,string GW,image Gy returns nothing
call SaveImageHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function U87 takes integer Gu,string GW,force Gy returns nothing
call SaveForceHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function U97 takes integer Gu,string GW returns fogmodifier
return LoadFogModifierHandle(L7,Gu,StringHash(GW))
endfunction
function UD7 takes integer Gu,string GW returns destructable
return LoadDestructableHandle(L7,Gu,StringHash(GW))
endfunction
function UE7 takes integer Gu,string GW returns unit
return LoadUnitHandle(L7,Gu,StringHash(GW))
endfunction
function UF7 takes integer Gu,string GW returns texttag
return LoadTextTagHandle(L7,Gu,StringHash(GW))
endfunction
function UG7 takes integer Gu,string GW returns player
return LoadPlayerHandle(L7,Gu,StringHash(GW))
endfunction
function UH7 takes integer Gu,string GW returns timer
return LoadTimerHandle(L7,Gu,StringHash(GW))
endfunction
function UI7 takes integer Gu,string GW returns trigger
return LoadTriggerHandle(L7,Gu,StringHash(GW))
endfunction
function UJ7 takes integer Gu,string GW returns group
return LoadGroupHandle(L7,Gu,StringHash(GW))
endfunction
function UK7 takes integer Gu,string GW returns effect
return LoadEffectHandle(L7,Gu,StringHash(GW))
endfunction
function UM7 takes integer Gu,string GW returns lightning
return LoadLightningHandle(L7,Gu,StringHash(GW))
endfunction
function UN7 takes integer Gu,string GW returns location
return LoadLocationHandle(L7,Gu,StringHash(GW))
endfunction
function UO7 takes integer Gu,string GW returns item
return LoadItemHandle(L7,Gu,StringHash(GW))
endfunction
function UP7 takes integer Gu,string GW returns image
return LoadImageHandle(L7,Gu,StringHash(GW))
endfunction
function UQ7 takes integer Gu,string GW returns integer
return LoadInteger(L7,Gu,StringHash(GW))
endfunction
function UR7 takes integer Gu,string GW returns real
return LoadReal(L7,Gu,StringHash(GW))
endfunction
function US7 takes integer Gu,string GW returns boolean
return LoadBoolean(L7,Gu,StringHash(GW))
endfunction
function UT7 takes integer Gu,string GW returns string
return LoadStr(L7,Gu,StringHash(GW))
endfunction
function UU7 takes integer ki,string kI returns button
return LoadButtonHandle(L7,ki,StringHash(kI))
endfunction
function UV7 takes integer ki,string kI returns boolexpr
return LoadBooleanExprHandle(L7,ki,StringHash(kI))
endfunction
function UW7 takes integer ki,string kI returns force
return LoadForceHandle(L7,ki,StringHash(kI))
endfunction
function UX7 takes unit hI,string Hh returns boolean
return LoadInteger(L7,GetHandleId(hI),StringHash("state"+Hh))==1
endfunction
function UY7 takes trigger hI,string Hh returns boolean
return LoadInteger(L7,GetHandleId(hI),StringHash("state"+Hh))==1
endfunction
function UZ7 takes unit hI,string Hh returns nothing
call SaveInteger(L7,GetHandleId(hI),StringHash("state"+Hh),1)
endfunction
function UA7 takes trigger hI,string Hh returns nothing
call SaveInteger(L7,GetHandleId(hI),StringHash("state"+Hh),1)
endfunction
function UB7 takes unit hI,string Hh returns nothing
call SaveInteger(L7,GetHandleId(hI),StringHash("state"+Hh),2)
endfunction
function UC7 takes trigger hI,string Hh returns nothing
call SaveInteger(L7,GetHandleId(hI),StringHash("state"+Hh),2)
endfunction
function l5 takes nothing returns nothing
local integer i=0
if D9==false and PT4==false then
loop
call DisplayTimedTextToPlayer(Player(i),0,0,120,"|c00ff0303An internal checksum has failed|r")
call DisplayTimedTextToPlayer(Player(i),0,0,120,"|c00ff0303This might not be a serious glitch, but it is important for me to get it|r")
call DisplayTimedTextToPlayer(Player(i),0,0,120,"|c00ff0303Please send me the replay for this game to IceFrog@gmail.com|r")
set i=i+1
exitwhen i==12
endloop
endif
endfunction
function U37 takes trigger t returns nothing
call DisableTrigger(t)
set Dy=Dy+1
set Dx[Dy]=t
set DX[Dy]=RT7()+60
if Dy>8000 then
call l5()
endif
endfunction
function U67 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
call UB7(UE7(UL7,"hero"),UT7(UL7,"state"))
call TQ7(UL7)
call U37(t)
set t=null
return false
endfunction
function U17 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
call UC7(UI7(UL7,"hero"),UT7(UL7,"state"))
call TQ7(UL7)
call U37(t)
set t=null
return false
endfunction
function U07 takes unit hI,string Hh,real Hk returns nothing
local trigger t=CreateTrigger()
call TriggerAddCondition(t,Condition(function U67))
call TriggerRegisterTimerEvent(t,Hk,false)
call UZ7(hI,Hh)
call TX7(GetHandleId(t),"hero",hI)
call TV7(GetHandleId(t),"state",Hh)
set t=null
endfunction
function U57 takes trigger hI,string Hh,real Hk returns nothing
local trigger t=CreateTrigger()
call TriggerAddCondition(t,Condition(function U17))
call TriggerRegisterTimerEvent(t,Hk,false)
call UA7(hI,Hh)
call TZ7(GetHandleId(t),"hero",hI)
call TV7(GetHandleId(t),"state",Hh)
set t=null
endfunction
function U27 takes group g returns integer
set bj_groupCountUnits=0
call ForGroup(g,function CountUnitsInGroupEnum)
return bj_groupCountUnits
endfunction
function U_7 takes force V47,force V77 returns force
local integer V87=0
loop
exitwhen V87>11
if IsPlayerInForce(Player(V87),V47)then
call ForceAddPlayer(V77,Player(V87))
endif
set V87=V87+1
endloop
return V77
endfunction
function V97 takes unit PI7,string VD7,player VE7 returns nothing
local integer V87=0
local integer VF7=0
local unit VG7=null
local real VH7=0
local string VI7=""
local string VJ7=""
set V87=GetPlayerId(VE7)
set VG7=M7[V87]
if PI7!=null then
set VF7=GetPlayerId(GetOwningPlayer(PI7))
else
set VF7=15
endif
if not(VF7==0 or VF7==6 or VF7==15)then
if VG7!=null and GetWidgetLife(VG7)>.405 and PI7!=null then
set VH7=RH7(PI7,VG7)
if VH7<=1500 then
set VI7=""
elseif VH7<=3000. then
set VI7="|c00c0c0c0"
else
set VI7="|c00a0a0a0"
endif
endif
set VJ7="|r"+Q[VF7]+KZ4[VF7]+"|r: "+VI7+VD7+"|r"
elseif VF7==GetPlayerId(Z7[0])then
set VJ7="[AI] "+Q[VF7]+"The Sentinel|r: "+VD7
elseif VF7==GetPlayerId(A7[0])then
set VJ7="[AI] "+Q[VF7]+"The Scourge|r: "+VD7
elseif VF7==12 then
set VJ7="[AI]: "+VD7+"|r"
endif
if DQ7[V87]and VE7==GetLocalPlayer()then
call DisplayTimedTextToPlayer(VE7,0,0,10,VJ7)
endif
set VG7=null
set VI7=""
endfunction
function VK7 takes group VM7,string VJ7,force VN7 returns nothing
local integer V87=0
local unit PI7=null
local string VO7="|r"
local integer i=1
loop
exitwhen i>10
set PI7=M7[GetPlayerId(S77(i))]
if IsUnitInGroup(PI7,VM7)then
call GroupRemoveUnit(VM7,PI7)
set V87=GetPlayerId(GetOwningPlayer(PI7))
if VO7!="|r" then
set VO7=VO7+", "
endif
set VO7=VO7+Q[V87]+KZ4[V87]+"|r"
endif
set i=i+1
endloop
loop
set PI7=FirstOfGroup(VM7)
exitwhen PI7==null
call GroupRemoveUnit(VM7,PI7)
set V87=GetPlayerId(GetOwningPlayer(PI7))
if VO7!="|r" then
set VO7=VO7+", "
endif
set VO7=VO7+Q[V87]+KZ4[V87]+"|r"
endloop
set VO7=VO7+": "
if(IsPlayerInForce(GetLocalPlayer(),VN7))then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,10.,VO7)
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,10.,"      - "+VJ7)
endif
endfunction
function VP7 takes nothing returns nothing
local timer VQ7=GetExpiredTimer()
local force VR7=null
local integer V87=1
local unit PI7=null
local group VM7=null
local integer VS7=GetHandleId(VQ7)
local string VJ7=""
if US7(VS7,"Personal")then
set VR7=UW7(VS7,"Target")
set VJ7=UT7(VS7,"SubTag")
set PI7=UE7(VS7,"Owner")
loop
exitwhen V87>11
if IsPlayerInForce(Player(V87),VR7)then
if VJ7==" " then
call DisplayTimedTextToPlayer(Player(V87),0,0,10,VJ7)
else
call V97(PI7,VJ7,Player(V87))
endif
endif
set V87=V87+1
endloop
call TQ7(VS7)
call DestroyTimer(VQ7)
else
set VJ7=UT7(VS7,"SubTag")
set VS7=StringHash("cAI|Re"+VJ7)
set VR7=UW7(VS7,"Target")
set VM7=UJ7(VS7,"Owner")
if UQ7(VS7,"CountDn")==0 then
call PauseTimer(VQ7)
if U27(VM7)==1 then
set PI7=FirstOfGroup(VM7)
loop
exitwhen V87>11
if IsPlayerInForce(Player(V87),VR7)then
call V97(PI7,VJ7,Player(V87))
endif
set V87=V87+1
endloop
else
call VK7(VM7,VJ7,VR7)
endif
call DestroyGroup(VM7)
call TQ7(VS7)
call DestroyTimer(VQ7)
else
call TT7(VS7,"CountDn",UQ7(VS7,"CountDn")-1)
endif
endif
set VM7=null
set VR7=null
endfunction
function VT7 takes unit PI7,force VR7,string VJ7 returns nothing
local force VU7=null
local group VV7=null
local timer VQ7=null
local integer V87=1
local boolean S37=true
local boolean VW7=false
local integer VS7=0
if PI7==null then
set PI7=KU4[bj_forLoopAIndex]
endif
set VS7=StringHash("cAI|Re"+VJ7)
set VU7=UW7(VS7,"Target")
if VU7==null and VJ7!=" " then
set VW7=true
set VU7=U_7(VR7,CreateForce())
call U87(VS7,"Target",VU7)
set VQ7=CreateTimer()
call TV7(GetHandleId(VQ7),"SubTag",VJ7)
set VV7=CreateGroup()
call GroupAddUnit(VV7,PI7)
call TL7(VS7,"Owner",VV7)
else
if VJ7==" " then
set S37=false
else
set S37=true
set V87=1
loop
exitwhen V87>11
if IsPlayerInForce(Player(V87),VR7)then
if not IsPlayerInForce(Player(V87),VU7)then
set S37=false
set V87=11
endif
endif
set V87=V87+1
endloop
endif
if S37 then
set VV7=UJ7(VS7,"Owner")
call GroupAddUnit(VV7,PI7)
else
set VW7=true
set VQ7=CreateTimer()
set VS7=GetHandleId(VQ7)
call TV7(VS7,"SubTag",VJ7)
set VU7=U_7(VR7,CreateForce())
call U87(VS7,"Target",VU7)
call TX7(VS7,"Owner",PI7)
call TW7(VS7,"Personal",true)
endif
endif
if VW7 then
if VJ7==" " then
call TimerStart(VQ7,0.1,false,function VP7)
else
call TimerStart(VQ7,0.01,true,function VP7)
endif
endif
set VU7=null
set VV7=null
endfunction
function VX7 takes force VR7,real x,real y,integer O5 returns nothing
if(IsPlayerInForce(GetLocalPlayer(),VR7))then
if GetAllyColorFilterState()==2 then
call PingMinimapEx(x,y,5.,48,230,185,true)
else
call PingMinimapEx(x,y,5.,KA4[O5],KB4[O5],KC4[O5],true)
endif
endif
endfunction
function VY7 takes unit PI7,force VR7 returns nothing
if PI7!=null then
if GetUnitState(PI7,UNIT_STATE_LIFE)>0 then
if(IsPlayerInForce(GetLocalPlayer(),VR7))then
call PingMinimap(GetUnitX(PI7),GetUnitY(PI7),5.)
endif
else
if IsUnitAlly(PI7,Z7[0])then
set PI7=IZ4
else
set PI7=JA4
endif
if(IsPlayerInForce(GetLocalPlayer(),VR7))then
call PingMinimap(GetUnitX(PI7),GetUnitY(PI7),5.)
endif
endif
endif
endfunction
function VZ7 takes unit PI7,string VJ7 returns nothing
local integer O5=1
local real QH7
set EP7=CreateForce()
loop
exitwhen O5>11
if O5==6 then
set O5=7
endif
if IsUnitAlly(PI7,Player(O5))then
if M7[O5]==null or GetWidgetLife(M7[O5])<.405 then
call ForceAddPlayer(EP7,Player(O5))
else
set QH7=RH7(PI7,M7[O5])
if QH7<=3000. then
call ForceAddPlayer(EP7,Player(O5))
endif
endif
endif
set O5=O5+1
endloop
call VT7(PI7,EP7,VJ7)
call VY7(PI7,EP7)
call DestroyForce(EP7)
set EP7=null
endfunction
function VA7 takes unit it,boolean J2 returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(it))
if((not Id(O5))or(J2))then
if(GetUnitTypeId(it)!=1211117642)then
set G0[32+O5]=true
if(not GZ[160+O5])and(GetUnitLifePercent(it)<30)then
call VZ7(it,"Retreating")
endif
set h4[O5]=null
set hq[512+O5]=0.
set GZ[128+O5]=false
set GZ[160+O5]=true
endif
if(is(it))then
call T47(it,851986,h9[O5])
if(SU7(it,ZU[C0]))then
call UnitUseItem(it,bj_lastCreatedItem)
endif
endif
endif
endfunction
function kD takes unit u returns boolean
return((GetUnitAbilityLevel(u,1110456148)>0)or(GetUnitAbilityLevel(u,1110456118)>0)or(GetUnitAbilityLevel(u,1110455864)>0)or(GetUnitAbilityLevel(u,1112041075)>0)or(GetUnitAbilityLevel(u,1110454347)>0)or(GetUnitAbilityLevel(u,1110454833)>0)or(GetUnitAbilityLevel(u,1110454609)>0)or(GetUnitAbilityLevel(u,1110455097)>0)or(GetUnitAbilityLevel(u,1093677130)>0)or(GetUnitAbilityLevel(u,1093684052)>0)or(GetUnitAbilityLevel(u,1093677617)>0)or(GetUnitAbilityLevel(u,1112504171)>0))
endfunction
function VB7 takes unit it returns string
if(IsUnitAlly(it,Z7[0]))then
return"Sent"
else
return"Scrg"
endif
endfunction
function VC7 takes nothing returns boolean
local integer O5=UQ7(GetHandleId(GetTriggeringTrigger()),"pID")
local integer V37=GetPlayerId(GetOwningPlayer(h4[O5]))
if(GetWidgetLife(M7[O5])<.405)or(Bz>hq[608+O5])or(h4[O5]==null)or(GetWidgetLife(h4[O5])<.405)or(eY[32+V37]<=0)then
call DisableTrigger(GetTriggeringTrigger())
return false
elseif(IsUnitVisible(h4[O5],Player(O5)))then
if S47(M7[O5])then
call IssueTargetOrderById(M7[O5],851983,h4[O5])
endif
call DisableTrigger(GetTriggeringTrigger())
return false
endif
if is(M7[O5])then
if(((IsVisibleToPlayer(GetUnitX(h4[O5]),GetUnitY(h4[O5]),Player(O5)))and(not IsUnitHidden(h4[O5])))or((eY[32+V37]<2)and(kD(h4[O5]))))then
if(SU7(M7[O5],ZU[T5]))then
call UnitUseItem(M7[O5],bj_lastCreatedItem)
elseif(SU7(M7[O5],ZU[CC]))and(RH7(M7[O5],h4[O5])<=600)then
call UnitUseItem(M7[O5],bj_lastCreatedItem)
elseif(SU7(M7[O5],ZU[WC]))and((GetUnitX(h4[O5])!=0)or(GetUnitY(h4[O5])!=0))then
call UnitUseItemPoint(M7[O5],bj_lastCreatedItem,GetUnitX(h4[O5]),GetUnitY(h4[O5]))
else
if(not US7(R44,VB7(M7[O5])+"|W"))then
call TW7(R44,VB7(M7[O5])+"|W",true)
endif
call DisableTrigger(GetTriggeringTrigger())
return false
endif
endif
if eY[464+V37]==851986 or eY[464+V37]==851971 or eY[464+V37]==851990 then
call IssuePointOrderById(M7[O5],851986,I2R(eY[480+V37]),I2R(eY[496+V37]))
else
call T47(M7[O5],851986,h4[O5])
endif
endif
return false
endfunction
function J3 takes unit it,boolean J2 returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(it))
local boolean J4=false
if(SH7(it))then
if(J2)then
if(not Id(O5))then
call VA7(it,true)
elseif((SE7(h4[O5]))and(GetUnitAbilityLevel(h4[O5],1110454854)==0))then
call IssueTargetOrderById(it,851983,h4[O5])
endif
else
call VA7(it,false)
endif
elseif(G0[272+O5]or is(it))and((J2)or(((not GZ[128+O5])or((GetUnitCurrentOrder(it)!=851983)and(GetUnitCurrentOrder(it)!=851993)))and(iU(it))))then
if((G0[O5])or(G0[48+O5])or(not G0[128+O5]))then
set J4=T47(it,851986,h9[O5])
endif
if(h4[96+O5]!=null)and(GetUnitTypeId(h4[96+O5])==1966092371)then
set J4=IssueTargetOrderById(it,851983,h4[96+O5])
endif
if((not J4)and(h4[O5]!=null)and(SE7(h4[O5]))and(GetUnitAbilityLevel(h4[O5],1110454854)==0))then
if IsUnitVisible(h4[O5],GetOwningPlayer(it))then
set bj_lastLoadedUnit=it
if US7(GetHandleId(h4[O5]),"XMarked")then
call MoveLocation(HA,UR7(GetHandleId(h4[O5]),"AI|XMark|X"),UR7(GetHandleId(h4[O5]),"AI|XMark|Y"))
if(not IsUnitInRangeLoc(h4[O5],HA,600.))then
set J4=IssuePointOrderByIdLoc(it,851986,HA)
else
set J4=IssueTargetOrderById(it,851983,h4[O5])
endif
elseif UX7(it,"AI|Lasso")then
set J4=IssueTargetOrderById(it,851986,h9[O5])
elseif(GetUnitTypeId(it)==1164666213 and GetHeroLevel(it)>=6)and(eY[320+O5]>=0)and(not IsUnitInRange(it,h4[O5],300))and((GetUnitLifePercent(it)>80)or(GetUnitLifePercent(it)>(GetUnitLifePercent(h4[O5])+30)))and(GetUnitManaPercent(it)>20)and(h4[304+O5]==null)and(SS7(900,h4[O5],Condition(function ST7))==0)then
set J4=IssueTargetOrderById(it,851986,h4[O5])
else
set J4=IssueTargetOrderById(it,851983,h4[O5])
endif
set hq[608+O5]=Bz+F37
elseif hq[608+O5]>Bz and eY[32+GetPlayerId(GetOwningPlayer(h4[O5]))]>0 then
if not IsVisibleToPlayer(GetUnitX(h4[O5]),GetUnitY(h4[O5]),GetOwningPlayer(it))then
call EnableTrigger(Q04[96+O5])
set J4=T47(it,851986,h4[O5])
endif
else
call DisableTrigger(Q04[96+O5])
endif
endif
set GT7=LoadUnitHandle(L7,(GetHandleId(it)),(652))
set GU7=UE7((GetHandleId(it)),"AI|TetherSource")
if(J4)then
elseif(GT7!=null)and(not IsUnitInRange(it,GT7,700)and(IsUnitType(GT7,UNIT_TYPE_HERO)))then
call T47(it,851986,GT7)
elseif(GU7!=null)and(not IsUnitInRange(it,GU7,700))then
call T47(it,851986,GU7)
elseif((eY[O5]>=9))then
if eY[272+O5]<=2 then
if((G0[176+O5])or(h8[48+O5]!=h8[32+O5]))then
call T47(it,851983,h8[48+O5])
else
call T47(it,851986,h9[O5])
endif
endif
elseif((eY[O5]==3)or(eY[O5]==4))then
elseif GZ[160+O5]or(not G0[128+O5])then
call T47(it,851986,h9[O5])
else
call T47(it,851983,h8[O5])
endif
endif
endfunction
function V67 takes unit it returns nothing
if((SU7(it,ZU[B3]))and(UnitUseItem(it,bj_lastCreatedItem)))then
call R97(0.3)
endif
if((SU7(it,ZU[T1]))and(UnitUseItem(it,bj_lastCreatedItem)))then
call R97(0.3)
endif
call IssueImmediateOrderById(it,851972)
endfunction
function VL7 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>0 and GetUnitAbilityLevel(GetFilterUnit(),1098085732)==0 and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit))==true and GetUnitTypeId(GetFilterUnit())!=1966092371 and GetUnitTypeId(GetFilterUnit())!=1852010352 and IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)
endfunction
function V17 takes unit it,unit SG7 returns boolean
local item V07=null
local boolean V57=false
local item V27=null
local integer O5=GetPlayerId(GetOwningPlayer(it))
local boolean V_7=(GetPlayerController(GetOwningPlayer(it))==MAP_CONTROL_COMPUTER)
local boolean W47=false
local boolean W77=false
local real W87=0
local real W97=0
local real WD7=0
if UE7((GetHandleId(it)),"AI|TetherSource")!=null then
return false
elseif(GetUnitTypeId(it)==1211117642)then
return false
endif
if(SG7==IZ4 or SG7==JA4)then
if G0[352+O5]or(RH7(it,SG7)<3000)then
return false
endif
elseif(RH7(it,SG7)<2000)then
return false
endif
if SG7==IZ4 or SG7==JA4 then
set W97=GetUnitX(SG7)
set WD7=GetUnitY(SG7)
else
set bj_lastLoadedUnit=TJ7(it)
set W87=Atan2(GetUnitY(bj_lastLoadedUnit)-GetUnitY(SG7),GetUnitX(bj_lastLoadedUnit)-GetUnitX(SG7))+GetRandomReal(-F17,F17)
set W97=GetUnitX(SG7)+500.*Cos(W87)
set WD7=GetUnitY(SG7)+500.*Sin(W87)
endif
if((GetUnitAbilityLevel(it,1093677391)>0)and(Bz>TC4[32+O5]))then
if IssuePointOrderById(it,852525,W97,WD7)then
return true
endif
endif
if((GetUnitAbilityLevel(it,1093685808)>0)and(Bz>TC4[O5]))then
if IssuePointOrderById(it,852600,W97,WD7)then
return true
endif
endif
if not(eY[224+O5]<R2I(Bz)and GetUnitState(it,UNIT_STATE_MANA)>EY7)then
return false
endif
if not IsUnitType(SG7,UNIT_TYPE_STRUCTURE)then
set bj_lastLoadedUnit=it
set bj_lastLoadedUnit=SQ7(2000.,S_7(SG7),Condition(function VL7))
set W77=((bj_lastLoadedUnit!=null)and(RH7(it,SG7)>RH7(bj_lastLoadedUnit,SG7)))
else
set W77=true
endif
if(V_7 and T24[O5]==true)then
if(SU7(it,GetItemTypeId(U44[O5])))then
call DisableTrigger(H94)
call UnitRemoveItem(it,SY7(it,GetItemTypeId(U44[O5])))
call RemoveItem(U44[O5])
call EnableTrigger(H94)
endif
if(T_4[O5]!=null)then
call R97(0.2)
call UnitAddItem(it,T_4[O5])
endif
set T24[O5]=false
set U44[O5]=null
set T_4[O5]=null
endif
if(SU7(it,ZU[YC]))and W77 then
if((GetUnitAbilityLevel(it,1110456148)==0)and(GetUnitAbilityLevel(it,1110455864)==0)and(GetUnitAbilityLevel(it,1110454347)==0)and(GetUnitAbilityLevel(it,1110455097)==0))then
call V67(it)
set W47=UnitUseItemPoint(it,SY7(it,ZU[YC]),W97,WD7)
endif
elseif(SU7(it,ZU[F6]))then
call V67(it)
set W47=UnitUseItemPoint(it,SY7(it,ZU[F6]),GetUnitX(SG7),GetUnitY(SG7))
elseif(not K27[O5])then
if(GetUnitTypeId(it)==1211117642 or IsUnitIllusion(it))or(not W77)then
return false
endif
set V57=false
if((not SV7(it)))then
set V57=true
elseif(SU7(it,ZU[QC]))then
set V27=bj_lastCreatedItem
set V57=true
elseif(SU7(it,ZU[TC]))then
set V27=bj_lastCreatedItem
set V57=true
elseif(SU7(it,ZU[WC]))then
set V27=bj_lastCreatedItem
set V57=true
endif
if V57 then
if V27!=null then
call RA7(V27)
endif
set V07=CreateItem(ZU[YC],GetUnitX(it),GetUnitY(it))
set V57=UnitAddItem(it,V07)
call R97(0.3)
else
if(SU7(it,ZU[FV]))then
set U74[O5]=bj_lastCreatedItem
set V57=true
endif
if V57 then
call DisableTrigger(H94)
call UnitRemoveItem(it,U74[O5])
call SetItemPosition(U74[O5],9999,-9999)
call EnableTrigger(H94)
set V07=CreateItem(ZU[YC],GetUnitX(it),GetUnitY(it))
set V57=UnitAddItem(it,V07)
set U94[O5]=true
call R97(0.3)
endif
endif
set V27=null
if(not V57)then
call RA7(V07)
call R97(0.2)
if((not SV7(it)))then
call UnitAddItem(it,U74[O5])
set U94[O5]=false
set U74[O5]=null
endif
endif
if(SU7(it,ZU[YC]))then
call V67(it)
set V57=UnitUseItemPoint(it,SY7(it,ZU[YC]),W97,WD7)
call R97(0.5)
set V07=null
set W47=V57
if not W47 then
call R97(0.01)
set W47=(eY[224+O5]>R2I(Bz)+1)
endif
endif
endif
if W47 then
set eY[224+O5]=R2I(Bz)+EX7
set eY[208+O5]=0
set h8[144+O5]=null
else
if not V57 then
set eY[208+O5]=0
set h8[144+O5]=null
endif
if U74[O5]!=null then
call DisableTrigger(H94)
call RemoveItem(SY7(it,ZU[YC]))
call UnitAddItem(it,U74[O5])
call EnableTrigger(H94)
set U74[O5]=null
set U94[O5]=false
endif
endif
return W47
endfunction
function WE7 takes integer O5,unit j5,integer o6 returns nothing
call DisableTrigger(Q04[O5])
if((not SH7(j5))and(not G0[O5])and(not G0[64+O5])and(G0[128+O5])and(h4[O5]!=null)and(SE7(h4[O5]))and(IsUnitVisible(h4[O5],GetOwningPlayer(j5))))then
call IssueTargetOrderById(j5,851983,h4[O5])
set GZ[48+O5]=true
else
call J3(j5,true)
endif
call EnableTrigger(Q04[O5])
if(o6!=0)then
call SetPlayerAbilityAvailable(GetOwningPlayer(j5),o6,not(GetPlayerController(Player(O5))==MAP_CONTROL_COMPUTER))
endif
endfunction
function J6 takes integer O5,unit j5,integer o6,integer n6 returns nothing
call WE7(O5,j5,o6)
call SetPlayerAbilityAvailable(GetOwningPlayer(j5),n6,not((GetPlayerController(GetOwningPlayer(j5))==MAP_CONTROL_COMPUTER)))
endfunction
function J7 takes integer O5,unit j5,integer o6 returns nothing
call DisableTrigger(Q04[O5])
if((not SH7(j5))and(not G0[O5])and(not G0[64+O5])and(G0[128+O5])and(h4[O5]!=null)and(SE7(h4[O5]))and(IsUnitVisible(h4[O5],GetOwningPlayer(j5))))then
call IssueTargetOrderById(j5,851983,h4[O5])
set GZ[48+O5]=true
else
call J3(j5,true)
endif
call EnableTrigger(Q04[O5])
call SetPlayerAbilityAvailable(GetOwningPlayer(j5),o6,not(GetPlayerController(GetOwningPlayer(j5))==MAP_CONTROL_COMPUTER))
endfunction
function J8 takes integer O5,boolean J9 returns boolean
set GZ[O5]=false
return J9
endfunction
function WF7 takes unit u returns boolean
if(IsUnitAlly(u,Z7[0]))then
return(IsUnitInRange(u,IZ4,1100.))
else
return(IsUnitInRange(u,JA4,1100.))
endif
endfunction
function kA takes unit IB,unit m5,real kb returns boolean
if(IsUnitAlly(m5,Z7[0]))then
return(RH7(IB,h7[0])-RH7(m5,h7[0]))>kb
else
return(RH7(IB,h7[100])-RH7(m5,h7[100]))>kb
endif
endfunction
function kB takes boolean J4,group jU returns integer
local unit it
local integer kc=0
local boolean kC=false
local boolean kd=false
loop
set it=FirstOfGroup(jU)
exitwhen(it==null)
if(GetUnitTypeId(it)==1211117641)then
set kc=kc+1
set kd=true
elseif(GetUnitTypeId(it)!=1211117642)then
set kc=kc+1
elseif(not kC)then
set kC=true
endif
call GroupRemoveUnit(jU,it)
endloop
if((kC)and((not kd)or(J4)))then
set kc=kc+1
endif
return kc
endfunction
function ke takes unit u returns boolean
return((GetUnitAbilityLevel(u,1093685838)>0)or(GZ[256+GetPlayerId(GetOwningPlayer(u))]))
endfunction
function kE takes string kf,string kF returns integer
local integer kg=StringLength(kf)
local integer kG=0
loop
exitwhen kg<=kG
if(SubString(kf,kg,kg+1)==kF)then
return kg
endif
set kg=kg-1
endloop
return-1
endfunction
function kh takes string kf returns integer
local integer kg=0
local integer kG=StringLength(kf)
loop
exitwhen kg>=kG
if(SubString(kf,kg,kg+1)==",")then
return kg
endif
set kg=kg+1
endloop
return-1
endfunction
function kj takes nothing returns nothing
set GT=false
endfunction
function kJ takes real x,real y returns boolean
set GT=true
call SetRect(He,x-160.,y-160.,x+160.,y+160.)
call EnumDestructablesInRect(He,Q24,function kj)
return GT
endfunction
function kk takes unit it,real IW,unit r returns location
local integer kK=0
local real kl=Atan2(GetUnitY(r)-GetUnitY(it),GetUnitX(r)-GetUnitX(it))
loop
if(kJ(GetUnitX(it)+IW*Cos(kl),GetUnitY(it)+IW*Sin(kl)))then
call MoveLocation(HB,GetUnitX(it)+IW*Cos(kl),GetUnitY(it)+IW*Sin(kl))
return HB
endif
set kK=kK+1
set IW=IW-50.
exitwhen(kK>5)
endloop
return null
endfunction
function kL takes unit it,unit m5,real km returns location
local real IW=RI7(GetUnitX(it),GetUnitY(it),GetUnitX(m5),GetUnitY(m5))+km
local real kl=0
local integer kK=0
set kK=GetPlayerId(GetOwningPlayer(m5))
set kl=Atan2(GetUnitY(h9[kK])-GetUnitY(m5),GetUnitX(h9[kK])-GetUnitX(m5))
set kK=0
loop
if(kJ(GetUnitX(it)+IW*Cos(kl),GetUnitY(it)+IW*Sin(kl)))then
call MoveLocation(HB,GetUnitX(it)+IW*Cos(kl),GetUnitY(it)+IW*Sin(kl))
return HB
endif
set kK=kK+1
set IW=IW-50.
exitwhen(kK>5)
endloop
return null
endfunction
function WG7 takes unit it returns boolean
return((GetUnitAbilityLevel(it,1093678162)==0)and(GetUnitAbilityLevel(it,1097625443)==0))
endfunction
function WH7 takes unit it returns boolean
return((GetUnitAbilityLevel(it,1093678162)==0)and(GetUnitAbilityLevel(it,1097625443)==0)and(GetUnitTypeId(it)!=1970497636)and(GetUnitTypeId(it)!=1848652113)and(GetUnitTypeId(it)!=1848652114))
endfunction
function WI7 takes unit u returns boolean
return(IsUnitType(u,UNIT_TYPE_MELEE_ATTACKER))
endfunction
function WJ7 takes unit x6 returns integer
return(GetItemTypeId(UnitItemInSlot(x6,GetIssuedOrderId()-852008)))
endfunction
function WK7 takes integer Iz returns boolean
return((Iz==1093679446)or(Iz==1095263841)or(Iz==1093681972)or(Iz==1093685065)or(Iz==1093677622)or(Iz==1093682265)or(Iz==1093684314)or(Iz==1093685582))
endfunction
function kP takes integer i1 returns boolean
return((i1==1429221424)or(i1==1160785972)or(i1==1430468144)or(i1==1430467634)or(i1==1432642913)or(i1==1432510828)or(i1==1315334514)or(i1==1332109682)or(i1==1429221456)or(i1==1311780946)or(i1==1211117624)or(i1==1160785973)or(i1==1214345830)or(i1==1315007329)or(i1==1215723364)or(i1==1164799855)or(i1==1212365106)or(i1==1432580716)or(i1==1429221720)or(i1==1333027688)or(i1==1311781185)or(i1==1332179560)or(i1==1214344551)or(i1==1311781206)or(QV7(i1,F87)))
endfunction
function kq takes integer i1 returns boolean
return(not QV7(i1,F87))
endfunction
function kQ takes unit u returns boolean
return((GetUnitAbilityLevel(u,1110455620)>0)or(GetUnitAbilityLevel(u,1110455629)>0)or(GetUnitAbilityLevel(u,1110455630)>0)or(GetUnitAbilityLevel(u,1110455631)>0))
endfunction
function kr takes unit u returns boolean
return((GetUnitAbilityLevel(u,1110456120)>0)or(GetUnitAbilityLevel(u,1113943649)>0)or(GetUnitAbilityLevel(u,1113943655)>0)or(GetUnitAbilityLevel(u,1110459185)>0))
endfunction
function WM7 takes integer Iz returns boolean
return((Iz==ZU[F5])or(Iz==ZU[G5])or(Iz==ZU[J5])or(Iz==ZU[M5])or(Iz==ZU[N5]))
endfunction
function ks takes integer Iz returns boolean
return((Iz==ZU[R5])or(Iz==ZU[S5])or(Iz==ZU[T5]))
endfunction
function kS takes unit u returns integer
local integer kt=GetUnitAbilityLevel(u,1093677635)
if(kt==4)then
return 1093678925
elseif(kt==3)then
return 1093678922
elseif(kt==2)then
return 1093678921
elseif(kt==1)then
return 1093678920
else
return 1093685302
endif
endfunction
function kT takes unit u returns integer
local integer kt=GetUnitAbilityLevel(u,1093677635)
if(kt==4)then
return 1093678904
elseif(kt==3)then
return 1093678900
elseif(kt==2)then
return 1093678898
elseif(kt==1)then
return 1093678670
else
return 1093677645
endif
endfunction
function WN7 takes unit u returns integer
local integer kt=GetUnitAbilityLevel(u,1093677635)
if(kt==4)then
return 1093678158
elseif(kt==3)then
return 1093678157
elseif(kt==2)then
return 1093678154
elseif(kt==1)then
return 1093677898
else
return 1093678899
endif
endfunction
function WO7 takes unit u returns integer
local integer kt=GetUnitAbilityLevel(u,1093679160)
if(kt==3)then
return 1093679172
elseif(kt==2)then
return 1093679169
elseif(kt==1)then
return 1093679161
else
return 1093678167
endif
endfunction
function WP7 takes unit u returns integer
local integer kt=GetUnitAbilityLevel(u,1093679160)
if(kt==3)then
return 1093677126
elseif(kt==2)then
return 1093677396
elseif(kt==1)then
return 1093677111
else
return 1093677361
endif
endfunction
function WQ7 takes unit u returns integer
local integer kt=GetUnitAbilityLevel(u,1093679160)
if(kt==3)then
return 1093679177
elseif(kt==2)then
return 1093679175
elseif(kt==1)then
return 1093679174
else
return 1093679155
endif
endfunction
function WR7 takes integer Iz returns integer
if((Iz==ZU[QW])or(Iz==ZU[QC])or(Iz==ZU[TC])or(Iz==ZU[XC])or(Iz==ZU[YC]))then
return 100
elseif((Iz==ZU[LV])or(Iz==ZU[UY])or(Iz==ZU[UW])or(Iz==ZU[NV])or(Iz==ZU[AX]))then
return 150
elseif((Iz==ZU[BA])or(Iz==ZU[GB]))then
return 225
elseif((Iz==ZU[ZY])or(Iz==ZU[GY])or(Iz==ZU[WC])or(Iz==ZU[EZ]))then
return 350
elseif((Iz==ZU[FV])or(Iz==ZU[OV])or(Iz==ZU[MV])or(Iz==ZU[HY])or(Iz==ZU[A6])or(Iz==ZU[DL])or(Iz==ZU[HL])or(Iz==ZU[C3]))then
return 450
elseif((Iz==ZU[SV])or(Iz==ZU[UV])or(Iz==ZU[RX])or(Iz==ZU[JV])or(Iz==ZU[EW])or(Iz==ZU[Z3]))then
return 650
elseif((Iz==ZU[NW])or(Iz==ZU[VW])or(Iz==ZU[NX])or(Iz==ZU[QV])or(Iz==ZU[DZ])or(Iz==ZU[ZX])or(Iz==ZU[RZ])or(Iz==ZU[CV])or(Iz==ZU[B3]))then
return 950
elseif((Iz==ZU[TV])or(Iz==ZU[YX])or(Iz==ZU[WX])or(Iz==ZU[OZ]))then
return 1200
elseif((Iz==ZU[XV])or(Iz==ZU[ZW])or(Iz==ZU[SX])or(Iz==ZU[G6])or(Iz==ZU[Y3])or(Iz==ZU[AL])or(Iz==ZU[DD4])or(Iz==ZU[F74]))then
return 1500
elseif((Iz==ZU[RW])or(Iz==ZU[S6])or(Iz==ZU[W6])or(Iz==ZU[P1])or(Iz==ZU[AL])or(Iz==ZU[J1])or(Iz==ZU[RL])or(Iz==ZU[OL])or(Iz==ZU[DG4])or(Iz==ZU[DJ4]))then
return 2000
elseif((Iz==ZU[NZ])or(Iz==ZU[AV])or(Iz==ZU[OW])or(Iz==ZU[F6])or(Iz==ZU[A1])or(Iz==ZU[DG4])or(Iz==ZU[T1]))then
return 2500
elseif((Iz==ZU[YW])or(Iz==ZU[GX])or(Iz==ZU[ZL])or(Iz==ZU[WL])or(Iz==ZU[Q1])or(Iz==ZU[D1])or(Iz==ZU[F5])or(Iz==ZU[R5]))then
return 3000
elseif((Iz==ZU[BV])or(Iz==ZU[LL])or(Iz==ZU[R1]))then
return 3500
elseif((Iz==ZU[SY])or(Iz==ZU[C0])or(SZ7(Iz))or(Iz==ZU[S5])or(Iz==1869375847))then
return 4000
elseif((Iz==ZU[V1])or(Iz==ZU[G5]))then
return 4500
elseif((Iz==ZU[U1])or(Iz==ZU[T5])or(Iz==ZU[X1])or(Iz==ZU[D74])or(Iz==ZU[DR4]))then
return 5000
elseif((Iz==ZU[Y0])or(Iz==ZU[B0])or(Iz==ZU[J5])or(Iz==ZU[W5])or(Iz==ZU[R2])or(Iz==ZU[E2])or(Iz==ZU[H2])or(Iz==ZU[D44])or(Iz==ZU[DI4]))then
return 5500
elseif((Iz==ZU[DH4])or(Iz==ZU[M5])or(Iz==ZU[L5])or(Iz==ZU[Z2])or(Iz==ZU[T2])or(Iz==1936683571)or(Iz==1936683572)or(Iz==1936683573)or(Iz==1936683574)or(Iz==1227895094)or(Iz==1227894838))then
return 6000
elseif((Iz==ZU[N5])or(Iz==ZU[X2])or(Iz==ZU[W2])or(Iz==ZU[DE4]))then
return 7000
elseif(Iz==ZU[B5])then
return 8000
endif
return 500
endfunction
function B6 takes trigger kW,playerunitevent kx returns nothing
call TriggerRegisterPlayerUnitEvent(kW,Z7[1],kx,Q24)
call TriggerRegisterPlayerUnitEvent(kW,Z7[2],kx,Q24)
call TriggerRegisterPlayerUnitEvent(kW,Z7[3],kx,Q24)
call TriggerRegisterPlayerUnitEvent(kW,Z7[4],kx,Q24)
call TriggerRegisterPlayerUnitEvent(kW,Z7[5],kx,Q24)
endfunction
function c6 takes trigger kW,playerunitevent kx returns nothing
call TriggerRegisterPlayerUnitEvent(kW,A7[1],kx,Q24)
call TriggerRegisterPlayerUnitEvent(kW,A7[2],kx,Q24)
call TriggerRegisterPlayerUnitEvent(kW,A7[3],kx,Q24)
call TriggerRegisterPlayerUnitEvent(kW,A7[4],kx,Q24)
call TriggerRegisterPlayerUnitEvent(kW,A7[5],kx,Q24)
endfunction
function ky takes trigger kW,playerunitevent kx returns nothing
call B6(kW,kx)
call c6(kW,kx)
endfunction
function WS7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(SE7(GetFilterUnit()))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))))
endfunction
function WT7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(SE7(GetFilterUnit()))and(eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>0)and(RK7(GetFilterUnit())==bj_forLoopBIndex))
endfunction
function WU7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(SE7(GetFilterUnit()))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit))))
endfunction
function WV7 takes unit OD7 returns boolean
local real x=GetUnitX(OD7)
local real y=GetUnitY(OD7)
if IsUnitAlly(OD7,Z7[0])then
return x<GetRectMaxX(HD)and x>GetRectMinX(HD)and y<GetRectMaxY(HD)and y>GetRectMinY(HD)
endif
return x<GetRectMaxX(GD)and x>GetRectMinX(GD)and y<GetRectMaxY(GD)and y>GetRectMinY(GD)
endfunction
function WW7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(SE7(GetFilterUnit()))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false and GetUnitAbilityLevel(GetFilterUnit(),1098282348)==0)and WV7(GetFilterUnit())==false)
endfunction
function WX7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(SE7(GetFilterUnit())))
endfunction
function WY7 takes nothing returns boolean
if((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(SE7(GetFilterUnit())))then
if(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))then
return true
elseif(not kD(GetFilterUnit()))then
return((eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>0)or(IsUnitInRange(GetFilterUnit(),GetTriggerUnit(),600.)))
else
return(eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>2)
endif
endif
return false
endfunction
function WZ7 takes nothing returns boolean
return((GetFilterUnit()!=bj_lastLoadedUnit)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(SE7(GetFilterUnit()))and(not SH7(GetFilterUnit())))
endfunction
function WA7 takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(WH7(GetFilterUnit())))
endfunction
function k0 takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(WH7(GetFilterUnit())))
endfunction
function WB7 takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1697656915)or(i1==1697657137)or(i1==1697656914)or(i1==1697657145)or(i1==1966092366)or(i1==1966092356)or(i1==1966092365)or(i1==1966092372)))
endfunction
function IsEnemyTowerInRangeAttacker takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker())))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1697656915)or(i1==1697657137)or(i1==1697656914)or(i1==1697657145)or(i1==1966092366)or(i1==1966092356)or(i1==1966092365)or(i1==1966092372)))
endfunction
function TorrentedKillableFilter takes nothing returns boolean
return SH7(GetFilterUnit())and GetUnitAbilityLevel(GetFilterUnit(),1110456657)>0
endfunction
function k2 takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(WH7(GetFilterUnit())))
endfunction
function k3 takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(WH7(GetFilterUnit())))
endfunction
function WC7 takes nothing returns boolean
return(GetWidgetLife(GetFilterUnit())>.405)and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_DEAD)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))
endfunction
function W37 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(not IsUnitIllusion(GetFilterUnit()))and(GetFilterUnit()!=GetTriggerUnit())and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function k5 takes nothing returns boolean
return((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetFilterUnit()!=GetTriggerUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(WH7(GetFilterUnit())))
endfunction
function IsAllyTowerInRangeTrig takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1697656915)or(i1==1697657137)or(i1==1697656914)or(i1==1697657145)or(i1==1966092366)or(i1==1966092356)or(i1==1966092365)or(i1==1966092372)))
endfunction
function W67 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))and SE7(GetFilterUnit())and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0
endfunction
function WL7 takes nothing returns boolean
return IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))and SE7(GetFilterUnit())and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0
endfunction
function W17 takes nothing returns boolean
return not IsUnitInRange(GetFilterUnit(),GetEnumUnit(),NV7)
endfunction
function W07 takes nothing returns boolean
local integer i=GetUnitTypeId(GetFilterUnit())
return i==1848651848 or i==1848651847 or i==1848651851 or i==1848651850 or i==1848651841 or i==1848651830
endfunction
function k6 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(SE7(GetFilterUnit()))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0))
endfunction
function W57 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(SE7(GetFilterUnit()))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0)and SS7(300,GetFilterUnit(),Condition(function WC7))==0)
endfunction
function W27 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)and(GetUnitLifePercent(GetFilterUnit())<=40.)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(SE7(GetFilterUnit()))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0))
endfunction
function W_7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function X47 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function X77 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))
endfunction
function X87 takes nothing returns boolean
return(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))
endfunction
function k642 takes nothing returns boolean
return((not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function k65 takes nothing returns boolean
return(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_DEAD)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))or(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))))
endfunction
function X97 takes nothing returns boolean
return(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and(GetWidgetLife(GetFilterUnit())>.405)and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_DEAD)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))))
endfunction
function XD7 takes nothing returns boolean
return(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and(GetWidgetLife(GetFilterUnit())>.405)and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_DEAD)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bj_lastCreatedUnit))))
endfunction
function XE7 takes nothing returns boolean
return(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and(GetWidgetLife(GetFilterUnit())>.405)and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_DEAD)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))))
endfunction
function k7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetUnitLifePercent(GetFilterUnit())<50.))
endfunction
function XF7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetUnitLifePercent(GetFilterUnit())<30.))
endfunction
function k8 takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(WH7(GetFilterUnit())))
endfunction
function XG7 takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(WH7(GetFilterUnit()))
endfunction
function k9 takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and((GetOwningPlayer(GetFilterUnit())==Z7[0])or(GetOwningPlayer(GetFilterUnit())==A7[0]))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(WH7(GetFilterUnit()))and(GetUnitState(GetFilterUnit(),UNIT_STATE_MANA)>200.))
endfunction
function Ka takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(WH7(GetFilterUnit())))
endfunction
function KA takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(WH7(GetFilterUnit())))
endfunction
function XH7 takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(WH7(GetFilterUnit())))
endfunction
function KA_Ally takes nothing returns boolean
return((not IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(WH7(GetFilterUnit())))
endfunction
function XI7 takes nothing returns boolean
if((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitIllusion(GetFilterUnit()))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit))))then
if RH7(GetFilterUnit(),bj_lastLoadedUnit)<=250 then
if GetUnitLifePercent(GetFilterUnit())>EJ7 then
set IN4=GetFilterUnit()
set EJ7=GetUnitLifePercent(IN4)
endif
else
if GetUnitLifePercent(GetFilterUnit())>EK7 then
set IP4=GetFilterUnit()
set EK7=GetUnitLifePercent(IP4)
endif
endif
endif
return false
endfunction
function XJ7 takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1697656915)or(i1==1697657137)or(i1==1697656914)or(i1==1697657145)or(i1==1966092366)or(i1==1966092356)or(i1==1966092365)or(i1==1966092372)))and(P87(GetFilterUnit())>=1)
endfunction
function XK7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(SE7(GetFilterUnit())))and(P87(GetFilterUnit())>=1)
endfunction
function IsUnitAllyHeroAttacking takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405))and PE7(GetFilterUnit())
endfunction
function XM7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function XN7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(SE7(GetFilterUnit())))
endfunction
function XO7 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit))))
endfunction
function XP7 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit))))
endfunction
function XQ7 takes nothing returns nothing
local integer XR7=SS7(M67,GetEnumUnit(),ML7)
local integer XS7=SS7(M67,MA7,ML7)
if(MA7==null)or(XR7>XS7)then
set MA7=GetEnumUnit()
endif
endfunction
function XT7 takes real XU7,real XV7,unit P97,integer XW7,boolexpr Ig,boolexpr XX7 returns unit
set MY7=XW7
set M67=XV7
set ML7=XX7
set MA7=null
call GroupClear(MZ7)
call GroupEnumUnitsInRange(MZ7,GetUnitX(P97),GetUnitY(P97),XU7,Ig)
call GroupRemoveUnit(MZ7,P97)
call ForGroup(MZ7,function XQ7)
call DestroyBoolExpr(Ig)
if XX7!=null then
call DestroyBoolExpr(ML7)
endif
set ML7=null
set Ig=null
return MA7
endfunction
function XY7 takes unit XZ7,unit XA7 returns boolean
local integer XB7=GetHeroLevel(XZ7)
local integer XC7=GetHeroLevel(XA7)
local integer QW7=QT7(GetUnitTypeId(XA7))
if QW7==E27 or QW7==E_7 then
return GetUnitLifePercent(XA7)>=GetUnitLifePercent(XZ7)and(XC7>13)and(XB7>XC7 or IAbsBJ(XB7-XC7)<5)
endif
return GetUnitState(XA7,UNIT_STATE_LIFE)<=400 or GetUnitLifePercent(XA7)>=GetUnitLifePercent(XZ7)
endfunction
function X37 takes nothing returns nothing
local integer XR7=SS7(350,GetEnumUnit(),Condition(function XO7))
local integer XS7=SS7(350,MA7,Condition(function XO7))
local integer X67=SS7(350,MA7,Condition(function XN7))
local real XL7=M37
local integer X17=SS7(350,GetEnumUnit(),Condition(function XN7))
local real X07=M37
if(MA7==null)or(X17>X67)then
set MA7=GetEnumUnit()
elseif X17==X67 then
set MA7=PV7(X07>=XL7 or XR7>=XS7,GetEnumUnit(),MA7)
endif
endfunction
function X57 takes real XU7,unit P97,integer XW7,boolexpr Ig returns unit
set MY7=XW7
set MA7=null
call GroupClear(MZ7)
call GroupEnumUnitsInRange(MZ7,GetUnitX(P97),GetUnitY(P97),XU7,Ig)
call GroupRemoveUnit(MZ7,P97)
call ForGroup(MZ7,function X37)
call DestroyBoolExpr(Ig)
set Ig=null
return MA7
endfunction
function X27 takes nothing returns nothing
local unit O_7=GetEnumUnit()
local unit X_7
local integer Y47=0
if(hy==null)or(XY7(hy,O_7)and SS7(350,O_7,Condition(function XO7))>0)then
set X_7=X57(350,O_7,Y47,Condition(function XE7))
set X_7=PV7(X_7!=null,X_7,X57(350,O_7,Y47,Condition(function XM7)))
if IsUnitType(X_7,UNIT_TYPE_HERO)then
set X_7=PV7(GetUnitLifePercent(X_7)>GetUnitLifePercent(O_7),X_7,O_7)
endif
set MB7=PV7((X_7!=null),X_7,MB7)
endif
set O_7=null
set X_7=null
endfunction
function Y77 takes real Y87,unit Y97 returns unit
local boolexpr Ig=Condition(function k6)
set hy=null
set MB7=null
set bj_lastLoadedUnit=Y97
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(Y97),GetUnitY(Y97),Y87,Ig)
call GroupRemoveUnit(iA,Y97)
call ForGroup(iA,function X27)
call DestroyBoolExpr(Ig)
set Ig=null
set MC7[GetPlayerId(GetOwningPlayer(Y97))]=hy
return MB7
endfunction
function YD7 takes unit O37 returns unit
local boolexpr Ig=Condition(function XP7)
set MA7=null
set bj_lastLoadedUnit=GetEnumUnit()
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(O37),GetUnitY(O37),350,Ig)
call GroupRemoveUnit(iA,O37)
call ForGroup(iA,function X37)
call DestroyBoolExpr(Ig)
set Ig=null
return MA7
endfunction
function YE7 takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1697656915)or(i1==1697657137)or(i1==1697656914)or(i1==1697657145)or(i1==1966092366)or(i1==1966092356)or(i1==1966092365)or(i1==1966092372)))
endfunction
function YF7 takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and((i1==1747993430)or(i1==1747993432)or(i1==1747993431)))
endfunction
function YG7 takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1970169187)or(i1==1966092338)or(i1==1701081721)or(i1==1697656919)))
endfunction
function YH7 takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1697656915)or(i1==1697657137)or(i1==1697656914)or(i1==1697657145)or(i1==1966092366)or(i1==1966092356)or(i1==1966092365)or(i1==1966092372)))
endfunction
function KB takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1970496880)or(i1==1970564964)or(i1==1700884333)or(i1==1700884325)))
endfunction
function Kc takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetWidgetLife(GetFilterUnit())>.405)and(WH7(GetFilterUnit()))and((GetOwningPlayer(GetFilterUnit())==Z7[0])or(GetOwningPlayer(GetFilterUnit())==A7[0]))and(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<150.))
endfunction
function YI7 takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and(GetWidgetLife(GetFilterUnit())>.405)and(WH7(GetFilterUnit()))and((GetOwningPlayer(GetFilterUnit())==Z7[0])or(GetOwningPlayer(GetFilterUnit())==A7[0]))and(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<250.))
endfunction
function FindEnemyCreepTrig takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and(GetWidgetLife(GetFilterUnit())>.405)and(WH7(GetFilterUnit()))and((GetOwningPlayer(GetFilterUnit())==Z7[0])or(GetOwningPlayer(GetFilterUnit())==A7[0]))and(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<250.))
endfunction
function YJ7 takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and(GetWidgetLife(GetFilterUnit())>.405)and(WH7(GetFilterUnit()))and((GetOwningPlayer(GetFilterUnit())==Z7[0])or(GetOwningPlayer(GetFilterUnit())==A7[0]))and(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<160.))
endfunction
function YK7 takes nothing returns boolean
return((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and(GetWidgetLife(GetFilterUnit())>.405)and(WH7(GetFilterUnit()))and((GetOwningPlayer(GetFilterUnit())==Z7[0])or(GetOwningPlayer(GetFilterUnit())==A7[0]))and(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>200.))
endfunction
function YM7 takes nothing returns boolean
return((not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and(GetWidgetLife(GetFilterUnit())>.405)and(WH7(GetFilterUnit()))and((GetOwningPlayer(GetFilterUnit())==Z7[0])or(GetOwningPlayer(GetFilterUnit())==A7[0]))and(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>200.))
endfunction
function KC takes nothing returns boolean
return((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(WH7(GetFilterUnit())))
endfunction
function Kd takes nothing returns boolean
return((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetWidgetLife(GetFilterUnit())>.405)and(WH7(GetFilterUnit())))
endfunction
function KD takes nothing returns boolean
if((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))or GetUnitTypeId(GetEnumUnit())==1433105516)and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetWidgetLife(GetFilterUnit())>.405)and(WH7(GetFilterUnit()))and((GetOwningPlayer(GetFilterUnit())==Z7[0])or(GetOwningPlayer(GetFilterUnit())==A7[0])or(GetOwningPlayer(GetFilterUnit())==Player(12))))then
if((GetUnitTypeId(GetEnumUnit())==1433105516)or(not IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)))then
return((GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<150.)or(GetUnitLifePercent(GetFilterUnit())<35.))
elseif((GetUnitTypeId(GetEnumUnit())==1433168227)or(GetUnitTypeId(GetEnumUnit())==1160785972))then
return(GetUnitLifePercent(GetFilterUnit())>70.)
endif
endif
return false
endfunction
function YN7 takes nothing returns boolean
if((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetWidgetLife(GetFilterUnit())>30.)and(WH7(GetFilterUnit()))and((GetOwningPlayer(GetFilterUnit())==Z7[0])or(GetOwningPlayer(GetFilterUnit())==A7[0])or(GetOwningPlayer(GetFilterUnit())==Player(12))))then
return(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<EJ7)
endif
return false
endfunction
function YO7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(GetUnitTypeId(GetFilterUnit())!=1211117642))
endfunction
function YP7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(GetUnitLifePercent(GetFilterUnit())>40.)and(GetUnitTypeId(GetFilterUnit())!=1211117642))
endfunction
function YQ7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_MELEE_ATTACKER)==true)and(GetWidgetLife(GetFilterUnit())>.405)and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(GetUnitLifePercent(GetFilterUnit())>65.)and(not IsUnitIllusion(GetFilterUnit())))
endfunction
function YR7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_RANGED_ATTACKER)==true)and(GetWidgetLife(GetFilterUnit())>.405)and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(GetUnitLifePercent(GetFilterUnit())>65.)and(not IsUnitIllusion(GetFilterUnit())))
endfunction
function Kf takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(S47(GetFilterUnit()))and(GetUnitTypeId(GetFilterUnit())!=1211117642))
endfunction
function YS7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(GetUnitLifePercent(GetFilterUnit())<50.))
endfunction
function YT7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(GetUnitLifePercent(GetFilterUnit())<30.)and(S47(GetFilterUnit())))
endfunction
function IsUnitHeroAllyUnder70HPEnum takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(GetUnitLifePercent(GetFilterUnit())<70.))
endfunction
function YU7 takes nothing returns boolean
return QV7(GetUnitTypeId(GetFilterUnit()),G)
endfunction
function YV7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(GetUnitLifePercent(GetFilterUnit())<99.)and(GetUnitTypeId(GetFilterUnit())!=1211117642))
endfunction
function YW7 takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1697656915)or(i1==1697657137)or(i1==1697656914)or(i1==1697657145)or(i1==1966092366)or(i1==1966092356)or(i1==1966092365)or(i1==1966092372)))
endfunction
function KG takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
if(GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetEnumUnit()))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1865429304)or(i1==1865429042)or(i1==1865429058)or(i1==1865429314))then
if(GZ[272+GetPlayerId(GetOwningPlayer(GetFilterUnit()))])then
return(GetUnitUserData(GetFilterUnit())==1)
else
return(GetUnitUserData(GetFilterUnit())==0)
endif
endif
return false
endfunction
function YX7 takes nothing returns boolean
return((GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(bj_lastLoadedUnit))and(GetWidgetLife(GetFilterUnit())>.405)and(GetUnitTypeId(GetFilterUnit())==1869901684))
endfunction
function aiIsTechiesMines takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
return((GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetEnumUnit()))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1865429304)or(i1==1865429042)or(i1==1865429058)or(i1==1865429314)or(i1==1869901684)or(i1==1311780943)or(i1==1311780944)or(i1==1311780945)or(i1==1311780942)))
endfunction
function YY7 takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())==1868921189 and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))
endfunction
function YZ7 takes nothing returns boolean
if((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetFilterUnit()!=bj_lastLoadedUnit)and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(GetWidgetLife(GetFilterUnit())>.405)and((not EN7)or(GetUnitLifePercent(GetFilterUnit())>50)))then
set bj_forLoopAIndexEnd=T[GetPlayerId(GetOwningPlayer(GetFilterUnit()))]-V[GetPlayerId(GetOwningPlayer(GetFilterUnit()))]
if(hy==null)or(bj_forLoopAIndex<bj_forLoopAIndexEnd)then
set hy=GetFilterUnit()
set bj_forLoopAIndex=bj_forLoopAIndexEnd
endif
endif
return false
endfunction
function YA7 takes real K1,unit it,boolean YB7 returns unit
local boolexpr Ig=Condition(function YZ7)
set hy=null
set bj_lastLoadedUnit=it
set bj_forLoopAIndex=0
set EN7=YB7
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(it),GetUnitY(it),K1,Ig)
call DestroyBoolExpr(Ig)
set Ig=null
return hy
endfunction
function Kh takes nothing returns boolean
return((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(GetUnitTypeId(GetFilterUnit())==1697657392))
endfunction
function KH takes nothing returns boolean
return((GetFilterUnit()!=GetAttacker())and(WH7(GetFilterUnit()))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitInRange(GetAttacker(),GetFilterUnit(),800.)))
endfunction
function Ki takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(WH7(GetFilterUnit()))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetAttacker()))))
endfunction
function KI takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker())))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetAttacker()))))
endfunction
function Kj takes nothing returns boolean
return((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetAttacker())))and(GetFilterUnit()!=GetAttacker())and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(WH7(GetFilterUnit()))and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function KJ takes nothing returns boolean
return((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetAttacker())))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and((GetOwningPlayer(GetFilterUnit())==Z7[0])or(GetOwningPlayer(GetFilterUnit())==A7[0]))and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function Kk takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetFilterUnit()!=GetAttacker())and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetAttacker())))and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function KK takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((SH7(GetFilterUnit()))or((GetUnitLifePercent(GetEnumUnit())-GetUnitLifePercent(GetFilterUnit()))>20.)))
endfunction
function Kl takes nothing returns boolean
return((IsHeroUnitId(GetUnitTypeId(GetFilterUnit())))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((GetUnitLifePercent(GetFilterUnit())<50.)or((GetUnitLifePercent(GetEnumUnit())-GetUnitLifePercent(GetFilterUnit()))>20.)))
endfunction
function KL takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(GetUnitTypeId(GetFilterUnit())==1211117642))
endfunction
function Km takes nothing returns boolean
return(((GetUnitTypeId(GetFilterUnit())==1865429304)or(GetUnitTypeId(GetFilterUnit())==1865429042)or(GetUnitTypeId(GetFilterUnit())==1865429058))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function KM takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((GetUnitAbilityLevel(GetFilterUnit(),1113815395)>0)or(GetUnitAbilityLevel(GetFilterUnit(),1113815346)>0)or(GetUnitCurrentOrder(GetFilterUnit())==851973)))
endfunction
function Kn takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(UnitCountBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,GetFilterUnit(),false,false)==0))
endfunction
function KN takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(kP(GetUnitTypeId(GetFilterUnit()))))
endfunction
function Ko takes nothing returns boolean
return((GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetEnumUnit()))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(WH7(GetFilterUnit())))
endfunction
function KO takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(GetWidgetLife(GetFilterUnit())>.405)and(SU7(GetFilterUnit(),ZU[WC]))and(Z84[GetPlayerId(GetOwningPlayer(GetFilterUnit()))]!=ZD4))
endfunction
function KP_OLD takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(GetWidgetLife(GetFilterUnit())>.405)and(Z84[GetPlayerId(GetOwningPlayer(GetFilterUnit()))]!=ZD4))
endfunction
function YC7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function Kq takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(GetWidgetLife(GetFilterUnit())>.405)and(GetFilterUnit()!=GetTriggerUnit()))
endfunction
function KQ takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetSpellTargetUnit())))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(GetWidgetLife(GetFilterUnit())>.405)and(not SH7(GetFilterUnit())))
endfunction
function Kr takes nothing returns boolean
if(WS7())then
return GetUnitAbilityLevel(GetFilterUnit(),1112560453)>0
endif
return false
endfunction
function KR takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())==1865429043)
endfunction
function C6 takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)or(IsUnitInForce(GetTriggerUnit(),QX4)))and(not IsUnitIllusion(GetTriggerUnit()))and(IsUnitAlly(GetTriggerUnit(),Z7[0])))
endfunction
function D6 takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)or(QY4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]))and(not IsUnitIllusion(GetTriggerUnit()))and(IsUnitAlly(GetTriggerUnit(),A7[0])))
endfunction
function Y37 takes nothing returns boolean
return(((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)or(QY4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]))and(not IsUnitIllusion(GetTriggerUnit()))and(IsUnitAlly(GetTriggerUnit(),Z7[0])))
endfunction
function Y67 takes nothing returns boolean
return(((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)or(QY4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]))and(not IsUnitIllusion(GetTriggerUnit()))and(IsUnitAlly(GetTriggerUnit(),A7[0])))
endfunction
function YL7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetFilterUnit()))and(IsUnitAlly(GetFilterUnit(),Z7[0])))
endfunction
function Kt2 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetFilterUnit()))and(IsUnitAlly(GetFilterUnit(),Z7[0]))and(eY[GetPlayerId(GetOwningPlayer(GetFilterUnit()))]==3))
endfunction
function Y17 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetFilterUnit()))and(IsUnitAlly(GetFilterUnit(),A7[0])))
endfunction
function KT2 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetFilterUnit()))and(IsUnitAlly(GetFilterUnit(),A7[0]))and(eY[GetPlayerId(GetOwningPlayer(GetFilterUnit()))]==3))
endfunction
function Y07 takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetTriggerUnit())))
endfunction
function Y57 takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(not IsUnitIllusion(GetTriggerUnit())))
endfunction
function Kv takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(WH7(GetFilterUnit()))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))))
endfunction
function KV takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(WH7(GetFilterUnit()))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_RANGED_ATTACKER)))
endfunction
function Kw takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(WH7(GetFilterUnit()))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_RANGED_ATTACKER))and(not IsUnitInRange(GetEnumUnit(),GetFilterUnit(),200.)))
endfunction
function KW takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))or(eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>0)or((not kD(GetFilterUnit()))and(IsUnitInRange(GetFilterUnit(),GetEnumUnit(),600.))))and(GetUnitLifePercent(GetFilterUnit())>40.))
endfunction
function Y27 takes nothing returns boolean
if((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405))then
if(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))then
return true
elseif(not kD(GetFilterUnit()))then
return((eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>0)or(IsUnitInRange(GetFilterUnit(),GetEnumUnit(),600.)))
else
return(eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>2)
endif
endif
return false
endfunction
function KX takes nothing returns boolean
if((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(GetWidgetLife(GetFilterUnit())>.405)and(WH7(GetFilterUnit())))then
if((IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))or(GetOwningPlayer(GetFilterUnit())==Z7[0])or(GetOwningPlayer(GetFilterUnit())==A7[0]))then
return true
elseif(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))then
return((eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>0)or((not kD(GetFilterUnit()))and(IsUnitInRange(GetFilterUnit(),GetEnumUnit(),600.))))
endif
endif
return false
endfunction
function Ky takes nothing returns boolean
if((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(WH7(GetFilterUnit())))then
if((IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))or(GetOwningPlayer(GetFilterUnit())==Z7[0])or(GetOwningPlayer(GetFilterUnit())==A7[0]))then
return true
elseif(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))then
return((eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>0)or((not kD(GetFilterUnit()))and(IsUnitInRange(GetFilterUnit(),GetEnumUnit(),600.))))
endif
endif
return false
endfunction
function KY takes real IW,location b5 returns integer
local boolexpr Ig=Condition(function KW)
call GroupClear(H8)
call GroupEnumUnitsInRangeOfLoc(H8,b5,IW,Ig)
call DestroyBoolExpr(Ig)
set Ig=null
return kB(true,H8)
endfunction
function Kz takes real IW,location b5 returns integer
local boolexpr Ig=Condition(function k6)
call GroupClear(H8)
call GroupEnumUnitsInRangeOfLoc(H8,b5,IW,Ig)
call DestroyBoolExpr(Ig)
set Ig=null
return kB(false,H8)
endfunction
function KZ takes nothing returns nothing
if((hy==null)or(GetUnitState(hy,UNIT_STATE_LIFE)>GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)))and(GetEnumUnit()!=DU7 or DU7==null)then
set hy=GetEnumUnit()
endif
endfunction
function Y_7 takes nothing returns nothing
if((hy==null)or(GetUnitState(hy,UNIT_STATE_LIFE)<GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)))and(GetEnumUnit()!=DU7 or DU7==null)then
set hy=GetEnumUnit()
endif
endfunction
function Z47 takes real K1,unit IB returns unit
local boolexpr Ig=Condition(function WS7)
set hy=null
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),K1,Ig)
call ForGroup(iA,function KZ)
call DestroyBoolExpr(Ig)
set Ig=null
return hy
endfunction
function Z77 takes real K1,unit IB returns unit
local boolexpr Ig=Condition(function WU7)
set hy=null
set bj_lastLoadedUnit=IB
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),K1,Ig)
call ForGroup(iA,function KZ)
call DestroyBoolExpr(Ig)
set Ig=null
return hy
endfunction
function Z87 takes real K1,unit IB,real x,real y returns unit
local boolexpr Ig=Condition(function WU7)
set hy=null
set bj_lastLoadedUnit=IB
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,x,y,K1,Ig)
call ForGroup(iA,function KZ)
call DestroyBoolExpr(Ig)
set Ig=null
return hy
endfunction
function Z97 takes real K1,unit IB,boolexpr Ig returns unit
set hy=null
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),K1,Ig)
call ForGroup(iA,function KZ)
call DestroyBoolExpr(Ig)
return hy
endfunction
function ZD7 takes real K1,unit IB returns unit
local boolexpr Ig=Condition(function WW7)
set hy=null
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),K1,Ig)
call ForGroup(iA,function KZ)
call DestroyBoolExpr(Ig)
set Ig=null
return hy
endfunction
function ZE7 takes real K1,unit IB returns unit
local boolexpr Ig=Condition(function WX7)
set hy=null
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),K1,Ig)
call ForGroup(iA,function KZ)
call DestroyBoolExpr(Ig)
set Ig=null
return hy
endfunction
function ZF7 takes real K1,unit IB returns unit
local boolexpr Ig=Condition(function WX7)
set hy=null
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),K1,Ig)
call ForGroup(iA,function Y_7)
call DestroyBoolExpr(Ig)
set Ig=null
return hy
endfunction
function ZG7 takes nothing returns nothing
if((hy==null)or(GetUnitState(hy,UNIT_STATE_MANA)<GetUnitState(GetEnumUnit(),UNIT_STATE_MANA)))and(GetEnumUnit()!=DU7 or DU7==null)then
set hy=GetEnumUnit()
endif
endfunction
function ZH7 takes real K1,unit IB returns unit
local boolexpr Ig=Condition(function WS7)
set hy=null
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),K1,Ig)
call ForGroup(iA,function ZG7)
call DestroyBoolExpr(Ig)
set Ig=null
return hy
endfunction
function ZI7 takes nothing returns nothing
if((hy==null)or(GetHeroLevel(hy)<GetHeroLevel(GetEnumUnit())))and(GetEnumUnit()!=DU7 or DU7==null)and(UQ7(GetHandleId(GetOwningPlayer(GetEnumUnit())),"AI|Class")<=2)then
set hy=GetEnumUnit()
endif
endfunction
function ZJ7 takes real K1,unit IB returns unit
local boolexpr Ig=Condition(function WS7)
set hy=null
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),K1,Ig)
call ForGroup(iA,function ZI7)
call DestroyBoolExpr(Ig)
set Ig=null
return hy
endfunction
function ZK7 takes nothing returns nothing
if((hy==null)or(GetUnitState(hy,UNIT_STATE_LIFE)>GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)))and(RH7(GetEnumUnit(),bj_lastLoadedUnit)>800.)and(GetEnumUnit()!=DU7 or DU7==null)then
set hy=GetEnumUnit()
endif
endfunction
function ZM7 takes unit IB returns unit
local boolexpr Ig=Condition(function WU7)
set hy=null
set bj_lastLoadedUnit=IB
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),1200.,Ig)
call ForGroup(iA,function ZK7)
call DestroyBoolExpr(Ig)
set Ig=null
return hy
endfunction
function ZN7 takes nothing returns nothing
if(GetUnitState(GetEnumUnit(),UNIT_STATE_MANA)>IJ4)and((hy==null)or(GetUnitState(hy,UNIT_STATE_MANA)<GetUnitState(GetEnumUnit(),UNIT_STATE_MANA)))and(not IsUnitType(GetEnumUnit(),UNIT_TYPE_MAGIC_IMMUNE))then
set hy=GetEnumUnit()
endif
endfunction
function ZO7 takes unit IB returns unit
local boolexpr Ig=Condition(function WA7)
set hy=null
set bj_lastLoadedUnit=IB
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),750.,Ig)
call ForGroup(iA,function ZN7)
call DestroyBoolExpr(Ig)
set Ig=null
return hy
endfunction
function ZP7 takes nothing returns nothing
local real ZQ7=RMinBJ(5.*GetHeroInt(GetEnumUnit(),true),GetUnitState(GetEnumUnit(),UNIT_STATE_MANA))
if EN7 or IsUnitType(GetEnumUnit(),UNIT_TYPE_MAGIC_IMMUNE)then
elseif(GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)<ZQ7*0.75)then
set EN7=true
set hy=GetEnumUnit()
elseif((hy==null)or(IJ4<ZQ7))then
set hy=GetEnumUnit()
set IJ4=ZQ7
endif
endfunction
function ZR7 takes unit IB returns unit
local boolexpr Ig=Condition(function WU7)
set hy=null
set bj_lastLoadedUnit=IB
set EN7=false
set IJ4=0
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),600.,Ig)
call ForGroup(iA,function ZP7)
call DestroyBoolExpr(Ig)
set Ig=null
return hy
endfunction
function K2 takes real K1,location b5 returns unit
local boolexpr Ig=Condition(function WS7)
set hy=null
call GroupClear(iA)
call GroupEnumUnitsInRangeOfLoc(iA,b5,K1,Ig)
call ForGroup(iA,function KZ)
call DestroyBoolExpr(Ig)
set Ig=null
return hy
endfunction
function K3 takes real K1,unit IB,boolexpr Ig returns unit
set hy=null
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),K1,Ig)
call ForGroup(iA,function KZ)
call DestroyBoolExpr(Ig)
return hy
endfunction
function K4 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(((GetHeroLevel(GetEnumUnit())>5)and(IsUnitInRange(GetFilterUnit(),GetEnumUnit(),300.)))or(RH7(GetEnumUnit(),TJ7(GetEnumUnit()))>RH7(GetFilterUnit(),TJ7(GetEnumUnit())))))
endfunction
function ZS7 takes nothing returns nothing
set GU=true
endfunction
function ZT7 takes nothing returns boolean
local integer d=GetDestructableTypeId(GetFilterDestructable())
return d==1096053874 or d==1112831095 or d==1263826039 or d==1498703476 or d==1247044468 or d==1498706804 or d==1498702708 or d==1498707828 or d==1247049588 or d==1247049588 or d==1179939959 or d==1129608306 or d==1230271607 or d==1314157687 or d==1330934903 or d==1515484279 or d==1465152372 or d==1280601204 or d==1196716904 or d==1484024948 or d==1465152631 or d==1098151011 or d==1112831075 or d==1129608291 or d==1230271587 or d==1314157667 or d==1515484259
endfunction
function K5 takes nothing returns nothing
if((GetDestructableTypeId(GetEnumDestructable())==1465152372)or(GetDestructableTypeId(GetEnumDestructable())==1230271587)or(GetDestructableTypeId(GetEnumDestructable())==1230271607)or(GetDestructableTypeId(GetEnumDestructable())==1314157687)or(GetDestructableTypeId(GetEnumDestructable())==1096053874))then
set GU=true
endif
endfunction
function K6 takes unit u returns boolean
local boolexpr b
set GU=false
call MoveLocation(Ha,GetUnitX(u),GetUnitY(u))
set bj_enumDestructableCenter=Ha
set bj_enumDestructableRadius=375.
call SetRect(He,GetUnitX(u)-375.,GetUnitY(u)-375.,GetUnitX(u)+375.,GetUnitY(u)+375.)
set b=Filter(function ZT7)
call EnumDestructablesInRect(He,b,function ZS7)
call DestroyBoolExpr(b)
return GU
endfunction
function ZU7 takes nothing returns nothing
local real dx=GetLocationX(bj_enumDestructableCenter)-GetDestructableX(GetEnumDestructable())
local real dy=GetLocationY(bj_enumDestructableCenter)-GetDestructableY(GetEnumDestructable())
local real r=dx*dx+dy*dy
if GetDestructableLife(GetEnumDestructable())>0.405 and r<bj_enumDestructableRadius then
set WW4=GetEnumDestructable()
set bj_enumDestructableRadius=r
endif
endfunction
function ZV7 takes location l,real r returns boolean
local boolexpr b
set WW4=null
if bj_enumDestructableCenter==null then
set bj_enumDestructableCenter=Location(GetLocationX(l),GetLocationY(l))
else
call MoveLocation(bj_enumDestructableCenter,GetLocationX(l),GetLocationY(l))
endif
set bj_enumDestructableRadius=r*r
call SetRect(He,GetLocationX(l)-r,GetLocationY(l)-r,GetLocationX(l)+r,GetLocationY(l)+r)
set b=Filter(function ZT7)
call EnumDestructablesInRect(He,b,function ZU7)
call DestroyBoolExpr(b)
set b=null
return WW4!=null
endfunction
function ZW7 takes nothing returns nothing
local real x=GetDestructableX(GetEnumDestructable())
local real y=GetDestructableY(GetEnumDestructable())
local real dx=x-GetLocationX(bj_enumDestructableCenter)
local real dy=y-GetLocationY(bj_enumDestructableCenter)
local real r=dx*dx+dy*dy
local real r2
if r<bj_enumDestructableRadius and GetDestructableLife(GetEnumDestructable())>0.405 then
set dx=x-WX4
set dy=y-WY4
set r=dx*WZ4+dy*WA4
set r2=dx*dx+dy*dy-r*r
if r<WB4 then
elseif r<WC4 and r2<W64*r*r then
set bj_enumDestructableRadius=0
elseif r2<W34*r*r then
set W34=r2/r/r
set WW4=GetEnumDestructable()
endif
endif
endfunction
function ZX7 takes unit u,real XU7 returns boolean
local real x=GetLocationX(GN7)
local real y=GetLocationY(GN7)
local real dx=x-GetUnitX(u)
local real dy=y-GetUnitY(u)
local real r=SquareRoot(dx*dx+dy*dy)
local boolexpr b
set WW4=null
if bj_enumDestructableCenter==null then
set bj_enumDestructableCenter=GetUnitLoc(u)
else
call MoveLocation(bj_enumDestructableCenter,GetUnitX(u),GetUnitY(u))
endif
set bj_enumDestructableRadius=XU7*XU7
set WB4=r*90./225.
set WC4=WB4+r
set WZ4=dx/r
set WA4=dy/r
set WX4=x-WC4*WZ4
set WY4=y-WC4*WA4
set W34=1/(WC4*WC4/((90.+225.)*315.)-1)
set W64=W34
call SetRect(He,GetUnitX(u)-XU7,GetUnitY(u)-XU7,GetUnitX(u)+XU7,GetUnitY(u)+XU7)
set b=Filter(function ZT7)
call EnumDestructablesInRect(He,b,function ZW7)
call DestroyBoolExpr(b)
set b=null
if WW4==null or bj_enumDestructableRadius==0 then
return false
endif
call MoveLocation(GN7,x+(GetDestructableX(WW4)-x)*225./315.,y+(GetDestructableY(WW4)-y)*225./315.)
return true
endfunction
function K7 takes nothing returns boolean
return((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and((GetUnitAbilityLevel(GetFilterUnit(),1097102451)>0)or(GetUnitAbilityLevel(GetFilterUnit(),1097102385)>0)or(GetUnitAbilityLevel(GetFilterUnit(),1093684533)>0)or(GetUnitAbilityLevel(GetFilterUnit(),1098150517)>0)or(GetUnitAbilityLevel(GetFilterUnit(),1093683785)>0)))
endfunction
function K8 takes nothing returns boolean
return((GetDestructableTypeId(GetFilterDestructable())==1096053874)or(GetDestructableTypeId(GetFilterDestructable())==1314157687))
endfunction
function K9 takes nothing returns nothing
if(GetDestructableMaxLife(GetEnumDestructable())==49.)then
set H0=GetEnumDestructable()
endif
endfunction
function la takes nothing returns nothing
if(GetDestructableMaxLife(GetEnumDestructable())==48.)then
set H0=GetEnumDestructable()
endif
endfunction
function lA takes unit it,boolean O6 returns boolean
call SetRect(He,GetUnitX(it)-600.,GetUnitY(it)-600.,GetUnitX(it)+600.,GetUnitY(it)+600.)
set H0=null
if(O6)then
call EnumDestructablesInRect(He,Condition(function K8),function K9)
else
call EnumDestructablesInRect(He,Condition(function K8),function la)
endif
return H0!=null
endfunction
function ZY7 takes nothing returns boolean
return true
endfunction
function l6 takes multiboard L6,integer c,integer r,string M6 returns nothing
local multiboarditem p6=null
set p6=MultiboardGetItem(L6,r-1,c-1)
call MultiboardSetItemValue(p6,M6)
call MultiboardReleaseItem(p6)
set p6=null
endfunction
function P6 takes multiboard L6,integer c,integer r,string q6 returns nothing
local multiboarditem p6=null
set p6=MultiboardGetItem(L6,r-1,c-1)
call MultiboardSetItemIcon(p6,q6)
call MultiboardReleaseItem(p6)
set p6=null
endfunction
function s6 takes multiboard L6,integer c,integer r,boolean t6,boolean T6 returns nothing
local multiboarditem p6=null
set p6=MultiboardGetItem(L6,r-1,c-1)
call MultiboardSetItemStyle(p6,t6,T6)
call MultiboardReleaseItem(p6)
set p6=null
endfunction
function U6 takes multiboard L6,integer c,integer r,real w6,real Y6,real Z6,real e7 returns nothing
local multiboarditem p6=null
set p6=MultiboardGetItem(L6,r-1,c-1)
call MultiboardSetItemValueColor(p6,PercentTo255(w6),PercentTo255(Y6),PercentTo255(Z6),PercentTo255(100.0-e7))
call MultiboardReleaseItem(p6)
set p6=null
endfunction
function x7 takes multiboard L6,integer c,integer r,real r7 returns nothing
local multiboarditem p6=null
set p6=MultiboardGetItem(L6,r-1,c-1)
call MultiboardSetItemWidth(p6,r7/ 100)
call MultiboardReleaseItem(p6)
set p6=null
endfunction
function ZZ7 takes integer i returns nothing
if i>16000 then
set gl[i-16000]=null
elseif i>8000 then
set Fl[i-8000]=null
else
set fl[i]=null
endif
endfunction
function ZA7 takes integer i returns unit
if i>16000 then
return gl[i-16000]
elseif i>8000 then
return Fl[i-8000]
else
return fl[i]
endif
return fl[i]
endfunction
function ZB7 takes integer i returns destructable
if i>16000 then
return YY4[i-16000]
elseif i>8000 then
return YZ4[i-8000]
else
return YA4[i]
endif
return YA4[i]
endfunction
function ZC7 takes unit u returns integer
set Hl=Hl+1
if Hl>16000 then
set gl[Hl-16000]=u
elseif Hl>8000 then
set Fl[Hl-8000]=u
else
set fl[Hl]=u
endif
return Hl
endfunction
function Z37 takes integer i returns nothing
if i>16000 then
set YY4[i-16000]=null
elseif i>8000 then
set YZ4[i-8000]=null
else
set YA4[i]=null
endif
endfunction
function Z67 takes destructable d returns integer
set YB4=YB4+1
if YB4>16000 then
set YY4[YB4-16000]=d
elseif YB4>8000 then
set YZ4[YB4-8000]=d
else
set YA4[YB4]=d
endif
return YB4
endfunction
function ZL7 takes player hd returns boolean
return((hd==Z7[0])or(hd==Z7[1])or(hd==Z7[2])or(hd==Z7[3])or(hd==Z7[4])or(hd==Z7[5]))
endfunction
function Z17 takes player hd returns boolean
return((hd==A7[0])or(hd==A7[1])or(hd==A7[2])or(hd==A7[3])or(hd==A7[4])or(hd==A7[5]))
endfunction
function Z07 takes player p returns boolean
return p==Z7[1]or p==Z7[2]or p==Z7[3]or p==Z7[4]or p==Z7[5]or p==A7[1]or p==A7[2]or p==A7[3]or p==A7[4]or p==A7[5]
endfunction
function Z57 takes player j8 returns boolean
return((GetPlayerSlotState(j8)==PLAYER_SLOT_STATE_PLAYING)and(GetPlayerController(j8)==MAP_CONTROL_USER))
endfunction
function Z27 takes player j8 returns boolean
return((GetPlayerSlotState(j8)==PLAYER_SLOT_STATE_PLAYING)and(GetPlayerController(j8)==MAP_CONTROL_COMPUTER))
endfunction
function Z_7 takes player j8 returns boolean
return((GetPlayerSlotState(j8)==PLAYER_SLOT_STATE_PLAYING)and((GetPlayerController(j8)==MAP_CONTROL_USER)or(GetPlayerController(j8)==MAP_CONTROL_COMPUTER)))
endfunction
function A47 takes player j8 returns boolean
return((GetPlayerSlotState(j8)==PLAYER_SLOT_STATE_PLAYING)and((GetPlayerController(j8)==MAP_CONTROL_USER)or(QY4[GetPlayerId(j8)])))
endfunction
function A77 takes integer OR7,unit A87 returns integer
local integer x=1
local integer Q27=0
loop
exitwhen x>5
if Z_7(Z7[x])then
if(GetUnitTypeId(M7[x])==OR7 and IsUnitEnemy(M7[x],GetOwningPlayer(A87)))then
return GetPlayerId(Z7[x])
endif
endif
if Z_7(A7[x])then
if(GetUnitTypeId(M7[6+x])==OR7 and IsUnitEnemy(M7[6+x],GetOwningPlayer(A87)))then
return GetPlayerId(A7[x])
endif
endif
set x=x+1
endloop
return Q27
endfunction
function A97 takes unit AD7 returns integer
return UQ7(GetHandleId(AD7),"Invoker|Wex")
endfunction
function AE7 takes unit AD7 returns integer
return UQ7(GetHandleId(AD7),"Invoker|Quas")
endfunction
function AF7 takes unit AD7 returns integer
return UQ7(GetHandleId(AD7),"Invoker|Exort")
endfunction
function AG7 takes unit AD7,integer AH7 returns boolean
local integer AI7=GetHandleId(AD7)
local integer AJ7=UQ7(AI7,"Invoker|Current1")
local integer AK7=UQ7(AI7,"Invoker|Current2")
if AH7==AJ7 or AH7==AK7 then
return true
endif
return false
endfunction
function AM7 takes unit AD7,integer AN7,integer AO7,integer AP7,boolean AQ7 returns boolean
local boolean J4=false
local integer O5=GetPlayerId(GetOwningPlayer(AD7))
if(AQ7)then
set J4=(Bz>TC4[O5])and IssueImmediateOrderById(AD7,AN7)and IssueImmediateOrderById(AD7,AO7)and IssueImmediateOrderById(AD7,AP7)
else
set J4=IssueImmediateOrderById(AD7,AN7)and IssueImmediateOrderById(AD7,AO7)and IssueImmediateOrderById(AD7,AP7)
endif
if(AQ7 and J4)then
set J4=IssueImmediateOrderById(AD7,852588)
endif
return J4
endfunction
function AR7 takes unit AD7,integer AN7,integer AO7,integer AP7,integer AH7 returns boolean
if(AG7(AD7,AH7))then
return true
elseif GetUnitTypeId(AD7)==1160786520 and eY[416+GetPlayerId(GetOwningPlayer(AD7))]==AH7 then
return true
else
return AM7(AD7,AN7,AO7,AP7,true)
endif
endfunction
function AS7 takes unit it returns unit
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer UP
local real AT7=99999.
local unit AU7
local unit m5=null
local integer j
call GroupClear(H8)
set bj_wantDestroyGroup=false
call GroupAddGroup(ii,H8)
loop
set AU7=FirstOfGroup(H8)
exitwhen(AU7==null)
if((m5==null)or(RH7(it,AU7)<AT7))then
set j=RJ7(GetUnitUserData(AU7))
if((j!=0 or(not PG4))and(j!=1 or(not PH4))and(j!=2 or(not PF4)))then
set m5=AU7
set AT7=RH7(it,AU7)
endif
endif
call GroupRemoveUnit(H8,AU7)
endloop
set hr=m5
set m5=null
return hr
endfunction
function AV7 takes integer O5,integer UP,integer AW7,integer AX7 returns nothing
set h7[O5]=h7[UP]
set hj[O5]=AW7
set hj[256+O5]=AX7
set hj[512+UP]=O5
set hj[512+O5]=UP
endfunction
function AY7 takes unit it,integer UP returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(it))
if(UP==0)then
return
endif
set h8[O5]=h7[UP+1]
set h8[80+O5]=h7[UP]
set h9[O5]=h7[UP-1]
set h9[16+O5]=h7[hj[UP]]
set h8[16+O5]=h7[hj[256+UP]]
if(iU(it)and(h4[O5]==null)and(Z27(Player(O5))))then
if(h4[O5]!=null and SE7(h4[O5])and RH7(it,h4[O5])<1200)then
elseif(eY[O5]==1)then
if((G0[O5])or(G0[32+O5])or(G0[48+O5])or(not G0[128+O5])or(G0[64+O5])or((SH7(it))and(not Id(O5)))or(GetUnitCurrentOrder(it)==851986))then
call T47(it,851986,h9[O5])
else
call T47(it,851983,h8[O5])
endif
elseif((eY[O5]==3)or(eY[O5]==4))then
if(GetUnitCurrentOrder(it)==851986)then
call T47(it,851986,h9[O5])
endif
endif
endif
if SH7(it)or h4[O5]!=null then
set hq[864+O5]=0
else
set hq[864+O5]=GetRandomReal(-EV7,EV7)
endif
endfunction
function AZ7 takes unit it,unit SG7 returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer UP
local unit m5=AS7(SG7)
if(m5!=null)then
set UP=GetUnitUserData(m5)
if(IsUnitAlly(it,Z7[0]))then
call AY7(it,UP)
else
call AY7(it,hj[512+UP])
endif
endif
set m5=null
endfunction
function AA7 takes unit it returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer UP
local unit m5=AS7(it)
if(m5!=null)then
set UP=GetUnitUserData(m5)
if(IsUnitAlly(it,Z7[0]))then
call AY7(it,UP)
else
call AY7(it,hj[512+UP])
endif
endif
set h4[96+O5]=null
set m5=null
endfunction
function M8 takes player j8 returns boolean
if(GetPlayerSlotState(j8)==PLAYER_SLOT_STATE_PLAYING or GetPlayerSlotState(j8)==PLAYER_SLOT_STATE_LEFT)then
if(GetPlayerController(j8)==MAP_CONTROL_USER or GetPlayerController(j8)==MAP_CONTROL_COMPUTER)then
return true
endif
endif
return false
endfunction
function p8 takes nothing returns nothing
if(Z_7(GetEnumPlayer())==true)then
set bj_forceCountPlayers=bj_forceCountPlayers+1
endif
endfunction
function P8 takes force f returns integer
set bj_forceCountPlayers=0
call ForForce(f,function p8)
return bj_forceCountPlayers
endfunction
function hh takes nothing returns nothing
if GetPlayerSlotState(GetEnumPlayer())==PLAYER_SLOT_STATE_PLAYING then
if GetEnumPlayer()!=Player(13)and GetEnumPlayer()!=Player(14)then
set bj_forceCountPlayers=bj_forceCountPlayers+1
endif
endif
endfunction
function q8 takes force f returns integer
set bj_forceCountPlayers=0
call ForForce(f,function hh)
return bj_forceCountPlayers
endfunction
function hi takes integer hI,player j8 returns nothing
if H84 then
call SetPlayerTechMaxAllowed(j8,hI,0)
set J[GetUnitPointValueByType(hI)]=true
endif
endfunction
function AB7 takes integer hI returns nothing
call hi(hI,Z7[1])
call hi(hI,Z7[2])
call hi(hI,Z7[3])
call hi(hI,Z7[4])
call hi(hI,Z7[5])
call hi(hI,A7[1])
call hi(hI,A7[2])
call hi(hI,A7[3])
call hi(hI,A7[4])
call hi(hI,A7[5])
endfunction
function S8 takes integer hI returns nothing
if H84 then
call SetPlayerTechMaxAllowed(Z7[1],hI,0)
call SetPlayerTechMaxAllowed(Z7[2],hI,0)
call SetPlayerTechMaxAllowed(Z7[3],hI,0)
call SetPlayerTechMaxAllowed(Z7[4],hI,0)
call SetPlayerTechMaxAllowed(Z7[5],hI,0)
call SetPlayerTechMaxAllowed(A7[1],hI,0)
call SetPlayerTechMaxAllowed(A7[2],hI,0)
call SetPlayerTechMaxAllowed(A7[3],hI,0)
call SetPlayerTechMaxAllowed(A7[4],hI,0)
call SetPlayerTechMaxAllowed(A7[5],hI,0)
endif
endfunction
function AC7 takes player j8 returns nothing
local integer T8=KL4
local integer U8=K14
if H84 then
loop
exitwhen T8>U8
call SetPlayerTechMaxAllowed(j8,K34[T8],0)
set T8=T8+1
endloop
set T8=K04
set U8=K54
loop
exitwhen T8>U8
call SetPlayerTechMaxAllowed(j8,K34[T8],0)
set T8=T8+1
endloop
endif
endfunction
function A37 takes nothing returns nothing
call AC7(Z7[1])
call AC7(Z7[2])
call AC7(Z7[3])
call AC7(Z7[4])
call AC7(Z7[5])
call AC7(A7[1])
call AC7(A7[2])
call AC7(A7[3])
call AC7(A7[4])
call AC7(A7[5])
endfunction
function A67 takes player p returns nothing
local integer i
if H84 then
set i=KL4
loop
exitwhen i>K54
if J[i]==false then
call SetPlayerTechMaxAllowed(p,K34[i],1)
endif
set i=i+1
endloop
if ZL7(p)then
set i=KL4
loop
exitwhen i>K14
call SetPlayerTechMaxAllowed(p,K34[i],0)
set i=i+1
endloop
else
set i=K04
loop
exitwhen i>K54
call SetPlayerTechMaxAllowed(p,K34[i],0)
set i=i+1
endloop
endif
endif
endfunction
function AL7 takes player p returns nothing
local integer i
if H84 then
set i=KL4
loop
exitwhen i>K54
if J[i]==false then
call SetPlayerTechMaxAllowed(p,K34[i],1)
endif
set i=i+1
endloop
if ZL7(p)then
set i=K04
loop
exitwhen i>K54
call SetPlayerTechMaxAllowed(p,K34[i],0)
set i=i+1
endloop
else
set i=KL4
loop
exitwhen i>K14
call SetPlayerTechMaxAllowed(p,K34[i],0)
set i=i+1
endloop
endif
endif
endfunction
function A17 takes nothing returns nothing
local integer i
if H84 then
set i=K04
loop
exitwhen i>K54
call SetPlayerTechMaxAllowed(Z7[1],K34[i],0)
call SetPlayerTechMaxAllowed(Z7[2],K34[i],0)
call SetPlayerTechMaxAllowed(Z7[3],K34[i],0)
call SetPlayerTechMaxAllowed(Z7[4],K34[i],0)
call SetPlayerTechMaxAllowed(Z7[5],K34[i],0)
set i=i+1
endloop
set i=KL4
loop
exitwhen i>K14
call SetPlayerTechMaxAllowed(A7[1],K34[i],0)
call SetPlayerTechMaxAllowed(A7[2],K34[i],0)
call SetPlayerTechMaxAllowed(A7[3],K34[i],0)
call SetPlayerTechMaxAllowed(A7[4],K34[i],0)
call SetPlayerTechMaxAllowed(A7[5],K34[i],0)
set i=i+1
endloop
endif
endfunction
function A07 takes nothing returns nothing
local integer T8
local integer U8
local integer A57=0
set Ge=KL4
set T8=KL4
set U8=K14
loop
exitwhen T8>U8
set A57=A57+1
set je[A57]=T8
set T8=T8+1
endloop
set T8=K04
set U8=K54
loop
exitwhen T8>U8
set A57=A57+1
set je[A57]=T8
set T8=T8+1
endloop
set he=A57
endfunction
function A27 takes nothing returns integer
return je[GetRandomInt(Ge,he)]
endfunction
function A_7 takes nothing returns integer
local integer B47=GetRandomInt(Ge,he)
local integer hs=je[B47]
set hs=je[B47]
if(Ge==he)then
set je[B47]=0
return hs
endif
if(B47==he)then
set he=he-1
return hs
endif
set je[B47]=je[he]
set he=he-1
return hs
endfunction
function B77 takes unit PI7 returns boolean
return GetUnitAbilityLevel(PI7,1110454612)>0 or GetUnitAbilityLevel(PI7,1112437609)>0 or GetUnitAbilityLevel(PI7,1110454616)>0 or GetUnitAbilityLevel(PI7,1112433775)>0 or GetUnitAbilityLevel(PI7,1110454861)>0 or GetUnitAbilityLevel(PI7,1114137953)>0 or GetUnitAbilityLevel(PI7,1110456150)>0 or GetUnitAbilityLevel(PI7,1110458969)>0 or GetUnitAbilityLevel(PI7,1110456399)>0 or GetUnitAbilityLevel(PI7,1110456149)>0 or GetUnitAbilityLevel(PI7,1110459468)>0 or GetUnitAbilityLevel(PI7,1110456406)>0 or GetUnitAbilityLevel(PI7,1110455089)>0 or GetUnitAbilityLevel(PI7,1110459988)>0 or GetUnitAbilityLevel(PI7,1110459975)>0
endfunction
function B87 takes string hT returns integer
if hT=="a"then
return 10
elseif hT=="b"then
return 11
elseif hT=="c"then
return 12
elseif hT=="d"then
return 13
elseif hT=="e"then
return 14
elseif hT=="f"then
return 15
else
return S2I(hT)
endif
endfunction
function B97 takes string hU returns integer
return B87(SubString(hU,0,1))*16+B87(SubString(hU,1,2))
endfunction
function BD7 takes integer hX returns boolean
local integer i=1
loop
exitwhen i>C8
if hX==B8[i]then
return false
endif
set i=i+1
endloop
return true
endfunction
function BE7 takes unit BF7 returns integer
local integer BG7=GetUnitTypeId(BF7)
if BG7==1697656914 or BG7==1966092365 then
return 1
elseif BG7==1697657137 or BG7==1966092356 then
return 2
elseif BG7==1697656915 or BG7==1966092366 then
return 3
elseif BG7==1697657145 or BG7==1966092372 then
return 4
endif
return 0
endfunction
function BH7 takes player hV,integer hY returns nothing
local texttag t
if hY>0 then
set t=CreateTextTag()
call SetPlayerState(hV,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(hV,PLAYER_STATE_RESOURCE_GOLD)+hY)
call SetTextTagText(t,"+"+I2S(hY),.025)
call SetTextTagPosUnit(t,M7[GetPlayerId(hV)],0)
call SetTextTagColor(t,255,220,0,255)
call SetTextTagVelocity(t,0,.03)
if GetLocalPlayer()==hV then
call SetTextTagVisibility(t,true)
else
call SetTextTagVisibility(t,false)
endif
call SetTextTagFadepoint(t,2)
call SetTextTagLifespan(t,3)
call SetTextTagPermanent(t,false)
endif
endfunction
function lW takes player hV,integer BI7 returns nothing
local integer x=1
if IsPlayerAlly(hV,Z7[0])then
loop
exitwhen x>5
if Z7[x]!=hV then
call BH7(Z7[x],BI7)
endif
set x=x+1
endloop
endif
set x=1
if IsPlayerAlly(hV,A7[0])then
loop
exitwhen x>5
if A7[x]!=hV then
call BH7(A7[x],BI7)
endif
set x=x+1
endloop
endif
endfunction
function BJ7 takes unit hn,integer BK7 returns nothing
local integer BI7
local player p=GetOwningPlayer(hn)
local integer BM7=0
local integer BN7
set BI7=160+40*BK7
if ZL7(GetOwningPlayer(hn))then
set BN7=P8(X7)
else
set BN7=P8(Y7)
endif
if p==Z7[0]or p==A7[0]then
set BM7=R2I(((400+50*BK7)+GetRandomInt(2,20))*0.70)
endif
if IsUnitAlly(GetDyingUnit(),p)then
if IsUnitAlly(hn,Z7[0])then
set p=A7[0]
else
set p=Z7[0]
endif
set BI7=BI7/ 2+BM7/ BN7
else
set BI7=BI7+BM7/ BN7
endif
if p==Z7[0]then
call BH7(Z7[1],BI7)
call BH7(Z7[2],BI7)
call BH7(Z7[3],BI7)
call BH7(Z7[4],BI7)
call BH7(Z7[5],BI7)
elseif p==A7[0]then
call BH7(A7[1],BI7)
call BH7(A7[2],BI7)
call BH7(A7[3],BI7)
call BH7(A7[4],BI7)
call BH7(A7[5],BI7)
else
call lW(GetOwningPlayer(hn),BI7)
endif
endfunction
function BO7 takes integer z8 returns boolean
local integer i=1
loop
exitwhen i>M94
if M84[i]==z8 then
return true
endif
set i=i+1
endloop
return false
endfunction
function BP7 takes integer z8 returns boolean
local integer i=1
loop
exitwhen i>K_4
if K24[i]==z8 then
return true
endif
set i=i+1
endloop
return false
endfunction
function BQ7 takes integer z8 returns boolean
local integer i=1
loop
exitwhen i>M74
if M44[i]==z8 then
return true
endif
set i=i+1
endloop
return false
endfunction
function BR7 takes player j8 returns nothing
local integer BS7
local integer BT7
local location BU7
local integer B47
local boolean GotHero=false
set W4[GetPlayerId(j8)]=true
if ZL7(j8)==true then
set BS7=KL4
set BT7=K14
set BU7=GetRectCenter(ED)
else
set BS7=K04
set BT7=K54
set BU7=GetRectCenter(L9)
endif
if P4 then
if(GetRandomInt(1,2)==1)then
set BS7=KL4
set BT7=K14
else
set BS7=K04
set BT7=K54
endif
endif
loop
set B47=GetRandomInt(BS7,BT7)
exitwhen J[B47]==false and BO7(K34[B47])and K34[B47]!=1211117643
endloop
if X8==false then
call S8(K34[B47])
set J[B47]=true
endif
call CreateUnitAtLoc(j8,K34[B47],BU7,0)
call RemoveLocation(BU7)
set BU7=null
endfunction
function BV7 takes player j8 returns nothing
local integer BS7
local integer BT7
local location BU7
local integer B47
local boolean GotHero=false
set W4[GetPlayerId(j8)]=true
if ZL7(j8)==true then
set BS7=KL4
set BT7=K14
set BU7=GetRectCenter(ED)
else
set BS7=K04
set BT7=K54
set BU7=GetRectCenter(L9)
endif
if P4 then
if(GetRandomInt(1,2)==1)then
set BS7=KL4
set BT7=K14
else
set BS7=K04
set BT7=K54
endif
endif
loop
set B47=GetRandomInt(BS7,BT7)
exitwhen J[B47]==false and BQ7(K34[B47])
endloop
if X8==false then
call S8(K34[B47])
set J[B47]=true
endif
call CreateUnitAtLoc(j8,K34[B47],BU7,0)
call RemoveLocation(BU7)
set BU7=null
endfunction
function BW7 takes player j8 returns nothing
local integer BS7
local integer BT7
local location BU7
local integer B47
local boolean GotHero=false
set W4[GetPlayerId(j8)]=true
if ZL7(j8)==true then
set BS7=KL4
set BT7=K14
set BU7=GetRectCenter(ED)
else
set BS7=K04
set BT7=K54
set BU7=GetRectCenter(L9)
endif
if P4 then
if(GetRandomInt(1,2)==1)then
set BS7=KL4
set BT7=K14
else
set BS7=K04
set BT7=K54
endif
endif
loop
set B47=GetRandomInt(BS7,BT7)
exitwhen J[B47]==false and BP7(K34[B47])
endloop
if X8==false then
call S8(K34[B47])
set J[B47]=true
endif
call CreateUnitAtLoc(j8,K34[B47],BU7,0)
call RemoveLocation(BU7)
set BU7=null
endfunction
function BX7 takes player j8 returns nothing
local integer BS7
local integer BT7
local location BU7
local integer B47
local boolean GotHero=false
set W4[GetPlayerId(j8)]=true
if ZL7(j8)==true then
set BS7=KL4
set BT7=K14
set BU7=GetRectCenter(ED)
else
set BS7=K04
set BT7=K54
set BU7=GetRectCenter(L9)
endif
if P4 then
if(GetRandomInt(1,2)==1)then
set BS7=KL4
set BT7=K14
else
set BS7=K04
set BT7=K54
endif
endif
loop
set B47=GetRandomInt(BS7,BT7)
exitwhen J[B47]==false
endloop
if X8==false then
call S8(K34[B47])
set J[B47]=true
endif
call CreateUnitAtLoc(j8,K34[B47],BU7,0)
call RemoveLocation(BU7)
set BU7=null
endfunction
function ly takes boolean h5,boolean h6 returns integer
local integer h1
local integer h2
if h5 and h6 then
if(GetRandomInt(1,2)==1)then
set h1=KL4
set h2=K14
else
set h1=K04
set h2=K54
endif
elseif h5 then
set h1=KL4
set h2=K14
else
set h1=K04
set h2=K54
endif
return GetRandomInt(h1,h2)
endfunction
function BY7 takes destructable d returns boolean
return GetDestructableTypeId(d)==1314157667 or GetDestructableTypeId(d)==1314157687 or GetDestructableTypeId(d)==1096053874 or GetDestructableTypeId(d)==1110454322 or GetDestructableTypeId(d)==1110454323 or GetDestructableTypeId(d)==1110454325
endfunction
function BZ7 takes unit u returns boolean
return GetUnitAbilityLevel(u,1113815395)>0 or GetUnitAbilityLevel(u,1113815346)>0
endfunction
function BA7 takes integer id returns boolean
return id==1966092596 or id==1966092597 or id==1966092598 or id==1966092612 or id==1966092613 or id==1966092614 or id==1966092626 or id==1966092627 or id==1966092628
endfunction
function BB7 takes unit u returns boolean
return GetUnitAbilityLevel(u,1112500344)>0 or GetUnitAbilityLevel(u,1110454344)>0
endfunction
function BC7 takes integer BG7 returns boolean
if BG7==1852862003 or BG7==1852862006 or BG7==1848652080 or BG7==1848657754 then
return true
endif
if BG7==1852862002 or BG7==1852862006 or BG7==1848652082 or BG7==1848657969 then
return true
endif
if BG7==1852862001 or BG7==1852862004 or BG7==1848652081 or BG7==1848657968 then
return true
endif
return false
endfunction
function B37 takes player p returns string
return KZ4[GetPlayerId(p)]
endfunction
function B67 takes integer i returns string
return GetObjectName(i)
endfunction
function BL7 takes force ir,real Hk,string iR returns nothing
if(IsPlayerInForce(GetLocalPlayer(),ir))then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,E9,Hk,iR)
endif
endfunction
function vlv takes nothing returns group
return CreateGroup()
endfunction
function l7 takes integer i returns nothing
if i!=Dy then
set Dx[i]=Dx[Dy]
set DX[i]=DX[Dy]
endif
set Dx[Dy]=null
set DX[Dy]=0
set Dy=Dy-1
endfunction
function l8 takes nothing returns boolean
local real B17=RT7()
local integer i
set i=1
loop
exitwhen i>Dy
if DX[i]<B17 then
if Dx[i]==null or IsTriggerEnabled(Dx[i])then
call l5()
else
call DestroyTrigger(Dx[i])
endif
call l7(i)
else
set i=i+1
endif
endloop
return false
endfunction
function B07 takes trigger t returns nothing
call TQ7(GetHandleId(t))
call DisableTrigger(t)
call DestroyTrigger(t)
endfunction
function FilterTreeSentinels takes nothing returns boolean
return((GetUnitTypeId(GetFilterUnit())==1747993172)or(GetUnitTypeId(GetFilterUnit())==1747993173))
endfunction
function B57 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer B27=GetHandleId(t)
local unit B_7=UE7(B27,"TreantUnit")
local unit C47=UE7(B27,"SentinelUnit")
local unit O37=null
local unit u=null
local group g=CreateGroup()
local integer O5=GetPlayerId(GetOwningPlayer(B_7))
if((GetTriggerEventId()==EVENT_UNIT_DEATH)and((GetUnitTypeId(C47)==1747993172)or(GetUnitTypeId(C47)==1747993173)))then
call FlushChildHashtable(L7,B27)
call U37(t)
call DestroyTrigger(t)
elseif((GetUnitTypeId(C47)==1747993172)and(Bz>TC4[64+O5]))then
call GroupClear(g)
call GroupEnumUnitsInRangeOfLoc(g,GetUnitLoc(C47),500,Condition(function X77))
if(not Q07(g))then
loop
set u=FirstOfGroup(g)
call GroupRemoveUnit(g,u)
exitwhen IsUnitEnemy(u,GetOwningPlayer(B_7))
endloop
set O37=u
endif
if((GetUnitState(B_7,UNIT_STATE_LIFE)>5.)and(O37!=null)and(Z27(GetOwningPlayer(B_7)))and(GetUnitTypeId(C47)==1747993172)and(B77(B_7)==false))then
call IssuePointOrderById(B_7,852185,GetUnitX(C47),GetUnitY(C47))
set TC4[64+O5]=Bz+10.
endif
else
endif
call DestroyGroup(g)
set t=null
set B_7=null
set C47=null
set O37=null
set u=null
set g=null
return false
endfunction
function C77 takes unit C87,unit C97 returns nothing
local unit C47=C97
local unit B_7=C87
local trigger t=null
local integer CD7=0
local boolexpr b=Condition(function X77)
if(Z27(GetOwningPlayer(B_7)))then
set t=CreateTrigger()
set CD7=GetHandleId(t)
call TX7(CD7,"TreantUnit",B_7)
call TX7(CD7,"SentinelUnit",C47)
if(GetUnitTypeId(C47)==1747993172)then
call TriggerRegisterUnitInRange(t,C47,500,b)
endif
call TriggerRegisterUnitEvent(t,C47,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function B57))
endif
call DestroyBoolExpr(b)
set C47=null
set B_7=null
set t=null
endfunction
function CE7 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer CF7=GetHandleId(t)
local fogmodifier CG7=(LoadFogModifierHandle(L7,(CF7),(42)))
call FogModifierStop(CG7)
call DestroyFogModifier(CG7)
call FlushChildHashtable(L7,(CF7))
call U37(t)
set t=null
return false
endfunction
function CH7 takes integer id returns boolean
return id==YA or id==QA or id==NA or id==WA or id==JA
endfunction
function CI7 takes unit u returns string
if u==null then
return(GetObjectName((1848654164)))
endif
if GetUnitPointValue(u)==500 then
return"Formless"
elseif GetUnitPointValue(u)==600 then
return"Bastion"
endif
return(GetObjectName((K64[GetUnitPointValue(u)])))
endfunction
function CJ7 takes unit PI7 returns string
local integer i=GetUnitPointValue(PI7)
if H34 then
set i=GetPlayerId(GetOwningPlayer(PI7))
if Player(i)==Z7[1]then
return"Blue"
elseif Player(i)==Z7[2]then
return"Teal"
elseif Player(i)==Z7[3]then
return"Purple"
elseif Player(i)==Z7[4]then
return"Yellow"
elseif Player(i)==Z7[5]then
return"Orange"
elseif Player(i)==A7[1]then
return"Pink"
elseif Player(i)==A7[2]then
return"Gray"
elseif Player(i)==A7[3]then
return"Light"
elseif Player(i)==A7[4]then
return"Dark"
elseif Player(i)==A7[5]then
return"Brown"
endif
return"Unknown"
endif
if(i==1)then
return"Shendelzare"
elseif(i==15)then
return"Cairne"
elseif(i==18)then
return"Magi"
elseif(i==21)then
return"Azwraith"
elseif(i==29)then
return"Wisp"
elseif(i==33)then
return"Davion"
elseif(i==65)then
return"Anub'arak"
elseif(i==86)then
return"Vol'Jin"
elseif(i==91)then
return"Azgalor"
elseif(i==93)then
return"Ish'kafel"
elseif(i==97)then
return"Kaldr"
elseif(i==101)then
return"Eredar"
endif
return CI7(PI7)
endfunction
function CK7 takes integer i returns string
if i==0 then
return(GetObjectName((1848654164)))
endif
return(GetObjectName((K64[i])))
endfunction
function CM7 takes unit S4 returns integer
local integer z8
local integer i=0
if S4==null then
return-2
endif
set z8=GetUnitTypeId(S4)
loop
exitwhen i>EV
if AU[i]==z8 then
return i
endif
set i=i+1
endloop
return-1
endfunction
function CN7 takes unit u returns string
if u==null then
return"UI\\Widgets\\Console\\Undead\\undead-inventory-slotfiller.blp"
endif
return MH4[GetUnitPointValue(u)]
endfunction
function CO7 takes unit u returns boolean
return GetUnitAbilityLevel(u,1093686070)>0 or GetUnitAbilityLevel(u,1093744441)>0 or GetUnitAbilityLevel(u,1094937961)>0 or GetUnitAbilityLevel(u,1093686101)>0 or GetUnitAbilityLevel(u,1110454580)>0 or GetUnitAbilityLevel(u,1093683251)>0 or UX7(u,"BladeFury|Active")
endfunction
function CP7 takes player p returns boolean
return V8 and(KX4==p or KY4==p)
endfunction
function CQ7 takes unit CR7 returns integer
local integer x
local integer id=GetUnitTypeId(CR7)
set x=1
loop
exitwhen x>K_4
if id==K24[x]then
return K37
endif
set x=x+1
endloop
set x=1
loop
exitwhen x>M74
if id==M44[x]then
return K67
endif
set x=x+1
endloop
set x=1
loop
exitwhen x>M94
if id==M84[x]then
return KL7
endif
set x=x+1
endloop
if id==1164277357 or id==1160786518 or id==1160786519 or id==1160786517 or id==1311781442 or id==1311781175 or id==1211119684 or id==1211119683 or id==1211119668 or id==1211119682 or id==1311781171 or id==1311781172 or id==1311781173 or id==1160786511 or id==1311788365 then
return K37
endif
if id==1311781192 or id==1311781204 or id==1311781194 or id==1211117637 or id==1211117639 or id==1211117638 or id==1211119433 or id==1160786229 or id==1211122513 or id==1211122995 or id==1211122996 or id==1211122997 or id==1429221720 then
return K67
endif
if id==1211119192 or id==1211119193 or id==1211119191 or id==1211122243 or id==1328558391 or id==1311788354 or id==1311788355 or id==1311788367 or id==1311788353 then
return KL7
endif
return 0
endfunction
function CS7 takes unit CR7 returns integer
local integer Hm=CQ7(CR7)
if Hm==1 then
return GetHeroInt(CR7,true)
endif
if Hm==2 then
return GetHeroAgi(CR7,true)
endif
if Hm==3 then
return GetHeroStr(CR7,true)
endif
return 0
endfunction
function CT7 takes unit u returns boolean
return GetUnitState(u,UNIT_STATE_LIFE)<1 or IG4[GetPlayerId(GetOwningPlayer(u))]==true
endfunction
function CU7 takes integer z8,integer r,integer g,integer b returns nothing
set CL=CL+1
set NL[CL]=r
set bL[CL]=g
set BL[CL]=b
set cL[CL]=z8
endfunction
function CV7 takes nothing returns nothing
call PauseUnit(GetEnumUnit(),true)
endfunction
function emv takes nothing returns nothing
call DisplayTimedTextToPlayer(GetEnumPlayer(),0,E9,DB,dB)
endfunction
function CW7 takes nothing returns nothing
if eb[GetPlayerId(GetEnumPlayer())]then
call DisplayTimedTextToPlayer(GetEnumPlayer(),0,E9,mb,Lb)
endif
endfunction
function CX7 takes force ir,real Hk,string iR returns nothing
set Lb=iR
set mb=Hk
call ForForce(ir,function CW7)
endfunction
function CY7 takes unit u returns boolean
return GetUnitAbilityLevel(u,1110458953)>0 or GetUnitAbilityLevel(u,1112437619)>0 or GetUnitAbilityLevel(u,1110459734)>0
endfunction
function CZ7 takes group g returns nothing
local integer i=GetHandleId(g)-TO4
if i<0 or i>120 then
set TQ4=true
call DestroyGroup(g)
else
call GroupClear(g)
set TM4[i]=false
set TP4=i
endif
endfunction
function CA7 takes nothing returns group
local integer i=TP4
loop
exitwhen i==TP4-1
if TM4[i]==false then
set TP4=i+1
if TP4==120 then
set TP4=0
endif
set TM4[i]=true
return TN4[i]
endif
set i=i+1
if i==120 then
set i=0
endif
endloop
call CX7(L8,5.00,"|c00ff0303CRITICAL ERROR: FOUND NO AVAILABLE GROUPS|r")
call CX7(L8,5.00,"|c00ff0303Send this replay to IceFrog@gmail.com|r")
return CreateGroup()
endfunction
function CB7 takes real CC7,real dx,real dy,real Vx,real Vy returns real
local real a
local real b
local real d
set a=CC7*CC7-Vx*Vx-Vy*Vy
set b=Vx*dx+Vy*dy
if a==0 then
if b>0 then
return 0.
endif
return(dx*dx+dy*dy)/2/b
endif
set d=b*b+a*(dx*dx+dy*dy)
if d<0 then
return 0.
endif
set d=SquareRoot(d)
if b<d then
return(b+d)/a
endif
return(b-d)/a
endfunction
function C37 takes real x,real y returns boolean
if(x<GetRectMinX(bj_mapInitialPlayableArea)+75)then
return false
endif
if(x>GetRectMaxX(bj_mapInitialPlayableArea)-75)then
return false
endif
if(y<GetRectMinY(bj_mapInitialPlayableArea)+75)then
return false
endif
if(y>GetRectMaxY(bj_mapInitialPlayableArea)-75)then
return false
endif
return true
endfunction
function C67 takes unit CL7,unit O_7,real X,real Y,real r,boolexpr OK7 returns boolean
local group g=CA7()
local real Hx=GetUnitX(CL7)
local real Hy=GetUnitY(CL7)
local player p=GetOwningPlayer(CL7)
local real dx=(X-Hx)*.5
local real dy=(Y-Hy)*.5
local real R=SquareRoot(dx*dx+dy*dy)
local unit u
local real d
local real C17=99999.
local real C07=0.
local real QH7
call GroupEnumUnitsInRange(g,Hx+dx,Hy+dy,R,OK7)
set bj_lastReplacedUnit=null
set bj_lastLoadedUnit=null
set bj_forLoopAIndex=0
loop
set u=FirstOfGroup(g)
exitwhen u==null
call GroupRemoveUnit(g,u)
set d=((GetUnitX(u)-Hx)*dy-(GetUnitY(u)-Hy)*dx)/R
if u!=CL7 and u!=O_7 and IsUnitVisible(u,p)and d*d<=r*r then
set QH7=RH7(CL7,u)
if QH7<C17 then
set C17=QH7
set bj_lastReplacedUnit=u
endif
if QH7>C07 then
set C07=QH7
set bj_lastLoadedUnit=u
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endif
endloop
call CZ7(g)
set g=null
return bj_forLoopAIndex==0
endfunction
function C57 takes unit CL7,unit O_7,real CC7,real C27,real Y87 returns location
local real dt=TimerGetElapsed(W)
local real X
local real Y
local real dx=GetUnitX(O_7)
local real dy=GetUnitY(O_7)
call R97(0.1)
set dt=TimerGetElapsed(W)-dt
set X=GetUnitX(O_7)
set Y=GetUnitY(O_7)
if X==dx and Y==dy then
call MoveLocation(GN7,X,Y)
return GN7
endif
set dx=(X-dx)/dt
set dy=(Y-dy)/dt
set dt=CB7(CC7,X+dx*C27-GetUnitX(CL7),Y+dy*C27-GetUnitY(CL7),dx,dy)
if dt==0 then
return null
endif
call MoveLocation(GN7,X+dx*(dt+C27),Y+dy*(dt+C27))
if C37(GetLocationX(GN7),GetLocationY(GN7))then
return GN7
endif
return null
endfunction
function C_7 takes unit PI7,unit SG7,real L47,real Y87 returns location
local real W97=GetUnitX(SG7)
local real WD7=GetUnitY(SG7)
local real L77=TimerGetElapsed(W)
local real L87=0
local real L97=0
call R97(0.1)
set L77=1./(TimerGetElapsed(W)-L77)
set L87=(GetUnitX(SG7)-W97)*L77
set L97=(GetUnitY(SG7)-WD7)*L77
if not(L87==0 and L97==0)then
set W97=W97+L87*L47
set WD7=WD7+L97*L47
endif
if RI7(GetUnitX(PI7),GetUnitY(PI7),W97,WD7)<=Y87 then
call MoveLocation(GN7,W97,WD7)
if C37(GetLocationX(GN7),GetLocationY(GN7))then
return GN7
endif
endif
return null
endfunction
function LD7 takes location V47,real LE7,real LF7 returns location
local real x=GetLocationX(V47)+LE7*Cos(LF7*bj_DEGTORAD)
local real y=GetLocationY(V47)+LE7*Sin(LF7*bj_DEGTORAD)
call MoveLocation(HA,x,y)
return HA
endfunction
function LG7 takes nothing returns boolean
return((GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(bj_lastLoadedUnit))and(GetUnitTypeId(GetFilterUnit())==1212363833)and(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>.405))
endfunction
function aiSiren_CheckRipTide_Enum takes nothing returns boolean
return((GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetEnumUnit()))and(GetUnitTypeId(GetFilterUnit())==1212363833)and(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>.405))
endfunction
function LH7 takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false and GetUnitAbilityLevel(GetFilterUnit(),1098282348)==0)and SS7(450,GetFilterUnit(),Condition(function LG7))>=1
endfunction
function LI7 takes unit it,unit m5 returns boolean
set bj_lastLoadedUnit=it
set bj_lastLoadedUnit=SQ7(350,S_7(m5),Condition(function LG7))
return(bj_lastLoadedUnit!=null)
endfunction
function LJ7 takes nothing returns boolean
local integer LK7=0
local integer i=0
loop
exitwhen i==120
if TM4[i]==true then
set LK7=LK7+1
endif
set i=i+1
endloop
if LK7>100 or TQ4 then
call CX7(L8,5.00,"|c00ff0303Please send me this replay ("+I2S(LK7)+")")
endif
return false
endfunction
function LM7 takes nothing returns nothing
local integer i=0
set TP4=0
set TN4[i]=CreateGroup()
set TM4[i]=false
set i=i+1
set TO4=GetHandleId(TN4[0])
loop
exitwhen i==120
set TN4[i]=CreateGroup()
set TM4[i]=false
set i=i+1
endloop
endfunction
function LN7 takes nothing returns boolean
local group g=CA7()
call GroupEnumUnitsInRange(g,0,0,16000,Condition(function ZY7))
call ForGroup(g,function CV7)
call CZ7(g)
set g=null
return false
endfunction
function LO7 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterTimerEvent(t,1.,true)
call TriggerAddCondition(t,Condition(function LN7))
call TriggerEvaluate(t)
set t=null
endfunction
function LP7 takes unit CL7,integer LQ7 returns nothing
call UnitAddAbility(CL7,LQ7)
call UnitMakeAbilityPermanent(CL7,true,LQ7)
endfunction
function LR7 takes unit u returns boolean
return GetUnitTypeId(u)<1 or IsUnitType(u,UNIT_TYPE_DEAD)==true
endfunction
function LS7 takes unit LT7,unit LU7 returns nothing
if RH7(LT7,LU7)>1200 or(LR7(LT7)and GetUnitTypeId(LT7)==1211117643)then
call AddHeroXP(LT7,RQ7(LU7),true)
endif
endfunction
function LV7 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
call TQ7(GetHandleId(UE7(UL7,"Unit")))
call ShowUnit(UE7(UL7,"Unit"),false)
call RemoveUnit(UE7(UL7,"Unit"))
call TQ7(UL7)
call U37(t)
set t=null
return false
endfunction
function LW7 takes unit u,real d returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,d,false)
call TriggerAddCondition(t,Condition(function LV7))
call TX7(UL7,"Unit",u)
set t=null
endfunction
function LX7 takes integer LY7 returns nothing
local unit u=CreateUnit(Player(15),LY7,0,0,0)
call RemoveUnit(u)
set u=null
endfunction
function LZ7 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit u=UE7(UL7,"u")
local real LA7=UR7(UL7,"duration")
local integer LB7=UQ7(UL7,"fade")
if GetTriggerEvalCount(t)/ 10>R2I(LA7)then
call SetUnitVertexColor(u,255,100,255,255)
call TQ7(UL7)
call U37(t)
elseif LR7(u)==false then
call SetUnitVertexColor(u,255,100,255,LB7)
endif
set t=null
set u=null
return false
endfunction
function LC7 takes unit u,real LA7,integer LB7 returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function LZ7))
call TX7(UL7,"u",u)
call TU7(UL7,"duration",LA7)
call TT7(UL7,"fade",LB7)
set t=null
endfunction
function L37 takes integer z8,real L67,integer LL7 returns nothing
set Ml=Ml+1
set Jl[Ml]=L67
set ll[Ml]=z8
set Ll[Ml]=LL7
endfunction
function L17 takes unit u returns real
local integer z8=GetUnitTypeId(u)
local integer i=1
loop
exitwhen i>Ml
if ll[i]==z8 then
return Jl[i]
endif
set i=i+1
endloop
return 1.
endfunction
function L07 takes integer z8,string L57 returns nothing
set Ql=Ql+1
set Pl[Ql]=L57
set ql[Ql]=z8
endfunction
function L27 takes unit u returns string
local integer z8=GetUnitTypeId(u)
local integer i=1
loop
exitwhen i>Ql
if ql[i]==z8 then
return Pl[i]
endif
set i=i+1
endloop
return"stand"
endfunction
function L_7 takes unit u returns nothing
if GetUnitTypeId(u)==1311781193 then
call SetUnitAnimationByIndex(u,6)
else
call SetUnitAnimation(u,L27(u))
endif
endfunction
function D48 takes player hV,string Ht returns nothing
local sound HT=CreateSound(Ht,false,false,false,10,10,"DefaultEAXON")
if(GetLocalPlayer()==hV)then
call StartSound(HT)
endif
call KillSoundWhenDone(HT)
endfunction
function D78 takes player HU,string Hv returns nothing
local sound HV=CreateSoundFromLabel("InterfaceError",false,false,false,10,10)
if(GetLocalPlayer()==HU)then
if(Hv!="")and(Hv!=null)then
call ClearTextMessages()
call DisplayTimedTextToPlayer(HU,.5,-1.,2.,"|cffffcc00"+Hv+"|r")
endif
call StartSound(HV)
endif
call KillSoundWhenDone(HV)
endfunction
function D88 takes nothing returns boolean
if(GetTimeOfDay()>6.00 and GetTimeOfDay()<18.00)then
return true
else
return false
endif
endfunction
function D98 takes string H4,boolean H5 returns nothing
if H5 then
call ExecuteFunc(H4)
endif
endfunction
function DD8 takes real x returns real
local real H7=GetRectMinX(bj_mapInitialPlayableArea)+50
if(x<H7)then
return H7
endif
set H7=GetRectMaxX(bj_mapInitialPlayableArea)-50
if(x>H7)then
return H7
endif
return x
endfunction
function DE8 takes real y returns real
local real H7=GetRectMinY(bj_mapInitialPlayableArea)+50
if(y<H7)then
return H7
endif
set H7=GetRectMaxY(bj_mapInitialPlayableArea)-50
if(y>H7)then
return H7
endif
return y
endfunction
function DF8 takes real x returns real
local real XW7=GetRectMinX(bj_mapInitialPlayableArea)+75
if(x<XW7)then
return XW7
endif
set XW7=GetRectMaxX(bj_mapInitialPlayableArea)-75
if(x>XW7)then
return XW7
endif
return x
endfunction
function DG8 takes real y returns real
local real XW7=GetRectMinY(bj_mapInitialPlayableArea)+75
if(y<XW7)then
return XW7
endif
set XW7=GetRectMaxY(bj_mapInitialPlayableArea)-75
if(y>XW7)then
return XW7
endif
return y
endfunction
function DH8 takes integer DI8 returns nothing
local unit u=CreateUnit(Player(15),1211117657,0,0,270)
call UnitAddAbility(u,DI8)
call UnitRemoveAbility(u,DI8)
call RemoveUnit(u)
set u=null
endfunction
function DJ8 takes unit u,integer DI8 returns nothing
call UnitAddAbility(u,DI8)
call UnitRemoveAbility(u,DI8)
endfunction
function DK8 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local integer ia=UQ7(UL7,"abilcode")
call DH8(ia)
call TQ7(UL7)
call U37(t)
set t=null
return false
endfunction
function DM8 takes integer ia,real DN8 returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call TT7(UL7,"abilcode",ia)
call TriggerRegisterTimerEvent(t,DN8,false)
call TriggerAddCondition(t,Condition(function DK8))
set t=null
endfunction
function Tree_Killer takes nothing returns nothing
call KillDestructable(GetEnumDestructable())
endfunction
function DO8 takes unit CR7 returns nothing
call TW7(GetHandleId(CR7),"DamageRegisterAlready",false)
call TQ7(GetHandleId(CR7))
call RemoveUnit(CR7)
endfunction
function DP8 takes unit hn,integer iB,integer ic returns nothing
if GetUnitAbilityLevel(hn,iB)==0 then
call UnitAddAbility(hn,iB)
endif
call SetUnitAbilityLevel(hn,iB,ic)
endfunction
function DQ8 takes integer a,integer b returns integer
if(a<b)then
return a
else
return b
endif
endfunction
function DR8 takes integer a,integer b returns integer
if(a<b)then
return b
else
return a
endif
endfunction
function DS8 takes integer ih,integer a,integer b returns integer
return DR8(DQ8(ih,b),a)
endfunction
function DT8 takes real a,real b returns real
if(a<b)then
return a
else
return b
endif
endfunction
function DU8 takes real a,real b returns real
if(a<b)then
return b
else
return a
endif
endfunction
function iI takes nothing returns nothing
local integer UL7=GetHandleId(GetExpiredTimer())
local unit hn=UE7(UL7,"Unit")
call SetUnitState(hn,UNIT_STATE_LIFE,GetUnitState(hn,UNIT_STATE_LIFE)+UR7(UL7,"Damage"))
set hn=null
endfunction
function m6 takes unit hn,real DV8 returns nothing
local timer t=CreateTimer()
local integer UL7=GetHandleId(t)
call TU7(UL7,"Damage",DV8)
call TX7(UL7,"Unit",hn)
call TimerStart(t,0,false,function iI)
set t=null
endfunction
function DW8 takes unit hn,real DV8 returns nothing
local real iK=GetUnitState(hn,UNIT_STATE_MAX_LIFE)
local real il=GetUnitState(hn,UNIT_STATE_LIFE)
if(GetUnitState(hn,UNIT_STATE_LIFE)>1)then
if DV8>(iK-il)then
if DV8>=il then
call SetUnitState(hn,UNIT_STATE_LIFE,iK)
call m6(hn,DV8-(iK-il))
else
call m6(hn,DV8)
endif
else
call SetUnitState(hn,UNIT_STATE_LIFE,GetUnitState(hn,UNIT_STATE_LIFE)+DV8)
endif
endif
endfunction
function m9 takes unit p5,unit m5,real in returns boolean
local real iN=GetUnitX(p5)
local real io=GetUnitY(p5)
local real hN=GetUnitX(m5)
local real ho=GetUnitY(m5)
return((iN-hN)*(iN-hN)+(io-ho)*(io-ho))<in*in
endfunction
function Ma takes unit p5,unit m5 returns real
local real iN=GetUnitX(p5)
local real io=GetUnitY(p5)
local real hN=GetUnitX(m5)
local real ho=GetUnitY(m5)
if p5==null or m5==null then
return I2R(9999999999)
else
return SquareRoot((iN-hN)*(iN-hN)+(io-ho)*(io-ho))
endif
endfunction
function DX8 takes unit p5,location m5 returns real
local real iN=GetUnitX(p5)
local real io=GetUnitY(p5)
local real hN=GetLocationX(m5)
local real ho=GetLocationY(m5)
if p5==null then
return I2R(9999999999)
else
return SquareRoot((iN-hN)*(iN-hN)+(io-ho)*(io-ho))
endif
endfunction
function DY8 takes unit hn returns nothing
call SetUnitState(hn,UNIT_STATE_MANA,GetUnitState(hn,UNIT_STATE_MAX_MANA))
endfunction
function DZ8 takes unit hn,real iS returns nothing
call SetUnitState(hn,UNIT_STATE_LIFE,GetUnitState(hn,UNIT_STATE_LIFE)+iS)
endfunction
function DA8 takes nothing returns nothing
call PauseAllUnitsBJ(true)
endfunction
function RepeatedPauseAll takes nothing returns nothing
call TimerStart(CreateTimer(),1,true,function DA8)
endfunction
function iu takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
call DestroyEffect(UK7(UL7,"fx"))
call TQ7(UL7)
call U37(t)
set t=null
return false
endfunction
function DB8 takes string iv,unit hn,string iV,real Hk returns nothing
local effect fx=AddSpecialEffectTarget(iv,hn,iV)
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call TY7(UL7,"fx",fx)
call TriggerRegisterUnitEvent(t,hn,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,Hk,false)
call TriggerAddCondition(t,Condition(function iu))
set fx=null
set t=null
endfunction
function iw takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
call DestroyEffect(UK7(UL7,"fx"))
call TQ7(UL7)
call U37(t)
set t=null
return false
endfunction
function DC8 takes string iv,real x,real y,real Hk returns nothing
local effect fx=AddSpecialEffect(iv,x,y)
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call TY7(OL7,"fx",fx)
call TriggerRegisterTimerEvent(t,Hk,false)
call TriggerAddCondition(t,Condition(function iw))
set fx=null
set t=null
endfunction
function ix takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit m5=UE7(UL7,"Target")
local string iv=UT7(UL7,"Effect")
local string iV=UT7(UL7,"Attach")
local integer iX=UQ7(UL7,"Count")
call DB8(iv,m5,iV,2)
if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>iX then
call TQ7(UL7)
call U37(t)
endif
set t=null
set m5=null
return false
endfunction
function Mv takes timer t returns nothing
call PauseTimer(t)
call TQ7(GetHandleId(t))
call DestroyTimer(t)
endfunction
function D38 takes unit it,unit m5 returns boolean
local real x=RAbsBJ(GetUnitFacing(it)-GetUnitFacing(m5))
if(x<20 or x>340)then
set x=RAbsBJ(GetUnitFacing(it)-PR7(it,m5))
return(x<20 or x>340)
endif
return false
endfunction
function i4 takes nothing returns nothing
call DestroyLightning(UM7(GetHandleId(GetExpiredTimer()),"Lightning"))
endfunction
function D68 takes string i6,real x1,real y1,real x2,real y2,real r,real g,real b,real a,real Hk returns nothing
local timer t=CreateTimer()
local lightning i7=AddLightning(i6,true,x1,y1,x2,y2)
call SetLightningColor(i7,r,g,b,a)
call TA7(GetHandleId(t),"Lightning",i7)
call TimerStart(t,Hk,false,function i4)
set t=null
endfunction
function DL8 takes string Hx,real Hk,unit HX,real Ia,integer r,integer g,integer b,integer a returns nothing
local texttag tt=CreateTextTag()
call SetTextTagText(tt,Hx,Ia)
call SetTextTagPosUnit(tt,HX,64)
call SetTextTagColor(tt,r,g,b,a)
call SetTextTagVelocity(tt,0,.0355)
call SetTextTagFadepoint(tt,2)
call SetTextTagPermanent(tt,false)
call SetTextTagLifespan(tt,Hk)
if IsUnitVisible(HX,GetLocalPlayer())or CP7(GetLocalPlayer())then
call SetTextTagVisibility(tt,true)
else
call SetTextTagVisibility(tt,false)
endif
set tt=null
endfunction
function D18 takes player p,string D08,real RD7,unit O37,real D58,integer r,integer g,integer b,integer a returns nothing
local texttag tt=CreateTextTag()
call SetTextTagText(tt,D08,D58)
call SetTextTagPosUnit(tt,O37,64)
call SetTextTagColor(tt,r,g,b,a)
call SetTextTagVelocity(tt,0,0.0355)
call SetTextTagFadepoint(tt,2)
call SetTextTagPermanent(tt,false)
call SetTextTagLifespan(tt,RD7)
if IsPlayerAlly(GetLocalPlayer(),p)==true or CP7(GetLocalPlayer())then
call SetTextTagVisibility(tt,true)
else
call SetTextTagVisibility(tt,false)
endif
set tt=null
endfunction
function D28 takes trigger t,playerunitevent Ib returns nothing
local integer D_8=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(D_8),Ib,Condition(function ZY7))
set D_8=D_8+1
exitwhen D_8==16
endloop
endfunction
function E48 takes nothing returns nothing
if BY7(GetEnumDestructable())and IsDestructableAliveBJ(GetEnumDestructable())then
set sl=sl+1
call KillDestructable(GetEnumDestructable())
endif
endfunction
function E78 takes real x,real y,real d returns integer
local rect r=Rect(x-d,y-d,x+d,y+d)
set sl=0
call EnumDestructablesInRect(r,Condition(function ZY7),function E48)
call RemoveRect(r)
set r=null
return sl
endfunction
function E88 takes real x,real y returns boolean
if IsTerrainPathable(x,y,PATHING_TYPE_WALKABILITY)then
return false
endif
return true
endfunction
function E98 takes sound ED8,real x,real y returns nothing
call SetSoundPosition(ED8,x,y,0)
call SetSoundVolume(ED8,127)
set bj_lastPlayedSound=ED8
if(ED8!=null)then
call StartSound(ED8)
endif
endfunction
function If takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local fogmodifier IF=U97(UL7,"fog")
call FogModifierStop(IF)
call DestroyFogModifier(IF)
call TQ7(UL7)
call U37(t)
set t=null
set IF=null
return false
endfunction
function EE8 takes player p,real Hk,real x,real y,real r returns nothing
local trigger t=CreateTrigger()
local fogmodifier IF=CreateFogModifierRadius(p,FOG_OF_WAR_VISIBLE,x,y,r,true,true)
call FogModifierStart(IF)
call TB7(GetHandleId(t),"fog",IF)
call TriggerRegisterTimerEvent(t,Hk,false)
call TriggerAddCondition(t,Condition(function If))
set IF=null
set t=null
endfunction
function IG takes nothing returns nothing
set bj_groupCountUnits=bj_groupCountUnits+1
endfunction
function Ih takes nothing returns nothing
if BY7(GetEnumDestructable())and GetDestructableLife(GetEnumDestructable())>0 then
set EL=true
endif
endfunction
function nA takes real x,real y,real d returns boolean
local rect r=Rect(x-d,y-d,x+d,y+d)
set EL=false
call EnumDestructablesInRect(r,null,function Ih)
call RemoveRect(r)
set r=null
return EL
endfunction
function Ii takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit O_7=UE7(OL7,"Target")
local real Ij=UR7(OL7,"Speed")
local unit EF8=UE7(OL7,"Projectile")
local real x=GetUnitX(EF8)
local real y=GetUnitY(EF8)
local real EG8=GetUnitX(O_7)
local real EH8=GetUnitY(O_7)
local real EI8=Ij*.03
local real EJ8=PS7(x,y,EG8,EH8)
local real EK8=x+EI8*Cos(EJ8*bj_DEGTORAD)
local real EM8=y+EI8*Sin(EJ8*bj_DEGTORAD)
local boolean EN8=(LoadBoolean(L7,(OL7),(698)))
call SetUnitX(EF8,EK8)
call SetUnitY(EF8,EM8)
call SetUnitFacing(EF8,EJ8)
if LR7(O_7)and EN8==false then
call KillUnit(EF8)
call TQ7(OL7)
call U37(t)
elseif RI7(EG8,EH8,EK8,EM8)<=EI8 then
call KillUnit(EF8)
set IN4=UE7(OL7,"Source")
set IP4=O_7
call ExecuteFunc(UT7(OL7,"Callback"))
call TQ7(OL7)
call U37(t)
endif
set t=null
set O_7=null
set EF8=null
return false
endfunction
function EO8 takes unit p5,unit m5,integer IM,string In,real Ij returns trigger
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local real iN=GetUnitX(p5)
local real io=GetUnitY(p5)
local real IN=GetUnitFacing(p5)
call TriggerRegisterTimerEvent(t,.03,true)
call TriggerAddCondition(t,Condition(function Ii))
call TU7(UL7,"Speed",Ij)
call TX7(UL7,"Target",m5)
call TV7(UL7,"Callback",In)
call TX7(UL7,"Source",p5)
call TX7(UL7,"Projectile",CreateUnit(GetOwningPlayer(p5),IM,iN,io,IN))
call SaveBoolean(L7,(UL7),(698),(false))
set eC=t
set t=null
return eC
endfunction
function Io takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
call UnitAddAbility(UE7(UL7,"Unit"),1097625443)
call TQ7(UL7)
call U37(t)
set t=null
return false
endfunction
function IO takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local integer iX=GetTriggerEvalCount(t)
local unit CR7=UE7(UL7,"Hero")
local real Ip=UR7(UL7,"curscale")
local real L67=Ip-(Ip-L17(CR7))*iX/40
if iX>40 or LR7(CR7)then
call TQ7(UL7)
call U37(t)
else
call SetUnitScale(CR7,L67,L67,L67)
endif
set t=null
set CR7=null
return false
endfunction
function ng takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
local real Iq=UR7(UL7,"EndScale")
call TQ7(UL7)
call U37(t)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,.025,true)
call TriggerAddCondition(t,Condition(function IO))
set UL7=GetHandleId(t)
call TU7(UL7,"curscale",Iq)
call TX7(UL7,"Hero",CR7)
set t=null
set CR7=null
return false
endfunction
function nI takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local integer iX=GetTriggerEvalCount(t)
local unit CR7=UE7(UL7,"Hero")
local real Ir=(UR7(UL7,"scale")-L17(CR7))*iX/40
local real L67=L17(CR7)+Ir
if iX>40 or LR7(CR7)then
call TQ7(UL7)
call U37(t)
else
call SetUnitScale(CR7,L67,L67,L67)
endif
set t=null
set CR7=null
return false
endfunction
function EP8 takes unit CR7,real Hk,real L67 returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local real Is=L67*L17(CR7)
local real Iq=Is
call TX7(UL7,"Hero",CR7)
call TU7(UL7,"EndScale",Iq)
call TriggerRegisterTimerEvent(t,Hk,false)
call TriggerAddCondition(t,Condition(function ng))
if Hk>3 then
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,.025,true)
call TriggerAddCondition(t,Condition(function nI))
set UL7=GetHandleId(t)
call TU7(UL7,"scale",Is)
call TX7(UL7,"Hero",CR7)
else
call SetUnitScale(CR7,Iq,Iq,Iq)
endif
set t=null
endfunction
function IS takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
local integer It=UQ7(UL7,"Ability")
if CR7!=null and GetUnitAbilityLevel(CR7,It)>0 then
call UnitRemoveAbility(CR7,It)
endif
call TQ7(UL7)
call U37(t)
set t=null
set CR7=null
return false
endfunction
function EQ8 takes unit u,integer It,real Hk returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call LP7(u,It)
call TriggerRegisterTimerEvent(t,Hk,false)
call TriggerAddCondition(t,Condition(function IS))
call TX7(UL7,"Hero",u)
call TT7(UL7,"Ability",It)
set t=null
endfunction
function Iu takes nothing returns nothing
set bj_groupCountUnits=bj_groupCountUnits+1
endfunction
function ER8 takes group g returns integer
set bj_groupCountUnits=0
call ForGroup(g,function Iu)
return bj_groupCountUnits
endfunction
function Iv takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local fogmodifier IF=U97(UL7,"fog")
call FogModifierStop(IF)
call DestroyFogModifier(IF)
call TQ7(UL7)
call U37(t)
set t=null
return false
endfunction
function ES8 takes fogmodifier IF,real Hk returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call FogModifierStart(IF)
call TB7(UL7,"fog",IF)
call TriggerRegisterTimerEvent(t,Hk,false)
call TriggerAddCondition(t,Condition(function Iv))
set t=null
endfunction
function Iw takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer ET8=GetHandleId(t)
local integer EU8=(LoadInteger(L7,(ET8),(55)))
local destructable d=ZB7(EU8)
if d!=null then
call RemoveDestructable(d)
endif
call Z37(EU8)
call TQ7(ET8)
call U37(t)
set d=null
set t=null
return false
endfunction
function EV8 takes destructable d,real EW8 returns nothing
local trigger t=CreateTrigger()
local integer ET8=GetHandleId(t)
call TriggerRegisterTimerEvent(t,EW8,false)
call TriggerAddCondition(t,Condition(function Iw))
call SaveInteger(L7,(ET8),(55),(Z67(d)))
set t=null
endfunction
function Ix takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
local integer It=UQ7(UL7,"Ability")
if CR7!=null and GetUnitAbilityLevel(CR7,It)>0 then
call UnitRemoveAbility(CR7,It)
endif
call TQ7(UL7)
call U37(t)
set t=null
set CR7=null
return false
endfunction
function Iy takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
call SetUnitAnimation(UE7(UL7,"Unit"),"stand")
call TQ7(UL7)
call U37(t)
set t=null
return false
endfunction
function EX8 takes unit u,real Hk returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call TX7(UL7,"Unit",u)
call TriggerRegisterTimerEvent(t,Hk,false)
call TriggerAddCondition(t,Condition(function Iy))
set t=null
endfunction
function nm takes real Hk,boolean IZ,real x,real y,real I0,real I1,real I2,real I3,real I4 returns nothing
local real I5
local real I6
local real I7
if(I1<=0 or I4<=0 or I3<=0)then
return
endif
set I6=2.*Hk/I3
set I5=2.*I1/I4
set I7=I0/I1
call TerrainDeformRipple(x,y,I1,I2,R2I(Hk*1000),1,I5,I6,I7,IZ)
endfunction
function EY8 takes player hV,unit hn,integer hY returns nothing
local texttag t=CreateTextTag()
call SetPlayerState(hV,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(hV,PLAYER_STATE_RESOURCE_GOLD)+hY)
call SetTextTagText(t,"+"+I2S(hY),.025)
call SetTextTagPosUnit(t,hn,0)
call SetTextTagColor(t,255,220,0,255)
call SetTextTagVelocity(t,0,.03)
if GetLocalPlayer()==hV then
call SetTextTagVisibility(t,true)
else
call SetTextTagVisibility(t,false)
endif
call SetTextTagFadepoint(t,2)
call SetTextTagLifespan(t,3)
call SetTextTagPermanent(t,false)
endfunction
function I9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
call RemoveUnit(UE7(UL7,"Unit"))
call TQ7(UL7)
call U37(t)
set t=null
return false
endfunction
function nn takes unit u,real d returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,d,false)
call TriggerAddCondition(t,Condition(function I9))
call TX7(UL7,"Unit",u)
set t=null
endfunction
function jA takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
call RemoveUnit(UE7(UL7,"Unit"))
call TQ7(UL7)
call U37(t)
set t=null
return false
endfunction
function jb takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
call KillUnit(UE7(UL7,"Unit"))
call TQ7(UL7)
call U37(t)
set t=null
return false
endfunction
function EZ8 takes unit u,real d returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,d,false)
call TriggerAddCondition(t,Condition(function jb))
call TX7(UL7,"Unit",u)
set t=CreateTrigger()
set UL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,d+.01,false)
call TriggerAddCondition(t,Condition(function jA))
call TX7(UL7,"Unit",u)
set t=null
endfunction
function EA8 takes sound ED8 returns nothing
if ED8!=null and CW[GetPlayerId(GetLocalPlayer())]==false then
call StartSound(ED8)
endif
endfunction
function EB8 takes sound ED8,player HU returns nothing
if GetLocalPlayer()==HU and CW[GetPlayerId(HU)]==false then
call StartSound(ED8)
endif
endfunction
function EC8 takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))==false
endfunction
function E38 takes nothing returns nothing
call EB8(VJ4,GetOwningPlayer(GetEnumUnit()))
endfunction
function E68 takes unit EL8,sound E18,real x,real y,real r returns nothing
local group g=CA7()
set IN4=EL8
set VJ4=E18
call GroupEnumUnitsInRange(g,x,y,r,Condition(function EC8))
call GroupRemoveUnit(g,EL8)
call ForGroup(g,function E38)
call CZ7(g)
set g=null
endfunction
function E08 takes player p returns nothing
if GetLocalPlayer()==p then
call ClearTextMessages()
endif
endfunction
function E58 takes unit u,real d returns nothing
call SetUnitState(u,UNIT_STATE_LIFE,DU8(GetUnitState(u,UNIT_STATE_LIFE)-d,1))
endfunction
function E28 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit m5=UE7(UL7,"Target")
local integer E_8=UQ7(UL7,"AbilityID")
if UnitRemoveAbility(m5,E_8)==true or GetUnitAbilityLevel(m5,E_8)==0 then
call TQ7(UL7)
call U37(t)
endif
set t=null
set m5=null
return false
endfunction
function F48 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit m5=UE7(UL7,"Target")
local integer E_8=UQ7(UL7,"AbilityID")
call TQ7(UL7)
call U37(t)
if UnitRemoveAbility(m5,E_8)==false then
set t=CreateTrigger()
set UL7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,1.,true)
call TriggerAddCondition(t,Condition(function E28))
call TX7(UL7,"Target",m5)
call TT7(UL7,"AbilityID",E_8)
endif
set t=null
set m5=null
return false
endfunction
function F78 takes unit m5,integer E_8,integer BK7,real Hk returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call LP7(m5,E_8)
call SetUnitAbilityLevel(m5,E_8,BK7)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,Hk,false)
call TriggerAddCondition(t,Condition(function F48))
call TX7(UL7,"Target",m5)
call TT7(UL7,"AbilityID",E_8)
set t=null
endfunction
function F88 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit m5=UE7(UL7,"Target")
local integer o6=UQ7(UL7,"AbilityID")
local integer F98=UQ7(UL7,"AbilityID")
call UnitRemoveAbility(m5,F98)
if UnitRemoveAbility(m5,o6)==true or GetUnitAbilityLevel(m5,o6)==0 then
call TQ7(UL7)
call U37(t)
endif
set t=null
set m5=null
return false
endfunction
function FD8 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit m5=UE7(UL7,"Target")
local integer o6=UQ7(UL7,"AbilityID")
local integer F98=UQ7(UL7,"BuffID")
call TQ7(UL7)
call U37(t)
call UnitRemoveAbility(m5,F98)
if UnitRemoveAbility(m5,o6)==false then
set t=CreateTrigger()
set UL7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,1.,true)
call TriggerAddCondition(t,Condition(function F88))
call TX7(UL7,"Target",m5)
call TT7(UL7,"AbilityID",o6)
call TT7(UL7,"BuffID",F98)
endif
set t=null
set m5=null
return false
endfunction
function FE8 takes unit m5,integer o6,integer BK7,real FF8,integer F98 returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call LP7(m5,o6)
call SetUnitAbilityLevel(m5,o6,BK7)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,FF8,false)
call TriggerAddCondition(t,Condition(function FD8))
call TX7(UL7,"Target",m5)
call TT7(UL7,"AbilityID",o6)
call TT7(UL7,"BuffID",F98)
set t=null
endfunction
function FG8 takes unit S4 returns boolean
local integer z8=GetUnitTypeId(S4)
return z8==1848651828 or z8==1848652103 or z8==1848652099 or z8==1848652088 or z8==1697656907 or z8==1697656905 or z8==1697656908 or z8==1697657162
endfunction
function FH8 takes nothing returns boolean
return GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false
endfunction
function GenericCondition_Structure takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==true and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and LR7(GetFilterUnit())==false
endfunction
function FI8 takes nothing returns boolean
return CO7(GetFilterUnit())==false and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and LR7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit()))
endfunction
function GenericCondition_EnemyUnitsExNoImmuneNoInvisAndStructureWithAncient takes nothing returns boolean
return CO7(GetFilterUnit())==false and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and LR7(GetFilterUnit())==false)
endfunction
function GenericCondition_EnemyUnitsExNoInvisAndStructureWithAncient takes nothing returns boolean
return IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and LR7(GetFilterUnit())==false)
endfunction
function GenericCondition_EnemyUnitsExNoImmuneNoInvisWithAncient takes nothing returns boolean
return CO7(GetFilterUnit())==false and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false)
endfunction
function FJ8 takes nothing returns boolean
return IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false)
endfunction
function FK8 takes nothing returns boolean
return IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit()))
endfunction
function FM8 takes nothing returns boolean
return IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and Z07(GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false)
endfunction
function FN8 takes unit u returns boolean
return GetUnitAbilityLevel(u,1097167980)>0 or GetUnitAbilityLevel(u,1113815395)>0 or GetUnitAbilityLevel(u,1113815346)>0 or GetUnitAbilityLevel(u,1110454606)>0
endfunction
function FO8 takes unit u returns boolean
return(GetUnitAbilityLevel((u),(1110459185))>0)or(GetUnitAbilityLevel((u),(1111844210))>0)or(GetUnitAbilityLevel((u),(1113943655))>0)or(GetUnitAbilityLevel((u),(1113943649))>0)or(GetUnitAbilityLevel((u),(1110454583))>0)or(GetUnitAbilityLevel((u),(1110456120))>0)or(GetUnitAbilityLevel((u),(1110456390))>0)or(GetUnitAbilityLevel((u),(1110456389))>0)or(GetUnitAbilityLevel((u),(1110459730))>0)or(GetUnitAbilityLevel((u),(1110459982))>0)
endfunction
function FP8 takes unit u returns nothing
call UnitRemoveAbility(u,1110459185)
call UnitRemoveAbility(u,1111844210)
call UnitRemoveAbility(u,1113943655)
call UnitRemoveAbility(u,1113943649)
call UnitRemoveAbility(u,1110454583)
call UnitRemoveAbility(u,1110456120)
call UnitRemoveAbility(u,1110456390)
call UnitRemoveAbility(u,1110456389)
call UnitRemoveAbility(u,1110459730)
call UnitRemoveAbility(u,1110459982)
endfunction
function FQ8 takes unit u returns nothing
call UnitRemoveAbility(u,1096971630)
call SaveInteger(L7,(GetHandleId(u)),(790),(0))
endfunction
function FR8 takes unit u returns nothing
local integer O17=GetHandleId(u)
local integer FS8=(LoadInteger(L7,(O17),(790)))
call LP7(u,1096971630)
set FS8=FS8+1
call SaveInteger(L7,(O17),(790),(FS8))
endfunction
function FT8 takes unit u returns nothing
local integer O17=GetHandleId(u)
local integer FS8=(LoadInteger(L7,(O17),(790)))
set FS8=IMaxBJ(FS8-1,0)
call SaveInteger(L7,(O17),(790),(FS8))
if FS8==0 then
call FQ8(u)
endif
endfunction
function FU8 takes unit u returns boolean
if u==J64 then
return true
endif
if u==JL4 then
return true
endif
if u==J14 then
return true
endif
if u==J04 then
return true
endif
if u==J54 then
return true
endif
if u==J24 then
return true
endif
if u==J_4 then
return true
endif
if u==K44 then
return true
endif
if u==K74 then
return true
endif
if u==K84 then
return true
endif
if u==K94 then
return true
endif
if u==KD4 then
return true
endif
if u==KE4 then
return true
endif
if u==KF4 then
return true
endif
if u==KG4 then
return true
endif
if u==KH4 then
return true
endif
if u==KI4 then
return true
endif
if u==JG4 then
return true
endif
if u==JH4 then
return true
endif
if u==JI4 then
return true
endif
if u==JJ4 then
return true
endif
if u==JK4 then
return true
endif
if u==JM4 then
return true
endif
if u==JN4 then
return true
endif
if u==JO4 then
return true
endif
if u==JP4 then
return true
endif
if u==JQ4 then
return true
endif
if u==JR4 then
return true
endif
if u==JS4 then
return true
endif
if u==JT4 then
return true
endif
if u==JU4 then
return true
endif
if u==JV4 then
return true
endif
if u==JW4 then
return true
endif
if u==JX4 then
return true
endif
return false
endfunction
function FV8 takes nothing returns boolean
return FU8(GetFilterUnit())and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))and GetUnitLifePercent(GetFilterUnit())<=90.
endfunction
function FW8 takes nothing returns boolean
return IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit()))
endfunction
function GenericCondition_EnemyUnitsExHeroesVision takes nothing returns boolean
return(IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit())))and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))
endfunction
function GenericCondition_EnemyUnitsExHeroes takes nothing returns boolean
return(IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit())))and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true
endfunction
function FX8 takes unit u returns boolean
return GetUnitAbilityLevel(u,1110455864)>0 or GetUnitAbilityLevel(u,1110456148)>0 or GetUnitAbilityLevel(u,1110456118)>0 or GetUnitAbilityLevel(u,1112504171)>0 or GetUnitAbilityLevel(u,1110455378)>0 or GetUnitAbilityLevel(u,1110458677)>0 or GetUnitAbilityLevel(u,1110454609)>0 or GetUnitAbilityLevel(u,1110454326)>0 or GetUnitAbilityLevel(u,1114205814)>0 or GetUnitAbilityLevel(u,1097886070)>0 or GetUnitAbilityLevel(u,1093677617)>0 or GetUnitAbilityLevel(u,1093684020)>0 or GetUnitAbilityLevel(u,1093687362)>0 or GetUnitAbilityLevel(u,1093687858)>0 or GetUnitAbilityLevel(u,1093748545)>0 or GetUnitAbilityLevel(u,1093748823)>0 or GetUnitAbilityLevel(u,1093748824)>0 or GetUnitAbilityLevel(u,1093677130)>0 or GetUnitAbilityLevel(u,1110456395)>0 or GetUnitAbilityLevel(u,1110456408)>0 or GetUnitAbilityLevel(u,1110455097)>0 or GetUnitAbilityLevel(u,1110454347)>0 or GetUnitAbilityLevel(u,1112041075)>0 or GetUnitAbilityLevel(u,1093743664)>0 or GetUnitAbilityLevel(u,1110454833)>0 or GetUnitAbilityLevel(u,1093687876)>0 or GetUnitAbilityLevel(u,1093684052)>0 or GetUnitAbilityLevel(u,1110460216)>0
endfunction
function FY8 takes unit P97 returns boolean
return GetUnitAbilityLevel(P97,1093748823)>0 or GetUnitAbilityLevel(P97,1093748824)>0 or GetUnitAbilityLevel(P97,1110454347)>0 or GetUnitAbilityLevel(P97,1110456118)>0 or GetUnitAbilityLevel(P97,1110456148)>0 or GetUnitAbilityLevel(P97,1093677617)>0 or GetUnitAbilityLevel(P97,1093810499)>0 or GetUnitAbilityLevel(P97,1112041075)>0 or GetUnitAbilityLevel(P97,1110456395)>0 or GetUnitAbilityLevel(P97,1110455864)>0 or GetUnitAbilityLevel(P97,1110455097)>0 or GetUnitAbilityLevel(P97,1093677130)>0 or GetUnitAbilityLevel(P97,1093684052)>0
endfunction
function FZ8 takes nothing returns boolean
return GetUnitTypeId(GetFilterUnit())==1868921189 or SU7(GetFilterUnit(),ZU[WC])or GetUnitAbilityLevel(GetFilterUnit(),1093743691)>0 or GetUnitAbilityLevel(GetFilterUnit(),1095332962)>0
endfunction
function FA8 takes unit u returns boolean
return GetUnitAbilityLevel(u,1110454356)==0 and GetUnitAbilityLevel(u,1110454348)==0
endfunction
function FB8 takes unit u,player p returns boolean
return FX8(u)==false or IsUnitVisible(GetFilterUnit(),p)==true
endfunction
function GenericCondition_EnemyUnitsExHeroesNoDotaInvis takes nothing returns boolean
return((IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit())))and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)and FX8(GetFilterUnit())==false
endfunction
function FC8 takes nothing returns boolean
return((IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit())))and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)and(FX8(GetFilterUnit())==false or IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))==true)
endfunction
function F38 takes nothing returns boolean
return(IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit())))and GetUnitAbilityLevel(GetFilterUnit(),1093751362)==0
endfunction
function F68 takes nothing returns boolean
return((IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit())))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4)))and FN8(GetFilterUnit())==false
endfunction
function XMI2 takes nothing returns boolean
return IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit()))
endfunction
function FL8 takes nothing returns boolean
return IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false)
endfunction
function F18 takes nothing returns boolean
return CO7(GetFilterUnit())==false and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit()))
endfunction
function F08 takes unit R07 returns boolean
return GetUnitTypeId(R07)==1848651828 or GetUnitTypeId(R07)==1848652088 or GetUnitTypeId(R07)==1848652099 or GetUnitTypeId(R07)==1848652103
endfunction
function F58 takes nothing returns boolean
return IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitTypeId(GetFilterUnit())==1700946284 or GetUnitTypeId(GetFilterUnit())==1970107511)
endfunction
function F28 takes nothing returns boolean
return GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false and BZ7(GetFilterUnit())==false
endfunction
function F_8 takes nothing returns boolean
return F28()and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))
endfunction
function jE takes nothing returns boolean
return GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and LR7(GetFilterUnit())==false and BZ7(GetFilterUnit())==false
endfunction
function G48 takes nothing returns boolean
return IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))and F28()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit()))
endfunction
function GenericCondition_EnemyUnitsVisible takes nothing returns boolean
return(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit())))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))
endfunction
function GenericCondition_EnemyUnitsAndVisibleOrWW takes nothing returns boolean
return(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit())))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))or FX8(GetFilterUnit()))
endfunction
function jF takes nothing returns boolean
return IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))and F28()
endfunction
function G78 takes nothing returns boolean
return IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and F28()and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))
endfunction
function G88 takes nothing returns boolean
return CO7(GetFilterUnit())==false and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),1113815395)>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit()))
endfunction
function G98 takes nothing returns boolean
return(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4)))and CO7(GetFilterUnit())==false and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),1113815395)>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit()))
endfunction
function GD8 takes nothing returns boolean
return CO7(GetFilterUnit())==false and(IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and LR7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit())))
endfunction
function GE8 takes nothing returns boolean
return IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit()))
endfunction
function GF8 takes nothing returns boolean
return(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false)and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit()))
endfunction
function GG8 takes nothing returns boolean
return CO7(GetFilterUnit())==false and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))==true and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit())))
endfunction
function GH8 takes nothing returns boolean
return(IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and LR7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit())))and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false
endfunction
function GI8 takes nothing returns boolean
return CO7(GetFilterUnit())==false and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and F28()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit()))
endfunction
function GJ8 takes nothing returns boolean
return CO7(GetFilterUnit())==false and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit()))
endfunction
function jh takes nothing returns boolean
return IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and F28()
endfunction
function GK8 takes nothing returns boolean
return IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false)
endfunction
function ji takes nothing returns boolean
return IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))==false and F28()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit()))
endfunction
function jI takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and F28()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit()))
endfunction
function GM8 takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))and F28()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit()))
endfunction
function GN8 takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))and F28()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit()))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))
endfunction
function GenericCondition_EnemyHeroesEx_OLD takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and F28()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit()))
endfunction
function GO8 takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))==true and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit()))
endfunction
function GenericCondition_EnemyHeroesExNoDotAInvis takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))==true and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false)or FX8(GetEnumUnit())
endfunction
function GP8 takes nothing returns boolean
return F28()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit()))
endfunction
function GQ8 takes nothing returns boolean
return F28()
endfunction
function GR8 takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit()))
endfunction
function GS8 takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit()))
endfunction
function GenericCondition_MyUnits takes nothing returns boolean
return GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit()))
endfunction
function GT8 takes nothing returns boolean
return F28()and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit()))
endfunction
function jL takes nothing returns boolean
return F28()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)or IsUnitIllusion(GetFilterUnit()))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit()))
endfunction
function jm takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)!=null)
endfunction
function GenericCondition_EnemyUnitsExVisible takes nothing returns boolean
return FW8()and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))
endfunction
function GenericCondition_EnemyUnitsExNoWW takes nothing returns boolean
return(IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit())))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))or(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))==false and FX8(GetFilterUnit()))==false)
endfunction
function jn takes nothing returns boolean
return F28()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit()))
endfunction
function ny takes nothing returns boolean
return jn()and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))
endfunction
function GU8 takes nothing returns boolean
return GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and LR7(GetFilterUnit())==true and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false and IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false and GetUnitTypeId(GetFilterUnit())!=1848657461
endfunction
function GV8 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(IN4))==true and BE7(GetFilterUnit())>0
endfunction
function GW8 takes nothing returns boolean
return IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),1113815395)>0)==false)
endfunction
function GX8 takes nothing returns boolean
return CO7(GetFilterUnit())==false and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==true and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),1113815395)>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit())))
endfunction
function GY8 takes nothing returns boolean
return IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and LR7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit()))
endfunction
function GZ8 takes nothing returns boolean
return IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and LR7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit()))
endfunction
function GA8 takes nothing returns boolean
return IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))==false and(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==true and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and LR7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit()))
endfunction
function GenericCondition_AlliedHeroesAndCreeps takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true or GetOwningPlayer(GetFilterUnit())==Z7[0]or GetOwningPlayer(GetFilterUnit())==A7[0])and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit()))
endfunction
function GB8 takes nothing returns boolean
return IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))==false and Z07(GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false)
endfunction
function GC8 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true or GetOwningPlayer(GetFilterUnit())==Z7[0]or GetOwningPlayer(GetFilterUnit())==A7[0])and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),1113815395)>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit()))
endfunction
function G38 takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitIllusion(GetFilterUnit())==false and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),1113815395)>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit()))
endfunction
function G68 takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))==true and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),1113815395)>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit()))
endfunction
function GL8 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(IN4))==true and WH7(GetFilterUnit())and GetWidgetLife(GetFilterUnit())>.405 and GetOwningPlayer(GetFilterUnit())!=Player(PLAYER_NEUTRAL_AGGRESSIVE)
endfunction
function G18 takes nothing returns nothing
local destructable m5=GetEnumDestructable()
local real a=Atan2(GetDestructableY(m5)-GetUnitY(IN4),GetDestructableX(m5)-GetUnitX(IN4))
local real G08=RAbsBJ((IJ4-a)*bj_RADTODEG)
if(BY7(m5)or GetDestructableTypeId(m5)==1110454325)and GetDestructableLife(m5)>1 and G08<wB and G08<(RU-5)then
set wB=G08
set SB=m5
endif
set m5=null
endfunction
function G58 takes unit G28,unit p5,real l4 returns destructable
local real x=GetUnitX(G28)
local real y=GetUnitY(G28)
local rect r=Rect(x-zB,y-zB,x+zB,y+zB)
set wB=9999
set IN4=G28
set SB=null
call EnumDestructablesInRect(r,Condition(function ZY7),function G18)
call RemoveRect(r)
set r=null
return SB
endfunction
function G_8 takes nothing returns nothing
local unit m5=GetEnumUnit()
local real a=Atan2(GetUnitY(m5)-GetUnitY(IN4),GetUnitX(m5)-GetUnitX(IN4))
local real G08=RAbsBJ((IJ4-a)*bj_RADTODEG)
if G08<wB and G08<RU and m5!=IP4 then
set wB=G08
set TB=m5
endif
set m5=null
endfunction
function H48 takes unit G28,unit p5,real l4 returns unit
local group g=CA7()
set TB=null
set wB=9999
set IN4=G28
set IJ4=Atan2(GetUnitY(p5)-XM4,GetUnitX(p5)-XK4)
set IP4=p5
call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),yB,Condition(function G88))
call ForGroup(g,function G_8)
call CZ7(g)
set g=null
return TB
endfunction
function H78 takes unit G28,unit p5,real l4 returns unit
local group g=CA7()
set TB=null
set wB=9999
set IN4=G28
set IJ4=l4
set IP4=p5
call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),yB,Condition(function G98))
call ForGroup(g,function G_8)
call CZ7(g)
set g=null
return TB
endfunction
function H88 takes real H98 returns integer
if H98>=4.00 then
return 24
elseif H98>=3.75 then
return 23
elseif H98>=3.5 then
return 22
elseif H98>=3.25 then
return 21
elseif H98>=3 then
return 20
elseif H98>=2.8 then
return 19
elseif H98>=2.75 then
return 18
elseif H98>=2.6 then
return 17
elseif H98>=2.5 then
return 16
elseif H98>=2.4 then
return 15
elseif H98>=2.25 then
return 14
elseif H98>=2.2 then
return 13
elseif H98>=2 then
return 12
elseif H98>=1.8 then
return 11
elseif H98>=1.75 then
return 10
elseif H98>=1.65 then
return 9
elseif H98>=1.5 then
return 8
elseif H98>=1.4 then
return 7
elseif H98>=1.25 then
return 6
elseif H98>=1.2 then
return 5
elseif H98>=1 then
return 4
elseif H98>=0.75 then
return 3
elseif H98>=0.5 then
return 2
elseif H98>=0.25 then
return 1
endif
return 1
endfunction
function HD8 takes unit p5,unit m5,real FF8 returns nothing
local unit HE8=CreateUnit(GetOwningPlayer(m5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
local integer HF8=H88(FF8)
call UnitAddAbility(HE8,1093687350)
call SetUnitAbilityLevel(HE8,1093687350,HF8)
call IssueTargetOrder(HE8,"thunderbolt",m5)
set HE8=null
endfunction
function HG8 takes unit EL8,unit O_7,integer HH8,real DV8 returns nothing
if HH8==0 then
return
endif
if HH8==ZG4 then
call UnitDamageTarget(EL8,O_7,DV8,true,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_FIRE,WEAPON_TYPE_WHOKNOWS)
elseif HH8==ZH4 then
call UnitDamageTarget(EL8,O_7,DV8,true,true,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
elseif HH8==ZI4 then
call UnitDamageTarget(EL8,O_7,DV8,true,true,ATTACK_TYPE_HERO,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
elseif HH8==ZJ4 then
call UnitDamageTarget(EL8,O_7,DV8,true,true,ATTACK_TYPE_PIERCE,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
elseif HH8==ZK4 then
call UnitDamageTarget(EL8,O_7,DV8,true,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
endif
endfunction
function HI8 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local integer HJ8=UQ7(UL7,"TargetIndex")
local unit m5=ZA7(HJ8)
local integer HH8=UQ7(UL7,"DamageType")
local real DV8=UR7(UL7,"Damage")
call HG8(p5,m5,HH8,DV8)
call ZZ7(HJ8)
call TQ7(UL7)
call U37(t)
set t=null
set p5=null
set m5=null
return false
endfunction
function HK8 takes unit p5,unit m5,integer HH8,real DV8,real FF8 returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call TX7(UL7,"Source",p5)
call TT7(UL7,"TargetIndex",ZC7(m5))
call TT7(UL7,"DamageType",HH8)
call TU7(UL7,"Damage",DV8*1.0)
call TriggerRegisterTimerEvent(t,FF8,false)
call TriggerAddCondition(t,Condition(function HI8))
set t=null
endfunction
function jQ takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local unit m5=UE7(UL7,"Target")
local integer HH8=UQ7(UL7,"DamageType")
local real DV8=UR7(UL7,"Damage")
call HG8(p5,m5,HH8,DV8)
call TQ7(UL7)
call U37(t)
set t=null
set p5=null
set m5=null
return false
endfunction
function HM8 takes unit p5,unit m5,integer HH8,real DV8,real Hk returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call TX7(UL7,"Source",p5)
call TX7(UL7,"Target",m5)
call TT7(UL7,"DamageType",HH8)
call TU7(UL7,"Damage",DV8)
call TriggerRegisterTimerEvent(t,Hk,false)
call TriggerAddCondition(t,Condition(function jQ))
set t=null
endfunction
function HN8 takes unit u,integer d returns nothing
local integer array b
local integer a=d
local integer c=1
local integer i=0
local integer HO8
if d<1 then
call UnitRemoveAbility(u,H64[0])
call UnitRemoveAbility(u,H64[1])
call UnitRemoveAbility(u,H64[2])
call UnitRemoveAbility(u,H64[3])
call UnitRemoveAbility(u,H64[4])
call UnitRemoveAbility(u,H64[5])
call UnitRemoveAbility(u,H64[6])
call UnitRemoveAbility(u,H64[7])
call UnitRemoveAbility(u,H64[8])
return
endif
loop
exitwhen c==0
set c=a/ 2
set b[i]=a-c*2
set a=c
set i=i+1
endloop
set HO8=8
set i=0
loop
exitwhen i>HO8
if b[i]==1 then
call UnitAddAbility(u,H64[i])
else
call UnitRemoveAbility(u,H64[i])
endif
set i=i+1
endloop
endfunction
function HP8 takes unit u,integer d returns nothing
local integer array b
local integer a=d
local integer c=1
local integer i=0
local integer HQ8
if d<1 then
call UnitRemoveAbility(u,TK4[0])
call UnitRemoveAbility(u,TK4[1])
call UnitRemoveAbility(u,TK4[2])
call UnitRemoveAbility(u,TK4[3])
call UnitRemoveAbility(u,TK4[4])
call UnitRemoveAbility(u,TK4[5])
call UnitRemoveAbility(u,TK4[6])
call UnitRemoveAbility(u,TK4[7])
call UnitRemoveAbility(u,TK4[8])
call UnitRemoveAbility(u,TK4[9])
call UnitRemoveAbility(u,TK4[10])
return
endif
loop
exitwhen c==0
set c=a/2
set b[i]=a-c*2
set a=c
set i=i+1
endloop
set HQ8=10
set i=0
loop
exitwhen i>HQ8
if b[i]==1 then
call UnitAddAbility(u,TK4[i])
else
call UnitRemoveAbility(u,TK4[i])
endif
set i=i+1
endloop
endfunction
function HR8 takes unit u,integer d returns nothing
local integer array b
local integer a=d
local integer c=1
local integer i=0
local integer HO8
if d<1 then
call UnitRemoveAbility(u,HL4[0])
call UnitRemoveAbility(u,HL4[1])
call UnitRemoveAbility(u,HL4[2])
call UnitRemoveAbility(u,HL4[3])
call UnitRemoveAbility(u,HL4[4])
call UnitRemoveAbility(u,HL4[5])
call UnitRemoveAbility(u,HL4[6])
call UnitRemoveAbility(u,HL4[7])
call UnitRemoveAbility(u,HL4[8])
return
endif
loop
exitwhen c==0
set c=a/ 2
set b[i]=a-c*2
set a=c
set i=i+1
endloop
set HO8=8
set i=0
loop
exitwhen i>HO8
if b[i]==1 then
call UnitAddAbility(u,HL4[i])
else
call UnitRemoveAbility(u,HL4[i])
endif
set i=i+1
endloop
endfunction
function HS8 takes unit u,integer d returns nothing
local integer array b
local integer a=d
local integer c=1
local integer i=0
local integer HT8
if d<1 then
call UnitRemoveAbility(u,H14[0])
call UnitRemoveAbility(u,H14[1])
call UnitRemoveAbility(u,H14[2])
call UnitRemoveAbility(u,H14[3])
call UnitRemoveAbility(u,H14[4])
call UnitRemoveAbility(u,H14[5])
return
endif
loop
exitwhen c==0
set c=a/ 2
set b[i]=a-c*2
set a=c
set i=i+1
endloop
set HT8=i
set i=0
loop
exitwhen i>HT8
if b[i]==1 then
call UnitAddAbility(u,H14[i])
else
call UnitRemoveAbility(u,H14[i])
endif
set i=i+1
endloop
endfunction
function HU8 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local player p=UG7(UL7,"p")
local integer i=UQ7(UL7,"i")
local string c="|c006699CC"
if(GetObjectName((1848657992)))=="Language: English" and(MJ4[(i)]!="")then
if GetTriggerEvalCount(t)==1 then
call DisplayTimedTextToPlayer(p,0,0,15,"Tip 1: "+c+MJ4[i]+"|r")
call EB8(zR,p)
elseif GetTriggerEvalCount(t)==2 then
call DisplayTimedTextToPlayer(p,0,0,15,"Tip 2: "+c+MK4[i]+"|r")
call EB8(zR,p)
elseif GetTriggerEvalCount(t)==3 then
call DisplayTimedTextToPlayer(p,0,0,15,"Tip 3: "+c+MM4[i]+"|r")
call EB8(zR,p)
elseif GetTriggerEvalCount(t)==4 then
call DisplayTimedTextToPlayer(p,0,0,15,"Tip 4: "+c+MN4[i]+"|r")
call EB8(zR,p)
elseif GetTriggerEvalCount(t)==5 then
call DisplayTimedTextToPlayer(p,0,0,15,"Tip 5: "+c+MO4[i]+"|r")
call EB8(zR,p)
endif
endif
if GetTriggerEvalCount(t)==5 then
call U37(t)
call TQ7(UL7)
endif
set t=null
return false
endfunction
function HV8 takes player p,integer i returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,15.,false)
call TriggerRegisterTimerEvent(t,300.,true)
call TriggerAddCondition(t,Condition(function HU8))
call T37(UL7,"p",p)
call TT7(UL7,"i",i)
set t=null
endfunction
function HW8 takes unit EL8 returns integer
local integer BG7=GetUnitTypeId(EL8)
local integer HX8=1865429328
if BG7==1432646245 then
set HX8=1865429326
elseif BG7==1164799855 or BG7==1211117641 or BG7==1211119409 or BG7==1160785973 then
set HX8=1865429327
endif
return HX8
endfunction
function HY8 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit HE8=(LoadUnitHandle(L7,(OL7),(19)))
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call KillUnit(HE8)
call FlushChildHashtable(L7,(OL7))
call U37(t)
else
call SetUnitX(HE8,GetUnitX(EL8))
call SetUnitY(HE8,GetUnitY(EL8))
endif
set t=null
set EL8=null
set HE8=null
return false
endfunction
function HZ8 takes unit EL8 returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit HE8=CreateUnit(GetOwningPlayer(EL8),HW8(EL8),GetUnitX(EL8),GetUnitY(EL8),0)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function HY8))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(19),(HE8))
set t=null
endfunction
function HA8 takes integer HB8 returns boolean
local integer i=0
loop
exitwhen i>59
if HB8==V9[i]then
return true
endif
set i=i+1
endloop
return false
endfunction
function HC8 takes integer BK7 returns integer
local real H38=RT7()-M_4
local real H68=(R2I(H38)/ 60)-(1/ 2)
local real HL8=100+BK7*BK7*1.5+H68*15
local integer H18
set H18=R2I(HL8/ 50)
set H18=IMinBJ(H18,59)
set H18=IMaxBJ(H18,0)
return H18
endfunction
function H08 takes player p returns nothing
local integer id=GetPlayerId(p)
local unit H58=KU4[id]
local unit H28=M7[id]
local integer H_8=GetHeroLevel(H28)
local integer i=0
if D4==true then
return
endif
if Y04==false then
return
endif
if W9[id]==1747993652 then
return
endif
if W9[id]!=0 then
call RemoveUnitFromStock(H58,W9[id])
endif
call AddUnitToStock(H58,V9[HC8(H_8)],1,1)
set W9[id]=V9[HC8(H_8)]
set H28=null
set H58=null
endfunction
function I48 takes nothing returns boolean
if D4==true then
return false
endif
call H08(Z7[1])
call H08(Z7[2])
call H08(Z7[3])
call H08(Z7[4])
call H08(Z7[5])
call H08(A7[1])
call H08(A7[2])
call H08(A7[3])
call H08(A7[4])
call H08(A7[5])
return false
endfunction
function I78 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local integer id=(LoadInteger(L7,(OL7),(34)))
local unit I88=KU4[id]
local unit CL7=M7[id]
local integer HF8=GetHeroLevel(CL7)
local integer i=0
call UnitRemoveAbility(I88,1093808213)
call AddUnitToStock(I88,V9[HC8(HF8)],1,1)
set W9[id]=V9[HC8(HF8)]
call FlushChildHashtable(L7,(OL7))
call U37(t)
set t=null
set CL7=null
return false
endfunction
function I98 takes player p returns nothing
local integer id=GetPlayerId(p)
local unit I88=KU4[id]
local unit CL7=M7[id]
local integer HF8=GetHeroLevel(CL7)
local integer i=0
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call HZ8(CL7)
loop
exitwhen i>59
call RemoveUnitFromStock(I88,V9[i])
set i=i+1
endloop
call TriggerAddCondition(t,Condition(function I78))
call TriggerRegisterTimerEvent(t,300,false)
call SaveInteger(L7,(OL7),(34),(id))
set W9[id]=1747993652
call UnitAddAbility(I88,1093808213)
call IssueImmediateOrder(I88,"fanofknives")
set CL7=null
set I88=null
set t=null
endfunction
function ID8 takes nothing returns nothing
set KA4[GetPlayerId(Z7[1])]=0
set KB4[GetPlayerId(Z7[1])]=66
set KC4[GetPlayerId(Z7[1])]=255
set KA4[GetPlayerId(Z7[2])]=48
set KB4[GetPlayerId(Z7[2])]=230
set KC4[GetPlayerId(Z7[2])]=185
set KA4[GetPlayerId(Z7[3])]=50
set KB4[GetPlayerId(Z7[3])]=0
set KC4[GetPlayerId(Z7[3])]=129
set KA4[GetPlayerId(Z7[4])]=255
set KB4[GetPlayerId(Z7[4])]=252
set KC4[GetPlayerId(Z7[4])]=1
set KA4[GetPlayerId(Z7[5])]=255
set KB4[GetPlayerId(Z7[5])]=50
set KC4[GetPlayerId(Z7[5])]=0
set KA4[GetPlayerId(A7[1])]=220
set KB4[GetPlayerId(A7[1])]=50
set KC4[GetPlayerId(A7[1])]=50
set KA4[GetPlayerId(A7[2])]=50
set KB4[GetPlayerId(A7[2])]=50
set KC4[GetPlayerId(A7[2])]=50
set KA4[GetPlayerId(A7[3])]=75
set KB4[GetPlayerId(A7[3])]=150
set KC4[GetPlayerId(A7[3])]=190
set KA4[GetPlayerId(A7[4])]=16
set KB4[GetPlayerId(A7[4])]=60
set KC4[GetPlayerId(A7[4])]=18
set KA4[GetPlayerId(A7[5])]=68
set KB4[GetPlayerId(A7[5])]=42
set KC4[GetPlayerId(A7[5])]=4
endfunction
function IE8 takes nothing returns nothing
local integer T8
local integer U8
set Q[GetPlayerId(Z7[0])]="|c00ff0303"
set Q[GetPlayerId(Z7[1])]="|c000042ff"
set Q[GetPlayerId(Z7[2])]="|c001ce6b9"
set Q[GetPlayerId(Z7[3])]="|c00540081"
set Q[GetPlayerId(Z7[4])]="|c00fffc01"
set Q[GetPlayerId(Z7[5])]="|c00ff8000"
set Q[GetPlayerId(A7[0])]="|c0020c000"
set Q[GetPlayerId(A7[1])]="|c00e55bb0"
set Q[GetPlayerId(A7[2])]="|c00959697"
set Q[GetPlayerId(A7[3])]="|c007ebff1"
set Q[GetPlayerId(A7[4])]="|c00106246"
set Q[GetPlayerId(A7[5])]="|c004e2a04"
call SetPlayerColor(Z7[0],PLAYER_COLOR_RED)
call SetPlayerColor(Z7[1],PLAYER_COLOR_BLUE)
call SetPlayerColor(Z7[2],PLAYER_COLOR_CYAN)
call SetPlayerColor(Z7[3],PLAYER_COLOR_PURPLE)
call SetPlayerColor(Z7[4],PLAYER_COLOR_YELLOW)
call SetPlayerColor(Z7[5],PLAYER_COLOR_ORANGE)
call SetPlayerColor(A7[0],PLAYER_COLOR_GREEN)
call SetPlayerColor(A7[1],PLAYER_COLOR_PINK)
call SetPlayerColor(A7[2],PLAYER_COLOR_LIGHT_GRAY)
call SetPlayerColor(A7[3],PLAYER_COLOR_LIGHT_BLUE)
call SetPlayerColor(A7[4],PLAYER_COLOR_AQUA)
call SetPlayerColor(A7[5],PLAYER_COLOR_BROWN)
set T8=1
set U8=5
loop
call PU7(Z7[T8])
if(Z27(Z7[T8]))then
call SetPlayerName(Z7[T8],I2S(T8)+PT7(Z7[T8])+"Computer")
endif
call PU7(A7[T8])
if(Z27(A7[T8]))then
call SetPlayerName(A7[T8],I2S(5+T8)+PT7(A7[T8])+"Computer")
endif
set T8=T8+1
exitwhen T8>U8
endloop
endfunction
function IF8 takes unit S07 returns boolean
return GetUnitAbilityLevel(S07,1093678162)>0 and Z07(GetOwningPlayer(S07))
endfunction
function IG8 takes real d returns boolean
return 2<d and d<3000
endfunction
function IH8 takes nothing returns nothing
local integer T8=1
set Le=Z7[1]
loop
exitwhen Z57(Le)or T8>5
set T8=T8+1
set Le=Z7[T8]
endloop
if not Z57(Le)then
set Le=A7[1]
set T8=1
loop
exitwhen Z57(Le)or T8>5
set T8=T8+1
set Le=A7[T8]
endloop
endif
endfunction
function II8 takes player p,string IJ8,integer IK8 returns nothing
local string id=I2S(GetPlayerId(p))
call StoreInteger(IV4,id,IJ8,IK8)
if Z_7(Le)==false then
call IH8()
endif
if GetLocalPlayer()==Le then
call SyncStoredInteger(IV4,id,IJ8)
endif
endfunction
function IM8 takes string IJ8,integer IK8 returns nothing
call StoreInteger(IV4,"Data",IJ8,IK8)
if Z_7(Le)==false then
call IH8()
endif
if GetLocalPlayer()==Le then
call SyncStoredInteger(IV4,"Data",IJ8)
endif
endfunction
function IN8 takes nothing returns boolean
local string s
if IsUnitIllusion(GetTriggerUnit())==false and GetUnitTypeId(GetTriggerUnit())!=1211117642 then
call IM8("Learn"+I2S(GetPlayerId(GetTriggerPlayer())),GetLearnedSkill())
endif
return false
endfunction
function IO8 takes nothing returns boolean
local string s
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)and IsUnitIllusion(GetTriggerUnit())==false and GetUnitTypeId(GetTriggerUnit())!=1211117642 then
call IM8("Cast"+I2S(GetPlayerId(GetTriggerPlayer())),GetSpellAbilityId())
endif
return false
endfunction
function IP8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function IN8))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function IO8))
set t=null
endfunction
function IQ8 takes string s,string IR8,string IS8 returns string
local string IT8=""
local integer i=0
local integer IU8=StringLength(s)
local string IV8
local integer IW8=StringLength(IR8)
local boolean IX8=false
loop
exitwhen i+1>IU8
set IV8=SubString(s,i,i+IW8)
if IV8!=IR8 or IX8 then
set IT8=IT8+SubString(s,i,i+1)
set i=i+1
else
set IT8=IT8+IS8
set i=i+IW8
set IX8=true
endif
endloop
return IT8
endfunction
function IY8 takes player IZ8,player IA8 returns string
local string s=(GetObjectName((1848656696)))
set s=IQ8(s,"$dead",Q[GetPlayerId(IZ8)]+(KZ4[GetPlayerId((IZ8))])+"|r")
set s=IQ8(s,"$killer",Q[GetPlayerId(IA8)]+(KZ4[GetPlayerId((IA8))])+"|r")
return s
endfunction
function IB8 takes nothing returns nothing
local integer i
local integer IC8=125
call SetUnitOwner(KJ4,Z7[1],false)
set h4[512+GetPlayerId(Z7[1])]=KJ4
call SetUnitOwner(KK4,Z7[2],false)
set h4[512+GetPlayerId(Z7[2])]=KK4
call SetUnitOwner(KM4,Z7[3],false)
set h4[512+GetPlayerId(Z7[3])]=KM4
call SetUnitOwner(KN4,Z7[4],false)
set h4[512+GetPlayerId(Z7[4])]=KN4
call SetUnitOwner(KO4,Z7[5],false)
set h4[512+GetPlayerId(Z7[5])]=KO4
call SetUnitOwner(KP4,A7[1],false)
set h4[512+GetPlayerId(A7[1])]=KP4
call SetUnitOwner(KQ4,A7[2],false)
set h4[512+GetPlayerId(A7[2])]=KQ4
call SetUnitOwner(KR4,A7[3],false)
set h4[512+GetPlayerId(A7[3])]=KR4
call SetUnitOwner(KS4,A7[4],false)
set h4[512+GetPlayerId(A7[4])]=KS4
call SetUnitOwner(KT4,A7[5],false)
set h4[512+GetPlayerId(A7[5])]=KT4
set KU4[GetPlayerId(Z7[1])]=KJ4
set KU4[GetPlayerId(Z7[2])]=KK4
set KU4[GetPlayerId(Z7[3])]=KM4
set KU4[GetPlayerId(Z7[4])]=KN4
set KU4[GetPlayerId(Z7[5])]=KO4
set KU4[GetPlayerId(A7[1])]=KP4
set KU4[GetPlayerId(A7[2])]=KQ4
set KU4[GetPlayerId(A7[3])]=KR4
set KU4[GetPlayerId(A7[4])]=KS4
set KU4[GetPlayerId(A7[5])]=KT4
set i=1
if GetLocalPlayer()==Player(i)then
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,255)
else
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,IC8)
endif
set i=2
if GetLocalPlayer()==Player(i)then
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,255)
else
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,IC8)
endif
set i=3
if GetLocalPlayer()==Player(i)then
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,255)
else
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,IC8)
endif
set i=4
if GetLocalPlayer()==Player(i)then
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,255)
else
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,IC8)
endif
set i=5
if GetLocalPlayer()==Player(i)then
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,255)
else
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,IC8)
endif
set i=7
if GetLocalPlayer()==Player(i)then
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,255)
else
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,IC8)
endif
set i=8
if GetLocalPlayer()==Player(i)then
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,255)
else
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,IC8)
endif
set i=9
if GetLocalPlayer()==Player(i)then
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,255)
else
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,IC8)
endif
set i=10
if GetLocalPlayer()==Player(i)then
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,255)
else
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,IC8)
endif
set i=11
if GetLocalPlayer()==Player(i)then
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,255)
else
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,IC8)
endif
set KV4[GetPlayerId(Z7[1])]=GetUnitX(KU4[GetPlayerId(Z7[1])])
set KV4[GetPlayerId(Z7[2])]=GetUnitX(KU4[GetPlayerId(Z7[2])])
set KV4[GetPlayerId(Z7[3])]=GetUnitX(KU4[GetPlayerId(Z7[3])])
set KV4[GetPlayerId(Z7[4])]=GetUnitX(KU4[GetPlayerId(Z7[4])])
set KV4[GetPlayerId(Z7[5])]=GetUnitX(KU4[GetPlayerId(Z7[5])])
set KV4[GetPlayerId(A7[1])]=GetUnitX(KU4[GetPlayerId(A7[1])])
set KV4[GetPlayerId(A7[2])]=GetUnitX(KU4[GetPlayerId(A7[2])])
set KV4[GetPlayerId(A7[3])]=GetUnitX(KU4[GetPlayerId(A7[3])])
set KV4[GetPlayerId(A7[4])]=GetUnitX(KU4[GetPlayerId(A7[4])])
set KV4[GetPlayerId(A7[5])]=GetUnitX(KU4[GetPlayerId(A7[5])])
set KW4[GetPlayerId(Z7[1])]=GetUnitY(KU4[GetPlayerId(Z7[1])])
set KW4[GetPlayerId(Z7[2])]=GetUnitY(KU4[GetPlayerId(Z7[2])])
set KW4[GetPlayerId(Z7[3])]=GetUnitY(KU4[GetPlayerId(Z7[3])])
set KW4[GetPlayerId(Z7[4])]=GetUnitY(KU4[GetPlayerId(Z7[4])])
set KW4[GetPlayerId(Z7[5])]=GetUnitY(KU4[GetPlayerId(Z7[5])])
set KW4[GetPlayerId(A7[1])]=GetUnitY(KU4[GetPlayerId(A7[1])])
set KW4[GetPlayerId(A7[2])]=GetUnitY(KU4[GetPlayerId(A7[2])])
set KW4[GetPlayerId(A7[3])]=GetUnitY(KU4[GetPlayerId(A7[3])])
set KW4[GetPlayerId(A7[4])]=GetUnitY(KU4[GetPlayerId(A7[4])])
set KW4[GetPlayerId(A7[5])]=GetUnitY(KU4[GetPlayerId(A7[5])])
endfunction
function I38 takes unit CR7 returns boolean
local integer ID=GetUnitTypeId(CR7)
return ID==1848651862 or ID==1848651863 or ID==1848651826 or ID==1848651825 or ID==1848651864 or ID==1849897784 or ID==1848652107 or ID==1848651833
endfunction
function jw takes nothing returns nothing
if(GetOwningPlayer(GetEnumUnit())==Player(0))then
call SetUnitOwner(GetEnumUnit(),Z7[0],false)
if I38(GetEnumUnit())==false then
call SetUnitColor(GetEnumUnit(),ConvertPlayerColor(0))
endif
else
call SetUnitOwner(GetEnumUnit(),A7[0],false)
if I38(GetEnumUnit())==false then
call SetUnitColor(GetEnumUnit(),ConvertPlayerColor(6))
endif
endif
endfunction
function Np takes nothing returns nothing
local group I68=CA7()
call GroupEnumUnitsOfPlayer(I68,Player(0),Condition(function ZY7))
call ForGroup(I68,function jw)
call GroupClear(I68)
call GroupEnumUnitsOfPlayer(I68,Player(6),Condition(function ZY7))
call ForGroup(I68,function jw)
call CZ7(I68)
set I68=null
endfunction
function IL8 takes player p returns nothing
local integer i=0
local string jX=GetPlayerName(p)
local integer IU8=StringLength(jX)
local integer jY=IU8
loop
exitwhen i==IU8
if SubString(jX,i,i+1)=="("and SubString(jX,i-1,i)==" "then
set jY=i-1
call SetPlayerName(p,SubString(jX,0,jY))
set i=IU8
else
set i=i+1
endif
endloop
endfunction
function I18 takes nothing returns nothing
local integer I08
local integer I58
local integer T8
local integer U8
local integer x=0
local integer y=0
local integer i
local location I28=GetRectCenter(pr)
local location I_8=GetRectCenter(qr)
if GetPlayerState(Z7[0],PLAYER_STATE_OBSERVER)!=0 or GetPlayerState(A7[0],PLAYER_STATE_OBSERVER)!=0 then
set V8=true
set Z7[0]=Player(13)
set A7[0]=Player(14)
set KX4=Player(0)
set KY4=Player(6)
call SetAllyColorFilterState(0)
loop
exitwhen x>5
call SetPlayerAlliance(Player(0),Z7[x],ConvertAllianceType(0),true)
call SetPlayerAlliance(Player(0),Z7[x],ConvertAllianceType(4),true)
call SetPlayerAlliance(Player(0),A7[x],ConvertAllianceType(0),false)
call SetPlayerAlliance(Player(0),A7[x],ConvertAllianceType(4),false)
set x=x+1
endloop
endif
call ForceAddPlayer(X7,Z7[0])
call ForceAddPlayer(X7,Z7[1])
call ForceAddPlayer(X7,Z7[2])
call ForceAddPlayer(X7,Z7[3])
call ForceAddPlayer(X7,Z7[4])
call ForceAddPlayer(X7,Z7[5])
call ForceAddPlayer(Y7,A7[0])
call ForceAddPlayer(Y7,A7[1])
call ForceAddPlayer(Y7,A7[2])
call ForceAddPlayer(Y7,A7[3])
call ForceAddPlayer(Y7,A7[4])
call ForceAddPlayer(Y7,A7[5])
call ForceAddPlayer(L8,Z7[1])
call ForceAddPlayer(L8,Z7[2])
call ForceAddPlayer(L8,Z7[3])
call ForceAddPlayer(L8,Z7[4])
call ForceAddPlayer(L8,Z7[5])
call ForceAddPlayer(L8,A7[1])
call ForceAddPlayer(L8,A7[2])
call ForceAddPlayer(L8,A7[3])
call ForceAddPlayer(L8,A7[4])
call ForceAddPlayer(L8,A7[5])
if V8 then
call ForceAddPlayer(L8,Player(0))
call ForceAddPlayer(L8,Player(6))
endif
set x=0
set y=0
loop
exitwhen x>5
loop
exitwhen y>5
if(x!=y)then
call SetPlayerAlliance(Z7[x],Z7[y],ConvertAllianceType(0),true)
call SetPlayerAlliance(Z7[x],Z7[y],ConvertAllianceType(1),true)
call SetPlayerAlliance(Z7[x],Z7[y],ConvertAllianceType(2),true)
call SetPlayerAlliance(Z7[x],Z7[y],ConvertAllianceType(3),true)
call SetPlayerAlliance(Z7[x],Z7[y],ConvertAllianceType(4),true)
call SetPlayerAlliance(Z7[x],Z7[y],ConvertAllianceType(5),true)
call SetPlayerAlliance(Z7[x],Z7[y],ConvertAllianceType(6),false)
call SetPlayerAlliance(Z7[x],Z7[y],ConvertAllianceType(7),false)
call SetPlayerAlliance(A7[x],A7[y],ConvertAllianceType(0),true)
call SetPlayerAlliance(A7[x],A7[y],ConvertAllianceType(1),true)
call SetPlayerAlliance(A7[x],A7[y],ConvertAllianceType(2),true)
call SetPlayerAlliance(A7[x],A7[y],ConvertAllianceType(3),true)
call SetPlayerAlliance(A7[x],A7[y],ConvertAllianceType(4),true)
call SetPlayerAlliance(A7[x],A7[y],ConvertAllianceType(5),true)
call SetPlayerAlliance(A7[x],A7[y],ConvertAllianceType(6),false)
call SetPlayerAlliance(A7[x],A7[y],ConvertAllianceType(7),false)
call SetPlayerAlliance(Z7[x],A7[y],ConvertAllianceType(0),false)
call SetPlayerAlliance(Z7[x],A7[y],ConvertAllianceType(1),false)
call SetPlayerAlliance(Z7[x],A7[y],ConvertAllianceType(2),false)
call SetPlayerAlliance(Z7[x],A7[y],ConvertAllianceType(3),false)
call SetPlayerAlliance(Z7[x],A7[y],ConvertAllianceType(4),false)
call SetPlayerAlliance(Z7[x],A7[y],ConvertAllianceType(5),false)
call SetPlayerAlliance(Z7[x],A7[y],ConvertAllianceType(6),false)
call SetPlayerAlliance(Z7[x],A7[y],ConvertAllianceType(7),false)
call SetPlayerAlliance(A7[x],Z7[y],ConvertAllianceType(0),false)
call SetPlayerAlliance(A7[x],Z7[y],ConvertAllianceType(1),false)
call SetPlayerAlliance(A7[x],Z7[y],ConvertAllianceType(2),false)
call SetPlayerAlliance(A7[x],Z7[y],ConvertAllianceType(3),false)
call SetPlayerAlliance(A7[x],Z7[y],ConvertAllianceType(4),false)
call SetPlayerAlliance(A7[x],Z7[y],ConvertAllianceType(5),false)
call SetPlayerAlliance(A7[x],Z7[y],ConvertAllianceType(6),false)
call SetPlayerAlliance(A7[x],Z7[y],ConvertAllianceType(7),false)
endif
set y=y+1
endloop
set y=0
set x=x+1
endloop
call SetPlayerTeam(Z7[0],0)
call SetPlayerTeam(Z7[1],0)
call SetPlayerTeam(Z7[2],0)
call SetPlayerTeam(Z7[3],0)
call SetPlayerTeam(Z7[4],0)
call SetPlayerTeam(Z7[5],0)
call SetPlayerTeam(A7[0],1)
call SetPlayerTeam(A7[1],1)
call SetPlayerTeam(A7[2],1)
call SetPlayerTeam(A7[3],1)
call SetPlayerTeam(A7[4],1)
call SetPlayerTeam(A7[5],1)
call SetPlayerName(Z7[0],(GetObjectName((1848652622))))
call SetPlayerName(A7[0],(GetObjectName((1848652623))))
call SetPlayerName(B7,(GetObjectName((1848657208))))
call IB8()
if(Z7[0]!=Player(0)or A7[0]!=Player(6))then
call Np()
endif
call IE8()
set I58=q8(X7)
set I08=q8(Y7)
set T8=1
set U8=5
loop
exitwhen T8>U8
if(Z_7(Z7[T8]))then
call SetPlayerState(Z7[T8],PLAYER_STATE_RESOURCE_GOLD,(4265/ I58))
call SetPlayerState(Z7[T8],PLAYER_STATE_RESOURCE_LUMBER,0)
endif
if(Z_7(A7[T8]))then
call SetPlayerState(A7[T8],PLAYER_STATE_RESOURCE_GOLD,(4265/ I08))
call SetPlayerState(A7[T8],PLAYER_STATE_RESOURCE_LUMBER,0)
endif
set T8=T8+1
endloop
call SetPlayerHandicapXP(Z7[1],1)
call SetPlayerHandicapXP(Z7[2],1)
call SetPlayerHandicapXP(Z7[3],1)
call SetPlayerHandicapXP(Z7[4],1)
call SetPlayerHandicapXP(Z7[5],1)
call SetPlayerHandicapXP(A7[1],1)
call SetPlayerHandicapXP(A7[2],1)
call SetPlayerHandicapXP(A7[3],1)
call SetPlayerHandicapXP(A7[4],1)
call SetPlayerHandicapXP(A7[5],1)
call SetPlayerState(Z7[0],PLAYER_STATE_GIVES_BOUNTY,1)
call SetPlayerState(Z7[1],PLAYER_STATE_GIVES_BOUNTY,1)
call SetPlayerState(Z7[2],PLAYER_STATE_GIVES_BOUNTY,1)
call SetPlayerState(Z7[3],PLAYER_STATE_GIVES_BOUNTY,1)
call SetPlayerState(Z7[4],PLAYER_STATE_GIVES_BOUNTY,1)
call SetPlayerState(Z7[5],PLAYER_STATE_GIVES_BOUNTY,1)
call SetPlayerState(A7[0],PLAYER_STATE_GIVES_BOUNTY,1)
call SetPlayerState(A7[1],PLAYER_STATE_GIVES_BOUNTY,1)
call SetPlayerState(A7[2],PLAYER_STATE_GIVES_BOUNTY,1)
call SetPlayerState(A7[3],PLAYER_STATE_GIVES_BOUNTY,1)
call SetPlayerState(A7[4],PLAYER_STATE_GIVES_BOUNTY,1)
call SetPlayerState(A7[5],PLAYER_STATE_GIVES_BOUNTY,1)
call IH8()
call ID8()
call IL8(Z7[1])
call IL8(Z7[2])
call IL8(Z7[3])
call IL8(Z7[4])
call IL8(Z7[5])
call IL8(A7[1])
call IL8(A7[2])
call IL8(A7[3])
call IL8(A7[4])
call IL8(A7[5])
set x=1
loop
exitwhen x>5
if Z_7(Z7[x])then
call CreateUnitAtLoc(Z7[x],1848651843,I28,bj_UNIT_FACING)
endif
if Z_7(A7[x])then
call CreateUnitAtLoc(A7[x],1848651843,I_8,bj_UNIT_FACING)
endif
set x=x+1
endloop
call RemoveLocation(I28)
call RemoveLocation(I_8)
set i=0
loop
set KZ4[i]=GetPlayerName(Player(i))
set i=i+1
exitwhen i==16
endloop
set I28=null
set I_8=null
endfunction
function J48 takes nothing returns nothing
local integer i=1
set KL4=1
set K34[1]=1215723364
set MI4[1]=1747989338
set K64[1]=1848654165
set MH4[1]="ReplaceableTextures\\CommandButtons\\BTNAvengingWatcher.blp"
call L07(K34[1],"stand 4")
call L37(K34[1],1.35,MI4[1])
set MJ4[i]="Cheap items such as Bracers, Bottle and Magic Stick help give Vengeful Spirit what she needs to use Magic Missile and Swap safely and frequently."
set MK4[i]="By getting Magic Missile first, Vengeful Spirit should take advantage of this powerful stun by moving around the map instead of simply farming in a lane."
set MM4[i]="It sometimes a good idea to save the Command Aura for later in the game when it will give your team more damage."
set MN4[i]="Wave of Terror is used to provide sight, giving you vision over an area or providing an opportunity to use Swap."
set MO4[i]="Swap will allow you to isolate a key hero on their team, sometimes your sacrifice is needed to win the battle and maybe even the game."
set i=i+1
set K34[2]=1215128178
set MI4[2]=1747989552
set K64[2]=1848654145
set MH4[2]="ReplaceableTextures\\CommandButtons\\BTNAvatar.blp"
call L07(K34[2],"attack slam alternate")
call L37(K34[2],1.3,MI4[2])
set MJ4[i]="When using Arc lightning, try to kill creeps and harass your opponent at the same time"
set MK4[i]="When ganking, you can use Lightning Bolt to ensure you will not lose sight of the target quickly."
set MM4[i]="Lightning Bolt has a mini-stun that can be used against channeling spells and teleporting heroes."
set MN4[i]="Static Field is extremely powerful throughout the game: Use your spells as frequently as possible during fights."
set MO4[i]="Both Lightning Bolt and Wrath of the Thundergod reveal invisible units. Wrath will not damage invisible units."
set i=i+1
set K34[3]=1164799855
set MI4[3]=1747989553
set K64[3]=1848654137
set MH4[3]="ReplaceableTextures\\CommandButtons\\BTNDryad.blp"
call L07(K34[3],"stand 4")
call L37(K34[3],1,MI4[3])
set MJ4[i]="Enchant can be used on neutral creeps, meaning Enchantress can fight and use neutral creeps to engage enemy heroes effectively."
set MK4[i]="Nature's Attendants heals in an area AOE, so make sure you're far from creeps if you only want to heal yourself."
set MM4[i]="Untouchable is great against physical attacks, but it does not help you survive huge burst damage nukes."
set MN4[i]="Impetus deals negligible damage at short range; switch to normal attacks if your target gets close to save mana."
set MO4[i]="Impetus deals pure damage, making it a great tool against heroes with a lot of resistance because it is not reduced."
set i=i+1
set K34[4]=1328558160
set MI4[4]=1747989554
set K64[4]=1848654136
set MH4[4]="ReplaceableTextures\\CommandButtons\\BTNSeaElemental.blp"
call L07(K34[4],"stand 2")
call L37(K34[4],1,MI4[4])
set MJ4[i]="Waveform is extremely powerful: Used for damage, chasing, escaping, it even allows you to dodge some spells by casting it at the right time."
set MK4[i]="Morph allows you to manipulate your Agility and Strength. Using the Strength Morph ('F') can act as a heal to help you survive between spells."
set MM4[i]="Use Morph Replicate to take the location of your Replicated unit, making it great for a quick escape or simply as a free teleport."
set MN4[i]="Replicate is usually cast on the strongest ally or enemy to a fight. Certain hero passives or items will retain their effects, so Replicate those heroes."
set MO4[i]="Eye of Skadi and Linken's Sphere are two examples of Statistic-increasing items which give Morphling a lot of versatility and the ability to cast spells often."
set i=i+1
set K34[5]=1214931305
set MI4[5]=1747989555
set K64[5]=1848654167
set MH4[5]="ReplaceableTextures\\CommandButtons\\BTNJaina.blp"
call L07(K34[5],"stand victory")
call L37(K34[5],1,MI4[5])
set MJ4[i]="CM is a fragile support hero: Items like Bracers and Phase Boots will help her survive and deal with her low movement speed and armor."
set MK4[i]="A few points of Brilliance Aura early on provides your team with massive amounts of extra mana."
set MM4[i]="Enemies hit by Frostbite can still cast spells, so don't take them lightly. "
set MN4[i]="Frostbite on non-hero units will last 10 seconds. This can be useful for killing neutral creeps that are level 5 or lower as well."
set MO4[i]="There are two items that can help you with the perfect Freezing Field: Placement with Kelen's Dagger and the spell immunity of Black King Bar."
set i=i+1
set K34[6]=1211117617
set MI4[6]=1747989556
set K64[6]=1848654134
set MH4[6]="ReplaceableTextures\\CommandButtons\\BTNFelGuardBlue.tga"
call L07(K34[6],"spell")
call L37(K34[6],1,MI4[6])
set MJ4[i]="Storm Bolt is a skill Sven should usually get early because of its damage and stun. "
set MK4[i]="Take advantage of Storm Bolt's area of effect by hitting additional enemy creeps and heroes whenever possible. "
set MM4[i]="Try to be near your allies when you cast Warcry."
set MN4[i]="Only items that increase Strength will give you additional damage from effect of God's Strength."
set MO4[i]="Casting God's Strength before engaging in fights or casting Storm Bolt will allow you to get additional attacks on your opponent."
set i=i+1
set K34[7]=1212363833
set MI4[7]=1747989557
set K64[7]=1848654160
set MH4[7]="ReplaceableTextures\\CommandButtons\\BTNSeaWitch.blp"
call L07(K34[7],"spell")
call L37(K34[7],1,MI4[7])
set MJ4[i]="Opponents can attack and cast spells while Ensnared. However, it will work on magic immune units and reveal invisible heroes until the duration expires."
set MK4[i]="Mirror Image can be used defensively to avoid certain spells and dispel debuffs or channeling spells."
set MM4[i]="Items that provide attribute bonuses improve your Image's power."
set MN4[i]="Enemies caught by Song of the Siren are invulnerable while asleep. Save your attacks and spells for after the spell expires."
set MO4[i]="Use Song of the Siren to isolate a magic immune or Cycloned hero (since they will not be affected), or to demolish buildings while enemies are asleep."
set i=i+1
set K34[8]=1333027688
set MI4[8]=1747989558
set K64[8]=1848654148
set MH4[8]="ReplaceableTextures\\CommandButtons\\BTNTauren.blp"
call L07(K34[8],"attack slam")
call L37(K34[8],1.1,MI4[8])
set MJ4[i]="Although he's a strength hero, Earthshaker (ES) actually plays more like a caster. Damage items are not very useful, but mana items can be nice."
set MK4[i]="A good cast of Fissure can isolate an opponent and cut off their escape. Practice often to achieve devastating results."
set MM4[i]="Kelen's Dagger is an incredible item on ES, it allows you to quickly position yourself for the perfect Fissure or Echoslam."
set MN4[i]="The timing of your spells is important, by spacing them out properly you can keep a group of heroes disabled for several seconds."
set MO4[i]="Due to Raigor's ability to split up an enemy team and keep them stunned, he is great for initiating fights."
set i=i+1
set K34[9]=1212365106
set MI4[9]=1747989559
set K64[9]=1848654168
set MH4[9]="ReplaceableTextures\\CommandButtons\\BTNSatyrTrickster.blp"
call L07(K34[9],"stand 4")
call L37(K34[9],1,MI4[9])
set MJ4[i]="Getting at least one level of Blink Strike and Smoke Screen help you survive to level 6 when you can learn Permanent Invisibility."
set MK4[i]="Attacking or using your spells makes you visible: Consider the fade time of Permanent Invisibility before placing yourself at risk."
set MM4[i]="Try to position Smoke Screen slightly behind enemies so that they spend more time in the cloud if they retreat."
set MN4[i]="Wraith Bands and later a Yasha or a Diffusal Blade will provide Rikimaru with cheap damage and chasing power for dispatching fragile heroes quickly."
set MO4[i]="Be careful of items that render you visible, such as Dust of Appearance, Sentry Wards or a Gem of True Sight."
set i=i+1
set K34[10]=1311781199
set MI4[10]=1747989560
set K64[10]=1848654169
set MH4[10]="ReplaceableTextures\\CommandButtons\\BTNDruidOfTheClaw.blp"
call L07(K34[10],"spell slam")
call L37(K34[10],1,MI4[10])
call L37(1848652083,1.1,MI4[10])
call L37(1848652084,1.2,MI4[10])
call L37(1848652085,1.3,MI4[10])
call L37(1848651828,1,MI4[10])
call L37(1848652088,1.1,MI4[10])
call L37(1848652099,1.2,MI4[10])
call L37(1848652103,1.3,MI4[10])
set MJ4[i]="Spirit Bear is great to have in the lane and allowing Syllabear to fight neutral creeps because of its high HP and damage. "
set MK4[i]="Leveling Spirit Bear also gets various bonuses that make it very powerful for fighting heroes and towers so it is usually the first thing to max out."
set MM4[i]="Your Spirit Bear might be able to handle a lot of damage, but if it dies you will also take damage (100 X its level). If you die, it dies as well."
set MN4[i]="Give items to your bear instead of Syllabear since it is usually engaging the enemy for you. Remember that stat-increasing items do not benefit the bear."
set MO4[i]="True Form gives Syllabear massive HP in his melee form, and Rabid and Battle Cry give both him and his Bear huge damage temporarily."
set i=i+1
set K34[11]=1211117620
set MI4[11]=1747989561
set K64[11]=1848654170
set MH4[11]="ReplaceableTextures\\CommandButtons\\BTNSorceress.blp"
call L07(K34[11],"stand victory")
call L37(K34[11],1.2,MI4[11])
set MJ4[i]="Light Strike Array is usually a good skill to get at level 1 because it provides you with a stun."
set MK4[i]="Target the ground in their direction instead of clicking on enemies to maximize Dragon Slave's long range."
set MM4[i]="Cheap items will help Lina do her job: Bracers, Bottle, Phase Boots. A Point booster provides a nice HP/mana bonus for its cost."
set MN4[i]="Fiery Soul can help you maneuver better during a fight."
set MO4[i]="Try to stun as many heroes as possible during team fights"
set i=i+1
set K34[12]=1315070563
set MI4[12]=1747989569
set K64[12]=1848656181
set MH4[12]="ReplaceableTextures\\CommandButtons\\BTNChaosBlademaster.blp"
call L07(K34[12],"stand victory")
call L37(K34[12],1,MI4[12])
set MJ4[i]="Blade Fury is your most important skill early game for getting hero kills and avoiding magic damage."
set MK4[i]="Avoid follow-command (right-clicking) heroes with Blade Fury and instead click the ground near the opponent."
set MM4[i]="Isolate enemy heroes before using Omnislash to prevent Juggernaut from attacking multiple targets and doing less damage."
set MN4[i]="Increasing your attack speed will give you 'extra attacks' during Omnislash, which are treated like a normal attack (in terms of damage and orb effects)."
set MO4[i]="Protect the 1-HP Healing Ward in battles and it can prolong and save the lives of your entire team."
set i=i+1
set K34[13]=1311781185
set MI4[13]=1747989570
set K64[13]=1848654135
set MH4[13]="ReplaceableTextures\\CommandButtons\\BTNSpellBreaker.blp"
call L07(K34[13],"stand ready")
call L37(K34[13],1,MI4[13])
set MJ4[i]="Glaives of Wisdom is useful to get early because it is useful for killing creeps and harassing your opponent manually ('W' and then the target)."
set MK4[i]="Curse of the Silent will cause an enemy to lose HP/mana if they do not choose to use their spells, or cannot use their spells (disabled, silenced, cooldown)."
set MM4[i]="Last Word will prevent enemies from using multiple spells on you and your team at the same time provided you get close enough."
set MN4[i]="Global Silence can be used for initiating on enemies or saving allies early on. Try to pay attention to your teammates and enemies, even those not nearby."
set MO4[i]="Global Silence will also give your allies the opportunity in team battles to use their spells without repercussions - making it a powerful control spell."
set i=i+1
set K34[14]=1214344551
set MI4[14]=1747989571
set K64[14]=1848654150
set MH4[14]="ReplaceableTextures\\CommandButtons\\BTNTreant.blp"
call L07(K34[14],"stand 3")
call L37(K34[14],0.72,MI4[14])
set MJ4[i]="Thanks to his high base damage and survivability, Rooftrellen can usually obtain high-tier damage or caster items depending on the needs of the team."
set MK4[i]="Living armor adds significant defensive bonuses to an allied unit. It can even be cast on buildings to make them more resilient and provide regeneration."
set MM4[i]="Nature's Guise is more than an escape tool, it can be used offensively as well. Use it to position allies and yourself near trees before surprising the enemy."
set MN4[i]="Use Eyes in the Forest whenever you can to gain vision of key locations such as the rune spots, neutral creep camps and Roshan."
set MO4[i]="Enemies under the effect of Overgrowth can still use spells and items, so make sure your team acts quickly while enemies remain immobilized."
set i=i+1
set K34[15]=1328558389
set MI4[15]=1747990352
set K64[15]=1848657731
set MH4[15]="ReplaceableTextures\\CommandButtons\\BTNHeroTaurenChieftain.blp"
call L07(K34[15],"stand victory")
call L37(K34[15],1.1,MI4[15])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[16]=1214409837
set MI4[16]=1747989573
set K64[16]=1848654151
set MH4[16]="ReplaceableTextures\\CommandButtons\\BTNHeroArchMage.blp"
call L07(K34[16],"stand victory")
call L37(K34[16],1.2,MI4[16])
call L37(1211119192,1.5,MI4[16])
call L37(1211119193,1.5,MI4[16])
call L37(1211119191,1.5,MI4[16])
set MJ4[i]="Chakra Magic is an amazing support skill that you should cast on allies as often as possible if they have powerful spells."
set MK4[i]="Illuminate can be useful for earning gold or clearing creeps quickly, but channeling the blast can leave you vulnerable. "
set MM4[i]="Mana Leak gives you the offensive: an enemy that moves loses his resources to cast spells, but if he does not, you can punish him with spells and attacks."
set MN4[i]="When in your Spirit Form, use Blinding Light to push enemies aside, and Recall for saving or calling on the assistance of an ally."
set MO4[i]="Keeper of the Light usually needs to stay back in fights and make use of the long range of his spells as a support hero when pushing and defending."
set i=i+1
set K34[17]=1215657064
set MI4[17]=1747989574
set K64[17]=1848654166
set MH4[17]="ReplaceableTextures\\CommandButtons\\BTNFurbolgTracker.blp"
call L07(K34[17],"attack spell")
call L37(K34[17],1.2,MI4[17])
set MJ4[i]="Get Fury Swipes and Overpower early. Fury Swipes is a very powerful orb effect on Ursa, replacing it with another is not advised."
set MK4[i]="Ursa is a very effective hero to fight neutral creeps with: Vladimir's Offering is a recommended item choice."
set MM4[i]="Thanks to Enrage, Ursa usually purchases items that increase HP or Strength over Agility and Damage items."
set MN4[i]="It is a good idea to fight the two ancient camps when you need a quick boost in experience and gold. They are marked red in your minimap."
set MO4[i]="Certain items like Kelen's Dagger and Lothar's Edge will help both close the distance on enemies and take them by surprise."
set i=i+1
set K34[18]=1215130471
set MI4[18]=1747989575
set K64[18]=1848656177
set MH4[18]="ReplaceableTextures\\CommandButtons\\BTNOgreMagi.blp"
call L07(K34[18],"sleep")
call L37(K34[18],1.4,MI4[18])
set MJ4[i]="Buying a few Clarity Potions, Ring of Basilius or Bottle in the beginning of the game will help you cast a few more spells."
set MK4[i]="Fireblast provides a disable, Ignite provides a slow. Both deal damage, usually making them good skills early."
set MM4[i]="Ogre Magi has a lot of survivability but he does need the ability to use his spells: an Arcane Ring might be the only item you will need all game."
set MN4[i]="Use Bloodlust to help teammates chase and escape enemies and on the hero capable of dealing the most damage before major battles."
set MO4[i]="Focus heroes that need to be shut down quickly with Fireblast: Hopefully they are repeatedly damaged and disabled by the effect of Multicast."
set i=i+1
set K34[19]=1316252014
set MI4[19]=1747989576
set K64[19]=1848656193
set MH4[19]="ReplaceableTextures\\CommandButtons\\BTNHeroTinker.blp"
call L07(K34[19],"stand 2")
call L37(K34[19],1,MI4[19])
set MJ4[i]="Laser and Missile give Tinker massive burst damage, so it is usually a good idea to get these two skills before Rearm, your ultimate."
set MK4[i]="Laser is not reduced by magic resistance or armor; you deal the number in the description exactly."
set MM4[i]="You can use the active effects of items indefinitely with Rearm, which makes Boots of Travel a very powerful item for Tinker."
set MN4[i]="March of the Machines can be very useful for killing creeps quickly, its large area of effect makes it useful for pushing and team fights."
set MO4[i]="Level 1 of Rearm is generally enough until much later when you have the mana pool to support levels 2 and 3."
set i=i+1
set K34[20]=1164799603
set MI4[20]=1747989577
set K64[20]=1848656180
set MH4[20]="ReplaceableTextures\\CommandButtons\\BTNFurion.blp"
call L07(K34[20],"spell")
call L37(K34[20],1.2,MI4[20])
set MJ4[i]="Get Force of Nature early if you plan on leaving the lane to kill neutral creeps. Start with a Ring of Basilius to provide you with mana and armor."
set MK4[i]="Invest points in Teleportation, it gives you the mobility to be anywhere in the map: Cancel the spell if you change your mind by clicking 'S'."
set MM4[i]="Sprout can be extremely useful offensively and defensively so get at least one point in it. Higher levels increase the duration but also the mana cost."
set MN4[i]="Teleportation shows allies and enemies where you intend to go, so if you want to surprise enemies, teleport where they cannot see."
set MO4[i]="Wrath of Nature is a great farming tool but also a powerful nuke on enemy heroes: Hit other units nearby to deal more damage to the intended target."
set i=i+1
set K34[21]=1332179560
set MI4[21]=1747989578
set K64[21]=1848656179
set MH4[21]="ReplaceableTextures\\CommandButtons\\BTNHellScream.blp"
call L07(K34[21],"stand victory")
call L37(K34[21],1,MI4[21])
set MJ4[i]="Get Spirit Lance and Doppelwalk first because Juxtapose is better when your illusions have more health and damage."
set MK4[i]="Beware of the high mana costs of your spells early game, especially for Doppelwalk, which can be an escape mechanism."
set MM4[i]="Keep your opponents guessing by controlling your illusions created by Doppelwalk and Juxtapose."
set MN4[i]="Your illusions are amazing for pushing later on. Focus creeps and heroes first because illusions will not create new ones when attacking buildings."
set MO4[i]="Diffusal Blade and Manta Style are good choices of because they make his images much stronger by adding Agility directly."
set i=i+1
set K34[22]=1432580716
set MI4[22]=1747989579
set K64[22]=1848656183
set MH4[22]="ReplaceableTextures\\CommandButtons\\BTNMountainGiant.blp"
call L07(K34[22],"spell")
call L37(K34[22],0.5,MI4[22])
set MJ4[i]="Buy items that give you at least 3 Intelligence or 39 mana in the beginning of the game so that you can use both of your spells at level 2."
set MK4[i]="Avalanche and Toss should be the two spells you level first because they make you a force to be reckoned with early game."
set MM4[i]="You can sometimes kill a hero outright by casting Avalanche on him, and then Tossing him on the Avalanche area of effect before the animation ends."
set MN4[i]="To ensure that you Toss your desired target, isolate him by making him the only one in the area of effect. Kelen's Dagger can help you with placement."
set MO4[i]="Tiny deals most of his damage through Avalanche and Toss, so the reduced attack speed from Grow is less important than the bonuses given."
set i=i+1
set K34[23]=1211117643
set MI4[23]=1747989580
set K64[23]=1848656185
set MH4[23]="ReplaceableTextures\\CommandButtons\\BTNGoblinSapper.blp"
call L07(K34[23],"stand 2")
call L37(K34[23],1,MI4[23])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[24]=1211117633
set MI4[24]=1747989581
set K64[24]=1848656194
set MH4[24]="ReplaceableTextures\\CommandButtons\\BTNHeroFarseer.blp"
call L07(K34[24],"spell chain lightning")
call L37(K34[24],1,MI4[24])
set MJ4[i]="Chen can take control of high level neutral creeps with Holy Persuasion, making him extremely powerful at low levels even without items."
set MK4[i]="Neutrals with special abilities usually are more useful, try to find out what has a disable or slow as this will be much better for attacking heroes with."
set MM4[i]="When preparing to attack from the forest, start with Penitence to slow enemies. Engage enemies from the side or from behind to catch them off guard."
set MN4[i]="Chen excels as a support hero, items that contribute to teammates such as Mekansm usually benefit the team more than damage items."
set MO4[i]="Hand of God is really useful early on for helping allies across the map. Later, it can be used to assist with pushing or defending."
set i=i+1
set K34[25]=1160785973
set MI4[25]=1747989582
set K64[25]=1848656453
set MH4[25]="ReplaceableTextures\\CommandButtons\\BTNHuntress.blp"
call L07(K34[25],"spell")
call L37(K34[25],1,MI4[25])
set MJ4[i]="The level of Lucent Beam determines the damage of Eclipse, making it the most important spell to get first. "
set MK4[i]="Moon Glaives can be useful early if you plan to kill neutral creeps. Lifesteal items like Helm of the Dominator can help you survive against neutral creeps."
set MM4[i]="Try to cast Eclipse on enemy heroes when other units are not present to maximize the damage dealt to a single target. "
set MN4[i]="Later on with some attack speed, Lunar Blessing and Moon Glaives provide you with both massive damage and pushing power."
set MO4[i]="You should also consider items that allow you to land Eclipse successfully and increase your carry potential in battles, such as a Black King Bar."
set i=i+1
set K34[26]=1433631084
set MI4[26]=1747989583
set K64[26]=1848656452
set MH4[26]="ReplaceableTextures\\CommandButtons\\BTNRifleman.blp"
call L07(K34[26],"spell")
call L37(K34[26],1.1,MI4[26])
set MJ4[i]="Headshot will provide you with bonus damage and a short stun, making it useful for killing creeps and harassing with his incredible attack animation."
set MK4[i]="Sniper usually needs to find a combination of damage, attack speed and survivability that allow him to deal significant damage but survive to do so."
set MM4[i]="Sniper is very fragile so he needs to maintain his range. Getting Take Aim and/or Shrapnel can help provide means of staying out of harm's way."
set MN4[i]="Shrapenl can also be used for slowing opponents, pushing or defending against large waves of creeps."
set MO4[i]="Try to use Assassinate to heavily damage an enemy before the fight even begins to give your team an advantage."
set i=i+1
set K34[27]=1311781174
set MI4[27]=1747989584
set K64[27]=1848656184
set MH4[27]="ReplaceableTextures\\CommandButtons\\BTNForestTroll.blp"
call L07(K34[27],"stand 3")
call L37(K34[27],1.25,MI4[27])
call L37(1311781442,1.25,MI4[27])
call L37(1311781175,1.25,MI4[27])
set MJ4[i]="Berserker's Rage gives Troll the option of melee combat, which gives him many powerful offensive bonuses at the cost of losing his ranged ability."
set MK4[i]="roll Warlord generally does not have to worry about attack speed thanks to his set of skills, go for damage or survivability items instead."
set MM4[i]="Blind will prevent your opponents from landing all their attacks, making it harder from them to harass you or kill your creeps for gold."
set MN4[i]="Play defensively and fight neutral creeps too. Switch to melee form and it will allow you to have an easier time."
set MO4[i]="In team battles, it is vital that you cast Blind on the enemy hero that deals the most damage as this will greatly reduce their damage output."
set i=i+1
set K34[28]=1332898670
set MI4[28]=1747989815
set K64[28]=1848654132
set MH4[28]="ReplaceableTextures\\CommandButtons\\BTNShadowHunter.blp"
call L07(K34[28],"stand victory")
call L37(K34[28],1,MI4[28])
set MJ4[i]="At least one level of Shackles is advised early on for immobilizing opponents. Remember that it is channeling so it can be interrupted or broken by yourself."
set MK4[i]="Rhasta needs survivability and the mana to use his spells: Bracers, Null Talismans, Point Booster are examples of items that will help out a lot."
set MM4[i]="Forked Lightning is your primary nuke and finisher due to its range and ability to hit multiple targets, so it more effective to get it earlier than later."
set MN4[i]="Use Shackles and Voodoo on enemy heroes when casting Mass Serpent Ward. You can even surround an enemy completely with the right timing."
set MO4[i]="Mass Serpent Wards can clear creeps quickly and deal a lot of damage over time to buildings, making them really useful for pushing and defending."
set i=i+1
set K34[29]=1328558406
set MI4[29]=1747993417
set K64[29]=1848658771
set MH4[29]="ReplaceableTextures\\CommandButtons\\BTNWispHero.blp"
call L07(K34[29],"stand 3")
call L37(K34[29],1.30,MI4[29])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[30]=1315988077
set MI4[30]=1747989811
set K64[30]=1848656207
set MH4[30]="ReplaceableTextures\\CommandButtons\\BTNPandarenBrewmaster.blp"
call L07(K34[30],"stand ready")
call L37(K34[30],1,MI4[30])
set MJ4[i]="Thunder Clap is a great skill early game but you may need to invest in regeneration items such as a Bottle, Magic Stick, Ring of Basilius or Void Stone."
set MK4[i]="Drunken Haze works not only as a slow, but the miss chance reduces the damage severely for enemy heroes."
set MM4[i]="Primal Split is not only for escaping: Once you master your three Pandas, Earth, Storm and Fire, you can use them offensively as well."
set MN4[i]="In Primal Split form, Mangix has two useful disables that can be used against enemies: Storm's Cyclone and Earth's Hurl Boulder."
set MO4[i]="Mangix usually initiates for the team, so survivability items are helpful, investing in a Kelen's Dagger to help land Thunder Clap is often a good idea."
set i=i+1
set K34[31]=1211117616
set MI4[31]=1747989592
set K64[31]=1848656206
set MH4[31]="ReplaceableTextures\\CommandButtons\\BTNCentaurKhan.blp"
call L07(K34[31],"stand 3")
call L37(K34[31],1.75,MI4[31])
set MJ4[i]="Return should be leveled if Centaur plans to fight neutral creeps, otherwise Double Edge is more useful in the lane."
set MK4[i]="Thanks to a high strength gain and the bonus strength from your ultimate, Centaur is a great at heading into battle first and receiving damage."
set MM4[i]="A Hood of Defiance can prove to be just as useful as a Vanguard depending on whether the other team has a lot of magical spells."
set MN4[i]="Avoid putting yourself at risk after using Double Edge. You can use it to commit suicide if you are about to die to deny opponents experience and gold."
set MO4[i]="Kelen's Dagger is a great way of initiating on opponents and dealing with his slow casting animation of Stomp."
set i=i+1
set K34[32]=1315007329
set MI4[32]=1747989810
set K64[32]=1848656205
set MH4[32]="ReplaceableTextures\\CommandButtons\\BTNakama.blp"
call L07(K34[32],"stand var4")
call L37(K34[32],1.2,MI4[32])
set MJ4[i]="Shuriken Toss, Wind Walk and Track are much more useful than Jinada early on."
set MK4[i]="You're going to need mana regen: Bottle, Ring Of Basillius and Void Stone are examples of good options. "
set MM4[i]="Use Wind Walk cautiously: If you wait until the cooldown is complete before breaking out of invisibility, you can cast it again immediately afterward."
set MN4[i]="Shuriken Toss and Wind Walk deal a lot of damage quickly: Search the map often for low HP heroes to hunt. "
set MO4[i]="Use Track on a nearby enemy hero to allow you and your allies to outrun them. Also cast it on nearly dead heroes for bonus gold."
set i=i+1
set K34[33]=1215063922
set MI4[33]=1747989590
set K64[33]=1848656209
set MH4[33]="ReplaceableTextures\\CommandButtons\\BTNTheCaptain.blp"
call L07(K34[33],"stand victory")
call L37(K34[33],1.35,MI4[33])
call L37(1211117638,1,MI4[33])
call L37(1211117639,1,MI4[33])
call L37(1211117637,1,MI4[33])
call CU7(1211117639,255,255,200)
call CU7(1211117638,255,255,200)
call CU7(1211117639,255,200,200)
set MJ4[i]="Breath Fire is a strong nuke and farming ability. However, against difficult opponents, Dragon's Blood is very useful."
set MK4[i]="Dragon Tail is the longest duration level 1 stun in the game. One point is usually sufficient until later on."
set MM4[i]="Thanks to the defensive bonuses on Dragon's Blood, he can often focus on other damage items instead of increasing armor and regeneration."
set MN4[i]="Level 1 of Elder Dragon Form has a special passive called Corrosive Attack, which deals significant damage over time against towers."
set MO4[i]="The ranged splash damage and slow of his Level 3 ultimate makes him extremely powerful; getting to level 16 is very important for DK."
set i=i+1
set K34[34]=1164207469
set MI4[34]=1747989588
set K64[34]=1848656210
set MH4[34]="ReplaceableTextures\\CommandButtons\\BTNHeroDemonHunter.blp"
call L07(K34[34],"stand channel")
call L37(K34[34],1,MI4[34])
set MJ4[i]="Blink is very versatile, allowing you to chase, escape and even avoid certain spells. It is definitely worth at least one point in the beginning."
set MK4[i]="You can also use Mana Break to prevent enemy heroes from casting spells on you, but be careful since it forces you to get in melee range to attack."
set MM4[i]="Spell Shield might be useful for reducing magic damage, but it does not prevent you from being disabled or status effects (slow, poison, etc.)."
set MN4[i]="Offensive items without orb effects such as a Battlefury, Monkey King Bar or Butterfly are usually desired over items that would override your Mana Break."
set MO4[i]="Sometimes survivability is just as important as damage, items such as Linken's Sphere or Manta Style offer a good mix of both offense and defense."
set i=i+1
set K34[35]=1315074670
set MI4[35]=1747989813
set K64[35]=1848656204
set MH4[35]="ReplaceableTextures\\CommandButtons\\BTNBansheeRanger.tga"
call L07(K34[35],"spell")
call L37(K34[35],1,MI4[35])
set MJ4[i]="Frost Arrows make Drow an excellent chaser early game and allow her to harass opponents safely by manually casting them (clicking 'R' and the target)."
set MK4[i]="An early level of Silence is great for preventing opponents from using multiple spells on you or your allies."
set MM4[i]="Trueshot Aura and Marksmanship provide Traxex with plenty of damage even with just a few Wraith Bands and Power Treads."
set MN4[i]="Lothar's Edge provides damage and an escape mechanism, the latter of which can help Traxex survive."
set MO4[i]="Stay out of danger in major battles, only close in on your enemies when you are chasing and finishing off heroes near the end."
set i=i+1
set K34[36]=1214345830
set MI4[36]=1747989594
set K64[36]=1848656211
set MH4[36]="ReplaceableTextures\\CommandButtons\\BTNArthas.blp"
call L07(K34[36],"stand victory")
call L37(K34[36],1.1,MI4[36])
set MJ4[i]="Omniknight is a powerful support hero, items that provide mana such as Arcane Ring help make sure that you can use all your spells."
set MK4[i]="Purification can be used offensively and defensively: The unit you cast it on will deal damage around it, making it a powerful heal and nuke."
set MM4[i]="Degen Aura is a very strong passive slow that is useful both to chase down enemy heroes and help you and your allies escape as well."
set MN4[i]="Repel is used to remove buffs from allies and enemies, and to prevent heroes with spells from being interrupted or damage dealers from being disabled."
set MO4[i]="Guardian Angel makes a team nearly impervious to physical damage and provides 25/sec HP regeneration, use this time wisely to survive or attack."
set i=i+1
set K34[37]=1211117636
set MI4[37]=1747989587
set K64[37]=1848656203
set MH4[37]="ReplaceableTextures\\CommandButtons\\BTNBeastMaster.blp"
call L07(K34[37],"spell slam")
call L37(K34[37],1,MI4[37])
set MJ4[i]="Endurance Aura is usually more useful later in the game when your team is fighting together, so get your other skills first."
set MK4[i]="Call of the Wild is very powerful: The boar gives damage and slow, while the hawk can provide vision over runes, neutral creeps and other key locations."
set MM4[i]="Wild Axes are more useful early game and against heroes with less armor. Destroy trees with Wild Axes to surprise your opponents and for escaping."
set MN4[i]="Try casting Wild Axes behind the target to compensate for their movement. You can also manipulate their return path by moving Rexxar."
set MO4[i]="Find opportunities to use Roar whenever it is available. It is useful on heroes who have an escape mechanism or are immune to magic."
set i=i+1
set K34[38]=1160786000
set MI4[38]=1747989586
set K64[38]=1848656202
set MH4[38]="ReplaceableTextures\\CommandButtons\\BTNChimaera.blp"
call L07(K34[38],"stand 3")
call L37(K34[38],1,MI4[38])
set MJ4[i]="Dual Breath and Ice Path help to make Jakiro a strong offensive and defensive support hero. "
set MK4[i]="Jakiro can cast his spells immediately by clicking the nearby ground in the desired direction, sometimes this is more effective than clicking on the target."
set MM4[i]="A level of Liquid Fire early on can be useful for deterring physical attacks "
set MN4[i]="Macropyre is a slow but powerful spell, combine it with other spells (yours or a teammate) to make sure the opponent is standing in the area of effect."
set MO4[i]="It is often a good idea to purchase useful support items like Mekansm or Shiva's Guard, two items that also increase his low armor significantly."
set i=i+1
set K34[39]=1311781193
set MI4[39]=1747989812
set K64[39]=1848656201
set MH4[39]="ReplaceableTextures\\CommandButtons\\BTNHeroAlchemist.blp"
call L07(K34[39],"stand 2")
call L37(K34[39],1,MI4[39])
call L37(1311781194,1,MI4[39])
call L37(1311781192,1,MI4[39])
call L37(1311781204,1,MI4[39])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[40]=1311781206
set MI4[40]=1747989591
set K64[40]=1848656200
set MH4[40]="ReplaceableTextures\\CommandButtons\\BTNPriestessOfTheMoon.blp"
call L07(K34[40],"stand ready")
call L37(K34[40],1,MI4[40])
set MJ4[i]="PotM can be extremely efficient and gank with just a few Wraith Bands, Boots of Speed and a Bottle."
set MK4[i]="Getting one level of Leap is usually sufficient early on until Starfall and Elune's Arrow are fully leveled."
set MM4[i]="Land your Elune's Arrow by coordinating with allies and predicting enemy movements. You can even hit invisible or faraway targets with practice."
set MN4[i]="Starfall hits a second time for half damage to one random enemy within 200 range, get close if you can to deal bonus damage"
set MO4[i]="Moonlight Shadow can be used to initiate or escape but sometimes it can be learned later when PotM can use it without compromising her mana pool."
set i=i+1
set K34[41]=1211117651
set MI4[41]=1747989585
set K64[41]=1848656212
set MH4[41]="ReplaceableTextures\\CommandButtons\\BTNStorm.blp"
call L07(K34[41],"spell")
call L37(K34[41],1,MI4[41])
set MJ4[i]="Do not get Overload at level 1 since you do not have any spells to activate its effect with."
set MK4[i]="Choosing which ability to max first can be difficult, but generally at least one point in all three skills is a good idea."
set MM4[i]="You have to wait 1 second after casting Static Remnant before it begins detecting nearby units for its explosion effect."
set MN4[i]="In addition to chasing and escaping, Lightning Ball can be used to dodge many spells with the right timing."
set MO4[i]="An item like Bloodstone is useful on Storm Spirit because the percentage-based mana cost of Lightning Ball makes regeneration an important asset."
set i=i+1
set K34[42]=1211117649
set MI4[42]=1747989593
set K64[42]=1848656199
set MH4[42]="ReplaceableTextures\\CommandButtons\\BTNHeadHunterBerserker.blp"
call L07(K34[42],"stand alternate 3")
call L37(K34[42],1.15,MI4[42])
set MJ4[i]="A level of Burning Spears early on is great for harassing enemy heroes. Use it manually by clicking 'R' then the desired target to avoid drawing focus fire."
set MK4[i]="Berserker's Blood makes you stronger as you take damage. The bonuses stop when you have 51% HP, so there is little point in taking additional damage."
set MM4[i]="Life Break deals damage based on the remaining health of the target, making it strongest at the beginning of a fight. "
set MN4[i]="Inner Vitality heals more when you have less than 40% of your life, but avoid making the mistake of casting it too late in battles."
set MO4[i]="Survivability while in low health is important for Huskar: Consider items such as Armlet of Mordiggan, Black King Bar, or Heart of Tarrasque."
set i=i+1
set K34[43]=1160786265
set MI4[43]=1747989816
set K64[43]=1848656198
set MH4[43]="ReplaceableTextures\\CommandButtons\\BTNAssassin.blp"
call L07(K34[43],"stand victory")
call L37(K34[43],1.2,MI4[43])
set MJ4[i]="Refraction is a great way of surviving in a lane, just be careful not to get hit by creeps too much."
set MK4[i]="Meld starts cooling down when you click the spell, so you can hit him twice with it if you can predict your enemy's movements."
set MM4[i]="Traps can be used for vision, most effectively in cramped areas like the end of ramps or at the rune powerup spots."
set MN4[i]="You can farm extremely fast by positioning yourself so that the Psi Blades splash on multiple creeps at once."
set MO4[i]="Placing a trap or two before engaging a fight can be a good idea, to cut off possible escape and/or chase routes."
set i=i+1
set K34[44]=1311780930
set MI4[44]=1747989808
set K64[44]=1848656197
set MH4[44]="ReplaceableTextures\\CommandButtons\\BTNFaerieDragon.blp"
call L07(K34[44],"attack spell")
call L37(K34[44],1.1,MI4[44])
set MJ4[i]="Illusory Orb and Jaunt are used to travel short distances quickly, but if you wait too long to Jaunt, you will lose the opportunity."
set MK4[i]="Puck is very fragile early game, some Bracers or Null Talismans and a level of Phase Shift can help you survive."
set MM4[i]="Using Phase Shift manually instead of Autocast will prevent stray attacks from triggering it on Autocast. In general you will have better control of its use."
set MN4[i]="Waning Rift deals damage and silences, but forces you to be close enough. Use Illusory Orb or Dream Coil to help you land the spell on enemies."
set MO4[i]="Puck is a great initiator in fights who offers control of the battle with his spells, allowing allies to join the battle and use their spells or attacks safely."
set i=i+1
set K34[45]=1211117652
set MI4[45]=1747989809
set K64[45]=1848656213
set MH4[45]="ReplaceableTextures\\CommandButtons\\BTNClockWerkGoblin.blp"
call L07(K34[45],"Birth")
call L37(K34[45],1.5,MI4[45])
set MJ4[i]="You can use Rocket Flare for harassing and killing creeps early on. With the right timing, you can even fire at enemies across the map."
set MK4[i]="Power Cogs can be used to trap an enemy, push them away while draining mana, or as an escape mechanism since Rattletrap destroys Cogs in only 1 hit."
set MM4[i]="Battery Assault adds a lot of damage and the stuns help you with chasing, use it when no other units are nearby for best results."
set MN4[i]="Hookshot's long range and high speed lets you reach enemies from out of sight. Follow up with your other spells quickly so your target cannot escape."
set MO4[i]="Rocket Flare also gives vision where it lands, making it very useful for scouting areas such as rune spots, neutral creeps, the enemy base."
set i=i+1
set K34[46]=1211119187
set MI4[46]=1747990100
set K64[46]=1848657221
set MH4[46]="ReplaceableTextures\\CommandButtons\\BTNProudmoore.blp"
call L07(K34[46],"stand victory")
call L37(K34[46],1.1,MI4[46])
set MJ4[i]="Tidebringer is extremely useful early game: Use the bonus damage for killing creeps and the cleave effect to harass opponents at the same time."
set MK4[i]="The bubble animation from Torrent can only be seen by your team so try to use this to your advantage."
set MM4[i]="An ally's assistance or X Marks the Spot is a great way of making sure Torrent and Ghost Ship hit your opponent."
set MN4[i]="Escaping enemy heroes is easy by casting X Marks the Spot on them. It also prevents them from getting away."
set MO4[i]="The Ghost Ship will crash 1000 range from where you stand when you cast it. Keep your distance when you use it."
set i=i+1
set K34[47]=1311786311
set MI4[47]=1747990337
set K64[47]=1848657224
set MH4[47]="ReplaceableTextures\\CommandButtons\\BTNSylvanusWindrunner.blp"
call L07(K34[47],"stand victory")
call L37(K34[47],1.2,MI4[47])
set MJ4[i]="Powershot deals significant damage, making it ideal to max first. Be sure not to fire through creeps if you want to deal maximum damage to your target."
set MK4[i]="An early level of Windrunner can provide you with a quick getaway and chasing tool."
set MM4[i]="Shackleshot can either be used on your intended target to bind him to a nearby unit, or to bind the designated target located BEHIND the unit that you fired it at."
set MN4[i]="Focus Fire is also a powerful spell to use on buildings and Roshan."
set MO4[i]="As long as you do not attack another target, the effect of Focus Fire will stay on. Use your spells and active items to help you fire at your target."
set i=i+1
set K34[48]=1160786510
set MI4[48]=1747993411
set K64[48]=1848658766
set MH4[48]="ReplaceableTextures\\CommandButtons\\BTNFlyingMachine.blp"
call L07(K34[48],"stand 3")
call L37(K34[48],1.10,MI4[48])
call L37(1160786511,1.10,MI4[48])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[49]=1160786506
set MI4[49]=1747993412
set K64[49]=1848658770
set MH4[49]="ReplaceableTextures\\CommandButtons\\BTNThrall.blp"
call L07(K34[49],"stand 3")
call L37(K34[49],1.10,MI4[49])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[50]=1160786505
set MI4[50]=1747993401
set K64[50]=1848658763
set MH4[50]="ReplaceableTextures\\CommandButtons\\BTNTuskaarBrown.blp"
call L07(K34[50],"stand 3")
call L37(K34[50],1.00,MI4[50])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[51]=1160786502
set MI4[51]=1747993400
set K64[51]=1848658765
set MH4[51]="ReplaceableTextures\\CommandButtons\\BTNPhoenix.blp"
call L07(K34[51],"stand 3")
call L37(K34[51],1.05,MI4[51])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[52]=1211117624
set MI4[52]=1747989589
set K64[52]=1848656195
set MH4[52]="ReplaceableTextures\\CommandButtons\\BTNRazorback.blp"
call L07(K34[52],"stand")
call L37(K34[52],1.65,MI4[52])
set MJ4[i]="Rigwarl is a known for punishing heroes that attack him and surviving for long times but he still needs armor, regeneration and hit points."
set MK4[i]="Quill spray doesn't initially deal much damage, but the stacking effect makes it very powerful over time in battles."
set MM4[i]="Sometimes one level of Goo can be enough to slow down an enemy hero early game."
set MN4[i]="Rigwarl needs a fair amount of mana early-game, Ring of Basilius, Magic Stick or Bottle can boost his early offensive power immensely."
set MO4[i]="You can mitigate a lot of damage if you turn your hero at the right times thanks to your passive Bristleback. Play mind games on your opponent."
set i=i+1
set K34[53]=1160786520
set MI4[53]=1747993428
set K64[53]=1848659019
set MH4[53]="ReplaceableTextures\\CommandButtons\\BTNMedivh.blp"
call L07(K34[53],"stand 3")
call L37(K34[53],1.15,MI4[53])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[54]=1311788336
set MI4[54]=1747993671
set K64[54]=1848659249
set MH4[54]="ReplaceableTextures\\CommandButtons\\BTNFireBrewmaster.blp"
call L07(K34[54],"stand 3")
call L37(K34[54],1,MI4[54])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[55]=1160786507
set MI4[55]=1747993409
set K64[55]=1848658762
set MH4[55]="ReplaceableTextures\\CommandButtons\\BTNGarithos.blp"
call L07(K34[55],"stand 3")
call L37(K34[55],1.3,MI4[55])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[56]=1211122767
set MI4[56]=1747993672
set K64[56]=1848659254
set MH4[56]="ReplaceableTextures\\CommandButtons\\BTNDragonHawk.blp"
call L07(K34[56],"stand 3")
call L37(K34[56],1.1,MI4[56])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[57]=1160786738
set MI4[57]=1747993922
set K64[57]=1848659269
set MH4[57]="ReplaceableTextures\\CommandButtons\\BTNJunkGolem.blp"
call L07(K34[57],"stand 3")
call L37(K34[57],1,MI4[57])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K14=57
set i=58
set K04=58
set K34[58]=1429221432
set MI4[58]=1747989832
set K64[58]=1848656435
set MH4[58]="ReplaceableTextures\\CommandButtons\\BTNKiljaedin.blp"
call L07(K34[58],"spell")
call L37(K34[58],1.2,MI4[58])
call L37(1160786229,1,MI4[58])
call CU7(K34[58],255,75,255)
set MJ4[i]="If you want to neutral creeps, start with Summon Wolves and a Ring of Basilius, which can be used to make Vladmir's Offering later."
set MK4[i]="Spirit Wolves gain invisibility at level 4, making them difficult to kill and easy to harass heroes with in the lane."
set MM4[i]="Feral Heart make you and your wolves stronger overall, while Howl is an offensive spell used before engaging the enemy."
set MN4[i]="Shapeshift makes you incredibly powerful and gives you max movement speed. Avoid being blocked by your wolves when chasing."
set MO4[i]="A Black King Bar will prevent enemies from disabling you, making you very fearsome and almost unstoppable when attacking heroes."
set i=i+1
set K34[59]=1429221430
set MI4[59]=1747989833
set K64[59]=1848656436
set MH4[59]="ReplaceableTextures\\CommandButtons\\BTNSpiderBlack.blp"
call L07(K34[59],"walk")
call L37(K34[59],1.36,MI4[59])
set MJ4[i]="At least one level in Spin Web early game will increase your survivability greatly. Remember that attacking/using spells will cause you to break invisibility."
set MK4[i]="Spawn Spiderlings is both a nuke and pushing spell, so getting items like a Ring of Basilius will provide you with both mana and armor for pushing."
set MM4[i]="Incapacitating Bite makes it very difficult for enemies to get away from you, great for chasing and slowing opponents temporarily for your allies."
set MN4[i]="Try to space out your webs with least 2 seconds of walking distance so that you can benefit from its bonuses on as much ground as possible."
set MO4[i]="With the damage and lifesteal from Insatiable Hunger, sometimes it is best to get items that will prevent you from being disabled, such as a Black King Bar."
set i=i+1
set K34[60]=1165451634
set MI4[60]=1747989834
set K64[60]=1848656437
set MH4[60]="ReplaceableTextures\\CommandButtons\\BTNHeroWarden.blp"
call L07(K34[60],"spell slam")
call L37(K34[60],1,MI4[60])
set MJ4[i]="Stifling Dagger is used for creep-killing and slowing opponents; prevent enemies from escaping by using it with Blink Strike."
set MK4[i]="Try to Blink Strike to a nearby allied or enemy unit to make a quick escape when caught in a defensive situation. "
set MM4[i]="Be cautious when entering battles with Blink Strike, you could be caught outnumbered or disabled without your escape mechanism."
set MN4[i]="Blur can sometimes allow you to surprise opponents if they aren't paying attention."
set MO4[i]="Items like Battlefury are useful, but getting a Black King Bar or a Satanic afterward will help you survive long enough to deal damage."
set i=i+1
set K34[61]=1211117654
set MI4[61]=1747989835
set K64[61]=1848656438
set MH4[61]="ReplaceableTextures\\CommandButtons\\BTNNagaSeaWitch.blp"
call L07(K34[61],"stand ready")
call L37(K34[61],1,MI4[61])
call L37(1211119684,1,MI4[61])
call L37(1211119683,1,MI4[61])
call L37(1211119668,1,MI4[61])
call L37(1211119682,1,MI4[61])
set MJ4[i]="Mystic Snake is a smart choice to have early game: Its damage and mana drain makes it great for harassing and offsetting its own mana cost."
set MK4[i]="Mana Shield will increase your survivability drastically. Use it wisely or it can also leave you with no mana for your other spells."
set MM4[i]="Using Split Shot allows you to attack multiple units, but the extra arrows from Split Shot do not gain the properties of orb effects."
set MN4[i]="Stone Gaze is an ultimate that is used to slow opponents and remove their buffs, making it easy to escape or attack the purged enemies."
set MO4[i]="Items that increase statistics and regeneration like Linkens Sphere will always be a good choice because of Mana Shield."
set i=i+1
set K34[62]=1432646245
set MI4[62]=1747989836
set K64[62]=1848656439
set MH4[62]="ReplaceableTextures\\CommandButtons\\BTNTichondrius.blp"
call L07(K34[62],"spell slam")
call L37(K34[62],1,MI4[62])
set MJ4[i]="Night Stalker may be passive during the day, but at night his spells make him much more powerful and great for hunting heroes down."
set MK4[i]="Void is your primary source of damage early game and can be used to interrupt spells and teleports with its mini-stun."
set MM4[i]="While Hunter in the Night does nothing during the day, get it so that during nighttime it will give you massive movement and attack speed."
set MN4[i]="Use Crippling Fear when you are hunting heroes so that they cannot disable or slow you while you are chasing them."
set MO4[i]="Since Darkness will pause time when activated, casting it at night whenever it is on cooldown will extend the total nighttime."
set i=i+1
set K34[63]=1313026096
set MI4[63]=1747989837
set K64[63]=1848656688
set MH4[63]="ReplaceableTextures\\CommandButtons\\BTNSkeletonArcher.tga"
call L07(K34[63],"stand victory")
call L37(K34[63],1.8,MI4[63])
call CU7(K34[63],100,125,100)
set MJ4[i]="Skeleton King is a hero who is known for his ability to reincarnate if focused upon and dealing a lot of damage if he is ignored by opponents. "
set MK4[i]="Hellfire Blast is a great spell for the early laning phase and a few levels of Attribute Bonus can give you stat points for additional stuns."
set MM4[i]="Critical Strike is generally preferred over Vampiric Aura because its lifesteal is not very effective earlier when Leoric needs more damage."
set MN4[i]="Make sure you have enough mana for Hellfire Blasts and especially Reincarnation. Buying a Magic Stick and/or a Bottle can pay off nicely."
set MO4[i]="Get cheaper damage items like Armlet of Mordiggan and Desolator. A Black King Bar will allow you to dish out damage without being disabled."
set i=i+1
set K34[64]=1430467634
set MI4[64]=1747989838
set K64[64]=1848656470
set MH4[64]="ReplaceableTextures\\CommandButtons\\BTNDoomGuard.blp"
call L07(K34[64],"stand victory")
call L37(K34[64],1.1,MI4[64])
set MJ4[i]="Lucifer can obtain gold very quickly thanks to Devour, so getting regeneration items like Perseverance will help him to cast spells and survive in the lane."
set MK4[i]="Devour deals 20 damage per second, so consume creeps with low HP remaining so you can finish digesting the enemy quickly."
set MM4[i]="Use the command -iObsScoreInt1 to find your opponents' level for potential LVL? Death targets. Its mini-stun will also interrupt channeling spells and teleports."
set MN4[i]="Doom is usually used in conjunction with LVL? Death for killing enemy heroes; you can also use it on heroes to silence their spells."
set MO4[i]="When chasing or escaping with Scorched Earth, cast it in front of you so that you will experience the movement speed bonuses for a longer period of time."
set i=i+1
set K34[65]=1429221424
set MI4[65]=1747989839
set K64[65]=1848656469
set MH4[65]="ReplaceableTextures\\CommandButtons\\BTNHeroCryptLord.tga"
call L07(K34[65],"spell throw")
call L37(K34[65],0.8,MI4[65])
set MJ4[i]="Effective use of Impale and Mana Burn early game requires you to purchase some Null Talismans or Bracers and Bottle."
set MK4[i]="Mana Burn is a devastating spell to have in the lane, force opponents to play defensively by preventing them from casting spells."
set MM4[i]="Unlike other Agility heroes, Anub'arak is a caster. Getting items like Dagon can be more useful than purchasing damage items."
set MN4[i]="Vendetta is a good initiating spell for surprising opponents. Cast it far away so that they cannot hear its sound effect upon activation."
set MO4[i]="Be careful when using Vendetta against multiple opponents and going near towers where they can see you while you are invisible."
set i=i+1
set K34[66]=1430468913
set MI4[66]=1747989840
set K64[66]=1848656689
set MH4[66]="ReplaceableTextures\\CommandButtons\\BTNNagaMyrmidon.tga"
call L07(K34[66],"spell")
call L37(K34[66],1,MI4[66])
call CU7(K34[66],175,75,200)
set MJ4[i]="Slithereen Crush requires good positioning, so do your best to stand next to the hero you are trying to stun."
set MK4[i]="Sprint is a great spell for both chasing and escaping but be careful when using it because you will take bonus damage."
set MM4[i]="In addition to lowering armor, Amplify Damage provides vision of enemies, even heroes that have the ability to become invisible."
set MN4[i]="Bash is usually more effective later in the game when you have more items like Armlet of Mordiggan."
set MO4[i]="Slardar's role in battles is to initiate with Slithereen Crush and focus an enemy with Bash and Amplify Damage. Pick off escapees with Sprint."
set i=i+1
set K34[67]=1430466609
set MI4[67]=1747989841
set K64[67]=1848656690
set MH4[67]="ReplaceableTextures\\CommandButtons\\BTNBlueDemoness.tga"
call L07(K34[67],"spell slam")
call L37(K34[67],1.3,MI4[67])
set MJ4[i]="Blink provides you with an escape mechanism and spell dodge but on higher levels it becomes a powerful chasing tool as well."
set MK4[i]="Scream of Pain is used for killing creeps and harassing opponents, making it more useful than Shadow Strike early game."
set MM4[i]="Try to hit as many targets as possible with Sonic Wave by targeting the ground instead of on an enemy hero directly."
set MN4[i]="Shadow Strike does decent damage but its primary use is for the slow it provides for chasing and outrunning opponents."
set MO4[i]="Her spell reliance, mobility and survivability allows her to buy expensive Intelligence items such as a Guinsoo's Scythe of Vyse."
set i=i+1
set K34[68]=1160785972
set MI4[68]=1747989842
set K64[68]=1848656471
set MH4[68]="ReplaceableTextures\\CommandButtons\\BTNSkeletonMage.blp"
call L07(K34[68],"stand victory")
call L37(K34[68],1,MI4[68])
set MJ4[i]="Searing Arrows provide damage for last hitting creeps and harassing enemy heroes by using it manually by clicking 'R' followed by the designated target."
set MK4[i]="Wind Walk is commonly used for chasing and escaping but the invisibility and movement speed can help you avoid specific spells with the right timing."
set MM4[i]="Cast Death Pact on enemy or neutral creeps instead of allied units whenever possible because it will give you the gold for killing the unit."
set MN4[i]="Regeneration items like Orchid Malevolence or a Linkens Sphere will allow liberal use of his abilities in battle and help him against spellcasters and nukers."
set MO4[i]="Strafe is usually gotten later, but combined with Searing Arrows, Clinkz can deal a lot of damage quickly, powerful against enemy heroes and buildings."
set i=i+1
set K34[69]=1162032181
set MI4[69]=1747989843
set K64[69]=1848656467
set MH4[69]="ReplaceableTextures\\CommandButtons\\BTNFacelessOne.blp"
call L07(K34[69],"spell slam")
call L37(K34[69],1.3,MI4[69])
call CU7(K34[69],0,255,150)
set MJ4[i]="Time Walk is your escaping and chasing skill, but it will allow you to avoid spells and damage since you are invulnerable during the animation."
set MK4[i]="Get Backtrack early game if you need to play defensively, while Time Lock will allow you to be a little more aggressive."
set MM4[i]="Since Darkterror is so fragile, enter battles by using Time Walk and then cast Chronosphere to prevent yourself from being disabled or killed otherwise."
set MN4[i]="Chronosphere affects all units that are not controlled by you, including both allies and enemies. Avoid hitting teammates or it could cost them their lives."
set MO4[i]="Items such as Power Treads and Butterfly will give both damage and attack speed, which is useful if Void wants to repetitively stun with Time Lock."
set i=i+1
set K34[70]=1162032951
set MI4[70]=1747989844
set K64[70]=1848656466
set MH4[70]="ReplaceableTextures\\CommandButtons\\BTNNetherDragon.blp"
call L07(K34[70],"spell slam")
call L37(K34[70],1.2,MI4[70])
call CU7(K34[70],75,255,25)
set MJ4[i]="Poison Attack allows you to harass an opponent and permanently chase them thanks to a 0 cooldown starting at level 3."
set MK4[i]="Prevent creeps and towers from attacking you by casting Poison Attack manually by clicking 'C' and then the designated target."
set MM4[i]="Neurotoxin will add bonus damage, useful early for getting the last hit on creeps and also for dealing damage to heroes as well."
set MN4[i]="Early HP and movement speed items like Phase Boots or a Point/Vitality Booster can really make a difference."
set MO4[i]="Sometimes it is wise to invest in a Lothar's Edge or Kelen's Dagger to provide you with the ability to get in and out of combat safely."
set i=i+1
set K34[71]=1160785970
set MI4[71]=1747989845
set K64[71]=1848656473
set MH4[71]="ReplaceableTextures\\CommandButtons\\BTNRevenant.blp"
call L07(K34[71],"spell")
call L37(K34[71],1,MI4[71])
set MJ4[i]="Use your attack range to help gauge how far opponents need to be for Plasma Field to deal the most damage."
set MK4[i]="Unstable Current will slow opponents who cast spells on you and could be useful to help prevent yourself from being killed."
set MM4[i]="Static Link is powerful if you can stay within the range of opponents - getting Unstable Current can sometimes help with that."
set MN4[i]="Storm Seeker strikes the target with the lowest health, so use it after creeps have died or when chasing a solitary target."
set MO4[i]="Consider increasing your HP along with damage when purchasing items."
set i=i+1
set K34[72]=1429221443
set MI4[72]=1747989846
set K64[72]=1848656465
set MH4[72]="ReplaceableTextures\\CommandButtons\\BTNGhoul.blp"
call L07(K34[72],"victory")
call L37(K34[72],1.5,MI4[72])
call CU7(K34[72],100,100,100)
set MJ4[i]="Open Wounds is a powerful slow that nearly stops enemies in their tracks; it also lets you and your allies heal for attacking that unit.Open Wounds is a powerful slow that nearly stops enemies in their tracks; it also lets you and your allies heal for attacking that unit."
set MK4[i]="Feast deals percentage-based damage, which is useful against heroes with high HP and lets Naix fight neutral creeps with ease."
set MM4[i]="Rage can be used to avoid spells and to prevent opponents from disabling you while you are attacking them or trying to escape from them."
set MN4[i]="Infest can be used for escaping, surprising your opponents, to neutral, or to just gain significant health quickly when necessary."
set MO4[i]="Thanks to your physical damage and ability to steal life, Armlet of Mordiggan or Desolator are both solid choices for high-tier items."
set i=i+1
set K34[73]=1211117640
set MI4[73]=1747989847
set K64[73]=1848656468
set MH4[73]="ReplaceableTextures\\CommandButtons\\BTNPugna.BLP"
call L07(K34[73],"stand ready")
call L37(K34[73],1,MI4[73])
set MJ4[i]="Nether Blast gives you an incredible skill for killing creeps, harassing heroes and pushing. Use it to score the killing blow to a tower."
set MK4[i]="Decrepify can be used on opponents either to increase spell damage from you and your allies or to prevent them from attacking."
set MM4[i]="Nether Ward will drain mana and punish opponents for using spells. Just remember to cast it where opponents cannot destroy it easily."
set MN4[i]="Aghanim's Scepter, Linkens Sphere and Bloodstone are examples of items that offer survivability while improving his spellcasting abilities."
set MO4[i]="Life Drain deals a lot of damage unless opponents disable you or run away. With an Aghanim's Scepter, its cooldown becomes 0."
set i=i+1
set K34[74]=1332109682
set MI4[74]=1747989848
set K64[74]=1848656464
set MH4[74]="ReplaceableTextures\\CommandButtons\\BTNSeaGiantGreen.blp"
call L07(K34[74],"attack slam")
call L37(K34[74],1,MI4[74])
set MJ4[i]="Be sure to attack enemies slowed by Gush, the armor reduction means that your hits will deal more damage than normal."
set MK4[i]="Anchor Smash is an offensive damage spell that lets you hurt multiple units, good for killing neutral creeps and useful in team battles."
set MM4[i]="Kraken Shell gives you some protection against physical damage as well as a debuff removal against certain spells."
set MN4[i]="In fights, Tidehunter should be in the middle of the action drawing focus fire and dealing damage because of his skill set and high survivability."
set MO4[i]="Ravage has a large area of effect but Kelen's Dagger will allow you to initiate without being disabled and use it in an optimal spot."
set i=i+1
set K34[75]=1332963428
set MI4[75]=1747989849
set K64[75]=1848656463
set MH4[75]="ReplaceableTextures\\CommandButtons\\BTNVoidWalker.blp"
call L07(K34[75],"spell")
call L37(K34[75],1.5,MI4[75])
call CU7(K34[75],150,0,150)
set MJ4[i]="High costs and cooldowns give Atropos limited ability use: Cast spells intelligently and get items like Null Talismans and/or Magic Stick for your mana pool."
set MK4[i]="Brain Sap is a powerful nuke and heal and deals exact unreduced damage so get it early and always try to use it on enemy heroes when using the spell."
set MM4[i]="Use Nightmare to help teammates to aim their spells and remove an opponent from battles temporarily while you fight their allies."
set MN4[i]="Enfeeble is usually a skill to get after Brain Sap and Nightmare to use on enemy heroes with high damage to reduce their damage capabilities severely."
set MO4[i]="Fiend's Grip will work on Magic Immune units such as those under the active effect of Black King Bar, holding them in place but dealing no damage."
set i=i+1
set K34[76]=1429221445
set MI4[76]=1747989850
set K64[76]=1848656440
set MH4[76]="ReplaceableTextures\\CommandButtons\\BTNGhostOfKelThuzad.blp"
call L07(K34[76],"stand victory")
call L37(K34[76],1.3,MI4[76])
set MJ4[i]="Death Pulse lets you kill creeps and harass heroes simultaneously, great for pushing and healing allied units because of its low cooldown."
set MK4[i]="Sadist will provide you with some early regeneration for killing creeps, while Heartstopper Aura becomes effective as the game goes on."
set MM4[i]="Reaper's Scythe is known for its ability to kill heroes outright, allowing you to bring down even high-HP Strength heroes with ease."
set MN4[i]="Your ultimate can also be used to stun opponents in certain situations, such as interrupting channeling spells and teleports."
set MO4[i]="Items like Bloodstone or Heart of Tarrasque allow you to survive long enough in team battles to make your spells more effective."
set i=i+1
set K34[77]=1429221446
set MI4[77]=1747990064
set K64[77]=1848656693
set MH4[77]="ReplaceableTextures\\CommandButtons\\BTNAbomination.blp"
call L07(K34[77],"stand 3")
call L37(K34[77],1.0,MI4[77])
set MJ4[i]="Pudge can known for his ability to isolate enemies with Meat Hook and using Rot and Dismember afterward, killing them outright. "
set MK4[i]="Early regeneration and movement speed items such as Bottle and Phase Boots help provide Pudge with the means to cast spells and chase his opponents."
set MM4[i]="Use Meat Hook from a location where you are not obstructed by any allied or enemy units other than your target to ensure a better chance of landing it."
set MN4[i]="A Hood of Defiance will improve your magic resistance to reduce damage from using Rot and getting hit by spells; The massive regeneration is also good."
set MO4[i]="Use your spells defensively: Rot can be used to commit suicide if necessary and Meat Hook can be used to rescue an ally from one or more enemies."
set i=i+1
set K34[78]=1328558154
set MI4[78]=1747990065
set K64[78]=1848656691
set MH4[78]="ReplaceableTextures\\CommandButtons\\BTNSpiritWalker.blp"
call L07(K34[78],"stand ready")
call L37(K34[78],1.2,MI4[78])
set MJ4[i]="Empowering Haste is a smart skill to level first, it gives Barathrum movement speed and significant damage for killing creeps and heroes."
set MK4[i]="A level of Greater Bash early game can be useful as an extra disable, since the 17% chance is the same for all levels.A level of Greater Bash early game can be useful as an extra disable, since the 17% chance is the same for all levels."
set MM4[i]="Get Strength Power Treads because the attack and movement speed benefits your other skills and the boost in HP helps you survive."
set MN4[i]="Charge of Darkness gives Barathrum spell immunity after 12 seconds and provides vision of the target for you and your allies."
set MO4[i]="Nether Strike puts you from the opposite side of where you were facing, push opponents backwards and into your allies."
set i=i+1
set K34[79]=1432510828
set MI4[79]=1747990066
set K64[79]=1848656472
set MH4[79]="ReplaceableTextures\\CommandButtons\\BTNNerubianQueen.blp"
call L07(K34[79],"attack")
call L37(K34[79],1.0,MI4[79])
call CU7(K34[79],255,200,200)
set MJ4[i]="Take care of Weaver's HP/damage problems with Bracers or Wraith Bands and get regeneration so he can use his spells freely."
set MK4[i]="An early level of Watchers can be used to provide vision over the rune powerups. Patrol them to increase their area of detection."
set MM4[i]="Shukuchi is used for harassing and chasing opponents offensively, and escaping and avoiding certain projectile spells defensively."
set MN4[i]="If your Geminate Attack is not working, make sure that you input an attack command ('A' or right-click) and are not simply auto-attacking."
set MO4[i]="Use Time Lapse after taking a lot of recent damage to heal yourself, allowing you to pull off some dangerous moves like diving into towers."
set i=i+1
set K34[80]=1315334514
set MI4[80]=1747990067
set K64[80]=1848656462
set MH4[80]="ReplaceableTextures\\CommandButtons\\BTNShade.blp"
call L07(K34[80],"stand channel")
call L37(K34[80],1.15,MI4[80])
call CU7(K34[80],0,0,0)
set MJ4[i]="Necromastery is important because of its massive damage gain and because your ultimate deals damage based on the number of souls."
set MK4[i]="Shadow Raze gives you three powerful nuke spells that should be maxed out first. Gauge the distance correctly and hit multiple times."
set MM4[i]="Requiem of Souls deals more damage the closer you are: Placement items like Lothar's Edge and Kelen's Dagger can help you land it."
set MN4[i]="After maxing your other two spells, Presence of the Dark Lord will be useful by then, good for pushing and dealing more physical damage."
set MO4[i]="If you die, remember to fill up on souls again before major fights when you respawn or you will be much less effective in battles."
set i=i+1
set K34[81]=1429221451
set MI4[81]=1747990068
set K64[81]=1848656692
set MH4[81]="ReplaceableTextures\\CommandButtons\\BTNArachnathidGreen.blp"
call L07(K34[81],"attack 3")
call L37(K34[81],1,MI4[81])
set MJ4[i]="Burrowstrike is both versatile and powerful: It deals damage, stuns and provides you with a useful escape or chasing mechanism."
set MK4[i]="Using Sandstorm at the right time will dodge certain projectile spells and can protect you temporarily if it is necessary."
set MM4[i]="Getting Kelen's Dagger will give him increased mobility and reach, and also the ability to Blink into battle right after channeling Epicenter."
set MN4[i]="While you cannot move while Epicenter is channeling, once the pulses begin you can freely move around (mostly to chase your opponent)."
set MO4[i]="Caustic Finale might be an orb effect but it is extremely useful for killing multiple units quickly for fighting neutrals, pushing and defending."
set i=i+1
set K34[82]=1332766568
set MI4[82]=1747990069
set K64[82]=1848656461
set MH4[82]="ReplaceableTextures\\CommandButtons\\BTNChaosGrom.blp"
call L07(K34[82],"stand victory")
call L37(K34[82],1,MI4[82])
set MJ4[i]="Counter Helix gives Axe the flexibility to both lane and jungle. A Stout Shield will help reduce the damage from taking attacks in order to activate Helix."
set MK4[i]="A Vanguard or a Hood of Defiance offers survivability and regeneration, which are usually more useful to Axe than increasing his attack speed or damage."
set MM4[i]="Berserker's Call is used to initiate fights and draw focus fire. Using it when there are more enemy units increases the chance of activating Counter Helix."
set MN4[i]="Monitor your opponent's HP for the perfect Culling Blade opportunity to finish them off. However, if your enemy has too much HP, it will hardly do anything."
set MO4[i]="Kelen's Dagger and/or Phase Boots can help you enter the fight first and get close enough for a Berserker's Call."
set i=i+1
set K34[83]=1215722344
set MI4[83]=1747990070
set K64[83]=1848656474
set MH4[83]="ReplaceableTextures\\CommandButtons\\BTNShaman.blp"
call L07(K34[83],"stand victory")
call L37(K34[83],1.25,MI4[83])
call CU7(K34[83],250,150,150)
set MJ4[i]="Getting Blood Bath will allow you to take a few hits as you are killing creeps because you will recover your health immediately afterwards."
set MK4[i]="An early level of Bloodrage can be useful for silencing enemies temporarily and for dealing a little bit of damage."
set MM4[i]="Phase Boots and HP can be just as useful as damage items because they increase his survivability for chasing enemies and other longer battles."
set MN4[i]="Use Rupture when your enemy has to either run away or to prevent them from moving, such as when an ally is about to use a powerful spell."
set MO4[i]="Both allies and enemies gain the massive damage increase and are silenced from Bloodrage, which can be disastrous if used incorrectly."
set i=i+1
set K34[84]=1432642913
set MI4[84]=1747990071
set K64[84]=1848656460
set MH4[84]="ReplaceableTextures\\CommandButtons\\BTNHeroDeathKnight.blp"
call L07(K34[84],"stand ready")
call L37(K34[84],1,MI4[84])
set MJ4[i]="Abbadon's spells can save allies while dealing damage, so support and regeneration items like Vladmir's Offering can be more useful than damage items."
set MK4[i]="Death Coil can be used both as a nuke and a heal, just remember that it deals damage to you unless you are using Aphotic Shield or Borrowed Time."
set MM4[i]="Aphotic Shield prevents damage but can also be used to remove certain debuffs, such as removing the stun duration effect on an ally."
set MN4[i]="Frostmourne is usually gotten later but it is very useful for chasing and helping your allies outrun your opponents."
set MO4[i]="Borrowed Time can be cast manually as well. If you know you are going to receive a lot of damage sometimes it can be wiser to use it then."
set i=i+1
set K34[85]=1160786242
set MI4[85]=1747990072
set K64[85]=1848656441
set MH4[85]="ReplaceableTextures\\CommandButtons\\BTNvengeanceincarnate.blp"
call L07(K34[85],"stand ready")
call L37(K34[85],0.8,MI4[85])
set MJ4[i]="Spectral Dagger is your utility spell. You can use it for chasing people down, scouting dangerous areas and escaping. "
set MK4[i]="You also walk through units, trees, even cliffs while you are walking on Spectral Dagger's black path, making it very handy when used properly."
set MM4[i]="Desolate is great for dealing target to isolated targets but Dispersion helps you to survive in the lane: Chose whatever combination suits you best."
set MN4[i]="Haunt lets you jump into a fight directly from anywhere in the map; just make sure that you pay attention to the actions of your team."
set MO4[i]="Getting HP will allow you to withstand and dish out more Dispersion damage, which is extremely powerful in team fights."
set i=i+1
set K34[86]=1160786241
set MI4[86]=1747990073
set K64[86]=1848656459
set MH4[86]="ReplaceableTextures\\CommandButtons\\BTNWitchDoctor.blp"
call L07(K34[86],"stand victory")
call L37(K34[86],1.25,MI4[86])
set MJ4[i]="Paralyzing Cask is your initiating spell for your other skills and can effectively keep two nearby units stun-locked at higher levels."
set MK4[i]="Maledict drastically reduces the damage needed to kill opponents and is an important spell to land in every fight."
set MM4[i]="An early level of Voodoo Restoration can provide a relatively cheap heal if you are forced to play defensively."
set MN4[i]="Damaging your opponent immediately after using Maledict is wise because it will deal more bonus damage overall at the 3 ticks."
set MO4[i]="Death Ward is a powerful channeling spell if not interrupted. A Black King Bar will help to prevent enemies from disabling you."
set i=i+1
set K34[87]=1429221456
set MI4[87]=1747990081
set K64[87]=1848656449
set MH4[87]="ReplaceableTextures\\CommandButtons\\BTNDestroyer.blp"
call L07(K34[87],"stand alternate 2")
call L37(K34[87],0.85,MI4[87])
set MJ4[i]="Getting Intelligence and mana items is extremely important for Harbringer as the power of Arcane Orb and Sanity's Eclipse rely on this."
set MK4[i]="Use Astral Imprisonment to control your opponents' mana, for escaping/chasing, or on yourself and allies to avoid spells."
set MM4[i]="Cast Arcane Orb manually early on because you will have a greater chance of activating Essence Aura to use it endlessly."
set MN4[i]="Guinsoo's Scythe of Vyse is a great choice because it offers Intelligence, balanced stats and provides Harbringer with a powerful disable."
set MO4[i]="Use Sanity's Eclipse early in fights so that you drain casters with high Intelligence of their mana and cripple their ability to cast spells."
set i=i+1
set K34[88]=1160786243
set MI4[88]=1747990083
set K64[88]=1848656450
set MH4[88]="ReplaceableTextures\\CommandButtons\\BTNGuldan.blp"
call L07(K34[88],"spell")
call L37(K34[88],1.5,MI4[88])
set MJ4[i]="Shadow Word is either a heal or damage over time, definitely the most powerful early game spell to have."
set MK4[i]="The affordable Mekansm is a good support item for Warlock, who is not a hero who is reliant on gold and items to be effective."
set MM4[i]="Rain of Chaos creates a powerful Infernal that can take on heroes and is also great for killing creeps and pushing buildings."
set MN4[i]="Fatal Bonds can deal huge damage if you and your teammates have other area of effect (AoE) spells that would hurt multiple linked units."
set MO4[i]="The stun when using Rain of Chaos along with its huge casting range (1200) is great for interrupting spells and initiating battles."
set i=i+1
set K34[89]=1211117641
set MI4[89]=1747990084
set K64[89]=1848656458
set MH4[89]="ReplaceableTextures\\CommandButtons\\BTNKoboldGeomancer.blp"
call L07(K34[89],"spell")
call L37(K34[89],1.4,MI4[89])
call L37(1211117642,1.4,MI4[89])
set MJ4[i]="Vladmir's Offering and/or Mekansm provides valuable auras and useful heals that can help support your team and keep your Meepos alive."
set MK4[i]="Poof is both a teleport and damage spell and is great against neutrals. Poof to yourself to deal double the damage (from departure and arrival).Poof is both a teleport and damage spell and is great against neutrals. Poof to yourself to deal double the damage (from departure and arrival)."
set MM4[i]="Geomancer is an advanced hero: Be sure to monitor their individual health because if one dies, they all will."
set MN4[i]="Strength Power Treads are suggested since clones will receive all of the Strength from footwear along with a 2.5 bonus (12.5 total)."
set MO4[i]="Time Earthbind with each of your clones. With 4 Meepos and Level 4 Earthbind, you can almost permanently immobilize them."
set i=i+1
set K34[90]=1311781207
set MI4[90]=1747990085
set K64[90]=1848656457
set MH4[90]="ReplaceableTextures\\CommandButtons\\BTNDarkTrollShadowPriest.blp"
call L07(K34[90],"spell")
call L37(K34[90],1.2,MI4[90])
set MJ4[i]="An early level of both Shadow Wave and Shallow Grave provides a lot of support before getting Poison Touch to level 3 for its added stun."
set MK4[i]="Try to use Shadow Wave to heal and damage opponents at the same time. Surround an enemy with multiple allied units for more damage."
set MM4[i]="In addition to slowing and damaging opponents, Poison Touch will allow you to interrupt channeling spells and teleports"
set MN4[i]="Dazzle generally does not need many items and can sometimes focus on increasing his spell use with regeneration and support items like Mekansm."
set MO4[i]="Weave is a powerful spell, try to hit both allies and enemies with it, and it can also be used to provide vision before major battles occur."
set i=i+1
set K34[91]=1311780946
set MI4[91]=1747990086
set K64[91]=1848656451
set MH4[91]="ReplaceableTextures\\CommandButtons\\BTNPitLord.blp"
call L07(K34[91],"stand channel")
call L37(K34[91],0.95,MI4[91])
set MJ4[i]="Firestorm will be your main ability for killing creeps but it can deal a lot of damage to heroes if you combine it with disables or slows."
set MK4[i]="The Pit of Malice is a useful disable that lasts for 10 seconds so it will both ensnare opponents and deter opponents from entering the circle."
set MM4[i]="Expulsion is usually used after some creeps have died so the spell lasts longer and will deal damage and mini-stun enemies."
set MN4[i]="Pit Lord is played more as a caster, increase his team presence and spell use by obtaining expensive Intelligence items like Shiva's Guard."
set MO4[i]="Dark Rift is a great spell for transporting multiple allies to surprise opponents, and more importantly to defend and attack the base."
set i=i+1
set K34[92]=1211117650
set MI4[92]=1747990087
set K64[92]=1848656456
set MH4[92]="ReplaceableTextures\\CommandButtons\\BTNZombie.blp"
call L07(K34[92],"stand")
call L37(K34[92],2,MI4[92])
call L37(1211119433,1.3,MI4[92])
set MJ4[i]="Decay is used to deal damage and make opponents more vulnerable, while increasing the survivability of Dirge temporarily."
set MK4[i]="Make sure Dirge is a presence who can cast his spells in fights by buying regeneration items like Vladmir's Offering and Void Stone."
set MM4[i]="Soul Rip is a powerful heal or nuke but remember that it will have almost no effect without nearby units. Cast it in crowds."
set MN4[i]="Use Tombstone when engaging the enemy because the zombies have a slowing capability and may also help block your opponents."
set MO4[i]="Tombstone Zombies become extremely powerful when your opponents have low health and attack and move much faster."
set i=i+1
set K34[93]=1211117646
set MI4[93]=1747990088
set K64[93]=1848656455
set MH4[93]="ReplaceableTextures\\CommandButtons\\BTNDranaiMage.blp"
call L07(K34[93],"spell")
call L37(K34[93],1.15,MI4[93])
set MJ4[i]="Ion shell is great for killing creeps and dealing damage to heroes, but it will not damage an enemy target if you cast it on them directly."
set MK4[i]="A level of Surge early game can help you and allies escape and chase enemies, and works nicely to help you close in on opponents with Ion Shell."
set MM4[i]="Vacuum is an extremely powerful skill that can be used for initiating and combining with other spells. It can also interrupt channeling and teleport spells."
set MN4[i]="Make sure they are standing closer to the edge of your targeting circle when casting Vacuum to pull your opponents further."
set MO4[i]="Use Wall of Replica where multiple heroes will touch it; try using it with Vacuum. Get your allies to run through the wall too."
set i=i+1
set K34[94]=1211117653
set MI4[94]=1747990082
set K64[94]=1848656454
set MH4[94]="ReplaceableTextures\\CommandButtons\\BTNHeroBloodElfPrince.blp"
call L07(K34[94],"spell")
call L37(K34[94],1.25,MI4[94])
set MJ4[i]="Having at least one level in Quas, Wex and Exort will give you a larger repertoire of spells. Type -invokelist to obtain a full list of combinations."
set MK4[i]="Ghost Walk (QQW) can be used to get yourself out of a tight situation, and also for slowing opponents so that your allies can chase/escape."
set MM4[i]="Sunstrike (EEE) is a global-ranged nuke that deals damage based on the level of Exort. When using it, you have to factor in the 1.7 casting time."
set MN4[i]="Forge Spirit (EEQ) and Cold Snap (QQQ) can be effective for pushing towers and against heroes with low armor. "
set MO4[i]="EMP (WWW) and Tornado (WWQ) can completely drain off heroes with low mana pools and have a impressive casting range."
set i=i+1
set K34[95]=1433105516
set MI4[95]=1747989572
set K64[95]=1848656182
set MH4[95]="ReplaceableTextures\\CommandButtons\\BTNSpell_Shadow_SummonVoidWalker.blp"
call L07(K34[95],"stand")
call L37(K34[95],1.5,MI4[95])
set MJ4[i]="Conversion allows Enigma to neutral creep effectively. Target the highest level creep possible and move your low HP Eidolons out of the way to save them."
set MK4[i]="In the lane, Conversion can be used on allied creeps to deny your opponents of experience and gold, and for making sure you last hit enemy creeps."
set MM4[i]="The multiple stuns on higher levels of Malefice make it useful for preventing an opponent from channeling spells or help you chase/escape them."
set MN4[i]="Use Midnight Pulse in conjunction with Black Hole to deal massive damage to enemies. Just make sure that you cast it before Black Hole."
set MO4[i]="Kelen's Dagger is great for Black Hole placement, and a Black King Bar will prevent most spells from stopping the channeling effect of the spell."
set i=i+1
set K34[96]=1328558390
set MI4[96]=1747990354
set K64[96]=1848657721
set MH4[96]="ReplaceableTextures\\CommandButtons\\BTNTrollBatRider.blp"
call L07(K34[96],"stand")
call L37(K34[96],1.2,MI4[96])
call L37(1328558391,1.2,MI4[96])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[97]=1311787088
set MI4[97]=1747993136
set K64[97]=1848658002
set MH4[97]="ReplaceableTextures\\CommandButtons\\BTNIcyGhost.blp"
call L07(K34[97],"stand")
call L37(K34[97],1.17,MI4[97])
call L37(1311787088,1.2,MI4[97])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[98]=1211119409
set MI4[98]=1747990322
set K64[98]=1848657222
set MH4[98]="ReplaceableTextures\\CommandButtons\\BTNMurgulShadowCaster.blp"
call L07(K34[98],"stand 3")
call L37(K34[98],1.25,MI4[98])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[99]=1164277353
set MI4[99]=1747989814
set K64[99]=1848656214
set MH4[99]="ReplaceableTextures\\CommandButtons\\BTNEvilIllidan.blp"
call L07(K34[99],"spell channel")
call L37(K34[99],1,MI4[99])
call L37(1164277357,1,MI4[99])
call L37(1160786518,1,MI4[99])
call L37(1160786519,1,MI4[99])
call L37(1160786517,1,MI4[99])
set MJ4[i]="Get Soul Steal if you need healing in the lane."
set MK4[i]="Purchase statistic-increasing items like Wraith Bands and later items like Sange and Yasha to benefit both Terrorblade and his images."
set MM4[i]="It might be difficult to escape due to the trail you leave behind when walking, you may have to use an image to act as a block or decoy."
set MN4[i]="Sunder can turn fights around when you have low health but be careful of disables and high damage spells when trying to swap."
set MO4[i]="Creating ranged images in Metamorphosis will allow you to deal damage safely in fights as well as push down buildings very quickly."
set i=i+1
set K34[100]=1164666213
set MI4[100]=1747989817
set K64[100]=1848656215
set MH4[100]="ReplaceableTextures\\CommandButtons\\BTNKeeperGhostBlue.blp"
call L07(K34[100],"stand victory")
call L37(K34[100],1,MI4[100])
set MJ4[i]="Split Earth is a very useful disable while Lightning Storm is taken because of its low cooldown. Both are powerful spells that hit multiple targets."
set MK4[i]="By using Lightning Storm to finish low-health creeps with nearby opponents, you can get gold and harass enemy heroes at the same time."
set MM4[i]="Diabolic Edict is one of the most powerful spells for destroying buildings. Eliminate the creeps first so that you only have one target."
set MN4[i]="Turn off Pulse Nova when you have finished using it because the spell will continue until you have exhausted your entire mana pool."
set MO4[i]="Items like Bloodstone or Aghanim's Scepter will allow Leshrac to use his spells more liberally and survive in the midst of battle."
set i=i+1
set K34[101]=1160786504
set MI4[101]=1747993410
set K64[101]=1848658764
set MH4[101]="ReplaceableTextures\\CommandButtons\\BTNArchimonde.blp"
call L07(K34[101],"stand 3")
call L37(K34[101],1.25,MI4[101])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[102]=1433168227
set MI4[102]=1747989825
set K64[102]=1848656216
set MH4[102]="ReplaceableTextures\\CommandButtons\\BTNLichVersion2.blp"
call L07(K34[102],"stand channel")
call L37(K34[102],1.3,MI4[51])
set MJ4[i]="Dark Ritual is useful for denying allied creeps and provides you with mana to use spells without buying regeneration items."
set MK4[i]="Frost Nova is a very powerful spell that allows you to be aggressive. Attack the enemy a few extra times while they are slowed."
set MM4[i]="Chain Frost is most effective when used against 2-3 nearby targets (ideally heroes), but will not bounce when used on a lone unit."
set MN4[i]="Frost Armor should be cast on multiple teammates when you have the mana for it later on; it works nicely against melee units."
set MO4[i]="The first target of your Chain Frost can interrupt channeling and teleport spells if absolutely necessary."
set i=i+1
set K34[103]=1430468406
set MI4[103]=1747989826
set K64[103]=1848656217
set MH4[103]="ReplaceableTextures\\CommandButtons\\BTNBanshee.blp"
call L07(K34[103],"spell wail")
call L37(K34[103],1.35,MI4[103])
set MJ4[i]="Carrion Swarm is your primary nuke and first skill to max. Make use of its range by casting it on the ground instead of on a unit directly."
set MK4[i]="An early level of Silence can help prevent you and your allies from being attacked by multiple spells."
set MM4[i]="The ghosts of Exorcism will attack whatever you attack, so if you want to direct all attention to a single unit simply focus them and stay nearby."
set MN4[i]="Exorcism also makes Krobelus extremely effective for quickly destroying enemy buildings, so be sure to push the enemy base when you can"
set MO4[i]="The effect of Exorcism stops if you die in combat: Invest in items that improve your survivability, such as a Bloodstone or a Heart of Tarrasque."
set i=i+1
set K34[104]=1430466872
set MI4[104]=1747989827
set K64[104]=1848656218
set MH4[104]="ReplaceableTextures\\CommandButtons\\BTNLion.BLP"
call L07(K34[104],"spell callstorm")
call L37(K34[104],1.3,MI4[104])
call CU7(K34[104],50,100,255)
set MJ4[i]="With plenty of damage and disables, Lion is quite a force to be reckoned with cheap utility items such as Bottle and Phase Boots."
set MK4[i]="Impale gives Lion the ability to disable multiple targets and deals decent damage, so it is definitely the most versatile of his three skills for the early game."
set MM4[i]="Mana Drain only works on units with mana: Using Mana Drain on enemy heroes will reduce their spell use while replenishing mana."
set MN4[i]="Avoid wasting Finger of Death on low-health enemy heroes when a few extra attacks or using another spell like Impale will deal enough damage."
set MO4[i]="Wait until the duration of your first disable wears off before using another one for maximum disable time when using Impale and Voodoo."
set i=i+1
set K34[105]=1162032439
set MI4[105]=1747989828
set K64[105]=1848656432
set MH4[105]="ReplaceableTextures\\CommandButtons\\BTNHydralisk.blp"
call L07(K34[105],"attack")
call L37(K34[105],1.0,MI4[105])
call CU7(K34[105],150,200,255)
set MJ4[i]="Venomous Gale is a spell that hits multiple opponents and slows them, making it very useful for getting early kills."
set MK4[i]="At least one level of Poison Sting is recommended early game for its slow effect."
set MM4[i]="Bottle and Magic Stick will help deal with his low HP/mana, while Phase Boots are a cheap way to improve his chasing capabilities."
set MN4[i]="Wards are very useful for pushing a lane and killing neutral and enemy creeps, but you can also use it to provide vision."
set MO4[i]="Poison Nova deals a lot of damage but you have to combine it with other spells and attacks because it does not deal fatal damage (stops at 1 HP)."
set i=i+1
set K34[106]=1430466865
set MI4[106]=1747989829
set K64[106]=1848656178
set MH4[106]="ReplaceableTextures\\CommandButtons\\BTNBlueMagnataur.tga"
call L07(K34[106],"stand channel")
call L37(K34[106],1,MI4[106])
call CU7(K34[106],150,150,100)
set MJ4[i]="Bottle and Perseverance help with early regeneration,. while purchasing Kelen's Dagger later will help you to land Reverse Polarity."
set MK4[i]="A few Attribute Bonus points can help you cast more spells. Save Mighty Swing for later levels when you have more damage."
set MM4[i]="By targeting the ground where you want to fire Shockwave, you can hit both creeps and opponents and make use of its long range."
set MN4[i]="Magnus should cast Empower on himself and other allies with high damage before initiating team battles with his ultimate."
set MO4[i]="The cleave of Battlefury stacks directly with Mighty Swing, making it a good damage item especially if you already have a Perseverance."
set i=i+1
set K34[107]=1430468144
set MI4[107]=1747989830
set K64[107]=1848656433
set MH4[107]="ReplaceableTextures\\CommandButtons\\BTNSpiritWyvern.blp"
call L07(K34[107],"stand victory")
call L37(K34[107],1,MI4[107])
call CU7(K34[107],150,150,150)
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[108]=1429221441
set MI4[108]=1747989831
set K64[108]=1848656434
set MH4[108]="ReplaceableTextures\\CommandButtons\\BTNChaosWarlord.blp"
call L07(K34[108],"stand victory")
call L37(K34[108],1.05,MI4[108])
set MJ4[i]="Chaos Bolt and Blink Strike are active abilities that are more useful in the lane and for killing opponents than Critical Strike."
set MK4[i]="Chaos Bolt is a disable that switches between average and extremely powerful, the sooner you have max out this spell, the better."
set MM4[i]="His high natural movement speed (325 - the highest in the game) and Blink Strike make him very difficult for opponents to outrun or chase him."
set MN4[i]="If you Blink Strike and then use Chaos Bolt, you can spend more time hitting opponents and less time waiting for his slow casting animation. "
set MO4[i]="Make Nessaj and Phantasm stronger by buying Strength items like Armlet of Mordiggan (when activated) and Heart of Tarrasque."
set i=i+1
set K34[109]=1311788343
set MI4[109]=1747993687
set K64[109]=1848659256
set MH4[109]="ReplaceableTextures\\CommandButtons\\BTNFrostWyrm.blp"
call L07(K34[109],"stand victory")
call L37(K34[109],0.9,MI4[109])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[110]=1311788363
set MI4[110]=1747993926
set K64[110]=1848659276
set MH4[110]="ReplaceableTextures\\CommandButtons\\BTNGnollWarden.blp"
call L07(K34[110],"stand victory")
call L37(K34[110],1.1,MI4[110])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K54=110
set K34[500]=1211445296
set MH4[500]="ReplaceableTextures\\CommandButtons\\BTNWispHero.blp"
call L07(K34[500],"stand")
call L37(K34[500],1.5,0)
set MJ4[500]=""
set MK4[500]=""
set MM4[500]=""
set MN4[500]=""
set MO4[500]=""
set K34[600]=1211510832
set MH4[600]="ReplaceableTextures\\CommandButtons\\BTNSeaTurtleRed.blp"
call L07(K34[600],"stand")
call L37(K34[600],0.8,0)
set MJ4[600]=""
set MK4[600]=""
set MM4[600]=""
set MN4[600]=""
set MO4[600]=""
set K24[1]=1315074670
set K24[2]=1164207469
set K24[3]=1311781174
set K24[4]=1315070563
set K24[5]=1315007329
set K24[6]=1328558160
set K24[7]=1433631084
set K24[8]=1160785973
set K24[9]=1311781199
set K24[10]=1212365106
set K24[11]=1215723364
set K24[12]=1212363833
set K24[13]=1215657064
set K24[14]=1332179560
set K24[15]=1429221430
set K24[16]=1162032439
set K24[17]=1164277353
set K24[18]=1432510828
set K24[19]=1160785972
set K24[20]=1162032951
set K24[21]=1215722344
set K24[22]=1315334514
set K24[23]=1160785970
set K24[24]=1162032181
set K24[25]=1165451634
set K24[26]=1429221424
set K24[27]=1211117654
set K24[28]=1160786242
set K24[29]=1311781206
set K24[30]=1211117641
set K24[31]=1160786265
set K24[32]=1211119409
set K24[33]=1160786510
set K24[34]=1311788336
set K24[35]=1311788363
set K_4=35
set M44[1]=1315988077
set M44[2]=1215063922
set M44[3]=1214345830
set M44[4]=1211117616
set M44[5]=1211117617
set M44[6]=1214344551
set M44[7]=1211117624
set M44[8]=1432580716
set M44[9]=1333027688
set M44[10]=1313026096
set M44[11]=1432646245
set M44[12]=1430466865
set M44[13]=1332109682
set M44[14]=1429221446
set M44[15]=1429221451
set M44[16]=1328558154
set M44[17]=1432642913
set M44[18]=1332766568
set M44[19]=1429221441
set M44[20]=1429221443
set M44[21]=1430468913
set M44[22]=1430467634
set M44[23]=1429221432
set M44[24]=1211117636
set M44[25]=1311781193
set M44[26]=1211117649
set M44[27]=1311780946
set M44[28]=1211117652
set M44[29]=1211119187
set M44[30]=1211117650
set M44[31]=1328558389
set M44[32]=1160786505
set M44[33]=1160786502
set M44[34]=1328558406
set M44[35]=1160786738
set M44[36]=1160786507
set M74=36
set M84[1]=1332898670
set M84[2]=1164799855
set M84[3]=1164799603
set M84[4]=1211117620
set M84[5]=1214931305
set M84[6]=1433105516
set M84[7]=1215128178
set M84[8]=1211117643
set M84[9]=1316252014
set M84[10]=1215130471
set M84[11]=1214409837
set M84[12]=1311781185
set M84[13]=1211117633
set M84[14]=1433168227
set M84[15]=1164666213
set M84[16]=1430468406
set M84[17]=1430466872
set M84[18]=1430466609
set M84[19]=1430468144
set M84[20]=1211117640
set M84[21]=1332963428
set M84[22]=1429221445
set M84[23]=1160786241
set M84[24]=1429221456
set M84[25]=1160786000
set M84[26]=1160786243
set M84[27]=1311781207
set M84[28]=1211117646
set M84[29]=1311786311
set M84[30]=1211117651
set M84[31]=1311780930
set M84[32]=1211117653
set M84[33]=1328558390
set M84[34]=1311787088
set M84[35]=1160786504
set M84[36]=1160786506
set M84[37]=1160786520
set M84[38]=1211122767
set M84[39]=1311788343
set M94=39
set MD4[1]=1332898670
set MD4[2]=1164799855
set MD4[3]=1164799603
set MD4[4]=1211117620
set MD4[5]=1214931305
set MD4[6]=1433105516
set MD4[7]=1215128178
set MD4[8]=1211117643
set MD4[9]=1316252014
set MD4[10]=1315074670
set MD4[11]=1214409837
set MD4[12]=1311781185
set MD4[13]=1211117633
set MD4[14]=1433168227
set MD4[15]=1164666213
set MD4[16]=1430468406
set MD4[17]=1430466872
set MD4[18]=1430466609
set MD4[19]=1430468144
set MD4[20]=1211117640
set MD4[21]=1332963428
set MD4[22]=1429221445
set MD4[23]=1160786241
set MD4[24]=1429221456
set MD4[25]=1160786000
set MD4[26]=1160786243
set MD4[27]=1311781207
set MD4[28]=1311786311
set MD4[29]=1211117651
set MD4[30]=1311780930
set MD4[31]=1211117653
set MD4[32]=1311781174
set MD4[33]=1328558160
set MD4[34]=1433631084
set MD4[35]=1160785973
set MD4[36]=1311781199
set MD4[37]=1160786265
set MD4[38]=1215723364
set MD4[39]=1162032439
set MD4[40]=1432510828
set MD4[41]=1160785972
set MD4[42]=1162032951
set MD4[43]=1315334514
set MD4[44]=1160785970
set MD4[45]=1211117654
set MD4[46]=1311781206
set MD4[47]=1211117649
set MD4[48]=1328558390
set MD4[49]=1311787088
set MD4[50]=1328558406
set MD4[51]=1160786504
set MD4[52]=1160786510
set MD4[53]=1160786506
set MD4[54]=1160786502
set MD4[55]=1160786520
set MD4[56]=1211122767
set MD4[57]=1311788363
set MD4[58]=1311788343
set ME4=58
set MF4[1]=1215130471
set MF4[2]=1211117646
set MF4[3]=1164207469
set MF4[4]=1315070563
set MF4[5]=1315007329
set MF4[6]=1212363833
set MF4[7]=1215657064
set MF4[8]=1332179560
set MF4[9]=1429221430
set MF4[10]=1164277353
set MF4[11]=1215722344
set MF4[12]=1162032181
set MF4[13]=1165451634
set MF4[14]=1429221424
set MF4[15]=1160786242
set MF4[16]=1211117641
set MF4[17]=1212365106
set MF4[18]=1315988077
set MF4[19]=1215063922
set MF4[20]=1214345830
set MF4[21]=1211117616
set MF4[22]=1211117617
set MF4[23]=1214344551
set MF4[24]=1211117624
set MF4[25]=1432580716
set MF4[26]=1333027688
set MF4[27]=1313026096
set MF4[28]=1432646245
set MF4[29]=1430466865
set MF4[30]=1332109682
set MF4[31]=1429221446
set MF4[32]=1429221451
set MF4[33]=1328558154
set MF4[34]=1432642913
set MF4[35]=1332766568
set MF4[36]=1429221441
set MF4[37]=1429221443
set MF4[38]=1430468913
set MF4[39]=1430467634
set MF4[40]=1429221432
set MF4[41]=1211117636
set MF4[42]=1311781193
set MF4[43]=1311780946
set MF4[44]=1211117652
set MF4[45]=1211119187
set MF4[46]=1211117650
set MF4[47]=1328558389
set MF4[48]=1211119409
set MF4[49]=1160786505
set MF4[50]=1311788336
set MF4[51]=1160786738
set MF4[52]=1160786507
set MG4=52
call A07()
endfunction
function TavernFogFix takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
call DestroyFogModifier(CreateFogModifierRadius(Z7[0],FOG_OF_WAR_MASKED,GetUnitX(MR4),GetUnitY(MR4),900,false,false))
call DestroyFogModifier(CreateFogModifierRadius(A7[0],FOG_OF_WAR_MASKED,GetUnitX(MP4),GetUnitY(MP4),900,false,false))
call U37(t)
set t=null
return false
endfunction
function J78 takes item Z4 returns string
if Z4==null then
return"UI\\Widgets\\Console\\Undead\\undead-inventory-slotfiller.blp"
endif
return CU[RB7(Z4)]
endfunction
function J88 takes nothing returns nothing
local unit a=CreateUnit(Player(0),1747990348,-6100,-5800,0)
local unit b=CreateUnit(Player(0),1747990348,-6100,-5800,0)
local item i=CreateItem(1227900749,0,0)
call UnitAddItem(a,i)
if UnitUseItem(a,i)then
else
endif
call UnitRemoveItem(a,i)
call UnitAddItem(b,i)
if UnitUseItem(b,i)then
set M34=true
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,10,(GetObjectName((1848657993))))
else
set M34=false
endif
call ShowUnit(a,false)
call KillUnit(a)
call ShowUnit(b,false)
call KillUnit(b)
call RemoveItem(i)
set i=null
set b=null
set a=null
endfunction
function J98 takes integer id returns boolean
return id==1211117642 or id==1311788365
endfunction
function JD8 takes integer id returns boolean
local integer i=0
loop
exitwhen i>H57
if H07[i]==id then
return true
endif
set i=i+1
endloop
return false
endfunction
function JE8 takes nothing returns nothing
set H57=H57+1
set H07[H57]=1093753431
set H57=H57+1
set H07[H57]=1093681718
set H57=H57+1
set H07[H57]=1093684023
set H57=H57+1
set H07[H57]=1093686327
set H57=H57+1
set H07[H57]=1093686328
set H57=H57+1
set H07[H57]=1093742918
set H57=H57+1
set H07[H57]=1093742920
set H57=H57+1
set H07[H57]=1093742919
set H57=H57+1
set H07[H57]=1093742916
set H57=H57+1
set H07[H57]=1093686067
set H57=H57+1
set H07[H57]=1093742917
set H57=H57+1
set H07[H57]=1093743959
set H57=H57+1
set H07[H57]=1093814353
set H57=H57+1
set H07[H57]=1093808945
set H57=H57+1
set H07[H57]=1093814351
set H57=H57+1
set H07[H57]=1093677647
set H57=H57+1
set H07[H57]=1093679193
set H57=H57+1
set H07[H57]=1093679194
set H57=H57+1
set H07[H57]=1093679408
set H57=H57+1
set H07[H57]=1093679410
set H57=H57+1
set H07[H57]=1095331943
set H57=H57+1
set H07[H57]=1095332962
set H57=H57+1
set H07[H57]=1093683254
set H57=H57+1
set H07[H57]=1093751108
set H57=H57+1
set H07[H57]=1093751863
set H57=H57+1
set H07[H57]=1093744973
set H57=H57+1
set H07[H57]=1093747011
set H57=H57+1
set H07[H57]=1094936696
set H57=H57+1
set H07[H57]=1093810265
set H57=H57+1
set H07[H57]=1095328363
set H57=H57+1
set H07[H57]=1093748055
set H57=H57+1
set H07[H57]=1093677367
set H57=H57+1
set H07[H57]=1093683801
set H57=H57+1
set H07[H57]=1093682767
set H57=H57+1
set H07[H57]=1093683255
set H57=H57+1
set H07[H57]=1093681720
set H57=H57+1
set H07[H57]=1093752645
set H57=H57+1
set H07[H57]=1095333995
set H57=H57+1
set H07[H57]=1093753417
set H57=H57+1
set H07[H57]=1093681995
set H57=H57+1
set H07[H57]=1093683788
set H57=H57+1
set H07[H57]=1093748303
set H57=H57+1
set H07[H57]=1095328865
set H57=H57+1
set H07[H57]=1093683266
set H57=H57+1
set H07[H57]=1093682227
set H57=H57+1
set H07[H57]=1093682246
set H57=H57+1
set H07[H57]=1093682756
set H57=H57+1
set H07[H57]=1093743191
set H57=H57+1
set H07[H57]=1093743681
set H57=H57+1
set H07[H57]=1093748292
set H57=H57+1
set H07[H57]=1093749071
set H57=H57+1
set H07[H57]=1093677655
set H57=H57+1
set H07[H57]=1093809721
set H57=H57+1
set H07[H57]=1093815111
set H57=H57+1
set H07[H57]=1093748304
set H57=H57+1
set H07[H57]=1093686329
set H57=H57+1
set H07[H57]=1093751096
set H57=H57+1
set H07[H57]=1093750095
set H57=H57+1
set H07[H57]=1093810244
set H57=H57+1
set H07[H57]=1097163124
set H57=H57+1
set H07[H57]=1093684016
set H57=H57+1
set H07[H57]=1095331948
set H57=H57+1
set H07[H57]=1093683796
set H57=H57+1
set H07[H57]=1095331954
set H57=H57+1
set H07[H57]=1093677656
set H57=H57+1
set H07[H57]=1093751349
set H57=H57+1
set H07[H57]=1095332727
set H57=H57+1
set H07[H57]=1093808182
set H57=H57+1
set H07[H57]=1093753416
set H57=H57+1
set H07[H57]=1093813569
set H57=H57+1
set H07[H57]=1093815092
set H57=H57+1
set H07[H57]=1093815095
set H57=H57+1
set H07[H57]=1093815089
endfunction
function JF8 takes integer id returns boolean
return id==1093808454 or id==1093808455 or id==1093808456 or id==1093751609 or id==1093809217 or id==1093809218 or id==1093678667 or id==1093752391 or id==1093810257 or id==1093752646 or id==1093686328 or id==1093686327 or id==1093808206 or id==1093753394 or id==1093753395 or id==1093808181 or id==1093743681 or id==1093809721 or id==1093815111 or id==1093815881 or id==1093810008 or id==1093810265 or id==1093809221 or id==1093753416 or id==1093752655 or id==1093748305 or id==1093686341 or id==1093814863 or id==1093813848 or id==1093684560 or id==1093815109 or id==1093815112 or id==1093815097 or id==1093814860 or id==1093815857 or id==1093815618 or id==1093677625 or id==1093816121
endfunction
function JG8 takes nothing returns nothing
set MC4=MC4+1
set MB4[MC4]=1093683254
set MC4=MC4+1
set MB4[MC4]=1093677362
set MC4=MC4+1
set MB4[MC4]=1093678667
set MC4=MC4+1
set MB4[MC4]=1093683513
set MC4=MC4+1
set MB4[MC4]=1093683265
set MC4=MC4+1
set MB4[MC4]=1093684021
set MC4=MC4+1
set MB4[MC4]=1093685337
set MC4=MC4+1
set MB4[MC4]=1093748303
set MC4=MC4+1
set MB4[MC4]=1093685844
set MC4=MC4+1
set MB4[MC4]=1093686081
set MC4=MC4+1
set MB4[MC4]=1093686327
set MC4=MC4+1
set MB4[MC4]=1093686328
set MC4=MC4+1
set MB4[MC4]=1093743681
set MC4=MC4+1
set MB4[MC4]=1093681733
set MC4=MC4+1
set MB4[MC4]=1093808472
set MC4=MC4+1
set MB4[MC4]=1093808471
set MC4=MC4+1
set MB4[MC4]=1093808470
set MC4=MC4+1
set MB4[MC4]=1097754673
set MC4=MC4+1
set MB4[MC4]=1093750618
set MC4=MC4+1
set MB4[MC4]=1093743428
set MC4=MC4+1
set MB4[MC4]=1093677622
set MC4=MC4+1
set MB4[MC4]=1093751096
endfunction
function JH8 takes nothing returns nothing
set B8[1]=1095331188
set B8[2]=1095328865
set B8[3]=1095660653
set B8[4]=1094935400
set B8[5]=1095333995
set B8[6]=1093681995
set B8[7]=1093677367
set B8[8]=1093681720
set B8[9]=1093683266
set B8[10]=1093682227
set B8[11]=1093682246
set B8[12]=1093677655
set B8[13]=1095331954
set B8[14]=1095331948
set B8[15]=1093682767
set B8[16]=1093683255
set B8[17]=1093683254
set B8[18]=1093677656
set B8[19]=1095332727
set B8[20]=1093682008
set B8[21]=1093681718
set B8[22]=1097163124
set B8[23]=1093679180
set B8[24]=1095328633
set B8[25]=1093678426
set B8[26]=1095328363
set B8[27]=1093682265
set B8[28]=1093684314
set B8[29]=1093685065
set B8[30]=1093684056
set B8[31]=1093684055
set B8[32]=1093677622
set B8[33]=1093681972
set B8[34]=1093677362
set B8[35]=1093678667
set B8[36]=1093677652
set B8[37]=1095263841
set B8[38]=1093679446
set B8[39]=1093678425
set B8[40]=1093683513
set B8[41]=1093683265
set B8[42]=1093684021
set B8[43]=1093685337
set B8[44]=1093685582
set B8[45]=1093685844
set B8[46]=1093685840
set B8[47]=1093743191
set B8[48]=1093686081
set B8[49]=1093686327
set B8[50]=1093686328
set B8[51]=1093743681
set B8[52]=1093681733
set B8[53]=1093808472
set B8[54]=1093808471
set B8[55]=1093808470
set B8[56]=1093684560
set B8[57]=1093743428
set B8[58]=1093683801
set B8[59]=1093743959
set B8[60]=1093748303
set B8[61]=1093748292
set B8[62]=1093750618
set B8[63]=1093750095
set B8[64]=1093749071
set B8[65]=1093751096
set B8[66]=1093751361
set B8[67]=1093751126
set B8[68]=1093752645
set B8[69]=1093752642
set B8[70]=1093815111
set B8[71]=1093815859
set C8=71
endfunction
function JI8 takes nothing returns boolean
call JH8()
call JG8()
call JE8()
return false
endfunction
function JJ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.01,false)
call TriggerAddCondition(t,Condition(function JI8))
endfunction
function JK8 takes nothing returns nothing
call CreateQuestBJ(0,GetObjectName(1496395827),"TRIGSTR_49999","ReplaceableTextures\\CommandButtons\\BTNOrb of Water.blp")
call CreateQuestBJ(0,GetObjectName(1496395828),"TRIGSTR_49998","ReplaceableTextures\\CommandButtons\\BTNOrb of Water.blp")
call CreateQuestBJ(0,"TRIGSTR_50004","TRIGSTR_50005","ReplaceableTextures\\CommandButtons\\BTNSpy.blp")
call CreateQuestBJ(0,"TRIGSTR_50006","TRIGSTR_50007","ReplaceableTextures\\CommandButtons\\BTNTome.blp")
call CreateQuestBJ(0,"TRIGSTR_50008","TRIGSTR_50009","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
call CreateQuestBJ(2,"TRIGSTR_50010","TRIGSTR_50011","ReplaceableTextures\\CommandButtons\\BTNScrollOfHaste.blp")
call CreateQuestBJ(2,"TRIGSTR_50012","TRIGSTR_50013","ReplaceableTextures\\CommandButtons\\BTNBansheeMaster.blp")
call CreateQuestBJ(2,"TRIGSTR_50014","TRIGSTR_50015","ReplaceableTextures\\CommandButtons\\BTNCarrionScarabs.blp")
endfunction
function JM8 takes nothing returns boolean
local string s
if IsUnitIllusion(GetTriggerUnit())==false and J98(GetUnitTypeId(GetTriggerUnit()))==false then
set s=GetUnitName(GetTriggerUnit())+" "+(GetObjectName((1848657986)))+" "+GetObjectName(GetLearnedSkill())+" ("+(GetObjectName((1848657987)))+" "+I2S(GetUnitAbilityLevel(GetTriggerUnit(),GetLearnedSkill()))+")"
call DisplayTimedTextToPlayer(KX4,0,0,3,s)
call DisplayTimedTextToPlayer(KY4,0,0,3,s)
endif
return false
endfunction
function JN8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function JM8))
set t=null
endfunction
function JO8 takes player p returns nothing
local unit CL7=M7[GetPlayerId(p)]
local integer i=0
local item JP8
loop
exitwhen i>5
set JP8=UnitItemInSlot(CL7,i)
call SetItemDroppable(JP8,false)
set i=i+1
endloop
set CL7=null
set JP8=null
endfunction
function JQ8 takes nothing returns nothing
call BL7(bj_FORCE_ALL_PLAYERS,25.00,(KZ4[GetPlayerId((GetTriggerPlayer()))])+"|c00ff0303 "+(GetObjectName((1848652356)))+"|r")
endfunction
function Jf takes nothing returns nothing
local player JR8=UG7(GetHandleId(GetExpiredTimer()),"Leaver")
local integer T8=1
local integer Jg
local integer hY=GetPlayerState(JR8,PLAYER_STATE_RESOURCE_GOLD)
if hY>20 then
call SetPlayerState(JR8,PLAYER_STATE_RESOURCE_GOLD,0)
set VG4[GetPlayerId(JR8)]=0
if ZL7(JR8)then
set Jg=P8(X7)
else
set Jg=P8(Y7)
endif
if ZL7(JR8)then
loop
exitwhen T8>5
if Z_7(Z7[T8])then
call SetPlayerState(Z7[T8],PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(Z7[T8],PLAYER_STATE_RESOURCE_GOLD)+hY/Jg)
endif
set T8=T8+1
endloop
else
loop
exitwhen T8>5
if Z_7(A7[T8])then
call SetPlayerState(A7[T8],PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(A7[T8],PLAYER_STATE_RESOURCE_GOLD)+hY/Jg)
endif
set T8=T8+1
endloop
endif
endif
endfunction
function JS8 takes player JR8 returns nothing
local timer t=CreateTimer()
local integer UL7=GetHandleId(t)
call T37(UL7,"Leaver",JR8)
call TimerStart(t,2,true,function Jf)
set t=null
endfunction
function JT8 takes player p returns nothing
local multiboarditem JU8=MultiboardGetItem(T4,ND4[GetPlayerId(p)],N94[GetPlayerId(p)])
call MultiboardSetItemValue(JU8,"|c00333333"+B37(p)+"|r")
call MultiboardReleaseItem(JU8)
endfunction
function JV8 takes nothing returns nothing
local player p=OD4
local string id=I2S(GetPlayerId(p))
call StoreInteger(IV4,id,"8_0",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(0)))))
call StoreInteger(IV4,id,"8_1",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(1)))))
call StoreInteger(IV4,id,"8_2",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(2)))))
call StoreInteger(IV4,id,"8_3",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(3)))))
call StoreInteger(IV4,id,"8_4",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(4)))))
call StoreInteger(IV4,id,"8_5",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(5)))))
if GetLocalPlayer()==Le then
call SyncStoredInteger(IV4,I2S(GetPlayerId(p)),"8_0")
call SyncStoredInteger(IV4,I2S(GetPlayerId(p)),"8_1")
call SyncStoredInteger(IV4,I2S(GetPlayerId(p)),"8_2")
call SyncStoredInteger(IV4,I2S(GetPlayerId(p)),"8_3")
call SyncStoredInteger(IV4,I2S(GetPlayerId(p)),"8_4")
call SyncStoredInteger(IV4,I2S(GetPlayerId(p)),"8_5")
endif
endfunction
function JW8 takes nothing returns nothing
local integer I58=P8(X7)
local integer I08=P8(Y7)
local integer T8
local integer U8
local string JX8
local string JY8
local unit CR7=M7[GetPlayerId(GetTriggerPlayer())]
if CR7==null then
set JY8=(GetObjectName((1848657239)))
else
set JY8=GetUnitName(CR7)
endif
if(C<10)then
set JX8=I2S(B)+":0"+I2S(C)
else
set JX8=I2S(B)+":"+I2S(C)
endif
if D9==false then
set C9[GetPlayerId(GetTriggerPlayer())]="|c00555555"+JX8+"|r"
call BL7(bj_FORCE_ALL_PLAYERS,25.00,Q[GetPlayerId(GetTriggerPlayer())]+(KZ4[GetPlayerId((GetTriggerPlayer()))])+" ("+JY8+")|r|c00ff0303 "+(GetObjectName((1848652356)))+"|r")
if(ZL7(GetTriggerPlayer())==true)then
set T8=1
set U8=5
loop
exitwhen T8>U8
if(Z7[T8]!=GetTriggerPlayer())then
if(Z_7(Z7[T8])==true)then
call SetPlayerAllianceStateBJ(GetTriggerPlayer(),Z7[T8],4)
endif
endif
set T8=T8+1
endloop
else
set T8=1
set U8=5
loop
exitwhen T8>U8
if(A7[T8]!=GetTriggerPlayer())then
if(Z_7(A7[T8])==true)then
call SetPlayerAllianceStateBJ(GetTriggerPlayer(),A7[T8],4)
endif
endif
set T8=T8+1
endloop
endif
if ZL7(GetTriggerPlayer())or Z17(GetTriggerPlayer())then
set M64=M64+1
endif
call IM8("C"+"K"+I2S(T7[GetPlayerId(GetTriggerPlayer())])+"D"+I2S(U7[GetPlayerId(GetTriggerPlayer())])+"N"+I2S((LoadInteger(L7,StringHash("Stats"+I2S(GetPlayerId(GetTriggerPlayer()))),StringHash("NumOfNeutrals")))),GetPlayerId(GetTriggerPlayer()))
set OD4=GetTriggerPlayer()
call ExecuteFunc("JV8")
call JO8(GetTriggerPlayer())
set U2[GetPlayerId(GetTriggerPlayer())]=true
call JT8(GetTriggerPlayer())
call JS8(GetTriggerPlayer())
if M64==2 and V8==false and Ny==true then
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60," ")
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60," ")
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60,"|c006699CC"+(GetObjectName((1848657495)))+"|r")
endif
if M64==3 then
set O84=true
call ExecuteFunc("JZ8")
set O84=false
endif
else
set C9[GetPlayerId(GetTriggerPlayer())]="|c00555555End|r"
call ExecuteFunc("JA8")
endif
set CR7=null
endfunction
function JB8 takes unit CL7 returns nothing
if GetUnitTypeId(CL7)!=1211117642 and GetUnitTypeId(CL7)!=1211117641 then
if GetOwningPlayer(CL7)==GetLocalPlayer()then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1," ")
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1,"|c006699CC"+(GetObjectName((1848657746))))
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1," ")
endif
call EB8(WR,GetOwningPlayer(CL7))
endif
call SetUnitInvulnerable(CL7,false)
call UnitRemoveAbility(CL7,1093681498)
call UnitRemoveAbility(CL7,1093679434)
call UnitRemoveAbility(CL7,1093684052)
call UnitRemoveAbility(CL7,1093684823)
call UnitRemoveAbility(CL7,1093684821)
call UnitRemoveAbility(CL7,1093685079)
call UnitRemoveAbility(CL7,1093685078)
call UnitRemoveAbility(CL7,1093685080)
call UnitRemoveAbility(CL7,1093685081)
call UnitRemoveAbility(CL7,1093685296)
call UnitRemoveAbility(CL7,1093744459)
call UnitRemoveAbility(CL7,1093685334)
call UnitRemoveAbility(CL7,1093685583)
call UnitRemoveAbility(CL7,1093685827)
call UnitRemoveAbility(CL7,1093685830)
call UnitRemoveAbility(CL7,Ly)
call UnitRemoveAbility(CL7,my)
call UnitRemoveAbility(CL7,My)
call UnitRemoveAbility(CL7,py)
call UnitRemoveAbility(CL7,1093684821)
call UnitRemoveAbility(CL7,1093684823)
call UnitRemoveAbility(CL7,1093682777)
call UnitRemoveAbility(CL7,1093683509)
call UnitRemoveAbility(CL7,1093681977)
call UnitRemoveAbility(CL7,1093683528)
call UnitRemoveAbility(CL7,1110455863)
call UnitRemoveAbility(CL7,1110456396)
call UnitRemoveAbility(CL7,1093686098)
call UnitRemoveAbility(CL7,1093687119)
call UnitRemoveAbility(CL7,1093687122)
call UnitRemoveAbility(CL7,1093747534)
call UnitRemoveAbility(CL7,1093686856)
call UnitRemoveAbility(CL7,1093686858)
call UnitRemoveAbility(CL7,1093742649)
call UnitRemoveAbility(CL7,1093686871)
call UnitRemoveAbility(CL7,1093687373)
call UnitRemoveAbility(CL7,1093742927)
call UnitRemoveAbility(CL7,1093742930)
call UnitRemoveAbility(CL7,1093743671)
call UnitRemoveAbility(CL7,1093743672)
call UnitRemoveAbility(CL7,1093742933)
call UnitRemoveAbility(CL7,1093743673)
call UnitRemoveAbility(CL7,1093743153)
call UnitRemoveAbility(CL7,1093743158)
call UnitRemoveAbility(CL7,1093744441)
call UnitRemoveAbility(CL7,1097167980)
call UnitRemoveAbility(CL7,n1[0])
call UnitRemoveAbility(CL7,n1[1])
call UnitRemoveAbility(CL7,n1[2])
call UnitRemoveAbility(CL7,n1[3])
call UnitRemoveAbility(CL7,n1[4])
call UnitRemoveAbility(CL7,n1[5])
call UnitRemoveAbility(CL7,1093748533)
call UnitRemoveAbility(CL7,1093748531)
call UnitRemoveAbility(CL7,1093748534)
call UnitRemoveAbility(CL7,1093748532)
call TW7(GetHandleId(CL7),"Grapple",false)
call SetUnitPathing(CL7,true)
call PauseUnit(CL7,false)
call SetUnitFlyHeight(CL7,GetUnitDefaultFlyHeight(CL7),0)
call SetUnitScale(CL7,L17(CL7)*CS,L17(CL7)*CS,L17(CL7)*CS)
call UnitRemoveAbility(CL7,1093747521)
call UnitRemoveAbility(CL7,1093747513)
call UnitRemoveAbility(CL7,1093747522)
call UnitRemoveAbility(CL7,1093747523)
call UnitRemoveAbility(CL7,1093748545)
call UnitRemoveAbility(CL7,1093752627)
call UnitRemoveAbility(CL7,1110459471)
call UnitRemoveAbility(CL7,1093752136)
call UnitRemoveAbility(CL7,1093752137)
call UnitRemoveAbility(CL7,1093753396)
call UnitRemoveAbility(CL7,1093753409)
call UnitRemoveAbility(CL7,1093753410)
call UnitRemoveAbility(CL7,1093753401)
call UnitRemoveAbility(CL7,1110459478)
call UnitRemoveAbility(CL7,1093809718)
call UnitRemoveAbility(CL7,1093809717)
call UnitRemoveAbility(CL7,1093809228)
call UnitRemoveAbility(CL7,1110459716)
call UnitRemoveAbility(CL7,1093808975)
call UnitRemoveAbility(CL7,1110459705)
call HS8(CL7,0)
if GetUnitTypeId(CL7)==1160786510 or GetUnitTypeId(CL7)==1160786511 then
call UnitRemoveAbility(CL7,1093808951)
call UnitAddAbility(CL7,1093808706)
call UnitRemoveAbility(CL7,1093808706)
if SY7(CL7,ZU[G14])!=null then
call UnitAddAbility(CL7,1093808951)
endif
endif
call UnitRemoveAbility(CL7,1093808966)
call FQ8(CL7)
set IN4=CL7
call ExecuteFunc("JC8")
endfunction
function J38 takes nothing returns boolean
if GetPlayerAlliance(GetOwningPlayer(GetFilterUnit()),QZ,ALLIANCE_SHARED_CONTROL)==true and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false then
set MZ=MZ+1
endif
return false
endfunction
function J68 takes unit u,player p,real x,real y,boolean JL8 returns nothing
local group g=CA7()
set MZ=0
set QZ=p
call GroupEnumUnitsSelected(g,p,Condition(function J38))
if MZ==0 and GetLocalPlayer()==p then
if JL8==false then
call ClearSelection()
call SelectUnit(u,true)
endif
call PanCameraToTimed(x,y,0)
endif
set MZ=0
call CZ7(g)
set g=null
endfunction
function J18 takes unit S4 returns boolean
return GetUnitTypeId(S4)==1211117641 or GetUnitTypeId(S4)==1211117642
endfunction
function J08 takes unit J58 returns nothing
local integer J28
if SY7(J58,ZU[DI4])!=null and GetUnitTypeId(J58)!=1211117642 then
set J28=R2I(GetItemCharges(SY7(J58,ZU[DI4]))*0.67)
if GetItemCharges(SY7(J58,ZU[DI4]))==1 then
set J28=0
endif
call SetItemCharges(SY7(J58,ZU[DI4]),J28)
call AddHeroXP(J58,GetHeroXP(OA4[GetPlayerId(GetOwningPlayer(J58))]),true)
call RemoveUnit(OA4[GetPlayerId(GetOwningPlayer(J58))])
endif
endfunction
function J_8 takes unit u returns nothing
local integer UL7=GetHandleId(GetOwningPlayer(u))
local unit K48=UE7(UL7,"Kobold0")
local unit K78=UE7(UL7,"Kobold1")
local unit K88=UE7(UL7,"Kobold2")
local unit K98=UE7(UL7,"Kobold3")
local unit KD8=UE7(UL7,"Kobold4")
local unit KE8
set KE8=K48
if KE8!=null then
call RemoveUnit(KE8)
endif
set KE8=K78
if KE8!=null then
call RemoveUnit(KE8)
endif
set KE8=K88
if KE8!=null then
call RemoveUnit(KE8)
endif
set KE8=K98
if KE8!=null then
call RemoveUnit(KE8)
endif
set KE8=KD8
if KE8!=null then
call RemoveUnit(KE8)
endif
set KE8=null
set KD8=null
set K98=null
set K88=null
set K78=null
set K48=null
endfunction
function KF8 takes nothing returns boolean
call U37(GetTriggeringTrigger())
set OB4=false
return false
endfunction
function KG8 takes unit KH8 returns nothing
local integer UL7=GetHandleId(GetOwningPlayer(KH8))
local unit K48=UE7(UL7,"Kobold0")
local unit K78=UE7(UL7,"Kobold1")
local unit K88=UE7(UL7,"Kobold2")
local unit K98=UE7(UL7,"Kobold3")
local unit KD8=UE7(UL7,"Kobold4")
local unit KE8
local real x=GetUnitX(K48)
local real y=GetUnitY(K48)
local trigger t
if OB4==false then
if ZL7(GetOwningPlayer(K48))then
set x=GetRectCenterX(ED)
set y=GetRectCenterY(ED)
else
set x=GetRectCenterX(L9)
set y=GetRectCenterY(L9)
endif
else
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,2.,false)
call TriggerAddCondition(t,Condition(function KF8))
endif
set KE8=K48
if KE8!=null and KH8!=KE8 then
call ReviveHero(KE8,x,y,false)
call SetUnitX(KE8,x)
call SetUnitY(KE8,y)
call JB8(KE8)
call SetUnitPathing(KE8,true)
call SetUnitState(KE8,UNIT_STATE_MANA,10000)
endif
set KE8=K78
if KE8!=null and KH8!=KE8 then
call ReviveHero(KE8,x,y,false)
call SetUnitX(KE8,x)
call SetUnitY(KE8,y)
call JB8(KE8)
call SetUnitPathing(KE8,true)
call SetUnitState(KE8,UNIT_STATE_MANA,10000)
endif
set KE8=K88
if KE8!=null and KH8!=KE8 then
call ReviveHero(KE8,x,y,false)
call SetUnitX(KE8,x)
call SetUnitY(KE8,y)
call JB8(KE8)
call SetUnitPathing(KE8,true)
call SetUnitState(KE8,UNIT_STATE_MANA,10000)
endif
set KE8=K98
if KE8!=null and KH8!=KE8 then
call ReviveHero(KE8,x,y,false)
call SetUnitX(KE8,x)
call SetUnitY(KE8,y)
call JB8(KE8)
call SetUnitPathing(KE8,true)
call SetUnitState(KE8,UNIT_STATE_MANA,10000)
endif
set KE8=KD8
if KE8!=null and KH8!=KE8 then
call ReviveHero(KE8,x,y,false)
call SetUnitX(KE8,x)
call SetUnitY(KE8,y)
call JB8(KE8)
call SetUnitPathing(KE8,true)
call SetUnitState(KE8,UNIT_STATE_MANA,10000)
endif
set t=null
set KE8=null
set K98=null
set K88=null
set K78=null
set K48=null
endfunction
function KI8 takes unit CR7 returns nothing
local integer KJ8=GetUnitPointValue(CR7)
local unit KK8
if(KJ8==34)then
call ExecuteFunc("KM8")
call ExecuteFunc("KN8")
call ExecuteFunc("KO8")
elseif(KJ8==37)then
call ExecuteFunc("KP8")
call ExecuteFunc("KQ8")
call ExecuteFunc("KR8")
call ExecuteFunc("KS8")
elseif(KJ8==38)then
call ExecuteFunc("KT8")
call ExecuteFunc("KU8")
call ExecuteFunc("KV8")
call ExecuteFunc("KW8")
elseif(KJ8==32)then
call ExecuteFunc("KX8")
call ExecuteFunc("KY8")
call ExecuteFunc("KZ8")
elseif(KJ8==52)then
call ExecuteFunc("KA8")
call ExecuteFunc("KB8")
call ExecuteFunc("KC8")
call ExecuteFunc("K38")
elseif(KJ8==31)then
call ExecuteFunc("K68")
call ExecuteFunc("KL8")
call ExecuteFunc("K18")
elseif(KJ8==24)then
call ExecuteFunc("K08")
call ExecuteFunc("K58")
call ExecuteFunc("K28")
call ExecuteFunc("K_8")
elseif(KJ8==5)then
call ExecuteFunc("M48")
call ExecuteFunc("M78")
call ExecuteFunc("M88")
elseif(KJ8==8)then
call ExecuteFunc("M98")
call ExecuteFunc("MD8")
call ExecuteFunc("ME8")
call ExecuteFunc("MF8")
call ExecuteFunc("MG8")
elseif(KJ8==3)then
call ExecuteFunc("MH8")
call ExecuteFunc("MI8")
call ExecuteFunc("MJ8")
call ExecuteFunc("MK8")
elseif(KJ8==95)then
call ExecuteFunc("MM8")
call ExecuteFunc("MN8")
call ExecuteFunc("MO8")
call ExecuteFunc("MP8")
call ExecuteFunc("MQ8")
elseif(KJ8==20)then
call ExecuteFunc("MR8")
call ExecuteFunc("MS8")
call ExecuteFunc("po")
call ExecuteFunc("MT8")
elseif(KJ8==12)then
call ExecuteFunc("MU8")
call ExecuteFunc("MV8")
call ExecuteFunc("MW8")
elseif(KJ8==16)then
call ExecuteFunc("MX8")
call ExecuteFunc("MY8")
call ExecuteFunc("MZ8")
call ExecuteFunc("MA8")
call ExecuteFunc("MB8")
elseif(KJ8==25)then
call ExecuteFunc("MC8")
call ExecuteFunc("M38")
elseif(KJ8==4)then
call ExecuteFunc("M68")
call ExecuteFunc("ML8")
call ExecuteFunc("pZ")
call ExecuteFunc("M18")
call ExecuteFunc("M08")
call ExecuteFunc("M58")
call SetUnitPathing(CR7,false)
set O74=true
set KK8=CreateUnit(GetOwningPlayer(CR7),GetUnitTypeId(CR7),GetUnitX(CR7),GetUnitY(CR7),GetUnitFacing(CR7))
call TW7(GetHandleId(KK8),"EnteredAlready",true)
set M7[GetPlayerId(GetOwningPlayer(CR7))]=KK8
call SetUnitPathing(KK8,false)
call SetUnitPosition(KK8,GetUnitX(CR7),GetUnitY(CR7))
if D4 then
call SetHeroXP(KK8,GetHeroXP(CR7),false)
call UnitAddItem(KK8,UnitItemInSlot(CR7,0))
call UnitAddItem(KK8,UnitItemInSlot(CR7,1))
call UnitAddItem(KK8,UnitItemInSlot(CR7,2))
call UnitAddItem(KK8,UnitItemInSlot(CR7,3))
call UnitAddItem(KK8,UnitItemInSlot(CR7,4))
call UnitAddItem(KK8,UnitItemInSlot(CR7,5))
endif
call DO8(CR7)
call SetUnitPathing(KK8,true)
call ClearSelectionForPlayer(GetOwningPlayer(KK8))
call SelectUnitAddForPlayer(KK8,GetOwningPlayer(KK8))
elseif(KJ8==7)then
call ExecuteFunc("M28")
call ExecuteFunc("M_8")
call ExecuteFunc("N48")
elseif(KJ8==18)then
call ExecuteFunc("N78")
call ExecuteFunc("N88")
elseif(KJ8==36)then
call ExecuteFunc("PN")
elseif(KJ8==21)then
call ExecuteFunc("Po")
call ExecuteFunc("PO")
call ExecuteFunc("N98")
call ExecuteFunc("ND8")
elseif(KJ8==14)then
call ExecuteFunc("NE8")
call ExecuteFunc("NF8")
call ExecuteFunc("NG8")
call ExecuteFunc("NH8")
call ExecuteFunc("Pr")
call ExecuteFunc("NI8")
elseif(KJ8==13)then
call ExecuteFunc("NJ8")
call ExecuteFunc("NK8")
call ExecuteFunc("NM8")
call ExecuteFunc("NN8")
elseif(KJ8==26)then
call ExecuteFunc("NO8")
call ExecuteFunc("Pv")
call ExecuteFunc("PV")
call ExecuteFunc("NP8")
elseif(KJ8==9)then
call ExecuteFunc("Pw")
call ExecuteFunc("NQ8")
call ExecuteFunc("NR8")
call ExecuteFunc("NS8")
elseif(KJ8==10)then
call ExecuteFunc("NT8")
call ExecuteFunc("NU8")
call ExecuteFunc("NV8")
call ExecuteFunc("NW8")
call ExecuteFunc("NX8")
call ExecuteFunc("qb")
call ExecuteFunc("qB")
call ExecuteFunc("qc")
elseif(KJ8==23)then
call ExecuteFunc("qC")
call ExecuteFunc("qD")
call ExecuteFunc("qe")
call ExecuteFunc("qg")
elseif(KJ8==19)then
call ExecuteFunc("NY8")
call ExecuteFunc("NZ8")
call ExecuteFunc("NA8")
elseif(KJ8==22)then
call ExecuteFunc("NB8")
call ExecuteFunc("NC8")
call ExecuteFunc("N38")
call ExecuteFunc("N68")
elseif(KJ8==17)then
call ExecuteFunc("NL8")
call ExecuteFunc("N18")
elseif(KJ8==1)then
call ExecuteFunc("N08")
call ExecuteFunc("N58")
call ExecuteFunc("N28")
elseif(KJ8==2)then
call ExecuteFunc("N_8")
call ExecuteFunc("O48")
call ExecuteFunc("O78")
call ExecuteFunc("O88")
elseif(KJ8==27)then
call ExecuteFunc("O98")
call ExecuteFunc("OD8")
call ExecuteFunc("OE8")
call ExecuteFunc("OF8")
call ExecuteFunc("OG8")
elseif(KJ8==82)then
call ExecuteFunc("OH8")
call ExecuteFunc("OI8")
call ExecuteFunc("OJ8")
call ExecuteFunc("OK8")
elseif(KJ8==75)then
call ExecuteFunc("OM8")
call ExecuteFunc("ON8")
call ExecuteFunc("OO8")
call ExecuteFunc("OP8")
elseif(KJ8==83)then
call ExecuteFunc("OQ8")
call ExecuteFunc("OR8")
call ExecuteFunc("OS8")
call ExecuteFunc("OT8")
elseif(KJ8==59)then
call ExecuteFunc("OU8")
call ExecuteFunc("OV8")
call ExecuteFunc("OW8")
call ExecuteFunc("OX8")
elseif(KJ8==108)then
call ExecuteFunc("OY8")
call ExecuteFunc("OZ8")
elseif(KJ8==69)then
call ExecuteFunc("OA8")
call ExecuteFunc("OB8")
call ExecuteFunc("OC8")
call ExecuteFunc("O38")
call ExecuteFunc("O68")
elseif(KJ8==100)then
call ExecuteFunc("OL8")
call ExecuteFunc("O18")
call ExecuteFunc("O08")
elseif(KJ8==102)then
call ExecuteFunc("O58")
elseif(KJ8==64)then
call ExecuteFunc("O28")
call ExecuteFunc("O_8")
call ExecuteFunc("P48")
elseif(KJ8==106)then
call ExecuteFunc("P78")
call ExecuteFunc("P88")
call ExecuteFunc("P98")
elseif(KJ8==61)then
call ExecuteFunc("PD8")
call ExecuteFunc("PE8")
call ExecuteFunc("PF8")
elseif(KJ8==76)then
call ExecuteFunc("PG8")
call ExecuteFunc("PH8")
call ExecuteFunc("PI8")
call ExecuteFunc("PJ8")
elseif(KJ8==80)then
call ExecuteFunc("PK8")
call ExecuteFunc("PM8")
call ExecuteFunc("PN8")
call ExecuteFunc("PO8")
call ExecuteFunc("RM")
elseif(KJ8==62)then
call ExecuteFunc("PP8")
call ExecuteFunc("PQ8")
call ExecuteFunc("PR8")
elseif(KJ8==60)then
call ExecuteFunc("PS8")
call ExecuteFunc("PT8")
call ExecuteFunc("PU8")
elseif(KJ8==77)then
call ExecuteFunc("PV8")
call ExecuteFunc("PW8")
call ExecuteFunc("PX8")
call ExecuteFunc("PY8")
call ExecuteFunc("PZ8")
elseif(KJ8==73)then
call ExecuteFunc("PA8")
elseif(KJ8==81)then
call ExecuteFunc("PB8")
call ExecuteFunc("PC8")
call ExecuteFunc("sa")
call ExecuteFunc("sB")
elseif(KJ8==66)then
call ExecuteFunc("P38")
elseif(KJ8==78)then
call ExecuteFunc("P68")
call ExecuteFunc("PL8")
call ExecuteFunc("P18")
call ExecuteFunc("P08")
elseif(KJ8==99)then
call ExecuteFunc("P58")
call ExecuteFunc("P28")
call ExecuteFunc("P_8")
call ExecuteFunc("Q48")
call ExecuteFunc("Q78")
call ExecuteFunc("Q88")
elseif(KJ8==74)then
call ExecuteFunc("Q98")
call ExecuteFunc("QD8")
call ExecuteFunc("QF8")
call ExecuteFunc("QG8")
elseif(KJ8==105)then
call ExecuteFunc("QH8")
call ExecuteFunc("QI8")
elseif(KJ8==70)then
call ExecuteFunc("QJ8")
call ExecuteFunc("QK8")
call ExecuteFunc("QM8")
elseif(KJ8==107)then
call ExecuteFunc("QN8")
call ExecuteFunc("QO8")
call ExecuteFunc("QP8")
call ExecuteFunc("QQ8")
elseif(KJ8==79)then
call ExecuteFunc("QR8")
call ExecuteFunc("QS8")
call ExecuteFunc("QT8")
call ExecuteFunc("QU8")
elseif(KJ8==68)then
call ExecuteFunc("QV8")
call ExecuteFunc("QW8")
elseif(KJ8==84)then
call ExecuteFunc("QX8")
call ExecuteFunc("QY8")
call ExecuteFunc("s7")
call ExecuteFunc("QZ8")
elseif(KJ8==85)then
call ExecuteFunc("QA8")
call ExecuteFunc("QB8")
call ExecuteFunc("QC8")
call ExecuteFunc("Q38")
call ExecuteFunc("Q68")
elseif(KJ8==86)then
call ExecuteFunc("QL8")
call ExecuteFunc("Q18")
call ExecuteFunc("Q08")
call ExecuteFunc("Q58")
elseif(KJ8==87)then
call ExecuteFunc("Q28")
call ExecuteFunc("Q_8")
call ExecuteFunc("R48")
call ExecuteFunc("R78")
elseif(KJ8==33)then
call ExecuteFunc("R88")
call ExecuteFunc("R98")
call ExecuteFunc("RD8")
elseif(KJ8==39)then
call ExecuteFunc("RE8")
call ExecuteFunc("RF8")
call ExecuteFunc("RG8")
elseif(KJ8==88)then
call ExecuteFunc("RH8")
call ExecuteFunc("RI8")
call ExecuteFunc("RJ8")
call ExecuteFunc("RK8")
elseif(KJ8==40)then
call ExecuteFunc("RM8")
call ExecuteFunc("RN8")
call ExecuteFunc("RO8")
call ExecuteFunc("RP8")
elseif KJ8==89 then
call ExecuteFunc("RQ8")
call ExecuteFunc("RR8")
elseif KJ8==90 then
call ExecuteFunc("RS8")
call ExecuteFunc("RT8")
call ExecuteFunc("RU8")
call ExecuteFunc("RV8")
elseif KJ8==71 then
call ExecuteFunc("RW8")
call ExecuteFunc("RX8")
call ExecuteFunc("RY8")
call ExecuteFunc("RZ8")
elseif KJ8==93 then
call ExecuteFunc("RA8")
call ExecuteFunc("RB8")
call ExecuteFunc("RC8")
call ExecuteFunc("R38")
elseif KJ8==42 then
call ExecuteFunc("R68")
call ExecuteFunc("RL8")
call ExecuteFunc("R18")
call ExecuteFunc("R08")
elseif KJ8==91 then
call ExecuteFunc("R58")
call ExecuteFunc("R28")
call ExecuteFunc("R_8")
call ExecuteFunc("S48")
call ExecuteFunc("S78")
call ExecuteFunc("S88")
call ExecuteFunc("S98")
call ExecuteFunc("SD8")
elseif KJ8==92 then
call ExecuteFunc("SE8")
call ExecuteFunc("SF8")
call ExecuteFunc("SG8")
call ExecuteFunc("SH8")
elseif KJ8==41 then
call ExecuteFunc("SI8")
call ExecuteFunc("SJ8")
call ExecuteFunc("SK8")
call ExecuteFunc("SM8")
call ExecuteFunc("SN8")
elseif KJ8==43 then
call ExecuteFunc("SO8")
call ExecuteFunc("SP8")
call ExecuteFunc("SQ8")
call ExecuteFunc("SR8")
call ExecuteFunc("SS8")
call ExecuteFunc("ST8")
elseif KJ8==44 then
call ExecuteFunc("SU8")
call ExecuteFunc("SV8")
call ExecuteFunc("SW8")
call ExecuteFunc("SX8")
elseif KJ8==72 then
call ExecuteFunc("SY8")
call ExecuteFunc("SZ8")
call ExecuteFunc("SA8")
call ExecuteFunc("SB8")
elseif KJ8==94 then
call ExecuteFunc("SC8")
elseif KJ8==6 then
call ExecuteFunc("S38")
call ExecuteFunc("S68")
call ExecuteFunc("SL8")
elseif KJ8==104 then
call ExecuteFunc("S18")
call ExecuteFunc("S08")
elseif KJ8==65 then
call ExecuteFunc("S58")
call ExecuteFunc("S28")
call ExecuteFunc("S_8")
call ExecuteFunc("T48")
elseif KJ8==45 then
call ExecuteFunc("T78")
call ExecuteFunc("T88")
call ExecuteFunc("T98")
call ExecuteFunc("TD8")
elseif KJ8==58 then
call ExecuteFunc("TE8")
call ExecuteFunc("TF8")
call ExecuteFunc("TG8")
elseif KJ8==63 then
call ExecuteFunc("TH8")
call ExecuteFunc("TI8")
elseif KJ8==46 then
call ExecuteFunc("TJ8")
call ExecuteFunc("TK8")
call ExecuteFunc("TM8")
call ExecuteFunc("TN8")
elseif KJ8==47 then
call ExecuteFunc("TO8")
call ExecuteFunc("TP8")
call ExecuteFunc("TQ8")
call ExecuteFunc("TR8")
elseif KJ8==11 then
call ExecuteFunc("TS8")
call ExecuteFunc("TT8")
elseif KJ8==96 then
call ExecuteFunc("TU8")
call ExecuteFunc("TV8")
call ExecuteFunc("TW8")
call ExecuteFunc("TX8")
elseif KJ8==15 then
call ExecuteFunc("TY8")
call ExecuteFunc("TZ8")
call ExecuteFunc("TA8")
call ExecuteFunc("TB8")
elseif KJ8==97 then
call ExecuteFunc("TC8")
call ExecuteFunc("T38")
call ExecuteFunc("T68")
call ExecuteFunc("TL8")
call ExecuteFunc("T18")
elseif KJ8==98 then
call ExecuteFunc("T08")
call ExecuteFunc("T58")
call ExecuteFunc("T28")
call ExecuteFunc("T_8")
call ExecuteFunc("U48")
elseif KJ8==67 then
call ExecuteFunc("U78")
elseif KJ8==28 then
call ExecuteFunc("U88")
elseif KJ8==51 then
call ExecuteFunc("U98")
call ExecuteFunc("UD8")
call ExecuteFunc("UE8")
call ExecuteFunc("UF8")
call ExecuteFunc("UG8")
call ExecuteFunc("UH8")
call ExecuteFunc("UI8")
elseif KJ8==100 then
elseif KJ8==101 then
call ExecuteFunc("UJ8")
call ExecuteFunc("UK8")
call ExecuteFunc("UM8")
call ExecuteFunc("UN8")
elseif KJ8==48 then
call ExecuteFunc("UO8")
call ExecuteFunc("UP8")
call ExecuteFunc("UQ8")
call ExecuteFunc("UR8")
elseif KJ8==49 then
call ExecuteFunc("US8")
call ExecuteFunc("UT8")
call ExecuteFunc("UU8")
call ExecuteFunc("UV8")
elseif KJ8==29 then
call ExecuteFunc("UW8")
call ExecuteFunc("UX8")
call ExecuteFunc("UY8")
call ExecuteFunc("UZ8")
elseif KJ8==50 then
call ExecuteFunc("UA8")
call ExecuteFunc("UB8")
call ExecuteFunc("UC8")
call ExecuteFunc("U38")
elseif KJ8==30 then
call ExecuteFunc("U68")
call ExecuteFunc("UL8")
elseif KJ8==53 then
call ExecuteFunc("U18")
call ExecuteFunc("U08")
call ExecuteFunc("U58")
call ExecuteFunc("U28")
elseif KJ8==103 then
call ExecuteFunc("U_8")
elseif KJ8==54 then
call ExecuteFunc("V48")
call ExecuteFunc("V78")
call ExecuteFunc("V88")
call ExecuteFunc("V98")
call ExecuteFunc("VD8")
elseif KJ8==55 then
call ExecuteFunc("VE8")
call ExecuteFunc("VF8")
call ExecuteFunc("VG8")
call ExecuteFunc("VH8")
elseif KJ8==56 then
call ExecuteFunc("VI8")
call ExecuteFunc("VJ8")
call ExecuteFunc("VK8")
call ExecuteFunc("VM8")
elseif KJ8==57 then
call ExecuteFunc("VN8")
call ExecuteFunc("VO8")
call ExecuteFunc("VP8")
call ExecuteFunc("VQ8")
elseif KJ8==109 then
call ExecuteFunc("VR8")
call ExecuteFunc("VS8")
call ExecuteFunc("VT8")
call ExecuteFunc("VU8")
call ExecuteFunc("VV8")
call ExecuteFunc("VW8")
elseif KJ8==110 then
call ExecuteFunc("VX8")
call ExecuteFunc("VY8")
call ExecuteFunc("VZ8")
call ExecuteFunc("VA8")
call ExecuteFunc("VB8")
elseif KJ8==35 then
call ExecuteFunc("VC8")
call ExecuteFunc("V38")
endif
call D98("V68",false)
set KK8=null
endfunction
function VL8 takes unit CR7 returns nothing
local integer KJ8=GetUnitPointValue(CR7)
if KJ8==500 then
call ExecuteFunc("V18")
call ExecuteFunc("V08")
call ExecuteFunc("V58")
elseif KJ8==600 then
call ExecuteFunc("V28")
call ExecuteFunc("V_8")
call ExecuteFunc("W48")
call ExecuteFunc("W78")
call ExecuteFunc("W88")
endif
endfunction
function W98 takes player OO7,string WD8 returns nothing
if IsPlayerInForce(GetLocalPlayer(),GetPlayersEnemies(OO7))then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,E9,40,Q[GetPlayerId(OO7)]+(KZ4[GetPlayerId((OO7))])+"|r "+WD8)
endif
endfunction
function WE8 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
set M14=true
call U37(t)
call DestroyFogModifier(CreateFogModifierRadius(Z7[0],FOG_OF_WAR_MASKED,O_4,P44,700,false,false))
call DestroyFogModifier(CreateFogModifierRadius(A7[0],FOG_OF_WAR_MASKED,O_4,P44,700,false,false))
set t=null
return false
endfunction
function WF8 takes unit u returns boolean
return GetUnitTypeId(u)!=1211117645 and GetUnitTypeId(u)!=1311788365 and GetUnitTypeId(u)!=1211119431 and GetUnitTypeId(u)!=1211117657 and GetUnitTypeId(u)!=1211117642 and GetUnitTypeId(u)!=1211122232
endfunction
function WG8 takes nothing returns boolean
return IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and IsUnitIllusion(GetTriggerUnit())==false and US7(GetHandleId(GetTriggerUnit()),"EnteredAlready")==false and WF8(GetTriggerUnit())
endfunction
function WH8 takes nothing returns boolean
return GetUnitTypeId(GetFilterUnit())==1848651843
endfunction
function WI8 takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function WJ8 takes player j8 returns nothing
local group I68=CA7()
local boolexpr hP=Condition(function WH8)
call GroupEnumUnitsOfPlayer(I68,j8,hP)
call ForGroup(I68,function WI8)
call DestroyBoolExpr(hP)
call CZ7(I68)
set hP=null
set I68=null
endfunction
function WK8 takes nothing returns boolean
return GetUnitTypeId(GetFilterUnit())==1852010352
endfunction
function WM8 takes nothing returns nothing
if VT then
call UnitRemoveAbility(KU4[GetPlayerId(GetOwningPlayer(GetEnumUnit()))],1093743686)
call UnitRemoveAbility(KU4[GetPlayerId(GetOwningPlayer(GetEnumUnit()))],1093743685)
call UnitRemoveAbility(KU4[GetPlayerId(GetOwningPlayer(GetEnumUnit()))],1093743688)
endif
if GetUnitAbilityLevel(GetEnumUnit(),1093683508)==0 then
call UnitAddAbility(GetEnumUnit(),1093683508)
endif
endfunction
function WN8 takes player p returns nothing
local group g=CA7()
call GroupEnumUnitsOfPlayer(g,p,Condition(function WK8))
call ForGroup(g,function WM8)
call CZ7(g)
set g=null
endfunction
function u6 takes player Ua returns player
local integer O5=1
local integer Uc=0
local boolean O6=false
loop
if((Uc>0)and(TN7(O5,O6)!=null)and(IsPlayerInForce(TN7(O5,O6),QX4)))then
return TN7(O5,O6)
endif
if(Z7[O5]==Ua)then
set O6=true
set Uc=O5
elseif(A7[O5]==Ua)then
set Uc=O5
endif
set O5=O5+1
exitwhen O5>5
endloop
return null
endfunction
function WO8 takes unit CR7,player p returns string
local string s=(GetObjectName((1848656962)))
set s=IQ8(s,"$hero",GetUnitName(CR7))
set s=IQ8(s,"$p",(KZ4[GetPlayerId((p))]))
return s
endfunction
function WP8 takes unit WQ8 returns nothing
local item WR8=UnitItemInSlot(WQ8,0)
local item WS8=UnitItemInSlot(WQ8,1)
local item WT8=UnitItemInSlot(WQ8,2)
local item WU8=UnitItemInSlot(WQ8,3)
local item WV8=UnitItemInSlot(WQ8,4)
local item WW8=UnitItemInSlot(WQ8,5)
local integer WX8=RC7(WR8)
local integer WY8=RC7(WS8)
local integer WZ8=RC7(WT8)
local integer WA8=RC7(WU8)
local integer WB8=RC7(WV8)
local integer WC8=RC7(WW8)
local integer W38=0
call DisableTrigger(H94)
call UnitRemoveItem(WQ8,WR8)
call UnitRemoveItem(WQ8,WS8)
call UnitRemoveItem(WQ8,WT8)
call UnitRemoveItem(WQ8,WU8)
call UnitRemoveItem(WQ8,WV8)
call UnitRemoveItem(WQ8,WW8)
call RemoveItem(WR8)
call RemoveItem(WS8)
call RemoveItem(WT8)
call RemoveItem(WU8)
call RemoveItem(WV8)
call RemoveItem(WW8)
call EnableTrigger(H94)
if WX8>-1 then
set W38=W38+HK4[WX8]
endif
if WY8>-1 then
set W38=W38+HK4[WY8]
endif
if WZ8>-1 then
set W38=W38+HK4[WZ8]
endif
if WA8>-1 then
set W38=W38+HK4[WA8]
endif
if WB8>-1 then
set W38=W38+HK4[WB8]
endif
if WC8>-1 then
set W38=W38+HK4[WC8]
endif
call SetPlayerState(GetOwningPlayer(WQ8),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(GetOwningPlayer(WQ8),PLAYER_STATE_RESOURCE_GOLD)+W38)
set dH[GetPlayerId(GetOwningPlayer(WQ8))]=0
set WW8=null
set WV8=null
set WU8=null
set WT8=null
set WS8=null
set WR8=null
endfunction
function W68 takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local player j8=GetOwningPlayer(CR7)
local real x
local real y
local region r=CreateRegion()
local player WL8=j8
local item W18
local trigger t
local player p
local string s
if((QA4!=null)and(IsTriggerEnabled(QA4)))then
if((GetOwningPlayer(GetTriggerUnit())==QT4)and(QV4!=null))then
call SetUnitOwner(GetTriggerUnit(),QV4,true)
call SetUnitOwner(h4[512+GetPlayerId(QT4)],QT4,false)
call SetUnitOwner(h4[512+GetPlayerId(QV4)],QV4,false)
if(not oo[GetPlayerId(QV4)])then
call AdjustPlayerStateBJ(250,QT4,PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(-250,QV4,PLAYER_STATE_RESOURCE_GOLD)
endif
call ExecuteFunc("UD")
set QV4=u6(QV4)
if(QV4!=null)then
if(not P4)then
call SetUnitOwner(h4[512+GetPlayerId(QT4)],QV4,false)
call SetUnitOwner(h4[512+GetPlayerId(QV4)],QT4,false)
endif
set s="Pick a hero for "+Q[GetPlayerId(QV4)]+GetPlayerName(QV4)+"|r. Type "+F57+"-px|r to cancel."
set p=QT4
else
call RemoveUnit(nc)
call RemoveUnit(Vc)
set nc=null
set Vc=null
set s="End of Picking"
set p=QT4
if not P4 then
call AL7(QT4)
endif
endif
elseif((GetOwningPlayer(GetTriggerUnit())==QU4)and(QW4!=null))then
call SetUnitOwner(GetTriggerUnit(),QW4,true)
call SetUnitOwner(h4[512+GetPlayerId(QU4)],QU4,false)
call SetUnitOwner(h4[512+GetPlayerId(QW4)],QW4,false)
if(not oo[GetPlayerId(QW4)])then
call AdjustPlayerStateBJ(250,QU4,PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(-250,QW4,PLAYER_STATE_RESOURCE_GOLD)
endif
call ExecuteFunc("UD")
set QW4=u6(QW4)
if(QW4!=null)then
if(not P4)then
call SetUnitOwner(h4[512+GetPlayerId(QU4)],QW4,false)
call SetUnitOwner(h4[512+GetPlayerId(QW4)],QU4,false)
endif
set s="Pick a hero for "+Q[GetPlayerId(QW4)]+GetPlayerName(QW4)+"|r. Type "+F57+"-px|r to cancel."
set p=QU4
else
call RemoveUnit(nc)
call RemoveUnit(Vc)
set nc=null
set Vc=null
set s="End of Picking"
set p=QU4
if not P4 then
call AL7(QU4)
endif
endif
endif
endif
set j8=GetOwningPlayer(CR7)
set WL8=j8
if D4==false then
call H08(GetOwningPlayer(CR7))
endif
if(GetObjectName((1848657992)))=="Language: English" and(MJ4[(GetUnitPointValue(CR7))]!="")then
call DisplayTimedTextToPlayer(j8,0,0,4,"A |c006699CC-tips|r command is available if you would like some pointers for this hero")
endif
if RT[GetPlayerId(j8)]==true then
call HV8(j8,GetUnitPointValue(CR7))
endif
if M14==false and(M7[GetPlayerId(Z7[1])]!=null and M7[GetPlayerId(Z7[2])]!=null and M7[GetPlayerId(Z7[3])]!=null and M7[GetPlayerId(Z7[4])]!=null and M7[GetPlayerId(Z7[5])]!=null and M7[GetPlayerId(A7[1])]!=null and M7[GetPlayerId(A7[2])]!=null and M7[GetPlayerId(A7[3])]!=null and M7[GetPlayerId(A7[4])]!=null and M7[GetPlayerId(A7[5])]!=null)then
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,7.,false)
call TriggerAddCondition(t,Condition(function WE8))
set t=null
endif
set IG4[GetPlayerId(GetOwningPlayer((CR7)))]=false
call RegionAddRect(r,cE)
if O9 and S9==false then
set eo[GetPlayerId(j8)]=true
set j8=UG7(StringHash("Global|ReverseMode"),(KZ4[GetPlayerId((j8))]))
call SetUnitOwner(CR7,j8,true)
if(GetPlayerController(j8)==MAP_CONTROL_COMPUTER)and not D4 and not RZ4 then
call TX7(R44,"AIHSwap|U",CR7)
call ExecuteFunc("Uf")
endif
endif
if ZL7(GetOwningPlayer(CR7))then
if IsUnitInRegion(r,CR7)then
set x=GetRandomReal(GetRectMinX(ED),GetRectMaxX(ED))
set y=GetRandomReal(GetRectMinY(ED),GetRectMaxY(ED))
else
set x=GetUnitX(CR7)
set y=GetUnitY(CR7)
endif
else
if IsUnitInRegion(r,CR7)then
set x=GetRandomReal(GetRectMinX(L9),GetRectMaxX(L9))
set y=GetRandomReal(GetRectMinY(L9),GetRectMaxY(L9))
else
set x=GetUnitX(CR7)
set y=GetUnitY(CR7)
endif
endif
set P9[GetPlayerId(j8)]=true
if(not O9 or S9)then
if O04==false and O54==false then
call PanCameraToTimedForPlayer(j8,x,y,0)
endif
if GetUnitTypeId(CR7)!=1311788365 then
call ClearSelectionForPlayer(j8)
endif
call SelectUnitAddForPlayer(CR7,j8)
endif
call SetUnitX(CR7,x)
call SetUnitY(CR7,y)
if GetUnitTypeId(CR7)!=1311788365 then
set M7[GetPlayerId(j8)]=CR7
endif
call II8(j8,"9",GetUnitTypeId(CR7))
if O9 and S9==false then
call AC7(WL8)
else
call AC7(j8)
endif
call TW7(GetHandleId(CR7),"EnteredAlready",true)
if not X8 and not RZ4 then
set J[GetUnitPointValue(CR7)]=true
call AB7(GetUnitTypeId(CR7))
endif
if D4 then
if ZL7(j8)then
set S7[0]=S7[0]+1
else
set S7[1]=S7[1]+1
endif
endif
if D4 or RZ4 then
set Be[GetPlayerId(j8)]=Be[GetPlayerId(j8)]+1
if Be[GetPlayerId(GetOwningPlayer(CR7))]>1 and CR7!=W7[GetPlayerId(GetOwningPlayer(CR7))]then
call J08(W7[GetPlayerId(GetOwningPlayer(CR7))])
call SetHeroXP(CR7,GetHeroXP(W7[GetPlayerId(GetOwningPlayer(CR7))]),false)
if GetPlayerController(GetOwningPlayer(CR7))==MAP_CONTROL_USER then
call DisableTrigger(H94)
call UnitAddItem(CR7,UnitItemInSlot(W7[GetPlayerId(GetOwningPlayer(CR7))],0))
call UnitAddItem(CR7,UnitItemInSlot(W7[GetPlayerId(GetOwningPlayer(CR7))],1))
call UnitAddItem(CR7,UnitItemInSlot(W7[GetPlayerId(GetOwningPlayer(CR7))],2))
call UnitAddItem(CR7,UnitItemInSlot(W7[GetPlayerId(GetOwningPlayer(CR7))],3))
call UnitAddItem(CR7,UnitItemInSlot(W7[GetPlayerId(GetOwningPlayer(CR7))],4))
call UnitAddItem(CR7,UnitItemInSlot(W7[GetPlayerId(GetOwningPlayer(CR7))],5))
call EnableTrigger(H94)
else
call WP8(W7[GetPlayerId(GetOwningPlayer(CR7))])
endif
if J18(W7[GetPlayerId(GetOwningPlayer(CR7))])then
call J_8(W7[GetPlayerId(GetOwningPlayer(CR7))])
else
call DO8(W7[GetPlayerId(GetOwningPlayer(CR7))])
endif
endif
endif
if j8!=Z7[0]and j8!=A7[0]then
if O9 then
if TimerGetElapsed(W)>60 then
call W98(j8,(GetObjectName((1848652357)))+" "+GetUnitName(CR7))
elseif W4[GetPlayerId(WL8)]==true then
call W98(j8,WO8(CR7,WL8))
else
call SetPlayerState(WL8,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(WL8,PLAYER_STATE_RESOURCE_GOLD)+250)
call W98(j8,(GetObjectName((1848656945)))+" "+GetUnitName(CR7)+" "+(GetObjectName((1848656944)))+" "+(KZ4[GetPlayerId((WL8))]))
endif
elseif H34==false or j8==Le then
if(I[GetPlayerId(GetOwningPlayer(CR7))]==true and H34==false)then
call W98(j8,(GetObjectName((1848656949)))+" "+GetUnitName(CR7)+".")
elseif((W4[GetPlayerId(j8)]==true and D4==false)or E4 or O4 or A8 or RZ4)then
call W98(j8,(GetObjectName((1848656947)))+" "+GetUnitName(CR7)+".")
else
call W98(j8,(GetObjectName((1848656946)))+" "+GetUnitName(CR7)+".")
endif
endif
endif
if H84 then
if O9 then
call WJ8(WL8)
else
call WJ8(j8)
endif
endif
if(O04 or O54)and H84 then
call WJ8(j8)
endif
call WN8(j8)
if(GetUnitTypeId(CR7)==1160785973)then
call DisplayTimedTextToPlayer(j8,0,E9,60.00," ")
call DisplayTimedTextToPlayer(j8,0,E9,60.00,"|c00ff0303"+(GetObjectName((1848653384)))+(GetObjectName((1848656706)))+" "+(GetObjectName((1848653381)))+"|r")
elseif GetUnitTypeId(CR7)==1328558154 or GetUnitTypeId(CR7)==1311781174 or GetUnitTypeId(CR7)==1430468913 or GetUnitTypeId(CR7)==1162032181 then
call DisplayTimedTextToPlayer(j8,0,E9,10.00," ")
call DisplayTimedTextToPlayer(j8,0,E9,10.00,"|c00ff0303"+(GetObjectName((1848657715)))+"|r")
endif
if(GetUnitTypeId(CR7)==1160786242)then
call DisplayTimedTextToPlayer(j8,0,E9,30.00," ")
call DisplayTimedTextToPlayer(j8,0,E9,30.00,"|c00ff0303"+(GetObjectName((1848653392)))+" "+(GetObjectName((1848653397)))+"|r")
endif
if(W4[GetPlayerId(j8)]==false)then
if(Y8)then
call SetPlayerState(j8,PLAYER_STATE_RESOURCE_GOLD,175+GetPlayerState(j8,PLAYER_STATE_RESOURCE_GOLD))
endif
endif
if US7(StringHash("HeroInit:"+I2S(GetUnitPointValue(CR7))),"Initialized")==false then
call TW7(StringHash("HeroInit:"+I2S(GetUnitPointValue(CR7))),"Initialized",true)
call KI8(CR7)
call VL8(CR7)
endif
set IN4=CR7
call ExecuteFunc("W08")
if ib[GetPlayerId(GetLocalPlayer())]==false then
if Z27(j8)then
call SetPlayerName(j8,KZ4[GetPlayerId((j8))])
else
call SetPlayerName(j8,(KZ4[GetPlayerId((j8))])+" ("+CI7(M7[GetPlayerId(j8)])+")")
endif
endif
call DisplayTimedTextToPlayer(p,0,0,10.,s)
set p=null
call RemoveRegion(r)
set CR7=null
set W18=null
endfunction
function W58 takes nothing returns boolean
return IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==true
endfunction
function W28 takes nothing returns nothing
if((QA4!=null)and(IsTriggerEnabled(QA4)))then
if((GetOwningPlayer(GetSoldUnit())==QT4)and(QV4!=null))then
return
elseif((GetOwningPlayer(GetSoldUnit())==QU4)and(QW4!=null))then
return
endif
endif
call AC7(GetOwningPlayer(GetSoldUnit()))
endfunction
function W_8 takes nothing returns boolean
local integer X48
local integer O5=1
loop
exitwhen O5>11
if O5==6 then
set O5=7
endif
set X48=0
if(IsPlayerInForce(Player(O5),QX4))then
set DZ7[O5]=DZ7[O5]+(I2R(Z84[48+O5])/8)
set X48=R2I(DZ7[O5])
if X48<0 then
set X48=0
endif
set DZ7[O5]=DZ7[O5]-I2R(X48)
endif
if(Y4)then
set X48=X48+2
else
set X48=X48+1
endif
call SetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)+X48)
set O5=O5+1
endloop
return false
endfunction
function X78 takes nothing returns boolean
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and(LoadInteger(N74,(GetSpellAbilityId()),(GetUnitAbilityLevel(GetTriggerUnit(),GetSpellAbilityId()))))>0 then
call TimerStart(N84[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))],(LoadInteger(N74,(GetSpellAbilityId()),(GetUnitAbilityLevel(GetTriggerUnit(),GetSpellAbilityId())))),false,null)
endif
if GetSpellAbilityId()==1093677655 then
call TimerStart(N84[GetPlayerId((GetOwningPlayer(GetTriggerUnit())))],0,false,null)
endif
return false
endfunction
function X88 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer i
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function X78))
set i=0
loop
exitwhen(i>13)
set N84[i]=CreateTimer()
set i=i+1
endloop
set N74=InitHashtable()
call SaveInteger(N74,1093742923,1,60)
call SaveInteger(N74,1093742923,2,50)
call SaveInteger(N74,1093742923,3,40)
call SaveInteger(N74,1093685042,1,80)
call SaveInteger(N74,1093685042,2,75)
call SaveInteger(N74,1093685042,3,70)
call SaveInteger(N74,1093810233,1,45)
call SaveInteger(N74,1093810233,2,45)
call SaveInteger(N74,1093810233,3,45)
call SaveInteger(N74,1093682248,1,150)
call SaveInteger(N74,1093682248,2,130)
call SaveInteger(N74,1093682248,3,110)
call SaveInteger(N74,1093750594,1,150)
call SaveInteger(N74,1093750594,2,130)
call SaveInteger(N74,1093750594,3,110)
call SaveInteger(N74,1093682514,1,150)
call SaveInteger(N74,1093682514,2,150)
call SaveInteger(N74,1093682514,3,150)
call SaveInteger(N74,1093684561,1,180)
call SaveInteger(N74,1093684561,2,160)
call SaveInteger(N74,1093684561,3,140)
call SaveInteger(N74,1093747254,1,160)
call SaveInteger(N74,1093747254,2,140)
call SaveInteger(N74,1093747254,3,120)
call SaveInteger(N74,1093752648,1,80)
call SaveInteger(N74,1093752648,2,80)
call SaveInteger(N74,1093752648,3,80)
call SaveInteger(N74,1093746993,1,100)
call SaveInteger(N74,1093746993,2,100)
call SaveInteger(N74,1093746993,3,100)
call SaveInteger(N74,1093678938,1,70)
call SaveInteger(N74,1093678938,2,70)
call SaveInteger(N74,1093678938,3,70)
call SaveInteger(N74,1095656306,1,45)
call SaveInteger(N74,1095656306,2,45)
call SaveInteger(N74,1095656306,3,45)
call SaveInteger(N74,1093687864,1,70)
call SaveInteger(N74,1093687864,2,55)
call SaveInteger(N74,1093687864,3,40)
call SaveInteger(N74,1093747542,1,12)
call SaveInteger(N74,1093747542,2,12)
call SaveInteger(N74,1093747542,3,12)
call SaveInteger(N74,1093677895,1,115)
call SaveInteger(N74,1093677895,2,115)
call SaveInteger(N74,1093677895,3,115)
call SaveInteger(N74,1093810508,1,120)
call SaveInteger(N74,1093810508,2,110)
call SaveInteger(N74,1093810508,3,100)
call SaveInteger(N74,1093685586,1,45)
call SaveInteger(N74,1093685586,2,30)
call SaveInteger(N74,1093685586,3,15)
call SaveInteger(N74,1093747251,1,4)
call SaveInteger(N74,1093747251,2,4)
call SaveInteger(N74,1093747251,3,4)
call SaveInteger(N74,1093678674,1,140)
call SaveInteger(N74,1093678674,2,120)
call SaveInteger(N74,1093678674,3,100)
call SaveInteger(N74,1093747252,1,120)
call SaveInteger(N74,1093747252,2,100)
call SaveInteger(N74,1093747252,3,80)
call SaveInteger(N74,1093682996,1,75)
call SaveInteger(N74,1093682996,2,75)
call SaveInteger(N74,1093682996,3,75)
call SaveInteger(N74,1093747768,1,20)
call SaveInteger(N74,1093747768,2,20)
call SaveInteger(N74,1093747768,3,20)
call SaveInteger(N74,1093810505,1,150)
call SaveInteger(N74,1093810505,2,150)
call SaveInteger(N74,1093810505,3,150)
call SaveInteger(N74,1093682482,1,75)
call SaveInteger(N74,1093682482,2,65)
call SaveInteger(N74,1093682482,3,55)
call SaveInteger(N74,1093750098,1,6)
call SaveInteger(N74,1093750098,2,6)
call SaveInteger(N74,1093750098,3,6)
call SaveInteger(N74,1093677903,1,140)
call SaveInteger(N74,1093677903,2,140)
call SaveInteger(N74,1093677903,3,140)
call SaveInteger(N74,1093684565,1,110)
call SaveInteger(N74,1093684565,2,110)
call SaveInteger(N74,1093684565,3,110)
call SaveInteger(N74,1093681458,1,110)
call SaveInteger(N74,1093681458,2,110)
call SaveInteger(N74,1093681458,3,110)
call SaveInteger(N74,1093686103,1,100)
call SaveInteger(N74,1093686103,2,100)
call SaveInteger(N74,1093686103,3,100)
call SaveInteger(N74,1093679411,1,100)
call SaveInteger(N74,1093679411,2,70)
call SaveInteger(N74,1093679411,3,40)
call SaveInteger(N74,1093677899,1,180)
call SaveInteger(N74,1093677899,2,150)
call SaveInteger(N74,1093677899,3,120)
call SaveInteger(N74,1093747248,1,180)
call SaveInteger(N74,1093747248,2,150)
call SaveInteger(N74,1093747248,3,120)
call SaveInteger(N74,1093685808,1,130)
call SaveInteger(N74,1093685808,2,130)
call SaveInteger(N74,1093685808,3,130)
call SaveInteger(N74,1093682764,1,30)
call SaveInteger(N74,1093682764,2,30)
call SaveInteger(N74,1093682764,3,30)
call SaveInteger(N74,1093747544,1,30)
call SaveInteger(N74,1093747544,2,30)
call SaveInteger(N74,1093747544,3,30)
call SaveInteger(N74,1093677876,1,10)
call SaveInteger(N74,1093677876,2,10)
call SaveInteger(N74,1093677876,3,10)
call SaveInteger(N74,1093743946,1,75)
call SaveInteger(N74,1093743946,2,75)
call SaveInteger(N74,1093743946,3,75)
call SaveInteger(N74,1093682483,1,70)
call SaveInteger(N74,1093682483,2,70)
call SaveInteger(N74,1093682483,3,70)
call SaveInteger(N74,1093678160,1,20)
call SaveInteger(N74,1093678160,2,15)
call SaveInteger(N74,1093678160,3,10)
call SaveInteger(N74,1093684529,1,130)
call SaveInteger(N74,1093684529,2,120)
call SaveInteger(N74,1093684529,3,110)
call SaveInteger(N74,1093747032,1,110)
call SaveInteger(N74,1093747032,2,100)
call SaveInteger(N74,1093747032,3,90)
call SaveInteger(N74,1093678388,1,160)
call SaveInteger(N74,1093678388,2,150)
call SaveInteger(N74,1093678388,3,140)
call SaveInteger(N74,1093677141,1,160)
call SaveInteger(N74,1093677141,2,150)
call SaveInteger(N74,1093677141,3,140)
call SaveInteger(N74,1093683000,1,80)
call SaveInteger(N74,1093683000,2,80)
call SaveInteger(N74,1093683000,3,80)
call SaveInteger(N74,1093678933,1,180)
call SaveInteger(N74,1093678933,2,120)
call SaveInteger(N74,1093678933,3,60)
call SaveInteger(N74,1093684053,1,160)
call SaveInteger(N74,1093684053,2,140)
call SaveInteger(N74,1093684053,3,120)
call SaveInteger(N74,1093748042,1,20)
call SaveInteger(N74,1093748042,2,20)
call SaveInteger(N74,1093748042,3,20)
call SaveInteger(N74,1093681716,1,10)
call SaveInteger(N74,1093681716,2,7)
call SaveInteger(N74,1093681716,3,5)
call SaveInteger(N74,1093683534,1,25)
call SaveInteger(N74,1093683534,2,25)
call SaveInteger(N74,1093683534,3,25)
call SaveInteger(N74,1093683761,1,120)
call SaveInteger(N74,1093683761,2,110)
call SaveInteger(N74,1093683761,3,100)
call SaveInteger(N74,1093747767,1,60)
call SaveInteger(N74,1093747767,2,60)
call SaveInteger(N74,1093747767,3,60)
call SaveInteger(N74,1093750089,1,45)
call SaveInteger(N74,1093750089,2,45)
call SaveInteger(N74,1093750089,3,45)
call SaveInteger(N74,1093747023,1,80)
call SaveInteger(N74,1093747023,2,70)
call SaveInteger(N74,1093747023,3,60)
call SaveInteger(N74,1093752150,1,80)
call SaveInteger(N74,1093752150,2,70)
call SaveInteger(N74,1093752150,3,60)
call SaveInteger(N74,1093750341,1,180)
call SaveInteger(N74,1093750341,2,160)
call SaveInteger(N74,1093750341,3,140)
call SaveInteger(N74,(1093814599),(1),(180))
call SaveInteger(N74,(1093814599),(2),(160))
call SaveInteger(N74,(1093814599),(3),(140))
call SaveInteger(N74,(1093747028),(1),(140))
call SaveInteger(N74,(1093747028),(2),(100))
call SaveInteger(N74,(1093747028),(3),(60))
call SaveInteger(N74,1093685840,1,11)
call SaveInteger(N74,1093685840,2,9)
call SaveInteger(N74,1093685840,3,7)
call SaveInteger(N74,1093684291,1,25)
call SaveInteger(N74,1093684291,2,25)
call SaveInteger(N74,1093684291,3,25)
call SaveInteger(N74,1093683534,1,45)
call SaveInteger(N74,1093683534,2,45)
call SaveInteger(N74,1093683534,3,45)
call SaveInteger(N74,1093747031,1,10)
call SaveInteger(N74,1093747031,2,10)
call SaveInteger(N74,1093747031,3,10)
call SaveInteger(N74,1093684296,1,70)
call SaveInteger(N74,1093684296,2,60)
call SaveInteger(N74,1093684296,3,50)
call SaveInteger(N74,1093678161,1,45)
call SaveInteger(N74,1093678161,2,45)
call SaveInteger(N74,1093678161,3,45)
call SaveInteger(N74,1093687121,1,45)
call SaveInteger(N74,1093687121,2,45)
call SaveInteger(N74,1093687121,3,45)
call SaveInteger(N74,1093679445,1,70)
call SaveInteger(N74,1093679445,2,60)
call SaveInteger(N74,1093679445,3,50)
call SaveInteger(N74,1093682004,1,60)
call SaveInteger(N74,1093682004,2,50)
call SaveInteger(N74,1093682004,3,40)
call SaveInteger(N74,1093810506,1,120)
call SaveInteger(N74,1093810506,2,110)
call SaveInteger(N74,1093810506,3,100)
call SaveInteger(N74,1093678929,1,160)
call SaveInteger(N74,1093678929,2,110)
call SaveInteger(N74,1093678929,3,60)
call SaveInteger(N74,1093683257,1,120)
call SaveInteger(N74,1093683257,2,120)
call SaveInteger(N74,1093683257,3,120)
call SaveInteger(N74,1093677363,1,140)
call SaveInteger(N74,1093677363,2,120)
call SaveInteger(N74,1093677363,3,100)
call SaveInteger(N74,1093681462,1,140)
call SaveInteger(N74,1093681462,2,120)
call SaveInteger(N74,1093681462,3,60)
call SaveInteger(N74,1093679152,1,80)
call SaveInteger(N74,1093679152,2,50)
call SaveInteger(N74,1093679152,3,30)
call SaveInteger(N74,1093752154,1,12)
call SaveInteger(N74,1093752154,2,12)
call SaveInteger(N74,1093752154,3,12)
call SaveInteger(N74,1093677906,1,150)
call SaveInteger(N74,1093677906,2,120)
call SaveInteger(N74,1093677906,3,90)
call SaveInteger(N74,1093681494,1,150)
call SaveInteger(N74,1093681494,2,120)
call SaveInteger(N74,1093681494,3,90)
call SaveInteger(N74,1093686072,1,85)
call SaveInteger(N74,1093686072,2,85)
call SaveInteger(N74,1093686072,3,85)
call SaveInteger(N74,1093751120,1,85)
call SaveInteger(N74,1093751120,2,85)
call SaveInteger(N74,1093751120,3,85)
call SaveInteger(N74,1093684308,1,140)
call SaveInteger(N74,1093684308,2,130)
call SaveInteger(N74,1093684308,3,120)
call SaveInteger(N74,1093747539,1,30)
call SaveInteger(N74,1093747539,2,30)
call SaveInteger(N74,1093747539,3,30)
call SaveInteger(N74,1093742932,1,80)
call SaveInteger(N74,1093742932,2,70)
call SaveInteger(N74,1093742932,3,60)
call SaveInteger(N74,1093752632,1,90)
call SaveInteger(N74,1093752632,2,75)
call SaveInteger(N74,1093752632,3,60)
call SaveInteger(N74,1093752633,1,90)
call SaveInteger(N74,1093752633,2,75)
call SaveInteger(N74,1093752633,3,60)
call SaveInteger(N74,1093810503,1,90)
call SaveInteger(N74,1093810503,2,90)
call SaveInteger(N74,1093810503,3,90)
call SaveInteger(N74,1093810504,1,90)
call SaveInteger(N74,1093810504,2,90)
call SaveInteger(N74,1093810504,3,90)
call SaveInteger(N74,1093684275,1,140)
call SaveInteger(N74,1093684275,2,140)
call SaveInteger(N74,1093684275,3,140)
call SaveInteger(N74,1093677392,1,70)
call SaveInteger(N74,1093677392,2,60)
call SaveInteger(N74,1093677392,3,50)
call SaveInteger(N74,1093679450,1,70)
call SaveInteger(N74,1093679450,2,60)
call SaveInteger(N74,1093679450,3,50)
call SaveInteger(N74,1093743184,1,60)
call SaveInteger(N74,1093743184,2,60)
call SaveInteger(N74,1093743184,3,60)
call SaveInteger(N74,1093747766,1,15)
call SaveInteger(N74,1093747766,2,15)
call SaveInteger(N74,1093747766,3,15)
call SaveInteger(N74,1093744975,1,90)
call SaveInteger(N74,1093744975,2,70)
call SaveInteger(N74,1093744975,3,50)
call SaveInteger(N74,1093681483,1,10)
call SaveInteger(N74,1093681483,2,10)
call SaveInteger(N74,1093681483,3,10)
call SaveInteger(N74,1093748313,1,10)
call SaveInteger(N74,1093748313,2,10)
call SaveInteger(N74,1093748313,3,10)
call SaveInteger(N74,1093808473,1,22)
call SaveInteger(N74,1093808473,2,17)
call SaveInteger(N74,1093808473,3,12)
call SaveInteger(N74,1093808473,4,5)
call SaveInteger(N74,1093748565,1,16)
call SaveInteger(N74,1093748565,2,8)
call SaveInteger(N74,1093748565,3,4)
call SaveInteger(N74,1093748565,4,2)
call SaveInteger(N74,1093678923,1,6)
call SaveInteger(N74,1093678923,2,6)
call SaveInteger(N74,1093678923,3,6)
call SaveInteger(N74,1093742673,1,40)
call SaveInteger(N74,1093742673,2,40)
call SaveInteger(N74,1093742673,3,40)
call SaveInteger(N74,1093747778,1,40)
call SaveInteger(N74,1093747778,2,40)
call SaveInteger(N74,1093747778,3,40)
call SaveInteger(N74,1093677128,1,110)
call SaveInteger(N74,1093677128,2,110)
call SaveInteger(N74,1093677128,3,110)
call SaveInteger(N74,1093681457,1,110)
call SaveInteger(N74,1093681457,2,110)
call SaveInteger(N74,1093681457,3,110)
call SaveInteger(N74,1093685045,1,60)
call SaveInteger(N74,1093685045,2,60)
call SaveInteger(N74,1093685045,3,60)
call SaveInteger(N74,1093747249,1,60)
call SaveInteger(N74,1093747249,2,60)
call SaveInteger(N74,1093747249,3,60)
call SaveInteger(N74,1093684820,1,80)
call SaveInteger(N74,1093684820,2,80)
call SaveInteger(N74,1093684820,3,80)
call SaveInteger(N74,1093684824,1,80)
call SaveInteger(N74,1093684824,2,80)
call SaveInteger(N74,1093684824,3,80)
call SaveInteger(N74,1093677649,1,100)
call SaveInteger(N74,1093677649,2,100)
call SaveInteger(N74,1093677649,3,100)
call SaveInteger(N74,1093747769,1,100)
call SaveInteger(N74,1093747769,2,100)
call SaveInteger(N74,1093747769,3,100)
call SaveInteger(N74,1093685579,1,100)
call SaveInteger(N74,1093685579,2,100)
call SaveInteger(N74,1093685579,3,100)
call SaveInteger(N74,1093678899,1,100)
call SaveInteger(N74,1093678899,2,100)
call SaveInteger(N74,1093678899,3,100)
call SaveInteger(N74,1093677898,1,100)
call SaveInteger(N74,1093677898,2,100)
call SaveInteger(N74,1093677898,3,100)
call SaveInteger(N74,1093678154,1,100)
call SaveInteger(N74,1093678154,2,100)
call SaveInteger(N74,1093678154,3,100)
call SaveInteger(N74,1093678157,1,100)
call SaveInteger(N74,1093678157,2,100)
call SaveInteger(N74,1093678157,3,100)
call SaveInteger(N74,1093678158,1,100)
call SaveInteger(N74,1093678158,2,100)
call SaveInteger(N74,1093678158,3,100)
call SaveInteger(N74,1093679413,1,160)
call SaveInteger(N74,1093679413,2,100)
call SaveInteger(N74,1093679413,3,40)
call SaveInteger(N74,1093679447,1,160)
call SaveInteger(N74,1093679447,2,100)
call SaveInteger(N74,1093679447,3,40)
call SaveInteger(N74,1093747288,1,200)
call SaveInteger(N74,1093747288,2,190)
call SaveInteger(N74,1093747288,3,180)
call SaveInteger(N74,1093678420,1,145)
call SaveInteger(N74,1093678420,2,115)
call SaveInteger(N74,1093678420,3,60)
call SaveInteger(N74,1093679176,1,145)
call SaveInteger(N74,1093679176,2,115)
call SaveInteger(N74,1093679176,3,60)
call SaveInteger(N74,1093678647,1,100)
call SaveInteger(N74,1093678647,2,85)
call SaveInteger(N74,1093678647,3,70)
call SaveInteger(N74,1093679184,1,70)
call SaveInteger(N74,1093679184,2,70)
call SaveInteger(N74,1093679184,3,70)
call SaveInteger(N74,1093681987,1,22)
call SaveInteger(N74,1093681987,2,22)
call SaveInteger(N74,1093681987,3,22)
call SaveInteger(N74,1093685067,1,160)
call SaveInteger(N74,1093685067,2,160)
call SaveInteger(N74,1093685067,3,160)
call SaveInteger(N74,1093752407,1,160)
call SaveInteger(N74,1093752407,2,160)
call SaveInteger(N74,1093752407,3,160)
call SaveInteger(N74,1093810258,1,135)
call SaveInteger(N74,1093810258,2,135)
call SaveInteger(N74,1093810258,3,135)
call SaveInteger(N74,1093810259,1,100)
call SaveInteger(N74,1093810259,2,70)
call SaveInteger(N74,1093810259,3,40)
call SaveInteger(N74,1395667000,1,165)
call SaveInteger(N74,1395667000,2,165)
call SaveInteger(N74,1395667000,3,165)
call SaveInteger(N74,(1395667029),(1),(165))
call SaveInteger(N74,(1395667029),(2),(165))
call SaveInteger(N74,(1395667029),(3),(165))
call SaveInteger(N74,(1093751874),(1),(90))
call SaveInteger(N74,(1093751874),(2),(75))
call SaveInteger(N74,(1093751874),(3),(60))
call SaveInteger(N74,(1093752118),(1),(85))
call SaveInteger(N74,(1093752118),(2),(85))
call SaveInteger(N74,(1093752118),(3),(85))
call SaveInteger(N74,(1093751861),(1),(55))
call SaveInteger(N74,(1093751861),(2),(50))
call SaveInteger(N74,(1093751861),(3),(45))
call SaveInteger(N74,(1093808949),(1),(55))
call SaveInteger(N74,(1093808949),(2),(50))
call SaveInteger(N74,(1093808949),(3),(45))
call SaveInteger(N74,(1093751617),(1),(50))
call SaveInteger(N74,(1093751617),(2),(50))
call SaveInteger(N74,(1093751617),(3),(50))
call SaveInteger(N74,(1093751371),(1),(110))
call SaveInteger(N74,(1093751371),(2),(110))
call SaveInteger(N74,(1093751371),(3),(110))
call SaveInteger(N74,(1093753169),(1),(30))
call SaveInteger(N74,(1093753169),(2),(24))
call SaveInteger(N74,(1093753169),(3),(18))
call SaveInteger(N74,(1093809992),(1),(20))
call SaveInteger(N74,(1093809992),(2),(18))
call SaveInteger(N74,(1093809992),(3),(16))
call SaveInteger(N74,(1093812807),(1),(60))
call SaveInteger(N74,(1093812807),(2),(40))
call SaveInteger(N74,(1093812807),(3),(20))
call SaveInteger(N74,(1093813065),(1),(50))
call SaveInteger(N74,(1093813065),(2),(50))
call SaveInteger(N74,(1093813065),(3),(50))
call SaveInteger(N74,(1093813557),(1),(8))
call SaveInteger(N74,(1093813557),(2),(8))
call SaveInteger(N74,(1093813557),(3),(8))
call SaveInteger(N74,(1093815600),(1),(65))
call SaveInteger(N74,(1093815600),(2),(60))
call SaveInteger(N74,(1093815600),(3),(55))
call SaveInteger(N74,(1093687856),(1),(90))
call SaveInteger(N74,(1093687856),(2),(80))
call SaveInteger(N74,(1093687856),(3),(70))
call SaveInteger(N74,(1093816118),(1),(120))
call SaveInteger(N74,(1093816118),(2),(90))
call SaveInteger(N74,(1093816118),(3),(60))
set t=null
endfunction
function X98 takes nothing returns boolean
local player p
local integer i
local integer id
local integer XD8
set i=1
loop
exitwhen i>5
set p=Z7[i]
set id=GetPlayerId(p)
set XD8=GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)
if XD8<VG4[id]then
set VG4[id]=XD8
endif
set p=A7[i]
set id=GetPlayerId(p)
set XD8=GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)
if XD8<VG4[id]then
set VG4[id]=XD8
endif
set i=i+1
endloop
return false
endfunction
function XE8 takes nothing returns nothing
endfunction
function XF8 takes nothing returns nothing
local integer id=GetUnitTypeId(GetTriggerUnit())
if GetOwningPlayer(GetTriggerUnit())==B7 then
set MU[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=MU[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
elseif(id==1969711215)then
if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
set U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
else
set T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
endif
elseif(id==1970169187)then
if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
set U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
else
set T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
endif
elseif(id==1702061422)then
if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
set U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
else
set T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
endif
elseif(id==1701081721)then
if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
set U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
else
set T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
endif
elseif(id==1966092337)then
if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
set U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
else
set T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
endif
elseif(id==1966092338)then
if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
set U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
else
set T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
endif
elseif(id==1697656918)then
if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
set U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
else
set T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
endif
elseif(id==1697656919)then
if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
set U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
else
set T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
endif
elseif(id==1700946284)then
if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
set U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
else
set T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
endif
elseif(id==1697657398)then
if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
set U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
else
set T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
endif
elseif(id==1970107511)then
if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
set U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
else
set T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
endif
elseif(id==1966092370)then
if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
set U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
else
set T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
endif
endif
call XE8()
endfunction
function XG8 takes integer i returns nothing
local integer x=1
local integer y=1
set NM4[i]=null
set NN4[i]=0
set NO4[i]=false
loop
exitwhen y>NP4
if NN4[y]!=0 then
set qu[x]=NM4[y]
set Qu[x]=NN4[y]
set Su[x]=NO4[y]
set NM4[y]=null
set NN4[y]=0
set NO4[y]=false
set x=x+1
endif
set y=y+1
endloop
set NP4=x-1
set x=1
loop
exitwhen x>NP4
set NM4[x]=qu[x]
set NN4[x]=Qu[x]
set NO4[x]=Su[x]
set x=x+1
endloop
endfunction
function XH8 takes nothing returns nothing
local integer T8
local integer U8
local integer XI8
local integer XJ8
local integer i
local player p
set xY=xY+1
set HB4=0
set HC4=0
set i=0
loop
exitwhen i>5
set p=Z7[i]
if M8(p)then
set HB4=HB4+1
endif
set p=A7[i]
if M8(p)then
set HC4=HC4+1
endif
set i=i+1
endloop
if a2==false then
set ae=HB4
set ne=HC4
endif
set T8=1
set U8=5
set XI8=1
loop
exitwhen T8>U8
set p=Z7[T8]
if M8(p)then
set O7[XI8]=p
set XI8=XI8+1
endif
set T8=T8+1
endloop
set T8=1
set U8=5
set XI8=1
loop
exitwhen T8>U8
set p=A7[T8]
if M8(p)then
set P7[XI8]=p
set XI8=XI8+1
endif
set T8=T8+1
endloop
if xY==1 then
set T4=CreateMultiboardBJ(7+6+2,3+HC4+HB4," ")
call MultiboardMinimize(T4,true)
endif
call l6(T4,2,1,"CD")
call l6(T4,3,1,"|c00838B8BL|r")
call l6(T4,4,1,Dj+"K|r")
call l6(T4,5,1,gj+"D|r")
call l6(T4,6,1,Gj+"A|r")
call l6(T4,1,2,GetObjectName(1848656971))
call l6(T4,4,2,Dj+"0|r")
call l6(T4,5,2,gj+"0|r")
call l6(T4,1,3+HB4,GetObjectName(1848656975))
call l6(T4,4,3+HB4,Dj+"0|r")
call l6(T4,5,3+HB4,gj+"0|r")
call U6(T4,1,2,(B97(SubString(Q[GetPlayerId((Z7[0]))],4,6)))/ 255.0*100,(B97(SubString(Q[GetPlayerId((Z7[0]))],6,8)))/ 255.0*100,(B97(SubString(Q[GetPlayerId((Z7[0]))],8,10)))/ 255.0*100,0)
call U6(T4,1,3+HB4,(B97(SubString(Q[GetPlayerId((A7[0]))],4,6)))/ 255.0*100,(B97(SubString(Q[GetPlayerId((A7[0]))],6,8)))/ 255.0*100,(B97(SubString(Q[GetPlayerId((A7[0]))],8,10)))/ 255.0*100,0)
set T8=1
set U8=3+HC4+HB4
loop
exitwhen T8>U8
call x7(T4,1,T8,10.8)
call x7(T4,2,T8,2)
call x7(T4,3,T8,2)
call x7(T4,4,T8,1.3)
call x7(T4,5,T8,1.3)
call x7(T4,6,T8,1.3)
call x7(T4,7,T8,2.5)
call x7(T4,8,T8,0.01)
call x7(T4,9,T8,0.01)
call x7(T4,10,T8,0.01)
call x7(T4,11,T8,0.01)
call x7(T4,12,T8,0.01)
call x7(T4,13,T8,0.01)
call x7(T4,14,T8,0.01)
call x7(T4,15,T8,0.01)
set T8=T8+1
endloop
set T8=1
set U8=7+6+2
loop
exitwhen T8>U8
set XI8=1
set XJ8=3+HC4+HB4
loop
exitwhen XI8>XJ8
call s6(T4,T8,XI8,true,false)
set XI8=XI8+1
endloop
set T8=T8+1
endloop
set T8=1
set U8=HB4
loop
exitwhen T8>U8
call s6(T4,1,T8+2,true,true)
call U6(T4,7,T8+2,255,204,0,0)
set N94[GetPlayerId(O7[T8])]=1-1
set ND4[GetPlayerId(O7[T8])]=T8+2-1
call l6(T4,1,T8+2,(KZ4[GetPlayerId((O7[T8]))]))
if Z_7(O7[T8])then
call U6(T4,1,T8+2,(B97(SubString(Q[GetPlayerId((O7[T8]))],4,6)))/ 255.0*100,(B97(SubString(Q[GetPlayerId((O7[T8]))],6,8)))/ 255.0*100,(B97(SubString(Q[GetPlayerId((O7[T8]))],8,10)))/ 255.0*100,0)
call U6(T4,2,T8+2,(B97(SubString(Q[GetPlayerId((O7[T8]))],4,6)))/ 255.0*100,(B97(SubString(Q[GetPlayerId((O7[T8]))],6,8)))/ 255.0*100,(B97(SubString(Q[GetPlayerId((O7[T8]))],8,10)))/ 255.0*100,0)
else
call l6(T4,1,T8+2,"|c00333333"+(KZ4[GetPlayerId((O7[T8]))])+"|r")
endif
call l6(T4,4,(T8+2),Dj+"0|r")
call l6(T4,5,(T8+2),gj+"0|r")
call l6(T4,6,(T8+2),Gj+"0|r")
set T8=T8+1
endloop
set T8=1
set U8=HC4
loop
exitwhen T8>U8
call s6(T4,1,T8+3+HB4,true,true)
call U6(T4,7,T8+3+HB4,255,204,0,0)
set N94[GetPlayerId(P7[T8])]=1-1
set ND4[GetPlayerId(P7[T8])]=T8+3+HB4-1
call l6(T4,1,T8+3+HB4,(KZ4[GetPlayerId((P7[T8]))]))
if Z_7(P7[T8])then
call U6(T4,1,T8+3+HB4,(B97(SubString(Q[GetPlayerId((P7[T8]))],4,6)))/ 255.0*100,(B97(SubString(Q[GetPlayerId((P7[T8]))],6,8)))/ 255.0*100,(B97(SubString(Q[GetPlayerId((P7[T8]))],8,10)))/ 255.0*100,0)
call U6(T4,2,T8+3+HB4,(B97(SubString(Q[GetPlayerId((P7[T8]))],4,6)))/ 255.0*100,(B97(SubString(Q[GetPlayerId((P7[T8]))],6,8)))/ 255.0*100,(B97(SubString(Q[GetPlayerId((P7[T8]))],8,10)))/ 255.0*100,0)
else
call l6(T4,1,T8+3+HB4,"|c00333333"+(KZ4[GetPlayerId((P7[T8]))])+"|r")
endif
call l6(T4,4,(T8+3+HB4),Dj+"0|r")
call l6(T4,5,(T8+3+HB4),gj+"0|r")
call l6(T4,6,(T8+3+HB4),Gj+"0|r")
set T8=T8+1
endloop
set oY=1
set rY=3+HC4+HB4-2
if V8 and(GetLocalPlayer()==KX4 or GetLocalPlayer()==KY4)and xY==1 then
call MultiboardDisplay(T4,false)
endif
call s6(T4,7,1,false,true)
call P6(T4,7,1,"UI\\Feedback\\Resources\\ResourceGold.blp")
call XE8()
if xY>1 then
call TriggerExecute(vA)
endif
endfunction
function XK8 takes integer O5,boolean XM8 returns string
if not IsPlayerInForce(Player(O5),QX4)then
return" "
elseif M7[O5]==null then
return F27+GetObjectName(1496395829)
elseif not SE7(M7[O5])then
return F27+GetObjectName(1496395830)
elseif Bz<QD4-25. then
return F27+GetObjectName(1496395831)
elseif Bz<QD4 then
return GetObjectName(1496395832)
elseif eY[O5]==1 then
if SH7(M7[O5])then
return GetObjectName(1496395833)
elseif G0[48+O5]then
return GetObjectName(1496396080)
elseif h4[O5]!=null then
if XM8 then
return GetObjectName(1496396338)+Q[GetPlayerId(GetOwningPlayer(h4[O5]))]+CJ7(h4[O5])+"|r"
else
return GetObjectName(1496396337)+Q[GetPlayerId(GetOwningPlayer(h4[O5]))]+CJ7(h4[O5])+"|r"
endif
elseif h9[64+O5]!=null then
return GetObjectName(1496396081)+QY7(eY[80+O5],false)
elseif eY[80+O5]<=2 then
return GetObjectName(1496396082)+QY7(eY[80+O5],false)
else
return GetObjectName(1496396082)
endif
elseif eY[O5]==2 then
return GetObjectName(1496396083)
elseif eY[O5]==3 then
return GetObjectName(1496396084)+QY7(EC7[64+O5],true)
elseif eY[O5]==4 then
return GetObjectName(1496396085)+QY7(EC7[64+O5],true)
elseif eY[O5]==9 then
if eY[272+O5]==0 then
return GetObjectName(1496396086)
elseif h8[96+O5]!=null then
set bj_forLoopAIndex=GetPlayerId(GetOwningPlayer(h8[96+O5]))
return GetObjectName(1496396087)+Q[bj_forLoopAIndex]+I2S(bj_forLoopAIndex)+"|r"
else
return GetObjectName(1496330545)+QY7(eY[288+O5],false)
endif
elseif eY[O5]==10 then
return GetObjectName(1496396088)
elseif eY[O5]==11 then
if XM8 then
return GetObjectName(1496396089)
else
return GetObjectName(1496396336)
endif
endif
return" "
endfunction
function XN8 takes nothing returns nothing
local integer T8
local integer U8
local string XO8
call l6(T4,4,2,Dj+I2S(T[GetPlayerId(Z7[0])])+"|r")
call l6(T4,5,2,gj+I2S(V[GetPlayerId(Z7[0])])+"|r")
call l6(T4,4,3+HB4,Dj+I2S(T[GetPlayerId(A7[0])])+"|r")
call l6(T4,5,3+HB4,gj+I2S(V[GetPlayerId(A7[0])])+"|r")
set T8=1
set U8=HB4
loop
exitwhen T8>U8
call l6(T4,4,(T8+2),Dj+I2S(T[GetPlayerId(O7[T8])])+"|r")
call l6(T4,5,(T8+2),gj+I2S(V[GetPlayerId(O7[T8])])+"|r")
call l6(T4,6,(T8+2),Gj+I2S(IU[GetPlayerId(O7[T8])])+"|r")
set XO8=XK8(GetPlayerId(O7[T8]),false)
if O7[T8]==QT4 then
set XO8=G47
endif
if(not DQ7[32+GetPlayerId(GetLocalPlayer())])then
set XO8=" "
elseif(not(IsPlayerAlly(GetLocalPlayer(),Z7[0])))then
set XO8=" "
endif
call l6(T4,15,T8+2,XO8)
set XO8=" "
if DQ7[80+GetPlayerId(GetLocalPlayer())]and Z27(O7[T8])then
if EU then
set XO8=DA7+"+"+I2S(R2I(GetPlayerHandicapXPBJ(O7[T8])-100.))+"%|r"
endif
if EU and FU then
set XO8=XO8+" - "
endif
if FU then
set XO8=XO8+DB7+"+"+I2S(Z84[48+GetPlayerId(O7[T8])])+"|r"
endif
endif
call l6(T4,14,(T8+2),XO8)
set T8=T8+1
endloop
set T8=1
set U8=HC4
loop
exitwhen T8>U8
call l6(T4,4,(T8+3+HB4),Dj+I2S(T[GetPlayerId(P7[T8])])+"|r")
call l6(T4,5,(T8+3+HB4),gj+I2S(V[GetPlayerId(P7[T8])])+"|r")
call l6(T4,6,(T8+3+HB4),Gj+I2S(IU[GetPlayerId(P7[T8])])+"|r")
set XO8=XK8(GetPlayerId(P7[T8]),false)
if P7[T8]==QU4 then
set XO8=G47
endif
if(not DQ7[32+GetPlayerId(GetLocalPlayer())])then
set XO8=" "
elseif(not(IsPlayerAlly(GetLocalPlayer(),A7[0])))then
set XO8=" "
endif
call l6(T4,15,(T8+3+HB4),XO8)
set XO8=" "
if DQ7[80+GetPlayerId(GetLocalPlayer())]and Z27(P7[T8])then
if EU then
set XO8=DA7+"+"+I2S(R2I(GetPlayerHandicapXPBJ(P7[T8])-100.))+"%|r"
endif
if EU and FU then
set XO8=XO8+" - "
endif
if FU then
set XO8=XO8+DB7+"+"+I2S(Z84[48+GetPlayerId(P7[T8])])+"|r"
endif
endif
call l6(T4,14,(T8+3+HB4),XO8)
set T8=T8+1
endloop
endfunction
function XP8 takes nothing returns boolean
if(GetUnitTypeId(GetTriggerUnit())==1697656914)then
return true
endif
if(GetUnitTypeId(GetTriggerUnit())==1697657137)then
return true
endif
if(GetUnitTypeId(GetTriggerUnit())==1697656915)then
return true
endif
if(GetUnitTypeId(GetTriggerUnit())==1697657145)then
return true
endif
return false
endfunction
function XQ8 takes nothing returns nothing
set F[1]=(F[1]+1)
endfunction
function XR8 takes nothing returns boolean
if(GetUnitTypeId(GetTriggerUnit())==1966092365)then
return true
endif
if(GetUnitTypeId(GetTriggerUnit())==1966092356)then
return true
endif
if(GetUnitTypeId(GetTriggerUnit())==1966092366)then
return true
endif
if(GetUnitTypeId(GetTriggerUnit())==1966092372)then
return true
endif
return false
endfunction
function XS8 takes nothing returns nothing
set F[2]=(F[2]+1)
endfunction
function XT8 takes integer a returns integer
local integer i=0
local integer x=0
local string s=I2S(a)
loop
exitwhen i>StringLength(s)
if SubString(s,i,i+1)=="1" then
set x=x+1
endif
set i=i+1
endloop
return x
endfunction
function XU8 takes player XV8,integer XW8 returns string
if IsPlayerAlly(GetLocalPlayer(),XV8)==true then
return J78(UnitItemInSlot(M7[GetPlayerId(XV8)],XW8-1))
else
return"UI\\Widgets\\Console\\Undead\\undead-inventory-slotfiller.blp"
endif
endfunction
function XX8 takes nothing returns nothing
local integer T8
local integer U8
local string H38
local real XY8
local integer r
local integer i
local integer array time_1a
local string array color_1a
local integer index_1a=0
local integer array time_1b
local string array color_1b
local integer index_1b=0
local integer x=0
local integer id
local string XZ8
local string XA8
local string XB8
local string XC8
local string X38
local string s2=" "
local string s
local real X68
local string spacer
local integer XL8=0
local string X18=""
local string X08=""
local integer X58=0
local integer X28=0
local string X_8=""
local string XO8
if T4==null then
return
endif
set i=1
loop
exitwhen i>5
set r=R2I(TimerGetRemaining(U[GetPlayerId(Z7[i])]))
if r>0 then
set XL8=XL8+XT8(r)
if X58==0 then
if r<10 then
set X18=Q[GetPlayerId(Z7[i])]+"0"+I2S(r)+" |r"
else
set X18=Q[GetPlayerId(Z7[i])]+I2S(r)+" |r"
endif
else
if r<10 then
set X18=X18+Hj+"| |r"+Q[GetPlayerId(Z7[i])]+"0"+I2S(r)+" |r"
else
set X18=X18+Hj+"| |r"+Q[GetPlayerId(Z7[i])]+I2S(r)+" |r"
endif
endif
set X58=X58+1
endif
set i=i+1
endloop
if X58>0 then
if IsPlayerAlly(GetLocalPlayer(),Z7[0])==true then
set X18=Hj+"["+GetObjectName(1848658515)+" |r"+X18+Hj+"]|r"
else
set X18=fj+"["+GetObjectName(1848658514)+" |r"+X18+fj+"]|r"
endif
endif
set i=1
loop
exitwhen i>5
set r=R2I(TimerGetRemaining(U[GetPlayerId(A7[i])]))
if r>0 then
set XL8=XL8+XT8(r)
if X28==0 then
if r<10 then
set X08=Q[GetPlayerId(A7[i])]+"0"+I2S(r)+" |r"
else
set X08=Q[GetPlayerId(A7[i])]+I2S(r)+" |r"
endif
else
if r<10 then
set X08=X08+Hj+"| |r"+Q[GetPlayerId(A7[i])]+"0"+I2S(r)+" |r"
else
set X08=X08+Hj+"| |r"+Q[GetPlayerId(A7[i])]+I2S(r)+" |r"
endif
endif
set X28=X28+1
endif
set i=i+1
endloop
if X28>0 then
if IsPlayerAlly(GetLocalPlayer(),A7[0])==true then
set X08=Hj+"["+GetObjectName(1848658515)+" |r"+X08+Hj+"]|r"
else
set X08=fj+"["+GetObjectName(1848658514)+" |r"+X08+fj+"]|r"
endif
endif
if T4!=null then
set id=GetPlayerId(GetLocalPlayer())
if id>=0 and id<16 then
if AW[x]then
set XZ8=I2S(T[id])
set XA8=I2S(V[id])
set XB8=I2S(IU[id])
set XC8=I2S(T7[id])
set X38=I2S(U7[id])
set s2=" |c00838B8B("+XZ8+"/"+XA8+"/"+XB8+" - "+XC8+"/"+X38+" - |r|c00FFDC00"+I2S(VG4[id])+"|r |c00838B8B)|r"
endif
endif
endif
if X28==0 and X58==0 then
call MultiboardSetTitleText(T4,s2)
else
if IsPlayerAlly(GetLocalPlayer(),Z7[0])==true then
call MultiboardSetTitleText(T4,X08+" "+X18+" "+s2)
else
call MultiboardSetTitleText(T4,X18+" "+X08+" "+s2)
endif
endif
if(V8 and(GetLocalPlayer()==KX4 or GetLocalPlayer()==KY4))==false then
call MultiboardDisplay(T4,true)
endif
if Nb[GetPlayerId(GetLocalPlayer())]==false then
call SetWaterBaseColor(0,0,255,255)
endif
set XO8=" "
if DQ7[32+GetPlayerId(GetLocalPlayer())]then
set XO8=G77
endif
call l6(T4,15,1,XO8)
set XO8=" "
if DQ7[80+GetPlayerId(GetLocalPlayer())]then
set XO8=F_7
if EU then
set XO8=XO8+G87
endif
if EU and FU then
set XO8=XO8+" - "
endif
if FU then
set XO8=XO8+G97
endif
endif
call l6(T4,14,1,XO8)
set T8=1
set U8=HB4
loop
exitwhen T8>U8
call P6(T4,1,T8+2,CN7(M7[GetPlayerId(O7[T8])]))
call l6(T4,3,T8+2,"|c00838B8B"+I2S(GetHeroLevel(M7[GetPlayerId(O7[T8])]))+"|r")
if ab[GetPlayerId(GetLocalPlayer())]then
call x7(T4,7,1,3)
call x7(T4,8,1,2.8)
call x7(T4,9,1,0.8)
call x7(T4,10,1,0.8)
call x7(T4,11,1,0.8)
call x7(T4,12,1,0.8)
call x7(T4,13,1,PL7(DQ7[32+GetPlayerId(GetLocalPlayer())],1.5,0.1))
call x7(T4,7,T8+2,3)
call x7(T4,8,T8+2,1.1)
call x7(T4,9,T8+2,1.1)
call x7(T4,10,T8+2,1.1)
call x7(T4,11,T8+2,1.1)
call x7(T4,12,T8+2,1.1)
call x7(T4,13,T8+2,PL7(DQ7[32+GetPlayerId(GetLocalPlayer())],1.5,0.1))
call s6(T4,8,T8+2,false,true)
call s6(T4,9,T8+2,false,true)
call s6(T4,10,T8+2,false,true)
call s6(T4,11,T8+2,false,true)
call s6(T4,12,T8+2,false,true)
call s6(T4,13,T8+2,false,true)
call l6(T4,8,1,"Items")
else
call x7(T4,7,1,2)
call x7(T4,8,1,0.1)
call x7(T4,9,1,0.1)
call x7(T4,10,1,0.1)
call x7(T4,11,1,0.1)
call x7(T4,12,1,0.1)
call x7(T4,13,1,0.1)
call x7(T4,7,T8+2,2.5)
call x7(T4,8,T8+2,0.1)
call x7(T4,9,T8+2,0.1)
call x7(T4,10,T8+2,0.1)
call x7(T4,11,T8+2,0.1)
call x7(T4,12,T8+2,0.1)
call x7(T4,13,T8+2,0.1)
call s6(T4,8,T8+2,false,false)
call s6(T4,9,T8+2,false,false)
call s6(T4,10,T8+2,false,false)
call s6(T4,11,T8+2,false,false)
call s6(T4,12,T8+2,false,false)
call s6(T4,13,T8+2,false,false)
call l6(T4,8,1," ")
endif
call P6(T4,8,T8+2,XU8(O7[T8],1))
call P6(T4,9,T8+2,XU8(O7[T8],2))
call P6(T4,10,T8+2,XU8(O7[T8],3))
call P6(T4,11,T8+2,XU8(O7[T8],4))
call P6(T4,12,T8+2,XU8(O7[T8],5))
call P6(T4,13,T8+2,XU8(O7[T8],6))
if(CT7(M7[GetPlayerId(O7[T8])])and M7[GetPlayerId(O7[T8])]!=null and TimerGetRemaining(U[GetPlayerId(O7[T8])])>0)then
if IsPlayerAlly(GetLocalPlayer(),O7[T8])then
set X_8=Hj+" ("+(I2S(R2I(TimerGetRemaining(U[GetPlayerId(O7[T8])]))))+")|r"
else
set X_8=fj+" ("+(I2S(R2I(TimerGetRemaining(U[GetPlayerId(O7[T8])]))))+")|r"
endif
else
set X_8="  "
endif
if U2[GetPlayerId(O7[T8])]then
call l6(T4,1,T8+2,"|c00333333"+(KZ4[GetPlayerId((O7[T8]))])+"|r"+X_8)
else
call l6(T4,1,T8+2,(KZ4[GetPlayerId((O7[T8]))])+X_8)
endif
set X68=(TimerGetRemaining(N84[GetPlayerId((O7[T8]))]))
if X68>0 then
set s=I2S(R2I(X68))
else
set s=" "
endif
if IsPlayerAlly(GetLocalPlayer(),O7[T8])==false then
call l6(T4,7,T8+2," ")
set s=" "
else
call l6(T4,7,T8+2,"|cffffcc00"+I2S(R2I(GetPlayerState(O7[T8],PLAYER_STATE_RESOURCE_GOLD)))+"|r")
endif
call l6(T4,2,T8+2,s)
set XO8=XK8(GetPlayerId(O7[T8]),false)
if O7[T8]==QT4 then
set XO8=G47
endif
if(not DQ7[32+GetPlayerId(GetLocalPlayer())])then
set XO8=" "
elseif(not(IsPlayerAlly(GetLocalPlayer(),Z7[0])))then
set XO8=" "
endif
call l6(T4,15,T8+2,XO8)
set XO8=" "
if DQ7[80+GetPlayerId(GetLocalPlayer())]and Z27(O7[T8])then
if EU then
set XO8=DA7+"+"+I2S(R2I(GetPlayerHandicapXPBJ(O7[T8])-100.))+"%|r"
endif
if EU and FU then
set XO8=XO8+" - "
endif
if FU then
set XO8=XO8+DB7+"+"+I2S(Z84[48+GetPlayerId(O7[T8])])+"|r"
endif
endif
call l6(T4,14,T8+2,XO8)
set T8=T8+1
endloop
set T8=1
set U8=HC4
loop
exitwhen T8>U8
call P6(T4,1,T8+3+HB4,CN7(M7[GetPlayerId(P7[T8])]))
call l6(T4,3,T8+3+HB4,"|c00838B8B"+I2S(GetHeroLevel(M7[GetPlayerId(P7[T8])]))+"|r")
if ab[GetPlayerId(GetLocalPlayer())]then
call x7(T4,7,1,3)
call x7(T4,8,1,2.8)
call x7(T4,9,1,0.8)
call x7(T4,10,1,0.8)
call x7(T4,11,1,0.8)
call x7(T4,12,1,0.8)
call x7(T4,13,1,PL7(DQ7[32+GetPlayerId(GetLocalPlayer())],1.5,0.1))
call x7(T4,7,T8+3+HB4,3)
call x7(T4,8,T8+3+HB4,1.1)
call x7(T4,9,T8+3+HB4,1.1)
call x7(T4,10,T8+3+HB4,1.1)
call x7(T4,11,T8+3+HB4,1.1)
call x7(T4,12,T8+3+HB4,1.1)
call x7(T4,13,T8+3+HB4,PL7(DQ7[32+GetPlayerId(GetLocalPlayer())],1.5,0.1))
call s6(T4,8,T8+3+HB4,false,true)
call s6(T4,9,T8+3+HB4,false,true)
call s6(T4,10,T8+3+HB4,false,true)
call s6(T4,11,T8+3+HB4,false,true)
call s6(T4,12,T8+3+HB4,false,true)
call s6(T4,13,T8+3+HB4,false,true)
call l6(T4,8,1,"Items")
else
call x7(T4,7,1,2)
call x7(T4,8,1,0.1)
call x7(T4,9,1,0.1)
call x7(T4,10,1,0.1)
call x7(T4,11,1,0.1)
call x7(T4,12,1,0.1)
call x7(T4,13,1,0.1)
call x7(T4,7,T8+3+HB4,2.5)
call x7(T4,8,T8+3+HB4,0.1)
call x7(T4,9,T8+3+HB4,0.1)
call x7(T4,10,T8+3+HB4,0.1)
call x7(T4,11,T8+3+HB4,0.1)
call x7(T4,12,T8+3+HB4,0.1)
call x7(T4,13,T8+3+HB4,0.1)
call s6(T4,8,T8+3+HB4,false,false)
call s6(T4,9,T8+3+HB4,false,false)
call s6(T4,10,T8+3+HB4,false,false)
call s6(T4,11,T8+3+HB4,false,false)
call s6(T4,12,T8+3+HB4,false,false)
call s6(T4,13,T8+3+HB4,false,false)
call l6(T4,8,1," ")
endif
call P6(T4,8,T8+3+HB4,XU8(P7[T8],1))
call P6(T4,9,T8+3+HB4,XU8(P7[T8],2))
call P6(T4,10,T8+3+HB4,XU8(P7[T8],3))
call P6(T4,11,T8+3+HB4,XU8(P7[T8],4))
call P6(T4,12,T8+3+HB4,XU8(P7[T8],5))
call P6(T4,13,T8+3+HB4,XU8(P7[T8],6))
if(CT7(M7[GetPlayerId(P7[T8])])and M7[GetPlayerId(P7[T8])]!=null and TimerGetRemaining(U[GetPlayerId(P7[T8])])>0)then
if IsPlayerAlly(GetLocalPlayer(),P7[T8])then
set X_8=Hj+" ("+(I2S(R2I(TimerGetRemaining(U[GetPlayerId(P7[T8])]))))+")|r"
else
set X_8=fj+" ("+(I2S(R2I(TimerGetRemaining(U[GetPlayerId(P7[T8])]))))+")|r"
endif
else
set X_8="  "
endif
if U2[GetPlayerId(P7[T8])]then
call l6(T4,1,T8+3+HB4,"|c00333333"+(KZ4[GetPlayerId((P7[T8]))])+"|r"+X_8)
else
call l6(T4,1,T8+3+HB4,(KZ4[GetPlayerId((P7[T8]))])+X_8)
endif
set X68=(TimerGetRemaining(N84[GetPlayerId((P7[T8]))]))
if X68>0 then
set s=I2S(R2I(X68))
else
set s=" "
endif
if IsPlayerAlly(GetLocalPlayer(),P7[T8])==false then
call l6(T4,7,T8+3+HB4," ")
set s=" "
else
call l6(T4,7,T8+3+HB4,"|cffffcc00"+I2S(R2I(GetPlayerState(P7[T8],PLAYER_STATE_RESOURCE_GOLD)))+"|r")
endif
call l6(T4,2,T8+3+HB4,s)
set XO8=XK8(GetPlayerId(P7[T8]),false)
if P7[T8]==QU4 then
set XO8=G47
endif
if(not DQ7[32+GetPlayerId(GetLocalPlayer())])then
set XO8=" "
elseif(not(IsPlayerAlly(GetLocalPlayer(),A7[0])))then
set XO8=" "
endif
call l6(T4,15,T8+3+HB4,XO8)
set XO8=" "
if DQ7[80+GetPlayerId(GetLocalPlayer())]and Z27(P7[T8])then
if EU then
set XO8=DA7+"+"+I2S(R2I(GetPlayerHandicapXPBJ(P7[T8])-100.))+"%|r"
endif
if EU and FU then
set XO8=XO8+" - "
endif
if FU then
set XO8=XO8+DB7+"+"+I2S(Z84[48+GetPlayerId(P7[T8])])+"|r"
endif
endif
call l6(T4,14,T8+3+HB4,XO8)
set T8=T8+1
endloop
endfunction
function Y48 takes nothing returns boolean
local real Y78
local real Y88
local unit u
if Vz==false then
set u=JJ4
if u!=null then
set Y78=GetUnitState(u,UNIT_STATE_LIFE)
set Y88=Y78+Q74
if Y88<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-aY)then
call SetUnitState(u,UNIT_STATE_LIFE,Y88)
endif
endif
endif
if Ez==false then
set u=JK4
if u!=null then
set Y78=GetUnitState(u,UNIT_STATE_LIFE)
set Y88=Y78+Q74
if Y88<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-VY)then
call SetUnitState(u,UNIT_STATE_LIFE,Y88)
endif
endif
endif
if Xz==false then
set u=JM4
if u!=null then
set Y78=GetUnitState(u,UNIT_STATE_LIFE)
set Y88=Y78+Q74
if Y88<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-EY)then
call SetUnitState(u,UNIT_STATE_LIFE,Y88)
endif
endif
endif
if nz==false then
set u=JN4
if u!=null then
set Y78=GetUnitState(u,UNIT_STATE_LIFE)
set Y88=Y78+Q74
if Y88<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-XY)then
call SetUnitState(u,UNIT_STATE_LIFE,Y88)
endif
endif
set u=JO4
if u!=null then
set Y78=GetUnitState(u,UNIT_STATE_LIFE)
set Y88=Y78+Q74
if Y88<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-OY)then
call SetUnitState(u,UNIT_STATE_LIFE,Y88)
endif
endif
set u=JP4
if u!=null then
set Y78=GetUnitState(u,UNIT_STATE_LIFE)
set Y88=Y78+Q74
if Y88<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-IY)then
call SetUnitState(u,UNIT_STATE_LIFE,Y88)
endif
endif
set u=JQ4
if u!=null then
set Y78=GetUnitState(u,UNIT_STATE_LIFE)
set Y88=Y78+Q74
if Y88<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-AY)then
call SetUnitState(u,UNIT_STATE_LIFE,Y88)
endif
endif
set u=JR4
if u!=null then
set Y78=GetUnitState(u,UNIT_STATE_LIFE)
set Y88=Y78+Q74
if Y88<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-bY)then
call SetUnitState(u,UNIT_STATE_LIFE,Y88)
endif
endif
set u=JS4
if u!=null then
set Y78=GetUnitState(u,UNIT_STATE_LIFE)
set Y88=Y78+Q74
if Y88<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-BY)then
call SetUnitState(u,UNIT_STATE_LIFE,Y88)
endif
endif
set u=JT4
if u!=null then
set Y78=GetUnitState(u,UNIT_STATE_LIFE)
set Y88=Y78+Q74
if Y88<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-cY)then
call SetUnitState(u,UNIT_STATE_LIFE,Y88)
endif
endif
set u=JU4
if u!=null then
set Y78=GetUnitState(u,UNIT_STATE_LIFE)
set Y88=Y78+Q74
if Y88<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-CY)then
call SetUnitState(u,UNIT_STATE_LIFE,Y88)
endif
endif
set u=JV4
if u!=null then
set Y78=GetUnitState(u,UNIT_STATE_LIFE)
set Y88=Y78+Q74
if Y88<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-DY)then
call SetUnitState(u,UNIT_STATE_LIFE,Y88)
endif
endif
set u=JW4
if u!=null then
set Y78=GetUnitState(u,UNIT_STATE_LIFE)
set Y88=Y78+Q74
if Y88<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-fY)then
call SetUnitState(u,UNIT_STATE_LIFE,Y88)
endif
endif
set u=JX4
if u!=null then
set Y78=GetUnitState(u,UNIT_STATE_LIFE)
set Y88=Y78+Q74
if Y88<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-FY)then
call SetUnitState(u,UNIT_STATE_LIFE,Y88)
endif
endif
endif
if oz==false then
set u=J04
if u!=null then
set Y78=GetUnitState(u,UNIT_STATE_LIFE)
set Y88=Y78+Q74
if Y88<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-JY)then
call SetUnitState(u,UNIT_STATE_LIFE,Y88)
endif
endif
endif
if rz==false then
set u=J54
if u!=null then
set Y78=GetUnitState(u,UNIT_STATE_LIFE)
set Y88=Y78+Q74
if Y88<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-kY)then
call SetUnitState(u,UNIT_STATE_LIFE,Y88)
endif
endif
endif
if az==false then
set u=J24
if u!=null then
set Y78=GetUnitState(u,UNIT_STATE_LIFE)
set Y88=Y78+Q74
if Y88<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-lY)then
call SetUnitState(u,UNIT_STATE_LIFE,Y88)
endif
endif
endif
if xz==false then
set u=J_4
if u!=null then
set Y78=GetUnitState(u,UNIT_STATE_LIFE)
set Y88=Y78+Q74
if Y88<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-mY)then
call SetUnitState(u,UNIT_STATE_LIFE,Y88)
endif
endif
set u=K44
if u!=null then
set Y78=GetUnitState(u,UNIT_STATE_LIFE)
set Y88=Y78+Q74
if Y88<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-MY)then
call SetUnitState(u,UNIT_STATE_LIFE,Y88)
endif
endif
set u=K74
if u!=null then
set Y78=GetUnitState(u,UNIT_STATE_LIFE)
set Y88=Y78+Q74
if Y88<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-PY)then
call SetUnitState(u,UNIT_STATE_LIFE,Y88)
endif
endif
set u=K84
if u!=null then
set Y78=GetUnitState(u,UNIT_STATE_LIFE)
set Y88=Y78+Q74
if Y88<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-QY)then
call SetUnitState(u,UNIT_STATE_LIFE,Y88)
endif
endif
set u=K94
if u!=null then
set Y78=GetUnitState(u,UNIT_STATE_LIFE)
set Y88=Y78+Q74
if Y88<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-sY)then
call SetUnitState(u,UNIT_STATE_LIFE,Y88)
endif
endif
set u=KD4
if u!=null then
set Y78=GetUnitState(u,UNIT_STATE_LIFE)
set Y88=Y78+Q74
if Y88<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-tY)then
call SetUnitState(u,UNIT_STATE_LIFE,Y88)
endif
endif
set u=KE4
if u!=null then
set Y78=GetUnitState(u,UNIT_STATE_LIFE)
set Y88=Y78+Q74
if Y88<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-TY)then
call SetUnitState(u,UNIT_STATE_LIFE,Y88)
endif
endif
set u=KF4
if u!=null then
set Y78=GetUnitState(u,UNIT_STATE_LIFE)
set Y88=Y78+Q74
if Y88<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-uY)then
call SetUnitState(u,UNIT_STATE_LIFE,Y88)
endif
endif
set u=KG4
if u!=null then
set Y78=GetUnitState(u,UNIT_STATE_LIFE)
set Y88=Y78+Q74
if Y88<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-wY)then
call SetUnitState(u,UNIT_STATE_LIFE,Y88)
endif
endif
set u=KH4
if u!=null then
set Y78=GetUnitState(u,UNIT_STATE_LIFE)
set Y88=Y78+Q74
if Y88<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-YY)then
call SetUnitState(u,UNIT_STATE_LIFE,Y88)
endif
endif
set u=KI4
if u!=null then
set Y78=GetUnitState(u,UNIT_STATE_LIFE)
set Y88=Y78+Q74
if Y88<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-vz)then
call SetUnitState(u,UNIT_STATE_LIFE,Y88)
endif
endif
endif
set u=null
return false
endfunction
function Y98 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if oz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set JY=JY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call U37(GetTriggeringTrigger())
endif
return false
endfunction
function YD8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if rz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set kY=kY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call U37(GetTriggeringTrigger())
endif
return false
endfunction
function YE8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if az or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set lY=lY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call U37(GetTriggeringTrigger())
endif
return false
endfunction
function YF8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set mY=mY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call U37(GetTriggeringTrigger())
endif
return false
endfunction
function YG8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set MY=MY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call U37(GetTriggeringTrigger())
endif
return false
endfunction
function YH8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set PY=PY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call U37(GetTriggeringTrigger())
endif
return false
endfunction
function YI8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set QY=QY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call U37(GetTriggeringTrigger())
endif
return false
endfunction
function YJ8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set sY=sY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call U37(GetTriggeringTrigger())
endif
return false
endfunction
function YK8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set tY=tY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call U37(GetTriggeringTrigger())
endif
return false
endfunction
function YM8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set TY=TY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call U37(GetTriggeringTrigger())
endif
return false
endfunction
function YN8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set uY=uY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call U37(GetTriggeringTrigger())
endif
return false
endfunction
function YO8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set wY=wY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call U37(GetTriggeringTrigger())
endif
return false
endfunction
function YP8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set YY=YY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call U37(GetTriggeringTrigger())
endif
return false
endfunction
function YQ8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set vz=vz+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call U37(GetTriggeringTrigger())
endif
return false
endfunction
function YR8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if Vz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set aY=aY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call U37(GetTriggeringTrigger())
endif
return false
endfunction
function YS8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if Ez or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set VY=VY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call U37(GetTriggeringTrigger())
endif
return false
endfunction
function YT8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if Xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set EY=EY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call U37(GetTriggeringTrigger())
endif
return false
endfunction
function YU8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set XY=XY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call U37(GetTriggeringTrigger())
endif
return false
endfunction
function YV8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set OY=OY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call U37(GetTriggeringTrigger())
endif
return false
endfunction
function YW8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set IY=IY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call U37(GetTriggeringTrigger())
endif
return false
endfunction
function YX8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set AY=AY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call U37(GetTriggeringTrigger())
endif
return false
endfunction
function YY8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set bY=bY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call U37(GetTriggeringTrigger())
endif
return false
endfunction
function YZ8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set BY=BY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call U37(GetTriggeringTrigger())
endif
return false
endfunction
function YA8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set cY=cY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call U37(GetTriggeringTrigger())
endif
return false
endfunction
function YB8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set CY=CY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call U37(GetTriggeringTrigger())
endif
return false
endfunction
function YC8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set DY=DY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call U37(GetTriggeringTrigger())
endif
return false
endfunction
function Y38 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set fY=fY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call U37(GetTriggeringTrigger())
endif
return false
endfunction
function Y68 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set FY=FY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call U37(GetTriggeringTrigger())
endif
return false
endfunction
function YL8 takes nothing returns boolean
if GetOwningPlayer(GetFilterUnit())==A7[0]then
set nz=true
endif
return false
endfunction
function Y18 takes nothing returns boolean
if GetOwningPlayer(GetFilterUnit())==A7[0]then
set Vz=true
endif
return false
endfunction
function Y08 takes nothing returns boolean
if GetOwningPlayer(GetFilterUnit())==A7[0]then
set Ez=true
endif
return false
endfunction
function Y58 takes nothing returns boolean
if GetOwningPlayer(GetFilterUnit())==A7[0]then
set Xz=true
endif
return false
endfunction
function Y28 takes nothing returns boolean
if GetOwningPlayer(GetFilterUnit())==Z7[0]then
set xz=true
endif
return false
endfunction
function Y_8 takes nothing returns boolean
if GetOwningPlayer(GetFilterUnit())==Z7[0]then
set oz=true
endif
return false
endfunction
function Z48 takes nothing returns boolean
if GetOwningPlayer(GetFilterUnit())==Z7[0]then
set rz=true
endif
return false
endfunction
function Z78 takes nothing returns boolean
if GetOwningPlayer(GetFilterUnit())==Z7[0]then
set az=true
endif
return false
endfunction
function Z88 takes nothing returns boolean
local group g=CA7()
set xz=false
set oz=false
set rz=false
set az=false
set nz=false
set Vz=false
set Ez=false
set Xz=false
call GroupEnumUnitsInRect(g,WD,Condition(function YL8))
call GroupEnumUnitsInRect(g,XD,Condition(function YL8))
call GroupEnumUnitsInRect(g,YD,Condition(function YL8))
call GroupEnumUnitsInRect(g,lE,Condition(function YL8))
call GroupEnumUnitsInRect(g,LE,Condition(function YL8))
call GroupEnumUnitsInRect(g,ME,Condition(function YL8))
call GroupEnumUnitsInRect(g,GE,Condition(function Y18))
call GroupEnumUnitsInRect(g,QE,Condition(function Y08))
call GroupEnumUnitsInRect(g,JE,Condition(function Y58))
call GroupEnumUnitsInRect(g,ZD,Condition(function Y28))
call GroupEnumUnitsInRect(g,AD,Condition(function Y28))
call GroupEnumUnitsInRect(g,BD,Condition(function Y28))
call GroupEnumUnitsInRect(g,qE,Condition(function Y28))
call GroupEnumUnitsInRect(g,pE,Condition(function Y28))
call GroupEnumUnitsInRect(g,PE,Condition(function Y28))
call GroupEnumUnitsInRect(g,fE,Condition(function Y_8))
call GroupEnumUnitsInRect(g,FE,Condition(function Z48))
call GroupEnumUnitsInRect(g,gE,Condition(function Z78))
call CZ7(g)
set g=null
return false
endfunction
function Z98 takes nothing returns boolean
if IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetAttacker()))and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1 and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false and GetOwningPlayer(GetFilterUnit())!=B7 then
if IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==true then
set N24=GetFilterUnit()
else
set N_4=GetFilterUnit()
endif
endif
return false
endfunction
function ZD8 takes nothing returns nothing
local unit ZE8=GetAttacker()
local unit m5=GetTriggerUnit()
local group g=CA7()
call GroupEnumUnitsInRange(g,GetUnitX(ZE8),GetUnitY(ZE8),900,Condition(function Z98))
call CZ7(g)
call DisableTrigger(GetTriggeringTrigger())
if N24!=null then
call IssueTargetOrder(ZE8,"attack",N24)
call GroupAddUnit(KU,ZE8)
elseif IsUnitType(m5,UNIT_TYPE_HERO)==true and N_4!=null then
call IssueTargetOrder(ZE8,"attack",N_4)
call GroupAddUnit(KU,ZE8)
endif
call EnableTrigger(GetTriggeringTrigger())
set N24=null
set N_4=null
set ZE8=null
set m5=null
set g=null
endfunction
function ZF8 takes nothing returns nothing
if GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)<1 then
call GroupRemoveUnit(KU,GetEnumUnit())
endif
if GetUnitCurrentOrder(GetEnumUnit())!=OrderId("attack")then
call GroupRemoveUnit(KU,GetEnumUnit())
call IssuePointOrderLoc(GetEnumUnit(),"attack",O8[GetUnitAbilityLevel(GetEnumUnit(),N8)])
endif
endfunction
function ZG8 takes nothing returns boolean
call ForGroup(KU,function ZF8)
return false
endfunction
function ZH8 takes string s returns nothing
set F3=F3+1
set j3[F3]=s
endfunction
function ZI8 takes nothing returns boolean
local integer i=1
loop
exitwhen i>F3
call ExecuteFunc(j3[i])
set i=i+1
endloop
call ExecuteFunc("ZJ8")
call ExecuteFunc("ZK8")
return false
endfunction
function ZM8 takes unit CR7 returns nothing
local trigger t=CreateTrigger()
call TW7(GetHandleId(GetTriggerUnit()),"DamageRegisterAlready",true)
call TriggerRegisterUnitEvent(t,CR7,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function ZI8))
set t=null
endfunction
function ZN8 takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())!=1211117645 and GetUnitTypeId(GetTriggerUnit())!=1211119431 and GetUnitTypeId(GetTriggerUnit())!=1211117657 and GetUnitTypeId(GetTriggerUnit())!=1211122232 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and IsUnitIllusion(GetTriggerUnit())==false and US7(GetHandleId(GetTriggerUnit()),"DamageRegisterAlready")==false then
if O44 and(GetUnitTypeId(GetTriggerUnit())!=1328558160 or(GetUnitTypeId(GetTriggerUnit())==1328558160 and O74))then
call ZM8(GetTriggerUnit())
endif
endif
return false
endfunction
function ZO8 takes nothing returns boolean
local unit u
local real ZP8
local boolean ZQ8=D88()
set u=fP
if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 then
set ZP8=GetUnitState(u,UNIT_STATE_MANA)
if ZQ8 then
set ZP8=DU8(ZP8-25,0)
else
set ZP8=DT8(ZP8+5,300)
endif
endif
set u=FP
if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 then
set ZP8=GetUnitState(u,UNIT_STATE_MANA)
if ZQ8 then
set ZP8=DU8(ZP8-25,0)
else
set ZP8=DT8(ZP8+5,300)
endif
endif
set u=lP
if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 then
set ZP8=GetUnitState(u,UNIT_STATE_MANA)
if ZQ8 then
set ZP8=DU8(ZP8-25,0)
else
set ZP8=DT8(ZP8+5,300)
endif
endif
set u=LP
if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 then
set ZP8=GetUnitState(u,UNIT_STATE_MANA)
if ZQ8 then
set ZP8=DU8(ZP8-25,0)
else
set ZP8=DT8(ZP8+5,300)
endif
endif
set u=MP
if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 then
set ZP8=GetUnitState(u,UNIT_STATE_MANA)
if ZQ8 then
set ZP8=DU8(ZP8-25,0)
else
set ZP8=DT8(ZP8+5,300)
endif
endif
set u=pP
if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 then
set ZP8=GetUnitState(u,UNIT_STATE_MANA)
if ZQ8 then
set ZP8=DU8(ZP8-25,0)
else
set ZP8=DT8(ZP8+5,300)
endif
endif
set u=PP
if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 then
set ZP8=GetUnitState(u,UNIT_STATE_MANA)
if ZQ8 then
set ZP8=DU8(ZP8-25,0)
else
set ZP8=DT8(ZP8+5,300)
endif
endif
set u=qP
if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 then
set ZP8=GetUnitState(u,UNIT_STATE_MANA)
if ZQ8 then
set ZP8=DU8(ZP8-25,0)
else
set ZP8=DT8(ZP8+5,300)
endif
endif
set u=QP
if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 then
set ZP8=GetUnitState(u,UNIT_STATE_MANA)
if ZQ8 then
set ZP8=DU8(ZP8-25,0)
else
set ZP8=DT8(ZP8+5,300)
endif
endif
set u=sP
if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 then
set ZP8=GetUnitState(u,UNIT_STATE_MANA)
if ZQ8 then
set ZP8=DU8(ZP8-25,0)
else
set ZP8=DT8(ZP8+5,300)
endif
endif
set u=tP
if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 then
set ZP8=GetUnitState(u,UNIT_STATE_MANA)
if ZQ8 then
set ZP8=DU8(ZP8-25,0)
else
set ZP8=DT8(ZP8+5,300)
endif
endif
set u=null
return false
endfunction
function Ln takes nothing returns string
return O14
endfunction
function LN takes nothing returns string
return B9
endfunction
function ZR8 takes player j8 returns string
return Q[GetPlayerId(j8)]+B37(j8)+"|r"
endfunction
function ZS8 takes player ZT8 returns string
local string ZU8=I2S(N64[GetPlayerId(ZT8)])
local string ZV8=ZU8
if ZT8==GetLocalPlayer()then
set ZV8=Fx+ZU8+"|r"
endif
return ZV8
endfunction
function ZW8 takes player ZT8 returns string
local string ZU8=I2S(N34[GetPlayerId(ZT8)])
local string ZV8=ZU8
if ZT8==GetLocalPlayer()then
set ZV8=Fx+ZU8+"|r"
endif
return ZV8
endfunction
function Lq takes player j8 returns string
return C9[GetPlayerId(j8)]
endfunction
function JA8 takes nothing returns nothing
local integer i=1
local multiboarditem JU8
loop
exitwhen i>NI4
if Lq(NH4[i])!="Here"then
set JU8=MultiboardGetItem(NE4,NF4[i],NG4[i])
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,"|c00555555"+Lq(NH4[i])+"|r")
call MultiboardSetItemWidth(JU8,.07)
call MultiboardReleaseItem(JU8)
endif
set i=i+1
endloop
endfunction
function ZX8 takes player j8 returns string
local string GV=I2S(GetPlayerState(j8,PLAYER_STATE_RESOURCE_GOLD))
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function ZY8 takes player j8 returns string
local string GV=I2S(Zh[GetPlayerId(j8)])
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function ZZ8 takes player j8 returns string
local string GV=I2S(GetUnitLevel(M7[GetPlayerId(j8)]))
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function ZA8 takes player j8 returns string
local string GV=I2S(H74[GetPlayerId(j8)])
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function ZB8 takes player j8 returns string
local string GV=I2S(NV4[GetPlayerId(j8)])
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function ZC8 takes player j8 returns string
local string GV=I2S(NQ4[GetPlayerId(j8)])
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function Z38 takes player j8 returns string
local string GV=I2S(IU[GetPlayerId(j8)])
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function Z68 takes player j8 returns string
local string GV=I2S(T[GetPlayerId(j8)])
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function ZL8 takes player j8 returns string
local string GV=I2S(V[GetPlayerId(j8)])
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function Z18 takes player j8 returns string
local string GV=I2S(T7[GetPlayerId(j8)])
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function Z08 takes player j8 returns string
local string GV=I2S(U7[GetPlayerId(j8)])
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function Z58 takes player j8 returns string
local string GV=I2S(UQ7(StringHash("Stats"+I2S(GetPlayerId(j8))),"NumOfNeutrals"))
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function Z28 takes player j8 returns string
local string GV=I2S(NS4[GetPlayerId(j8)])
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function Z_8 takes player j8 returns string
local string GV=I2S(NT4[GetPlayerId(j8)])
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function A48 takes player j8 returns string
local string GV=I2S(NR4[GetPlayerId(j8)])
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function A78 takes player j8 returns string
local string LY
local string Lz
local string Lr
local integer k=gD[GetPlayerId(j8)]
local integer d=N04[GetPlayerId(j8)]
if k<1 then
set k=0
endif
if d<1 then
set d=0
endif
set LY=I2S(k)
set Lz=I2S(d)
set Lr=LY+"/"+Lz
if j8==GetLocalPlayer()then
set Lr=Fx+LY+"|r/"+Fx+Lz+"|r"
endif
return Lr
endfunction
function A88 takes player j8 returns string
local integer L0=NU4[GetPlayerId(j8)]
local string JX8
local integer L1
local integer L2
set L1=(L0/60)-(1/2)
set L2=ModuloInteger(L0,60)
if(L2<10)then
set JX8=I2S(L1)+":0"+I2S(L2)
else
set JX8=I2S(L1)+":"+I2S(L2)
endif
if j8==GetLocalPlayer()then
set JX8=Fx+JX8+"|r"
endif
return JX8
endfunction
function A98 takes player p5,player m5 returns string
local string LY
local string Lz
local string Lr
local integer k=UQ7(StringHash("Stats"+I2S(GetPlayerId(p5))),"Killed "+I2S(GetPlayerId(m5)))
local integer d=UQ7(StringHash("Stats"+I2S(GetPlayerId(p5))),"Died To "+I2S(GetPlayerId(m5)))
if k<1 then
set k=0
endif
if d<1 then
set d=0
endif
set LY=I2S(k)
set Lz=I2S(d)
set Lr=LY+"/"+Lz
if p5==GetLocalPlayer()then
set Lr=Fx+LY+"|r/"+Fx+Lz+"|r"
endif
return Lr
endfunction
function AD8 takes boolean QC7 returns nothing
local integer O5=1
local integer i=0
local integer j=1
local item R37=null
loop
exitwhen j>5
if QC7 then
set O5=GetPlayerId(Z7[j])
else
set O5=GetPlayerId(A7[j])
endif
if M7[O5]!=null then
set i=0
loop
exitwhen i>5
set R37=UnitItemInSlot(M7[O5],i)
if R37!=null then
set MP7[O5*6+i]=RB7(R37)
else
set MP7[O5*6+i]=-1
endif
set i=i+1
endloop
else
set i=0
loop
exitwhen i>5
set MP7[O5*6+i]=-1
set i=i+1
endloop
endif
set j=j+1
endloop
set R37=null
endfunction
function AE8 takes nothing returns nothing
call AD8(true)
endfunction
function AF8 takes nothing returns nothing
call AD8(false)
endfunction
function AG8 takes integer O5,integer i returns string
if MP7[O5*6+i]<0 then
return"UI\\Widgets\\Console\\Undead\\undead-inventory-slotfiller.blp"
endif
return CU[MP7[O5*6+i]]
endfunction
function AH8 takes nothing returns nothing
local integer AI8=HB4
local integer AJ8=HC4
local player array AK8
local player array AM8
local integer AN8
local integer AO8
local integer AP8=21+DR8(AI8,AJ8)+1
local integer AQ8=1+(AI8+AJ8)*2
local multiboarditem AR8
local integer i
local integer x
local integer curRow1
local integer curRow2
local string e="|r"
local string c0="|cff99ccff"
local integer AS8
local integer AT8
call ExecuteFunc("AE8")
call ExecuteFunc("AF8")
call DisableTrigger(FS)
call DestroyMultiboard(T4)
call TriggerSleepAction(0.)
if AI8>0 and AJ8>0 then
set AP8=AP8+2
endif
set NE4=CreateMultiboard()
call MultiboardSetItemsWidth(NE4,0)
call MultiboardSetRowCount(NE4,AP8)
call MultiboardSetColumnCount(NE4,AQ8)
call MultiboardSetTitleText(NE4,(GetObjectName((1848657203)))+" "+" - "+(O14))
call MultiboardMinimize(NE4,true)
call MultiboardSetItemsStyle(NE4,false,false)
call MultiboardDisplay(NE4,true)
call MultiboardMinimize(NE4,false)
call MultiboardSetTitleText(NE4,(GetObjectName((1848657203)))+" "+" - "+(O14)+" - "+("|c00ff0303"+I2S(T[GetPlayerId(Z7[0])])+"|r/|c0020c000"+I2S(V[GetPlayerId(Z7[0])])+"|r"))
set x=1
set i=1
loop
exitwhen i>5
if A47(Z7[i])or GetPlayerSlotState(Z7[i])==PLAYER_SLOT_STATE_LEFT then
set AK8[x]=Z7[i]
set x=x+1
endif
set i=i+1
endloop
set x=1
set i=1
loop
exitwhen i>5
if A47(A7[i])or GetPlayerSlotState(A7[i])==PLAYER_SLOT_STATE_LEFT then
set AM8[x]=A7[i]
set x=x+1
endif
set i=i+1
endloop
set i=0
set AO8=0
loop
exitwhen i>AP8
set AR8=MultiboardGetItem(NE4,i,AO8)
call MultiboardSetItemWidth(AR8,0.075)
call MultiboardReleaseItem(AR8)
set i=i+1
endloop
set AN8=0
set AO8=0
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8," ")
call MultiboardReleaseItem(AR8)
set AO8=0
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,false,false)
call MultiboardReleaseItem(AR8)
set AO8=0
set i=1
loop
exitwhen i>AI8
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,ZR8(AK8[i]))
call MultiboardSetItemWidth(AR8,0.07)
call MultiboardReleaseItem(AR8)
set i=i+1
endloop
set i=1
loop
exitwhen i>AJ8
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,ZR8(AM8[i]))
call MultiboardSetItemWidth(AR8,0.07)
call MultiboardReleaseItem(AR8)
set i=i+1
endloop
set AN8=AN8+1
set AO8=0
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,false,false)
call MultiboardReleaseItem(AR8)
set i=1
loop
exitwhen i>AI8
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,true)
call MultiboardSetItemValue(AR8,ZZ8(AK8[i]))
call MultiboardSetItemIcon(AR8,(CN7(M7[GetPlayerId((AK8[i]))])))
call MultiboardSetItemWidth(AR8,0.07)
call MultiboardReleaseItem(AR8)
set i=i+1
endloop
set i=1
loop
exitwhen i>AJ8
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,true)
call MultiboardSetItemValue(AR8,ZZ8(AM8[i]))
call MultiboardSetItemIcon(AR8,(CN7(M7[GetPlayerId((AM8[i]))])))
call MultiboardSetItemWidth(AR8,0.07)
call MultiboardReleaseItem(AR8)
set i=i+1
endloop
set AN8=AN8+1
set AO8=0
set AN8=AN8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,c0+(GetObjectName((1848657218)))+e)
call MultiboardReleaseItem(AR8)
set AO8=0
set i=1
loop
exitwhen i>AI8
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,false,true)
call MultiboardSetItemIcon(AR8,(AG8(GetPlayerId((AK8[i])),(1)-1)))
call MultiboardSetItemWidth(AR8,0.015)
call MultiboardReleaseItem(AR8)
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,false,true)
call MultiboardSetItemIcon(AR8,(AG8(GetPlayerId((AK8[i])),(2)-1)))
call MultiboardSetItemWidth(AR8,0.054)
call MultiboardReleaseItem(AR8)
set i=i+1
endloop
set i=1
loop
exitwhen i>AJ8
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,false,true)
call MultiboardSetItemIcon(AR8,(AG8(GetPlayerId((AM8[i])),(1)-1)))
call MultiboardSetItemWidth(AR8,0.015)
call MultiboardReleaseItem(AR8)
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,false,true)
call MultiboardSetItemIcon(AR8,(AG8(GetPlayerId((AM8[i])),(2)-1)))
call MultiboardSetItemWidth(AR8,0.054)
call MultiboardReleaseItem(AR8)
set i=i+1
endloop
set AN8=AN8+1
set AO8=0
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,c0+" "+e)
call MultiboardReleaseItem(AR8)
set i=1
loop
exitwhen i>AI8
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,false,true)
call MultiboardSetItemIcon(AR8,(AG8(GetPlayerId((AK8[i])),(3)-1)))
call MultiboardSetItemWidth(AR8,0.015)
call MultiboardReleaseItem(AR8)
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,false,true)
call MultiboardSetItemIcon(AR8,(AG8(GetPlayerId((AK8[i])),(4)-1)))
call MultiboardSetItemWidth(AR8,0.054)
call MultiboardReleaseItem(AR8)
set i=i+1
endloop
set i=1
loop
exitwhen i>AJ8
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,false,true)
call MultiboardSetItemIcon(AR8,(AG8(GetPlayerId((AM8[i])),(3)-1)))
call MultiboardSetItemWidth(AR8,0.015)
call MultiboardReleaseItem(AR8)
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,false,true)
call MultiboardSetItemIcon(AR8,(AG8(GetPlayerId((AM8[i])),(4)-1)))
call MultiboardSetItemWidth(AR8,0.054)
call MultiboardReleaseItem(AR8)
set i=i+1
endloop
set AN8=AN8+1
set AO8=0
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,c0+" "+e)
call MultiboardReleaseItem(AR8)
set i=1
loop
exitwhen i>AI8
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,false,true)
call MultiboardSetItemIcon(AR8,(AG8(GetPlayerId((AK8[i])),(5)-1)))
call MultiboardSetItemWidth(AR8,0.015)
call MultiboardReleaseItem(AR8)
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,false,true)
call MultiboardSetItemIcon(AR8,(AG8(GetPlayerId((AK8[i])),(6)-1)))
call MultiboardSetItemWidth(AR8,0.054)
call MultiboardReleaseItem(AR8)
set i=i+1
endloop
set i=1
loop
exitwhen i>AJ8
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,false,true)
call MultiboardSetItemIcon(AR8,(AG8(GetPlayerId((AM8[i])),(5)-1)))
call MultiboardSetItemWidth(AR8,0.015)
call MultiboardReleaseItem(AR8)
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,false,true)
call MultiboardSetItemIcon(AR8,(AG8(GetPlayerId((AM8[i])),(6)-1)))
call MultiboardSetItemWidth(AR8,0.054)
call MultiboardReleaseItem(AR8)
set i=i+1
endloop
set AO8=0
set AN8=AN8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,c0+(GetObjectName((1848657202)))+e)
call MultiboardReleaseItem(AR8)
set AO8=0
set i=1
loop
exitwhen i>AI8
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,ZX8(AK8[i]))
call MultiboardSetItemWidth(AR8,0.07)
call MultiboardReleaseItem(AR8)
set i=i+1
endloop
set i=1
loop
exitwhen i>AJ8
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,ZX8(AM8[i]))
call MultiboardSetItemWidth(AR8,0.07)
call MultiboardReleaseItem(AR8)
set i=i+1
endloop
set AO8=0
set AN8=AN8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,c0+(GetObjectName((1848657201)))+e)
call MultiboardReleaseItem(AR8)
set AO8=0
set i=1
loop
exitwhen i>AI8
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,Z68(AK8[i])+"/"+ZL8(AK8[i])+"/"+Z38(AK8[i]))
call MultiboardSetItemWidth(AR8,0.07)
call MultiboardReleaseItem(AR8)
set i=i+1
endloop
set i=1
loop
exitwhen i>AJ8
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,Z68(AM8[i])+"/"+ZL8(AM8[i])+"/"+Z38(AM8[i]))
call MultiboardSetItemWidth(AR8,0.07)
call MultiboardReleaseItem(AR8)
set i=i+1
endloop
set AO8=0
set AN8=AN8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,c0+GetObjectName(1848658517)+e)
call MultiboardReleaseItem(AR8)
set AO8=0
set i=1
loop
exitwhen i>AI8
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,ZS8(AK8[i]))
call MultiboardSetItemWidth(AR8,0.07)
call MultiboardReleaseItem(AR8)
set i=i+1
endloop
set i=1
loop
exitwhen i>AJ8
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,ZS8(AM8[i]))
call MultiboardSetItemWidth(AR8,0.07)
call MultiboardReleaseItem(AR8)
set i=i+1
endloop
set AO8=0
set AN8=AN8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,c0+GetObjectName(1848658758)+e)
call MultiboardReleaseItem(AR8)
set AO8=0
set i=1
loop
exitwhen i>AI8
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,ZW8(AK8[i]))
call MultiboardSetItemWidth(AR8,0.07)
call MultiboardReleaseItem(AR8)
set i=i+1
endloop
set i=1
loop
exitwhen i>AJ8
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,ZW8(AM8[i]))
call MultiboardSetItemWidth(AR8,0.07)
call MultiboardReleaseItem(AR8)
set i=i+1
endloop
set AO8=0
set AN8=AN8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,c0+(GetObjectName((1848657200)))+e)
call MultiboardReleaseItem(AR8)
set AO8=0
set i=1
loop
exitwhen i>AI8
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,ZA8(AK8[i]))
call MultiboardSetItemWidth(AR8,0.07)
call MultiboardReleaseItem(AR8)
set i=i+1
endloop
set i=1
loop
exitwhen i>AJ8
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,ZA8(AM8[i]))
call MultiboardSetItemWidth(AR8,0.07)
call MultiboardReleaseItem(AR8)
set i=i+1
endloop
set AO8=0
set AN8=AN8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,c0+(GetObjectName((1848656980)))+e)
call MultiboardReleaseItem(AR8)
set AO8=0
set i=1
loop
exitwhen i>AI8
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,A78(AK8[i]))
call MultiboardSetItemWidth(AR8,0.07)
call MultiboardReleaseItem(AR8)
set i=i+1
endloop
set i=1
loop
exitwhen i>AJ8
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,A78(AM8[i]))
call MultiboardSetItemWidth(AR8,0.07)
call MultiboardReleaseItem(AR8)
set i=i+1
endloop
set AO8=0
set AN8=AN8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,c0+(GetObjectName((1848656986)))+e)
call MultiboardReleaseItem(AR8)
set AO8=0
set i=1
loop
exitwhen i>AI8
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,Z18(AK8[i])+"/"+Z08(AK8[i]))
call MultiboardSetItemWidth(AR8,0.07)
call MultiboardReleaseItem(AR8)
set i=i+1
endloop
set i=1
loop
exitwhen i>AJ8
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,Z18(AM8[i])+"/"+Z08(AM8[i]))
call MultiboardSetItemWidth(AR8,0.07)
call MultiboardReleaseItem(AR8)
set i=i+1
endloop
set AO8=0
set AN8=AN8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,c0+(GetObjectName((1848656985)))+e)
call MultiboardReleaseItem(AR8)
set AO8=0
set i=1
loop
exitwhen i>AI8
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,Z58(AK8[i]))
call MultiboardSetItemWidth(AR8,0.07)
call MultiboardReleaseItem(AR8)
set i=i+1
endloop
set i=1
loop
exitwhen i>AJ8
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,Z58(AM8[i]))
call MultiboardSetItemWidth(AR8,0.07)
call MultiboardReleaseItem(AR8)
set i=i+1
endloop
set AO8=0
set AN8=AN8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,c0+(GetObjectName((1848656981)))+e)
call MultiboardReleaseItem(AR8)
set AO8=0
set i=1
loop
exitwhen i>AI8
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,ZB8(AK8[i]))
call MultiboardSetItemWidth(AR8,0.07)
call MultiboardReleaseItem(AR8)
set i=i+1
endloop
set i=1
loop
exitwhen i>AJ8
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,ZB8(AM8[i]))
call MultiboardSetItemWidth(AR8,0.07)
call MultiboardReleaseItem(AR8)
set i=i+1
endloop
set AO8=0
set AN8=AN8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,c0+(GetObjectName((1848656982)))+e)
call MultiboardReleaseItem(AR8)
set AO8=0
set i=1
loop
exitwhen i>AI8
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,A88(AK8[i]))
call MultiboardSetItemWidth(AR8,0.07)
call MultiboardReleaseItem(AR8)
set i=i+1
endloop
set i=1
loop
exitwhen i>AJ8
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,A88(AM8[i]))
call MultiboardSetItemWidth(AR8,0.07)
call MultiboardReleaseItem(AR8)
set i=i+1
endloop
set AO8=0
set AN8=AN8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,c0+(GetObjectName((1848656983)))+e)
call MultiboardReleaseItem(AR8)
set AO8=0
set i=1
loop
exitwhen i>AI8
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,ZC8(AK8[i]))
call MultiboardSetItemWidth(AR8,0.07)
call MultiboardReleaseItem(AR8)
set i=i+1
endloop
set i=1
loop
exitwhen i>AJ8
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,ZC8(AM8[i]))
call MultiboardSetItemWidth(AR8,0.07)
call MultiboardReleaseItem(AR8)
set i=i+1
endloop
set AO8=0
set AN8=AN8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,c0+(GetObjectName((1848656974)))+e)
call MultiboardReleaseItem(AR8)
set AO8=0
set i=1
loop
exitwhen i>AI8
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,ZY8(AK8[i]))
call MultiboardSetItemWidth(AR8,0.07)
call MultiboardReleaseItem(AR8)
set i=i+1
endloop
set i=1
loop
exitwhen i>AJ8
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,ZY8(AM8[i]))
call MultiboardSetItemWidth(AR8,0.07)
call MultiboardReleaseItem(AR8)
set i=i+1
endloop
set AO8=0
set AN8=AN8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,c0+(GetObjectName((1848656952)))+e)
call MultiboardReleaseItem(AR8)
set AO8=0
set i=1
loop
exitwhen i>AI8
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,Z28(AK8[i]))
call MultiboardSetItemWidth(AR8,0.07)
call MultiboardReleaseItem(AR8)
set i=i+1
endloop
set i=1
loop
exitwhen i>AJ8
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,Z28(AM8[i]))
call MultiboardSetItemWidth(AR8,0.07)
call MultiboardReleaseItem(AR8)
set i=i+1
endloop
set AO8=0
set AN8=AN8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,c0+(GetObjectName((1848656969)))+e)
call MultiboardReleaseItem(AR8)
set AO8=0
set i=1
loop
exitwhen i>AI8
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,Z_8(AK8[i]))
call MultiboardSetItemWidth(AR8,0.07)
call MultiboardReleaseItem(AR8)
set i=i+1
endloop
set i=1
loop
exitwhen i>AJ8
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,Z_8(AM8[i]))
call MultiboardSetItemWidth(AR8,0.07)
call MultiboardReleaseItem(AR8)
set i=i+1
endloop
set AO8=0
set AN8=AN8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,c0+(GetObjectName((1848656973)))+e)
call MultiboardReleaseItem(AR8)
set AO8=0
set i=1
loop
exitwhen i>AI8
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,A48(AK8[i]))
call MultiboardSetItemWidth(AR8,0.07)
call MultiboardReleaseItem(AR8)
set i=i+1
endloop
set i=1
loop
exitwhen i>AJ8
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,A48(AM8[i]))
call MultiboardSetItemWidth(AR8,0.07)
call MultiboardReleaseItem(AR8)
set i=i+1
endloop
if AI8>0 and AJ8>0 then
set AO8=0
set AS8=AN8
set AT8=AO8
set AN8=AN8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,c0+(GetObjectName((1848656972)))+e)
call MultiboardReleaseItem(AR8)
set AN8=AS8
set x=1
loop
exitwhen x>AI8
set AO8=0
set AN8=AS8
set i=1
loop
exitwhen i>AJ8
set AO8=x+(x-1)
set AN8=AN8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,false,true)
call MultiboardSetItemIcon(AR8,(CN7(M7[GetPlayerId((AK8[x]))])))
call MultiboardSetItemWidth(AR8,0.01)
call MultiboardReleaseItem(AR8)
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,true)
call MultiboardSetItemIcon(AR8,(CN7(M7[GetPlayerId((AM8[i]))])))
call MultiboardSetItemValue(AR8," "+A98(AK8[x],AM8[i]))
call MultiboardSetItemWidth(AR8,0.059)
call MultiboardReleaseItem(AR8)
set i=i+1
endloop
set x=x+1
endloop
set x=AI8+1
loop
exitwhen x>(AJ8+AI8)
set AO8=0
set AN8=AS8
set i=1
loop
exitwhen i>AI8
set AO8=x+(x-1)
set AN8=AN8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,false,true)
call MultiboardSetItemIcon(AR8,(CN7(M7[GetPlayerId((AM8[x-AI8]))])))
call MultiboardSetItemWidth(AR8,0.01)
call MultiboardReleaseItem(AR8)
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,true)
call MultiboardSetItemIcon(AR8,(CN7(M7[GetPlayerId((AK8[i]))])))
call MultiboardSetItemValue(AR8," "+A98(AM8[x-AI8],AK8[i]))
call MultiboardSetItemWidth(AR8,0.059)
call MultiboardReleaseItem(AR8)
set i=i+1
endloop
set x=x+1
endloop
endif
set AN8=AN8+1
set AO8=0
set AN8=AN8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,c0+(GetObjectName((1848656730)))+e)
call MultiboardReleaseItem(AR8)
set AO8=0
set i=1
loop
exitwhen i>AI8
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,(C9[GetPlayerId((AK8[i]))]))
call MultiboardSetItemWidth(AR8,0.07)
call MultiboardReleaseItem(AR8)
set NI4=NI4+1
set NF4[NI4]=AN8
set NG4[NI4]=AO8
set NH4[NI4]=AK8[i]
set i=i+1
endloop
set i=1
loop
exitwhen i>AJ8
set AO8=AO8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,(C9[GetPlayerId((AM8[i]))]))
call MultiboardSetItemWidth(AR8,0.07)
call MultiboardReleaseItem(AR8)
set NI4=NI4+1
set NF4[NI4]=AN8
set NG4[NI4]=AO8
set NH4[NI4]=AM8[i]
set i=i+1
endloop
set AO8=0
set AN8=AN8+1
set AR8=MultiboardGetItem(NE4,AN8,AO8)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,c0+(GetObjectName((1848656953)))+e)
call MultiboardReleaseItem(AR8)
set AR8=MultiboardGetItem(NE4,AN8,AO8+1)
call MultiboardSetItemStyle(AR8,true,false)
call MultiboardSetItemValue(AR8,(B9))
call MultiboardSetItemWidth(AR8,0.07)
call MultiboardReleaseItem(AR8)
call MultiboardMinimize(NE4,true)
call MultiboardMinimize(NE4,false)
endfunction
function AU8 takes nothing returns string
return O14
endfunction
function mD takes player j8 returns string
return CN7(M7[GetPlayerId(j8)])
endfunction
function me takes player j8,integer Lp returns string
return J78(UnitItemInSlot(M7[GetPlayerId(j8)],Lp-1))
endfunction
function mE takes player j8 returns string
return Q[GetPlayerId(j8)]+B37(j8)+"|r"
endfunction
function mf takes player j8 returns string
return I2S(GetPlayerState(j8,PLAYER_STATE_RESOURCE_GOLD))
endfunction
function mF takes player p returns string
return I2S(Zh[GetPlayerId(p)])
endfunction
function mg takes player p returns string
return I2S(GetUnitLevel(M7[GetPlayerId(p)]))
endfunction
function mG takes player p returns string
return I2S(UQ7(StringHash("Stats"+I2S(GetPlayerId(p))),"NumOfWards"))
endfunction
function mh takes player j8 returns string
return I2S(NV4[GetPlayerId(j8)])
endfunction
function mH takes player j8 returns string
return I2S(NQ4[GetPlayerId(j8)])
endfunction
function mi takes player j8 returns string
return I2S(T[GetPlayerId(j8)])
endfunction
function mI takes player j8 returns string
return I2S(V[GetPlayerId(j8)])
endfunction
function mj takes player j8 returns string
return I2S(T7[GetPlayerId(j8)])
endfunction
function mJ takes player j8 returns string
return I2S(U7[GetPlayerId(j8)])
endfunction
function mk takes player p returns string
return I2S(UQ7(StringHash("Stats"+I2S(GetPlayerId(p))),"NumOfNeutrals"))
endfunction
function mK takes player j8 returns string
return I2S(NS4[GetPlayerId(j8)])
endfunction
function ml takes player j8 returns string
return I2S(NT4[GetPlayerId(j8)])
endfunction
function mL takes player j8 returns string
return I2S(NR4[GetPlayerId(j8)])
endfunction
function mm takes player j8 returns string
local integer k=gD[GetPlayerId(j8)]
local integer d=N04[GetPlayerId(j8)]
if k<1 then
set k=0
endif
if d<1 then
set d=0
endif
return I2S(k)+"/"+I2S(d)
endfunction
function mM takes player j8 returns string
local integer L0=NU4[GetPlayerId(j8)]
local string JX8
local integer L1
local integer L2
set L1=(L0/60)-(1/2)
set L2=ModuloInteger(L0,60)
if(L2<10)then
set JX8=I2S(L1)+":0"+I2S(L2)
else
set JX8=I2S(L1)+":"+I2S(L2)
endif
return JX8
endfunction
function mn takes player p5,player m5 returns string
local integer k=UQ7(StringHash("Stats"+I2S(GetPlayerId(p5))),"Killed "+I2S(GetPlayerId(m5)))
local integer d=UQ7(StringHash("Stats"+I2S(GetPlayerId(p5))),"Died To "+I2S(GetPlayerId(m5)))
if k<1 then
set k=0
endif
if d<1 then
set d=0
endif
return I2S(k)+"/"+I2S(d)
endfunction
function mN takes player p5 returns string
local string mo
if LR7(M7[GetPlayerId(p5)])then
set mo=I2S(R2I(TimerGetRemaining(U[GetPlayerId(p5)])))
else
set mo=" "
endif
return mo
endfunction
function AV8 takes player p5 returns string
local real r=(TimerGetRemaining(N84[GetPlayerId((p5))]))
local string AW8
if r>0 then
set AW8=I2S(R2I(r))
else
set AW8=" "
endif
return AW8
endfunction
function AX8 takes integer mp,integer mP returns nothing
set NJ4=CreateMultiboard()
call MultiboardSetItemsWidth(NJ4,0)
call MultiboardSetRowCount(NJ4,mp)
call MultiboardSetColumnCount(NJ4,mP)
call MultiboardSetTitleText(NJ4,(GetObjectName((1848657203)))+" "+" - "+AU8())
call MultiboardMinimize(NJ4,true)
call MultiboardSetItemsStyle(NJ4,false,false)
if GetLocalPlayer()==KX4 or GetLocalPlayer()==KY4 then
call MultiboardDisplay(NJ4,true)
endif
endfunction
function mq takes nothing returns string
return"|c00ff0303"+I2S(T[GetPlayerId(Z7[0])])+"|r/|c0020c000"+I2S(V[GetPlayerId(Z7[0])])+"|r"
endfunction
function AY8 takes player AZ8 returns string
return I2S(IU[GetPlayerId(AZ8)])
endfunction
function AA8 takes nothing returns nothing
local integer I58=HB4
local integer I08=HC4
local player array AB8
local player array AC8
local integer A38
local integer A68
local integer AL8=1+19+DR8(I58,I08)+2
local integer A18=1+(I58+I08)*2
local multiboarditem JU8
local integer i
local integer x
local integer curRow1
local integer curRow2
local string e="|r"
local string c0="|cff99ccff"
local integer A08
local integer A58
local integer A28=131
local integer A_8=139
local integer B48=139
local integer B78=255
local integer XL8=0
local string X18=""
local string X08=""
local integer X58=0
local integer X28=0
local integer r
local string XO8
if I58>0 and I08>0 then
set AL8=AL8+2
endif
if GetTriggerExecCount(GetTriggeringTrigger())==1 then
call AX8(AL8,A18)
endif
if GetLocalPlayer()==KX4 or GetLocalPlayer()==KY4 then
call MultiboardDisplay(NJ4,true)
endif
set i=1
loop
exitwhen i>5
set r=R2I(TimerGetRemaining(U[GetPlayerId(Z7[i])]))
if r>0 then
set XL8=XL8+XT8(r)
if X58==0 then
if r<10 then
set X18=Q[GetPlayerId(Z7[i])]+"0"+I2S(r)+" |r"
else
set X18=Q[GetPlayerId(Z7[i])]+I2S(r)+" |r"
endif
else
if r<10 then
set X18=X18+Hj+"| |r"+Q[GetPlayerId(Z7[i])]+"0"+I2S(r)+" |r"
else
set X18=X18+Hj+"| |r"+Q[GetPlayerId(Z7[i])]+I2S(r)+" |r"
endif
endif
set X58=X58+1
endif
set i=i+1
endloop
if X58>0 then
set X18=Hj+"[Sentinel: |r"+X18+Hj+"]|r"
endif
set i=1
loop
exitwhen i>5
set r=R2I(TimerGetRemaining(U[GetPlayerId(A7[i])]))
if r>0 then
set XL8=XL8+XT8(r)
if X28==0 then
if r<10 then
set X08=Q[GetPlayerId(A7[i])]+"0"+I2S(r)+" |r"
else
set X08=Q[GetPlayerId(A7[i])]+I2S(r)+" |r"
endif
else
if r<10 then
set X08=X08+Hj+"| |r"+Q[GetPlayerId(A7[i])]+"0"+I2S(r)+" |r"
else
set X08=X08+Hj+"| |r"+Q[GetPlayerId(A7[i])]+I2S(r)+" |r"
endif
endif
set X28=X28+1
endif
set i=i+1
endloop
if X28>0 then
set X08=Hj+"[Scourge: |r"+X08+Hj+"]|r"
endif
call MultiboardSetTitleText(NJ4,X18+" "+X08+" "+GetObjectName(1848657203)+" "+" - "+(O14)+" - "+("|c00ff0303"+I2S(T[GetPlayerId(Z7[0])])+"|r/|c0020c000"+I2S(V[GetPlayerId(Z7[0])])+"|r"))
set x=1
set i=1
loop
exitwhen i>5
if A47(Z7[i])or GetPlayerSlotState(Z7[i])==PLAYER_SLOT_STATE_LEFT then
set AB8[x]=Z7[i]
set x=x+1
endif
set i=i+1
endloop
set x=1
set i=1
loop
exitwhen i>5
if A47(A7[i])or GetPlayerSlotState(A7[i])==PLAYER_SLOT_STATE_LEFT then
set AC8[x]=A7[i]
set x=x+1
endif
set i=i+1
endloop
set i=0
set A68=0
loop
exitwhen i>AL8
set JU8=MultiboardGetItem(NJ4,i,A68)
call MultiboardSetItemWidth(JU8,.075)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set A38=0
set A68=0
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8," ")
call MultiboardReleaseItem(JU8)
set A68=0
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,false,false)
call MultiboardReleaseItem(JU8)
set A68=0
set i=1
loop
exitwhen i>I58
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,mE(AB8[i]))
call MultiboardSetItemWidth(JU8,.07)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set i=1
loop
exitwhen i>I08
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,mE(AC8[i]))
call MultiboardSetItemWidth(JU8,.07)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set A38=A38+1
set A68=0
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,false,false)
call MultiboardReleaseItem(JU8)
set i=1
loop
exitwhen i>I58
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,true)
call MultiboardSetItemValue(JU8,"("+mg(AB8[i])+")")
call MultiboardSetItemIcon(JU8,mD(AB8[i]))
call MultiboardSetItemWidth(JU8,.07)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set i=1
loop
exitwhen i>I08
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,true)
call MultiboardSetItemValue(JU8,"("+mg(AC8[i])+")")
call MultiboardSetItemIcon(JU8,mD(AC8[i]))
call MultiboardSetItemWidth(JU8,.07)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set A38=A38+1
set A68=0
set A38=A38+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,c0+"Items"+e)
call MultiboardReleaseItem(JU8)
set A68=0
set i=1
loop
exitwhen i>I58
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,false,true)
call MultiboardSetItemIcon(JU8,me(AB8[i],1))
call MultiboardSetItemWidth(JU8,.015)
call MultiboardReleaseItem(JU8)
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,false,true)
call MultiboardSetItemIcon(JU8,me(AB8[i],2))
call MultiboardSetItemWidth(JU8,.054)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set i=1
loop
exitwhen i>I08
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,false,true)
call MultiboardSetItemIcon(JU8,me(AC8[i],1))
call MultiboardSetItemWidth(JU8,.015)
call MultiboardReleaseItem(JU8)
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,false,true)
call MultiboardSetItemIcon(JU8,me(AC8[i],2))
call MultiboardSetItemWidth(JU8,.054)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set A38=A38+1
set A68=0
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,c0+" "+e)
call MultiboardReleaseItem(JU8)
set i=1
loop
exitwhen i>I58
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,false,true)
call MultiboardSetItemIcon(JU8,me(AB8[i],3))
call MultiboardSetItemWidth(JU8,.015)
call MultiboardReleaseItem(JU8)
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,false,true)
call MultiboardSetItemIcon(JU8,me(AB8[i],4))
call MultiboardSetItemWidth(JU8,.054)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set i=1
loop
exitwhen i>I08
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,false,true)
call MultiboardSetItemIcon(JU8,me(AC8[i],3))
call MultiboardSetItemWidth(JU8,.015)
call MultiboardReleaseItem(JU8)
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,false,true)
call MultiboardSetItemIcon(JU8,me(AC8[i],4))
call MultiboardSetItemWidth(JU8,.054)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set A38=A38+1
set A68=0
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,c0+" "+e)
call MultiboardReleaseItem(JU8)
set i=1
loop
exitwhen i>I58
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,false,true)
call MultiboardSetItemIcon(JU8,me(AB8[i],5))
call MultiboardSetItemWidth(JU8,.015)
call MultiboardReleaseItem(JU8)
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,false,true)
call MultiboardSetItemIcon(JU8,me(AB8[i],6))
call MultiboardSetItemWidth(JU8,.054)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set i=1
loop
exitwhen i>I08
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,false,true)
call MultiboardSetItemIcon(JU8,me(AC8[i],5))
call MultiboardSetItemWidth(JU8,.015)
call MultiboardReleaseItem(JU8)
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,false,true)
call MultiboardSetItemIcon(JU8,me(AC8[i],6))
call MultiboardSetItemWidth(JU8,.054)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set A68=0
set A38=A38+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,c0+"Current Gold"+e)
call MultiboardReleaseItem(JU8)
set A68=0
set i=1
loop
exitwhen i>I58
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,mf(AB8[i]))
call MultiboardSetItemWidth(JU8,.07)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set i=1
loop
exitwhen i>I08
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,mf(AC8[i]))
call MultiboardSetItemWidth(JU8,.07)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set A68=0
set A38=A38+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,c0+"Hero K/D/A"+e)
call MultiboardReleaseItem(JU8)
set A68=0
set i=1
loop
exitwhen i>I58
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,mi(AB8[i])+"/"+mI(AB8[i])+"/"+AY8(AB8[i]))
call MultiboardSetItemWidth(JU8,.07)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set i=1
loop
exitwhen i>I08
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,mi(AC8[i])+"/"+mI(AC8[i])+"/"+AY8(AC8[i]))
call MultiboardSetItemWidth(JU8,.07)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set A68=0
set A38=A38+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,c0+"Wards"+e)
call MultiboardReleaseItem(JU8)
set A68=0
set i=1
loop
exitwhen i>I58
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,mG(AB8[i]))
call MultiboardSetItemWidth(JU8,.07)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set i=1
loop
exitwhen i>I08
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,mG(AC8[i]))
call MultiboardSetItemWidth(JU8,.07)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set A68=0
set A38=A38+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,c0+"Towers Kills"+e)
call MultiboardReleaseItem(JU8)
set A68=0
set i=1
loop
exitwhen i>I58
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,mm(AB8[i]))
call MultiboardSetItemWidth(JU8,.07)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set i=1
loop
exitwhen i>I08
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,mm(AC8[i]))
call MultiboardSetItemWidth(JU8,.07)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set A68=0
set A38=A38+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,c0+"Creep Stats"+e)
call MultiboardReleaseItem(JU8)
set A68=0
set i=1
loop
exitwhen i>I58
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,mj(AB8[i])+"/"+mJ(AB8[i]))
call MultiboardSetItemWidth(JU8,.07)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set i=1
loop
exitwhen i>I08
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,mj(AC8[i])+"/"+mJ(AC8[i]))
call MultiboardSetItemWidth(JU8,.07)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set A68=0
set A38=A38+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,c0+"Neutral Kills"+e)
call MultiboardReleaseItem(JU8)
set A68=0
set i=1
loop
exitwhen i>I58
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,mk(AB8[i]))
call MultiboardSetItemWidth(JU8,.07)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set i=1
loop
exitwhen i>I08
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,mk(AC8[i]))
call MultiboardSetItemWidth(JU8,.07)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set A68=0
set A38=A38+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,c0+"Hero Kill Gold"+e)
call MultiboardReleaseItem(JU8)
set A68=0
set i=1
loop
exitwhen i>I58
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,mh(AB8[i]))
call MultiboardSetItemWidth(JU8,.07)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set i=1
loop
exitwhen i>I08
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,mh(AC8[i]))
call MultiboardSetItemWidth(JU8,.07)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set A68=0
set A38=A38+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,c0+"Time Dead"+e)
call MultiboardReleaseItem(JU8)
set A68=0
set i=1
loop
exitwhen i>I58
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,mM(AB8[i]))
call MultiboardSetItemWidth(JU8,.07)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set i=1
loop
exitwhen i>I08
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,mM(AC8[i]))
call MultiboardSetItemWidth(JU8,.07)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set A68=0
set A38=A38+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,c0+"Gold Lost"+e)
call MultiboardReleaseItem(JU8)
set A68=0
set i=1
loop
exitwhen i>I58
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,mH(AB8[i]))
call MultiboardSetItemWidth(JU8,.07)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set i=1
loop
exitwhen i>I08
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,mH(AC8[i]))
call MultiboardSetItemWidth(JU8,.07)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set A68=0
set A38=A38+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,c0+"Consumables"+e)
call MultiboardReleaseItem(JU8)
set A68=0
set i=1
loop
exitwhen i>I58
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,mF(AB8[i]))
call MultiboardSetItemWidth(JU8,.07)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set i=1
loop
exitwhen i>I08
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,mF(AC8[i]))
call MultiboardSetItemWidth(JU8,.07)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set A68=0
set A38=A38+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,c0+"Double Kills"+e)
call MultiboardReleaseItem(JU8)
set A68=0
set i=1
loop
exitwhen i>I58
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,mK(AB8[i]))
call MultiboardSetItemWidth(JU8,.07)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set i=1
loop
exitwhen i>I08
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,mK(AC8[i]))
call MultiboardSetItemWidth(JU8,.07)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set A68=0
set A38=A38+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,c0+"Triple Kills"+e)
call MultiboardReleaseItem(JU8)
set A68=0
set i=1
loop
exitwhen i>I58
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,ml(AB8[i]))
call MultiboardSetItemWidth(JU8,.07)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set i=1
loop
exitwhen i>I08
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,ml(AC8[i]))
call MultiboardSetItemWidth(JU8,.07)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set A68=0
set A38=A38+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,c0+"Best Spree"+e)
call MultiboardReleaseItem(JU8)
set A68=0
set i=1
loop
exitwhen i>I58
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,mL(AB8[i]))
call MultiboardSetItemWidth(JU8,.07)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set i=1
loop
exitwhen i>I08
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,mL(AC8[i]))
call MultiboardSetItemWidth(JU8,.07)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
if I58>0 and I08>0 then
set A68=0
set A08=A38
set A58=A68
set A38=A38+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,c0+"Kill Details"+e)
call MultiboardReleaseItem(JU8)
set A38=A08
set x=1
loop
exitwhen x>I58
set A68=0
set A38=A08
set i=1
loop
exitwhen i>I08
set A68=x+(x-1)
set A38=A38+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,false,true)
call MultiboardSetItemIcon(JU8,mD(AB8[x]))
call MultiboardSetItemWidth(JU8,.01)
call MultiboardReleaseItem(JU8)
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,true)
call MultiboardSetItemIcon(JU8,mD(AC8[i]))
call MultiboardSetItemValue(JU8," "+mn(AB8[x],AC8[i]))
call MultiboardSetItemWidth(JU8,.059)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set x=x+1
endloop
set x=I58+1
loop
exitwhen x>(I08+I58)
set A68=0
set A38=A08
set i=1
loop
exitwhen i>I58
set A68=x+(x-1)
set A38=A38+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,false,true)
call MultiboardSetItemIcon(JU8,mD(AC8[x-I58]))
call MultiboardSetItemWidth(JU8,.01)
call MultiboardReleaseItem(JU8)
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,true)
call MultiboardSetItemIcon(JU8,mD(AB8[i]))
call MultiboardSetItemValue(JU8," "+mn(AC8[x-I58],AB8[i]))
call MultiboardSetItemWidth(JU8,.059)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set x=x+1
endloop
endif
set A38=A38+1
set A68=0
set A38=A38+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,c0+GetObjectName(1848658003)+e)
call MultiboardReleaseItem(JU8)
set A68=0
set i=1
loop
exitwhen i>I58
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemValueColor(JU8,A28,A_8,B48,B78)
if mN(AB8[i])==" " then
call MultiboardSetItemStyle(JU8,true,false)
else
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemIcon(JU8,(CN7(M7[GetPlayerId((AB8[i]))])))
endif
call MultiboardSetItemValue(JU8,AV8(AB8[i]))
call MultiboardSetItemWidth(JU8,0.07)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set i=1
loop
exitwhen i>I08
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemValueColor(JU8,A28,A_8,B48,B78)
if mN(AC8[i])==" " then
call MultiboardSetItemStyle(JU8,true,false)
else
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemIcon(JU8,(CN7(M7[GetPlayerId((AC8[i]))])))
endif
call MultiboardSetItemValue(JU8,AV8(AC8[i]))
call MultiboardSetItemWidth(JU8,0.07)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set A68=0
set A38=A38+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,c0+"Respawn"+e)
call MultiboardReleaseItem(JU8)
set A68=0
set i=1
loop
exitwhen i>I58
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
if mN(AB8[i])==" "then
call MultiboardSetItemStyle(JU8,true,false)
else
call MultiboardSetItemStyle(JU8,true,true)
call MultiboardSetItemIcon(JU8,mD(AB8[i]))
endif
call MultiboardSetItemValue(JU8,mN(AB8[i]))
call MultiboardSetItemWidth(JU8,.07)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set i=1
loop
exitwhen i>I08
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
if mN(AC8[i])==" "then
call MultiboardSetItemStyle(JU8,true,false)
else
call MultiboardSetItemStyle(JU8,true,true)
call MultiboardSetItemIcon(JU8,mD(AC8[i]))
endif
call MultiboardSetItemValue(JU8,mN(AC8[i]))
call MultiboardSetItemWidth(JU8,.07)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set A68=0
set A38=A38+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,F57+"AI Actions"+e)
call MultiboardReleaseItem(JU8)
set A68=0
set i=1
loop
exitwhen i>I58
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
set XO8=XK8(GetPlayerId(AB8[i]),true)
if AB8[i]==QT4 then
set XO8=G47
endif
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,XO8)
call MultiboardSetItemWidth(JU8,.07)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set i=1
loop
exitwhen i>I08
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
set XO8=XK8(GetPlayerId(AC8[i]),true)
if AC8[i]==QU4 then
set XO8=G47
endif
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,XO8)
call MultiboardSetItemWidth(JU8,.07)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set A68=0
set A38=A38+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,DA7+"Exp.|r - "+DB7+"Gold|r"+e)
call MultiboardReleaseItem(JU8)
set A68=0
set i=1
loop
exitwhen i>I58
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
set XO8=DA7+"+"+I2S(R2I(GetPlayerHandicapXPBJ(AB8[i])-100.))+"%|r - "+DB7+"+"+I2S(Z84[48+GetPlayerId(AB8[i])])+"|r"
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,XO8)
call MultiboardSetItemWidth(JU8,.07)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
set i=1
loop
exitwhen i>I08
set A68=A68+1
set JU8=MultiboardGetItem(NJ4,A38,A68)
set XO8=DA7+"+"+I2S(R2I(GetPlayerHandicapXPBJ(AC8[i])-100.))+"%|r - "+DB7+"+"+I2S(Z84[48+GetPlayerId(AC8[i])])+"|r"
call MultiboardSetItemStyle(JU8,true,false)
call MultiboardSetItemValue(JU8,XO8)
call MultiboardSetItemWidth(JU8,.07)
call MultiboardReleaseItem(JU8)
set i=i+1
endloop
endfunction
function B88 takes integer p5,integer m5 returns boolean
local integer i=Tb-1
local real B98=0
local real B17=(TimerGetElapsed(W))
local integer BD8=0
loop
exitwhen i==Tb or B98>wb or BD8>200
if i==0 then
set i=8000-1
endif
set BD8=BD8+1
set B98=B17-Mb[i]
if pb[i]==p5 and Qb[i]==m5 and B98<wb then
set pb[i]=0
set Qb[i]=0
return true
endif
set i=i-1
endloop
return false
endfunction
function ZJ8 takes nothing returns nothing
local integer p5=GetPlayerId(GetOwningPlayer(GetEventDamageSource()))
local integer m5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
local real DV8=GetEventDamage()
set Mb[Tb]=(TimerGetElapsed(W))
set pb[Tb]=p5
set Qb[Tb]=m5
set Tb=Tb+1
if Tb==8000 then
set Tb=1
endif
endfunction
function BE8 takes unit S4,unit BF8 returns string
local integer i=1
local integer BG8=GetPlayerId(GetOwningPlayer(S4))
local integer BH8=GetPlayerId(GetOwningPlayer(BF8))
local integer BI8
local string BJ8=" "+GetObjectName(1848658521)+" "
local boolean BK8=false
loop
exitwhen i>5
if ZL7(GetOwningPlayer(BF8))then
set BI8=GetPlayerId(Z7[i])
else
set BI8=GetPlayerId(A7[i])
endif
if BH8!=BI8 and B88(BI8,BG8)then
set IU[BI8]=IU[BI8]+1
call IM8("Assist"+I2S(BI8),BG8)
if BK8 then
set BJ8=BJ8+"/"+Q[BI8]+(KZ4[GetPlayerId((Player(BI8)))])+"|r"
else
set BJ8=BJ8+Q[BI8]+(KZ4[GetPlayerId((Player(BI8)))])+"|r"
endif
set BK8=true
endif
set i=i+1
endloop
if BK8 then
return BJ8
endif
return" "
endfunction
function BM8 takes integer p5,integer m5 returns boolean
local integer i=Tb-1
local real B98=0
local real B17=(TimerGetElapsed(W))
local integer BD8=0
loop
exitwhen i==Tb or B98>wb or BD8>200
if i==0 then
set i=8000-1
endif
set BD8=BD8+1
set B98=B17-Mb[i]
if pb[i]==p5 and Qb[i]==m5 and B98<wb then
return true
endif
set i=i-1
endloop
return false
endfunction
function BN8 takes unit S4,unit BF8 returns boolean
local integer i=1
local integer BG8=GetPlayerId(GetOwningPlayer(S4))
local integer BH8=GetPlayerId(GetOwningPlayer(BF8))
local integer BI8
local string BJ8=" Assists: "
local boolean BK8=false
local integer x=1
set JU[1]=null
set JU[2]=null
set JU[3]=null
set JU[4]=null
set JU[5]=null
loop
exitwhen i>5
if ZL7(GetOwningPlayer(BF8))then
set BI8=GetPlayerId(Z7[i])
else
set BI8=GetPlayerId(A7[i])
endif
if BH8!=BI8 and BM8(BI8,BG8)then
set JU[x]=Player(BI8)
set x=x+1
set BK8=true
endif
set i=i+1
endloop
return BK8
endfunction
function BO8 takes unit S4,unit BF8 returns string
local integer i=1
local integer BG8=GetPlayerId(GetOwningPlayer(S4))
local integer BH8=GetPlayerId(GetOwningPlayer(BF8))
local integer BI8
local string BJ8=""
local boolean BK8=false
loop
exitwhen i>5
if ZL7(GetOwningPlayer(BF8))then
set BI8=GetPlayerId(Z7[i])
else
set BI8=GetPlayerId(A7[i])
endif
if BH8!=BI8 and BM8(BI8,BG8)then
if BK8 then
set BJ8=BJ8+"/"+Q[BI8]+(KZ4[GetPlayerId((Player(BI8)))])+"|r"
else
set BJ8=BJ8+Q[BI8]+(KZ4[GetPlayerId((Player(BI8)))])+"|r"
endif
set BK8=true
endif
set i=i+1
endloop
if BK8 then
return BJ8
endif
return" "
endfunction
function BP8 takes unit S4,unit BF8 returns integer
local integer i=1
local integer BG8=GetPlayerId(GetOwningPlayer(S4))
local integer BH8=GetPlayerId(GetOwningPlayer(BF8))
local integer BI8
local integer BD8=0
loop
exitwhen i>5
if ZL7(GetOwningPlayer(BF8))then
set BI8=GetPlayerId(Z7[i])
else
set BI8=GetPlayerId(A7[i])
endif
if BH8!=BI8 and BM8(BI8,BG8)then
set BD8=BD8+1
endif
set i=i+1
endloop
return BD8
endfunction
function BQ8 takes unit BR8 returns boolean
return GetUnitTypeId(BR8)==1211117641 or GetUnitTypeId(BR8)==1211117642
endfunction
function BS8 takes unit BR8 returns boolean
local integer UL7=GetHandleId(GetOwningPlayer(BR8))
local unit K48=UE7(UL7,"Kobold0")
local unit K78=UE7(UL7,"Kobold1")
local unit K88=UE7(UL7,"Kobold2")
local unit K98=UE7(UL7,"Kobold3")
local unit KD8=UE7(UL7,"Kobold4")
if GetUnitAbilityLevel(K48,1093685078)!=0 or GetUnitAbilityLevel(K78,1093685078)!=0 or GetUnitAbilityLevel(K88,1093685078)!=0 or GetUnitAbilityLevel(K98,1093685078)!=0 or GetUnitAbilityLevel(KD8,1093685078)!=0 then
return true
endif
set K48=null
set K78=null
set K88=null
set K98=null
set KD8=null
return false
endfunction
function BT8 takes unit BR8 returns boolean
local integer i=0
local integer UL7=GetHandleId(GetOwningPlayer(BR8))
local unit BU8=UE7(UL7,"Kobold0")
loop
exitwhen i>5
if GetItemTypeId(UnitItemInSlot(BU8,i))==ZU[X0]and GetItemCharges(UnitItemInSlot(BU8,i))>0 then
set BU8=null
return true
endif
set i=i+1
endloop
set BU8=null
return false
endfunction
function BV8 takes unit BR8,location BW8 returns nothing
local integer UL7=GetHandleId(GetOwningPlayer(BR8))
local unit K48=UE7(UL7,"Kobold0")
local unit K78=UE7(UL7,"Kobold1")
local unit K88=UE7(UL7,"Kobold2")
local unit K98=UE7(UL7,"Kobold3")
local unit KD8=UE7(UL7,"Kobold4")
if K48!=null then
call ReviveHeroLoc(K48,BW8,true)
call JB8(K48)
endif
if K78!=null then
call ReviveHeroLoc(K78,BW8,true)
call JB8(K78)
endif
if K88!=null then
call ReviveHeroLoc(K88,BW8,true)
call JB8(K88)
endif
if K98!=null then
call ReviveHeroLoc(K98,BW8,true)
call JB8(K98)
endif
if KD8!=null then
call ReviveHeroLoc(KD8,BW8,true)
call JB8(KD8)
endif
set KD8=null
set K98=null
set K88=null
set K78=null
set K48=null
endfunction
function BX8 takes unit CL7,real BY8,boolean BZ8 returns nothing
set NP4=NP4+1
set NM4[NP4]=CL7
set NN4[NP4]=RT7()+BY8
set NO4[NP4]=BZ8
endfunction
function BA8 takes integer i returns nothing
local unit BR8=NM4[i]
local player p4=GetOwningPlayer(BR8)
local location BW8
if Z17(p4)then
set BW8=GetRectCenter(L9)
else
set BW8=GetRectCenter(ED)
endif
if D9==false and LR7(BR8)then
call J68(BR8,p4,GetLocationX(BW8),GetLocationY(BW8),true)
if J18(BR8)==false or GetUnitAbilityLevel(BR8,1093684567)==0 then
call ReviveHeroLoc(BR8,BW8,true)
else
call BV8(BR8,BW8)
endif
call SetUnitState(BR8,UNIT_STATE_MANA,GetUnitState(BR8,UNIT_STATE_MAX_MANA))
endif
call RemoveLocation(BW8)
call XG8(i)
set BR8=null
set p4=null
set BW8=null
endfunction
function BB8 takes nothing returns boolean
local real B17=RT7()
local integer i
set i=1
loop
exitwhen i>NP4
if NN4[i]<B17 and NN4[i]!=0 then
call BA8(i)
endif
if NN4[i]!=0 and LR7(NM4[i])==false then
set NM4[i]=null
set NN4[i]=0
set NO4[i]=false
endif
set i=i+1
endloop
return false
endfunction
function BC8 takes unit u returns string
local string s=GetObjectName(1848657487)
set s=IQ8(s,"$hero",Q[GetPlayerId(GetOwningPlayer(u))]+GetUnitName(u)+"|r")
return s
endfunction
function B38 takes unit EL8 returns boolean
if GetOwningPlayer(EL8)!=GetLocalPlayer()then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,15,BC8(M7[GetPlayerId(GetOwningPlayer(EL8))]))
endif
return false
endfunction
function B68 takes nothing returns nothing
if SY7(GetEnumUnit(),ZU[DI4])!=null then
call SetItemCharges(SY7(GetEnumUnit(),ZU[DI4]),GetItemCharges(SY7(GetEnumUnit(),ZU[DI4]))+1)
endif
endfunction
function BL8 takes nothing returns boolean
if(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false)and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitIllusion(GetFilterUnit())==false then
if IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(SQ4))and SY7(GetFilterUnit(),ZU[DI4])!=null then
return true
endif
endif
return false
endfunction
function B18 takes nothing returns boolean
local item i
local integer B08
if S54==0 and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false)and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitIllusion(GetFilterUnit())==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(S04))then
if SY7(GetFilterUnit(),ZU[DY4])!=null then
set S54=S54+1
set B08=GetItemCharges(SY7(GetFilterUnit(),ZU[DY4]))
if B08==0 then
set B08=2
else
set B08=B08+1
endif
call SetItemCharges(SY7(GetFilterUnit(),ZU[DY4]),B08)
endif
endif
set i=null
return false
endfunction
function B58 takes unit u,unit B28 returns nothing
local group g=CA7()
set SQ4=u
call GroupEnumUnitsInRange(g,GetUnitX(u),GetUnitY(u),1625,Condition(function BL8))
if IsUnitAlly(u,GetOwningPlayer(B28))==false then
call GroupAddUnit(g,B28)
endif
call ForGroup(g,function B68)
call CZ7(g)
set g=null
endfunction
function B_8 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit C48=(LoadUnitHandle(L7,(OL7),(335)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local real x
local real y
local real a
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
call FlushChildHashtable(L7,(OL7))
call U37(t)
if GetTriggerUnit()!=C48 then
call KillUnit(C48)
endif
else
set a=GetUnitFacing(O_7)*bj_RADTODEG
set x=GetUnitX(O_7)+75
set y=GetUnitY(O_7)+75
call SetUnitX(C48,x)
call SetUnitY(C48,y)
call IssueTargetOrder(C48,"attack",O_7)
endif
set t=null
set C48=null
set O_7=null
return false
endfunction
function C78 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local unit HE8=(LoadUnitHandle(L7,(OL7),(19)))
local unit C48
if GetSummoningUnit()==HE8 then
call FlushChildHashtable(L7,(OL7))
call U37(t)
set C48=GetSummonedUnit()
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterDeathEvent(t,C48)
call TriggerRegisterDeathEvent(t,O_7)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function B_8))
call SaveUnitHandle(L7,(OL7),(335),(C48))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call UnitAddAbility(C48,1097625443)
call SetUnitPosition(C48,GetUnitX(O_7)+100,GetUnitY(O_7)+100)
call IssueTargetOrder(C48,"attack",O_7)
call SetUnitMoveSpeed(C48,522)
endif
set t=null
set O_7=null
set EL8=null
set HE8=null
return false
endfunction
function C88 takes unit EL8,unit B28 returns nothing
local unit O_7=B28
local unit HE8
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
if IF8(O_7)then
set O_7=(M7[GetPlayerId(GetOwningPlayer((O_7)))])
endif
set HE8=CreateUnit(GetOwningPlayer(EL8),1697656901,GetUnitX(O_7),GetUnitY(O_7),0)
call D28(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function C78))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveUnitHandle(L7,(OL7),(19),(HE8))
call LP7(HE8,1093813559)
call IssueTargetOrderById(HE8,852274,O_7)
set t=null
set O_7=null
set HE8=null
endfunction
function C98 takes nothing returns boolean
if(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false)and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitIllusion(GetFilterUnit())==false then
if IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(SQ4))==false and SY7(GetFilterUnit(),ZU[YB])!=null then
endif
endif
return false
endfunction
function CD8 takes unit u returns nothing
local group g=CA7()
set SQ4=u
call GroupEnumUnitsInRange(g,GetUnitX(u),GetUnitY(u),1625,Condition(function C98))
call CZ7(g)
set g=null
endfunction
function CE8 takes unit u returns nothing
local group g=CA7()
set S54=0
set S04=u
call GroupEnumUnitsInRange(g,GetUnitX(u),GetUnitY(u),1425,Condition(function B18))
call CZ7(g)
set S54=0
set g=null
endfunction
function CF8 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local integer CG8=UQ7(UL7,"side")
local integer i=1
local player p
local string M6
loop
exitwhen i>5
if CG8==0 then
set p=Z7[i]
set M6=Q[GetPlayerId(Z7[0])]+(GetObjectName((1848652622)))+"|r "+(GetObjectName((1848652624)))+" "+Q[GetPlayerId(Z7[0])]+(GetObjectName((1848652625)))+"|r"
else
set p=A7[i]
set M6=Q[GetPlayerId(A7[0])]+(GetObjectName((1848652623)))+"|r "+(GetObjectName((1848652624)))+" "+Q[GetPlayerId(A7[0])]+(GetObjectName((1848652625)))+"|r"
endif
call DisplayTimedTextToPlayer(p,0,0,10,M6)
call EB8(XO,p)
set i=i+1
endloop
call TQ7(UL7)
call U37(t)
set t=null
return false
endfunction
function CH8 takes integer CG8 returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1.5,false)
call TriggerAddCondition(t,Condition(function CF8))
call TT7(UL7,"side",CG8)
set t=null
endfunction
function CI8 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local integer CJ8=UQ7(UL7,"soundIndex")
local string M6=UT7(UL7,"msg")
if CJ8==1 then
call EA8(nX)
elseif CJ8==2 then
call EA8(CR)
elseif CJ8==3 then
call EA8(GP)
elseif CJ8==4 then
call EA8(IP)
endif
call BL7(L8,10.00,M6)
call TQ7(UL7)
call U37(t)
set t=null
return false
endfunction
function CK8 takes string M6,integer CJ8 returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1.5,false)
call TriggerAddCondition(t,Condition(function CI8))
call TV7(UL7,"msg",M6)
call TT7(UL7,"soundIndex",CJ8)
set t=null
endfunction
function CM8 takes player CN8,integer CO8,unit BR8 returns nothing
local texttag t=CreateTextTag()
local string s
call SetPlayerState(CN8,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(CN8,PLAYER_STATE_RESOURCE_GOLD)+CO8)
call SetTextTagText(t,"+"+I2S(CO8),0.025)
call SetTextTagPosUnit(t,BR8,0)
call SetTextTagColor(t,255,220,0,255)
call SetTextTagVelocity(t,0,0.03)
if GetLocalPlayer()==CN8 then
call SetTextTagVisibility(t,true)
set s="UI\\Feedback\\GoldCredit\\GoldCredit.mdl"
else
call SetTextTagVisibility(t,false)
set s=""
endif
if GetUnitState(BR8,UNIT_STATE_LIFE)>0.5 then
call DestroyEffect(AddSpecialEffectTarget(s,BR8,"overhead"))
endif
call SetTextTagFadepoint(t,2)
call SetTextTagLifespan(t,3)
call SetTextTagPermanent(t,false)
endfunction
function CP8 takes unit BR8,unit CQ8,real CR8 returns nothing
local integer i=1
local integer CS8=0
call BN8(BR8,CQ8)
loop
exitwhen i>5
if JU[i]!=null then
set CS8=CS8+1
endif
set i=i+1
endloop
set i=1
loop
exitwhen i>5
if JU[i]!=null then
set VG4[GetPlayerId(JU[i])]=VG4[GetPlayerId(JU[i])]+R2I(CR8/CS8)
call CM8(JU[i],R2I(CR8/CS8),M7[GetPlayerId(JU[i])])
endif
set i=i+1
endloop
endfunction
function CT8 takes player CU8,integer CO8 returns nothing
local integer T8=1
local integer Jg
if ZL7(CU8)then
set Jg=P8(X7)
else
set Jg=P8(Y7)
endif
if ZL7(CU8)then
loop
exitwhen T8>5
if Z_7(Z7[T8])then
set VG4[GetPlayerId(Z7[T8])]=VG4[GetPlayerId(Z7[T8])]+CO8/Jg
call CM8(Z7[T8],CO8/Jg,M7[GetPlayerId(Z7[T8])])
endif
set T8=T8+1
endloop
else
loop
exitwhen T8>5
if Z_7(A7[T8])then
set VG4[GetPlayerId(A7[T8])]=VG4[GetPlayerId(A7[T8])]+CO8/Jg
call CM8(A7[T8],CO8/Jg,M7[GetPlayerId(A7[T8])])
endif
set T8=T8+1
endloop
endif
endfunction
function CV8 takes unit BR8,integer CW8 returns nothing
local player p4=GetOwningPlayer(BR8)
call SetPlayerState(p4,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p4,PLAYER_STATE_RESOURCE_GOLD)-CW8)
endfunction
function m4 takes nothing returns boolean
if GetUnitTypeId(GetFilterUnit())==1865429043 then
call KillUnit(GetFilterUnit())
return true
endif
return false
endfunction
function CX8 takes nothing returns nothing
local boolexpr hP=Condition(function m4)
local group I68=CA7()
call GroupEnumUnitsInRect(I68,bj_mapInitialPlayableArea,hP)
call CZ7(I68)
set I68=null
endfunction
function CY8 takes nothing returns boolean
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and GetUnitTypeId(GetTriggerUnit())!=1311788365 then
if GetUnitTypeId(GetTriggerUnit())==1211117642 and BT8(GetTriggerUnit())then
return false
endif
return true
endif
return false
endfunction
function CZ8 takes player CA8,player CN8,unit CQ8 returns boolean
return CQ8==null or GetKillingUnit()==null or(ZL7(CA8)and ZL7(CN8))or(Z17(CA8)and Z17(CN8))
endfunction
function CB8 takes nothing returns nothing
if J98(GetUnitTypeId(GetEnumUnit()))==false then
set NL4=NL4+1
if GetOwningPlayer(GetKillingUnit())!=GetOwningPlayer(GetEnumUnit())then
set N14=N14+1
endif
endif
endfunction
function CC8 takes nothing returns nothing
if(GetUnitTypeId((GetEnumUnit()))==1211117642)==false and J98(GetUnitTypeId(GetFilterUnit()))==false then
call AddHeroXP(GetEnumUnit(),NC4,true)
set N34[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=N34[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]+NC4
if GetOwningPlayer(GetKillingUnit())!=GetOwningPlayer(GetEnumUnit())then
set N64[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=N64[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]+NB4
set VG4[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=VG4[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]+NB4
call CM8(GetOwningPlayer(GetEnumUnit()),NB4,GetEnumUnit())
endif
endif
endfunction
function C38 takes nothing returns boolean
local integer HF8
local integer C68=0
local integer CL8=0
local group g
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and IsUnitIllusion(GetTriggerUnit())==false and(GetUnitTypeId((GetTriggerUnit()))==1211117642)==false and J98(GetUnitTypeId(GetTriggerUnit()))==false then
set HF8=GetHeroLevel(GetTriggerUnit())
set NC4=0
set NB4=0
set g=CA7()
set NL4=0
set N14=0
call GroupEnumUnitsInRange(g,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),1025,Condition(function GM8))
call ForGroup(g,function CB8)
if NL4==1 then
set C68=20*HF8+120
elseif NL4==2 then
set C68=15*HF8+90
elseif NL4==3 then
set C68=7*HF8+30
elseif NL4==4 then
set C68=6*HF8+15
elseif NL4==5 then
set C68=5*HF8+10
endif
if N14==1 then
set CL8=12*HF8+125
elseif N14==2 then
set CL8=10*HF8+40
elseif N14==3 then
set CL8=6*HF8
elseif N14==4 then
set CL8=6*HF8
elseif N14==5 then
set CL8=6*HF8
endif
if Y4 then
endif
set NC4=C68
set NB4=CL8
call ForGroup(g,function CC8)
call CZ7(g)
set g=null
endif
return false
endfunction
function C18 takes nothing returns nothing
local boolean C08=false
local unit BR8=GetDyingUnit()
local unit CQ8=GetKillingUnit()
local player CN8=GetOwningPlayer(CQ8)
local player CA8=GetOwningPlayer(BR8)
local integer CO8=0
local integer C58=0
local boolean C28=false
local string C_8=""
local string L48=""
local string L78=""
local string MidText
local integer x
local string L88
local string L98
local string LD8
local string LE8
local boolean BZ8=false
local real LF8=1
local real LG8=1
local real LH8=1
local real LI8=1
local real LJ8=0
local trigger t
local integer LK8
local integer LM8
local item LN8
local integer id
local integer LO8=GetPlayerState(CA8,PLAYER_STATE_RESOURCE_GOLD)
local integer LP8=LO8-VG4[GetPlayerId(CA8)]
local unit LQ8
local unit LR8
local boolean PreventBuyback=IZ7
call C38()
if CQ8==null and GetUnitTypeId(BR8)==1315988077 then
set CQ8=ZY4
set CN8=GetOwningPlayer(CQ8)
endif
if IsPlayerAlly(CN8,CA8)==true and UX7(CQ8,"4328")==true and JR7!=null then
set CQ8=JR7
set CN8=GetOwningPlayer(CQ8)
endif
set LM8=BP8(BR8,CQ8)
if CQ8!=null then
set id=GetUnitTypeId(CQ8)
call LS7(M7[GetPlayerId(GetOwningPlayer(CQ8))],BR8)
endif
if CZ8(CA8,CN8,CQ8)==false and LM8==1 and Z07(CN8)==false and CN8!=B7 then
call BN8(BR8,CQ8)
set CN8=JU[1]
set CQ8=M7[GetPlayerId(CN8)]
endif
set IG4[GetPlayerId(GetOwningPlayer((BR8)))]=true
if GetUnitAbilityLevel(BR8,1093685078)!=0 or(BQ8(BR8)and BS8(BR8))then
set BZ8=true
call UnitRemoveAbility(BR8,1093685078)
set D8=BR8
set ox=CQ8
if IsUnitType(CQ8,UNIT_TYPE_STRUCTURE)==false then
endif
endif
if CN8==null then
set CN8=CA8
endif
if R4 and GetUnitTypeId(BR8)!=1211117642 then
if(GetPlayerController(GetOwningPlayer(GetDyingUnit()))==MAP_CONTROL_USER)then
set jx=UnitRemoveItemFromSlot(BR8,GetRandomInt(0,5))
if GetItemTypeId(jx)==1227894859 then
call CreateItem(1227894855,GetItemX(jx),GetItemY(jx))
call RemoveItem(jx)
endif
elseif(IsUnitInForce(GetDyingUnit(),QX4))then
set jx=UnitItemInSlot(GetDyingUnit(),GetRandomInt(0,5))
if(jx==null)then
elseif(GetItemType(jx)==ITEM_TYPE_PURCHASABLE)then
call UnitRemoveItem(GetDyingUnit(),jx)
else
set LN8=CreateItem(GetItemTypeId(jx),GetUnitX(GetDyingUnit()),GetUnitY(GetDyingUnit()))
call SetItemPlayer(LN8,GetOwningPlayer(GetDyingUnit()),false)
set hG[128+GetPlayerId(GetOwningPlayer(GetDyingUnit()))]=hG[128+GetPlayerId(GetOwningPlayer(GetDyingUnit()))]+WR7(GetItemTypeId(jx))
if((GetItemTypeId(jx)==ZU[Q1])or(GetItemTypeId(jx)==ZU[D1]))then
call SetItemCharges(LN8,GetItemCharges(jx))
endif
endif
endif
endif
if ZL7(CA8)then
if ZL7(CN8)then
set C08=true
if(CN8==CA8)then
call BL7(L8,10.00,(Q[GetPlayerId(CA8)]+(KZ4[GetPlayerId((CA8))])+"|r "+(GetObjectName((1848652626)))))
else
call BL7(L8,10.00,IY8(CA8,CN8))
endif
elseif Z17(CN8)then
set C28=true
set V[GetPlayerId(Z7[0])]=V[GetPlayerId(Z7[0])]+1
set T[GetPlayerId(A7[0])]=T[GetPlayerId(A7[0])]+1
set N[2]=N[2]+1
set N[1]=0
if CN8!=A7[0]then
set T[GetPlayerId(CN8)]=T[GetPlayerId(CN8)]+1
set K[GetPlayerId(CN8)]=K[GetPlayerId(CN8)]+1
endif
endif
endif
if Z17(CA8)then
if Z17(CN8)then
set C08=true
if(CN8==CA8)then
call BL7(L8,10.00,(Q[GetPlayerId(CA8)]+(KZ4[GetPlayerId((CA8))])+"|r "+(GetObjectName((1848652626)))))
else
call BL7(L8,10.00,IY8(CA8,CN8))
endif
elseif ZL7(CN8)then
set C28=true
set V[GetPlayerId(A7[0])]=V[GetPlayerId(A7[0])]+1
set T[GetPlayerId(Z7[0])]=T[GetPlayerId(Z7[0])]+1
set N[1]=N[1]+1
set N[2]=0
if CN8!=Z7[0]then
set T[GetPlayerId(CN8)]=T[GetPlayerId(CN8)]+1
set K[GetPlayerId(CN8)]=K[GetPlayerId(CN8)]+1
endif
endif
endif
if CN8==B7 then
set C28=false
if GetUnitTypeId(CQ8)==1848651852 then
call BL7(L8,10.00,(Q[GetPlayerId(CA8)]+(KZ4[GetPlayerId((CA8))])+"|r "+(GetObjectName((1848652628)))))
else
call BL7(L8,10.00,(Q[GetPlayerId(CA8)]+(KZ4[GetPlayerId((CA8))])+"|r "+(GetObjectName((1848652629)))))
endif
set C08=true
endif
if RA4 then
call E98(AN,GetUnitX(BR8),GetUnitY(BR8))
endif
call IM8("Hero"+I2S(GetPlayerId(CA8)),GetPlayerId(CN8))
set x=K[GetPlayerId(CA8)]
if x>2 and C08==false then
if x==3 then
set CO8=50
set C_8="|c0000ff40"+(GetObjectName((1848652876)))+"|r"
elseif x==4 then
set CO8=100
set C_8="|c00400080"+(GetObjectName((1848652878)))+"|r"
elseif x==5 then
set CO8=150
set C_8="|c00ff0080"+(GetObjectName((1848652877)))+"|r"
elseif x==6 then
set CO8=200
set C_8="|c00ff8000"+(GetObjectName((1848652874)))+"|r"
elseif x==7 then
set CO8=250
set C_8="|c00808000"+(GetObjectName((1848652873)))+"|r"
elseif x==8 then
set CO8=300
set C_8="|c00ff80ff"+(GetObjectName((1848652630)))+"|r"
elseif x==9 then
set CO8=350
set C_8="|c00ff0000"+(GetObjectName((1848652631)))+"|r"
else
set CO8=400
set C_8="|c00ff8000"+(GetObjectName((1848652632)))+"|r"
endif
endif
set x=K[GetPlayerId(CN8)]
if x>NR4[GetPlayerId(CN8)]then
set NR4[GetPlayerId(CN8)]=x
endif
set LQ8=CQ8
if IsUnitType(LQ8,UNIT_TYPE_HERO)==false then
set LQ8=M7[GetPlayerId(GetOwningPlayer(LQ8))]
endif
if x>2 and GetUnitTypeId(LQ8)!=1429221446 and O24[GetPlayerId(GetOwningPlayer(LQ8))]==0 then
endif
set LR8=BR8
if IsUnitType(LR8,UNIT_TYPE_HERO)==false then
set LR8=M7[GetPlayerId(GetOwningPlayer(LR8))]
endif
if C08==false and C28==true then
endif
if x>2 and C08==false then
if x==3 then
call EA8(TO)
set L48=" "+(GetObjectName((1848652875)))+" |c0000ff40"+(GetObjectName((1848652876)))+"|r"+(GetObjectName((1848652857)))
elseif x==4 then
call EA8(ZN)
set L48=" "+(GetObjectName((1848652872)))+" |c00400080"+(GetObjectName((1848652878)))+"|r"+(GetObjectName((1848652857)))
elseif x==5 then
call EA8(VO)
set L48=" "+(GetObjectName((1848652871)))+" |c00ff0080"+(GetObjectName((1848652877)))+"|r"+(GetObjectName((1848652857)))
elseif x==6 then
call EA8(LO)
set L48=" "+(GetObjectName((1848652872)))+" |c00ff8000"+(GetObjectName((1848652874)))+"|r"+(GetObjectName((1848652865)))
elseif x==7 then
call EA8(EP)
set L48=" "+(GetObjectName((1848652872)))+" |c00808000"+(GetObjectName((1848652873)))+"|r"+(GetObjectName((1848652865)))
elseif x==8 then
call EA8(YO)
set L48=" "+(GetObjectName((1848652871)))+" |c00ff80ff"+(GetObjectName((1848652630)))+"|r"+(GetObjectName((1848652865)))
elseif x==9 then
call EA8(BN)
set L48=" "+(GetObjectName((1848652872)))+" |c00ff0000"+(GetObjectName((1848652631)))+"|r"+(GetObjectName((1848652866)))
else
call EA8(CN)
set L48=" "+(GetObjectName((1848652872)))+" |c00ff8000"+(GetObjectName((1848652632)))+"|r. "+(GetObjectName((1848652870)))+(GetObjectName((1848652866)))
endif
endif
if C08==false then
set CO8=CO8+100+GetHeroLevel(BR8)*9+100
set L88=Q[GetPlayerId(CA8)]+(KZ4[GetPlayerId((CA8))])+"|r"
set L98=Q[GetPlayerId(CN8)]+(KZ4[GetPlayerId((CN8))])+"|r"
set LE8="|c00FFDC00"+I2S(CO8)+"|r"
if CN8==Z7[0]or CN8==A7[0]then
if LM8==0 then
if CN8==Z7[0]then
set LD8=L98+" "+(GetObjectName((1848652850)))+" "+L88+(GetObjectName((1848652851)))+(GetObjectName((1848652857)))+" "+LE8+" "+(GetObjectName((1848652852)))+"."
call CT8(CN8,CO8)
elseif CN8==A7[0]then
set LD8=L98+" "+(GetObjectName((1848652850)))+" "+L88+(GetObjectName((1848652851)))+(GetObjectName((1848652857)))+" "+LE8+" "+(GetObjectName((1848652852)))+"."
call CT8(CN8,CO8)
endif
elseif LM8>1 then
set LD8=L98+" "+(GetObjectName((1848652850)))+" "+L88+(GetObjectName((1848652851)))+(GetObjectName((1848652857)))+" "+LE8+" "+(GetObjectName((1848652852)))+"."
call CP8(BR8,CQ8,CO8)
endif
elseif C_8=="" and L48=="" then
set LD8=L98+" "+(GetObjectName((1848652850)))+" "+L88+(GetObjectName((1848652851)))+" "+(GetObjectName((1848652867)))+" "+LE8+" "+(GetObjectName((1848652853)))+(GetObjectName((1848652857)))
elseif C_8=="" and L48!="" then
set LD8=L98+" "+(GetObjectName((1848652850)))+" "+L88+(GetObjectName((1848652851)))+" "+(GetObjectName((1848652867)))+" "+LE8+" "+(GetObjectName((1848652853)))+(GetObjectName((1848652857)))
elseif C_8!="" and L48=="" then
set LD8=L98+" "+(GetObjectName((1848652856)))+" "+L88+(GetObjectName((1848652855)))+" "+C_8+" "+(GetObjectName((1848652854)))+" "+LE8+" "+(GetObjectName((1848652853)))+(GetObjectName((1848652857)))
elseif C_8!="" and L48!="" then
set LD8=L98+" "+(GetObjectName((1848652856)))+" "+L88+(GetObjectName((1848652855)))+" "+C_8+" "+(GetObjectName((1848652854)))+" "+LE8+" "+(GetObjectName((1848652853)))+(GetObjectName((1848652857)))
endif
if C28 then
set L78=BE8(BR8,CQ8)
endif
call BL7(L8,10,LD8+L78)
if L48!="" then
call BL7(L8,10,L98+L48)
endif
set VG4[GetPlayerId(CN8)]=VG4[GetPlayerId(CN8)]+CO8
call CM8(CN8,CO8,BR8)
set NV4[GetPlayerId(CN8)]=NV4[GetPlayerId(CN8)]+CO8
if N[1]>4 then
call CH8(0)
endif
if N[2]>4 then
call CH8(1)
endif
endif
set C58=GetHeroLevel(BR8)*30
if SY7(BR8,ZU[DI4])!=null then
if GetItemCharges(SY7(BR8,ZU[DI4]))>0 then
set LJ8=-1*(4*GetItemCharges(SY7(BR8,ZU[DI4])))
set C58=IMaxBJ(R2I(C58-25*GetItemCharges(SY7(BR8,ZU[DI4]))),0)
endif
endif
if C58>LP8 then
set C58=LP8
endif
call B58(BR8,LQ8)
call CE8(BR8)
call CD8(BR8)
if BZ8==false then
set NQ4[GetPlayerId(CA8)]=NQ4[GetPlayerId(CA8)]+C58
call CV8(BR8,C58)
endif
call SaveInteger(L7,StringHash("Stats"+I2S(GetPlayerId(CN8))),StringHash("Killed "+I2S(GetPlayerId(CA8))),((LoadInteger(L7,StringHash("Stats"+I2S(GetPlayerId(CN8))),StringHash("Killed "+I2S(GetPlayerId(CA8)))))+1))
call SaveInteger(L7,StringHash("Stats"+I2S(GetPlayerId(CA8))),StringHash("Died To "+I2S(GetPlayerId(CN8))),((LoadInteger(L7,StringHash("Stats"+I2S(GetPlayerId(CA8))),StringHash("Died To "+I2S(GetPlayerId(CN8)))))+1))
call StartTimerBJ(A[GetPlayerId(CN8)],false,18)
if C08==false and CN8!=Z7[0]and CN8!=A7[0]and CN8!=B7 then
set M[GetPlayerId(CN8)]=M[GetPlayerId(CN8)]+1
if M[GetPlayerId(CN8)]==2 then
set NS4[GetPlayerId(CN8)]=NS4[GetPlayerId(CN8)]+1
call CK8(Q[GetPlayerId(CN8)]+(KZ4[GetPlayerId((CN8))])+"|r "+(GetObjectName((1848652868)))+" |c000000ff"+(GetObjectName((1848652883)))+"|r"+(GetObjectName((1848652857))),1)
endif
if M[GetPlayerId(CN8)]==3 then
set NT4[GetPlayerId(CN8)]=NT4[GetPlayerId(CN8)]+1
call CK8(Q[GetPlayerId(CN8)]+(KZ4[GetPlayerId((CN8))])+"|r "+(GetObjectName((1848652868)))+" |c0000ff40"+(GetObjectName((1848652869)))+"|r"+(GetObjectName((1848652866))),2)
endif
if M[GetPlayerId(CN8)]==4 then
set NT4[GetPlayerId(CN8)]=NT4[GetPlayerId(CN8)]+1
call CK8(Q[GetPlayerId(CN8)]+(KZ4[GetPlayerId((CN8))])+"|r "+(GetObjectName((1848652868)))+" |c0000FFFF"+(GetObjectName((1848657994)))+"|r"+(GetObjectName((1848652866))),3)
endif
if M[GetPlayerId(CN8)]>4 then
set NT4[GetPlayerId(CN8)]=NT4[GetPlayerId(CN8)]+1
call CK8(Q[GetPlayerId(CN8)]+(KZ4[GetPlayerId((CN8))])+"|r "+(GetObjectName((1848652875)))+" |c0000AAFF"+(GetObjectName((1848657995)))+"|r"+(GetObjectName((1848652866))),4)
endif
endif
if(C08==false)then
set K[GetPlayerId(CA8)]=0
endif
set K[0]=0
set K[6]=0
set V[GetPlayerId(CA8)]=V[GetPlayerId(CA8)]+1
if BZ8 then
set LF8=0.4
endif
if C08==true and GetUnitTypeId(BR8)==1211117643 then
set LI8=0.5
endif
set LK8=R2I(GetHeroLevel(BR8)*4*LF8*LG8*LH8*LI8)+R2I(LJ8)
if LS==true then
set LK8=R2I(LK8*0.5)
endif
if P94 then
set NU4[GetPlayerId(CA8)]=0
if GetPlayerController(CA8)==MAP_CONTROL_COMPUTER then
call TimerStart(U[GetPlayerId(CA8)],2.00,false,null)
else
call TimerStart(U[GetPlayerId(CA8)],1.00,false,null)
endif
else
set NU4[GetPlayerId(CA8)]=NU4[GetPlayerId(CA8)]+LK8
call TimerStart(U[GetPlayerId(CA8)],LK8,false,null)
endif
call TriggerExecute(vA)
if D4==false and RZ4==false then
call BX8(BR8,LK8,BZ8)
elseif RZ4 and GetPlayerController(CA8)==MAP_CONTROL_USER then
call BX8(BR8,1,false)
else
if(ZL7(CA8))then
set L[0]=L[0]+1
endif
if Z17(CA8)then
set L[1]=L[1]+1
endif
set W7[GetPlayerId(CA8)]=BR8
if GetUnitTypeId(BR8)==1211117642 then
set W7[GetPlayerId(CA8)]=UE7(GetHandleId(GetOwningPlayer(BR8)),"Kobold0")
endif
if L[0]==PD4 then
call TriggerExecute(OF4)
endif
if L[1]==PD4 then
call TriggerExecute(OE4)
endif
if(GetUnitTypeId(BR8)==1429221430)then
call ExecuteFunc("CX8")
elseif GetUnitTypeId(BR8)==1429221432 or GetUnitTypeId(BR8)==1160786229 then
set IT4=BR8
call ExecuteFunc("LS8")
elseif GetUnitTypeId(BR8)==1432580716 then
set IT4=BR8
call ExecuteFunc("LT8")
endif
endif
set LN8=null
set t=null
set CQ8=null
set BR8=null
endfunction
function LU8 takes nothing returns boolean
local unit C48=GetSummonedUnit()
local integer x
if IsUnitIllusion(C48)==true then
set x=K[GetPlayerId(GetOwningPlayer(C48))]
if x>2 and O24[GetPlayerId(GetOwningPlayer(C48))]==0 then
call LP7(C48,1093815114)
else
call UnitRemoveAbility(C48,1093815114)
endif
endif
set C48=null
return false
endfunction
function InitTrig_Image_Enters takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function LU8))
set t=null
endfunction
function LV8 takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local player CN8=GetOwningPlayer(GetKillingUnit())
local player CA8=GetOwningPlayer(GetTriggerUnit())
local string LW8
local integer LM8=BP8(GetTriggerUnit(),GetKillingUnit())
if CN8==Z7[0]or CN8==A7[0]then
call CP8(GetTriggerUnit(),GetKillingUnit(),200)
set LW8=BO8(GetTriggerUnit(),GetKillingUnit())+" "+(GetObjectName((1848652887)))+" |c00ff0303"+(GetObjectName((1848652889)))+(GetObjectName((1848652857)))+"|r "
if LM8>1 then
set LW8=LW8+"(+200 "+(GetObjectName((1848652852)))+")"
else
set LW8=LW8+"(+200 "+(GetObjectName((1848652853)))+")"
endif
else
set LW8=Q[GetPlayerId(CN8)]+(KZ4[GetPlayerId((CN8))])+"|r "+(GetObjectName((1848652887)))+" |c00ff0303"+(GetObjectName((1848652889)))+(GetObjectName((1848652857)))+"|r "
set LW8=LW8+"(+200 "+(GetObjectName((1848652853)))+")"
call CM8(CN8,200,M7[GetPlayerId(CN8)])
set VG4[GetPlayerId(CN8)]=VG4[GetPlayerId(CN8)]+200
endif
call BL7(L8,10,LW8)
call EA8(EX)
call U37(t)
set t=null
endfunction
function LX8 takes nothing returns boolean
if GetOwningPlayer(GetKillingUnit())!=B7 and GetKillingUnit()!=null and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and IsPlayerEnemy(GetOwningPlayer(GetTriggerUnit()),GetOwningPlayer(GetKillingUnit()))==true then
if GetOwningPlayer(GetKillingUnit())==Z7[0]or GetOwningPlayer(GetKillingUnit())==A7[0]then
if BP8(GetTriggerUnit(),GetKillingUnit())>0 then
call LV8()
endif
else
call LV8()
endif
endif
return false
endfunction
function LY8 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit u
local region r
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call TQ7(UL7)
call U37(t)
else
set u=UE7(UL7,"u")
set r=CreateRegion()
call RegionAddRect(r,CE)
call RegionAddRect(r,dE)
if IsUnitInRegion(r,u)==false then
if US7(UL7,"safe")==true then
call TW7(UL7,"safe",false)
else
call SetUnitX(u,GetRectCenterX(ND))
call SetUnitY(u,GetRectCenterY(ND))
call TW7(UL7,"safe",true)
endif
endif
call RemoveRegion(r)
set u=null
set r=null
endif
set t=null
return false
endfunction
function LZ8 takes unit u returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,10.,true)
call TriggerAddCondition(t,Condition(function LY8))
call TX7(UL7,"u",u)
call TW7(UL7,"safe",true)
set t=null
endfunction
function LA8 takes nothing returns boolean
local item W18
local integer CS8=GetTriggerEvalCount(GetTriggeringTrigger())
if CS8==ID7 then
call U37(GetTriggeringTrigger())
endif
if CS8==ID7-180 or CS8==ID7-60 then
if NW4!=null then
set W18=SY7(NW4,ZU[X0])
if W18!=null then
if CS8==ID7-180 then
if ZL7(GetOwningPlayer(NW4))then
call BL7(X7,15,(GetObjectName((1848657209)))+" |c00ff0303"+(GetObjectName((1848657207)))+"|r")
else
call BL7(Y7,15,(GetObjectName((1848657209)))+" |c00ff0303"+(GetObjectName((1848657207)))+"|r")
endif
else
if ZL7(GetOwningPlayer(NW4))then
call BL7(X7,15,(GetObjectName((1848657209)))+" |c00ff0303"+(GetObjectName((1848656984)))+"|r")
else
call BL7(Y7,15,(GetObjectName((1848657209)))+" |c00ff0303"+(GetObjectName((1848656984)))+"|r")
endif
endif
endif
endif
endif
set W18=null
return false
endfunction
function LB8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterTimerEvent(t,1.,true)
call TriggerAddCondition(t,Condition(function LA8))
call TriggerEvaluate(t)
set t=null
endfunction
function LC8 takes nothing returns boolean
set NY4=GetTriggerEvalCount(GetTriggeringTrigger())
if V4!=null and GetUnitState(V4,UNIT_STATE_LIFE)>1 then
call SetPlayerTechResearched(GetOwningPlayer(V4),1378889798,NY4)
if GetUnitAbilityLevel(V4,1093743666)==0 then
call UnitAddAbility(V4,1093743666)
endif
call SetUnitAbilityLevel(V4,1093743666,NY4+1)
endif
return false
endfunction
function L38 takes nothing returns nothing
local integer i=1
local unit CR7
set NW4=null
loop
exitwhen i>5
set CR7=M7[GetPlayerId(Z7[i])]
if CR7!=null and SY7(CR7,ZU[X0])!=null then
call DisableTrigger(H94)
call IM8("AegisOff",GetPlayerId(GetOwningPlayer(CR7)))
call RemoveItem(SY7(CR7,ZU[X0]))
call EnableTrigger(H94)
endif
set CR7=M7[GetPlayerId(A7[i])]
if CR7!=null and SY7(CR7,ZU[X0])!=null then
call DisableTrigger(H94)
call IM8("AegisOff",GetPlayerId(GetOwningPlayer(CR7)))
call RemoveItem(SY7(CR7,ZU[X0]))
call EnableTrigger(H94)
endif
set i=i+1
endloop
set CR7=null
endfunction
function L68 takes string LL8,string L18 returns string
local string s=(GetObjectName((1848656705)))
set s=IQ8(s,"$team",LL8)
set s=IQ8(s,"$team",L18)
return s
endfunction
function L08 takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())==1848651852
endfunction
function IsHero takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true
endfunction
function L58 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local location L28
local real L67
if GetTriggerEvalCount(t)==I97 or Y_4 then
set Y_4=false
set L28=GetRectCenter(ND)
call L38()
set NA4=NA4+1
set V4=CreateUnitAtLoc(Player(12),1848651852,L28,bj_UNIT_FACING)
call SetUnitAcquireRange(V4,150)
call LZ8(V4)
call UnitAddAbility(V4,1093743666)
call SetPlayerTechResearched(GetOwningPlayer(V4),1378889798,NY4)
call SetUnitAbilityLevel(V4,1093743666,NY4+1)
call RemoveLocation(L28)
if NA4>1 then
call UnitRemoveAbility(V4,1093684018)
call UnitAddAbility(V4,1093685558)
call UnitAddItem(V4,CreateItem(ZU[AC],0,0))
endif
call UnitAddItem(V4,CreateItem(ZU[X0],0,0))
call U37(t)
set GV7=99999999.
elseif GetTriggerEvalCount(t)==ID7 then
call L38()
set GV7=99999999.
endif
set t=null
set L28=null
return false
endfunction
function L_8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function L58))
set Y_4=false
call LB8()
set NX4=false
if(ZL7(GetOwningPlayer(GetKillingUnit())))then
call IM8("Roshan",0)
call BL7(bj_FORCE_ALL_PLAYERS,10.00,L68("|c00ff0000"+(GetObjectName((1848653365)))+"|r",(GetObjectName((1848653365)))))
call AdjustPlayerStateBJ(200,Z7[1],PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(200,Z7[2],PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(200,Z7[3],PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(200,Z7[4],PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(200,Z7[5],PLAYER_STATE_RESOURCE_GOLD)
endif
if(Z17(GetOwningPlayer(GetKillingUnit())))then
call IM8("Roshan",1)
call BL7(bj_FORCE_ALL_PLAYERS,10.00,L68("|c00004000"+(GetObjectName((1848653379)))+"|r",(GetObjectName((1848653379)))))
call AdjustPlayerStateBJ(200,A7[1],PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(200,A7[2],PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(200,A7[3],PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(200,A7[4],PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(200,A7[5],PLAYER_STATE_RESOURCE_GOLD)
endif
set t=null
endfunction
function D49 takes nothing returns nothing
local texttag t=CreateTextTag()
local unit u=GetTriggerUnit()
local player p=GetOwningPlayer(GetKillingUnit())
call SetTextTagText(t,"$",0.027)
call SetTextTagPosUnit(t,u,0)
call SetTextTagColorBJ(t,KA4[GetPlayerId(p)],KB4[GetPlayerId(p)],KC4[GetPlayerId(p)],15)
call SetTextTagVelocity(t,0,0.035)
call SetTextTagFadepoint(t,3)
call SetTextTagLifespan(t,1.5)
call SetTextTagPermanent(t,false)
call SetTextTagVisibility(t,false)
if GetLocalPlayer()==KX4 or GetLocalPlayer()==KY4 then
call SetTextTagVisibility(t,true)
endif
set t=null
set u=null
set p=null
endfunction
function D79 takes unit u,player p returns nothing
local texttag t=CreateTextTag()
call SetTextTagText(t,"!",0.03)
call SetTextTagPosUnit(t,u,0)
call SetTextTagColorBJ(t,KA4[GetPlayerId(p)],KB4[GetPlayerId(p)],KC4[GetPlayerId(p)],15)
call SetTextTagVelocity(t,0,0.035)
call SetTextTagFadepoint(t,3)
call SetTextTagLifespan(t,1.5)
call SetTextTagPermanent(t,false)
call SetTextTagVisibility(t,false)
if ob[GetPlayerId(GetLocalPlayer())]==true or(V8 and(GetLocalPlayer()==KX4 or GetLocalPlayer()==KY4))then
call SetTextTagVisibility(t,true)
endif
set t=null
endfunction
function D89 takes nothing returns nothing
if IsUnitType(GetEnumUnit(),UNIT_TYPE_MELEE_ATTACKER)==true then
call AddHeroXP(GetEnumUnit(),Tl/ IH4,true)
else
call AddHeroXP(GetEnumUnit(),tl/ IH4,true)
endif
endfunction
function D99 takes nothing returns nothing
local group g=CA7()
local integer A57
local integer DD9=18
local integer DE9=DD9*2
call GroupEnumUnitsInRange(g,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),1000,Condition(function GM8))
set A57=ER8(g)
set IH4=A57
set tl=DD9
set Tl=DE9
call ForGroup(g,function D89)
call CZ7(g)
call D79(GetDyingUnit(),GetOwningPlayer(GetKillingUnit()))
set g=null
endfunction
function DF9 takes nothing returns boolean
if IsUnitAlly(GetKillingUnit(),GetOwningPlayer(GetTriggerUnit()))==true then
call D99()
else
if V8 and Z07(GetOwningPlayer(GetKillingUnit()))then
call D49()
endif
endif
return false
endfunction
function DG9 takes player IZ8,player IA8 returns string
local string s=(GetObjectName((1848656208)))
set s=IQ8(s,"$dead",(KZ4[GetPlayerId((IZ8))]))
return s
endfunction
function DH9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local real x=(LoadReal(L7,(OL7),(6)))
local real y=(LoadReal(L7,(OL7),(7)))
call SetTerrainPathable(x,y,PATHING_TYPE_WALKABILITY,false)
call FlushChildHashtable(L7,(OL7))
call U37(t)
set t=null
return false
endfunction
function DI9 takes unit EL8 returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local real x=GetUnitX(EL8)
local real y=GetUnitY(EL8)
call SetTerrainPathable(x,y,PATHING_TYPE_WALKABILITY,true)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function DH9))
call SaveReal(L7,(OL7),(6),((x)*1.0))
call SaveReal(L7,(OL7),(7),((y)*1.0))
set EL8=null
set t=null
endfunction
function DJ9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit DK9=(LoadUnitHandle(L7,(OL7),(2)))
local integer CS8=GetTriggerEvalCount(t)
local integer DM9=180-CS8
local integer i=1
local integer id
local real x=(LoadReal(L7,(OL7),(6)))
local real y=(LoadReal(L7,(OL7),(7)))
loop
exitwhen i>5
if IsPlayerAlly(GetOwningPlayer(DK9),Z7[0])then
set id=GetPlayerId(Z7[i])
else
set id=GetPlayerId(A7[i])
endif
set i=i+1
if DM9==0 then
call LeaderboardDisplay(HC7[id],false)
if IsPlayerAlly(Z7[0],Player(id))then
set I87[GetPlayerId(Z7[0])]=false
endif
if IsPlayerAlly(A7[0],Player(id))then
set I87[GetPlayerId(A7[0])]=false
endif
else
if LR7(M7[id])==false then
call PlayerSetLeaderboard(Player(id),HC7[id])
call LeaderboardDisplay(HC7[id],true)
call LeaderboardSetLabel(HC7[id],"    "+GetObjectName(1848659034)+" "+I2S(DM9))
endif
endif
endloop
if DM9==2 then
call SetUnitPosition(DK9,x,y)
endif
if DM9==0 then
call TW7(GetHandleId(DK9),"aiCrow|Alive",true)
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set t=null
set DK9=null
return false
endfunction
function DN9 takes player OO7,integer CR8 returns nothing
local texttag t
if CR8>0 then
set t=CreateTextTag()
call SetPlayerState(OO7,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(OO7,PLAYER_STATE_RESOURCE_GOLD)+CR8)
call SetTextTagText(t,"+"+I2S(CR8),0.025)
call SetTextTagPosUnit(t,M7[GetPlayerId(OO7)],0)
call SetTextTagColor(t,255,220,0,255)
call SetTextTagVelocity(t,0,0.03)
if GetLocalPlayer()==OO7 then
call SetTextTagVisibility(t,true)
else
call SetTextTagVisibility(t,false)
endif
call SetTextTagFadepoint(t,2)
call SetTextTagLifespan(t,3)
call SetTextTagPermanent(t,false)
endif
endfunction
function DO9 takes nothing returns boolean
local real x
local real y
local unit DK9=GetTriggerUnit()
local integer i=1
local integer DP9=175
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call TW7(GetHandleId(DK9),"aiCrow|Alive",false)
call IM8("Courier"+I2S(GetPlayerId(GetOwningPlayer(GetTriggerUnit()))),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call BL7(L8,10.00,DG9(GetOwningPlayer(GetTriggerUnit()),GetOwningPlayer(GetKillingUnit())))
call PingMinimapEx(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),6,255,0,0,false)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function DJ9))
call SaveUnitHandle(L7,(OL7),(2),(DK9))
if IsPlayerAlly(GetOwningPlayer(DK9),Z7[0])and I87[GetPlayerId(Z7[0])]==false then
set I87[GetPlayerId(Z7[0])]=true
loop
exitwhen i>5
call DN9(A7[i],DP9)
set i=i+1
endloop
endif
set i=1
if IsPlayerAlly(GetOwningPlayer(DK9),A7[0])and I87[GetPlayerId(A7[0])]==false then
set I87[GetPlayerId(A7[0])]=true
loop
exitwhen i>5
call DN9(Z7[i],DP9)
set i=i+1
endloop
endif
if ZL7(GetOwningPlayer(DK9))then
set x=GetRectCenterX(ED)
set y=GetRectCenterY(ED)
else
set x=GetRectCenterX(L9)
set y=GetRectCenterY(L9)
endif
call SaveReal(L7,(OL7),(6),((x)*1.0))
call SaveReal(L7,(OL7),(7),((y)*1.0))
if IsTerrainPathable(GetUnitX(DK9),GetUnitY(DK9),PATHING_TYPE_WALKABILITY)then
call DI9(DK9)
endif
set t=null
return false
endfunction
function DQ9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local real x=IX4
local real y=IY4
if Z17(GetOwningPlayer(EL8))then
set x=JY4
set y=JZ4
endif
if LR7(EL8)==false then
if RI7(GetUnitX(EL8),GetUnitY(EL8),x,y)<800 then
call LP7(EL8,1098282348)
else
call UnitRemoveAbility(EL8,1098282348)
endif
endif
set t=null
set EL8=null
return false
endfunction
function DR9 takes unit DK9 returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call SetPlayerAbilityAvailable(GetOwningPlayer(DK9),1093810510,false)
call UnitMakeAbilityPermanent(DK9,true,1093810509)
call TriggerRegisterDeathEvent(t,DK9)
call TriggerAddCondition(t,Condition(function DO9))
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerAddCondition(t,Condition(function DQ9))
call SaveUnitHandle(L7,(OL7),(2),(DK9))
set t=null
endfunction
function DS9 takes nothing returns nothing
if RZ7(GetTriggerUnit())and IsUnitIllusion(GetTriggerUnit())==false then
call IM8("Courier"+I2S(GetPlayerId(GetOwningPlayer(GetTriggerUnit()))),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call BL7(L8,10.00,DG9(GetOwningPlayer(GetTriggerUnit()),GetOwningPlayer(GetKillingUnit())))
call PingMinimapEx(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),6,255,0,0,false)
endif
endfunction
function DT9 takes nothing returns boolean
call U37(GetTriggeringTrigger())
set I87[GetPlayerId(Z7[0])]=false
set I87[GetPlayerId(A7[0])]=false
set HC7[GetPlayerId(Z7[1])]=CreateLeaderboard()
set HC7[GetPlayerId(Z7[2])]=CreateLeaderboard()
set HC7[GetPlayerId(Z7[3])]=CreateLeaderboard()
set HC7[GetPlayerId(Z7[4])]=CreateLeaderboard()
set HC7[GetPlayerId(Z7[5])]=CreateLeaderboard()
set HC7[GetPlayerId(A7[1])]=CreateLeaderboard()
set HC7[GetPlayerId(A7[2])]=CreateLeaderboard()
set HC7[GetPlayerId(A7[3])]=CreateLeaderboard()
set HC7[GetPlayerId(A7[4])]=CreateLeaderboard()
set HC7[GetPlayerId(A7[5])]=CreateLeaderboard()
call PlayerSetLeaderboard(Z7[1],HC7[GetPlayerId(Z7[1])])
call PlayerSetLeaderboard(Z7[2],HC7[GetPlayerId(Z7[2])])
call PlayerSetLeaderboard(Z7[3],HC7[GetPlayerId(Z7[3])])
call PlayerSetLeaderboard(Z7[4],HC7[GetPlayerId(Z7[4])])
call PlayerSetLeaderboard(Z7[5],HC7[GetPlayerId(Z7[5])])
call PlayerSetLeaderboard(A7[1],HC7[GetPlayerId(A7[1])])
call PlayerSetLeaderboard(A7[2],HC7[GetPlayerId(A7[2])])
call PlayerSetLeaderboard(A7[3],HC7[GetPlayerId(A7[3])])
call PlayerSetLeaderboard(A7[4],HC7[GetPlayerId(A7[4])])
call PlayerSetLeaderboard(A7[5],HC7[GetPlayerId(A7[5])])
call LeaderboardDisplay(HC7[GetPlayerId(Z7[1])],false)
call LeaderboardDisplay(HC7[GetPlayerId(Z7[2])],false)
call LeaderboardDisplay(HC7[GetPlayerId(Z7[3])],false)
call LeaderboardDisplay(HC7[GetPlayerId(Z7[4])],false)
call LeaderboardDisplay(HC7[GetPlayerId(Z7[5])],false)
call LeaderboardDisplay(HC7[GetPlayerId(A7[1])],false)
call LeaderboardDisplay(HC7[GetPlayerId(A7[2])],false)
call LeaderboardDisplay(HC7[GetPlayerId(A7[3])],false)
call LeaderboardDisplay(HC7[GetPlayerId(A7[4])],false)
call LeaderboardDisplay(HC7[GetPlayerId(A7[5])],false)
call LeaderboardSetLabelBJ(HC7[GetPlayerId(Z7[1])]," ")
call LeaderboardSetLabelBJ(HC7[GetPlayerId(Z7[2])]," ")
call LeaderboardSetLabelBJ(HC7[GetPlayerId(Z7[3])]," ")
call LeaderboardSetLabelBJ(HC7[GetPlayerId(Z7[4])]," ")
call LeaderboardSetLabelBJ(HC7[GetPlayerId(Z7[5])]," ")
call LeaderboardSetLabelBJ(HC7[GetPlayerId(A7[1])]," ")
call LeaderboardSetLabelBJ(HC7[GetPlayerId(A7[2])]," ")
call LeaderboardSetLabelBJ(HC7[GetPlayerId(A7[3])]," ")
call LeaderboardSetLabelBJ(HC7[GetPlayerId(A7[4])]," ")
call LeaderboardSetLabelBJ(HC7[GetPlayerId(A7[5])]," ")
return false
endfunction
function DU9 takes nothing returns nothing
local integer id=GetUnitTypeId(GetTriggerUnit())
if id==1697656914 or id==1697657137 or id==1697656915 or id==1697657145 or id==1966092365 or id==1966092356 or id==1966092366 or id==1966092372 then
if IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit()))then
set N04[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=N04[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
call BL7(L8,10,Q[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+(KZ4[GetPlayerId((GetOwningPlayer(GetKillingUnit())))])+"|r "+(GetObjectName((1848652880)))+".")
else
call BL7(L8,10,Q[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+(KZ4[GetPlayerId((GetOwningPlayer(GetKillingUnit())))])+"|r "+(GetObjectName((1848657230)))+".")
endif
endif
endfunction
function DV9 takes nothing returns nothing
if RZ7(GetEnumUnit())and IsUnitAlly(GetEnumUnit(),Z7[0])==false and GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)>0.5 then
call UnitRemoveAbility(GetEnumUnit(),1110456392)
call HG8(IZ4,GetEnumUnit(),ZH4,500)
endif
endfunction
function DW9 takes nothing returns nothing
if RZ7(GetEnumUnit())and IsUnitAlly(GetEnumUnit(),A7[0])==false and GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)>0.5 then
call UnitRemoveAbility(GetEnumUnit(),1110456392)
call HG8(JA4,GetEnumUnit(),ZH4,500)
endif
endfunction
function DX9 takes nothing returns boolean
local group g=CA7()
call GroupEnumUnitsInRect(g,OD,Condition(function ZY7))
call ForGroup(g,function DV9)
call CZ7(g)
set g=CA7()
call GroupEnumUnitsInRect(g,PD,Condition(function ZY7))
call ForGroup(g,function DW9)
call CZ7(g)
set g=null
return false
endfunction
function DY9 takes unit u returns boolean
return(GetUnitAbilityLevel((u),(1110454344))>0)or(GetUnitAbilityLevel((u),(1112500344))>0)or(GetUnitAbilityLevel((u),(1112560453))>0)or(GetUnitAbilityLevel((u),(1110456633))>0)or(GetUnitAbilityLevel((u),(1112757326))>0)or(GetUnitAbilityLevel((u),(1110459206))>0)or(GetUnitAbilityLevel((u),(1110458957))>0)or(GetUnitAbilityLevel((u),(1110455885))>0)or(GetUnitAbilityLevel((u),(1110456142))>0)or(GetUnitAbilityLevel((u),(1110456403))>0)or(GetUnitAbilityLevel((u),(1110454353))>0)or(GetUnitAbilityLevel((u),(1110455382))>0)or(GetUnitAbilityLevel((u),(1110456114))>0)or(GetUnitAbilityLevel((u),(1112891758))>0)or(GetUnitAbilityLevel((u),(1110456629))>0)or(GetUnitAbilityLevel((u),(1110455113))>0)or(GetUnitAbilityLevel((u),(1110458692))>0)or(GetUnitAbilityLevel((u),(1110458693))>0)or(GetUnitAbilityLevel((u),(1110458949))>0)or(GetUnitAbilityLevel((u),(1110458950))>0)or(GetUnitAbilityLevel((u),(1110454328))>0)or(GetUnitAbilityLevel((u),(1110455362))>0)or(GetUnitAbilityLevel((u),(1110454854))>0)or(GetUnitAbilityLevel((u),(1112896368))>0)or(GetUnitAbilityLevel((u),(1112896372))>0)or(GetUnitAbilityLevel((u),(1110459460))>0)or(UX7(u,"DisruptionState")==true)or(UX7(u,"AstralImprisonmentState")==true)or(GetUnitAbilityLevel((u),(1110459186))>0)or(GetUnitAbilityLevel((u),(1110455891))>0)or(GetUnitAbilityLevel((u),(1110454867))>0)or(GetUnitAbilityLevel((u),(1110456133))>0)
endfunction
function DZ9 takes unit u returns boolean
return DY9(u)or FO8(u)or IsUnitPaused(u)or BZ7(u)
endfunction
function DA9 takes unit PI7 returns boolean
return(IsUnitType(PI7,UNIT_TYPE_STUNNED)or IsUnitType(PI7,UNIT_TYPE_SNARED)or IsUnitType(PI7,UNIT_TYPE_POLYMORPHED)or GetUnitMoveSpeed(PI7)<290 or IsUnitPaused(PI7))or DY9(PI7)or FO8(PI7)
endfunction
function DB9 takes integer DC9,integer D39,boolean extraColor returns nothing
local integer x=0
loop
exitwhen x>15
call SetPlayerState(Player(x),PLAYER_STATE_RESOURCE_LUMBER,DC9)
call SetPlayerState(Player(x),PLAYER_STATE_RESOURCE_FOOD_USED,D39)
set x=x+1
endloop
endfunction
function D69 takes unit u returns boolean
local integer id=GetUnitTypeId(u)
return id==1848652343 or id==1966092596 or id==1966092597 or id==1966092598 or id==1966092612 or id==1966092613 or id==1966092614 or id==1966092599 or id==1966092601 or id==1966092600 or id==1966092609 or id==1966092610 or id==1966092611
endfunction
function DL9 takes unit u,boolean b returns nothing
call SetUnitInvulnerable(u,b)
call SaveBoolean(L7,(GetHandleId(u)),(509),(b))
endfunction
function D19 takes unit u returns boolean
return(LoadBoolean(L7,(GetHandleId(u)),(509)))or GetUnitAbilityLevel(u,1098282348)>0
endfunction
function D09 takes real x,real y returns location
local real EK8
local real EM8
local integer i=0
loop
exitwhen i>40
set EK8=x+i*20
set EM8=y+i*20
if IsPointInRegion(IU4,EK8,EM8)==false then
return Location(EK8,EM8)
endif
set EK8=x+i*20
set EM8=y-i*20
if IsPointInRegion(IU4,EK8,EM8)==false then
return Location(EK8,EM8)
endif
set EK8=x-i*20
set EM8=y+i*20
if IsPointInRegion(IU4,EK8,EM8)==false then
return Location(EK8,EM8)
endif
set EK8=x-i*20
set EM8=y-i*20
if IsPointInRegion(IU4,EK8,EM8)==false then
return Location(EK8,EM8)
endif
set i=i+1
endloop
return Location(x,y)
endfunction
function D59 takes unit EL8,integer HF8,integer D29 returns nothing
local integer i
if W24[1]==0 then
return
endif
set i=1
loop
exitwhen i>10
call UnitRemoveAbility(EL8,W24[i])
set i=i+1
endloop
set i=1
loop
exitwhen i>10
call UnitRemoveAbility(EL8,W_4[i])
set i=i+1
endloop
set i=1
loop
exitwhen i>10
call UnitRemoveAbility(EL8,X44[i])
set i=i+1
endloop
set i=1
loop
exitwhen i>10
call UnitRemoveAbility(EL8,X74[i])
set i=i+1
endloop
call UnitRemoveAbility(EL8,1110458963)
if HF8==1 then
call UnitAddAbility(EL8,W24[D29])
elseif HF8==2 then
call UnitAddAbility(EL8,W_4[D29])
elseif HF8==3 then
call UnitAddAbility(EL8,X44[D29])
elseif HF8==4 then
call UnitAddAbility(EL8,X74[D29])
endif
endfunction
function D_9 takes integer F98 returns nothing
set TE4=TE4+1
set TD4[TE4]=F98
endfunction
function E49 takes unit u returns nothing
local integer i=1
loop
exitwhen i>TE4
call UnitRemoveAbility(u,TD4[i])
set i=i+1
endloop
endfunction
function E79 takes integer o6 returns boolean
return o6==1095331943 or o6==1093677654 or o6==1094938741 or o6==1093744708 or o6==1093750613 or o6==1095328633 or o6==1093751617
endfunction
function E89 takes unit m5 returns nothing
call UnitRemoveAbility(m5,1093749313)
call UnitRemoveAbility(m5,1110459204)
call UnitRemoveAbility(m5,1093749828)
call UnitRemoveAbility(m5,1097167980)
call D59(m5,0,0)
endfunction
function E99 takes nothing returns boolean
if E79(GetSpellAbilityId())then
call E89(GetSpellTargetUnit())
endif
return false
endfunction
function ED9 takes integer EE9 returns integer
if DV[EE9]==0 then
return EE9
else
return DV[EE9]
endif
endfunction
function EF9 takes nothing returns nothing
local integer EG9=R2I(TimerGetElapsed(W)-M_4)
local integer DC9=EG9/60-1/2
local integer D39=ModuloInteger(EG9,60)
if Y04 then
call DB9(DC9,D39,false)
elseif Q94==false then
set EG9=R2I(16-TimerGetElapsed(W))
set DC9=EG9/ 60-1/ 2
set D39=ModuloInteger(EG9,60)
call DB9(DC9,D39,true)
endif
set Bz=R2I(TimerGetElapsed(W)-N44)
set B=DC9
set C=D39
endfunction
function EH9 takes unit EI9,integer EJ9 returns integer
local integer i
if EJ9==1 then
if GetUnitAbilityLevel(EI9,1094004784)>0 then
return 500
endif
set i=KL4
loop
exitwhen i>K54
if GetUnitAbilityLevel(EI9,HM4[i])>0 then
return i
endif
set i=i+1
endloop
return 0
elseif EJ9==2 then
if GetUnitAbilityLevel(EI9,1094004785)>0 then
return 500
endif
set i=KL4
loop
exitwhen i>K54
if GetUnitAbilityLevel(EI9,HN4[i])>0 then
return i
endif
set i=i+1
endloop
return 0
elseif EJ9==3 then
if GetUnitAbilityLevel(EI9,1094004786)>0 then
return 500
endif
set i=KL4
loop
exitwhen i>K54
if GetUnitAbilityLevel(EI9,HO4[i])>0 then
return i
endif
set i=i+1
endloop
return 0
elseif EJ9==4 then
if GetUnitAbilityLevel(EI9,1094004787)>0 then
return 500
endif
set i=KL4
loop
exitwhen i>K54
if GetUnitAbilityLevel(EI9,HP4[i])>0 or GetUnitAbilityLevel(EI9,HQ4[i])>0 then
return i
endif
set i=i+1
endloop
return 0
endif
return 0
endfunction
function EK9 takes item R37 returns boolean
local integer EM9=RB7(R37)
return EM9==FR4 or EM9==FS4 or EM9==FT4 or EM9==FU4 or EM9==FV4 or EM9==FW4 or EM9==FX4 or EM9==FY4 or EM9==FZ4 or EM9==FA4 or EM9==FB4 or EM9==F34 or EM9==F64 or EM9==FL4 or EM9==F14 or EM9==F04 or EM9==F54 or EM9==F24 or EM9==G44 or EM9==G74 or EM9==G84 or EM9==GD4 or EM9==GE4 or EM9==GG4 or EM9==GH4 or EM9==GI4 or EM9==GJ4 or EM9==GM4 or EM9==GN4 or EM9==GO4 or EM9==GP4 or EM9==GQ4 or EM9==GR4 or EM9==GS4 or EM9==GT4 or EM9==GK4 or EM9==GU4 or EM9==FC4 or EM9==GV4 or EM9==GW4 or EM9==GY4 or EM9==GZ4 or EM9==GA4 or EM9==G34 or EM9==GB4 or EM9==G64 or EM9==GX4 or EM9==GL4 or EM9==G14 or EM9==G04 or EM9==G54 or EM9==G24
endfunction
function EN9 takes integer EM9 returns boolean
return EM9==DF4 or EM9==AC or EM9==OC or EM9==QC or EM9==TC or EM9==VC or EM9==WC or EM9==XC or EM9==YC or EM9==PC or EM9==LC or EM9==H3
endfunction
function EO9 takes integer EM9 returns boolean
return EM9==DY4 or EM9==VB or EM9==D1 or EM9==E1 or EM9==DI4 or EM9==X0 or EM9==CC or EM9==ZA or EM9==DT4 or EM9==YB
endfunction
function EP9 takes integer EE9 returns integer
if TC==EE9 then
return 3
endif
if VC==EE9 or WC==EE9 or BC==EE9 or PC==EE9 or LC==EE9 then
return 2
endif
return 1
endfunction
function EQ9 takes string winner returns nothing
local integer i
local player p
local string id
local integer D5=R2I(TimerGetElapsed(W)-M_4)
local integer ER9=D5/ 60-1/ 2
local integer D39=ModuloInteger(D5,60)
call IH8()
set i=1
loop
exitwhen i>5
set p=Z7[i]
set id=I2S(GetPlayerId(p))
call StoreInteger(IV4,id,"1",(T[GetPlayerId((p))]))
call StoreInteger(IV4,id,"2",(V[GetPlayerId((p))]))
call StoreInteger(IV4,id,"3",(T7[GetPlayerId((p))]))
call StoreInteger(IV4,id,"4",(U7[GetPlayerId((p))]))
call StoreInteger(IV4,id,"5",(IU[GetPlayerId((p))]))
call StoreInteger(IV4,id,"6",(GetPlayerState((p),PLAYER_STATE_RESOURCE_GOLD)))
call StoreInteger(IV4,id,"7",(LoadInteger(L7,StringHash("Stats"+I2S(GetPlayerId((p)))),StringHash("NumOfNeutrals"))))
call StoreInteger(IV4,id,"8_0",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(0)))))
call StoreInteger(IV4,id,"8_1",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(1)))))
call StoreInteger(IV4,id,"8_2",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(2)))))
call StoreInteger(IV4,id,"8_3",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(3)))))
call StoreInteger(IV4,id,"8_4",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(4)))))
call StoreInteger(IV4,id,"8_5",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(5)))))
call StoreInteger(IV4,id,"9",(GetUnitTypeId(M7[GetPlayerId((p))])))
call StoreInteger(IV4,id,"id",i)
set p=A7[i]
set id=I2S(GetPlayerId(p))
call StoreInteger(IV4,id,"1",(T[GetPlayerId((p))]))
call StoreInteger(IV4,id,"2",(V[GetPlayerId((p))]))
call StoreInteger(IV4,id,"3",(T7[GetPlayerId((p))]))
call StoreInteger(IV4,id,"4",(U7[GetPlayerId((p))]))
call StoreInteger(IV4,id,"5",(IU[GetPlayerId((p))]))
call StoreInteger(IV4,id,"6",(GetPlayerState((p),PLAYER_STATE_RESOURCE_GOLD)))
call StoreInteger(IV4,id,"7",(LoadInteger(L7,StringHash("Stats"+I2S(GetPlayerId((p)))),StringHash("NumOfNeutrals"))))
call StoreInteger(IV4,id,"8_0",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(0)))))
call StoreInteger(IV4,id,"8_1",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(1)))))
call StoreInteger(IV4,id,"8_2",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(2)))))
call StoreInteger(IV4,id,"8_3",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(3)))))
call StoreInteger(IV4,id,"8_4",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(4)))))
call StoreInteger(IV4,id,"8_5",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(5)))))
call StoreInteger(IV4,id,"9",(GetUnitTypeId(M7[GetPlayerId((p))])))
call StoreInteger(IV4,id,"id",i+5)
if GetLocalPlayer()==Le then
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"1")
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"2")
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"3")
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"4")
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"5")
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"6")
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"7")
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"8_0")
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"8_1")
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"8_2")
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"8_3")
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"8_4")
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"8_5")
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"9")
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"id")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"1")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"2")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"3")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"4")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"5")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"6")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"7")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"8_0")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"8_1")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"8_2")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"8_3")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"8_4")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"8_5")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"9")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"id")
endif
set i=i+1
endloop
if O84==false then
call StoreInteger(IV4,"Global","Winner",O94)
call StoreInteger(IV4,"Global","m",ER9)
call StoreInteger(IV4,"Global","s",D39)
if GetLocalPlayer()==Le then
call SyncStoredInteger(IV4,"Global","Winner")
call SyncStoredInteger(IV4,"Global","m")
call SyncStoredInteger(IV4,"Global","s")
endif
endif
endfunction
function JZ8 takes nothing returns nothing
call EQ9("1")
endfunction
function ES9 takes nothing returns boolean
call ExecuteFunc("AH8")
return false
endfunction
function ET9 takes nothing returns nothing
call L_7(GetEnumUnit())
endfunction
function EU9 takes nothing returns nothing
local group g=CA7()
call GroupEnumUnitsInRange(g,0,0,12000,Condition(function G48))
call ForGroup(g,function ET9)
call CZ7(g)
set g=null
endfunction
function EV9 takes nothing returns nothing
call DisableTrigger(Q34)
call DisableTrigger(Q64)
call DisableTrigger(QL4)
call DisableTrigger(Q14)
call DisableTrigger(QZ4)
call DisableTrigger(GW7)
call DisableTrigger(QB4)
call DisableTrigger(EW7)
call DisableTrigger(Hn)
endfunction
function EW9 takes nothing returns nothing
set bj_changeLevelShowScores=true
call DisableTrigger(OE4)
call DisableTrigger(OF4)
call ExecuteFunc("EX9")
if V8 then
call DisableTrigger(NK4)
endif
call DisableTrigger(M24)
call ClearTextMessages()
call BL7(bj_FORCE_ALL_PLAYERS,60,B9+" "+(GetObjectName((1848653108)))+" www.getdota.com.")
set D9=true
call LO7()
call DisableTrigger(JS)
call DisableTrigger(FS)
call DisableTrigger(M54)
call LJ7()
call EV9()
endfunction
function EY9 takes nothing returns nothing
local trigger t=CreateTrigger()
call PanCameraToTimed(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),0)
call TriggerRegisterTimerEvent(t,6.5,false)
call TriggerAddCondition(t,Condition(function ES9))
set O94=2
set B9="|c0020c000"+(GetObjectName((1848652623)))+"|r"
call EW9()
call EU9()
call EQ9("2")
set t=null
endfunction
function EZ9 takes nothing returns boolean
call SetUnitVertexColorBJ(J34,100,100,100,GetTriggerEvalCount(GetTriggeringTrigger()))
if GetTriggerEvalCount(GetTriggeringTrigger())==100 then
call ShowUnit(J34,false)
call U37(GetTriggeringTrigger())
endif
return false
endfunction
function EA9 takes nothing returns nothing
local trigger t=CreateTrigger()
call PanCameraToTimed(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),0)
call TriggerRegisterTimerEvent(t,3.5,false)
call TriggerAddCondition(t,Condition(function ES9))
set O94=1
set B9="|c00ff0303"+(GetObjectName((1848652622)))+"|r"
call EW9()
call EU9()
call EQ9("1")
call AddSpecialEffect("war3mapImported\\FrozenThronesDeath2.mdx",GetUnitX(J34)+150,GetUnitY(J34)+100)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function EZ9))
set t=null
endfunction
function EB9 takes unit EC9 returns boolean
local unit E39=M7[GetPlayerId(GetOwningPlayer(EC9))]
if((GetUnitX(E39)-GetUnitX(EC9))*(GetUnitX(E39)-GetUnitX(EC9))+(GetUnitY(E39)-GetUnitY(EC9))*(GetUnitY(E39)-GetUnitY(EC9))>=855625)then
set E39=null
return true
endif
set E39=null
return false
endfunction
function E69 takes nothing returns nothing
local unit ZE8=GetAttacker()
local integer EL9=UnitInventorySize(ZE8)
local integer x=0
local item i
loop
exitwhen x>EL9
set i=UnitItemInSlot(ZE8,x)
if RC7(i)==UZ and GetRandomReal(0,1)<=0.2 and FX8(ZE8)==false then
if F08(ZE8)then
if EB9(ZE8)==false then
if GetUnitAbilityLevel(GetTriggerUnit(),1093678162)==0 then
call HG8(ZE8,GetTriggerUnit(),ZH4,40)
endif
endif
else
if GetUnitAbilityLevel(GetTriggerUnit(),1093678162)==0 then
call HG8(ZE8,GetTriggerUnit(),ZH4,40)
endif
endif
endif
set x=x+1
endloop
set i=null
set ZE8=null
endfunction
function E19 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local real E09=(LoadReal(L7,(GetHandleId(EL8)),(692)))
if GetTriggerEventId()==EVENT_WIDGET_DEATH or E09<(TimerGetElapsed(W))then
call UnitRemoveAbility(EL8,1093809717)
call UnitRemoveAbility(EL8,1110456398)
call UnitRemoveAbility(EL8,1093809731)
call SaveReal(L7,(GetHandleId(EL8)),(692),((0)*1.0))
endif
call FlushChildHashtable(L7,(OL7))
call U37(t)
set t=null
set EL8=null
return false
endfunction
function E59 takes unit EL8 returns nothing
local trigger t
local integer OL7
local real E09=(LoadReal(L7,(GetHandleId(EL8)),(692)))
call SaveReal(L7,(GetHandleId(EL8)),(692),(((TimerGetElapsed(W))+LA4)*1.0))
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,LA4+0.01,false)
call TriggerRegisterDeathEvent(t,EL8)
call TriggerAddCondition(t,Condition(function E19))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call LP7(EL8,1093809717)
call LP7(EL8,1093809731)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093809717,false)
set t=null
endfunction
function E29 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
call FlushChildHashtable(L7,(OL7))
call U37(t)
else
if GetEventDamageSource()==EL8 and GetEventDamage()>0 then
call FlushChildHashtable(L7,(OL7))
call U37(t)
if D69(O_7)==false then
call E59(O_7)
endif
endif
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function E_9 takes nothing returns nothing
local unit EL8=GetAttacker()
local unit O_7=GetTriggerUnit()
local trigger t
local integer OL7
if UX7(EL8,"4309")==false then
call U07(EL8,"4309",0.2)
if GetRandomReal(0,100)<LZ4 then
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,2.5,false)
call TriggerAddCondition(t,Condition(function E29))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
endif
endif
set EL8=null
set O_7=null
endfunction
function F49 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local real E09=(LoadReal(L7,(GetHandleId(EL8)),(693)))
if GetTriggerEventId()==EVENT_WIDGET_DEATH or E09<(TimerGetElapsed(W))then
call UnitRemoveAbility(EL8,1093809718)
call UnitRemoveAbility(EL8,1110454857)
call UnitRemoveAbility(EL8,1093809731)
call SaveReal(L7,(GetHandleId(EL8)),(693),((0)*1.0))
endif
call FlushChildHashtable(L7,(OL7))
call U37(t)
set t=null
set EL8=null
return false
endfunction
function F79 takes unit EL8 returns nothing
local trigger t
local integer OL7
local real E09=(LoadReal(L7,(GetHandleId(EL8)),(693)))
call SaveReal(L7,(GetHandleId(EL8)),(693),(((TimerGetElapsed(W))+LC4)*1.0))
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,LC4+0.01,false)
call TriggerRegisterDeathEvent(t,EL8)
call TriggerAddCondition(t,Condition(function F49))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call LP7(EL8,1093809718)
call LP7(EL8,1093809731)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093809718,false)
set t=null
endfunction
function F89 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
call FlushChildHashtable(L7,(OL7))
call U37(t)
else
if GetEventDamageSource()==EL8 and GetEventDamage()>0 then
call FlushChildHashtable(L7,(OL7))
call U37(t)
if D69(O_7)==false then
call F79(O_7)
endif
endif
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function F99 takes nothing returns nothing
local unit EL8=GetAttacker()
local unit O_7=GetTriggerUnit()
local trigger t
local integer OL7
if UX7(EL8,"4309")==false then
call U07(EL8,"4309",0.2)
if GetRandomReal(0,100)<LB4 then
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,2.5,false)
call TriggerAddCondition(t,Condition(function F89))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
endif
endif
set EL8=null
set O_7=null
endfunction
function FD9 takes nothing returns nothing
local unit ZE8=GetAttacker()
local integer FE9=25
local integer id=GetPlayerId(GetOwningPlayer(GetAttacker()))
local integer UL7=GetHandleId(ZE8)
local real B17=TimerGetElapsed(W)
local real FF9=UR7(UL7,"bashertime")
local boolean FG9=US7(UL7,"basheractive")
local boolean FH9=US7(UL7,"basherremove")
local boolean FI9=B17<FF9
local boolean FJ9=false
if IsUnitType(ZE8,UNIT_TYPE_MELEE_ATTACKER)==false then
set FE9=10
endif
if GetRandomInt(0,100)<FE9 then
set FJ9=true
endif
if GetUnitAbilityLevel(ZE8,1093683786)>0 or GetUnitAbilityLevel(ZE8,1093679153)>0 or GetUnitAbilityLevel(ZE8,1093682997)>0 or GetUnitAbilityLevel(ZE8,1093679429)>0 then
call UnitRemoveAbility(ZE8,1093744436)
set ZE8=null
return
endif
if FG9 and FI9==false and FH9==false then
call TU7(UL7,"bashertime",(B17+2)*1.0)
if FJ9==false then
call TW7(UL7,"basherremove",true)
endif
elseif FI9 or FH9 then
call UnitRemoveAbility(ZE8,1093744436)
call TW7(UL7,"basheractive",false)
call TW7(UL7,"basherremove",false)
endif
if FJ9 then
call LP7(ZE8,1093744436)
call UnitMakeAbilityPermanent(ZE8,true,1093744437)
call TW7(UL7,"basheractive",true)
endif
set ZE8=null
endfunction
function FK9 takes real IK8 returns boolean
return(100*GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)/ GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE))<IK8
endfunction
function AntiTK_Building takes nothing returns boolean
return FK9(10)and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==true and GetUnitTypeId(GetTriggerUnit())!=1702129516 and GetUnitTypeId(GetTriggerUnit())!=1970172012
endfunction
function AntiTK_Hero takes nothing returns boolean
return FK9(25)and(GetUnitAbilityLevel(GetTriggerUnit(),1112433775)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1111847784)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110454321)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110458705)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110458704)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110455620)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110455629)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110455630)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110455631)>0)
endfunction
function AntiTK_Creep takes nothing returns boolean
return FK9(50)and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==false and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false or GetUnitTypeId(GetTriggerUnit())==1700946284 or GetUnitTypeId(GetTriggerUnit())==1697657398 or GetUnitTypeId(GetTriggerUnit())==1970107511 or GetUnitTypeId(GetTriggerUnit())==1966092370)
endfunction
function AntiTK_Exception takes nothing returns boolean
return GetUnitTypeId(GetTriggerUnit())==1966092371 or GetUnitTypeId(GetTriggerUnit())==1865429334 or UX7(GetAttacker(),"4328")==true
endfunction
function FM9 takes nothing returns nothing
if not((FK9(10)and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==true and GetUnitTypeId(GetTriggerUnit())!=1702129516 and GetUnitTypeId(GetTriggerUnit())!=1970172012)or(FK9(25)and(GetUnitAbilityLevel(GetTriggerUnit(),1112433775)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1111847784)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110454321)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110458705)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110458704)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110455620)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110455629)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110455630)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110455631)>0))or(FK9(50)and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==false and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false or GetUnitTypeId(GetTriggerUnit())==1700946284 or GetUnitTypeId(GetTriggerUnit())==1697657398 or GetUnitTypeId(GetTriggerUnit())==1970107511 or GetUnitTypeId(GetTriggerUnit())==1966092370))or(GetUnitTypeId(GetTriggerUnit())==1966092371 or GetUnitTypeId(GetTriggerUnit())==1865429334 or UX7(GetAttacker(),"4328")==true))then
call IssueImmediateOrder(GetAttacker(),"stop")
endif
endfunction
function FN9 takes nothing returns boolean
if IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))then
call FM9()
elseif IsUnitType(GetAttacker(),UNIT_TYPE_HERO)==true or F08(GetAttacker())then
set OG4=GetPlayerId(GetOwningPlayer(GetAttacker()))
if RK4[OG4]>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitTypeId(GetTriggerUnit())!=1848651852 and IsUnitIllusion(GetAttacker())==false and SU7(GetAttacker(),ZU[UZ])==true then
call E69()
endif
if RO4[OG4]>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitIllusion(GetAttacker())==false and(SU7(GetAttacker(),ZU[WL])==true or SU7(GetAttacker(),ZU[U3])==true)then
call FD9()
endif
if RR4[OG4]>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitIllusion(GetAttacker())==false and SU7(GetAttacker(),ZU[U1])==true then
call E_9()
elseif(RS4[OG4]>0 or H17[OG4]>0)and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitIllusion(GetAttacker())==false and(SU7(GetAttacker(),ZU[RL])==true or SU7(GetAttacker(),ZU[R3])==true)then
call F99()
endif
elseif GetUnitAbilityLevel(GetAttacker(),1093744467)>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false then
call ZD8()
endif
return false
endfunction
function FO9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
local real x=UR7(UL7,"x")
local real y=UR7(UL7,"y")
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT or US7(GetHandleId(CR7),"PendingUnfreeze")==true then
if US7(GetHandleId(CR7),"PendingUnfreeze")==true then
call TW7(GetHandleId(CR7),"PendingUnfreeze",false)
call UB7(CR7,"Frozen")
call UnitRemoveAbility(CR7,1093678162)
call DL9(CR7,false)
call PauseUnit(CR7,false)
call TQ7(UL7)
call U37(t)
elseif GetSpellTargetUnit()==CR7 and GetSpellAbilityId()==vw and(GetPlayerSlotState(GetOwningPlayer((CR7)))==PLAYER_SLOT_STATE_LEFT)and UX7(CR7,"Frozen")==true then
call UB7(CR7,"Frozen")
call UnitRemoveAbility(CR7,1093678162)
call DL9(CR7,false)
call PauseUnit(CR7,false)
call TQ7(UL7)
call U37(t)
endif
elseif LR7(CR7)==false then
call SetUnitX(CR7,x)
call SetUnitY(CR7,y)
call UZ7(CR7,"Frozen")
call UnitAddAbility(CR7,1093678162)
call DL9(CR7,true)
call PauseUnit(CR7,true)
endif
set CR7=null
set t=null
return false
endfunction
function FP9 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=GetSpellTargetUnit()
call TW7(GetHandleId(CR7),"PendingUnfreeze",false)
call UZ7(CR7,"Frozen")
call UnitAddAbility(CR7,1093678162)
call DL9(CR7,true)
call PauseUnit(CR7,true)
call TX7(UL7,"Hero",CR7)
call TU7(UL7,"x",GetUnitX(CR7)*1.0)
call TU7(UL7,"y",GetUnitY(CR7)*1.0)
call TriggerRegisterTimerEvent(t,1.,true)
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function FO9))
set t=null
set CR7=null
endfunction
function FQ9 takes nothing returns boolean
if GetSpellAbilityId()==TU and(GetPlayerSlotState(GetOwningPlayer((GetSpellTargetUnit())))==PLAYER_SLOT_STATE_LEFT)and UX7(GetSpellTargetUnit(),"Frozen")==false then
call FP9()
elseif(GetSpellAbilityId()==vw or GetSpellAbilityId()==TU)and(GetPlayerSlotState(GetOwningPlayer((GetSpellTargetUnit())))==PLAYER_SLOT_STATE_LEFT)==false then
call D78(GetOwningPlayer(GetTriggerUnit()),(GetObjectName((1848652366))))
endif
return false
endfunction
function FR9 takes destructable d returns boolean
local real x=GetDestructableX(d)
local real y=GetDestructableY(d)
local group g=CA7()
local boolean FS9
call GroupEnumUnitsInRange(g,x,y,250,Condition(function GT8))
set FS9=FirstOfGroup(g)!=null
call CZ7(g)
set g=null
return FS9
endfunction
function FT9 takes nothing returns nothing
if BY7(GetEnumDestructable())and GetDestructableLife(GetEnumDestructable())<1 and GetDestructableTypeId(GetEnumDestructable())!=1110454322 and GetDestructableTypeId(GetEnumDestructable())!=1110454323 then
if FR9(GetEnumDestructable())==false then
call DestructableRestoreLife(GetEnumDestructable(),GetDestructableMaxLife(GetEnumDestructable()),false)
if PW[GetPlayerId(GetLocalPlayer())]==1 and GetDestructableTypeId(GetEnumDestructable())==1096053874 then
call SetDestructableAnimation(GetEnumDestructable(),"stand alternate")
endif
endif
endif
endfunction
function FU9 takes nothing returns nothing
call EnumDestructablesInRectAll(bj_mapInitialPlayableArea,function FT9)
endfunction
function FV9 takes unit it,unit m5 returns boolean
local integer i=GetUnitAbilityLevel(it,1093742674)
local integer j=GetUnitLevel(m5)
return(i>0)and((j<=2)or(i>1 and j<=i+2))
endfunction
function FW9 takes nothing returns boolean
local unit FX9=GetAttacker()
local unit FY9=GetTriggerUnit()
local integer i1=GetUnitTypeId(FX9)
local integer O5=GetPlayerId(GetOwningPlayer(FX9))
if GetUnitTypeId(FY9)==1848651852 then
if IsUnitIllusion(FX9)==true then
call KillUnit(FX9)
elseif IsUnitInRegion(ow,FX9)==false then
call D78(GetOwningPlayer(FX9),(GetObjectName((1848652597))))
call IssueImmediateOrder(FX9,"stop")
endif
elseif((i1==1430467634)and(Bz>TC4[16+O5])and((GetUnitTypeId(FY9)==1852010091)or(GetUnitTypeId(FY9)==1852534636))and Z27(GetOwningPlayer(FX9)))then
if FV9(FX9,FY9)then
call T77(FX9,852600,1093742674,FY9)
endif
elseif((i1==1430467634)and(Bz>TC4[16+O5])and Z27(GetOwningPlayer(FX9))and(GetRandomInt(1,4)==1)and(not IsUnitType(FY9,UNIT_TYPE_MECHANICAL))and(not IsUnitType(FY9,UNIT_TYPE_ANCIENT))and GetUnitTypeId(FY9)!=1848658008 and GetUnitTypeId(FY9)!=1852796263 and GetUnitTypeId(FY9)!=1852207221 and GetUnitTypeId(FY9)!=1853060204 and GetUnitTypeId(FY9)!=1853055348 and GetUnitTypeId(FY9)!=1853060200 and GetUnitTypeId(FY9)!=1848651859 and GetUnitTypeId(FY9)!=1852207976 and GetUnitTypeId(FY9)!=1852272243 and GetUnitTypeId(FY9)!=1852270641 and GetUnitTypeId(FY9)!=1852798821 and GetUnitTypeId(FY9)!=1852077175 and GetUnitTypeId(FY9)!=1853320295)then
if FV9(FX9,FY9)then
call T77(FX9,852600,1093742674,FY9)
endif
elseif((i1==1429221443)and Z27(GetOwningPlayer(FX9))and(not IsUnitType(FY9,UNIT_TYPE_MECHANICAL))and(not IsUnitType(FY9,UNIT_TYPE_ANCIENT))and(GetUnitTypeId(FY9)==1852010091)or(GetUnitTypeId(FY9)==1852534636)or GetUnitTypeId(FY9)==1848658008 or GetUnitTypeId(FY9)==1852796263 or GetUnitTypeId(FY9)==1852207221 or GetUnitTypeId(FY9)==1853060204 or GetUnitTypeId(FY9)==1853055348 or GetUnitTypeId(FY9)==1853060200 or GetUnitTypeId(FY9)==1848651859 or GetUnitTypeId(FY9)==1852207976 or GetUnitTypeId(FY9)==1852272243 or GetUnitTypeId(FY9)==1852270641 or GetUnitTypeId(FY9)==1852798821 or GetUnitTypeId(FY9)==1852077175 or GetUnitTypeId(FY9)==1853320295)then
if(GetUnitAbilityLevel(FX9,1093686103)>1)then
call T77(FX9,852600,1093686103,FY9)
endif
elseif((i1==1211117653)and Z27(GetOwningPlayer(FX9)))then
if((Bz>TC4[128+O5])and(AR7(FX9,LQ4,LQ4,LR4,1093686865)))then
call T77(FX9,852490,1093686865,FX9)
elseif(Bz>TC4[64+O5])and(AR7(FX9,LR4,LR4,LP4,1093686863))then
call IssueImmediateOrderById(FX9,852132)
endif
endif
set FX9=null
set FY9=null
return false
endfunction
function FZ9 takes nothing returns nothing
local unit FA9=GetSummonedUnit()
local unit EL8=GetSummoningUnit()
local string fx=""
if IsPlayerEnemy(GetLocalPlayer(),GetOwningPlayer(EL8))and CP7(GetLocalPlayer())==false then
set fx="war3mapImported\\WardMark_T2.mdx"
endif
call AddSpecialEffectTarget(fx,FA9,"origin")
set FA9=null
set EL8=null
endfunction
function FB9 takes nothing returns boolean
return true
endfunction
function FC9 takes unit CR7,unit F39 returns nothing
local integer F69
local item FL9
if GetUnitTypeId(GetSummonedUnit())==1865429044 then
set F69=ZU[VC]
else
set F69=ZU[WC]
endif
call DisableTrigger(H94)
set FL9=SY7(CR7,F69)
if FL9==null then
set IR4=GetOwningPlayer(CR7)
set HA4=CreateItem(F69,0,0)
call UnitAddItem(CR7,HA4)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
else
call SetItemCharges(FL9,GetItemCharges(FL9)+1)
endif
call EnableTrigger(H94)
set FL9=null
endfunction
function F19 takes nothing returns nothing
local unit F39=GetSummonedUnit()
local unit CR7=GetSummoningUnit()
if GetUnitTypeId(GetSummonedUnit())==1865429044 or GetUnitTypeId(GetSummonedUnit())==1868921189 then
if IsUnitInRegion(ow,F39)then
call FC9(CR7,F39)
call RemoveUnit(F39)
elseif RZ7(CR7)then
call FC9(CR7,F39)
call D78(GetOwningPlayer(F39),"Couriers cannot place wards")
call RemoveUnit(F39)
else
call FZ9()
endif
elseif GetUnitTypeId(F39)==1869836340 or GetUnitTypeId(F39)==1865429048 or GetUnitTypeId(F39)==1865429049 or GetUnitTypeId(F39)==1865429315 or GetUnitTypeId(F39)==1865429316 or GetUnitTypeId(F39)==1865429317 then
call SelectUnitAddForPlayer(F39,GetOwningPlayer(F39))
elseif GetUnitTypeId(F39)==1865429040 or GetUnitTypeId(F39)==1865429041 or GetUnitTypeId(F39)==1865429057 or GetUnitTypeId(F39)==1865429080 then
call SelectUnitAddForPlayer(F39,GetOwningPlayer(F39))
endif
set CR7=null
set F39=null
endfunction
function F09 takes unit CR7 returns real
local real F59
if ZL7(GetOwningPlayer(CR7))then
set F59=GetRectCenterX(ED)
else
set F59=GetRectCenterX(L9)
endif
return F59
endfunction
function F29 takes unit CR7 returns real
local real F59
if ZL7(GetOwningPlayer(CR7))then
set F59=GetRectCenterY(ED)
else
set F59=GetRectCenterY(L9)
endif
return F59
endfunction
function F_9 takes unit CR7,integer n5,integer G49 returns item
local real x=F09(CR7)
local real y=F29(CR7)
local item W18=CreateItem(n5,x,y)
local integer i=0
local boolean array G79
local item Z4
set K_7=IR4
call DisableTrigger(H94)
if n5>0 then
loop
exitwhen i>(UnitInventorySize(CR7)-1)
if UnitItemInSlot(CR7,i)==null and i!=G49 then
set Z4=CreateItem(1227895373,x,y)
call UnitAddItem(CR7,Z4)
set G79[i]=true
else
set G79[i]=false
endif
if i==G49 then
call EnableTrigger(H94)
call UnitAddItem(CR7,W18)
call DisableTrigger(H94)
endif
set i=i+1
endloop
set i=0
loop
exitwhen i>5
if G79[i]==true then
call RemoveItem(UnitItemInSlot(CR7,i))
endif
set i=i+1
endloop
endif
call EnableTrigger(H94)
set HA4=W18
set W18=null
set Z4=null
return HA4
endfunction
function G89 takes unit EL8 returns boolean
local integer OL7=GetHandleId(EL8)
local integer i=0
local real BY8=(TimerGetElapsed(W))
local real G99=10
loop
exitwhen i>2
if(LoadReal(L7,(OL7),(730+i)))<BY8-G99 then
return false
endif
set i=i+1
endloop
return true
endfunction
function GD9 takes unit EL8 returns nothing
local integer OL7=GetHandleId(EL8)
local integer GE9=(LoadInteger(L7,(OL7),(729)))
call SaveReal(L7,(OL7),(730+GE9),(((TimerGetElapsed(W)))*1.0))
set GE9=GE9+1
if GE9==3 then
set GE9=0
endif
call SaveInteger(L7,(OL7),(729),(GE9))
endfunction
function GF9 takes unit CL7 returns nothing
local integer i=0
local item GG9
local integer EM9
local boolean GH9=false
if G89(CL7)then
set GH9=true
endif
loop
exitwhen i>5
set GG9=UnitItemInSlot(CL7,i)
set EM9=RC7(GG9)
if EM9==LB and GH9==true then
call DisableTrigger(H94)
set IR4=GetItemPlayer(GG9)
call RemoveItem(GG9)
set HA4=F_9(CL7,ZU[EC],i)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call EnableTrigger(H94)
endif
if EM9==EC and GH9==false then
call DisableTrigger(H94)
set IR4=GetItemPlayer(GG9)
call RemoveItem(GG9)
set HA4=F_9(CL7,ZU[LB],i)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call EnableTrigger(H94)
endif
set i=i+1
endloop
set CL7=null
set GG9=null
endfunction
function ZK8 takes nothing returns nothing
if GetEventDamage()>2 and GetEventDamageSource()!=GetTriggerUnit()and(Z07(GetOwningPlayer(GetEventDamageSource()))or GetUnitTypeId(GetEventDamageSource())==1848651852)then
if WV4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]==false then
call SaveReal(L7,(GetHandleId(GetTriggerUnit())),(785),(((TimerGetElapsed(W)))*1.0))
if GetEventDamage()>20 then
call GD9(GetTriggerUnit())
endif
endif
endif
endfunction
function GI9 takes unit CR7 returns nothing
local integer i=0
local item GJ9
local integer EE9
local boolean GK9=false
if(LoadReal(L7,(GetHandleId(CR7)),(785)))+3>(TimerGetElapsed(W))then
set GK9=true
endif
loop
exitwhen i>5
set GJ9=UnitItemInSlot(CR7,i)
set EE9=RC7(GJ9)
if EE9==RW and GK9==true then
call DisableTrigger(H94)
set IR4=GetItemPlayer(GJ9)
call RemoveItem(GJ9)
set HA4=F_9(CR7,ZU[TW],i)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call EnableTrigger(H94)
endif
if EE9==TW and GK9==false then
call DisableTrigger(H94)
set IR4=GetItemPlayer(GJ9)
call RemoveItem(GJ9)
set HA4=F_9(CR7,ZU[RW],i)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call EnableTrigger(H94)
endif
set i=i+1
endloop
set CR7=null
set GJ9=null
endfunction
function GM9 takes unit CR7 returns nothing
local integer i=0
local item GN9
local integer EE9
local boolean GO9=false
local real GP9=4
if IsUnitType(CR7,UNIT_TYPE_MELEE_ATTACKER)==false then
set GP9=6
endif
if(LoadReal(L7,(GetHandleId(CR7)),(785)))+GP9>(TimerGetElapsed(W))then
set GO9=true
endif
loop
exitwhen i>5
set GN9=UnitItemInSlot(CR7,i)
set EE9=RC7(GN9)
if EE9==R2 and GO9==true then
call DisableTrigger(H94)
set IR4=GetItemPlayer(GN9)
call RemoveItem(GN9)
set HA4=F_9(CR7,ZU[S2],i)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call EnableTrigger(H94)
endif
if EE9==S2 and GO9==false then
call DisableTrigger(H94)
set IR4=GetItemPlayer(GN9)
call RemoveItem(GN9)
set HA4=F_9(CR7,ZU[R2],i)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call EnableTrigger(H94)
endif
set i=i+1
endloop
set CR7=null
set GN9=null
endfunction
function GQ9 takes nothing returns nothing
local unit CL7=GetEnumUnit()
local integer id=GetPlayerId(GetOwningPlayer(CL7))
if RM4[id]>0 and CL7!=null and GetUnitTypeId(CL7)>1 and IsUnitType(CL7,UNIT_TYPE_DEAD)==false then
call GI9(CL7)
endif
if RQ4[id]>0 and CL7!=null and GetUnitTypeId(CL7)>1 and IsUnitType(CL7,UNIT_TYPE_DEAD)==false then
call GM9(CL7)
endif
if H27[id]>0 and CL7!=null and GetUnitTypeId(CL7)>1 and IsUnitType(CL7,UNIT_TYPE_DEAD)==false then
call GF9(CL7)
endif
set CL7=null
endfunction
function GR9 takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and GetUnitTypeId(GetFilterUnit())!=1211117642 and GetUnitTypeId(GetFilterUnit())!=1211122232
endfunction
function GS9 takes nothing returns boolean
local integer i=1
local unit CL7
local integer id
local group g
if HF4>0 or HI4>0 or HL7>0 then
set g=CA7()
call GroupEnumUnitsInRange(g,0,0,9999,Condition(function GR9))
loop
exitwhen i>5
set id=GetPlayerId(Z7[i])
set CL7=M7[id]
call GroupAddUnit(g,CL7)
set id=GetPlayerId(A7[i])
set CL7=M7[id]
call GroupAddUnit(g,CL7)
set i=i+1
endloop
call ForGroup(g,function GQ9)
call CZ7(g)
set g=null
endif
set CL7=null
return false
endfunction
function GT9 takes nothing returns nothing
local unit CR7=GetFilterUnit()
local integer i=0
local item W18
local integer EE9
loop
exitwhen i>5
set W18=UnitItemInSlot(CR7,i)
set EE9=RB7(W18)
if(EE9==AZ or EE9==BZ or EE9==CZ)and GetItemUserData(W18)>0 then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",CR7,"overhead"))
call D48(GetOwningPlayer(CR7),"Abilities\\Spells\\Human\\Heal\\HealTarget.wav")
set IR4=GetItemPlayer(W18)
call RA7(W18)
set HA4=F_9(CR7,ZU[IA],i)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
set i=i+1
endloop
set CR7=null
set W18=null
endfunction
function GU9 takes nothing returns boolean
if UnitInventorySize(GetFilterUnit())>0 and ZL7(GetOwningPlayer(GetFilterUnit()))and IsUnitIllusion(GetFilterUnit())==false and LR7(GetFilterUnit())==false then
call GT9()
endif
return false
endfunction
function GV9 takes nothing returns boolean
if UnitInventorySize(GetFilterUnit())>0 and Z17(GetOwningPlayer(GetFilterUnit()))and IsUnitIllusion(GetFilterUnit())==false and LR7(GetFilterUnit())==false then
call GT9()
endif
return false
endfunction
function GW9 takes nothing returns boolean
local group g=CA7()
call GroupEnumUnitsInRange(g,IX4,IY4,750,Condition(function GU9))
call CZ7(g)
set g=CA7()
call GroupEnumUnitsInRange(g,JY4,JZ4,750,Condition(function GV9))
call CZ7(g)
set g=null
return false
endfunction
function GX9 takes unit u returns unit
if IsUnitType(u,UNIT_TYPE_HERO)or GetUnitAbilityLevel(u,1093678162)==0 then
return u
else
return M7[GetPlayerId(GetOwningPlayer(u))]
endif
endfunction
function GY9 takes nothing returns boolean
if IsUnitType(GetKillingUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitAlly(GetDyingUnit(),GetOwningPlayer(GetKillingUnit()))==false then
if GetUnitTypeId(GetTriggerUnit())==1848651850 then
call HG8(GetDyingUnit(),GX9(GetKillingUnit()),ZI4,400)
elseif GetUnitTypeId(GetTriggerUnit())==1848651841 then
call HG8(GetDyingUnit(),GX9(GetKillingUnit()),ZI4,500)
elseif GetUnitTypeId(GetTriggerUnit())==1848651830 then
call HG8(GetDyingUnit(),GX9(GetKillingUnit()),ZI4,600)
endif
endif
return false
endfunction
function GZ9 takes nothing returns boolean
return GetUnitTypeId(GetEnteringUnit())==1697656901 or GetUnitTypeId(GetEnteringUnit())==1697657394
endfunction
function GA9 takes nothing returns nothing
call ShowUnitHide(GetEnteringUnit())
call SetUnitPathing(GetEnteringUnit(),false)
call SetUnitInvulnerable(GetEnteringUnit(),true)
if(GetPlayerController(GetOwningPlayer(GetEnteringUnit()))==MAP_CONTROL_USER)then
call UnitApplyTimedLifeBJ(20.,1112820806,GetEnteringUnit())
else
call TriggerSleepAction(10.)
if((GetUnitTypeId(GetEnteringUnit())==1697656901)or(GetUnitTypeId(GetEnteringUnit())==1697657394))then
call UnitApplyTimedLifeBJ(10.,1112820806,GetEnteringUnit())
endif
endif
endfunction
function GB9 takes nothing returns boolean
return((GetUnitTypeId(GetDyingUnit())==1697656914)or(GetUnitTypeId(GetDyingUnit())==1697657137)or(GetUnitTypeId(GetDyingUnit())==1697656915)or(GetUnitTypeId(GetDyingUnit())==1697657145))
endfunction
function GC9 takes nothing returns nothing
if IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit()))then
set gD[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=gD[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
endif
if(GetDyingUnit()==JG4)then
call IM8("Tower"+I2S(0)+I2S(1)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call DL9(JJ4,false)
call BJ7(GetKillingUnit(),1)
set P64=1
elseif(GetDyingUnit()==JH4)then
call IM8("Tower"+I2S(0)+I2S(1)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call DL9(JK4,false)
call BJ7(GetKillingUnit(),1)
set P34=1
elseif(GetDyingUnit()==JI4)then
call IM8("Tower"+I2S(0)+I2S(1)+I2S(2),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call DL9(JM4,false)
call BJ7(GetKillingUnit(),1)
set PL4=1
elseif(GetDyingUnit()==JJ4)then
call IM8("Tower"+I2S(0)+I2S(2)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call DL9(JN4,false)
call BJ7(GetKillingUnit(),2)
set P64=2
elseif(GetDyingUnit()==JK4)then
call IM8("Tower"+I2S(0)+I2S(2)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call DL9(JO4,false)
call BJ7(GetKillingUnit(),2)
set P34=2
elseif(GetDyingUnit()==JM4)then
call IM8("Tower"+I2S(0)+I2S(2)+I2S(2),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call DL9(JP4,false)
call BJ7(GetKillingUnit(),2)
set PL4=2
elseif(GetDyingUnit()==JN4)then
call IM8("Tower"+I2S(0)+I2S(3)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call BJ7(GetKillingUnit(),3)
call DL9(JS4,false)
call DL9(JV4,false)
call DL9(JQ4,false)
call DL9(JR4,false)
call DL9(WP,false)
call DL9(zP,false)
call DL9(vq,false)
call DL9(eq,false)
call DL9(fP,false)
call DL9(FP,false)
call DL9(lP,false)
call DL9(LP,false)
call DL9(MP,false)
call DL9(pP,false)
call DL9(PP,false)
call DL9(qP,false)
call DL9(QP,false)
call DL9(sP,false)
call DL9(tP,false)
set P64=3
elseif(GetDyingUnit()==JO4)then
call IM8("Tower"+I2S(0)+I2S(3)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call BJ7(GetKillingUnit(),3)
call DL9(JT4,false)
call DL9(JW4,false)
call DL9(JQ4,false)
call DL9(JR4,false)
call DL9(WP,false)
call DL9(zP,false)
call DL9(vq,false)
call DL9(eq,false)
call DL9(fP,false)
call DL9(FP,false)
call DL9(lP,false)
call DL9(LP,false)
call DL9(MP,false)
call DL9(pP,false)
call DL9(PP,false)
call DL9(qP,false)
call DL9(QP,false)
call DL9(sP,false)
call DL9(tP,false)
set P34=3
elseif(GetDyingUnit()==JP4)then
call IM8("Tower"+I2S(0)+I2S(3)+I2S(2),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call BJ7(GetKillingUnit(),3)
call DL9(JU4,false)
call DL9(JX4,false)
call DL9(JQ4,false)
call DL9(JR4,false)
call DL9(WP,false)
call DL9(zP,false)
call DL9(vq,false)
call DL9(eq,false)
call DL9(fP,false)
call DL9(FP,false)
call DL9(lP,false)
call DL9(LP,false)
call DL9(MP,false)
call DL9(pP,false)
call DL9(PP,false)
call DL9(qP,false)
call DL9(QP,false)
call DL9(sP,false)
call DL9(tP,false)
set PL4=3
endif
if GetDyingUnit()==JQ4 or GetDyingUnit()==JR4 then
call IM8("Tower"+I2S(0)+I2S(4)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call BJ7(GetKillingUnit(),4)
endif
if(((GetDyingUnit()==JQ4)and(IsUnitDeadBJ(JR4)))or((GetDyingUnit()==JR4)and(IsUnitDeadBJ(JQ4))))then
call DL9(JF4,false)
set PW4=false
endif
endfunction
function G39 takes nothing returns boolean
return((GetUnitTypeId(GetDyingUnit())==1966092365)or(GetUnitTypeId(GetDyingUnit())==1966092356)or(GetUnitTypeId(GetDyingUnit())==1966092366)or(GetUnitTypeId(GetDyingUnit())==1966092372))
endfunction
function G69 takes nothing returns nothing
if IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit()))then
set gD[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=gD[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
endif
if(GetDyingUnit()==J64)then
call IM8("Tower"+I2S(1)+I2S(1)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call DL9(J04,false)
call BJ7(GetKillingUnit(),1)
set P04=1
elseif(GetDyingUnit()==JL4)then
call IM8("Tower"+I2S(1)+I2S(1)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call DL9(J54,false)
call BJ7(GetKillingUnit(),1)
set P14=1
elseif(GetDyingUnit()==J14)then
call IM8("Tower"+I2S(1)+I2S(1)+I2S(2),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call DL9(J24,false)
call BJ7(GetKillingUnit(),1)
set P54=1
elseif(GetDyingUnit()==J04)then
call IM8("Tower"+I2S(1)+I2S(2)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call DL9(J_4,false)
call BJ7(GetKillingUnit(),2)
set P04=2
elseif(GetDyingUnit()==J54)then
call IM8("Tower"+I2S(1)+I2S(2)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call DL9(K44,false)
call BJ7(GetKillingUnit(),2)
set P14=2
elseif(GetDyingUnit()==J24)then
call IM8("Tower"+I2S(1)+I2S(2)+I2S(2),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call DL9(K74,false)
call BJ7(GetKillingUnit(),2)
set P54=2
elseif(GetDyingUnit()==J_4)then
call IM8("Tower"+I2S(1)+I2S(3)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call BJ7(GetKillingUnit(),3)
call DL9(KD4,false)
call DL9(KG4,false)
call DL9(K84,false)
call DL9(K94,false)
call DL9(ot,false)
call DL9(rt,false)
call DL9(at,false)
call DL9(Vt,false)
call DL9(PS,false)
call DL9(QS,false)
call DL9(SS,false)
call DL9(tS,false)
call DL9(TS,false)
call DL9(US,false)
call DL9(WS,false)
call DL9(ZS,false)
call DL9(vt,false)
call DL9(et,false)
call DL9(xt,false)
set P04=3
elseif(GetDyingUnit()==K44)then
call IM8("Tower"+I2S(1)+I2S(3)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call BJ7(GetKillingUnit(),3)
call DL9(KE4,false)
call DL9(KH4,false)
call DL9(K84,false)
call DL9(K94,false)
call DL9(ot,false)
call DL9(rt,false)
call DL9(at,false)
call DL9(Vt,false)
call DL9(PS,false)
call DL9(QS,false)
call DL9(SS,false)
call DL9(tS,false)
call DL9(TS,false)
call DL9(US,false)
call DL9(WS,false)
call DL9(ZS,false)
call DL9(vt,false)
call DL9(et,false)
call DL9(xt,false)
set P14=3
elseif(GetDyingUnit()==K74)then
call IM8("Tower"+I2S(1)+I2S(3)+I2S(2),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call BJ7(GetKillingUnit(),3)
call DL9(KF4,false)
call DL9(KI4,false)
call DL9(K84,false)
call DL9(K94,false)
call DL9(ot,false)
call DL9(rt,false)
call DL9(at,false)
call DL9(Vt,false)
call DL9(PS,false)
call DL9(QS,false)
call DL9(SS,false)
call DL9(tS,false)
call DL9(TS,false)
call DL9(US,false)
call DL9(WS,false)
call DL9(ZS,false)
call DL9(vt,false)
call DL9(et,false)
call DL9(xt,false)
set P54=3
endif
if GetDyingUnit()==K84 or GetDyingUnit()==K94 then
call IM8("Tower"+I2S(1)+I2S(4)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call BJ7(GetKillingUnit(),4)
endif
if(((GetDyingUnit()==K94)and(IsUnitDeadBJ(K84)))or((GetDyingUnit()==K84)and(IsUnitDeadBJ(K94))))then
call DL9(J34,false)
set PX4=false
endif
endfunction
function GL9 takes nothing returns boolean
local integer x=0
if GetPlayerSlotState(Z7[1])==PLAYER_SLOT_STATE_EMPTY then
set x=x+1
endif
if GetPlayerSlotState(Z7[2])==PLAYER_SLOT_STATE_EMPTY then
set x=x+1
endif
if GetPlayerSlotState(Z7[3])==PLAYER_SLOT_STATE_EMPTY then
set x=x+1
endif
if GetPlayerSlotState(Z7[4])==PLAYER_SLOT_STATE_EMPTY then
set x=x+1
endif
if GetPlayerSlotState(Z7[5])==PLAYER_SLOT_STATE_EMPTY then
set x=x+1
endif
if GetPlayerSlotState(A7[1])==PLAYER_SLOT_STATE_EMPTY then
set x=x+1
endif
if GetPlayerSlotState(A7[2])==PLAYER_SLOT_STATE_EMPTY then
set x=x+1
endif
if GetPlayerSlotState(A7[3])==PLAYER_SLOT_STATE_EMPTY then
set x=x+1
endif
if GetPlayerSlotState(A7[4])==PLAYER_SLOT_STATE_EMPTY then
set x=x+1
endif
if GetPlayerSlotState(A7[5])==PLAYER_SLOT_STATE_EMPTY then
set x=x+1
endif
return x==9
endfunction
function Ve takes nothing returns boolean
return bj_isSinglePlayer and GL9()
endfunction
function G19 takes nothing returns nothing
set Y_4=true
endfunction
function G09 takes nothing returns nothing
set H84=false
endfunction
function G59 takes nothing returns boolean
if IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false then
call KillUnit(GetFilterUnit())
endif
return false
endfunction
function G29 takes nothing returns nothing
local group g=CA7()
call GroupEnumUnitsOfPlayer(g,A7[0],Condition(function G59))
call CZ7(g)
set g=null
set Y9=true
endfunction
function G_9 takes nothing returns nothing
local group g=CA7()
call GroupEnumUnitsOfPlayer(g,Z7[0],Condition(function G59))
call CZ7(g)
set g=null
set Y9=true
endfunction
function H49 takes nothing returns boolean
if GetUnitTypeId(GetFilterUnit())==1865429044 or GetUnitTypeId(GetFilterUnit())==1868921189 then
call KillUnit(GetFilterUnit())
endif
return false
endfunction
function H79 takes nothing returns nothing
local group g=CA7()
call GroupEnumUnitsInRange(g,0,0,9999,Condition(function H49))
call CZ7(g)
set g=null
set Y9=true
endfunction
function H89 takes nothing returns nothing
set B4=false
endfunction
function H99 takes nothing returns nothing
set B4=true
endfunction
function HD9 takes nothing returns nothing
call G_9()
call G29()
set Y9=true
endfunction
function HE9 takes nothing returns nothing
local string HF9=SubString(GetEventPlayerChatString(),5,StringLength(GetEventPlayerChatString()))
local integer HG9=S2I(HF9)
if HG9<0 or HG9>24 then
set HG9=0
endif
call SetFloatGameState(GAME_STATE_TIME_OF_DAY,HG9)
set Y9=true
endfunction
function HH9 takes nothing returns boolean
if IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true then
call SetHeroLevel(GetFilterUnit(),GetHeroLevel(GetFilterUnit())+DR8(IH4,1),true)
endif
return false
endfunction
function HI9 takes nothing returns nothing
local string HJ9=SubString(GetEventPlayerChatString(),6,StringLength(GetEventPlayerChatString()))
local integer HK9=S2I(HJ9)
local group g=CA7()
if SubString(GetEventPlayerChatString(),0,9)!="-lvlupall" and SubString(GetEventPlayerChatString(),0,9)!="-lvlupfor" then
if HK9<1 then
set HK9=1
endif
set IH4=HK9
call GroupEnumUnitsOfPlayer(g,GetTriggerPlayer(),Condition(function HH9))
endif
call CZ7(g)
set g=null
set Y9=true
endfunction
function HM9 takes nothing returns nothing
call TriggerExecute(JS)
set Y9=true
endfunction
function HN9 takes nothing returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(GetFilterUnit()))
if IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true then
set hq[O5]=0.
set hq[16+O5]=0.
set hq[32+O5]=0.
set TC4[O5]=0.
set TC4[16+O5]=0.
set TC4[32+O5]=0.
set TC4[48+O5]=0.
call UnitResetCooldown(GetFilterUnit())
call TimerStart(N84[GetPlayerId((GetOwningPlayer(GetFilterUnit())))],0,false,null)
call SetUnitState(GetFilterUnit(),UNIT_STATE_LIFE,GetUnitState(GetFilterUnit(),UNIT_STATE_MAX_LIFE))
call SetUnitState(GetFilterUnit(),UNIT_STATE_MANA,GetUnitState(GetFilterUnit(),UNIT_STATE_MAX_MANA))
endif
return false
endfunction
function HO9 takes nothing returns nothing
local group g=CA7()
call GroupEnumUnitsOfPlayer(g,GetTriggerPlayer(),Condition(function HN9))
call CZ7(g)
set g=null
set Y9=true
endfunction
function HP9 takes nothing returns nothing
if Y54 then
return
endif
call KillUnit(M7[GetPlayerId(GetTriggerPlayer())])
set Y9=true
endfunction
function HQ9 takes nothing returns nothing
local string nQ=SubString(GetEventPlayerChatString(),5,StringLength(GetEventPlayerChatString()))
local integer hY=S2I(nQ)
call SetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)+hY)
set Y9=true
endfunction
function HR9 takes nothing returns nothing
local unit BR8=M7[GetPlayerId(GetTriggerPlayer())]
local player CA8=GetTriggerPlayer()
local location BW8
if Z17(CA8)then
set BW8=GetRectCenter(L9)
else
set BW8=GetRectCenter(ED)
endif
if D9==false and LR7(BR8)then
call J68(BR8,CA8,GetLocationX(BW8),GetLocationY(BW8),true)
if BQ8(BR8)==false or GetUnitAbilityLevel(BR8,1093684567)==0 then
call ReviveHeroLoc(BR8,BW8,true)
else
call BV8(BR8,BW8)
endif
endif
call RemoveLocation(BW8)
set BR8=null
set CA8=null
set BW8=null
endfunction
function HS9 takes nothing returns nothing
local unit EL8=M7[GetPlayerId(GetTriggerPlayer())]
local player HT9
local unit HU9
local real x=GetRectCenterX(QD)
local real y=GetRectCenterX(QD)
if Z17(GetOwningPlayer(EL8))then
set HT9=Z7[1]
else
set HT9=A7[1]
endif
set HU9=CreateUnit(HT9,1211117616,x,y,0)
call SetHeroLevel(HU9,10,false)
set EL8=null
set HU9=null
set HT9=null
endfunction
function HV9 takes nothing returns nothing
call TriggerEvaluate(H04)
endfunction
function HW9 takes nothing returns nothing
call TriggerEvaluate(MS)
endfunction
function HX9 takes nothing returns nothing
call FU9()
endfunction
function HY9 takes nothing returns nothing
local string VH=GetEventPlayerChatString()
local integer UP
local integer O5
local player pl
local group g
if(VH=="-testhelp")then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"Commands (XX = 2-digit Player Number, ##### = Amount): -gold #####, -goldall #####, -goldforXX #####, -lvlup ##, -lvlupall ##, -lvlupforXX, -spawncreeps, -powerup, -neutrals, -refresh, -refreshall, -kill, -kill XX, -killsent, -killscourge, -killall, -rechoose, -fog, -time ##, -noherolimit, -trees, -killwards, -spawnoff, -spawnon")
elseif(VH=="-rechoose")then
if((not A8)and(not D4)and(not RZ4)and(not O04)and(not W8)and(not O9)and(not H34))then
set G9=true
set I[GetPlayerId(GetTriggerPlayer())]=false
set T9=false
set F9=true
set W4[GetPlayerId(GetTriggerPlayer())]=false
set oo[GetPlayerId(GetTriggerPlayer())]=false
set P9[GetPlayerId(GetTriggerPlayer())]=false
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"Some restrictions in repicking/randoming are removed. You may now use -repick/-random")
else
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"Cannot enable repicking/randoming.")
endif
elseif(SubString(VH,0,9)=="-goldall ")then
set UP=S2I(SubString(VH,9,StringLength(VH)))
set O5=1
loop
call SetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)+UP)
set O5=O5+1
exitwhen O5>11
endloop
elseif(SubString(VH,0,8)=="-goldfor")then
set pl=S77(S2I(SubString(VH,8,StringLength(VH))))
if((pl!=null)and(Z_7(pl)))then
set UP=S2I(SubString(VH,10,StringLength(VH)))
call SetPlayerState(pl,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(pl,PLAYER_STATE_RESOURCE_GOLD)+UP)
endif
elseif(SubString(VH,0,9)=="-lvlupall")then
set O5=S2I(SubString(GetEventPlayerChatString(),9,StringLength(GetEventPlayerChatString())))
if O5<1 then
set O5=1
endif
set IH4=O5
set g=CA7()
call GroupEnumUnitsInRect(g,bj_mapInitialPlayableArea,Condition(function HH9))
call CZ7(g)
elseif(SubString(VH,0,9)=="-lvlupfor")then
set pl=S77(S2I(SubString(VH,9,StringLength(VH))))
if((pl!=null)and(Z_7(pl)))then
call SetHeroLevel(M7[GetPlayerId(pl)],GetHeroLevel(M7[GetPlayerId(pl)])+1,true)
endif
elseif(VH=="-refreshall")then
set g=CA7()
call GroupEnumUnitsInRect(g,bj_mapInitialPlayableArea,Condition(function HN9))
call CZ7(g)
elseif(SubString(VH,0,6)=="-kill ")then
set pl=S77(S2I(SubString(VH,6,StringLength(VH))))
if((pl!=null)and(Z_7(pl)))then
call KillUnit(M7[GetPlayerId(pl)])
endif
elseif(VH=="-fog")then
call FogEnable(not IsFogEnabled())
call FogMaskEnable(not IsFogMaskEnabled())
endif
set g=null
set pl=null
endfunction
function HZ9 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer O5=1
loop
if(Z57(Player(O5)))then
call TriggerRegisterPlayerChatEvent(t,Player(O5),"-",false)
endif
set O5=O5+1
exitwhen O5>11
endloop
call TriggerAddAction(t,function HY9)
set t=null
endfunction
function HA9 takes nothing returns boolean
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60,"**** REMINDER ****")
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60,"Single player commands enabled. You may use commands like -lvlup xx, -refresh, -spawncreeps, -powerup, -neutrals, -kill, -gold xxxx, -time xx, -killsent, -killscourge, -killall, -noherolimit, -trees, -killwards, -spawnoff, -spawnon, -roshan, -respawn, -dummy")
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60,"**** REMINDER ****")
return false
endfunction
function HB9 takes nothing returns nothing
local player OnlyPlayer=Le
local trigger t
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60,"Single player commands enabled. You may use commands like -lvlup xx, -refresh, -spawncreeps, -powerup, -neutrals, -kill, -gold xxxx, -time xx, -killsent, -killscourge, -killall, -noherolimit, -trees, -killwards, -spawnoff, -spawnon, -roshan, -respawn, -dummy")
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60.,"For more info about the commands, type -testhelp.
    
    ")
set t=CreateTrigger()
call TriggerAddCondition(t,Condition(function HA9))
call TriggerRegisterTimerEvent(t,GetRandomReal(60,100),false)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-lvlup",false)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-lvlup",false)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-lvlup",false)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-lvlup",false)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-lvlup",false)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-lvlup",false)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-lvlup",false)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-lvlup",false)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-lvlup",false)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-lvlup",false)
call TriggerAddAction(t,function HI9)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-spawncreeps",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-spawncreeps",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-spawncreeps",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-spawncreeps",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-spawncreeps",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-spawncreeps",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-spawncreeps",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-spawncreeps",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-spawncreeps",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-spawncreeps",true)
call TriggerAddAction(t,function HM9)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-refresh",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-refresh",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-refresh",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-refresh",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-refresh",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-refresh",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-refresh",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-refresh",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-refresh",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-refresh",true)
call TriggerAddAction(t,function HO9)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-kill",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-kill",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-kill",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-kill",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-kill",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-kill",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-kill",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-kill",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-kill",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-kill",true)
call TriggerAddAction(t,function HP9)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-gold",false)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-gold",false)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-gold",false)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-gold",false)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-gold",false)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-gold",false)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-gold",false)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-gold",false)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-gold",false)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-gold",false)
call TriggerAddAction(t,function HQ9)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-time",false)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-time",false)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-time",false)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-time",false)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-time",false)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-time",false)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-time",false)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-time",false)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-time",false)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-time",false)
call TriggerAddAction(t,function HE9)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-powerup",false)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-powerup",false)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-powerup",false)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-powerup",false)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-powerup",false)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-powerup",false)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-powerup",false)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-powerup",false)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-powerup",false)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-powerup",false)
call TriggerAddAction(t,function HV9)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-killall",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-killall",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-killall",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-killall",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-killall",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-killall",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-killall",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-killall",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-killall",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-killall",true)
call TriggerAddAction(t,function HD9)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-killsent",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-killsent",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-killsent",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-killsent",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-killsent",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-killsent",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-killsent",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-killsent",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-killsent",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-killsent",true)
call TriggerAddAction(t,function G_9)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-killscourge",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-killscourge",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-killscourge",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-killscourge",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-killscourge",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-killscourge",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-killscourge",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-killscourge",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-killscourge",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-killscourge",true)
call TriggerAddAction(t,function G29)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-neutrals",false)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-neutrals",false)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-neutrals",false)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-neutrals",false)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-neutrals",false)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-neutrals",false)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-neutrals",false)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-neutrals",false)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-neutrals",false)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-neutrals",false)
call TriggerAddAction(t,function HW9)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-noherolimit",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-noherolimit",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-noherolimit",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-noherolimit",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-noherolimit",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-noherolimit",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-noherolimit",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-noherolimit",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-noherolimit",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-noherolimit",true)
call TriggerAddAction(t,function G09)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-trees",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-trees",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-trees",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-trees",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-trees",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-trees",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-trees",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-trees",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-trees",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-trees",true)
call TriggerAddAction(t,function HX9)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-killwards",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-killwards",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-killwards",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-killwards",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-killwards",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-killwards",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-killwards",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-killwards",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-killwards",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-killwards",true)
call TriggerAddAction(t,function H79)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-spawnoff",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-spawnoff",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-spawnoff",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-spawnoff",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-spawnoff",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-spawnoff",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-spawnoff",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-spawnoff",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-spawnoff",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-spawnoff",true)
call TriggerAddAction(t,function H99)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-spawnon",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-spawnon",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-spawnon",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-spawnon",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-spawnon",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-spawnon",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-spawnon",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-spawnon",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-spawnon",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-spawnon",true)
call TriggerAddAction(t,function H89)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-roshan",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-roshan",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-roshan",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-roshan",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-roshan",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-roshan",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-roshan",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-roshan",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-roshan",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-roshan",true)
call TriggerAddAction(t,function G19)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-respawn",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-respawn",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-respawn",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-respawn",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-respawn",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-respawn",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-respawn",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-respawn",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-respawn",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-respawn",true)
call TriggerAddAction(t,function HR9)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-dummy",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-dummy",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-dummy",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-dummy",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-dummy",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-dummy",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-dummy",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-dummy",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-dummy",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-dummy",true)
call TriggerAddAction(t,function HS9)
call HZ9()
set uy=true
set t=null
endfunction
function V68 takes nothing returns nothing
call TimerStart(CreateTimer(),5,not uy,function V68)
endfunction
function HC9 takes nothing returns boolean
return not P
endfunction
function nt takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit nT=UE7(UL7,"Unit")
local integer O5=GetPlayerId(GetOwningPlayer(nT))
set hq[O5]=0.
set hq[16+O5]=0.
set hq[32+O5]=0.
set TC4[O5]=0.
set TC4[16+O5]=0.
set TC4[32+O5]=0.
set TC4[48+O5]=0.
if GetUnitTypeId(nT)!=1852010352 then
call UnitResetCooldown(nT)
call SetUnitManaPercentBJ(nT,100)
endif
call TQ7(UL7)
call U37(t)
set t=null
set nT=null
return false
endfunction
function nu takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function nt))
call TX7(UL7,"Unit",GetTriggerUnit())
set t=null
endfunction
function H39 takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local integer nv=P8(X7)+P8(Y7)
local integer NumRequired=DQ8(nv,nv/2+1)
local integer UL7=GetHandleId(t)
local integer nV=UQ7(UL7,"ExecCount")
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60.," ")
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,90.,"WTF mode activated. In this mode spells have no cooldown or manacost.")
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,90.,"This is a FOR FUN ONLY mode.")
set PT4=true
set t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(t,function nu)
set t=null
endfunction
function H69 takes nothing returns boolean
if WF8(GetTriggerUnit())and IsUnitIllusion(GetTriggerUnit())==false then
call H08(GetOwningPlayer(GetTriggerUnit()))
call IM8("Level"+I2S(GetHeroLevel(GetTriggerUnit())),GetPlayerId(GetOwningPlayer(GetTriggerUnit())))
endif
return false
endfunction
function nw takes nothing returns nothing
call HB9()
call U37(GetTriggeringTrigger())
endfunction
function HL9 takes nothing returns boolean
if P==false and Ve()==false then
call nw()
endif
return false
endfunction
function H19 takes nothing returns boolean
return GetOwningPlayer(GetTriggerUnit())==B7
endfunction
function H09 takes nothing returns nothing
call SaveInteger(L7,StringHash("Stats"+I2S(GetPlayerId(GetOwningPlayer(GetKillingUnit())))),StringHash("NumOfNeutrals"),((LoadInteger(L7,StringHash("Stats"+I2S(GetPlayerId(GetOwningPlayer(GetKillingUnit())))),StringHash("NumOfNeutrals")))+1))
endfunction
function H59 takes nothing returns boolean
if GetOwningPlayer(GetTriggerUnit())==Z7[0]then
call IssuePointOrderLoc(GetTriggerUnit(),"attack",Z)
elseif GetOwningPlayer(GetTriggerUnit())==A7[0]then
call IssuePointOrderLoc(GetTriggerUnit(),"attack",vv)
endif
return false
endfunction
function H29 takes nothing returns nothing
set E7=E7+1
endfunction
function H_9 takes nothing returns nothing
set D7=D7+1
endfunction
function I49 takes nothing returns boolean
if GetOwningPlayer(GetTriggerUnit())==Z7[0]then
call IssuePointOrderLoc(GetTriggerUnit(),"attack",ev)
endif
return false
endfunction
function I79 takes nothing returns boolean
if GetOwningPlayer(GetTriggerUnit())==A7[0]then
call IssuePointOrderLoc(GetTriggerUnit(),"attack",ev)
endif
return false
endfunction
function I89 takes nothing returns boolean
if GetOwningPlayer(GetTriggerUnit())==Z7[0]then
call IssuePointOrderLoc(GetTriggerUnit(),"attack",ov)
endif
return false
endfunction
function I99 takes nothing returns boolean
if GetOwningPlayer(GetTriggerUnit())==A7[0]then
call IssuePointOrderLoc(GetTriggerUnit(),"attack",ov)
endif
return false
endfunction
function ID9 takes nothing returns boolean
if GetOwningPlayer(GetTriggerUnit())==Z7[0]then
call IssuePointOrderLoc(GetTriggerUnit(),"attack",rv)
endif
return false
endfunction
function IE9 takes nothing returns boolean
if GetOwningPlayer(GetTriggerUnit())==A7[0]then
call IssuePointOrderLoc(GetTriggerUnit(),"attack",rv)
endif
return false
endfunction
function IF9 takes nothing returns nothing
local integer i=1
local integer id
loop
exitwhen i>5
set id=GetPlayerId(Z7[i])
call IM8("CSK"+I2S(id),T7[id])
call IM8("CSD"+I2S(id),U7[id])
set id=GetPlayerId(A7[i])
call IM8("CSK"+I2S(id),T7[id])
call IM8("CSD"+I2S(id),U7[id])
set i=i+1
endloop
endfunction
function IG9 takes boolean FG9 returns nothing
local unit u
local string IH9="stand work alternate"
local string II9="stand work"
local string IJ9="stand alternate"
local string IK9="stand"
set u=JS4
if LR7(u)==false then
if FG9 then
call SetUnitAnimation(u,IH9)
else
call SetUnitAnimation(u,IJ9)
endif
endif
set u=JT4
if LR7(u)==false then
if FG9 then
call SetUnitAnimation(u,IH9)
else
call SetUnitAnimation(u,IJ9)
endif
endif
set u=JU4
if LR7(u)==false then
if FG9 then
call SetUnitAnimation(u,IH9)
else
call SetUnitAnimation(u,IJ9)
endif
endif
set u=JV4
if LR7(u)==false then
if FG9 then
call SetUnitAnimation(u,IH9)
else
call SetUnitAnimation(u,IJ9)
endif
endif
set u=JW4
if LR7(u)==false then
if FG9 then
call SetUnitAnimation(u,IH9)
else
call SetUnitAnimation(u,IJ9)
endif
endif
set u=JX4
if LR7(u)==false then
if FG9 then
call SetUnitAnimation(u,IH9)
else
call SetUnitAnimation(u,IJ9)
endif
endif
set u=KD4
if LR7(u)==false then
if FG9 then
call SetUnitAnimation(u,II9)
else
call SetUnitAnimation(u,IK9)
endif
endif
set u=KE4
if LR7(u)==false then
if FG9 then
call SetUnitAnimation(u,II9)
else
call SetUnitAnimation(u,IK9)
endif
endif
set u=KF4
if LR7(u)==false then
if FG9 then
call SetUnitAnimation(u,II9)
else
call SetUnitAnimation(u,IK9)
endif
endif
set u=KG4
if LR7(u)==false then
if FG9 then
call SetUnitAnimation(u,II9)
else
call SetUnitAnimation(u,IK9)
endif
endif
set u=KH4
if LR7(u)==false then
if FG9 then
call SetUnitAnimation(u,II9)
else
call SetUnitAnimation(u,IK9)
endif
endif
set u=KI4
if LR7(u)==false then
if FG9 then
call SetUnitAnimation(u,II9)
else
call SetUnitAnimation(u,IK9)
endif
endif
set u=null
endfunction
function IM9 takes nothing returns boolean
call IG9(true)
return false
endfunction
function Trig_Spawn_Conditions takes nothing returns boolean
if(P74)then
return F0
elseif(P84)then
return gH
elseif O04 then
return Fz
elseif(P4 or VT)then
return oH
endif
return O
endfunction
function IN9 takes group IO9,integer IP9 returns nothing
local unit u
loop
set u=FirstOfGroup(IO9)
exitwhen(u==null)
call GroupRemoveUnit(IO9,u)
call SetUnitAbilityLevel(u,N8,IP9)
endloop
endfunction
function IQ9 takes nothing returns nothing
local boolean IR9=ModuloInteger(GetTriggerExecCount(JS),7)==0
if B4 then
return
endif
call IG9(false)
if IR9 then
call IF9()
endif
if GetTriggerExecCount(JS)==1 and PE4==false then
call UnitResetCooldown(KU4[1])
call UnitResetCooldown(KU4[2])
call UnitResetCooldown(KU4[3])
call UnitResetCooldown(KU4[4])
call UnitResetCooldown(KU4[5])
call UnitResetCooldown(KU4[7])
call UnitResetCooldown(KU4[8])
call UnitResetCooldown(KU4[9])
call UnitResetCooldown(KU4[10])
call UnitResetCooldown(KU4[11])
call DL9(JG4,false)
call DL9(JH4,false)
call DL9(JI4,false)
call DL9(J64,false)
call DL9(JL4,false)
call DL9(J14,false)
elseif GetTriggerExecCount(JS)==1 and PE4 then
call DL9(JH4,false)
call DL9(JL4,false)
endif
if GetTriggerExecCount(JS)==1 then
call EnableTrigger(M54)
endif
if PE4==false and PH4==false then
if(Rv)then
call CreateNUnitsAtLoc(D7,1969711215,A7[0],lv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(D7,1966092337,A7[0],lv,bj_UNIT_FACING)
endif
call IN9(bj_lastCreatedGroup,2)
endif
if PG4==false then
if(Av)then
call CreateNUnitsAtLoc(D7,1969711215,A7[0],Jv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(D7,1966092337,A7[0],Jv,bj_UNIT_FACING)
endif
call IN9(bj_lastCreatedGroup,3)
endif
if PE4==false and PF4==false then
if(Nv)then
call CreateNUnitsAtLoc(D7,1969711215,A7[0],Lv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(D7,1966092337,A7[0],Lv,bj_UNIT_FACING)
endif
call IN9(bj_lastCreatedGroup,4)
endif
if PE4==false and PH4==false then
if(av)then
call CreateNUnitsAtLoc(E7,1970169187,A7[0],qv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(E7,1966092338,A7[0],qv,bj_UNIT_FACING)
endif
call IN9(bj_lastCreatedGroup,2)
endif
if PG4==false then
if(Ev)then
call CreateNUnitsAtLoc(E7,1970169187,A7[0],mv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(E7,1966092338,A7[0],mv,bj_UNIT_FACING)
endif
call IN9(bj_lastCreatedGroup,3)
endif
if PE4==false and PF4==false then
if(Ov)then
call CreateNUnitsAtLoc(E7,1970169187,A7[0],pv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(E7,1966092338,A7[0],pv,bj_UNIT_FACING)
endif
call IN9(bj_lastCreatedGroup,4)
endif
if IR9 then
if PE4==false and PH4==false then
if(av)then
call CreateNUnitsAtLoc(E7,1970107511,A7[0],qv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(E7,1966092370,A7[0],qv,bj_UNIT_FACING)
endif
call IN9(bj_lastCreatedGroup,2)
endif
if PG4==false then
if(Ev)then
call CreateNUnitsAtLoc(E7,1970107511,A7[0],mv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(E7,1966092370,A7[0],mv,bj_UNIT_FACING)
endif
call IN9(bj_lastCreatedGroup,3)
endif
if PE4==false and PF4==false then
if(Ov)then
call CreateNUnitsAtLoc(E7,1970107511,A7[0],pv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(E7,1966092370,A7[0],pv,bj_UNIT_FACING)
endif
call IN9(bj_lastCreatedGroup,4)
endif
endif
if PE4==false and PH4==false then
if(Cv)then
call CreateNUnitsAtLoc(D7,1702061422,Z7[0],tv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(D7,1697656918,Z7[0],tv,bj_UNIT_FACING)
endif
call IN9(bj_lastCreatedGroup,2)
endif
if PG4==false then
if(Dv)then
call CreateNUnitsAtLoc(D7,1702061422,Z7[0],Qv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(D7,1697656918,Z7[0],Qv,bj_UNIT_FACING)
endif
call IN9(bj_lastCreatedGroup,3)
endif
if PE4==false and PF4==false then
if(fv)then
call CreateNUnitsAtLoc(D7,1702061422,Z7[0],sv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(D7,1697656918,Z7[0],sv,bj_UNIT_FACING)
endif
call IN9(bj_lastCreatedGroup,4)
endif
if PE4==false and PH4==false then
if(bv)then
call CreateNUnitsAtLoc(E7,1701081721,Z7[0],Wv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(E7,1697656919,Z7[0],Wv,bj_UNIT_FACING)
endif
call IN9(bj_lastCreatedGroup,2)
endif
if PG4==false then
if(Bv)then
call CreateNUnitsAtLoc(E7,1701081721,Z7[0],Tv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(E7,1697656919,Z7[0],Tv,bj_UNIT_FACING)
endif
call IN9(bj_lastCreatedGroup,3)
endif
if PE4==false and PF4==false then
if(cv)then
call CreateNUnitsAtLoc(E7,1701081721,Z7[0],Uv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(E7,1697656919,Z7[0],Uv,bj_UNIT_FACING)
endif
call IN9(bj_lastCreatedGroup,4)
endif
if IR9 then
if PE4==false and PH4==false then
if(cv)then
call CreateNUnitsAtLoc(E7,1700946284,Z7[0],Wv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(E7,1697657398,Z7[0],Wv,bj_UNIT_FACING)
endif
call IN9(bj_lastCreatedGroup,2)
endif
if PG4==false then
if(Bv)then
call CreateNUnitsAtLoc(E7,1700946284,Z7[0],Tv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(E7,1697657398,Z7[0],Tv,bj_UNIT_FACING)
endif
call IN9(bj_lastCreatedGroup,3)
endif
if PE4==false and PF4==false then
if(cv)then
call CreateNUnitsAtLoc(E7,1700946284,Z7[0],Uv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(E7,1697657398,Z7[0],Uv,bj_UNIT_FACING)
endif
call IN9(bj_lastCreatedGroup,4)
endif
endif
endfunction
function IS9 takes nothing returns nothing
set av=false
call DisableTrigger(cA)
call IM8("Rax"+I2S(0)+I2S(0)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction
function IT9 takes nothing returns nothing
set Ev=false
call DisableTrigger(CA)
call IM8("Rax"+I2S(0)+I2S(1)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction
function IU9 takes nothing returns nothing
set Ov=false
call DisableTrigger(dA)
call IM8("Rax"+I2S(0)+I2S(2)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction
function IV9 takes nothing returns nothing
set Rv=false
call DisableTrigger(DA)
call IM8("Rax"+I2S(0)+I2S(0)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction
function IW9 takes nothing returns nothing
set Av=false
call DisableTrigger(fA)
call IM8("Rax"+I2S(0)+I2S(1)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction
function IX9 takes nothing returns nothing
set Nv=false
call DisableTrigger(FA)
call IM8("Rax"+I2S(0)+I2S(2)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction
function IY9 takes nothing returns nothing
set bv=false
call DisableTrigger(gA)
call IM8("Rax"+I2S(1)+I2S(0)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction
function IZ9 takes nothing returns nothing
set Bv=false
call DisableTrigger(GA)
call IM8("Rax"+I2S(1)+I2S(1)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction
function IA9 takes nothing returns nothing
set cv=false
call DisableTrigger(LA)
call IM8("Rax"+I2S(1)+I2S(2)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction
function IB9 takes nothing returns nothing
set Cv=false
call DisableTrigger(mA)
call IM8("Rax"+I2S(1)+I2S(0)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction
function IC9 takes nothing returns nothing
set Dv=false
call DisableTrigger(MA)
call IM8("Rax"+I2S(1)+I2S(1)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction
function I39 takes nothing returns nothing
set fv=false
call DisableTrigger(PA)
call IM8("Rax"+I2S(1)+I2S(2)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction
function I69 takes nothing returns boolean
local real IL9=GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)/ GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)
if IL9<0.75 and iW==false then
set iW=true
call IM8("Tree",75)
endif
if IL9<0.50 and rW==false then
set rW=true
call IM8("Tree",50)
endif
if IL9<0.25 and oW==false then
set oW=true
call IM8("Tree",25)
endif
if IL9<0.10 and eW==false then
set eW=true
call IM8("Tree",10)
endif
return false
endfunction
function I19 takes nothing returns boolean
local real IL9=GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)/ GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)
if IL9<0.75 and vW==false then
set vW=true
call IM8("Throne",75)
endif
if IL9<0.50 and zw==false then
set zw=true
call IM8("Throne",50)
endif
if IL9<0.25 and Uw==false then
set Uw=true
call IM8("Throne",25)
endif
if IL9<0.10 and tw==false then
set tw=true
call IM8("Throne",10)
endif
return false
endfunction
function I09 takes nothing returns boolean
if(Cv or Dv or fv or bv or Bv or cv)then
return false
endif
return true
endfunction
function I59 takes nothing returns nothing
call BL7(bj_FORCE_ALL_PLAYERS,20.00,(GetObjectName((1848652879)))+" "+(GetObjectName((1848656695))))
call SetPlayerTechResearchedSwap(1378889796,(GetPlayerTechCountSimple(1378889796,Z7[0])+30),Z7[0])
call SetPlayerTechResearchedSwap(1378889795,(GetPlayerTechCountSimple(1378889795,Z7[0])+30),Z7[0])
call DisableTrigger(SA)
endfunction
function I29 takes nothing returns boolean
if(Rv or Av or Nv or av or Ev or Ov)then
return false
endif
return true
endfunction
function I_9 takes nothing returns nothing
call BL7(bj_FORCE_ALL_PLAYERS,20.00,(GetObjectName((1848652888)))+" "+(GetObjectName((1848656697))))
call SetPlayerTechResearchedSwap(1378889785,(GetPlayerTechCountSimple(1378889785,A7[0])+30),A7[0])
call SetPlayerTechResearchedSwap(1378889794,(GetPlayerTechCountSimple(1378889794,A7[0])+30),A7[0])
call DisableTrigger(TA)
endfunction
function J49 takes nothing returns nothing
call SetPlayerTechResearchedSwap(1378889783,(GetPlayerTechCountSimple(1378889783,Z7[0])+1),Z7[0])
call SetPlayerTechResearchedSwap(1378889795,(GetPlayerTechCountSimple(1378889795,Z7[0])+1),Z7[0])
call SetPlayerTechResearchedSwap(1378889784,(GetPlayerTechCountSimple(1378889784,Z7[0])+1),Z7[0])
call SetPlayerTechResearchedSwap(1378889796,(GetPlayerTechCountSimple(1378889796,Z7[0])+1),Z7[0])
call SetPlayerTechResearchedSwap(1378889785,(GetPlayerTechCountSimple(1378889785,A7[0])+1),A7[0])
call SetPlayerTechResearchedSwap(1378889779,(GetPlayerTechCountSimple(1378889779,A7[0])+1),A7[0])
call SetPlayerTechResearchedSwap(1378889793,(GetPlayerTechCountSimple(1378889793,A7[0])+1),A7[0])
call SetPlayerTechResearchedSwap(1378889794,(GetPlayerTechCountSimple(1378889794,A7[0])+1),A7[0])
endfunction
function J79 takes nothing returns nothing
local location J89=GetRectCenter(QD)
call RemoveUnit(CreateUnitAtLoc(B7,1851941999,J89,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1851942003,J89,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852273524,J89,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1848652342,J89,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852270450,J89,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1851941995,J89,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1851946861,J89,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852794733,J89,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852796263,J89,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852207203,J89,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852207221,J89,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1853060200,J89,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1853060204,J89,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1853055348,J89,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1853320295,J89,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852534636,J89,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852534626,J89,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852534644,J89,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852010091,J89,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852007790,J89,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852272243,J89,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852208226,J89,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852207976,J89,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852270641,J89,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852860012,J89,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852798821,J89,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852798818,J89,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852666477,J89,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852666482,J89,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852666476,J89,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852077170,J89,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852077175,J89,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1848659011,J89,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1848659012,J89,bj_UNIT_FACING))
call RemoveLocation(J89)
set J89=null
endfunction
function J99 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1848658007,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1848658008,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1848658007,x,y,0),x,y)
endfunction
function JD9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1852466993,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852466993,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852467041,x,y,0),x,y)
endfunction
function JE9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1851941999,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1851941999,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1851942003,x,y,0),x,y)
endfunction
function JF9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1851941995,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1851941995,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1851946861,x,y,0),x,y)
endfunction
function JG9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1852273524,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852273524,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852270450,x,y,0),x,y)
endfunction
function AncientLizards_AI takes nothing returns boolean
call U37(GetTriggeringTrigger())
call IssueTargetOrder(GetTriggerUnit(),"unholyfrenzy",GetTriggerUnit())
return false
endfunction
function JH9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1848659011,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1848659012,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1848659012,x,y,0),x,y)
endfunction
function JI9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1852794733,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852794733,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852796263,x,y,0),x,y)
endfunction
function JJ9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1852207203,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852207221,x,y,0),x,y)
endfunction
function JK9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1853060200,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1853060204,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1853055348,x,y,0),x,y)
endfunction
function JM9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1853060204,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1853060204,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1853055348,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1853055348,x,y,0),x,y)
endfunction
function JN9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1853320295,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1853320295,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1848651859,x,y,0),x,y)
endfunction
function JO9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1848652342,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1848652342,x,y,0),x,y)
endfunction
function JP9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1852534636,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852534626,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852534626,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852534626,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852534644,x,y,0),x,y)
endfunction
function JQ9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1852208226,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852208226,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852207976,x,y,0),x,y)
endfunction
function JR9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1852007790,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852010091,x,y,0),x,y)
endfunction
function JS9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1852272243,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852272243,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852272243,x,y,0),x,y)
endfunction
function JT9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1852208226,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852208226,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852534636,x,y,0),x,y)
endfunction
function JU9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1852270641,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852860012,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852860012,x,y,0),x,y)
endfunction
function JV9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1852798821,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852798818,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852798818,x,y,0),x,y)
endfunction
function JW9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1852077170,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852077170,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852077175,x,y,0),x,y)
endfunction
function JX9 takes real x,real y returns nothing
local integer D5=GetRandomInt(1,5)
if D5==1 then
call JJ9(x,y)
elseif D5==2 then
call JK9(x,y)
elseif D5==3 then
call JV9(x,y)
elseif D5==4 then
call JW9(x,y)
elseif D5==5 then
call JR9(x,y)
endif
endfunction
function JY9 takes real x,real y returns nothing
local integer D5=GetRandomInt(1,5)
if D5==1 then
call JJ9(x,y)
elseif D5==2 then
call JK9(x,y)
elseif D5==3 then
call JV9(x,y)
elseif D5==4 then
call JW9(x,y)
elseif D5==5 then
call JR9(x,y)
endif
endfunction
function JZ9 takes real x,real y returns nothing
local integer D5=GetRandomInt(1,5)
if D5==1 then
call JJ9(x,y)
elseif D5==2 then
call JK9(x,y)
elseif D5==3 then
call JV9(x,y)
elseif D5==4 then
call JW9(x,y)
elseif D5==5 then
call JR9(x,y)
endif
endfunction
function JA9 takes real x,real y returns nothing
local integer D5=GetRandomInt(1,5)
if D5==1 then
call JJ9(x,y)
elseif D5==2 then
call JK9(x,y)
elseif D5==3 then
call JV9(x,y)
elseif D5==4 then
call JW9(x,y)
elseif D5==5 then
call JR9(x,y)
endif
endfunction
function JB9 takes real x,real y returns nothing
local integer D5=GetRandomInt(1,5)
if D5==1 then
call JO9(x,y)
elseif D5==2 then
call JI9(x,y)
elseif D5==3 then
call JM9(x,y)
elseif D5==4 then
call JN9(x,y)
elseif D5==5 then
call JR9(x,y)
endif
endfunction
function JC9 takes real x,real y returns nothing
local integer D5=GetRandomInt(1,5)
if D5==1 then
call JO9(x,y)
elseif D5==2 then
call JI9(x,y)
elseif D5==3 then
call JM9(x,y)
elseif D5==4 then
call JN9(x,y)
elseif D5==5 then
call JR9(x,y)
endif
endfunction
function J39 takes real x,real y returns nothing
local integer D5=GetRandomInt(1,5)
if D5==1 then
call JO9(x,y)
elseif D5==2 then
call JI9(x,y)
elseif D5==3 then
call JM9(x,y)
elseif D5==4 then
call JN9(x,y)
elseif D5==5 then
call JR9(x,y)
endif
endfunction
function J69 takes real x,real y returns nothing
local integer D5=GetRandomInt(1,5)
if D5==1 then
call JO9(x,y)
elseif D5==2 then
call JI9(x,y)
elseif D5==3 then
call JM9(x,y)
elseif D5==4 then
call JN9(x,y)
elseif D5==5 then
call JR9(x,y)
endif
endfunction
function JL9 takes real x,real y returns nothing
local integer D5=GetRandomInt(1,6)
if D5==1 then
call JU9(x,y)
elseif D5==2 then
call JT9(x,y)
elseif D5==3 then
call JS9(x,y)
elseif D5==4 then
call JP9(x,y)
elseif D5==5 then
call JQ9(x,y)
elseif D5==6 then
call J99(x,y)
endif
endfunction
function J19 takes real x,real y returns nothing
local integer D5=GetRandomInt(1,6)
if D5==1 then
call JU9(x,y)
elseif D5==2 then
call JT9(x,y)
elseif D5==3 then
call JS9(x,y)
elseif D5==4 then
call JP9(x,y)
elseif D5==5 then
call JQ9(x,y)
elseif D5==6 then
call J99(x,y)
endif
endfunction
function J09 takes real x,real y returns nothing
local integer D5=GetRandomInt(1,5)
if D5==1 then
call JD9(x,y)
elseif D5==2 then
call JE9(x,y)
elseif D5==3 then
call JF9(x,y)
elseif D5==4 then
call JG9(x,y)
elseif D5==5 then
call JH9(x,y)
endif
endfunction
function J59 takes real x,real y returns nothing
local integer D5=GetRandomInt(1,5)
if D5==1 then
call JD9(x,y)
elseif D5==2 then
call JE9(x,y)
elseif D5==3 then
call JF9(x,y)
elseif D5==4 then
call JG9(x,y)
elseif D5==5 then
call JH9(x,y)
endif
endfunction
function J29 takes nothing returns nothing
if GetUnitAbilityLevel(GetEnumUnit(),1093685300)!=0 then
call GroupRemoveUnit(R8,GetEnumUnit())
endif
if GetUnitTypeId(GetEnumUnit())==1865429043 then
call GroupRemoveUnit(R8,GetEnumUnit())
endif
if LR7(GetEnumUnit())==true then
call GroupRemoveUnit(R8,GetEnumUnit())
endif
endfunction
function J_9 takes group g returns boolean
set R8=g
call ForGroup(g,function J29)
return FirstOfGroup(g)==null
endfunction
function K49 takes nothing returns boolean
local group g
local rect r1
local rect r2
if oy==false then
return false
endif
set r1=Sr
set r2=Br
set g=CA7()
call GroupEnumUnitsInRect(g,r1,Condition(function ZY7))
if J_9(g)then
call J09(GetRectCenterX(r2),GetRectCenterY(r2))
endif
call CZ7(g)
set r1=Ur
set r2=cr
set g=CA7()
call GroupEnumUnitsInRect(g,r1,Condition(function ZY7))
if J_9(g)then
call J59(GetRectCenterX(r2),GetRectCenterY(r2))
endif
call CZ7(g)
set r1=Wr
set r2=Cr
set g=CA7()
call GroupEnumUnitsInRect(g,r1,Condition(function ZY7))
if J_9(g)then
call JX9(GetRectCenterX(r2),GetRectCenterY(r2))
endif
call CZ7(g)
set r1=zr
set r2=fr
set g=CA7()
call GroupEnumUnitsInRect(g,r1,Condition(function ZY7))
if J_9(g)then
call JZ9(GetRectCenterX(r2),GetRectCenterY(r2))
endif
call CZ7(g)
set r1=Zr
set r2=Fr
set g=CA7()
call GroupEnumUnitsInRect(g,r1,Condition(function ZY7))
if J_9(g)then
call JC9(GetRectCenterX(r2),GetRectCenterY(r2))
endif
call CZ7(g)
set r1=vi
set r2=Hr
set g=CA7()
call GroupEnumUnitsInRect(g,r1,Condition(function ZY7))
if J_9(g)then
call JB9(GetRectCenterX(r2),GetRectCenterY(r2))
endif
call CZ7(g)
set r1=ei
set r2=jr
set g=CA7()
call GroupEnumUnitsInRect(g,r1,Condition(function ZY7))
if J_9(g)then
call J39(GetRectCenterX(r2),GetRectCenterY(r2))
endif
call CZ7(g)
set r1=oi
set r2=Jr
set g=CA7()
call GroupEnumUnitsInRect(g,r1,Condition(function ZY7))
if J_9(g)then
call J69(GetRectCenterX(r2),GetRectCenterY(r2))
endif
call CZ7(g)
set r1=xi
set r2=lr
set g=CA7()
call GroupEnumUnitsInRect(g,r1,Condition(function ZY7))
if J_9(g)then
call JA9(GetRectCenterX(r2),GetRectCenterY(r2))
endif
call CZ7(g)
set r1=ai
set r2=mr
set g=CA7()
call GroupEnumUnitsInRect(g,r1,Condition(function ZY7))
if J_9(g)then
call JL9(GetRectCenterX(r2),GetRectCenterY(r2))
endif
call CZ7(g)
set r1=Ai
set r2=Ni
set g=CA7()
call GroupEnumUnitsInRect(g,r1,Condition(function ZY7))
if J_9(g)then
call J19(GetRectCenterX(r2),GetRectCenterY(r2))
endif
call CZ7(g)
set r1=bi
set r2=Bi
set g=CA7()
call GroupEnumUnitsInRect(g,r1,Condition(function ZY7))
if J_9(g)then
call JY9(GetRectCenterX(r2),GetRectCenterY(r2))
endif
call CZ7(g)
set r1=null
set r2=null
set g=null
return false
endfunction
function K79 takes nothing returns nothing
local integer B47=GetRandomInt(1,9)
local location l
if PE4 then
set B47=GetRandomInt(1,3)
if B47==1 then
set B47=2
endif
if B47==2 then
set B47=5
endif
if B47==3 then
set B47=8
endif
endif
if(B47==1)then
set l=GetRectCenter(BE)
call CreateNUnitsAtLoc(1,1848651827,Z7[0],l,bj_UNIT_FACING)
call BL7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848653105))))
call IN9(bj_lastCreatedGroup,4)
call RemoveLocation(l)
endif
if(B47==2)then
set l=GetRectCenter(bE)
call CreateNUnitsAtLoc(1,1848651827,Z7[0],l,bj_UNIT_FACING)
call BL7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848653106))))
call IN9(bj_lastCreatedGroup,2)
call RemoveLocation(l)
endif
if(B47==3)then
set l=GetRectCenter(AE)
call CreateNUnitsAtLoc(1,1848651827,Z7[0],l,bj_UNIT_FACING)
call BL7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848653107))))
call IN9(bj_lastCreatedGroup,3)
call RemoveLocation(l)
endif
if(B47==4)then
set l=GetRectCenter(BE)
call CreateNUnitsAtLoc(1,1848651845,Z7[0],l,bj_UNIT_FACING)
call BL7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848653112))))
call IN9(bj_lastCreatedGroup,4)
call RemoveLocation(l)
endif
if(B47==5)then
set l=GetRectCenter(bE)
call CreateNUnitsAtLoc(1,1848651845,Z7[0],l,bj_UNIT_FACING)
call BL7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848652890))))
call IN9(bj_lastCreatedGroup,2)
call RemoveLocation(l)
endif
if(B47==6)then
set l=GetRectCenter(AE)
call CreateNUnitsAtLoc(1,1848651845,Z7[0],l,bj_UNIT_FACING)
call BL7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848653111))))
call IN9(bj_lastCreatedGroup,3)
call RemoveLocation(l)
endif
if(B47==7)and PE4==false then
set l=GetRectCenter(BE)
call CreateNUnitsAtLoc(1,1848651844,Z7[0],l,bj_UNIT_FACING)
call BL7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848653110))))
call IN9(bj_lastCreatedGroup,4)
call RemoveLocation(l)
endif
if(B47==8)and PE4==false then
set l=GetRectCenter(bE)
call CreateNUnitsAtLoc(1,1848651844,Z7[0],l,bj_UNIT_FACING)
call BL7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848652884))))
call IN9(bj_lastCreatedGroup,2)
call RemoveLocation(l)
endif
if(B47==9)then
set l=GetRectCenter(AE)
call CreateNUnitsAtLoc(1,1848651844,Z7[0],l,bj_UNIT_FACING)
call BL7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848653123))))
call IN9(bj_lastCreatedGroup,3)
call RemoveLocation(l)
endif
if(B47==1)then
set l=GetRectCenter(OE)
call CreateNUnitsAtLoc(1,1848651827,A7[0],l,bj_UNIT_FACING)
call BL7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848656708))))
call IN9(bj_lastCreatedGroup,4)
call RemoveLocation(l)
endif
if(B47==2)then
set l=GetRectCenter(XE)
call CreateNUnitsAtLoc(1,1848651827,A7[0],l,bj_UNIT_FACING)
call BL7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848656709))))
call IN9(bj_lastCreatedGroup,2)
call RemoveLocation(l)
endif
if(B47==3)then
set l=GetRectCenter(IE)
call CreateNUnitsAtLoc(1,1848651827,A7[0],l,bj_UNIT_FACING)
call BL7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848656707))))
call IN9(bj_lastCreatedGroup,3)
call RemoveLocation(l)
endif
if(B47==4)then
set l=GetRectCenter(OE)
call CreateNUnitsAtLoc(1,1848651845,A7[0],l,bj_UNIT_FACING)
call BL7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848656711))))
call IN9(bj_lastCreatedGroup,4)
call RemoveLocation(l)
endif
if(B47==5)then
set l=GetRectCenter(XE)
call CreateNUnitsAtLoc(1,1848651845,A7[0],l,bj_UNIT_FACING)
call BL7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848656712))))
call IN9(bj_lastCreatedGroup,2)
call RemoveLocation(l)
endif
if(B47==6)then
set l=GetRectCenter(IE)
call CreateNUnitsAtLoc(1,1848651845,A7[0],l,bj_UNIT_FACING)
call BL7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848656710))))
call IN9(bj_lastCreatedGroup,3)
call RemoveLocation(l)
endif
if(B47==7)then
set l=GetRectCenter(OE)
call CreateNUnitsAtLoc(1,1848651844,A7[0],l,bj_UNIT_FACING)
call BL7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848656714))))
call IN9(bj_lastCreatedGroup,4)
call RemoveLocation(l)
endif
if(B47==8)then
set l=GetRectCenter(XE)
call CreateNUnitsAtLoc(1,1848651844,A7[0],l,bj_UNIT_FACING)
call BL7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848656715))))
call IN9(bj_lastCreatedGroup,2)
call RemoveLocation(l)
endif
if(B47==9)then
set l=GetRectCenter(IE)
call CreateNUnitsAtLoc(1,1848651844,A7[0],l,bj_UNIT_FACING)
call BL7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848656713))))
call IN9(bj_lastCreatedGroup,3)
call RemoveLocation(l)
endif
set l=null
endfunction
function N9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
if LR7(CR7)==false and CR7!=null then
call SetUnitScale(CR7,L17(CR7)*CS,L17(CR7)*CS,L17(CR7)*CS)
endif
call TQ7(UL7)
call U37(t)
set t=null
set CR7=null
return false
endfunction
function EX9 takes nothing returns nothing
local integer x=1
local player p
loop
exitwhen x>16
if SY7(M7[x],ZU[DI4])!=null then
call RemoveUnit(OA4[GetPlayerId(GetOwningPlayer(M7[x]))])
endif
set x=x+1
endloop
endfunction
function K89 takes nothing returns boolean
return IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and J98(GetUnitTypeId(GetFilterUnit()))==false and SY7(GetTriggerUnit(),ZU[DI4])!=null
endfunction
function K99 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==false and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)!=1 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1
endfunction
function KD9 takes nothing returns nothing
call SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)+F8)
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\BloodstoneHealTarget.mdx",GetEnumUnit(),"origin"))
endfunction
function KE9 takes nothing returns nothing
local group g=CA7()
call GroupEnumUnitsInRange(g,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),1700,Condition(function K99))
set F8=400+30*GetItemCharges(SY7(GetTriggerUnit(),ZU[DI4]))
call ForGroup(g,function KD9)
call CZ7(g)
set g=null
endfunction
function KF9 takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local unit HE8=CreateUnit(GetOwningPlayer(CR7),1211117645,GetUnitX(CR7),GetUnitY(CR7),GetUnitFacing(CR7))
set OA4[GetPlayerId(GetOwningPlayer(CR7))]=HE8
call KE9()
set HE8=null
set CR7=null
endfunction
function KG9 takes unit u returns nothing
local integer KH9=GetItemCharges(SY7(u,ZU[DI4]))
if KH9>0 then
call SetUnitState(u,UNIT_STATE_MANA,GetUnitState(u,UNIT_STATE_MANA)+KH9)
endif
endfunction
function KI9 takes nothing returns boolean
local integer i=1
local unit CR7
local integer id
if HG4>0 then
loop
exitwhen i>5
set id=GetPlayerId(Z7[i])
set CR7=M7[id]
if RN4[id]>0 and CR7!=null and GetUnitTypeId(CR7)>1 and IsUnitType(CR7,UNIT_TYPE_DEAD)==false then
call KG9(CR7)
endif
set id=GetPlayerId(A7[i])
set CR7=M7[id]
if RN4[id]>0 and CR7!=null and GetUnitTypeId(CR7)>1 and IsUnitType(CR7,UNIT_TYPE_DEAD)==false then
call KG9(CR7)
endif
set i=i+1
endloop
endif
set CR7=null
return false
endfunction
function oK takes nothing returns nothing
set gg[0]=CreateTimer()
set gg[1]=CreateTimer()
set gg[2]=CreateTimer()
set gg[3]=CreateTimer()
set gg[4]=CreateTimer()
set gg[5]=CreateTimer()
set gg[6]=CreateTimer()
set gg[7]=CreateTimer()
set gg[8]=CreateTimer()
set gg[9]=CreateTimer()
set gg[10]=CreateTimer()
set gg[11]=CreateTimer()
set gg[12]=CreateTimer()
set gg[13]=CreateTimer()
set gg[14]=CreateTimer()
set gg[15]=CreateTimer()
endfunction
function KJ9 takes unit u,real d returns boolean
if IsUnitType(u,UNIT_TYPE_HERO)or GetUnitAbilityLevel(u,1093678162)>0 then
return d>5
endif
return true
endfunction
function KK9 takes unit u returns unit
local group g
if GetUnitAbilityLevel(u,1093678162)==0 then
return u
endif
set IN4=WH4
set g=CA7()
call GroupEnumUnitsInRange(g,GetUnitX(u),GetUnitY(u),900,Condition(function FW8))
set WG4=FirstOfGroup(g)
call CZ7(g)
return WG4
endfunction
function KM9 takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit HE8
local unit p5
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
call DestroyEffect(UK7(UL7,"FX"))
call TQ7(UL7)
call U37(t)
else
set p5=UE7(UL7,"Source")
set HE8=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),0)
call UnitAddAbility(HE8,1093684022)
set WH4=p5
if IssueTargetOrder(HE8,"forkedlightning",KK9(GetEventDamageSource()))then
call U07(GetTriggerUnit(),"KN9",1)
endif
endif
set t=null
set HE8=null
set p5=null
endfunction
function KO9 takes nothing returns boolean
if(GetTriggerEventId()==EVENT_UNIT_DAMAGED and KJ9(GetEventDamageSource(),GetEventDamage())and GetRandomInt(1,100)<21 and UX7(GetTriggerUnit(),"KN9")==false)or GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
call KM9()
endif
return false
endfunction
function KN9 takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
if m5==null then
set m5=p5
endif
call U07(m5,"StaticChargeActive",20)
call TriggerRegisterTimerEvent(t,20.,false)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function KO9))
call TY7(UL7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Orc\\LightningShield\\LightningShieldTarget.mdl",m5,"origin"))
call TX7(UL7,"Source",p5)
set t=null
set p5=null
set m5=null
endfunction
function KP9 takes nothing returns nothing
if GetSpellAbilityId()==1093683788 and(UQ7(GetHandleId(GetSpellTargetUnit()),"StaticChargeActive")==1)==false then
call KN9()
endif
endfunction
function KQ9 takes integer i returns boolean
return i==1227894838 or i==1227894840 or i==1227894858 or i==1227894859 or i==1227894839
endfunction
function KR9 takes nothing returns boolean
if GetIssuedOrderId()==851971 then
if GetOrderTargetItem()!=null and KQ9(GetItemTypeId(GetOrderTargetItem()))then
call RU7(GetTriggerUnit())
call D78(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848659029))
endif
endif
return false
endfunction
function KS9 takes unit KT9 returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterUnitEvent(t,KT9,EVENT_UNIT_ISSUED_TARGET_ORDER)
call TriggerAddCondition(t,Condition(function KR9))
set t=null
endfunction
function KU9 takes player p returns integer
local integer r=GetRandomInt(1,6)
if ZL7(p)then
if r==1 then
return VT4
elseif r==2 then
return VU4
elseif r==3 then
return VV4
elseif r==4 then
return VW4
elseif r==5 then
return VX4
else
return VY4
endif
else
if r==1 then
return VA4
elseif r==2 then
return VB4
elseif r==3 then
return VC4
elseif r==4 then
return V34
elseif r==5 then
return V64
else
return VL4
endif
endif
return 0
endfunction
function KV9 takes player p returns integer
if GetRandomInt(1,3)==1 then
return W44
elseif ZL7(p)then
return VS4
else
return VZ4
endif
return 0
endfunction
function KW9 takes nothing returns nothing
local unit KX9=CreateUnit(GetOwningPlayer(GetTriggerUnit()),KU9(GetOwningPlayer(GetTriggerUnit())),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),GetUnitFacing(GetTriggerUnit()))
local real x=GetUnitX(GetTriggerUnit())
local real y=GetUnitY(GetTriggerUnit())
local real a=GetUnitFacing(GetTriggerUnit())
call DR9(KX9)
call SetUnitPosition(KX9,x+25*Cos(a*bj_DEGTORAD),y+25*Sin(a*bj_DEGTORAD))
if OT[GetPlayerId(GetOwningPlayer(KX9))]==false then
call UnitRemoveType(KX9,UNIT_TYPE_PEON)
else
call UnitAddType(KX9,UNIT_TYPE_PEON)
endif
set KX9=null
endfunction
function KY9 takes unit DK9 returns nothing
local integer i=0
local integer OL7=GetHandleId(DK9)
local integer O5=UQ7(OL7,"aiCrow|CurrentOwner")
set EQ7=null
call DisableTrigger(H94)
loop
exitwhen i>5
set EQ7=UnitItemInSlot(DK9,i)
if EQ7!=null then
call UnitAddItem(KU4[O5],EQ7)
endif
set i=i+1
endloop
call EnableTrigger(H94)
set K27[224+O5]=false
call TT7(OL7,"aiCrow|CurrentOwner",UQ7(OL7,"aiCrow|TrueOwner"))
call TW7(OL7,"aiCrow|Active",false)
call TZ7(OL7,"aiCrow|DeliverTrigger",null)
call TT7(OL7,"aiCrow|GoHomeWpt",0)
set hq[896+O5]=Bz+15
if(MU7)then
call SetUnitOwner(KU4[16+O5],Player(UQ7(OL7,"aiCrow|TrueOwner")),false)
endif
endfunction
function KZ9 takes unit p5 returns nothing
local real x
local real y
if ZL7(GetOwningPlayer(p5))then
set x=GetRectCenterX(ED)
set y=GetRectCenterY(ED)
else
set x=GetRectCenterX(L9)
set y=GetRectCenterY(L9)
endif
call IssuePointOrder(p5,"move",x,y)
call TW7(GetHandleId(p5),"aiCrow|Away",false)
endfunction
function KA9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local unit EL8=(LoadUnitHandle(L7,GetHandleId(t),(2)))
local integer OL7=GetHandleId(EL8)
local real x=0
local real y=0
local effect KB9=null
local integer i=0
local integer j=0
local integer O5=UQ7(OL7,"aiCrow|CurrentOwner")
if LR7(EL8)==false then
if(not US7(OL7,"aiCrow|Alive"))then
call TW7(OL7,"aiCrow|Alive",true)
endif
if Z17(GetOwningPlayer(EL8))then
set x=JY4
set y=JZ4
else
set x=IX4
set y=IY4
endif
if RI7(GetUnitX(EL8),GetUnitY(EL8),x,y)<825 then
if not MT7 then
call LP7(EL8,1098282348)
endif
set KB9=UK7(OL7,"aiCrow|EffHealHP")
if GetUnitLifePercent(EL8)<100 then
call SetWidgetLife(EL8,GetWidgetLife(EL8)+0.035*GetUnitState(EL8,UNIT_STATE_MAX_LIFE))
if KB9==null then
set KB9=AddSpecialEffectTarget("Abilities\\Spells\\Other\\ANrm\\ANrmTarget.mdl",EL8,"origin")
call TY7(OL7,"aiCrow|EffHealHP",KB9)
endif
elseif KB9!=null then
call DestroyEffect(KB9)
endif
if GetUnitState(EL8,UNIT_STATE_MAX_MANA)>0 then
set KB9=UK7(OL7,"aiCrow|EffHealMP")
if GetUnitManaPercent(EL8)<100 then
call SetUnitState(EL8,UNIT_STATE_MANA,GetUnitState(EL8,UNIT_STATE_MANA)+0.035*GetUnitState(EL8,UNIT_STATE_MAX_MANA))
if KB9==null then
set KB9=AddSpecialEffectTarget("Abilities\\Spells\\Other\\ANrl\\ANrlTarget.mdl",EL8,"origin")
call TY7(OL7,"aiCrow|EffHealMP",KB9)
endif
elseif KB9!=null then
call DestroyEffect(KB9)
endif
endif
if US7(OL7,"aiCrow|Active")then
if IG4[O5]or US7(OL7,"aiCrow|Away")==false then
call KY9(EL8)
if Z17(GetOwningPlayer(EL8))then
call IssuePointOrderById(EL8,851986,x+NY7,y+NY7)
else
call IssuePointOrderById(EL8,851986,x-NY7,y-NY7)
endif
else
if GetUnitCurrentOrder(EL8)!=851986 then
call IssueNeutralImmediateOrderById(Player(O5),EL8,1747990581)
endif
endif
endif
else
if not MT7 then
call UnitRemoveAbility(EL8,1098282348)
endif
set KB9=UK7(OL7,"aiCrow|EffHealHP")
if KB9!=null then
call DestroyEffect(KB9)
call TY7(OL7,"aiCrow|EffHealHP",null)
endif
if GetUnitState(EL8,UNIT_STATE_MAX_MANA)>0 then
set KB9=UK7(OL7,"aiCrow|EffHealMP")
if KB9!=null then
call DestroyEffect(KB9)
call TY7(OL7,"aiCrow|EffHealMP",null)
endif
endif
if US7(OL7,"aiCrow|Active")then
if US7(OL7,"aiCrow|Away")then
if IG4[O5]then
call KZ9(EL8)
elseif GetUnitCurrentOrder(EL8)!=851986 then
call IssueNeutralImmediateOrderById(Player(O5),EL8,1747990581)
endif
else
set i=UQ7(OL7,"aiCrow|GoHomeWpt")
if i==0 then
set j=328
set EJ7=99999
set EK7=0
loop
exitwhen j>342
if Z17(GetOwningPlayer(EL8))then
set EK7=RH7(h7[i],h7[100])+RH7(EL8,h7[i])
else
set EK7=RH7(h7[i],h7[0])+RH7(EL8,h7[i])
endif
if i==0 or EK7<EJ7 then
set i=j
set EJ7=EK7
endif
set j=j+1
endloop
call TT7(OL7,"aiCrow|GoHomeWpt",i)
call IssuePointOrderByIdLoc(EL8,851986,S_7(h7[i]))
elseif i==999 then
if GetUnitCurrentOrder(EL8)!=851986 then
call IssueImmediateOrderById(EL8,852247)
endif
else
set IN4=EL8
if RH7(EL8,h7[i])<400 or(SS7(1000.,IN4,Condition(function GL8))>0)then
call TT7(OL7,"aiCrow|GoHomeWpt",999)
call IssueImmediateOrderById(EL8,852247)
elseif GetUnitCurrentOrder(EL8)!=851986 then
call IssuePointOrderByIdLoc(EL8,851986,S_7(h7[i]))
endif
endif
endif
endif
endif
else
if(US7(OL7,"aiCrow|Alive"))then
call TW7(OL7,"aiCrow|Alive",false)
endif
endif
set t=null
set EL8=null
set KB9=null
return false
endfunction
function KC9 takes integer O5,unit KX9 returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local integer i=GetHandleId(KX9)
call TT7(i,"aiCrow|TrueOwner",O5)
call TT7(i,"aiCrow|CurrentOwner",O5)
call TW7(i,"aiCrow|Alive",true)
call TW7(i,"aiCrow|Active",false)
call SetPlayerAbilityAvailable(Player(O5),1093810510,false)
call UnitMakeAbilityPermanent(KX9,true,1093810509)
call TriggerRegisterDeathEvent(t,KX9)
call TriggerAddCondition(t,Condition(function DO9))
if MT7 then
call LP7(KX9,1098282348)
endif
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerAddCondition(t,Condition(function KA9))
call SaveUnitHandle(L7,(OL7),(2),(KX9))
set t=null
endfunction
function K39 takes nothing returns nothing
local unit KX9=CreateUnit(GetOwningPlayer(GetTriggerUnit()),KV9(GetOwningPlayer(GetTriggerUnit())),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),GetUnitFacing(GetTriggerUnit()))
call DR9(KX9)
if OT[GetPlayerId(GetOwningPlayer(KX9))]==false then
call UnitRemoveType(KX9,UNIT_TYPE_PEON)
else
call UnitAddType(KX9,UNIT_TYPE_PEON)
endif
call KS9(KX9)
set KX9=null
endfunction
function K69 takes nothing returns boolean
if GetSpellAbilityId()==1093681718 then
call KW9()
endif
if GetSpellAbilityId()==1093683796 then
call K39()
endif
return false
endfunction
function KL9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit KX9=UE7(UL7,"chicken")
local integer K19=UQ7(UL7,"newability")
local integer K09=UQ7(UL7,"itemId0")
local integer K59=UQ7(UL7,"itemId1")
local integer K29=UQ7(UL7,"itemId2")
local integer K_9=UQ7(UL7,"itemId3")
local integer M49=UQ7(UL7,"itemId4")
local integer M79=UQ7(UL7,"itemId5")
local player M89=UG7(UL7,"pPlayer0")
local player M99=UG7(UL7,"pPlayer1")
local player MD9=UG7(UL7,"pPlayer2")
local player ME9=UG7(UL7,"pPlayer3")
local player MF9=UG7(UL7,"pPlayer4")
local player MG9=UG7(UL7,"pPlayer5")
local integer MH9=UQ7(UL7,"charges0")
local integer MI9=UQ7(UL7,"charges1")
local integer MJ9=UQ7(UL7,"charges2")
local integer MK9=UQ7(UL7,"charges3")
local integer MM9=UQ7(UL7,"charges4")
local integer MN9=UQ7(UL7,"charges5")
call DisableTrigger(H94)
if GetTriggerEvalCount(t)==1 then
call UnitAddAbility(KX9,K19)
if OT[GetPlayerId(GetOwningPlayer(KX9))]==false then
call UnitRemoveType(KX9,UNIT_TYPE_PEON)
else
call UnitAddType(KX9,UNIT_TYPE_PEON)
endif
else
if K09>0 then
set HA4=CreateItem(K09,GetUnitX(KX9),GetUnitY(KX9))
call UnitAddItem(KX9,HA4)
call SetItemPlayer(HA4,M89,false)
call SetItemUserData(HA4,1)
endif
if MH9>0 then
call SetItemCharges(HA4,MH9)
endif
if K59>0 then
set HA4=CreateItem(K59,GetUnitX(KX9),GetUnitY(KX9))
call UnitAddItem(KX9,HA4)
call SetItemPlayer(HA4,M99,false)
call SetItemUserData(HA4,1)
endif
if MI9>0 then
call SetItemCharges(HA4,MI9)
endif
if K29>0 then
set HA4=CreateItem(K29,GetUnitX(KX9),GetUnitY(KX9))
call UnitAddItem(KX9,HA4)
call SetItemPlayer(HA4,MD9,false)
call SetItemUserData(HA4,1)
endif
if MJ9>0 then
call SetItemCharges(HA4,MJ9)
endif
if K_9>0 then
set HA4=CreateItem(K_9,GetUnitX(KX9),GetUnitY(KX9))
call UnitAddItem(KX9,HA4)
call SetItemPlayer(HA4,ME9,false)
call SetItemUserData(HA4,1)
endif
if MK9>0 then
call SetItemCharges(HA4,MK9)
endif
if M49>0 then
set HA4=CreateItem(M49,GetUnitX(KX9),GetUnitY(KX9))
call UnitAddItem(KX9,HA4)
call SetItemPlayer(HA4,MF9,false)
call SetItemUserData(HA4,1)
endif
if MM9>0 then
call SetItemCharges(HA4,MM9)
endif
if M79>0 then
set HA4=CreateItem(M79,GetUnitX(KX9),GetUnitY(KX9))
call UnitAddItem(KX9,HA4)
call SetItemPlayer(HA4,MG9,false)
call SetItemUserData(HA4,1)
endif
if MN9>0 then
call SetItemCharges(HA4,MN9)
endif
if OT[GetPlayerId(GetOwningPlayer(KX9))]==false then
call UnitRemoveType(KX9,UNIT_TYPE_PEON)
else
call UnitAddType(KX9,UNIT_TYPE_PEON)
endif
call TQ7(UL7)
call U37(t)
endif
call EnableTrigger(H94)
set t=null
set KX9=null
set M89=null
set M99=null
set MD9=null
set ME9=null
set MF9=null
set MG9=null
return false
endfunction
function MO9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit KX9=(LoadUnitHandle(L7,(UL7),(2)))
local integer MP9=GetUnitTypeId(KX9)
local real x=GetUnitX(KX9)
local real y=GetUnitY(KX9)
local item MQ9
local item MR9
local item MS9
local item MT9
local item MU9
local item MV9
local player M89
local player M99
local player MD9
local player ME9
local player MF9
local player MG9
local integer K09
local integer K59
local integer K29
local integer K_9
local integer M49
local integer M79
local integer MH9=-1
local integer MI9=-1
local integer MJ9=-1
local integer MK9=-1
local integer MM9=-1
local integer MN9=-1
local integer K19
local item W18
call FlushChildHashtable(L7,(UL7))
call U37(t)
if KX9==null or LR7(KX9)then
return false
endif
set t=CreateTrigger()
set UL7=GetHandleId(t)
set MQ9=UnitItemInSlot(KX9,0)
set MR9=UnitItemInSlot(KX9,1)
set MS9=UnitItemInSlot(KX9,2)
set MT9=UnitItemInSlot(KX9,3)
set MU9=UnitItemInSlot(KX9,4)
set MV9=UnitItemInSlot(KX9,5)
set K09=GetItemTypeId(MQ9)
set K59=GetItemTypeId(MR9)
set K29=GetItemTypeId(MS9)
set K_9=GetItemTypeId(MT9)
set M49=GetItemTypeId(MU9)
set M79=GetItemTypeId(MV9)
set M89=GetItemPlayer(MQ9)
set M99=GetItemPlayer(MR9)
set MD9=GetItemPlayer(MS9)
set ME9=GetItemPlayer(MT9)
set MF9=GetItemPlayer(MU9)
set MG9=GetItemPlayer(MV9)
set W18=MQ9
if GetItemType(W18)==ITEM_TYPE_ARTIFACT or EO9(RB7(W18))then
set MH9=GetItemCharges(W18)
endif
set W18=MR9
if GetItemType(W18)==ITEM_TYPE_ARTIFACT or EO9(RB7(W18))then
set MI9=GetItemCharges(W18)
endif
set W18=MS9
if GetItemType(W18)==ITEM_TYPE_ARTIFACT or EO9(RB7(W18))then
set MJ9=GetItemCharges(W18)
endif
set W18=MT9
if GetItemType(W18)==ITEM_TYPE_ARTIFACT or EO9(RB7(W18))then
set MK9=GetItemCharges(W18)
endif
set W18=MU9
if GetItemType(W18)==ITEM_TYPE_ARTIFACT or EO9(RB7(W18))then
set MM9=GetItemCharges(W18)
endif
set W18=MV9
if GetItemType(W18)==ITEM_TYPE_ARTIFACT or EO9(RB7(W18))then
set MN9=GetItemCharges(W18)
endif
call RA7(MQ9)
call RA7(MR9)
call RA7(MS9)
call RA7(MT9)
call RA7(MU9)
call RA7(MV9)
if MP9==VT4 then
set K19=1395667001
elseif MP9==VU4 then
set K19=1395667012
elseif MP9==VV4 then
set K19=1395667011
elseif MP9==VA4 then
set K19=1395667013
elseif MP9==VB4 then
set K19=1395667010
elseif MP9==VC4 then
set K19=W84
elseif MP9==VW4 then
set K19=1395667031
elseif MP9==VX4 then
set K19=1395667033
elseif MP9==V34 then
set K19=1395667032
elseif MP9==V64 then
set K19=1395667012
elseif MP9==VY4 then
set K19=W94
elseif MP9==VL4 then
set K19=WD4
endif
if GetRandomInt(1,10)==1 then
set K19=1395667015
endif
if GetRandomInt(1,10)<3 then
set K19=1395667254
endif
if MP9==V24 then
set K19=1395667020
elseif MP9==W74 then
set K19=1395667020
elseif MP9==V_4 then
set K19=W84
endif
if MP9==VS4 then
set K19=1395667250
elseif MP9==VZ4 then
set K19=1395667248
elseif MP9==W44 then
set K19=1395667252
elseif MP9==V14 then
set K19=1395667249
elseif MP9==V04 then
set K19=1395667255
elseif MP9==V54 then
set K19=1395667251
endif
call T37(UL7,"pPlayer0",M89)
call T37(UL7,"pPlayer1",M99)
call T37(UL7,"pPlayer2",MD9)
call T37(UL7,"pPlayer3",ME9)
call T37(UL7,"pPlayer4",MF9)
call T37(UL7,"pPlayer5",MG9)
call TT7(UL7,"itemId0",K09)
call TT7(UL7,"itemId1",K59)
call TT7(UL7,"itemId2",K29)
call TT7(UL7,"itemId3",K_9)
call TT7(UL7,"itemId4",M49)
call TT7(UL7,"itemId5",M79)
call TT7(UL7,"charges0",MH9)
call TT7(UL7,"charges1",MI9)
call TT7(UL7,"charges2",MJ9)
call TT7(UL7,"charges3",MK9)
call TT7(UL7,"charges4",MM9)
call TT7(UL7,"charges5",MN9)
call TX7(UL7,"chicken",KX9)
call TT7(UL7,"newability",K19)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function KL9))
set W18=null
set t=null
set KX9=null
set MQ9=null
set MR9=null
set MS9=null
set MT9=null
set MU9=null
set MV9=null
set M89=null
set M99=null
set MD9=null
set ME9=null
set MF9=null
set MG9=null
return false
endfunction
function MW9 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.05,false)
call TriggerAddCondition(t,Condition(function MO9))
call SaveUnitHandle(L7,(OL7),(2),(GetTriggerUnit()))
set t=null
endfunction
function MX9 takes nothing returns boolean
if GetSpellAbilityId()==1093685076 then
call MW9()
endif
return false
endfunction
function V7 takes nothing returns boolean
local integer x=0
loop
exitwhen x>5
if UnitItemInSlot(GetTriggerUnit(),x)==null then
return true
endif
set x=x+1
endloop
return false
endfunction
function wD takes nothing returns nothing
if GetItemTypeId(GetManipulatedItem())==ZU[C3]then
call RemoveItem(GetManipulatedItem())
call UnitAddItem(GetTriggerUnit(),CreateItem(ZU[E6],0,0))
endif
if GetItemTypeId(GetManipulatedItem())==ZU[E6]then
call RemoveItem(GetManipulatedItem())
call UnitAddItem(GetTriggerUnit(),CreateItem(ZU[C3],0,0))
endif
endfunction
function MY9 takes nothing returns nothing
if UX7(GetEnumUnit(),"MZ9")==true then
call D78(GetOwningPlayer(GetEnumUnit()),(GetObjectName((1848652365)))+" "+GetUnitName(GetEnumUnit())+" "+(GetObjectName((1848652371))))
else
if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true then
call U07(GetEnumUnit(),"MZ9",25)
endif
call SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)+250)
endif
endfunction
function MZ9 takes nothing returns nothing
local unit p5=GetTriggerUnit()
local group g=CA7()
call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),775,Condition(function GK8))
call ForGroup(g,function MY9)
call CZ7(g)
set p5=null
set g=null
endfunction
function MA9 takes nothing returns nothing
if GetSpellAbilityId()==1093681995 then
call MZ9()
endif
endfunction
function MB9 takes unit CR7,integer MC9,boolean M39 returns nothing
local string M69
local string s
local player p=GetOwningPlayer(CR7)
local real d=2
local string ML9="Use"
if M39 then
set ML9="Store"
endif
if MC9==1227894838 then
set M69="|c00ff0000"+GetObjectName(1848658513)+"|r"
call IM8("Rune"+ML9+"1",GetPlayerId(p))
elseif MC9==1227894840 then
set M69="|c0000ff00"+GetObjectName(1848658510)+"|r"
call IM8("Rune"+ML9+"2",GetPlayerId(p))
elseif MC9==1227894859 then
set M69="|c000000ff"+GetObjectName(1848658739)+"|r"
call IM8("Rune"+ML9+"3",GetPlayerId(p))
elseif MC9==1227894839 then
set M69="|c00afaf00"+GetObjectName(1848658738)+"|r"
call IM8("Rune"+ML9+"4",GetPlayerId(p))
elseif MC9==1227894858 then
set M69="|c00652DC1"+GetObjectName(1848658740)+"|r"
call IM8("Rune"+ML9+"5",GetPlayerId(p))
endif
if M39 then
set s=Q[GetPlayerId(p)]+GetUnitName(CR7)+"|r "+GetObjectName(1848657749)+"|r "+M69+" "+GetObjectName(1848657751)
set d=1
else
if NH then
set s=Q[GetPlayerId(p)]+GetUnitName(CR7)+"|r "+GetObjectName(1848657750)+"|r "+M69+" "+GetObjectName(1848657751)
else
set s=Q[GetPlayerId(p)]+GetUnitName(CR7)+"|r "+GetObjectName(1848657748)+"|r "+M69+" "+GetObjectName(1848657751)
endif
endif
if(IsPlayerAlly(GetLocalPlayer(),p)and GetLocalPlayer()!=p)or CP7(GetLocalPlayer())then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,d,s)
endif
endfunction
function M19 takes nothing returns boolean
if GetSpellAbilityId()==1093683254 then
call TX7(GetHandleId(GetTriggerUnit()),"BottleTargetUnit",null)
call TT7(GetHandleId(GetTriggerUnit()),"BottleTargetItemId",0)
if(SY7(GetTriggerUnit(),ZU[AZ])!=null or SY7(GetTriggerUnit(),BU[AZ])!=null)and(GetUnitTypeId(GetSpellTargetUnit())==1852206952 or GetUnitTypeId(GetSpellTargetUnit())==1852073580)then
call TX7(GetHandleId(GetTriggerUnit()),"BottleTargetUnit",GetSpellTargetUnit())
elseif KQ9(GetItemTypeId(GetSpellTargetItem()))then
call MB9(GetTriggerUnit(),GetItemTypeId(GetSpellTargetItem()),true)
call TT7(GetHandleId(GetTriggerUnit()),"BottleTargetItemId",GetItemTypeId(GetSpellTargetItem()))
call RA7(GetSpellTargetItem())
endif
endif
return false
endfunction
function M09 takes unit CL7 returns nothing
call SetUnitState(CL7,UNIT_STATE_LIFE,GetUnitState(CL7,UNIT_STATE_MAX_LIFE))
call SetUnitState(CL7,UNIT_STATE_MANA,GetUnitState(CL7,UNIT_STATE_MAX_MANA))
endfunction
function M59 takes unit CL7,real x,real y returns nothing
local integer OL7=GetHandleId(GetOwningPlayer(CL7))
local unit K78=UE7(OL7,"Kobold1")
local unit K88=UE7(OL7,"Kobold2")
local unit K98=UE7(OL7,"Kobold3")
local unit KD8=UE7(OL7,"Kobold4")
set OB4=true
if K78!=null then
call ReviveHero(K78,x,y,true)
call M09(K78)
call JB8(K78)
call SetUnitX(K78,x)
call SetUnitY(K78,y)
endif
if K88!=null then
call ReviveHero(K88,x,y,true)
call M09(K88)
call JB8(K88)
call SetUnitX(K88,x)
call SetUnitY(K88,y)
endif
if K98!=null then
call ReviveHero(K98,x,y,true)
call M09(K98)
call JB8(K98)
call SetUnitX(K98,x)
call SetUnitY(K98,y)
endif
if KD8!=null then
call ReviveHero(KD8,x,y,true)
call M09(KD8)
call JB8(KD8)
call SetUnitX(KD8,x)
call SetUnitY(KD8,y)
endif
set K78=null
set K88=null
set K98=null
set KD8=null
endfunction
function M29 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit CL7=UE7(OL7,"Hero")
call M09(CL7)
call JB8(CL7)
call ClearSelectionForPlayer(GetOwningPlayer(CL7))
call SelectUnitAddForPlayer(CL7,GetOwningPlayer(CL7))
if GetUnitTypeId(CL7)==1211117641 then
call M59(CL7,GetUnitX(CL7),GetUnitY(CL7))
endif
call TQ7(OL7)
call U37(t)
set t=null
set CL7=null
return false
endfunction
function M_9 takes unit CL7,real x,real y returns nothing
local integer OL7=GetHandleId(GetOwningPlayer(CL7))
local unit K78=UE7(OL7,"Kobold1")
local unit K88=UE7(OL7,"Kobold2")
local unit K98=UE7(OL7,"Kobold3")
local unit KD8=UE7(OL7,"Kobold4")
call DisableTrigger(ES)
if K78!=null then
call SetUnitX(K78,x)
call SetUnitY(K78,y)
call KillUnit(K78)
endif
if K88!=null then
call SetUnitX(K88,x)
call SetUnitY(K88,y)
call KillUnit(K88)
endif
if K98!=null then
call SetUnitX(K98,x)
call SetUnitY(K98,y)
call KillUnit(K98)
endif
if KD8!=null then
call SetUnitX(KD8,x)
call SetUnitY(KD8,y)
call KillUnit(KD8)
endif
call EnableTrigger(ES)
set K78=null
set K88=null
set K98=null
set KD8=null
endfunction
function N49 takes nothing returns nothing
local unit CL7=GetTriggerUnit()
local real x
local real y
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call IM8("AegisOff",GetPlayerId(GetOwningPlayer(CL7)))
if GetUnitTypeId(CL7)==1211117641 then
call M_9(CL7,GetUnitX(CL7),GetUnitY(CL7))
endif
set NW4=null
call TriggerRegisterTimerEvent(t,5.,false)
call TriggerAddCondition(t,Condition(function M29))
call TX7(OL7,"Hero",CL7)
call U07(CL7,"JustUseAegis",5)
set t=null
set CL7=null
endfunction
function N79 takes nothing returns nothing
if RC7(GetManipulatedItem())==X0 then
call N49()
endif
endfunction
function Trig_MultipleNecro_Func001002001 takes nothing returns boolean
return(GetUnitTypeId(GetEnumUnit())==1848651848)
endfunction
function N89 takes nothing returns nothing
if GetWidgetLife(GetEnumItem())>0 and KQ9(GetItemTypeId(GetEnumItem()))then
set HA4=GetEnumItem()
endif
endfunction
function N99 takes nothing returns integer
local integer i=GetRandomInt(1,5)
loop
exitwhen i!=FI4
set i=GetRandomInt(1,5)
endloop
set FI4=i
return i
endfunction
function ND9 takes nothing returns boolean
local boolean NE9=false
local boolean NF9=false
local real x
local real y
local real x1
local real y1
local real x2
local real y2
local integer NG9
if GetRandomInt(1,2)==1 then
set x=GetLocationX(F7)
set y=GetLocationY(F7)
else
set x=GetLocationX(G7)
set y=GetLocationY(G7)
endif
set x1=GetLocationX(F7)
set y1=GetLocationY(F7)
set x2=GetLocationX(G7)
set y2=GetLocationY(G7)
set HA4=null
call EnumItemsInRect(MD,Condition(function ZY7),function N89)
if HA4==null then
set NE9=true
endif
set HA4=null
call EnumItemsInRect(FD,Condition(function ZY7),function N89)
if HA4==null then
set NF9=true
endif
if DT==false or GetTriggerEvalCount(GetTriggeringTrigger())<20 then
if NE9 and NF9 then
set NG9=N99()
if NG9==1 then
call CreateItem(1227894839,x,y)
elseif NG9==2 then
call CreateItem(1227894838,x,y)
elseif NG9==3 then
call CreateItem(1227894859,x,y)
elseif NG9==4 then
call CreateItem(1227894840,x,y)
elseif NG9==5 then
call CreateItem(1227894858,x,y)
endif
endif
else
if NE9 then
set NG9=N99()
if NG9==1 then
call CreateItem(1227894839,x1,y1)
elseif NG9==2 then
call CreateItem(1227894838,x1,y1)
elseif NG9==3 then
call CreateItem(1227894859,x1,y1)
elseif NG9==4 then
call CreateItem(1227894840,x1,y1)
elseif NG9==5 then
call CreateItem(1227894858,x1,y1)
endif
endif
if NF9 then
set NG9=N99()
if NG9==1 then
call CreateItem(1227894839,x2,y2)
elseif NG9==2 then
call CreateItem(1227894838,x2,y2)
elseif NG9==3 then
call CreateItem(1227894859,x2,y2)
elseif NG9==4 then
call CreateItem(1227894840,x2,y2)
elseif NG9==5 then
call CreateItem(1227894858,x2,y2)
endif
endif
endif
return false
endfunction
function O2 takes integer Ou,real O3 returns nothing
set FI[gi]=Ou
set Fj[gi]=O3
set gi=gi+1
endfunction
function Wq takes nothing returns nothing
call O2(1752134252,30)
call O2(1870030190,210)
call O2(1835955060,45)
call O2(1227894834,60)
call O2(1667786099,60)
call O2(1885628790,100)
call O2(1227894833,60)
call O2(1650878578,50)
call O2(2004055908,12)
call O2(1919248946,30)
call O2(1819177582,36)
call O2(1936749157,20)
call O2(1919906931,300)
call O2(1953265005,60)
call O2(1936093031,15)
call O2(1835955046,28)
call O2(1937012592,65)
call O2(1935894636,70)
call O2(1919248945,28)
call O2(1803117164,20)
call O2(1919248949,40)
call O2(1667460452,26)
call O2(1835823988,32)
call O2(1684370275,30)
call O2(1227894851,25)
call O2(1227894865,45)
call O2(1227894868,30)
call O2(1868984943,85)
call O2(1227895120,10)
call O2(1227895125,30)
call O2(1227960368,45)
call O2(1227960369,90)
endfunction
function NH9 takes nothing returns boolean
local integer i
if O64>0 and OC4[1]<1 then
set i=2
loop
exitwhen i>O64
set OC4[i-1]=OC4[i]
set O34[i-1]=O34[i]
set i=i+1
endloop
set O64=O64-1
endif
set i=1
loop
exitwhen i>O64
if OC4[i]>=1 then
set OC4[i]=OC4[i]-1
if OC4[i]<1 then
call SetItemDroppable(O34[i],true)
endif
endif
set i=i+1
endloop
return false
endfunction
function NI9 takes item W18 returns nothing
set O64=O64+1
set O34[O64]=W18
set OC4[O64]=(LU[(RC7(W18))])
call SetItemDroppable(W18,false)
endfunction
function NJ9 takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())!=1697656901 and(LU[(RC7(GetManipulatedItem()))])>0 then
call NI9(GetManipulatedItem())
endif
return false
endfunction
function NK9 takes unit PI7 returns integer
local integer HB8
if PI7==null then
return-2
endif
set HB8=GetUnitTypeId(PI7)
if HB8==1211117620 then
return FW4
elseif HB8==1430466872 then
return FX4
elseif HB8==1215130471 then
return FB4
elseif HB8==1432580716 or HB8==1429221720 then
return GB4
elseif HB8==1211117640 then
return F34
elseif HB8==1430466609 then
return F64
elseif HB8==1332898670 then
return FL4
elseif HB8==1215128178 then
return F24
elseif HB8==1214931305 then
return F14
elseif HB8==1433168227 then
return FV4
elseif HB8==1164666213 then
return FU4
elseif HB8==1164799603 then
return FS4
elseif HB8==1162032439 then
return F04
elseif HB8==1429221445 then
return FA4
elseif HB8==1160785973 then
return FZ4
elseif HB8==1160786241 then
return F54
elseif HB8==1430467634 then
return FY4
elseif HB8==1315988077 then
return GK4
elseif HB8==1211117652 then
return G44
elseif HB8==1215723364 then
return G74
elseif HB8==1315070563 then
return G84
elseif HB8==1211117633 then
return GD4
elseif HB8==1432646245 then
return GE4
elseif HB8==1160786000 then
return GG4
elseif HB8==1429221451 then
return GH4
elseif HB8==1211117649 then
return GI4
elseif HB8==1211117653 then
return GJ4
elseif HB8==1429221446 then
return GM4
elseif HB8==1311786311 then
return GN4
elseif HB8==1162032181 then
return GO4
elseif HB8==1328558154 then
return GP4
elseif HB8==1332963428 then
return GQ4
elseif HB8==1432642913 then
return GR4
elseif HB8==1311781207 then
return GS4
elseif HB8==1211117643 then
return GT4
elseif HB8==1332766568 then
return GU4
elseif HB8==1333027688 then
return GV4
elseif HB8==1211117650 then
return FC4
elseif HB8==1211119433 then
return FC4
elseif HB8==1311780930 then
return GW4
elseif HB8==1160786243 then
return GY4
elseif HB8==1160785970 then
return GZ4
elseif HB8==1162032951 then
return GA4
elseif HB8==1429221456 then
return G34
elseif HB8==1164799855 then
return G64
elseif HB8==1211117646 then
return GL4
elseif HB8==1160786510 or HB8==1160786511 then
return G14
elseif HB8==1211117641 then
return G04
elseif HB8==1211117636 then
return G54
elseif HB8==1430468144 then
return G24
elseif GetUnitPointValue(PI7)==500 then
return GX4
endif
return FR4
endfunction
function NM9 takes unit PI7 returns integer
local integer HB8
if PI7==null then
return-2
endif
set HB8=GetUnitTypeId(PI7)
if HB8==1211117620 then
return 1093686352
elseif HB8==1430466872 then
return 1093686354
elseif HB8==1215130471 then
return 1093815124
elseif HB8==1432580716 or HB8==1429221720 then
return 0
elseif HB8==1211117640 then
return 1093686358
elseif HB8==1430466609 then
return 1093686360
elseif HB8==1332898670 then
return 1093686362
elseif HB8==1215128178 then
return 1093686577
elseif HB8==1214931305 then
return 1093686579
elseif HB8==1433168227 then
return 1093686581
elseif HB8==1164666213 then
return 1093686583
elseif HB8==1164799603 then
return 1093686585
elseif HB8==1162032439 then
return 1093686594
elseif HB8==1429221445 then
return 1093686596
elseif HB8==1160785973 then
return 1093686598
elseif HB8==1160786241 then
return 1093686600
elseif HB8==1430467634 then
return 1093686602
elseif HB8==1315988077 then
return 1093747269
elseif HB8==1211117652 then
return 1093747257
elseif HB8==1215723364 then
return 1093747265
elseif HB8==1315070563 then
return 1093747266
elseif HB8==1211117633 then
return 1093747541
elseif HB8==1432646245 then
return 1093747271
elseif HB8==1160786000 then
return 1093747274
elseif HB8==1429221451 then
return 1093747267
elseif HB8==1211117649 then
return 1093747273
elseif HB8==1211117653 then
return 1093747268
elseif HB8==1429221446 then
return 1093747545
elseif HB8==1311786311 then
return 1093747762
elseif HB8==1162032181 then
return 1093747761
elseif HB8==1328558154 then
return 1093747546
elseif HB8==1332963428 then
return 1093747760
elseif HB8==1432642913 then
return 1093747763
elseif HB8==1311781207 then
return 1093747764
elseif HB8==1211117643 then
return 1093748529
elseif HB8==1332766568 then
return 1093750100
elseif HB8==1333027688 then
return 1093750320
elseif HB8==1311780930 then
return 1093751123
elseif HB8==1160786243 then
return 1093752148
elseif HB8==1160785970 then
return 1093752149
elseif HB8==1162032951 then
return 1093752369
elseif HB8==1429221456 then
return 1093752409
elseif HB8==1164799855 then
return 1093752644
elseif HB8==1211117646 then
return 1093808467
elseif HB8==1160786510 or HB8==1160786511 then
return 1093808951
elseif HB8==1211117641 then
return 1093809989
elseif HB8==1211117636 then
return 1093810241
elseif HB8==1430468144 then
return 1093814600
endif
return 0
endfunction
function NN9 takes item JP8 returns boolean
local integer i=1
loop
exitwhen i>O64
if JP8==O34[i]then
return true
endif
set i=i+1
endloop
return false
endfunction
function NO9 takes unit PI7 returns location
return O8[GetUnitAbilityLevel(PI7,N8)]
endfunction
function NP9 takes unit PI7 returns boolean
return(GetOwningPlayer(PI7)==Z7[0])or(GetOwningPlayer(PI7)==A7[0])
endfunction
function NQ9 takes nothing returns nothing
call SetUnitUserData(GetEnumUnit(),0)
call IssuePointOrderLoc(GetEnumUnit(),"attack",NO9(GetEnumUnit()))
endfunction
function NR9 takes nothing returns nothing
call IssueTargetOrder(GetEnumUnit(),"attack",D8)
call GroupAddUnit(R8,GetEnumUnit())
call SetUnitUserData(GetEnumUnit(),ST4)
endfunction
function NS9 takes nothing returns boolean
local integer id=GetUnitTypeId(GetFilterUnit())
if id==1700946284 or id==1697657398 or id==1970107511 or id==1966092370 then
return false
endif
if IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(D8))and(GetOwningPlayer(GetFilterUnit())==Z7[0]or GetOwningPlayer(GetFilterUnit())==A7[0])and GetUnitUserData(GetFilterUnit())==0 then
return true
endif
return false
endfunction
function NT9 takes nothing returns nothing
if GetUnitCurrentOrder(GetEnumUnit())==0 and IsUnitInRange(GetEnumUnit(),D8,GetUnitAcquireRange(GetEnumUnit()))==false then
call GroupRemoveUnit(R8,GetEnumUnit())
call SetUnitUserData(GetEnumUnit(),0)
call IssuePointOrderByIdLoc(GetEnumUnit(),851983,NO9(GetEnumUnit()))
endif
endfunction
function NU9 takes nothing returns nothing
local integer UL7=GetHandleId(UE7(GetHandleId(GetExpiredTimer()),"Source"))
local integer NV9=UQ7(UL7,"Attacker")
local group NW9=UJ7(UL7,"Defenders")
set SS4[NV9]=null
call ForGroup(NW9,function NQ9)
call GroupClear(NW9)
set NW9=null
endfunction
function NX9 takes unit CR7,unit ZE8 returns nothing
local integer UL7=GetHandleId(CR7)
local group NW9=UJ7(UL7,"Defenders")
local integer NV9=UQ7(UL7,"Attacker")
local unit NY9=SS4[NV9]
local group g
if NY9!=null and NY9!=ZE8 then
call ForGroup(NW9,function NQ9)
call GroupClear(NW9)
endif
set SS4[NV9]=ZE8
set R8=NW9
set D8=ZE8
set ST4=NV9
call ForGroup(NW9,function NT9)
set g=CA7()
call GroupEnumUnitsInRange(g,GetUnitX(ZE8),GetUnitY(ZE8),500,Condition(function NS9))
call ForGroup(g,function NR9)
call CZ7(g)
call TimerStart(UH7(UL7,"DefendTimer"),2,false,function NU9)
set g=null
set NY9=null
set NW9=null
endfunction
function NZ9 takes integer BG7 returns boolean
return BG7==1162032951 or BG7==1160785972 or BG7==1315074670 or BG7==1429221456 or BG7==1164799855 or BG7==1311781185 or BG7==1211117649
endfunction
function NA9 takes nothing returns boolean
local unit CR7=GetAttacker()
local unit m5=GetTriggerUnit()
local integer X5=GetIssuedOrderId()
local integer NB9
local integer i1
call OC7(m5,CR7)
call O07(CR7,m5)
if NP9(CR7)==false then
set NB9=UQ7(GetHandleId(m5),"Attacker")
if SS4[NB9]==null or SS4[NB9]==m5 or LR7(SS4[NB9])then
if NB9!=0 then
if((GetPlayerController(GetOwningPlayer(GetAttacker()))!=MAP_CONTROL_COMPUTER)or(not IsUnitType(GetAttacker(),UNIT_TYPE_HERO)))then
call NX9(GetTriggerUnit(),GetAttacker())
else
set i1=GetUnitTypeId(GetAttacker())
if((i1!=1162032951)and(i1!=1160785972)and(i1!=1430468144)and(i1!=1315074670)and(i1!=1429221456)and(i1!=1164799855)and(i1!=1311781185)and(i1!=1211117649))then
call NX9(GetTriggerUnit(),GetAttacker())
else
call TriggerSleepAction(0.01)
if(not GZ[304+GetPlayerId(GetOwningPlayer(GetAttacker()))])then
call NX9(GetTriggerUnit(),GetAttacker())
endif
endif
endif
if(not IsUnitType(CR7,UNIT_TYPE_HERO))or(GetPlayerController(GetOwningPlayer(CR7))!=MAP_CONTROL_COMPUTER)or(not NZ9(GetUnitTypeId(CR7)))or(not GZ[304+GetPlayerId(GetOwningPlayer(CR7))])then
call NX9(GetTriggerUnit(),GetAttacker())
endif
endif
endif
endif
set CR7=null
set m5=null
return false
endfunction
function NC9 takes nothing returns boolean
local unit CR7=GetTriggerUnit()
local unit m5=GetOrderTargetUnit()
local integer X5=GetIssuedOrderId()
local integer N39
if IsUnitType(m5,UNIT_TYPE_HERO)==true and IsUnitIllusion(m5)==false and(X5==851983 or X5==851971)and IsUnitEnemy(m5,GetOwningPlayer(CR7))and IsUnitVisible(CR7,GetOwningPlayer(m5))then
set N39=UQ7(GetHandleId(m5),"Attacker")
if SS4[N39]==null or SS4[N39]==m5 or LR7(SS4[N39])then
if N39!=0 then
call NX9(m5,CR7)
endif
endif
endif
set CR7=null
set m5=null
return false
endfunction
function Wy takes unit CR7 returns boolean
return US7(GetHandleId(CR7),"HeroAIManager")
endfunction
function N69 takes unit CR7 returns nothing
local group g
local trigger t
local timer tm
local integer UL7=GetHandleId(CR7)
set l2=l2+1
call TW7(UL7,"HeroAIManager",true)
call TT7(UL7,"Attacker",l2)
set g=CA7()
call TL7(UL7,"Defenders",g)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,CR7,EVENT_UNIT_ISSUED_TARGET_ORDER)
call TriggerAddCondition(t,Condition(function NC9))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,CR7,EVENT_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function NA9))
set tm=CreateTimer()
call T17(GetHandleId(CR7),"DefendTimer",tm)
call TX7(GetHandleId(tm),"Source",CR7)
set g=null
set t=null
set tm=null
endfunction
function NL9 takes nothing returns nothing
local unit S4=GetTriggerUnit()
local unit m5=rw[GetUnitUserData(S4)]
call SetUnitPosition(S4,GetUnitX(S4),GetUnitY(S4))
if m5!=null and LR7(m5)==false and IsUnitVisible(m5,GetOwningPlayer(m5))then
call IssueTargetOrder(S4,"attack",m5)
else
call DisableTrigger(GetTriggeringTrigger())
call IssuePointOrderLoc(S4,"attack",(O8[GetUnitAbilityLevel((S4),N8)]))
call EnableTrigger(GetTriggeringTrigger())
endif
set S4=null
set m5=null
endfunction
function N19 takes nothing returns boolean
if NP9(GetTriggerUnit())then
call NL9()
endif
return false
endfunction
function N09 takes nothing returns nothing
local unit S4=GetTriggerUnit()
local unit m5=rw[GetUnitUserData(S4)]
call SetUnitPosition(S4,GetUnitX(S4),GetUnitY(S4))
if m5!=null and LR7(m5)==false and IsUnitVisible(m5,GetOwningPlayer(m5))then
call IssueTargetOrder(S4,"attack",m5)
else
call DisableTrigger(GetTriggeringTrigger())
call IssuePointOrderLoc(S4,"attack",(O8[GetUnitAbilityLevel((S4),N8)]))
call EnableTrigger(GetTriggeringTrigger())
endif
set S4=null
set m5=null
endfunction
function N59 takes nothing returns boolean
if GetIssuedOrderId()==851986 then
call N09()
endif
return false
endfunction
function N29 takes nothing returns boolean
if GetOwningPlayer(GetTriggerUnit())==Z7[0]then
if IsUnitFogged(GetAttacker(),Z7[1])or IsUnitFogged(GetAttacker(),A7[1])then
call ES8(CreateFogModifierRadius(Z7[1],FOG_OF_WAR_VISIBLE,GetUnitX(GetAttacker()),GetUnitY(GetAttacker()),128,true,false),1)
endif
elseif GetOwningPlayer(GetTriggerUnit())==A7[0]then
if IsUnitFogged(GetAttacker(),Z7[1])or IsUnitFogged(GetAttacker(),A7[1])then
call ES8(CreateFogModifierRadius(A7[1],FOG_OF_WAR_VISIBLE,GetUnitX(GetAttacker()),GetUnitY(GetAttacker()),128,true,false),1)
endif
endif
return false
endfunction
function N_9 takes nothing returns boolean
local trigger t
local group g
local unit u
set Ew=CreateRegion()
call RegionAddRect(Ew,HD)
call RegionAddRect(Ew,GD)
if V8 then
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Z7[0],EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER,Condition(function ZY7))
call TriggerRegisterPlayerUnitEvent(t,A7[0],EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER,Condition(function ZY7))
call TriggerAddCondition(t,Condition(function N59))
set t=CreateTrigger()
set g=CA7()
call GroupEnumUnitsOfPlayer(g,Z7[0],Condition(function ZY7))
loop
set u=FirstOfGroup(g)
exitwhen u==null
call GroupRemoveUnit(g,u)
if GetUnitAcquireRange(u)!=0 then
call TriggerRegisterUnitInRange(t,u,600,Condition(function ZY7))
endif
endloop
call CZ7(g)
set g=CA7()
call GroupEnumUnitsOfPlayer(g,A7[0],Condition(function ZY7))
loop
set u=FirstOfGroup(g)
exitwhen u==null
call GroupRemoveUnit(g,u)
if GetUnitAcquireRange(u)!=0 and IsUnitType(u,UNIT_TYPE_STRUCTURE)then
call TriggerRegisterUnitInRange(t,u,600,Condition(function ZY7))
endif
endloop
call CZ7(g)
call TriggerAddCondition(t,Condition(function N19))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function N29))
endif
call U37(GetTriggeringTrigger())
set u=null
set g=null
set t=null
return false
endfunction
function O49 takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(not IsUnitIllusion(GetTriggerUnit()))and(not Wy(GetTriggerUnit()))and GetUnitTypeId(GetTriggerUnit())!=1211117645 and GetUnitTypeId(GetTriggerUnit())!=1311788365 and GetUnitTypeId(GetTriggerUnit())!=1211117657 and GetUnitTypeId(GetTriggerUnit())!=1211119431 and GetUnitTypeId(GetTriggerUnit())!=1211122232 and(not LO4)
endfunction
function O79 takes nothing returns boolean
if GetOwningPlayer(GetTriggerUnit())==Z7[0]then
call SetUnitAbilityLevel(GetTriggerUnit(),N8,5)
if rw[GetUnitUserData(GetTriggerUnit())]==null then
call SetUnitUserData(GetTriggerUnit(),0)
call IssuePointOrderLoc(GetTriggerUnit(),"attack",(O8[GetUnitAbilityLevel((GetTriggerUnit()),N8)]))
endif
elseif GetOwningPlayer(GetTriggerUnit())==A7[0]then
call SetUnitAbilityLevel(GetTriggerUnit(),N8,1)
if rw[GetUnitUserData(GetTriggerUnit())]==null then
call SetUnitUserData(GetTriggerUnit(),0)
call IssuePointOrderLoc(GetTriggerUnit(),"attack",(O8[GetUnitAbilityLevel((GetTriggerUnit()),N8)]))
endif
endif
return false
endfunction
function O89 takes unit S4 returns nothing
local integer i=0
loop
exitwhen(i==16)
if IsUnitAlly(S4,Player(i))then
call UnitShareVision(S4,Player(i),true)
endif
set i=i+1
endloop
endfunction
function O99 takes nothing returns nothing
call O89(GetEnumUnit())
endfunction
function OD9 takes nothing returns nothing
local integer x
local group g
set x=1
loop
exitwhen x>5
call SetPlayerAlliance(Z7[0],Z7[x],ConvertAllianceType(5),false)
call SetPlayerAlliance(A7[0],A7[x],ConvertAllianceType(5),false)
set x=x+1
endloop
set g=CA7()
call GroupEnumUnitsOfPlayer(g,Z7[0],Condition(function ZY7))
call ForGroup(g,function O99)
call CZ7(g)
set g=CA7()
call GroupEnumUnitsOfPlayer(g,A7[0],Condition(function ZY7))
call ForGroup(g,function O99)
call CZ7(g)
set g=null
endfunction
function OE9 takes nothing returns nothing
local integer x
set x=0
loop
exitwhen x>5
call SetPlayerAlliance(Z7[x],B7,ConvertAllianceType(0),false)
call SetPlayerAlliance(Z7[x],B7,ConvertAllianceType(1),false)
call SetPlayerAlliance(Z7[x],B7,ConvertAllianceType(2),false)
call SetPlayerAlliance(Z7[x],B7,ConvertAllianceType(3),false)
call SetPlayerAlliance(Z7[x],B7,ConvertAllianceType(4),false)
call SetPlayerAlliance(Z7[x],B7,ConvertAllianceType(5),false)
call SetPlayerAlliance(Z7[x],B7,ConvertAllianceType(6),false)
call SetPlayerAlliance(Z7[x],B7,ConvertAllianceType(7),false)
call SetPlayerAlliance(A7[x],B7,ConvertAllianceType(0),false)
call SetPlayerAlliance(A7[x],B7,ConvertAllianceType(1),false)
call SetPlayerAlliance(A7[x],B7,ConvertAllianceType(2),false)
call SetPlayerAlliance(A7[x],B7,ConvertAllianceType(3),false)
call SetPlayerAlliance(A7[x],B7,ConvertAllianceType(4),false)
call SetPlayerAlliance(A7[x],B7,ConvertAllianceType(5),false)
call SetPlayerAlliance(A7[x],B7,ConvertAllianceType(6),false)
call SetPlayerAlliance(A7[x],B7,ConvertAllianceType(7),false)
call SetPlayerAlliance(B7,Z7[x],ConvertAllianceType(0),false)
call SetPlayerAlliance(B7,Z7[x],ConvertAllianceType(1),false)
call SetPlayerAlliance(B7,Z7[x],ConvertAllianceType(2),false)
call SetPlayerAlliance(B7,Z7[x],ConvertAllianceType(3),false)
call SetPlayerAlliance(B7,Z7[x],ConvertAllianceType(4),false)
call SetPlayerAlliance(B7,Z7[x],ConvertAllianceType(5),false)
call SetPlayerAlliance(B7,Z7[x],ConvertAllianceType(6),false)
call SetPlayerAlliance(B7,Z7[x],ConvertAllianceType(7),false)
call SetPlayerAlliance(B7,A7[x],ConvertAllianceType(0),false)
call SetPlayerAlliance(B7,A7[x],ConvertAllianceType(1),false)
call SetPlayerAlliance(B7,A7[x],ConvertAllianceType(2),false)
call SetPlayerAlliance(B7,A7[x],ConvertAllianceType(3),false)
call SetPlayerAlliance(B7,A7[x],ConvertAllianceType(4),false)
call SetPlayerAlliance(B7,A7[x],ConvertAllianceType(5),false)
call SetPlayerAlliance(B7,A7[x],ConvertAllianceType(6),false)
call SetPlayerAlliance(B7,A7[x],ConvertAllianceType(7),false)
set x=x+1
endloop
endfunction
function OF9 takes nothing returns boolean
return NP9(GetTriggerUnit())
endfunction
function OG9 takes nothing returns nothing
call O89(GetTriggerUnit())
endfunction
function OH9 takes nothing returns nothing
local trigger t
if not V8 then
return
endif
call OD9()
call OE9()
set t=CreateTrigger()
call TriggerRegisterEnterRectSimple(t,GetWorldBounds())
call TriggerAddCondition(t,Condition(function OF9))
call TriggerAddAction(t,function OG9)
set t=null
endfunction
function OI9 takes nothing returns nothing
call RemoveUnit(UE7(GetHandleId(GetTriggerUnit()),"Locust"))
endfunction
function OJ9 takes nothing returns nothing
local group g
local unit S4
local unit OK9
local trigger t
local integer i
set t=CreateTrigger()
call TriggerAddAction(t,function OI9)
set g=CA7()
call GroupEnumUnitsOfPlayer(g,Z7[0],Condition(function ZY7))
loop
set S4=FirstOfGroup(g)
exitwhen S4==null
call GroupRemoveUnit(g,S4)
if GetUnitAbilityLevel(S4,1097102451)>0 or GetUnitAbilityLevel(S4,1098150517)>0 then
call TriggerRegisterUnitEvent(t,S4,EVENT_UNIT_DEATH)
set OK9=CreateUnit(Z7[1],(1966092354),-5000,-5100,0)
call SetUnitScale(OK9,0,0,0)
call SetUnitPathing(OK9,false)
call SetUnitInvulnerable(OK9,true)
call SetUnitX(OK9,GetUnitX(S4))
call SetUnitY(OK9,GetUnitY(S4))
call TX7(GetHandleId(S4),"Locust",OK9)
endif
endloop
call CZ7(g)
set g=CA7()
call GroupEnumUnitsOfPlayer(g,A7[0],Condition(function ZY7))
loop
set S4=FirstOfGroup(g)
exitwhen S4==null
call GroupRemoveUnit(g,S4)
if GetUnitAbilityLevel(S4,1097102451)>0 or GetUnitAbilityLevel(S4,1098150517)>0 then
call TriggerRegisterUnitEvent(t,S4,EVENT_UNIT_DEATH)
set OK9=CreateUnit(A7[1],(1966092354),3400,4400,0)
call SetUnitScale(OK9,0,0,0)
call SetUnitPathing(OK9,false)
call SetUnitInvulnerable(OK9,true)
call SetUnitX(OK9,GetUnitX(S4))
call SetUnitY(OK9,GetUnitY(S4))
call TX7(GetHandleId(S4),"Locust",OK9)
endif
endloop
call CZ7(g)
set t=null
set OK9=null
set S4=null
set g=null
endfunction
function OM9 takes nothing returns nothing
if V8 then
set NK4=CreateTrigger()
call TriggerRegisterTimerEvent(NK4,1.,true)
call TriggerAddAction(NK4,function AA8)
endif
endfunction
function ON9 takes nothing returns boolean
call U37(GetTriggeringTrigger())
call TriggerEvaluate(MS)
return false
endfunction
function OO9 takes nothing returns boolean
local real r=TimerGetRemaining(Q84)
local real DM9=r
local integer D5=R2I(DM9)
local integer DC9=D5/ 60-1/ 2
local integer D39=ModuloInteger(D5,60)
local trigger t
if r==0 then
set Y04=true
call IM8("GameStart",1)
call DB9(DC9,D39,true)
set N54=true
set M_4=TimerGetElapsed(W)
call U37(GetTriggeringTrigger())
set IW4=Rect(-7040,-7680,7040,7168)
call SetFloatGameState(GAME_STATE_TIME_OF_DAY,6.00)
call SuspendTimeOfDay(false)
call SetTimeOfDayScale(0.625)
if A4==false then
if DT then
call TriggerRegisterTimerEvent(H04,120.,true)
else
call TriggerRegisterTimerEvent(H04,120.,true)
endif
call TriggerEvaluate(H04)
endif
call TriggerRegisterTimerEvent(MS,60.,true)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,30.,false)
call TriggerAddCondition(t,Condition(function ON9))
set t=null
call TriggerRegisterTimerEventPeriodic(JS,30.00)
call TriggerExecute(JS)
call TriggerRegisterTimerEventPeriodic(KS,450.00)
call TriggerRegisterTimerEventSingle(GS,2699.00)
call TriggerRegisterTimerEventSingle(HS,999.00)
call TriggerRegisterTimerEventSingle(HS,1999.00)
call TriggerRegisterTimerEventSingle(HS,2999.00)
call TriggerRegisterTimerEvent(NZ4,300.,true)
call TriggerRegisterTimerEvent(OH4,300.,true)
call TriggerRegisterTimerEvent(U9,30.,true)
call TriggerEvaluate(U9)
if C4 then
call TriggerRegisterTimerEvent(OS,600.,true)
endif
elseif r==7 then
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,30.,true)
call TriggerAddCondition(t,Condition(function IM9))
elseif DM9<12 and QE4==false then
set QE4=true
call PlaySoundBJ(ZO)
call DB9(DC9,D39,true)
elseif DM9==20 then
if GetRandomInt(0,10)<6 then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,6,"|c006699CC"+GetObjectName(1848659015)+"|r")
endif
elseif DM9==30 then
else
call DB9(DC9,D39,true)
endif
return false
endfunction
function OP9 takes nothing returns nothing
local trigger t
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerAddCondition(t,Condition(function OO9))
set Q84=CreateTimer()
call TimerStart(Q84,QD4+1,false,null)
set t=null
set N44=TimerGetElapsed(W)+1
endfunction
function OQ9 takes nothing returns boolean
if GetOwningPlayer(GetTriggerUnit())!=Z7[0]and GetOwningPlayer(GetTriggerUnit())!=A7[0]then
set PT[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=PT[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1
if GetIssuedOrderId()!=OrderId("attack")then
set nb[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(TimerGetElapsed(W))
set QT[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=false
endif
if(GetIssuedOrderId()==OrderId("attack")or GetIssuedOrderId()==851971)and GetOrderTargetItem()!=null then
if GetIssuedOrderId()==OrderId("attack")or(GetIssuedOrderId()==851971 and US7(GetHandleId(GetItemPlayer(GetOrderTargetItem())),"DisableHelp")==true)then
if GetItemPlayer(GetOrderTargetItem())!=GetOwningPlayer(GetTriggerUnit())and IsPointInRegion(Ew,GetItemX(GetOrderTargetItem()),GetItemY(GetOrderTargetItem()))==true then
call DisableTrigger(GetTriggeringTrigger())
call RU7(GetTriggerUnit())
call D78(GetOwningPlayer(GetTriggerUnit()),(GetObjectName((1848657719))))
call EnableTrigger(GetTriggeringTrigger())
endif
endif
endif
endif
return false
endfunction
function OR9 takes nothing returns nothing
local string OS9=StringCase(GetEventPlayerChatString(),false)
local boolean OT9=OS9=="-random" or OS9=="-random int" or OS9=="-random agi" or OS9=="-random str"
local boolean OU9=OS9=="-repick"
local boolean OV9=OS9=="-gameinfo"
local boolean OW9=SubString(OS9,0,5)=="-swap"
local boolean OX9=OS9=="-recreate"
local boolean OY9=OS9=="-unstuck"
local boolean OZ9=OS9=="-matchup" or OS9=="-ma"
local boolean OA9=OS9=="-movespeed" or OS9=="-ms"
local boolean OB9=OS9=="-msa"
local boolean OC9=OS9=="-disablehelp"
local boolean O39=OS9=="-enablehelp"
local boolean O69=OS9=="-creepstats" or OS9=="-cs"
local boolean OL9=OS9=="-cson" or OS9=="-csoff"
local boolean O19=OS9=="-hidemsg"
local boolean O09=OS9=="-showmsg"
local boolean O59=OS9=="-weather snow" or OS9=="-weather rain" or OS9=="-weather off" or OS9=="-weather random" or OS9=="-weather wind" or OS9=="-weather moonlight"
local boolean O29=OS9=="-showdeny" or OS9=="-hidedeny"
local boolean O_9=OS9=="-denyinfo" or OS9=="-di"
local boolean P49=OS9=="-don" or OS9=="-deathon" or OS9=="-doff" or OS9=="-deathoff"
local boolean P79=SubString(OS9,0,5)=="-roll" and OS9!="-rollhero"
local boolean P89=OS9=="-hhn" or OS9=="-hideheronames"
local boolean P99=OS9=="-mute"
local boolean PD9=OS9=="-apm"
local boolean PE9=OS9=="-clear"
local boolean PF9=OS9=="-courier"
local boolean PG9=OS9=="-invokelist" or OS9=="-il"
local boolean bListCommand=OS9=="-list"
local boolean PH9=OS9=="-rolloff"
local boolean PI9=OS9=="-rollon"
local boolean PJ9=SubString(OS9,0,6)=="-music"
local boolean PK9=SubString(OS9,0,6)=="-water"
local boolean PM9=SubString(OS9,0,6)=="-quote"
local boolean PN9=SubString(OS9,0,3)=="-cm"
local boolean PO9=SubString(OS9,0,9)=="-itemswap"
local boolean PP9=OS9=="-bonus"
local boolean PQ9=OS9=="-rollhero" or OS9=="-rh"
local boolean PR9=SubString(OS9,0,9)=="-rickroll"
local boolean NoSwitch=OS9=="-noswitch"
local boolean Switch=SubString(OS9,0,7)=="-switch"or OS9=="-ok"or OS9=="-no"
local boolean Terrain=OS9=="-terrain" or OS9=="-terrain default" or OS9=="-terrain snow"
local boolean PS9=OS9=="-tips"
local boolean PT9=OS9=="-ii" or OS9=="-iteminfo"
local boolean QP7=OS9=="-center" or OS9=="-centeroff" or OS9=="-c" or OS9=="-co"
local boolean Unlock=OS9=="-unlock"
local boolean PU9=OS9=="-disableselection"or OS9=="-ds"
local boolean PV9=OS9=="-enableselection"or OS9=="-es"
local boolean PW9=OS9=="-sleep"
local boolean PX9=OS9=="-calm"
local boolean DP9=OS9=="-st"
local boolean NoHat=OS9=="-nosanta"
local boolean PY9=SubString(OS9,0,10)=="-aiunstuck"
local boolean PZ9=StringLength(OS9)>3 and SubString(OS9,0,3)=="-cs"
local boolean PA9=StringLength(OS9)>3 and SubString(OS9,0,3)=="-ms"
local boolean PB9=OS9=="-aid"
local boolean PC9=OS9=="-override"
local boolean P39=OS9=="-formless"
local boolean P69=OS9=="-bastion"
local boolean PL9=OS9=="-aimsg"
local boolean P19=OS9=="-aimsgmiss"
local boolean P09=(OS9=="-aiboard")
local boolean P59=OS9=="-aiglyph"
local boolean P29=((OS9=="-aishowde")or(OS9=="-aishowdg")or(OS9=="-aishowdedg")or(OS9=="-aishowdynamic"))
call D98("P_9",OT9)
call D98("Q49",OU9)
call D98("Q79",OV9)
call D98("Q89",OW9)
call D98("Q99",OX9)
call D98("QD9",OY9)
call D98("QE9",OZ9)
call D98("QF9",OA9)
call D98("QG9",OB9)
call D98("QH9",OC9)
call D98("QI9",O39)
call D98("QJ9",O69)
call D98("QK9",OL9)
call D98("QM9",O19)
call D98("QN9",O09)
call D98("QO9",O59)
call D98("QP9",O29)
call D98("QQ9",O_9)
call D98("QR9",P49)
call D98("QS9",P79)
call D98("QT9",P89)
call D98("QU9",P99)
call D98("QV9",PD9)
call D98("QW9",PE9)
call D98("QX9",PF9)
call D98("QY9",PG9)
call D98("QZ9",PH9)
call D98("QA9",PI9)
call D98("QB9",PJ9)
call D98("QC9",PK9)
call D98("Q39",PM9)
call D98("Q69",PN9)
call D98("QL9",PO9)
call D98("Q19",PP9)
call D98("Q09",PQ9)
call D98("Q59",PR9)
call D98("Q29",PT9)
call D98("Q_9",PS9)
call D98("R49",QP7)
call D98("R79",PU9)
call D98("R89",PV9)
call D98("R99",PW9)
call D98("RD9",DP9)
call D98("RE9",PX9)
call D98("RF9",PZ9)
call D98("RG9",PA9)
call D98("RH9",PB9)
call D98("RI9",PY9)
call D98("RJ9",PC9)
call D98("RK9",P39)
call D98("RM9",P69)
call D98("RN9",PL9)
call D98("RO9",P19)
call D98("RP9",P09)
call D98("RQ9",P59)
call D98("RR9",P29)
endfunction
function RN9 takes nothing returns nothing
local integer O5=GetPlayerId(GetTriggerPlayer())
set DQ7[O5]=(not DQ7[O5])
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,GetObjectName(1496332599)+PC7(DQ7[O5],GetObjectName(1496403790),GetObjectName(1498369862)))
endfunction
function RO9 takes nothing returns nothing
local integer O5=GetPlayerId(GetTriggerPlayer())
set DQ7[16+O5]=(not DQ7[16+O5])
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,GetObjectName(1496332598)+PC7(DQ7[16+O5],GetObjectName(1496403790),GetObjectName(1498369862)))
if(DQ7[16+O5])and(not DQ7[O5])then
call RN9()
endif
endfunction
function RS9 takes player p returns nothing
local integer O5=GetPlayerId(p)
if p==QT4 then
set FM7=not FM7
call DisplayTimedTextToForce(X7,10.,GetObjectName(1496332597)+PC7(FM7,GetObjectName(1496403790),GetObjectName(1498369862)))
if not FM7 then
call DisplayTimedTextToForce(X7,10.,GetObjectName(1496332080))
endif
call DisplayTimedTextToForce(X7,10.," ")
elseif p==QU4 then
set FN7=not FN7
call DisplayTimedTextToForce(Y7,10.,GetObjectName(1496332597)+PC7(FN7,GetObjectName(1496403790),GetObjectName(1498369862)))
if not FN7 then
call DisplayTimedTextToForce(Y7,10.,GetObjectName(1496332080))
endif
call DisplayTimedTextToForce(Y7,10.," ")
endif
set p=null
endfunction
function RQ9 takes nothing returns nothing
call RS9(GetTriggerPlayer())
endfunction
function Q59 takes nothing returns nothing
local integer a=S2I(SubString(GetEventPlayerChatString(),10,StringLength(GetEventPlayerChatString())))
local integer D5=GetPlayerId(GetTriggerPlayer())
set Rw[D5]=Rw[D5]+1
if Rw[D5]>10 then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,(GetObjectName((1848656977))))
return
endif
if a<1 or a>8 then
set a=GetRandomInt(1,8)
endif
if a==1 then
call BL7(L8,5,Q[GetPlayerId(GetTriggerPlayer())]+(KZ4[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna give you up")
elseif a==2 then
call BL7(L8,5,Q[GetPlayerId(GetTriggerPlayer())]+(KZ4[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna let you down")
elseif a==3 then
call BL7(L8,5,Q[GetPlayerId(GetTriggerPlayer())]+(KZ4[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna run around")
elseif a==4 then
call BL7(L8,5,Q[GetPlayerId(GetTriggerPlayer())]+(KZ4[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna desert you")
elseif a==5 then
call BL7(L8,5,Q[GetPlayerId(GetTriggerPlayer())]+(KZ4[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna make you cry")
elseif a==6 then
call BL7(L8,5,Q[GetPlayerId(GetTriggerPlayer())]+(KZ4[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna say goodbye")
elseif a==7 then
call BL7(L8,5,Q[GetPlayerId(GetTriggerPlayer())]+(KZ4[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna tell a lie")
elseif a==8 then
call BL7(L8,5,Q[GetPlayerId(GetTriggerPlayer())]+(KZ4[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna hurt you")
endif
endfunction
function RT9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
set t=null
return false
endfunction
function R99 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=M7[GetPlayerId(GetTriggerPlayer())]
call SaveEffectHandle(L7,(OL7),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\Sleep\\SleepTarget.mdl",EL8,"overhead")))
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_ISSUED_ORDER)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_ISSUED_TARGET_ORDER)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_ISSUED_POINT_ORDER)
call TriggerAddCondition(t,Condition(function RT9))
call SetUnitAnimation(EL8,"sleep")
set t=null
set EL8=null
endfunction
function RE9 takes nothing returns nothing
call SetUnitAnimationByIndex(M7[GetPlayerId(GetTriggerPlayer())],23)
endfunction
function Command_NoHat takes nothing returns nothing
endfunction
function Q_9 takes nothing returns nothing
if RT[GetPlayerId(GetTriggerPlayer())]==false then
set RT[GetPlayerId(GetTriggerPlayer())]=true
if(GetObjectName((1848657992)))=="Language: English" then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,"You have activated the -tips system.")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,"Please remember that these are just introductory recommendations and are not the only way to play heroes.")
endif
if M7[GetPlayerId(GetTriggerPlayer())]!=null then
call HV8(GetTriggerPlayer(),GetUnitPointValue(M7[GetPlayerId(GetTriggerPlayer())]))
endif
endif
endfunction
function RU9 takes nothing returns boolean
if F9==false then
return false
endif
if W4[GetPlayerId(lx)]==true then
return false
endif
if P==false then
return false
endif
if M7[GetPlayerId(lx)]!=null and O9==false then
return false
endif
if I[GetPlayerId(lx)]==true then
return false
endif
if P9[GetPlayerId(lx)]and O9==false then
return false
endif
if O9 and eo[GetPlayerId(lx)]then
return false
endif
if(lx==QT4 and QV4!=null)or(lx==QU4 and QW4!=null)then
call DisplayTimedTextToPlayer(lx,0,E9,10,"Cannot random when manual picking.")
return false
endif
return true
endfunction
function RV9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local player p=UG7(UL7,"p")
local string RW9=UT7(UL7,"string")
set lx=p
if RU9()then
set W4[GetPlayerId(p)]=true
if RW9=="-random int" then
call BR7(p)
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)-100)
elseif RW9=="-random str" then
call BV7(p)
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)-100)
elseif RW9=="-random agi" then
call BW7(p)
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)-100)
else
call BX7(p)
endif
else
call DisplayTimedTextToPlayer(p,0,E9,10,(GetObjectName((1848653625))))
endif
set t=null
set p=null
return false
endfunction
function P_9 takes nothing returns nothing
local player j8=GetTriggerPlayer()
local trigger t
set lx=j8
if RU9()and oo[GetPlayerId(j8)]==false then
set oo[GetPlayerId(j8)]=true
call AC7(j8)
call DisplayTimedTextToPlayer(j8,0,E9,10,(GetObjectName((1848653633))))
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,6.,false)
call TriggerAddCondition(t,Condition(function RV9))
call T37(GetHandleId(t),"p",j8)
call TV7(GetHandleId(t),"string",StringCase(GetEventPlayerChatString(),false))
endif
set t=null
endfunction
function RX9 takes nothing returns boolean
local unit CR7=M7[GetPlayerId(GetTriggerPlayer())]
if PJ4 then
call D78(GetTriggerPlayer(),(GetObjectName((1848652592))))
return false
endif
if G9==false then
if VT==false and A8==false and O04==false and O54==false and P74==false and P84==false and O9==false and W8==false then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,"-repick "+(GetObjectName((1848653122))))
endif
return false
endif
if(I[GetPlayerId(GetTriggerPlayer())]==true)then
return false
endif
if(M7[GetPlayerId(GetTriggerPlayer())]==null)then
return false
endif
if D4 or A8 or O9 or RZ4 then
return false
endif
if(T9==true)then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848653104))))
return false
endif
if(GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)<X4)then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848653113))))
return false
endif
if GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)<350 and P4 or Y8 then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848653141))))
return false
endif
if GetUnitState(CR7,UNIT_STATE_MANA)!=GetUnitState(CR7,UNIT_STATE_MAX_MANA)or GetUnitState(CR7,UNIT_STATE_LIFE)!=GetUnitState(CR7,UNIT_STATE_MAX_LIFE)then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848653130))))
return false
endif
return true
endfunction
function RY9 takes nothing returns nothing
if(IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true)then
if(GetUnitTypeId(GetEnumUnit())==1429221430)then
call ExecuteFunc("CX8")
elseif GetUnitTypeId(GetEnumUnit())==1429221432 or GetUnitTypeId(GetEnumUnit())==1160786229 then
set IT4=GetEnumUnit()
call ExecuteFunc("LS8")
endif
call BL7(M4(GetTriggerPlayer()),10.00,(GetObjectName((1848653132)))+" "+CI7(GetEnumUnit())+".")
endif
if(GetUnitTypeId(GetEnumUnit())==1848651828)then
call RemoveUnit(GetEnumUnit())
endif
if(GetUnitTypeId(GetEnumUnit())==1848652088)then
call RemoveUnit(GetEnumUnit())
endif
if(GetUnitTypeId(GetEnumUnit())==1848652099)then
call RemoveUnit(GetEnumUnit())
endif
if(GetUnitTypeId(GetEnumUnit())==1848652103)then
call RemoveUnit(GetEnumUnit())
endif
endfunction
function RZ9 takes nothing returns nothing
local player j8=GetTriggerPlayer()
local group I68=CA7()
local integer BS7
local integer BT7
local location BU7
local integer B47
local integer T8
local integer U8
local unit RA9
local location I28=GetRectCenter(pr)
local location I_8=GetRectCenter(qr)
set bj_groupEnumOwningPlayer=j8
call GroupEnumUnitsInRect(I68,GetWorldBounds(),filterGetUnitsInRectOfPlayer)
if(ZL7(j8)==true)then
set BS7=KL4
set BT7=K14
set BU7=GetRectCenter(HD)
else
set BS7=K04
set BT7=K54
set BU7=GetRectCenter(GD)
endif
if E4 then
if(GetRandomInt(1,2)==1)then
set BS7=KL4
set BT7=K14
else
set BS7=K04
set BT7=K54
endif
endif
if P4 or Y8 then
set X4=100
endif
set RA9=UE7(GetHandleId(GetTriggerPlayer()),"ChargeUnit")
if RA9!=null and GetUnitTypeId(RA9)==1697656899 then
call RemoveUnit(RA9)
set RA9=null
endif
call AdjustPlayerStateBJ(-1*X4,j8,PLAYER_STATE_RESOURCE_GOLD)
set I[GetPlayerId(j8)]=true
call ForGroup(I68,function RY9)
call DO8(M7[GetPlayerId(j8)])
set M7[GetPlayerId(GetTriggerPlayer())]=null
if P4 or Y8 then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,60,(GetObjectName((1311782233))))
if P4 then
set T8=KL4
set U8=K54
endif
if ZL7(j8)then
if Y8 then
set T8=KL4
set U8=K14
call CreateUnitAtLoc(j8,1848651843,I28,bj_UNIT_FACING)
else
call CreateUnitAtLoc(j8,1848651843,I28,bj_UNIT_FACING)
call CreateUnitAtLoc(j8,1848651843,I_8,bj_UNIT_FACING)
endif
call PanCameraToTimedLocForPlayer(j8,I28,0)
else
if Y8 then
set T8=K04
set U8=K54
call CreateUnitAtLoc(j8,1848651843,I_8,bj_UNIT_FACING)
else
call CreateUnitAtLoc(j8,1848651843,I28,bj_UNIT_FACING)
call CreateUnitAtLoc(j8,1848651843,I_8,bj_UNIT_FACING)
endif
call PanCameraToTimedLocForPlayer(j8,I_8,0)
endif
loop
exitwhen T8>U8
if J[T8]==false then
call SetPlayerTechMaxAllowed(j8,K34[T8],1)
endif
set T8=T8+1
endloop
call CZ7(I68)
set I68=null
call RemoveLocation(BU7)
set BU7=null
call RemoveLocation(I28)
set I28=null
call RemoveLocation(I_8)
set I_8=null
return
endif
loop
set B47=GetRandomInt(BS7,BT7)
if(J[B47]==false)then
set J[B47]=true
set M7[GetPlayerId(j8)]=CreateUnitAtLoc(j8,K34[B47],BU7,bj_UNIT_FACING)
call AB7(K34[B47])
endif
exitwhen M7[GetPlayerId(GetTriggerPlayer())]!=null
endloop
call CZ7(I68)
set I68=null
call RemoveLocation(BU7)
set BU7=null
call RemoveLocation(I28)
set I28=null
call RemoveLocation(I_8)
set I_8=null
endfunction
function Q49 takes nothing returns nothing
if RX9()then
call RZ9()
endif
endfunction
function Q79 takes nothing returns nothing
local player j8=GetTriggerPlayer()
local string RB9="|c006699CC"
if P74 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RB9+"League Mode"+"|r:      "+(GetObjectName((1848653621))))
endif
if P84 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RB9+"Extended League"+"|r:      "+(GetObjectName((1848653634))))
call DisplayTimedTextToPlayer(j8,0,E9,20,"                                 "+(GetObjectName((1848653616))))
endif
if D4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RB9+"Death Match"+"|r:        "+(GetObjectName((1848653402))))
call DisplayTimedTextToPlayer(j8,0,E9,20,"                              "+(GetObjectName((1848653401)))+" "+I2S(DQ8(K14,K54-K04+1))+" "+(GetObjectName((1848653635))))
endif
if W8 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RB9+"Mirror Match"+"|r:       "+(GetObjectName((1848653399))))
endif
if P4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RB9+"All Pick"+"|r:                 "+(GetObjectName((1848653398))))
endif
if O04 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RB9+"Random Draft"+"|r:                 "+(GetObjectName((1848653618))))
endif
if VT then
call DisplayTimedTextToPlayer(j8,0,E9,20,RB9+"Single Draft"+"|r:                 "+(GetObjectName((1848653639))))
endif
if E4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RB9+"All Random"+"|r:          "+(GetObjectName((1848653617))))
endif
if A8 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RB9+"Vote Random"+"|r:         "+(GetObjectName((1848653620))))
endif
if O4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RB9+"Team Random"+"|r:     "+(GetObjectName((1848653389))))
endif
if O9 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RB9+"Reverse"+"|r:                 "+(GetObjectName((1848653619))))
endif
if ge then
call DisplayTimedTextToPlayer(j8,0,E9,20,RB9+"Shuffle Players"+"|r:     "+(GetObjectName((1848653640))))
endif
if Rx then
call DisplayTimedTextToPlayer(j8,0,E9,20,RB9+"All Agility"+"|r:             "+(GetObjectName((1848653644))))
endif
if bx then
call DisplayTimedTextToPlayer(j8,0,E9,20,RB9+"All Strength"+"|r:         "+(GetObjectName((1848653643))))
endif
if Nx then
call DisplayTimedTextToPlayer(j8,0,E9,20,RB9+"All Intelligence"+"|r:    "+(GetObjectName((1848653642))))
endif
if Jj then
call DisplayTimedTextToPlayer(j8,0,E9,20,RB9+"Range Only"+"|r:    "+(GetObjectName((1848657716))))
endif
if lj then
call DisplayTimedTextToPlayer(j8,0,E9,20,RB9+"Melee Only"+"|r:    "+(GetObjectName((1848657717))))
endif
if X8 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RB9+"Duplicate Mode"+"|r:   "+(GetObjectName((1848653641))))
endif
if R4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RB9+"Item Drop"+"|r:             "+(GetObjectName((1848653638))))
endif
if A4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RB9+"No Powerups"+"|r:        "+(GetObjectName((1848653645))))
endif
if C4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RB9+"Super Creeps"+"|r:        "+(GetObjectName((1848653646))))
call DisplayTimedTextToPlayer(j8,0,E9,20,"                             "+(GetObjectName((1848653647))))
endif
if Y4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RB9+"Easy Mode"+"|r:           "+(GetObjectName((1848653652))))
endif
if H34 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RB9+"Same Hero"+"|r:           "+(GetObjectName((1848653653)))+" "+(KZ4[GetPlayerId((Le))])+"|r"+" "+(GetObjectName((1848653655))))
endif
if PE4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RB9+"Only Mid"+"|r:           "+(GetObjectName((1848653872))))
endif
if PF4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RB9+"No Bot"+"|r:           "+(GetObjectName((1848653654))))
endif
if PG4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RB9+"No Mid"+"|r:           "+(GetObjectName((1848653651))))
endif
if PH4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RB9+"No Top"+"|r:           "+(GetObjectName((1848653650))))
endif
if PI4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RB9+"No Swap"+"|r:           "+(GetObjectName((1848653656))))
endif
if PJ4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RB9+"No Repick"+"|r:           "+(GetObjectName((1848653649))))
endif
if PK4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RB9+"Pool Mode"+"|r:           "+(GetObjectName((1848653657))))
endif
if PM4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RB9+"Observer Info"+"|r:           "+(GetObjectName((1848653658))))
endif
if bN then
call DisplayTimedTextToPlayer(j8,0,E9,20,RB9+"Mini Heroes"+"|r:           "+(GetObjectName((1848657219))))
endif
if LS then
call DisplayTimedTextToPlayer(j8,0,E9,20,RB9+"Fast Respawn"+"|r:           "+(GetObjectName((1848656976))))
endif
if SN4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RB9+"Captains Mode"+"|r:           "+(GetObjectName((1848657220))))
endif
if DT then
call DisplayTimedTextToPlayer(j8,0,E9,20,RB9+"Experimental Runes"+"|r:           "+(GetObjectName((1848657718))))
endif
if O54 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RB9+"Captains Draft"+"|r:           "+(GetObjectName((1848657734))))
endif
if Y8 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RB9+"Normal Mode"+"|r:        "+(GetObjectName((1848653648))))
endif
if ZT then
call DisplayTimedTextToPlayer(j8,0,E9,20,F57+"Super Tower|r:         Towers regenerates HP")
endif
if AT then
call DisplayTimedTextToPlayer(j8,0,E9,20,F57+"Modified Super Creeps|r:  An improved version of Super Creeps")
endif
if BT then
call DisplayTimedTextToPlayer(j8,0,E9,20,F57+"High Exp AI|r:            The AI has increased experience gain.")
endif
if LT then
call DisplayTimedTextToPlayer(j8,0,E9,20,F57+"Normal Exp AI|r:       The AI receives the default amount of experience.")
endif
if EU then
call DisplayTimedTextToPlayer(j8,0,E9,20,F57+"Dynamic Exp AI|r:       AI gets bonus exp rate on death or on a period without death/kill/assist. Bonus exp is reduced on kill/assist.")
endif
if CT then
call DisplayTimedTextToPlayer(j8,0,E9,20,F57+"High Gold AI|r:           The AI has increased gold gain.")
endif
if WT then
call DisplayTimedTextToPlayer(j8,0,E9,20,F57+"Normal Gold AI|r:      The AI receives the default amount of gold.")
endif
if FU then
call DisplayTimedTextToPlayer(j8,0,E9,20,F57+"Dynamic Gold AI|r:       AI gets bonus gold rate on death or on a period without death/kill/assist. Bonus gold rate reduced on kill/assist.")
endif
if ED7 then
call DisplayTimedTextToPlayer(j8,0,E9,20,F57+"Xtreme AI|r:          Increases bonuses from Dynamic Exp and Gold.")
endif
if T64 then
call DisplayTimedTextToPlayer(j8,0,E9,20,F57+"Cool Names|r:          The AI receives a random cool name.")
endif
if TL4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,F57+"All Dagon|r:          The AI receives random level Dagon at random times.")
endif
if XT then
call DisplayTimedTextToPlayer(j8,0,E9,20,F57+"No Necronomicon|r:    The AI will not build Necronomicon.")
endif
endfunction
function P5 takes nothing returns nothing
if((GetUnitTypeId(GetEnumUnit())==1848651828)or(GetUnitTypeId(GetEnumUnit())==1865429043))then
call RemoveUnit(GetEnumUnit())
endif
endfunction
function RC9 takes unit u1,unit u2 returns nothing
local player R39=GetOwningPlayer(u1)
local player R69=GetOwningPlayer(u2)
local unit RL9=CreateUnit(R39,1697657158,0,0,0)
local group g
local item R19
local integer R09
set R09=VG4[GetPlayerId(R39)]
set VG4[GetPlayerId(R39)]=VG4[GetPlayerId(R69)]
set VG4[GetPlayerId(R69)]=R09
call DisableTrigger(H94)
if GetUnitAbilityLevel(u1,1093677893)>0 then
set B2=u1
set C2=u2
call ExecuteFunc("R59")
elseif GetUnitAbilityLevel(u2,1093677893)>0 then
set B2=u2
set C2=u1
call ExecuteFunc("R59")
endif
if GetUnitAbilityLevel(u1,1093682009)>0 then
set B2=u1
set C2=u2
call ExecuteFunc("R29")
elseif GetUnitAbilityLevel(u2,1093682009)>0 then
set B2=u2
set C2=u1
call ExecuteFunc("R29")
endif
if GetUnitAbilityLevel(u1,1093743444)>0 then
set B2=u1
set C2=u2
call ExecuteFunc("R_9")
elseif GetUnitAbilityLevel(u2,1093743444)>0 then
set B2=u2
set C2=u1
call ExecuteFunc("R_9")
endif
call TQ7(StringHash("SwapHero|"+I2S(GetPlayerId(GetOwningPlayer(u1)))))
call TQ7(StringHash("SwapHero|"+I2S(GetPlayerId(GetOwningPlayer(u2)))))
set g=CA7()
set bj_groupEnumOwningPlayer=R39
call GroupEnumUnitsInRect(g,GetWorldBounds(),filterGetUnitsInRectOfPlayer)
call ForGroup(g,function P5)
call CZ7(g)
set g=CA7()
set bj_groupEnumOwningPlayer=R69
call GroupEnumUnitsInRect(g,GetWorldBounds(),filterGetUnitsInRectOfPlayer)
call ForGroup(g,function P5)
call CZ7(g)
call SetUnitOwner(u2,R39,true)
call SetUnitOwner(u1,R69,true)
set M7[GetPlayerId(R39)]=u2
set M7[GetPlayerId(R69)]=u1
if Z27(R39)then
call SetPlayerName(R39,B37(R39))
else
call SetPlayerName(R39,B37(R39)+" ("+CI7(M7[GetPlayerId(R39)])+")")
endif
if Z27(R69)then
call SetPlayerName(R69,B37(R69))
else
call SetPlayerName(R69,B37(R69)+" ("+CI7(M7[GetPlayerId(R69)])+")")
endif
call UnitAddItem(RL9,UnitItemInSlot(u2,0))
call UnitAddItem(RL9,UnitItemInSlot(u2,1))
call UnitAddItem(RL9,UnitItemInSlot(u2,2))
call UnitAddItem(RL9,UnitItemInSlot(u2,3))
call UnitAddItem(RL9,UnitItemInSlot(u2,4))
call UnitAddItem(RL9,UnitItemInSlot(u2,5))
set R19=UnitItemInSlot(u1,0)
if R19!=null then
call SetItemPlayer(R19,R39,false)
call SetItemUserData(R19,1)
call UnitAddItem(u2,R19)
endif
set R19=UnitItemInSlot(u1,1)
if R19!=null then
call SetItemPlayer(R19,R39,false)
call SetItemUserData(R19,1)
call UnitAddItem(u2,R19)
endif
set R19=UnitItemInSlot(u1,2)
if R19!=null then
call SetItemPlayer(R19,R39,false)
call SetItemUserData(R19,1)
call UnitAddItem(u2,R19)
endif
set R19=UnitItemInSlot(u1,3)
if R19!=null then
call SetItemPlayer(R19,R39,false)
call SetItemUserData(R19,1)
call UnitAddItem(u2,R19)
endif
set R19=UnitItemInSlot(u1,4)
if R19!=null then
call SetItemPlayer(R19,R39,false)
call SetItemUserData(R19,1)
call UnitAddItem(u2,R19)
endif
set R19=UnitItemInSlot(u1,5)
if R19!=null then
call SetItemPlayer(R19,R39,false)
call SetItemUserData(R19,1)
call UnitAddItem(u2,R19)
endif
set R19=UnitItemInSlot(RL9,0)
if R19!=null then
call SetItemPlayer(R19,R69,false)
call SetItemUserData(R19,1)
call UnitAddItem(u1,R19)
endif
set R19=UnitItemInSlot(RL9,1)
if R19!=null then
call SetItemPlayer(R19,R69,false)
call SetItemUserData(R19,1)
call UnitAddItem(u1,R19)
endif
set R19=UnitItemInSlot(RL9,2)
if R19!=null then
call SetItemPlayer(R19,R69,false)
call SetItemUserData(R19,1)
call UnitAddItem(u1,R19)
endif
set R19=UnitItemInSlot(RL9,3)
if R19!=null then
call SetItemPlayer(R19,R69,false)
call SetItemUserData(R19,1)
call UnitAddItem(u1,R19)
endif
set R19=UnitItemInSlot(RL9,4)
if R19!=null then
call SetItemPlayer(R19,R69,false)
call SetItemUserData(R19,1)
call UnitAddItem(u1,R19)
endif
set R19=UnitItemInSlot(RL9,5)
if R19!=null then
call SetItemPlayer(R19,R69,false)
call SetItemUserData(R19,1)
call UnitAddItem(u1,R19)
endif
call RemoveUnit(RL9)
call EnableTrigger(H94)
if(IsUnitType(u1,UNIT_TYPE_MELEE_ATTACKER)==true or GetUnitTypeId(u1)==1211119187)and SY7(u1,ZU[GB])!=null then
call UnitRemoveItem(u1,SY7(u1,ZU[GB]))
elseif(IsUnitType(u1,UNIT_TYPE_RANGED_ATTACKER)==true or GetUnitTypeId(u1)==1211119187)and SY7(u1,ZU[BA])!=null then
call UnitRemoveItem(u1,SY7(u1,ZU[BA]))
endif
if(IsUnitType(u2,UNIT_TYPE_MELEE_ATTACKER)==true or GetUnitTypeId(u1)==1211119187)and SY7(u2,ZU[GB])!=null then
call UnitRemoveItem(u1,SY7(u2,ZU[GB]))
elseif(IsUnitType(u2,UNIT_TYPE_RANGED_ATTACKER)==true or GetUnitTypeId(u1)==1211119187)and SY7(u2,ZU[BA])!=null then
call UnitRemoveItem(u1,SY7(u2,ZU[BA]))
endif
if GetUnitTypeId(u1)==1211119187 and SY7(u1,ZU[BA])!=null then
call UnitRemoveItem(u1,SY7(u1,ZU[BA]))
elseif GetUnitTypeId(u1)==1211119187 and SY7(u1,ZU[GB])!=null then
call UnitRemoveItem(u1,SY7(u1,ZU[GB]))
endif
if GetUnitTypeId(u2)==1211119187 and SY7(u2,ZU[BA])!=null then
call UnitRemoveItem(u2,SY7(u2,ZU[BA]))
elseif GetUnitTypeId(u2)==1211119187 and SY7(u2,ZU[GB])!=null then
call UnitRemoveItem(u2,SY7(u2,ZU[GB]))
endif
if(IsUnitType(u1,UNIT_TYPE_MELEE_ATTACKER)==true)and SY7(u1,ZU[DX4])!=null then
call UnitRemoveItem(u1,SY7(u1,ZU[DX4]))
elseif(IsUnitType(u1,UNIT_TYPE_RANGED_ATTACKER)==true)and SY7(u1,ZU[DW4])!=null then
call UnitRemoveItem(u1,SY7(u1,ZU[DW4]))
endif
if(IsUnitType(u2,UNIT_TYPE_MELEE_ATTACKER)==true)and SY7(u2,ZU[DX4])!=null then
call UnitRemoveItem(u1,SY7(u2,ZU[DX4]))
elseif(IsUnitType(u2,UNIT_TYPE_RANGED_ATTACKER)==true)and SY7(u2,ZU[DW4])!=null then
call UnitRemoveItem(u1,SY7(u2,ZU[DW4]))
endif
call ClearSelectionForPlayer(R39)
call SelectUnitAddForPlayer(u2,R39)
call ClearSelectionForPlayer(R69)
call SelectUnitAddForPlayer(u1,R69)
call TQ7(StringHash("SwapHero|"+I2S(GetPlayerId(R39))))
call TQ7(StringHash("SwapHero|"+I2S(GetPlayerId(R69))))
set IN4=u1
call ExecuteFunc("W08")
set IN4=u2
call ExecuteFunc("W08")
call H08(R39)
call H08(R69)
if(GetPlayerController(R69)==MAP_CONTROL_COMPUTER)then
call TX7(R44,"AIHSwap|U",u1)
call ExecuteFunc("Uf")
endif
set R39=null
set R69=null
set g=null
set RL9=null
set R19=null
endfunction
function yM takes unit u1,unit u2 returns boolean
return US7(StringHash("SwapHero|"+I2S(GetPlayerId(GetOwningPlayer(u2)))),I2S(GetUnitTypeId(u2))+"|"+I2S(GetUnitTypeId(u1)))
endfunction
function YL takes nothing returns nothing
call TQ7(StringHash("SwapHero|"+I2S(GetPlayerId(GetTriggerPlayer()))))
endfunction
function qA takes player p returns integer
local integer i=1
loop
exitwhen i>5
if Z7[i]==p or A7[i]==p then
return i
endif
set i=i+1
endloop
return-1
endfunction
function YT takes unit u1,unit u2 returns boolean
call TW7(StringHash("SwapHero|"+I2S(GetPlayerId(GetOwningPlayer(u1)))),I2S(GetUnitTypeId(u1))+"|"+I2S(GetUnitTypeId(u2)),true)
if yM(u1,u2)then
call RC9(u1,u2)
else
call DisplayTimedTextToPlayer(GetOwningPlayer(u1),0,E9,30,"  ")
call DisplayTimedTextToPlayer(GetOwningPlayer(u1),0,E9,30,"|cff99ccffYou have requested to swap with |r"+Q[GetPlayerId(GetOwningPlayer(u2))]+GetUnitName(u2)+"|r")
call DisplayTimedTextToPlayer(GetOwningPlayer(u1),0,E9,30,"  ")
if(GetPlayerController(GetOwningPlayer(u2))==MAP_CONTROL_USER)then
call DisplayTimedTextToPlayer(GetOwningPlayer(u2),0,E9,30,"  ")
call DisplayTimedTextToPlayer(GetOwningPlayer(u2),0,E9,30,"                         "+Q[GetPlayerId(GetOwningPlayer(u1))]+GetUnitName(u1)+"|r |cff99ccffwants to swap with you. Type|r |c00ff0303-swap "+I2S(qA(GetOwningPlayer(u1)))+"|r |cff99ccffto accept|r")
call DisplayTimedTextToPlayer(GetOwningPlayer(u2),0,E9,30,"  ")
else
if(GetHeroSkillPoints(u1)!=GetHeroLevel(u1))then
call DisplayTimedTextToPlayer(GetOwningPlayer(u1),0,E9,10,"
                |cff99ccffRequest to swap with |r"+Q[GetPlayerId(GetOwningPlayer(u2))]+GetUnitName(u2)+"|r rejected because you used a skill point")
elseif(Bz>QD4)then
call DisplayTimedTextToPlayer(GetOwningPlayer(u1),0,E9,10,"
                |cff99ccffRequest to swap with |r"+Q[GetPlayerId(GetOwningPlayer(u2))]+GetUnitName(u2)+"|r rejected because it is too late")
elseif((hG[GetPlayerId(GetOwningPlayer(u2))]>0)or(not SW7(u2)))then
call DisplayTimedTextToPlayer(GetOwningPlayer(u1),0,E9,10,"
                |cff99ccffRequest to swap with |r"+Q[GetPlayerId(GetOwningPlayer(u2))]+GetUnitName(u2)+"|r rejected because it already started its item build")
elseif(not SW7(u1))then
call DisplayTimedTextToPlayer(GetOwningPlayer(u1),0,E9,10,"
                |cff99ccffRequest to swap with |r"+Q[GetPlayerId(GetOwningPlayer(u2))]+GetUnitName(u2)+"|r rejected because you have an item")
else
call RC9(u1,u2)
endif
endif
endif
return false
endfunction
function YV takes nothing returns nothing
local integer i=S2I(SubString(GetEventPlayerChatString(),6,StringLength(GetEventPlayerChatString())))
if GetEventPlayerChatString()=="-swapall" then
set i=1
set IP4=M7[GetPlayerId(GetTriggerPlayer())]
loop
exitwhen i>5
if ZL7(GetTriggerPlayer())then
set IR4=Z7[i]
else
set IR4=A7[i]
endif
set IN4=M7[GetPlayerId(IR4)]
if not(IP4==null or GetOwningPlayer(IP4)!=GetTriggerPlayer()or IN4==null or GetOwningPlayer(IN4)!=IR4 or IR4==GetTriggerPlayer())then
if YT(IP4,IN4)then
return
endif
endif
set i=i+1
endloop
return
elseif i<1 or i>5 then
call D78(GetTriggerPlayer(),"Invalid swap selection")
return
endif
set IP4=M7[GetPlayerId(GetTriggerPlayer())]
if ZL7(GetTriggerPlayer())then
set IR4=Z7[i]
else
set IR4=A7[i]
endif
set IN4=M7[GetPlayerId(IR4)]
if IP4==null or GetOwningPlayer(IP4)!=GetTriggerPlayer()or IN4==null or GetOwningPlayer(IN4)!=IR4 or IR4==GetTriggerPlayer()then
call D78(GetTriggerPlayer(),"Invalid swap selection")
return
endif
call YT(IP4,IN4)
endfunction
function Y2 takes nothing returns nothing
local integer i
local player p
local unit u
local string s
if GetLocalPlayer()==GetTriggerPlayer()then
call ClearTextMessages()
endif
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,45,"|cff99ccffSwap Hero Options:|r")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,45," ")
set i=1
loop
exitwhen i>5
set p=Z7[i]
set u=M7[GetPlayerId(p)]
if IsPlayerAlly(GetTriggerPlayer(),p)and GetTriggerPlayer()!=p and u!=null and GetOwningPlayer(u)==p then
set s=" "
if yM(M7[GetPlayerId(GetTriggerPlayer())],u)then
set s=" |c00ff0303(Requested Swap With You)|r"
endif
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,45,Q[GetPlayerId(p)]+I2S(i)+"|r"+" - "+"|cff99ccff"+GetUnitName(u)+"|r"+s)
endif
set p=A7[i]
set u=M7[GetPlayerId(p)]
if IsPlayerAlly(GetTriggerPlayer(),p)and GetTriggerPlayer()!=p and u!=null and GetOwningPlayer(u)==p then
set s=" "
if yM(M7[GetPlayerId(GetTriggerPlayer())],u)then
set s=" |c00ff0303(Requested Swap With You)|r"
endif
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,45,Q[GetPlayerId(p)]+I2S(i)+"|r"+" - "+"|cff99ccff"+GetUnitName(u)+"|r"+s)
endif
set i=i+1
endloop
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,45," ")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,45,"|cff99ccffType|r |c00ff0303-swap #|r |cff99ccffto make a choice or -swapcancel to cancel swap requests|r")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,45," ")
endfunction
function S49 takes player OO7 returns boolean
local integer S79=1
local integer S89=0
loop
exitwhen S79>5
if ZL7(OO7)then
if M7[GetPlayerId(Z7[S79])]!=null and Z7[S79]!=OO7 and GetHeroLevel(M7[GetPlayerId(Z7[S79])])==1 then
set S89=S89+1
endif
else
if M7[GetPlayerId(A7[S79])]!=null and A7[S79]!=OO7 and GetHeroLevel(M7[GetPlayerId(A7[S79])])==1 then
set S89=S89+1
endif
endif
set S79=S79+1
endloop
if S89>0 then
return true
else
return false
endif
endfunction
function S99 takes nothing returns boolean
if PI4 then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,"-swaphero "+(GetObjectName((1848653880))))
return false
endif
if GetUnitState(M7[GetPlayerId(GetTriggerPlayer())],UNIT_STATE_LIFE)<1 then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848653894))))
return false
endif
if N54==true then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848653895)))+" -swaphero.")
return false
endif
if S49(GetTriggerPlayer())==false then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848653896))))
return false
endif
return true
endfunction
function Q89 takes nothing returns nothing
if S99()then
if GetEventPlayerChatString()=="-swap"or GetEventPlayerChatString()=="-swaphero"then
call Y2()
elseif GetEventPlayerChatString()=="-swapcancel"then
call YL()
else
call YV()
endif
endif
endfunction
function SD9 takes nothing returns boolean
return GetSpellAbilityId()==1093682761
endfunction
function SE9 takes integer o6,unit SF9,unit SG9 returns nothing
local integer T8=1
local integer U8=GetUnitAbilityLevel(SF9,o6)
loop
exitwhen T8>U8
call SelectHeroSkill(SG9,o6)
set T8=T8+1
endloop
endfunction
function SH9 takes nothing returns nothing
local integer T8
local integer U8
local unit S4
local location J89=GetUnitLoc(GetTriggerUnit())
set S4=CreateUnitAtLoc(GetOwningPlayer(GetTriggerUnit()),GetUnitTypeId(GetTriggerUnit()),J89,bj_UNIT_FACING)
call SetHeroXP(S4,GetHeroXP(GetTriggerUnit()),false)
set T8=1
set U8=GetUnitAbilityLevel(GetTriggerUnit(),1096904043)
loop
exitwhen T8>U8
call SelectHeroSkill(bj_lastCreatedUnit,1096904043)
set T8=T8+1
endloop
set T8=0
set U8=5
loop
exitwhen T8>U8
call UnitAddItem(S4,UnitItemInSlot(GetTriggerUnit(),T8))
set T8=T8+1
endloop
if(GetUnitTypeId(GetTriggerUnit())==1164277353)then
call SE9(1093815130,GetTriggerUnit(),S4)
call SE9(1093683252,GetTriggerUnit(),S4)
call SE9(1093751369,GetTriggerUnit(),S4)
call SE9(1093678929,GetTriggerUnit(),S4)
endif
if(GetUnitTypeId(GetTriggerUnit())==1429221432)then
call SE9(1093677892,GetTriggerUnit(),S4)
call SE9(1093677639,GetTriggerUnit(),S4)
call SE9(1093677893,GetTriggerUnit(),S4)
call SE9(1093679411,GetTriggerUnit(),S4)
endif
if(GetUnitTypeId(GetTriggerUnit())==1429221431)then
call SE9(1093682745,GetTriggerUnit(),S4)
call SE9(1093678681,GetTriggerUnit(),S4)
call SE9(1093677381,GetTriggerUnit(),S4)
call SE9(1093677624,GetTriggerUnit(),S4)
endif
if(GetUnitTypeId(GetTriggerUnit())==1215063922)then
call SE9(1093677895,GetTriggerUnit(),S4)
call SE9(1093677894,GetTriggerUnit(),S4)
call SE9(1093685043,GetTriggerUnit(),S4)
call SE9(1095068013,GetTriggerUnit(),S4)
endif
if(GetUnitTypeId(GetTriggerUnit())==1164666213)then
call SE9(1093677877,GetTriggerUnit(),S4)
call SE9(1093678679,GetTriggerUnit(),S4)
call SE9(1093678678,GetTriggerUnit(),S4)
call SE9(1093808454,GetTriggerUnit(),S4)
endif
call DO8(GetTriggerUnit())
call RemoveLocation(J89)
set J89=null
set M7[GetPlayerId(GetOwningPlayer(S4))]=S4
endfunction
function SI9 takes nothing returns boolean
local integer SJ9=GetUnitTypeId(M7[GetPlayerId(GetTriggerPlayer())])
return(SJ9==1429221432 or SJ9==1429221431 or SJ9==1215063922 or SJ9==1164277353 or SJ9==1164666213)and(RectContainsUnit(OD,M7[GetPlayerId(GetTriggerPlayer())])or RectContainsUnit(PD,M7[GetPlayerId(GetTriggerPlayer())]))
endfunction
function SK9 takes nothing returns nothing
local unit CR7=M7[GetPlayerId(GetTriggerPlayer())]
call UnitAddAbility(CR7,1093682761)
call IssueImmediateOrder(CR7,"chemicalrage")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,120.00,"|c00ff0303"+(GetObjectName((1848653897)))+" "+CI7(GetEnumUnit())+". "+(GetObjectName((1848653898)))+"|r")
endfunction
function Q99 takes nothing returns nothing
if SI9()then
call SK9()
endif
endfunction
function SM9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
local integer BD8=GetTriggerEvalCount(t)
local real x
local real y
if GetTriggerEventId()==EVENT_UNIT_DEATH or BD8>60 then
if UX7(CR7,"Frozen")==false then
if ZL7(GetOwningPlayer(CR7))then
set x=GetRectCenterX(ED)
set y=GetRectCenterY(ED)
else
set x=GetRectCenterX(L9)
set y=GetRectCenterY(L9)
endif
call SetUnitPosition(CR7,x,y)
call PauseUnit(CR7,false)
endif
call TQ7(UL7)
call U37(t)
else
call PauseUnit(CR7,true)
endif
set t=null
set CR7=null
return false
endfunction
function SN9 takes player p returns nothing
local unit CR7=M7[GetPlayerId(p)]
local trigger t
if LR7(CR7)==false then
set t=CreateTrigger()
call DisplayTimedTextToPlayer(p,0,E9,30.0,(GetObjectName((1848653899))))
call UnitRemoveBuffs(CR7,true,false)
call UnitRemoveAbility(CR7,1113815395)
call UnitRemoveAbility(CR7,1113815346)
call UnitRemoveAbility(CR7,1110454858)
call UnitRemoveAbility(CR7,1112896368)
call UnitRemoveAbility(CR7,1114993524)
call UnitRemoveAbility(CR7,1110454854)
call PauseUnit(CR7,true)
call TriggerRegisterTimerEvent(t,1.,true)
call TriggerRegisterUnitEvent(t,CR7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function SM9))
call TX7(GetHandleId(t),"Hero",CR7)
endif
set p=null
set CR7=null
set t=null
endfunction
function SO9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local player p=UG7(UL7,"p")
call TQ7(UL7)
call U37(t)
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
call SN9(p)
endif
set t=null
return false
endfunction
function QD9 takes nothing returns nothing
local player p=GetTriggerPlayer()
local unit CR7=M7[GetPlayerId(p)]
local trigger t
if LR7(CR7)==false then
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,3.5,false)
call TriggerRegisterUnitEvent(t,CR7,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function SO9))
call T37(GetHandleId(t),"p",p)
endif
set p=null
set CR7=null
set t=null
endfunction
function SP9 takes player p returns nothing
local unit CR7=M7[GetPlayerId(p)]
local trigger t
if LR7(CR7)==false then
set t=CreateTrigger()
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30.0,Q[GetPlayerId(p)]+GetPlayerName(p)+"|r is being unstuck. It will be sent to its base in 60 seconds.")
call UnitRemoveBuffs(CR7,true,false)
call UnitRemoveAbility(CR7,1113815395)
call UnitRemoveAbility(CR7,1113815346)
call UnitRemoveAbility(CR7,1110454858)
call UnitRemoveAbility(CR7,1112896368)
call UnitRemoveAbility(CR7,1114993524)
call UnitRemoveAbility(CR7,1110454854)
call PauseUnit(CR7,true)
call TriggerRegisterTimerEvent(t,1.,true)
call TriggerRegisterUnitEvent(t,CR7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function SM9))
call TX7(GetHandleId(t),"Hero",CR7)
endif
set p=null
set CR7=null
set t=null
endfunction
function RI9 takes nothing returns nothing
local string VH=GetEventPlayerChatString()
local player pl=S77(S2I(SubString(VH,10,StringLength(VH))))
if((pl!=null)and(Z_7(pl))and(IsPlayerInForce(pl,QX4)))then
if(M7[GetPlayerId(pl)]==null)then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,Q[GetPlayerId(pl)]+GetPlayerName(pl)+"|r has no Hero")
else
call SP9(pl)
endif
endif
set pl=null
endfunction
function SQ9 takes player p returns string
local string s=C9[GetPlayerId(p)]
if C9[GetPlayerId(p)]!="Here" then
return" |c00ff0303("+(GetObjectName((1848653881)))+" at "+SubString(s,10,StringLength(s))+"|c00ff0303)|r"
endif
return" "
endfunction
function QE9 takes nothing returns nothing
local integer T8=1
local integer U8=5
local integer D5
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,20," ")
if(Z17(GetTriggerPlayer())==true)then
loop
exitwhen T8>U8
set D5=GetPlayerId(Z7[T8])
if(M7[D5]!=null)then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,20,Q[D5]+(KZ4[GetPlayerId((Z7[T8]))])+"|r "+(GetObjectName((1848653901)))+" "+GetUnitName(M7[D5])+" ("+(GetObjectName((1848653900)))+" "+I2S(GetUnitLevel(M7[D5]))+")"+SQ9(Z7[T8]))
endif
set T8=T8+1
endloop
else
loop
exitwhen T8>U8
set D5=GetPlayerId(A7[T8])
if(M7[D5]!=null)then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,20,Q[D5]+(KZ4[GetPlayerId((A7[T8]))])+"|r "+(GetObjectName((1848653901)))+" "+GetUnitName(M7[D5])+" ("+(GetObjectName((1848653900)))+" "+I2S(GetUnitLevel(M7[D5]))+")"+SQ9(A7[T8]))
endif
set T8=T8+1
endloop
endif
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,20," ")
endfunction
function SR9 takes unit u returns boolean
return GetUnitTypeId(u)==1311781199 or GetUnitTypeId(u)==1311781171 or GetUnitTypeId(u)==1311781172 or GetUnitTypeId(u)==1311781173
endfunction
function SS9 takes unit u returns unit
local integer OL7=GetHandleId(GetOwningPlayer(u))
return(UE7(OL7,"MyBear"))
endfunction
function QF9 takes nothing returns nothing
local unit u
local integer i=0
if Y54 then
return
endif
if(M7[GetPlayerId(GetTriggerPlayer())]==null)then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,(GetObjectName((1848653889))))
else
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,GetUnitName(M7[GetPlayerId(GetTriggerPlayer())])+" "+(GetObjectName((1848653902)))+" "+I2S(R2I(0.5+GetUnitMoveSpeed(M7[GetPlayerId(GetTriggerPlayer())]))))
if SR9(M7[GetPlayerId(GetTriggerPlayer())])then
set u=SS9(M7[GetPlayerId(GetTriggerPlayer())])
if u!=null then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,GetUnitName(u)+" "+(GetObjectName((1848653902)))+" "+I2S(R2I(0.5+GetUnitMoveSpeed(u))))
endif
endif
endif
endfunction
function QG9 takes nothing returns nothing
local unit u
local integer i=0
if Y54 then
return
endif
if(M7[GetPlayerId(GetTriggerPlayer())]==null)then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,(GetObjectName((1848653889))))
else
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,GetUnitName(M7[GetPlayerId(GetTriggerPlayer())])+" "+(GetObjectName((1848653902)))+" "+I2S(R2I(0.5+GetUnitMoveSpeed(M7[GetPlayerId(GetTriggerPlayer())]))))
if SR9(M7[GetPlayerId(GetTriggerPlayer())])then
set u=SS9(M7[GetPlayerId(GetTriggerPlayer())])
if u!=null then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,GetUnitName(u)+" "+GetObjectName(1848653902)+" "+I2S(R2I(0.5+GetUnitMoveSpeed(u))))
endif
endif
endif
loop
exitwhen i>16
set u=M7[i]
if u!=null and u!=M7[GetPlayerId(GetTriggerPlayer())]and IsUnitAlly(u,GetTriggerPlayer())==true then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,GetUnitName(u)+" "+GetObjectName(1848653902)+" "+I2S(R2I(0.5+GetUnitMoveSpeed(u))))
endif
set i=i+1
endloop
endfunction
function QH9 takes nothing returns nothing
call TW7(GetHandleId(GetTriggerPlayer()),"DisableHelp",true)
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848653906))))
endfunction
function QI9 takes nothing returns nothing
call TW7(GetHandleId(GetTriggerPlayer()),"DisableHelp",false)
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848653903))))
endfunction
function QJ9 takes nothing returns nothing
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,"   "+(GetObjectName((1848653904)))+" "+I2S(T7[GetPlayerId(GetTriggerPlayer())])+" "+(GetObjectName((1848653905)))+" "+I2S(U7[GetPlayerId(GetTriggerPlayer())])+" "+(GetObjectName((1848653907)))+" "+I2S(MU[GetPlayerId(GetTriggerPlayer())]))
endfunction
function QK9 takes nothing returns nothing
local integer x=GetPlayerId(GetTriggerPlayer())
if(GetEventPlayerChatString()=="-cson")then
set AW[x]=true
set ob[x]=true
else
set AW[x]=false
set ob[x]=false
endif
call XE8()
endfunction
function ST9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local integer i=(LoadInteger(L7,(UL7),(34)))
local real x
local real y
if Ob[i]==false then
call FlushChildHashtable(L7,(UL7))
call U37(t)
elseif M7[i]!=null and LR7(M7[i])==false then
set x=GetUnitX(M7[i])
set y=GetUnitY(M7[i])
call PanCameraToTimedForPlayer(Player(i),x,y,0)
endif
set t=null
return false
endfunction
function R49 takes nothing returns nothing
local integer x=GetPlayerId(GetTriggerPlayer())
local trigger t
local integer UL7
local integer i
if Ob[x]==false and(GetEventPlayerChatString()=="-center" or GetEventPlayerChatString()=="-c")then
set Ob[x]=true
set t=CreateTrigger()
set UL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.01,true)
call TriggerAddCondition(t,Condition(function ST9))
call SaveInteger(L7,(UL7),(34),(x))
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName(1848658519))
elseif GetEventPlayerChatString()=="-centeroff" or GetEventPlayerChatString()=="-co" then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName(1848658520))
set Ob[x]=false
endif
endfunction
function R79 takes nothing returns nothing
set Ab[GetPlayerId(GetTriggerPlayer())]=false
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5,GetObjectName(1848658522))
endfunction
function R89 takes nothing returns nothing
set Ab[GetPlayerId(GetTriggerPlayer())]=true
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5,GetObjectName(1848658736))
endfunction
function qL takes nothing returns nothing
local integer i=1
local integer GP9
local integer Q27
loop
exitwhen i>5
set Q27=GetPlayerId(Z7[i])
set GP9=R2I(TimerGetRemaining(U[Q27]))
if GP9>0 and OL4[Q27]and P94==false and D9==false then
call PlayerSetLeaderboard(Z7[i],gm[Q27])
call LeaderboardDisplay(gm[Q27],true)
call LeaderboardSetLabel(gm[Q27],"   Respawn in "+I2S(GP9)+" seconds")
else
call LeaderboardDisplay(gm[Q27],false)
endif
set Q27=GetPlayerId(A7[i])
set GP9=R2I(TimerGetRemaining(U[Q27]))
if GP9>0 and OL4[Q27]and P94==false and D9==false then
call PlayerSetLeaderboard(A7[i],gm[Q27])
call LeaderboardDisplay(gm[Q27],true)
call LeaderboardSetLabel(gm[Q27],"   Respawn in "+I2S(GP9)+" seconds")
else
call LeaderboardDisplay(gm[Q27],false)
endif
set i=i+1
endloop
endfunction
function qM takes nothing returns nothing
local integer x=0
set x=x+1
set gm[GetPlayerId(Z7[x])]=CreateLeaderboard()
call PlayerSetLeaderboard(Z7[x],gm[GetPlayerId(Z7[x])])
call LeaderboardDisplay(gm[GetPlayerId(Z7[x])],false)
call LeaderboardSetLabel(gm[GetPlayerId(Z7[x])],"Respawn: ")
set gm[GetPlayerId(A7[x])]=CreateLeaderboard()
call PlayerSetLeaderboard(A7[x],gm[GetPlayerId(A7[x])])
call LeaderboardDisplay(gm[GetPlayerId(A7[x])],false)
call LeaderboardSetLabel(gm[GetPlayerId(A7[x])],"Respawn: ")
set x=x+1
set gm[GetPlayerId(Z7[x])]=CreateLeaderboard()
call PlayerSetLeaderboard(Z7[x],gm[GetPlayerId(Z7[x])])
call LeaderboardDisplay(gm[GetPlayerId(Z7[x])],false)
call LeaderboardSetLabel(gm[GetPlayerId(Z7[x])],"Respawn: ")
set gm[GetPlayerId(A7[x])]=CreateLeaderboard()
call PlayerSetLeaderboard(A7[x],gm[GetPlayerId(A7[x])])
call LeaderboardDisplay(gm[GetPlayerId(A7[x])],false)
call LeaderboardSetLabel(gm[GetPlayerId(A7[x])],"Respawn: ")
set x=x+1
set gm[GetPlayerId(Z7[x])]=CreateLeaderboard()
call PlayerSetLeaderboard(Z7[x],gm[GetPlayerId(Z7[x])])
call LeaderboardDisplay(gm[GetPlayerId(Z7[x])],false)
call LeaderboardSetLabel(gm[GetPlayerId(Z7[x])],"Respawn: ")
set gm[GetPlayerId(A7[x])]=CreateLeaderboard()
call PlayerSetLeaderboard(A7[x],gm[GetPlayerId(A7[x])])
call LeaderboardDisplay(gm[GetPlayerId(A7[x])],false)
call LeaderboardSetLabel(gm[GetPlayerId(A7[x])],"Respawn: ")
set x=x+1
set gm[GetPlayerId(Z7[x])]=CreateLeaderboard()
call PlayerSetLeaderboard(Z7[x],gm[GetPlayerId(Z7[x])])
call LeaderboardDisplay(gm[GetPlayerId(Z7[x])],false)
call LeaderboardSetLabel(gm[GetPlayerId(Z7[x])],"Respawn: ")
set gm[GetPlayerId(A7[x])]=CreateLeaderboard()
call PlayerSetLeaderboard(A7[x],gm[GetPlayerId(A7[x])])
call LeaderboardDisplay(gm[GetPlayerId(A7[x])],false)
call LeaderboardSetLabel(gm[GetPlayerId(A7[x])],"Respawn: ")
set x=x+1
set gm[GetPlayerId(Z7[x])]=CreateLeaderboard()
call PlayerSetLeaderboard(Z7[x],gm[GetPlayerId(Z7[x])])
call LeaderboardDisplay(gm[GetPlayerId(Z7[x])],false)
call LeaderboardSetLabel(gm[GetPlayerId(Z7[x])],"Respawn: ")
set gm[GetPlayerId(A7[x])]=CreateLeaderboard()
call PlayerSetLeaderboard(A7[x],gm[GetPlayerId(A7[x])])
call LeaderboardDisplay(gm[GetPlayerId(A7[x])],false)
call LeaderboardSetLabel(gm[GetPlayerId(A7[x])],"Respawn: ")
endfunction
function QR9 takes nothing returns nothing
local integer x=GetPlayerId(GetTriggerPlayer())
if GetEventPlayerChatString()=="-don" or GetEventPlayerChatString()=="-deathon" then
set OL4[x]=true
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848653911))))
else
set OL4[x]=false
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848653912))))
endif
endfunction
function SU9 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerAddAction(t,function qM)
call TriggerRegisterTimerEvent(t,.5,false)
set t=CreateTrigger()
call TriggerAddAction(t,function qL)
call TriggerRegisterTimerEvent(t,1.,true)
endfunction
function QP9 takes nothing returns nothing
if(GetEventPlayerChatString()=="-showdeny")then
set ob[GetPlayerId(GetTriggerPlayer())]=true
else
set ob[GetPlayerId(GetTriggerPlayer())]=false
endif
endfunction
function QQ9 takes nothing returns nothing
call D78(GetTriggerPlayer(),(GetObjectName((1848657991))))
endfunction
function SV9 takes nothing returns nothing
local integer i=0
loop
exitwhen i>16
set ob[i]=true
set AW[i]=true
set i=i+1
endloop
endfunction
function QM9 takes nothing returns nothing
call ForceRemovePlayer(L8,GetTriggerPlayer())
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848653909))))
endfunction
function QN9 takes nothing returns nothing
call ForceAddPlayer(L8,GetTriggerPlayer())
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848653914))))
endfunction
function qN takes nothing returns boolean
local integer x=GetRandomInt(1,4)
if x==1 then
set BW=bo
elseif x==2 then
set BW=Bo
elseif x==3 then
set BW=fL
elseif x==4 then
set BW=FL
endif
if cW[GetPlayerId(GetLocalPlayer())]then
call EnableWeatherEffect(bo,false)
call EnableWeatherEffect(Bo,false)
call EnableWeatherEffect(fL,false)
call EnableWeatherEffect(FL,false)
call EnableWeatherEffect(BW,true)
endif
return false
endfunction
function qo takes nothing returns nothing
local integer x=GetRandomInt(1,4)
local trigger t=CreateTrigger()
call TriggerRegisterTimerEvent(t,300.,true)
call TriggerAddCondition(t,Condition(function qN))
set cW[GetPlayerId(Z7[1])]=false
set cW[GetPlayerId(Z7[2])]=false
set cW[GetPlayerId(Z7[3])]=false
set cW[GetPlayerId(Z7[4])]=false
set cW[GetPlayerId(Z7[5])]=false
set cW[GetPlayerId(A7[1])]=false
set cW[GetPlayerId(A7[2])]=false
set cW[GetPlayerId(A7[3])]=false
set cW[GetPlayerId(A7[4])]=false
set cW[GetPlayerId(A7[5])]=false
if V8 then
set cW[GetPlayerId(KX4)]=false
set cW[GetPlayerId(KY4)]=false
endif
if x==1 then
set BW=bo
elseif x==2 then
set BW=Bo
elseif x==3 then
set BW=fL
elseif x==4 then
set BW=FL
endif
set t=null
endfunction
function QO9 takes nothing returns nothing
local string SW9=StringCase(GetEventPlayerChatString(),false)
if bW==true then
set bW=false
call qo()
endif
if SW9=="-weather snow" and GetLocalPlayer()==GetTriggerPlayer()then
set cW[GetPlayerId(GetTriggerPlayer())]=false
call EnableWeatherEffect(bo,true)
call EnableWeatherEffect(Bo,false)
call EnableWeatherEffect(fL,false)
call EnableWeatherEffect(FL,false)
endif
if SW9=="-weather rain" and GetLocalPlayer()==GetTriggerPlayer()then
set cW[GetPlayerId(GetTriggerPlayer())]=false
call EnableWeatherEffect(bo,false)
call EnableWeatherEffect(Bo,true)
call EnableWeatherEffect(fL,false)
call EnableWeatherEffect(FL,false)
endif
if SW9=="-weather moonlight" and GetLocalPlayer()==GetTriggerPlayer()then
set cW[GetPlayerId(GetTriggerPlayer())]=false
call EnableWeatherEffect(bo,false)
call EnableWeatherEffect(Bo,false)
call EnableWeatherEffect(fL,true)
call EnableWeatherEffect(FL,false)
endif
if SW9=="-weather wind" and GetLocalPlayer()==GetTriggerPlayer()then
set cW[GetPlayerId(GetTriggerPlayer())]=false
call EnableWeatherEffect(bo,false)
call EnableWeatherEffect(Bo,false)
call EnableWeatherEffect(fL,false)
call EnableWeatherEffect(FL,true)
endif
if SW9=="-weather off" and GetLocalPlayer()==GetTriggerPlayer()then
set cW[GetPlayerId(GetTriggerPlayer())]=false
call EnableWeatherEffect(bo,false)
call EnableWeatherEffect(Bo,false)
call EnableWeatherEffect(fL,false)
call EnableWeatherEffect(FL,false)
endif
if SW9=="-weather random" then
set cW[GetPlayerId(GetTriggerPlayer())]=true
if GetLocalPlayer()==GetTriggerPlayer()then
call EnableWeatherEffect(bo,false)
call EnableWeatherEffect(Bo,false)
call EnableWeatherEffect(fL,false)
call EnableWeatherEffect(FL,false)
call EnableWeatherEffect(BW,true)
endif
endif
endfunction
function QS9 takes nothing returns nothing
local integer a=S2I(SubString(GetEventPlayerChatString(),6,StringLength(GetEventPlayerChatString())))
local integer D5=GetPlayerId(GetTriggerPlayer())
set vb[D5]=vb[D5]+1
if vb[D5]>20 then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,(GetObjectName((1848656977))))
return
endif
if GetEventPlayerChatString()=="-rollon" or GetEventPlayerChatString()=="-rolloff" then
return
endif
if a==0 then
set a=100
endif
if a>0 and a<2001 then
call CX7(L8,5,Q[GetPlayerId(GetTriggerPlayer())]+(KZ4[GetPlayerId((GetTriggerPlayer()))])+"|r "+(GetObjectName((1848653129)))+" "+I2S(GetRandomInt(1,a))+" "+(GetObjectName((1848653133)))+" "+I2S(a))
else
call D78(GetTriggerPlayer(),(GetObjectName((1848652377))))
endif
endfunction
function Q09 takes nothing returns nothing
local integer a
if GetRandomInt(1,2)==1 then
set a=GetRandomInt(K04,K54)
else
set a=GetRandomInt(KL4,K14)
endif
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,(GetObjectName((1848657747)))+" "+CK7(a))
endfunction
function Q69 takes nothing returns nothing
local integer a=S2I(SubString(GetEventPlayerChatString(),4,StringLength(GetEventPlayerChatString())))
if GetTriggerPlayer()!=Z7[1]or a>2 or a<1 or SN4==false or TimerGetElapsed(W)>14 or BW4==true then
return
endif
set BC4=a
set B34=a
set BV4=true
if a==1 then
call BL7(bj_FORCE_ALL_PLAYERS,15.00,Q[GetPlayerId(Z7[1])]+(KZ4[GetPlayerId((Z7[1]))])+"|r "+GetObjectName(1848656979))
else
call BL7(bj_FORCE_ALL_PLAYERS,15.00,Q[GetPlayerId(A7[1])]+(KZ4[GetPlayerId((A7[1]))])+"|r "+GetObjectName(1848656979))
endif
endfunction
function QZ9 takes nothing returns nothing
set eb[GetPlayerId(GetTriggerPlayer())]=false
endfunction
function QA9 takes nothing returns nothing
set eb[GetPlayerId(GetTriggerPlayer())]=true
endfunction
function QT9 takes nothing returns nothing
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848654128))))
set ib[GetPlayerId(GetTriggerPlayer())]=true
if GetLocalPlayer()==GetTriggerPlayer()then
call SetPlayerName(Z7[1],(KZ4[GetPlayerId((Z7[1]))]))
call SetPlayerName(Z7[2],(KZ4[GetPlayerId((Z7[2]))]))
call SetPlayerName(Z7[3],(KZ4[GetPlayerId((Z7[3]))]))
call SetPlayerName(Z7[4],(KZ4[GetPlayerId((Z7[4]))]))
call SetPlayerName(Z7[5],(KZ4[GetPlayerId((Z7[5]))]))
call SetPlayerName(A7[1],(KZ4[GetPlayerId((A7[1]))]))
call SetPlayerName(A7[2],(KZ4[GetPlayerId((A7[2]))]))
call SetPlayerName(A7[3],(KZ4[GetPlayerId((A7[3]))]))
call SetPlayerName(A7[4],(KZ4[GetPlayerId((A7[4]))]))
call SetPlayerName(A7[5],(KZ4[GetPlayerId((A7[5]))]))
endif
endfunction
function QU9 takes nothing returns nothing
local integer id=GetPlayerId(GetTriggerPlayer())
if CW[id]==true then
set CW[id]=false
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,(GetObjectName((1848653908))))
else
set CW[id]=true
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,(GetObjectName((1848654129))))
endif
endfunction
function Q29 takes nothing returns nothing
local integer id=GetPlayerId(GetTriggerPlayer())
set ab[id]=true
endfunction
function QV9 takes nothing returns nothing
local integer i=1
local player p
local real SX9
loop
exitwhen i>5
set p=Z7[i]
if Z_7(p)then
set SX9=PT[GetPlayerId(p)]/(TimerGetElapsed(W))*60
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,15.00,Q[GetPlayerId(p)]+(KZ4[GetPlayerId((p))])+"|r"+" "+(GetObjectName((1848653876)))+" "+R2S(SX9))
endif
set p=A7[i]
if Z_7(p)then
set SX9=PT[GetPlayerId(p)]/(TimerGetElapsed(W))*60
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,15.00,Q[GetPlayerId(p)]+(KZ4[GetPlayerId((p))])+"|r"+" "+(GetObjectName((1848653876)))+" "+R2S(SX9))
endif
set i=i+1
endloop
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,15.00," ")
set p=null
endfunction
function QW9 takes nothing returns nothing
call E08(GetTriggerPlayer())
endfunction
function SY9 takes nothing returns boolean
return RZ7(GetFilterUnit())and GetOwningPlayer(GetFilterUnit())==GetTriggerPlayer()
endfunction
function Courier_Add takes nothing returns nothing
call UnitAddType(GetEnumUnit(),UNIT_TYPE_PEON)
endfunction
function Courier_Remove takes nothing returns nothing
call UnitRemoveType(GetEnumUnit(),UNIT_TYPE_PEON)
endfunction
function QX9 takes nothing returns nothing
local group g=CA7()
call GroupEnumUnitsInRange(g,0,0,12000,Condition(function SY9))
call CZ7(g)
set g=null
endfunction
function QY9 takes nothing returns nothing
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848656726)))+" [|cffff0000E|r|cffff0000E|r|cffff0000E|r] - [|cffffcc00T|r]")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848656725)))+" [|cffff0000E|r|cffff0000E|r|cff00ffffW|r] - [|cffffcc00D|r]")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848656724)))+" [|cffff0000E|r|cffff0000E|r|cff0000ffQ|r] - [|cffffcc00F|r]")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848656694)))+" [|cff0000ffQ|r|cff0000ffQ|r|cff0000ffQ|r] - [|cffffcc00Y|r]")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848656716)))+" [|cff0000ffQ|r|cff0000ffQ|r|cff00ffffW|r] - [|cffffcc00V|r]")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848656718)))+" [|cff0000ffQ|r|cff0000ffQ|r|cffff0000E|r] - [|cffffcc00G|r]")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848656723)))+" [|cff00ffffW|r|cff00ffffW|r|cffff0000E|r] - [|cffffcc00Z|r]")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848656719)))+" [|cff00ffffW|r|cff00ffffW|r|cff0000ffQ|r] - [|cffffcc00X|r]")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848656720)))+" [|cff00ffffW|r|cff00ffffW|r|cff00ffffW|r] - [|cffffcc00C|r]")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848656721)))+" [|cff0000ffQ|r|cff00ffffW|r|cffff0000E|r] - [|cffffcc00B|r]")
endfunction
function SZ9 takes string s returns nothing
call StopMusic(true)
call PlayMusic(s)
endfunction
function QB9 takes nothing returns nothing
local string s=GetEventPlayerChatString()
local integer B47=GetRandomInt(1,UT)
if GetLocalPlayer()==GetTriggerPlayer()then
if s=="-music off" then
call StopMusic(false)
elseif s=="-music random" then
call SZ9(TT[B47])
elseif s=="-music nightelf1" then
call SZ9(BP)
elseif s=="-music nightelf2" then
call SZ9(CP)
elseif s=="-music nightelf3" then
call SZ9(GQ)
elseif s=="-music human1" then
call SZ9(IQ)
elseif s=="-music human2" then
call SZ9(JQ)
elseif s=="-music human3" then
call SZ9(YQ)
elseif s=="-music orc1" then
call SZ9(XP)
elseif s=="-music orc2" then
call SZ9(YP)
elseif s=="-music orc3" then
call SZ9(ZP)
elseif s=="-music undead1" then
call SZ9(RP)
elseif s=="-music undead2" then
call SZ9(TP)
elseif s=="-music undead3" then
call SZ9(VP)
elseif s=="-music other1" then
call SZ9(GR)
elseif s=="-music other2" then
call SZ9(HR)
elseif s=="-music other3" then
call SZ9(IR)
elseif s=="-music other4" then
call SZ9(OR)
elseif s=="-music other5" then
call SZ9(XR)
elseif s=="-music other6"then
call SZ9(VM4)
elseif s=="-music other7"then
call SZ9(VN4)
elseif s=="-music other8"then
call SZ9(VO4)
elseif s=="-music other9"then
call SZ9(VP4)
elseif s=="-music special" then
call SZ9(YR)
else
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848656727)))+" ")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,"off, random, nightelf1, nightelf2, nightelf3, human1, human2, human3, orc1, orc2, orc3, undead1, undead2, undead3, other1, other2, other3, other4, other5, other6, other7, other8, other9, special")
endif
endif
endfunction
function SA9 takes nothing returns boolean
set UT=UT+1
set TT[UT]=BP
set UT=UT+1
set TT[UT]=CP
set UT=UT+1
set TT[UT]=GQ
set UT=UT+1
set TT[UT]=IQ
set UT=UT+1
set TT[UT]=JQ
set UT=UT+1
set TT[UT]=YQ
set UT=UT+1
set TT[UT]=XP
set UT=UT+1
set TT[UT]=YP
set UT=UT+1
set TT[UT]=ZP
set UT=UT+1
set TT[UT]=RP
set UT=UT+1
set TT[UT]=TP
set UT=UT+1
set TT[UT]=VP
set UT=UT+1
set TT[UT]=GR
set UT=UT+1
set TT[UT]=HR
set UT=UT+1
set TT[UT]=IR
set UT=UT+1
set TT[UT]=OR
set UT=UT+1
set TT[UT]=XR
set UT=UT+1
set TT[UT]=VM4
set UT=UT+1
set TT[UT]=VN4
set UT=UT+1
set TT[UT]=VO4
set UT=UT+1
set TT[UT]=VP4
set UT=UT+1
set TT[UT]=YR
return false
endfunction
function SB9 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.01,false)
call TriggerAddCondition(t,Condition(function SA9))
endfunction
function SC9 takes player p,integer r,integer g,integer b,integer a returns nothing
if GetLocalPlayer()==p then
call SetWaterBaseColor(r,g,b,a)
endif
endfunction
function S39 takes string s returns nothing
local string S69=""
local string SL9=""
local string S19=""
local integer i=0
local integer HT8=StringLength(s)
local integer S09=1
loop
exitwhen i>HT8
if SubString(s,i,i+1)==" " then
set S09=S09+1
else
if S09==1 then
set S69=S69+SubString(s,i,i+1)
elseif S09==2 then
set SL9=SL9+SubString(s,i,i+1)
else
set S19=S19+SubString(s,i,i+1)
endif
endif
set i=i+1
endloop
set bb=S2I(S69)
set Bb=S2I(SL9)
set cb=S2I(S19)
endfunction
function QC9 takes nothing returns nothing
local string S59=SubString(GetEventPlayerChatString(),7,StringLength(GetEventPlayerChatString()))
local player p=GetTriggerPlayer()
local integer r
local integer g
local integer b
set Nb[GetPlayerId(p)]=true
if S59=="red" then
call SC9(p,255,0,0,255)
elseif S59=="blue" then
call SC9(p,0,0,255,255)
elseif S59=="green" then
call SC9(p,0,255,0,255)
elseif S59=="default" then
call SC9(p,0,0,255,255)
elseif S59=="random" then
set r=GetRandomInt(0,255)
set g=GetRandomInt(0,255)
set b=GetRandomInt(0,255)
call SC9(p,r,g,b,255)
call DisplayTimedTextToPlayer(p,0,0,5,(GetObjectName((1848657988)))+" r="+I2S(r)+" g="+I2S(g)+" b="+I2S(b))
else
call S39(S59)
set r=bb
set g=Bb
set b=cb
if r>=0 and r<=255 and g>=0 and g<=255 and b>=0 and b<=255 then
call SC9(p,r,g,b,255)
endif
endif
endfunction
function QL9 takes nothing returns nothing
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,15.00,"This command has been temporarily disabled")
endfunction
function Q19 takes nothing returns boolean
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,"Total Bonus XP/Gold: "+I2S(N34[GetPlayerId(GetTriggerPlayer())])+"/"+I2S(N64[GetPlayerId(GetTriggerPlayer())]))
return false
endfunction
function RD9 takes nothing returns boolean
if YC4>0 then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,GetObjectName(1848659023)+": "+I2S(YC4))
endif
return false
endfunction
function S29 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local integer S_9=UQ7(UL7,"u1Index")
local integer T49=UQ7(UL7,"u2Index")
local unit u1=ZA7(S_9)
local unit u2=ZA7(T49)
local real FF8=UR7(UL7,"Duration")
local lightning T79=UM7(UL7,"Lightning")
if I2R(GetTriggerEvalCount(t))*0.025>FF8 then
call DestroyLightning(T79)
call ZZ7(S_9)
call ZZ7(T49)
call TQ7(UL7)
call U37(t)
else
call MoveLightning(T79,true,GetUnitX(u1),GetUnitY(u1),GetUnitX(u2),GetUnitY(u2))
endif
set t=null
set u1=null
set u2=null
set T79=null
return false
endfunction
function T89 takes string T99,unit u1,unit u2,real r,real g,real b,real a,real FF8 returns nothing
local real x1=GetUnitX(u1)
local real y1=GetUnitY(u1)
local real x2=GetUnitX(u2)
local real y2=GetUnitY(u2)
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local lightning T79=AddLightning(T99,true,x1,y1,x2,y2)
call SetLightningColor(T79,r,g,b,a)
call TA7(UL7,"Lightning",T79)
call TT7(UL7,"u1Index",ZC7(u1))
call TT7(UL7,"u2Index",ZC7(u2))
call TU7(UL7,"Duration",FF8)
call TriggerRegisterTimerEvent(t,0.025,true)
call TriggerAddCondition(t,Condition(function S29))
set t=null
set T79=null
endfunction
function TD9 takes string TE9 returns nothing
local sound ED8=CreateSound(TE9,false,false,false,10,10,"")
call SetSoundVolume(ED8,0)
call StartSound(ED8)
call KillSoundWhenDone(ED8)
set ED8=null
endfunction
function TF9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local ubersplat TG9=(LoadUbersplatHandle(L7,(OL7),(131)))
call DestroyUbersplat(TG9)
call FlushChildHashtable(L7,(OL7))
call U37(t)
set t=null
set TG9=null
return false
endfunction
function TH9 takes ubersplat TG9,real d returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call SaveUbersplatHandle(L7,(OL7),(131),(TG9))
call TriggerRegisterTimerEvent(t,d,false)
call TriggerAddCondition(t,Condition(function TF9))
set t=null
endfunction
function TI9 takes nothing returns nothing
local real d=RI7(GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),B44,B74)
if d<A_4 then
set A_4=d
set A24=GetEnumUnit()
endif
endfunction
function TJ9 takes group g,real x,real y returns unit
set A_4=999999
set A24=null
set B44=x
set B74=y
call ForGroup(g,function TI9)
return A24
endfunction
function TK9 takes integer LQ7 returns nothing
local integer i=0
loop
exitwhen i>5
call SetPlayerAbilityAvailable(Z7[i],LQ7,false)
call SetPlayerAbilityAvailable(A7[i],LQ7,false)
set i=i+1
endloop
endfunction
function TM9 takes integer id returns nothing
local integer i=0
loop
exitwhen i>12
call SetPlayerAbilityAvailable(Player(i),id,false)
set i=i+1
endloop
endfunction
function Q39 takes nothing returns nothing
local string s=GetEventPlayerChatString()
local trigger t
local integer x=S2I(SubString(GetEventPlayerChatString(),7,StringLength(GetEventPlayerChatString())))
local integer i=1
if x<1 or x>Fb then
set x=GetRandomInt(1,Fb)
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848657205)))+" "+I2S(x))
endif
if gb then
loop
exitwhen i>Fb
call TD9(Cb[i])
set i=i+1
endloop
set gb=false
endif
if db[x]==false then
endif
call D48(GetTriggerPlayer(),Cb[x])
endfunction
function RJ9 takes nothing returns nothing
if bj[GetPlayerId(GetTriggerPlayer())]==false then
set bj[GetPlayerId(GetTriggerPlayer())]=true
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,15.00,"Override is now on for Formless")
else
set bj[GetPlayerId(GetTriggerPlayer())]=false
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,15.00,"Override is now off for Formless")
endif
endfunction
function TN9 takes nothing returns nothing
local timer t=GetExpiredTimer()
local player p=UG7(GetHandleId(t),"FormlessPlayer")
if M7[GetPlayerId(p)]!=null and H84==true then
call D78(p,"Already have a hero.")
else
if ZL7(p)then
call CreateUnitAtLoc(p,1211445296,GetRectCenter(ED),0)
else
call CreateUnitAtLoc(p,1211445296,GetRectCenter(L9),0)
endif
endif
call TQ7(GetHandleId(t))
call DestroyTimer(t)
set p=null
set t=null
endfunction
function RK9 takes nothing returns nothing
local player p=GetTriggerPlayer()
local timer t
if(M7[GetPlayerId(p)]==null or H84==false)and P==true and E4==false and O4==false and A8==false and D4==false and RZ4==false then
call AC7(p)
call DisplayTimedTextToPlayer(p,0,E9,10,"Formless will be created for you shortly.")
set t=CreateTimer()
call T37(GetHandleId(t),"FormlessPlayer",p)
call TimerStart(t,6,false,function TN9)
endif
set p=null
set t=null
endfunction
function TO9 takes nothing returns nothing
local timer t=GetExpiredTimer()
local player p=UG7(GetHandleId(t),"BastionPlayer")
if M7[GetPlayerId(p)]!=null and H84==true then
call D78(p,"Already have a hero.")
else
if ZL7(p)then
call CreateUnitAtLoc(p,1211510832,GetRectCenter(ED),0)
else
call CreateUnitAtLoc(p,1211510832,GetRectCenter(L9),0)
endif
endif
call TQ7(GetHandleId(t))
call DestroyTimer(t)
set p=null
set t=null
endfunction
function RM9 takes nothing returns nothing
local player p=GetTriggerPlayer()
local timer t
if(M7[GetPlayerId(p)]==null or H84==false)and P==true and E4==false and O4==false and A8==false and D4==false and RZ4==false then
call AC7(p)
call DisplayTimedTextToPlayer(p,0,E9,10,"Bastion will be created for you shortly.")
set t=CreateTimer()
call T37(GetHandleId(t),"BastionPlayer",p)
call TimerStart(t,6,false,function TO9)
endif
set p=null
set t=null
endfunction
function ImbaMode takes nothing returns nothing
local integer i=1
if zA==false then
set zA=true
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60," ")
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,90,"You can now pick heroes from the Fun Taverns.")
if Bj==true then
loop
exitwhen i==6
call FogModifierStart(CreateFogModifierRadiusLoc(Z7[i],FOG_OF_WAR_VISIBLE,GetUnitLoc(vN),200,true,true))
call FogModifierStart(CreateFogModifierRadiusLoc(A7[i],FOG_OF_WAR_VISIBLE,GetUnitLoc(vN),200,true,true))
set i=i+1
endloop
set i=1
endif
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,90,"This is a FOR FUN ONLY mode.")
loop
exitwhen i==6
call CreateUnit(Z7[i],1848651843,7225,-7475,270)
call CreateUnit(A7[i],1848651843,7225,-7475,270)
set i=i+1
endloop
endif
if Bj==true then
set EV=EV+1
set SU[EV]=1227960882
set ZU[EV]=1227960368
set AU[EV]=0
set BU[EV]=1227961139
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNArcaniteMelee.blp"
set LU[EV]=45
set HK4[EV]=15900
set FH=EV
set EV=EV+1
set SU[EV]=1227960883
set ZU[EV]=1227960369
set AU[EV]=0
set BU[EV]=1227961140
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNHumanArmorUpThree.blp"
set LU[EV]=90
set HK4[EV]=15175
set GH=EV
set EV=EV+1
set SU[EV]=1227960884
set ZU[EV]=1227960632
set AU[EV]=0
set BU[EV]=1227961141
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNImprovedBows.blp"
set LU[EV]=40
set HK4[EV]=14000
set hH=EV
set EV=EV+1
set SU[EV]=1227960885
set ZU[EV]=1227960880
set AU[EV]=0
set BU[EV]=1227961142
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNOrcMeleeUpTwo.blp"
set LU[EV]=40
set HK4[EV]=11520
set jH=EV
set EV=EV+1
set SU[EV]=1227960886
set ZU[EV]=1227960372
set AU[EV]=0
set BU[EV]=1227961143
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNStaffOfSanctuary.blp"
set LU[EV]=30
set HK4[EV]=7500
set JH=EV
set EV=EV+1
set SU[EV]=1227960888
set ZU[EV]=1227960376
set AU[EV]=0
set BU[EV]=1227961145
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNThoriumRanged.blp"
set LU[EV]=0
set HK4[EV]=10300
set LH=EV
set EV=EV+1
set SU[EV]=1227961136
set ZU[EV]=1227960626
set AU[EV]=0
set BU[EV]=1227961393
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNAdvancedUnholyStrength.blp"
set LU[EV]=0
set HK4[EV]=10900
set kH=EV
set EV=EV+1
set SU[EV]=1227961137
set ZU[EV]=1227960628
set AU[EV]=0
set BU[EV]=1227961394
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNStarWand.blp"
set LU[EV]=0
set HK4[EV]=9975
set lH=EV
set EV=EV+1
set SU[EV]=1227960887
set ZU[EV]=1227960374
set AU[EV]=0
set BU[EV]=1227961144
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNOrb.blp"
set LU[EV]=45
set HK4[EV]=11300
set MH=EV
set FQ4=FQ4+1
set FJ4[FQ4]=T2
set FK4[FQ4]=L5
set FM4[FQ4]=SY
set FP4[FQ4]=FH
set FQ4=FQ4+1
set FJ4[FQ4]=D84
set FK4[FQ4]=DJ4
set FM4[FQ4]=R2
set FN4[FQ4]=DI4
set FP4[FQ4]=GH
set FQ4=FQ4+1
set FJ4[FQ4]=Z2
set FK4[FQ4]=BV
set FM4[FQ4]=AV
set FN4[FQ4]=OW
set FP4[FQ4]=hH
set FQ4=FQ4+1
set FJ4[FQ4]=GX
set FK4[FQ4]=D1
set FM4[FQ4]=V1
set FN4[FQ4]=XV
set FP4[FQ4]=jH
set FQ4=FQ4+1
set FJ4[FQ4]=GX
set FK4[FQ4]=F1
set FM4[FQ4]=V1
set FN4[FQ4]=XV
set FP4[FQ4]=jH
set FQ4=FQ4+1
set FJ4[FQ4]=F6
set FK4[FQ4]=FV
set FM4[FQ4]=RW
set FN4[FQ4]=RW
set FP4[FQ4]=JH
set FQ4=FQ4+1
set FJ4[FQ4]=LV
set FK4[FQ4]=OV
set FM4[FQ4]=NX
set FN4[FQ4]=YW
set FO4[FQ4]=R2
set FP4[FQ4]=LH
set FQ4=FQ4+1
set FJ4[FQ4]=UY
set FK4[FQ4]=MV
set FM4[FQ4]=QV
set FN4[FQ4]=BV
set FO4[FQ4]=Z2
set FP4[FQ4]=kH
set FQ4=FQ4+1
set FJ4[FQ4]=UW
set FK4[FQ4]=HY
set FM4[FQ4]=DZ
set FN4[FQ4]=GX
set FO4[FQ4]=D74
set FP4[FQ4]=lH
set FQ4=FQ4+1
set FJ4[FQ4]=YW
set FK4[FQ4]=BV
set FM4[FQ4]=GX
set FN4[FQ4]=NZ
set FP4[FQ4]=MH
endif
endfunction
function TP9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local real TQ9=UR7(UL7,"T_CurrentX")
local real TR9=UR7(UL7,"T_CurrentY")
local real TS9=UR7(UL7,"T_MaxX")
local real TT9=128
local real x
local real y
loop
exitwhen TQ9>TS9
loop
exitwhen TR9>8192
set dW=dW+1
set x=TQ9
set y=TR9
if IsPointBlighted(x,y)==false then
set DW[dW]=GetTerrainType(x,y)
set LW[dW]=GetTerrainVariance(x,y)
endif
set x=-TQ9
set y=TR9
if IsPointBlighted(x,y)==false then
set fW[dW]=GetTerrainType(x,y)
set mW[dW]=GetTerrainVariance(x,y)
endif
set x=-TQ9
set y=-TR9
if IsPointBlighted(x,y)==false then
set FW[dW]=GetTerrainType(x,y)
set MW[dW]=GetTerrainVariance(x,y)
endif
set x=TQ9
set y=-TR9
if IsPointBlighted(x,y)==false then
set hW[dW]=GetTerrainType(x,y)
set pW[dW]=GetTerrainVariance(x,y)
endif
set TR9=TR9+TT9
endloop
set TR9=0
set TQ9=TQ9+TT9
endloop
set TS9=TS9+256
call TU7(UL7,"T_CurrentX",TQ9*1.0)
call TU7(UL7,"T_CurrentY",TR9*1.0)
call TU7(UL7,"T_MaxX",TS9*1.0)
if TS9>8192 then
call TQ7(UL7)
call U37(t)
endif
set t=null
return false
endfunction
function TU9 takes string RW9 returns boolean
if RW9=="-ma" or RW9=="-ms" or RW9=="-cs" or RW9=="-cson" or RW9=="-disablehelp" or RW9=="-enablehelp" or RW9=="-unstuck" or RW9=="-recreate" then
return true
elseif RW9=="-swaphero" or RW9=="-showmsg" or RW9=="-hidemsg" or RW9=="-showdeny" or RW9=="-hidedeny" or RW9=="-weather rain" or RW9=="-weather snow" or RW9=="-weather moonlight" or RW9=="-weather wind" or RW9=="-weather random" or RW9=="-weather off" or RW9=="-denyinfo" or RW9=="-di" or RW9=="-deathon" or RW9=="-don" or RW9=="-deathoff" or RW9=="-doff" or RW9=="-roll" or RW9=="-hideheronames" or RW9=="-hhn" or RW9=="-test" or RW9=="-mute" or RW9=="-wtf" or RW9=="-fun" or RW9=="-fleshstr" or RW9=="-fs" or RW9=="-switchon" then
return true
elseif RW9=="-override" or RW9=="-formless" then
return true
endif
return false
endfunction
function TV9 takes nothing returns boolean
return not P
endfunction
function TW9 takes string qQ returns nothing
if cx==""then
set cx="|c006699CC"+qQ+"|r"
else
set cx=cx+"/|c006699CC"+qQ+"|r"
endif
endfunction
function TX9 takes string qQ returns nothing
if cx==""then
set cx=F57+qQ+"|r"
else
set cx=cx+"/"+F57+qQ+"|r"
endif
endfunction
function TY9 takes string SW9,integer qs,integer qS returns string
return SubString(SW9,0,qs)+SubString(SW9,qS,StringLength(SW9))
endfunction
function TZ9 takes string SW9 returns string
local integer IU8=StringLength(SW9)
local string qT
local string M9=""
local integer i=0
loop
exitwhen(i==IU8)
set qT=StringCase(SubString(SW9,i,i+1),false)
if not(qT==StringCase(qT,true))then
set M9=M9+qT
endif
set i=i+1
endloop
return M9
endfunction
function TA9 takes nothing returns boolean
local integer i=1
local boolean b1=false
local boolean b2=false
local integer Q27=0
loop
exitwhen i>5
if(not b1)and GetPlayerController(Z7[i])==MAP_CONTROL_USER and GetPlayerSlotState(Z7[i])==PLAYER_SLOT_STATE_PLAYING then
set b1=true
set Q27=i
elseif GetPlayerController(Z7[i])!=MAP_CONTROL_USER and GetPlayerSlotState(Z7[i])==PLAYER_SLOT_STATE_PLAYING then
set b2=true
endif
set i=i+1
endloop
if b1 and b2 then
set Q27=GetPlayerId(Z7[Q27])
call SetItemPawnable(CreateItem(1227896130,GetUnitX(KU4[Q27]),GetUnitY(KU4[Q27])),false)
set Q27=1
loop
exitwhen Q27>5
call V97(IZ4,GetObjectName(1496332594),Z7[Q27])
set Q27=Q27+1
endloop
endif
set i=1
set b1=false
set b2=false
set Q27=0
loop
exitwhen i>5
if(not b1)and GetPlayerController(A7[i])==MAP_CONTROL_USER and GetPlayerSlotState(A7[i])==PLAYER_SLOT_STATE_PLAYING then
set b1=true
set Q27=i
elseif GetPlayerController(A7[i])!=MAP_CONTROL_USER and GetPlayerSlotState(A7[i])==PLAYER_SLOT_STATE_PLAYING then
set b2=true
endif
set i=i+1
endloop
if b1 and b2 then
set Q27=GetPlayerId(A7[Q27])
call SetItemPawnable(CreateItem(1227896130,GetUnitX(KU4[Q27]),GetUnitY(KU4[Q27])),false)
set Q27=1
loop
exitwhen Q27>5
call V97(JA4,GetObjectName(1496332594),A7[Q27])
set Q27=Q27+1
endloop
endif
call DestroyTrigger(GetTriggeringTrigger())
return false
endfunction
function TB9 takes string TC9,integer T39 returns nothing
local string SW9=TZ9(TC9)
local string array T69
local string array TL9
local boolean array T19
local integer T09
local integer T59
local integer IU8=StringLength(SW9)
local integer x=0
local integer y=0
local integer z=0
local boolean AP
local boolean AR
local boolean LM
local boolean MM
local boolean TR
local boolean DM
local boolean MR
local boolean SP
local boolean AA
local boolean AI
local boolean AS
local boolean ID
local boolean NP
local boolean SC
local boolean EM
local boolean DU
local boolean SH
local boolean VR
local boolean RV
local boolean RD
local boolean OM
local boolean NT
local boolean NB
local boolean NM
local boolean NS
local boolean SO
local boolean NR
local boolean XL
local boolean SD
local boolean PM
local boolean OI
local boolean MI
local boolean CM
local boolean FR
local boolean MO
local boolean RO
local boolean ER
local boolean CD
local boolean RS
local boolean ST
local boolean MC
local boolean HE
local boolean NE
local boolean HG
local boolean NG
local boolean DE
local boolean T29
local boolean NN
local boolean FM
local boolean T_9
local boolean U49
local boolean U79
local boolean U89
local boolean U99
local trigger t
set T69[1]="allpick"
set TL9[1]="ap"
set T69[2]="allrandom"
set TL9[2]="ar"
set T69[3]="leaguemode"
set TL9[3]="lm"
set T69[4]="mirrormatch"
set TL9[4]="mm"
set T69[5]="teamrandom"
set TL9[5]="tr"
set T69[6]="deathmatch"
set TL9[6]="dm"
set T69[7]="moderandom"
set TL9[7]="mr"
set T69[8]="shuffleplayers"
set TL9[8]="sp"
set T69[9]="allagility"
set TL9[9]="aa"
set T69[10]="allintelligence"
set TL9[10]="ai"
set T69[11]="allstrength"
set TL9[11]="as"
set T69[12]="itemdrop"
set TL9[12]="id"
set T69[13]="nopowerups"
set TL9[13]="np"
set T69[14]="supercreeps"
set TL9[14]="sc"
set T69[15]="easymode"
set TL9[15]="em"
set T69[16]="duplicatemode"
set TL9[16]="du"
set T69[17]="samehero"
set TL9[17]="sh"
set T69[18]="voterandom"
set TL9[18]="vr"
set T69[19]="reverse"
set TL9[19]="rv"
set T69[20]="randomdraft"
set TL9[20]="rd"
set T69[21]="onlymid"
set TL9[21]="om"
set T69[22]="extendedleague"
set TL9[22]="xl"
set T69[23]="nomid"
set TL9[23]="nm"
set T69[24]="notop"
set TL9[24]="nt"
set T69[25]="nobot"
set TL9[25]="nb"
set T69[26]="noswap"
set TL9[26]="ns"
set T69[27]="norepick"
set TL9[27]="nr"
set T69[28]="captainsdraft"
set TL9[28]="cd"
set T69[29]="singledraft"
set TL9[29]="sd"
set T69[30]="poolingmode"
set TL9[30]="pm"
set T69[31]="observerinfo"
set TL9[31]="oi"
set T69[32]="miniheroes"
set TL9[32]="mi"
set T69[33]="captainsmode"
set TL9[33]="cm"
set T69[34]="fastrespawn"
set TL9[34]="fr"
set T69[35]="meleeonly"
set TL9[35]="mo"
set T69[36]="rangeonly"
set TL9[36]="ro"
set T69[37]="experimentalrunes"
set TL9[37]="er"
set T69[38]="randomside"
set TL9[38]="rs"
set T69[39]="switchon"
set TL9[39]="so"
set T69[40]="zoommode"
set TL9[40]="zm"
set T69[41]="capturepoint"
set TL9[41]="cp"
set T09=41
set T59=41
set T09=T09+1
set T69[T09]="supertower"
set TL9[T09]="st"
set T09=T09+1
set T69[T09]="msupercreeps"
set TL9[T09]="mc"
set T09=T09+1
set T69[T09]="highexp"
set TL9[T09]="he"
set T09=T09+1
set T69[T09]="normexp"
set TL9[T09]="ne"
set T09=T09+1
set T69[T09]="dynaexp"
set TL9[T09]="de"
set T09=T09+1
set T69[T09]="highgold"
set TL9[T09]="hg"
set T09=T09+1
set T69[T09]="normgold"
set TL9[T09]="ng"
set T09=T09+1
set T69[T09]="dynagold"
set TL9[T09]="dg"
set T09=T09+1
set T69[T09]="nonecronomicon"
set TL9[T09]="nn"
set T09=T09+1
set T69[T09]="formlessmode"
set TL9[T09]="fm"
set T09=T09+1
set T69[T09]="coolnames"
set TL9[T09]="cn"
set T09=T09+1
set T69[T09]="alldagons"
set TL9[T09]="ad"
set T09=T09+1
set T69[T09]="beginnermode"
set TL9[T09]="bm"
set T09=T09+1
set T69[T09]="advancedmode"
set TL9[T09]="am"
set T09=T09+1
set T69[T09]="xtrememode"
set TL9[T09]="xm"
set x=-1
loop
exitwhen x==IU8-1
set x=x+1
set y=x
loop
exitwhen y==IU8
set y=y+1
set z=1
loop
exitwhen z>T09
if T69[z]==SubString(SW9,x,y)then
set T19[z]=true
set z=T09+1
set SW9=TY9(SW9,x,y)
set x=-1
set IU8=StringLength(SW9)
set y=IU8
else
set z=z+1
endif
endloop
endloop
endloop
set x=-1
loop
exitwhen x==IU8-1
set x=x+1
set y=x
loop
exitwhen y==IU8
set y=y+1
set z=1
loop
exitwhen z>T09
if TL9[z]==SubString(SW9,x,y)then
set T19[z]=true
if(z<=T59)then
set vY=false
endif
set z=T09+1
set SW9=TY9(SW9,x,y)
set x=-1
set IU8=StringLength(SW9)
set y=IU8
else
set z=z+1
endif
endloop
endloop
endloop
set AP=T19[1]
set AR=T19[2]
set LM=T19[3]
set MM=T19[4]
set TR=T19[5]
set DM=T19[6]
set MR=T19[7]
set SP=T19[8]
set AA=T19[9]
set AI=T19[10]
set AS=T19[11]
set ID=T19[12]
set NP=T19[13]
set SC=T19[14]
set EM=T19[15]
set DU=T19[16]
set SH=T19[17]
set VR=T19[18]
set RV=T19[19]
set RD=T19[20]
set OM=T19[21]
set XL=T19[22]
set NM=T19[23]
set NT=T19[24]
set NB=T19[25]
set NS=T19[26]
set NR=T19[27]
set CD=T19[28]
set SD=T19[29]
set PM=T19[30]
set OI=T19[31]
set MI=T19[32]
set CM=T19[33]
set FR=T19[34]
set MO=T19[35]
set RO=T19[36]
set ER=T19[37]
set RS=T19[38]
set SO=T19[39]
set ST=T19[T59+1]
set MC=T19[T59+2]
set HE=T19[T59+3]
set NE=T19[T59+4]
set DE=T19[T59+5]
set HG=T19[T59+6]
set NG=T19[T59+7]
set T29=T19[T59+8]
set NN=T19[T59+9]
set FM=T19[T59+10]
set T_9=T19[T59+11]
set U49=T19[T59+12]
set U89=T19[T59+13]
set U79=T19[T59+14]
set U99=T19[T59+15]
if SW9!=""or TU9(GetEventPlayerChatString())then
return
elseif(LM or VR or RV or RD or XL or CD or SO)then
call D78(Le,"The following modes are currently disabled for this AI release: -lm, -vr, -rv, -rd, -xl, -cd, -so")
return
elseif FM and(AP or AR or LM or MM or TR or DM or MR or SP or AA or AI or AS or DU or SH or VR or RV or RD or XL or SD or MO or RO)then
call D78(Le,(GetObjectName((1848652373))))
return
elseif(AR and(CM or AP or TR or LM or MR or RV or RD or CD or SD))or(AP and(TR or MR))or(TR and(LM or MR))or(LM and MR)or(MM and SH)then
call D78(Le,(GetObjectName((1848652373))))
return
elseif(AA and(AI or AS or DM))or(AS and(AI or DM))or(AI and DM)then
call D78(Le,(GetObjectName((1848652373))))
return
elseif(RO and(MO or DM))or(MO and DM)then
call D78(Le,(GetObjectName((1848652373))))
return
elseif RV and(CM or AR or TR or MR or LM or DM or SH)then
call D78(Le,(GetObjectName((1848652373))))
return
elseif(DM and(CM or TR or LM or MR or SH or RV or RD or CD or SD))or(MM and DM)or(SH and DM)then
call D78(Le,(GetObjectName((1848652372))))
return
elseif LM and(CM or AP or RD or CD or AR or SD or MM or TR or DM or MR or AA or AI or AS or ID or NP or SC or EM or DU or SH or RV or OM or NB or NM or NT or XL or MO or RO)then
call D78(Le,(GetObjectName((1848652593))))
return
elseif XL and(CM or AP or RD or CD or AR or SD or MM or TR or DM or MR or AA or AI or AS or ID or NP or SC or EM or DU or SH or RV or OM or NB or NM or NT or LM or RO or MO)then
call D78(Le,(GetObjectName((1848652594))))
return
elseif CM and(SP or XL or AP or RD or CD or AR or SD or MM or TR or DM or MR or AA or AI or AS or ID or NP or SC or EM or DU or SH or RV or OM or NB or NM or NT or LM or MO or RO)then
call D78(Le,(GetObjectName((1848652594))))
return
elseif RD and(CD or CM or AP or LM or AR or SD or MM or TR or DM or MR or AA or AI or AS or SH or RV or RO or MO)then
call D78(Le,(GetObjectName((1848652373))))
return
elseif CD and(RD or CM or AP or LM or AR or SD or MM or TR or DM or MR or AA or AI or AS or SH or RV or RO or MO)then
call D78(Le,(GetObjectName((1848652373))))
return
elseif MR and(CM or AP or LM or AR or SD or MM or TR or DM or AA or AI or AS or SH or RV or RO or MO)then
call D78(Le,(GetObjectName((1848652373))))
return
elseif SD and(CM or AP or LM or AR or RD or CD or MM or TR or DM or MR or AA or AI or AS or SH or RV or RO or MO)then
call D78(Le,(GetObjectName((1848652373))))
return
elseif VR and(CM or LM or RD or CD or SD or AR or MM or TR or DM or MR or AA or AI or AS or SH or RV or RO or MO)then
call D78(Le,(GetObjectName((1848652373))))
return
elseif MM and P8(X7)!=P8(Y7)then
call D78(Le,(GetObjectName((1848652596))))
return
elseif VR and P8(X7)!=P8(Y7)then
call D78(Le,(GetObjectName((1848652596))))
return
elseif RV and P8(X7)!=P8(Y7)then
call D78(Le,(GetObjectName((1848652596))))
return
elseif(LM or XL)and(Z27(Z7[1])or Z27(Z7[2])or Z27(Z7[3])or Z27(Z7[4])or Z27(Z7[5])or Z27(A7[1])or Z27(A7[2])or Z27(A7[3])or Z27(A7[4])or Z27(A7[5]))then
call D78(Le,"AI players not allowed in League Modes")
return
elseif(U89 and U79)or(U89 and U99)or(U79 and U99)or(NE and HE)or(HG and NG)or((U79 or U89 or U99)and(NE or HE or DE or HG or NG or T29))then
call D78(Le,"Invalid AI Game Mode Combination!")
return
endif
if FR or CM or AP or AR or LM or MM or TR or DM or MR or SP or AA or AI or AS or ID or NP or SC or DU or EM or SH or VR or RV or RD or CD or OM or NB or NM or NT or NS or NR or XL or SD or PM or OI or MI or MO or RO or ER or RS or SO or ST or MC or(HE or NE or HG or DE or NG or T29)or NN or FM or(U79 or U89 or U99)then
call DisableTrigger(GetTriggeringTrigger())
else
return
endif
if CM==false then
call XH8()
call OM9()
endif
if LM==false and XL==false then
call SU9()
endif
set O14=TZ9(GetEventPlayerChatString())
if(ZX4)then
call IM8("Mode"+O14,0)
else
call IM8("Mode"+O14,GetPlayerId(Le))
endif
set Y8=false
if LM then
set vo="Leaguemode"
elseif XL then
set vo="Extended League"
elseif RD then
set vo="Randomdraft"
elseif CD then
set vo="Captainsdraft"
elseif MM then
set vo="Mirrormatch"
elseif DM then
set vo="Deathmatch"
elseif RV then
set vo="Reverse"
elseif AP then
set vo="Allpick"
elseif AR then
set vo="Allrandom"
elseif TR then
set vo="Teamrandom"
elseif MR then
set vo="Moderandom"
elseif VR then
set vo="Voterandom"
elseif SD then
set vo="Singledraft"
elseif CM then
set vo="Captainsmode"
endif
if CM then
call TW9("Captains Mode")
endif
if LM then
call TW9("League Mode")
endif
if XL then
call TW9("Extended League")
endif
if RD then
call TW9("Random Draft")
endif
if CD then
call TW9("Captains Draft")
endif
if DM then
call TW9("Death Match")
endif
if MM then
call TW9("Mirror Match")
endif
if AP then
call TW9("All Pick")
endif
if AR then
call TW9("All Random")
endif
if VR then
call TW9("Vote Random")
endif
if MR then
call TW9("Mode Random")
endif
if TR then
call TW9("Team Random")
endif
if SP then
call TW9("Shuffle Players")
endif
if AA then
call TW9("All Agility")
endif
if AS then
call TW9("All Strength")
endif
if AI then
call TW9("All Intelligence")
endif
if RO then
call TW9("Range Only")
endif
if MO then
call TW9("Melee Only")
endif
if DU then
call TW9("Duplicate Mode")
endif
if ID then
call TW9("Item Drop")
endif
if NP then
call TW9("No Powerups")
endif
if SC then
call TW9("Super Creeps")
endif
if EM then
call TW9("Easy Mode")
endif
if SH then
call TW9("Same Hero")
endif
if RV then
call TW9("Reverse")
endif
if OM then
call TW9("Only Mid")
endif
if NM then
call TW9("No Mid")
endif
if NB then
call TW9("No Bot")
endif
if NT then
call TW9("No Top")
endif
if NS then
call TW9("No Swap")
endif
if NR then
call TW9("No Repick")
endif
if SD then
call TW9("Single Draft")
endif
if PM then
call TW9("Pooling Mode")
endif
if OI then
call TW9("Observer Info")
endif
if MI then
call TW9("Mini Heroes")
endif
if FR then
call TW9("Fast Respawn")
endif
if ER then
call TW9("Experimental Runes")
endif
if RS then
call TW9("Random Side")
endif
if SO then
call TW9("Switch On")
endif
if ST then
call TX9("Super Tower")
endif
if MC then
call TX9("Modified Super Creeps")
endif
if U89 then
call TX9("Beginner's Mode")
endif
if U79 then
call TX9("Advanced Mode")
endif
if U99 then
call TX9("Xtreme Mode")
endif
if HE then
call TX9("High Exp AI")
endif
if NE then
call TX9("Normal Exp AI")
endif
if DE then
call TX9("Dynamic Exp AI")
endif
if HG then
call TX9("High Gold AI")
endif
if NG then
call TX9("Normal Gold AI")
endif
if T29 then
call TX9("Dynamic Gold AI")
endif
if NN then
call TX9("No Necronomicon")
endif
if FM then
call TX9("Formless Mode")
endif
if T_9 then
call TX9("Cool Names")
endif
if U49 then
call TX9("All Dagons")
endif
call BL7(bj_FORCE_ALL_PLAYERS,20.00," ")
if T39==1 then
call BL7(bj_FORCE_ALL_PLAYERS,20.00,Q[GetPlayerId(Le)]+(KZ4[GetPlayerId(Le)])+"|r"+" "+GetObjectName(1848653361)+" "+cx)
else
call BL7(bj_FORCE_ALL_PLAYERS,20.00,GetObjectName(1848657998)+" "+cx)
endif
call BL7(bj_FORCE_ALL_PLAYERS,20.00,(GetObjectName((1848653363)))+" -gameinfo.")
call BL7(bj_FORCE_ALL_PLAYERS,20.00," ")
call D98("UD9",SP)
call D98("UE9",RS)
call D98("UF9",DM)
call D98("UG9",MM)
call D98("UH9",SH)
call D98("UI9",AA)
call D98("UJ9",AI)
call D98("UK9",AS)
call D98("UM9",RO)
call D98("UN9",MO)
call D98("UO9",DU)
call D98("UP9",AR)
call D98("UQ9",AP)
call D98("UR9",TR)
call D98("US9",SD)
call D98("UT9",MR)
call D98("UU9",ID)
call D98("UV9",NP)
call D98("UW9",SC)
call D98("UX9",EM)
call D98("UY9",OM)
call D98("UZ9",NB)
call D98("UA9",NT)
call D98("UB9",NM)
call D98("UC9",NS)
call D98("StartSwitchOn",SO)
call D98("U39",NR)
call D98("U69",PM)
call D98("UL9",OI)
call D98("U19",MI)
call D98("U09",FR)
call D98("U59",ER)
call D98("U29",ST)
call D98("U_9",MC)
if U89 then
set NE=true
set NG=true
set DE=false
set T29=false
endif
if U79 then
set HE=true
set HG=true
set DE=true
set T29=true
endif
if U99 then
set NE=true
set NG=true
set DE=true
set T29=true
call ExecuteFunc("V49")
call TX9("Xtreme AI")
endif
call D98("V79",DE)
call D98("V89",T29)
call D98("V99",FM)
call D98("VD9",T_9)
call D98("VE9",U49)
call D98("VF9",CM)
set BT=HE
set LT=NE
set CT=HG
set WT=NG
set XT=NN
set Q94=true
call DB9(0,0,false)
if SN4==false and O54==false then
call OP9()
endif
call XE8()
endfunction
function VG9 takes nothing returns nothing
call TB9(GetEventPlayerChatString(),1)
endfunction
function VH9 takes nothing returns boolean
if ZU4!="" and Q94==false then
set ZX4=true
call TB9("-"+(ZU4),2)
else
call TriggerRegisterPlayerChatEvent(ZT4,Le,"-",false)
endif
return false
endfunction
function UQ9 takes nothing returns nothing
local location I28=GetRectCenter(pr)
local location I_8=GetRectCenter(qr)
local integer x=1
set P4=true
set QD4=120
loop
exitwhen x>5
if Z_7(Z7[x])then
call CreateUnitAtLoc(Z7[x],1848651843,I_8,bj_UNIT_FACING)
endif
if Z_7(A7[x])then
call CreateUnitAtLoc(A7[x],1848651843,I28,bj_UNIT_FACING)
endif
set x=x+1
endloop
call RemoveLocation(I28)
call RemoveLocation(I_8)
set I28=null
set I_8=null
endfunction
function VI9 takes integer CD7,boolean VJ9 returns boolean
local boolean VK9=false
local integer i
local integer j=1
if(VJ9)then
if(DE7==1)then
return false
endif
set i=DE7-1
loop
if(CD7==DG7[j])then
return true
endif
set j=j+1
exitwhen(j>i)
endloop
else
if(DF7==1)then
return false
endif
set i=DF7-1
loop
if(CD7==DH7[j])then
return true
endif
set j=j+1
exitwhen(j>i)
endloop
endif
return VK9
endfunction
function VM9 takes integer CD7,boolean VJ9 returns nothing
if(VJ9)then
set DG7[DE7]=CD7
set DE7=DE7+1
else
set DH7[DF7]=CD7
set DF7=DF7+1
endif
endfunction
function VN9 takes integer CD7 returns nothing
local integer i=1
local boolean VO9=false
loop
if(CD7==DD7[i])then
set DD7[i]=0
call VM9(CD7,false)
set VO9=true
endif
set i=i+1
exitwhen(i>DJ7 or VO9)
endloop
endfunction
function VP9 takes nothing returns integer
local integer O17=0
local integer CD7=0
loop
set O17=GetRandomInt(1,DJ7)
exitwhen(DD7[O17]>0 and VI9(DD7[O17],false)==false)
endloop
set CD7=DD7[O17]
call VM9(CD7,false)
set DD7[O17]=0
return CD7
endfunction
function VQ9 takes integer CD7 returns nothing
local integer i=1
local boolean VO9=false
loop
if(CD7==D97[i])then
set D97[i]=0
call VM9(CD7,true)
set VO9=true
endif
set i=i+1
exitwhen(i>DI7 or VO9)
endloop
endfunction
function VR9 takes nothing returns integer
local integer O17=0
local integer CD7=0
loop
set O17=GetRandomInt(1,DI7)
exitwhen(D97[O17]>0 and VI9(DD7[O17],true)==false)
endloop
set CD7=D97[O17]
call VM9(CD7,true)
set D97[O17]=0
return CD7
endfunction
function VS9 takes nothing returns boolean
local integer i=1
local integer VT9=0
local integer CD7=0
if not LO4 then
call U37(GetTriggeringTrigger())
return false
endif
if Z27(LN4)then
if GetPlayerState(LN4,PLAYER_STATE_RESOURCE_GOLD)>0 then
set DO7=DO7+1
if DO7>DK7 then
if DP7 then
set CD7=VR9()
else
set CD7=VP9()
endif
loop
exitwhen(IssueNeutralImmediateOrderById(LN4,D87[i],CD7)or GetPlayerState(LN4,PLAYER_STATE_RESOURCE_GOLD)==0)
set i=i+1
if(i>12)then
if DP7 then
set CD7=VR9()
else
set CD7=VP9()
endif
set i=1
set VT9=VT9+1
if(VT9>5)then
exitwhen true
endif
endif
endloop
set DO7=0
endif
endif
endif
return true
endfunction
function VU9 takes nothing returns nothing
call AB7(1160786502)
call AB7(1311780946)
call AB7(1311788336)
call AB7(1160786507)
call AB7(1311788343)
call AB7(1311788363)
call AB7(1211117616)
endfunction
function VV9 takes nothing returns nothing
set DD7[1]=1211117653
set DD7[2]=1162032951
set DD7[3]=1211117617
set DD7[4]=1212363833
set DD7[5]=1215657064
set DD7[6]=1432580716
set DD7[7]=1433631084
set DD7[8]=1315988077
set DD7[9]=1215063922
set DD7[10]=1315074670
set DD7[11]=1211117636
set DD7[12]=1430466872
set DD7[13]=1430468144
set DD7[14]=1429221441
set DD7[15]=1429221430
set DD7[16]=1313026096
set DD7[17]=1430467634
set DD7[18]=1429221424
set DD7[19]=1430468913
set DD7[20]=1160785972
set DD7[21]=1162032181
set DD7[22]=1162032951
set DD7[23]=1160785970
set DD7[24]=1429221443
set DD7[25]=1211117640
set DD7[26]=1429221445
set DD7[27]=1328558154
set DD7[28]=1432510828
set DD7[29]=1332766568
set DD7[30]=1429221456
set DD7[31]=1315007329
set DD7[32]=1211117653
set DD7[33]=1311787088
set DD7[34]=1164207469
endfunction
function VW9 takes nothing returns nothing
set D97[1]=1211117653
set D97[2]=1214931305
set D97[3]=1215657064
set D97[4]=1311781174
set D97[5]=1315074670
set D97[6]=1430466872
set D97[7]=1162032951
set D97[8]=1311787088
set D97[9]=1211119409
set D97[10]=1328558390
set D97[11]=1332766568
set D97[12]=1433168227
set D97[13]=1433631084
set D97[14]=1333027688
set D97[15]=1328558160
set D97[16]=1215723364
set D97[17]=1211117654
set D97[18]=1432510828
set D97[19]=1315334514
set D97[20]=1162032181
endfunction
function VX9 takes nothing returns boolean
local integer i=1
local integer VY9=0
loop
exitwhen i>5
if Z27(Z7[i])then
if(IssueNeutralImmediateOrderById(Z7[i],DN7[i],1747990094)==false)then
set VY9=1
loop
exitwhen(VY9>5)or IssueNeutralImmediateOrderById(Z7[i],DN7[VY9],1747990094)
set VY9=VY9+1
endloop
endif
endif
if Z27(A7[i])then
if(IssueNeutralImmediateOrderById(A7[i],DN7[6+i],1747990094)==false)then
set VY9=1
loop
exitwhen(VY9>5)or IssueNeutralImmediateOrderById(A7[i],DN7[6+VY9],1747990094)
set VY9=VY9+1
endloop
endif
endif
set i=i+1
endloop
call U37(GetTriggeringTrigger())
return false
endfunction
function VZ9 takes string S,real VA9,real VB9,real VC9,real V39,real V69,boolean VL9,integer r,integer g,integer b returns image
set LH4=CreateImage(S,VA9,VB9,0,VC9-(VA9/2),V39-(VB9/2),V69,0,0,0,2)
call SetImageRenderAlways(LH4,true)
call ShowImage(LH4,VL9)
call SetImageColor(LH4,r,g,b,255)
return LH4
endfunction
function V19 takes image i returns nothing
call ShowImage(i,false)
call DestroyImage(i)
endfunction
function V09 takes integer V59 returns nothing
local real x=LI4+40
local real y=LJ4-50
local integer V29=255
local integer V_9=0
local integer W49=0
local integer W79=0
local integer W89=0
local integer W99=255
local integer r
local integer g
local integer b
if V59==1 then
set r=V29
set g=V_9
set b=W49
set L94=VZ9("Fonts\\B.blp",90,90,x-40,y,0,true,r,g,b)
set LD4=VZ9("Fonts\\A.blp",90,90,x,y,0,true,r,g,b)
set LE4=VZ9("Fonts\\N.blp",90,90,x+50,y,0,true,r,g,b)
elseif V59==2 then
set r=W79
set g=W89
set b=W99
call V19(L94)
call V19(LD4)
call V19(LE4)
set L94=VZ9("Fonts\\P.blp",90,90,x-60,y,0,true,r,g,b)
set LD4=VZ9("Fonts\\I.blp",90,90,x-20,y,0,true,r,g,b)
set LE4=VZ9("Fonts\\C.blp",90,90,x,y,0,true,r,g,b)
set LF4=VZ9("Fonts\\K.blp",90,90,x+45,y,0,true,r,g,b)
elseif V59==3 then
set r=V29
set g=V_9
set b=W49
call V19(L94)
call V19(LD4)
call V19(LE4)
call V19(LF4)
set L94=VZ9("Fonts\\B.blp",90,90,x-40,y,0,true,r,g,b)
set LD4=VZ9("Fonts\\A.blp",90,90,x,y,0,true,r,g,b)
set LE4=VZ9("Fonts\\N.blp",90,90,x+50,y,0,true,r,g,b)
elseif V59==4 then
set r=W79
set g=W89
set b=W99
call V19(L94)
call V19(LD4)
call V19(LE4)
set L94=VZ9("Fonts\\P.blp",90,90,x-60,y,0,true,r,g,b)
set LD4=VZ9("Fonts\\I.blp",90,90,x-20,y,0,true,r,g,b)
set LE4=VZ9("Fonts\\C.blp",90,90,x,y,0,true,r,g,b)
set LF4=VZ9("Fonts\\K.blp",90,90,x+45,y,0,true,r,g,b)
elseif V59==5 then
call V19(L94)
call V19(LD4)
call V19(LE4)
call V19(LF4)
endif
endfunction
function WD9 takes integer i,integer WE9 returns string
if i<0 then
set i=0
endif
if TimerGetElapsed(W)<15 then
return L74+I2S(i)
endif
if B34==3 then
return L74+I2S(i)
endif
if B34==1 and WE9!=1 then
return L74+I2S(i)
elseif B34==2 and WE9!=2 then
return L74+I2S(i)
elseif i==0 then
return L74+I2S(i)
elseif i<6 then
return L44+I2S(i)
else
return I2S(i)
endif
endfunction
function WF9 takes nothing returns boolean
local multiboarditem WG9
local integer i
local integer WH9
local integer WI9
local integer WJ9=7
local integer WK9=0
set WH9=1
set WI9=WK9
set WG9=MultiboardGetItem(L84,WH9,WI9)
call MultiboardSetItemStyle(WG9,true,false)
call MultiboardSetItemWidth(WG9,0.5)
call MultiboardSetItemValue(WG9,Q[GetPlayerId(Z7[1])]+(KZ4[GetPlayerId((Z7[1]))])+"|r")
call MultiboardReleaseItem(WG9)
set WH9=WH9+2
set WI9=WK9
set WG9=MultiboardGetItem(L84,WH9,WI9)
call MultiboardSetItemStyle(WG9,true,false)
call MultiboardSetItemValue(WG9,C_4+GetObjectName(1848657238))
call MultiboardSetItemWidth(WG9,0.035)
call MultiboardReleaseItem(WG9)
set i=0
set WH9=WH9
set WI9=WK9+i+1
set WG9=MultiboardGetItem(L84,WH9,WI9)
call MultiboardSetItemWidth(WG9,0.015)
if B64[i]>0 then
call MultiboardSetItemStyle(WG9,false,true)
call MultiboardSetItemIcon(WG9,MH4[B64[i]])
endif
call MultiboardReleaseItem(WG9)
set i=1
set WI9=WK9+i+1
set WG9=MultiboardGetItem(L84,WH9,WI9)
call MultiboardSetItemWidth(WG9,0.015)
if B64[i]>0 then
call MultiboardSetItemStyle(WG9,false,true)
call MultiboardSetItemIcon(WG9,MH4[B64[i]])
endif
call MultiboardReleaseItem(WG9)
set i=2
set WI9=WK9+i+1
set WG9=MultiboardGetItem(L84,WH9,WI9)
call MultiboardSetItemWidth(WG9,0.015)
if B64[i]>0 then
call MultiboardSetItemStyle(WG9,false,true)
call MultiboardSetItemIcon(WG9,MH4[B64[i]])
endif
call MultiboardReleaseItem(WG9)
set i=3
set WI9=WK9+i+1
set WG9=MultiboardGetItem(L84,WH9,WI9)
call MultiboardSetItemWidth(WG9,0.015)
if B64[i]>0 then
call MultiboardSetItemStyle(WG9,false,true)
call MultiboardSetItemIcon(WG9,MH4[B64[i]])
endif
call MultiboardReleaseItem(WG9)
set i=4
set WI9=WK9+i+1
set WG9=MultiboardGetItem(L84,WH9,WI9)
call MultiboardSetItemWidth(WG9,0.015)
if B64[i]>0 then
call MultiboardSetItemStyle(WG9,false,true)
call MultiboardSetItemIcon(WG9,MH4[B64[i]])
endif
call MultiboardReleaseItem(WG9)
set WH9=WH9+2
set WI9=WK9
set WG9=MultiboardGetItem(L84,WH9,WI9)
call MultiboardSetItemStyle(WG9,true,false)
call MultiboardSetItemValue(WG9,C_4+GetObjectName(1848657240))
call MultiboardSetItemWidth(WG9,0.035)
call MultiboardReleaseItem(WG9)
set i=0
set WH9=WH9
set WI9=WK9+i+1
set WG9=MultiboardGetItem(L84,WH9,WI9)
call MultiboardSetItemWidth(WG9,0.015)
if B54[i]>0 then
call MultiboardSetItemStyle(WG9,false,true)
call MultiboardSetItemIcon(WG9,MH4[B54[i]])
endif
call MultiboardReleaseItem(WG9)
set i=1
set WI9=WK9+i+1
set WG9=MultiboardGetItem(L84,WH9,WI9)
call MultiboardSetItemWidth(WG9,0.015)
if B54[i]>0 then
call MultiboardSetItemStyle(WG9,false,true)
call MultiboardSetItemIcon(WG9,MH4[B54[i]])
endif
call MultiboardReleaseItem(WG9)
set i=2
set WI9=WK9+i+1
set WG9=MultiboardGetItem(L84,WH9,WI9)
call MultiboardSetItemWidth(WG9,0.015)
if B54[i]>0 then
call MultiboardSetItemStyle(WG9,false,true)
call MultiboardSetItemIcon(WG9,MH4[B54[i]])
endif
call MultiboardReleaseItem(WG9)
set i=3
set WI9=WK9+i+1
set WG9=MultiboardGetItem(L84,WH9,WI9)
call MultiboardSetItemWidth(WG9,0.015)
if B54[i]>0 then
call MultiboardSetItemStyle(WG9,false,true)
call MultiboardSetItemIcon(WG9,MH4[B54[i]])
endif
call MultiboardReleaseItem(WG9)
set i=4
set WI9=WK9+i+1
set WG9=MultiboardGetItem(L84,WH9,WI9)
call MultiboardSetItemWidth(WG9,0.015)
if B54[i]>0 then
call MultiboardSetItemStyle(WG9,false,true)
call MultiboardSetItemIcon(WG9,MH4[B54[i]])
endif
call MultiboardReleaseItem(WG9)
set WH9=WH9+2
set WI9=WK9
set WG9=MultiboardGetItem(L84,WH9,WI9)
call MultiboardSetItemStyle(WG9,true,false)
call MultiboardSetItemValue(WG9,C_4+GetObjectName(1848657237))
call MultiboardSetItemWidth(WG9,0.035)
call MultiboardReleaseItem(WG9)
set WI9=WK9+1
set WG9=MultiboardGetItem(L84,WH9,WI9)
call MultiboardSetItemStyle(WG9,true,false)
call MultiboardSetItemValue(WG9,WD9(BB4[1],1))
call MultiboardSetItemWidth(WG9,0.035)
call MultiboardReleaseItem(WG9)
set WH9=WH9+1
set WI9=WK9
set WG9=MultiboardGetItem(L84,WH9,WI9)
call MultiboardSetItemStyle(WG9,true,false)
call MultiboardSetItemValue(WG9,C_4+GetObjectName(1848657236))
call MultiboardSetItemWidth(WG9,0.035)
call MultiboardReleaseItem(WG9)
set WI9=WK9+1
set WG9=MultiboardGetItem(L84,WH9,WI9)
call MultiboardSetItemStyle(WG9,true,false)
call MultiboardSetItemValue(WG9,WD9(BA4[1],1))
call MultiboardSetItemWidth(WG9,0.035)
call MultiboardReleaseItem(WG9)
set WH9=WH9+2
set WI9=WK9
set WG9=MultiboardGetItem(L84,WH9,WI9)
call MultiboardSetItemStyle(WG9,true,false)
call MultiboardSetItemValue(WG9,C_4+GetObjectName(1848657241))
call MultiboardSetItemWidth(WG9,0.035)
call MultiboardReleaseItem(WG9)
set WI9=WK9+1
set WG9=MultiboardGetItem(L84,WH9,WI9)
call MultiboardSetItemStyle(WG9,true,false)
if TimerGetElapsed(W)<15 then
call MultiboardSetItemValue(WG9,L74+GetObjectName(1848657457))
elseif B34==1 then
call MultiboardSetItemValue(WG9,GetObjectName(1848657460))
elseif B34==2 then
call MultiboardSetItemValue(WG9,L74+GetObjectName(1848657457))
else
call MultiboardSetItemValue(WG9,L74+GetObjectName(1848657458))
endif
call MultiboardSetItemWidth(WG9,0.035)
call MultiboardReleaseItem(WG9)
set WH9=1
set WI9=WJ9
set WG9=MultiboardGetItem(L84,WH9,WI9)
call MultiboardSetItemStyle(WG9,true,false)
call MultiboardSetItemWidth(WG9,1.5)
call MultiboardSetItemValue(WG9,"   "+Q[GetPlayerId(A7[1])]+(KZ4[GetPlayerId((A7[1]))])+"|r")
call MultiboardReleaseItem(WG9)
set WH9=WH9+2
set WI9=WJ9-1
set WG9=MultiboardGetItem(L84,WH9,WI9)
call MultiboardSetItemStyle(WG9,true,false)
call MultiboardSetItemValue(WG9,C_4+" "+GetObjectName(1848657238))
call MultiboardSetItemWidth(WG9,0.035)
call MultiboardReleaseItem(WG9)
set i=0
set WI9=WJ9+i+1-1
set WG9=MultiboardGetItem(L84,WH9,WI9)
call MultiboardSetItemWidth(WG9,0.015)
if BL4[i]>0 then
call MultiboardSetItemStyle(WG9,false,true)
call MultiboardSetItemIcon(WG9,MH4[BL4[i]])
endif
call MultiboardReleaseItem(WG9)
set i=1
set WI9=WJ9+i+1-1
set WG9=MultiboardGetItem(L84,WH9,WI9)
call MultiboardSetItemWidth(WG9,0.015)
if BL4[i]>0 then
call MultiboardSetItemStyle(WG9,false,true)
call MultiboardSetItemIcon(WG9,MH4[BL4[i]])
endif
call MultiboardReleaseItem(WG9)
set i=2
set WI9=WJ9+i+1-1
set WG9=MultiboardGetItem(L84,WH9,WI9)
call MultiboardSetItemWidth(WG9,0.015)
if BL4[i]>0 then
call MultiboardSetItemStyle(WG9,false,true)
call MultiboardSetItemIcon(WG9,MH4[BL4[i]])
endif
call MultiboardReleaseItem(WG9)
set i=3
set WI9=WJ9+i+1-1
set WG9=MultiboardGetItem(L84,WH9,WI9)
call MultiboardSetItemWidth(WG9,0.015)
if BL4[i]>0 then
call MultiboardSetItemStyle(WG9,false,true)
call MultiboardSetItemIcon(WG9,MH4[BL4[i]])
endif
call MultiboardReleaseItem(WG9)
set i=4
set WI9=WJ9+i+1-1
set WG9=MultiboardGetItem(L84,WH9,WI9)
call MultiboardSetItemWidth(WG9,0.015)
if BL4[i]>0 then
call MultiboardSetItemStyle(WG9,false,true)
call MultiboardSetItemIcon(WG9,MH4[BL4[i]])
endif
call MultiboardReleaseItem(WG9)
set WH9=WH9+2
set WI9=WJ9-1
set WG9=MultiboardGetItem(L84,WH9,WI9)
call MultiboardSetItemStyle(WG9,true,false)
call MultiboardSetItemValue(WG9,C_4+" "+GetObjectName(1848657240))
call MultiboardSetItemWidth(WG9,0.035)
call MultiboardReleaseItem(WG9)
set i=0
set WI9=WJ9+i+1-1
set WG9=MultiboardGetItem(L84,WH9,WI9)
call MultiboardSetItemWidth(WG9,0.015)
if B24[i]>0 then
call MultiboardSetItemStyle(WG9,false,true)
call MultiboardSetItemIcon(WG9,MH4[B24[i]])
endif
call MultiboardReleaseItem(WG9)
set i=1
set WI9=WJ9+i+1-1
set WG9=MultiboardGetItem(L84,WH9,WI9)
call MultiboardSetItemWidth(WG9,0.015)
if B24[i]>0 then
call MultiboardSetItemStyle(WG9,false,true)
call MultiboardSetItemIcon(WG9,MH4[B24[i]])
endif
call MultiboardReleaseItem(WG9)
set i=2
set WI9=WJ9+i+1-1
set WG9=MultiboardGetItem(L84,WH9,WI9)
call MultiboardSetItemWidth(WG9,0.015)
if B24[i]>0 then
call MultiboardSetItemStyle(WG9,false,true)
call MultiboardSetItemIcon(WG9,MH4[B24[i]])
endif
call MultiboardReleaseItem(WG9)
set i=3
set WI9=WJ9+i+1-1
set WG9=MultiboardGetItem(L84,WH9,WI9)
call MultiboardSetItemWidth(WG9,0.015)
if B24[i]>0 then
call MultiboardSetItemStyle(WG9,false,true)
call MultiboardSetItemIcon(WG9,MH4[B24[i]])
endif
call MultiboardReleaseItem(WG9)
set i=4
set WI9=WJ9+i+1-1
set WG9=MultiboardGetItem(L84,WH9,WI9)
call MultiboardSetItemWidth(WG9,0.015)
if B24[i]>0 then
call MultiboardSetItemStyle(WG9,false,true)
call MultiboardSetItemIcon(WG9,MH4[B24[i]])
endif
call MultiboardReleaseItem(WG9)
set WH9=WH9+2
set WI9=WJ9-2
set WG9=MultiboardGetItem(L84,WH9,WI9)
call MultiboardSetItemStyle(WG9,true,false)
call MultiboardSetItemValue(WG9,C_4+GetObjectName(1848657237))
call MultiboardSetItemWidth(WG9,0.035)
call MultiboardReleaseItem(WG9)
set WI9=WJ9-1
set WG9=MultiboardGetItem(L84,WH9,WI9)
call MultiboardSetItemStyle(WG9,true,false)
call MultiboardSetItemValue(WG9,WD9(BB4[2],2))
call MultiboardSetItemWidth(WG9,0.035)
call MultiboardReleaseItem(WG9)
set WH9=WH9+1
set WI9=WJ9-2
set WG9=MultiboardGetItem(L84,WH9,WI9)
call MultiboardSetItemStyle(WG9,true,false)
call MultiboardSetItemValue(WG9,C_4+GetObjectName(1848657236))
call MultiboardSetItemWidth(WG9,0.035)
call MultiboardReleaseItem(WG9)
set WI9=WJ9-1
set WG9=MultiboardGetItem(L84,WH9,WI9)
call MultiboardSetItemStyle(WG9,true,false)
call MultiboardSetItemValue(WG9,WD9(BA4[2],2))
call MultiboardSetItemWidth(WG9,0.035)
call MultiboardReleaseItem(WG9)
set WH9=WH9+2
set WI9=WJ9-2
set WG9=MultiboardGetItem(L84,WH9,WI9)
call MultiboardSetItemStyle(WG9,true,false)
call MultiboardSetItemValue(WG9,C_4+GetObjectName(1848657241))
call MultiboardSetItemWidth(WG9,0.035)
call MultiboardReleaseItem(WG9)
set WI9=WJ9-1
set WG9=MultiboardGetItem(L84,WH9,WI9)
call MultiboardSetItemStyle(WG9,true,false)
if TimerGetElapsed(W)<15 then
call MultiboardSetItemValue(WG9,L74+GetObjectName(1848657457))
elseif B34==2 then
call MultiboardSetItemValue(WG9,GetObjectName(1848657460))
elseif B34==1 then
call MultiboardSetItemValue(WG9,L74+GetObjectName(1848657457))
else
call MultiboardSetItemValue(WG9,L74+GetObjectName(1848657458))
endif
call MultiboardSetItemWidth(WG9,0.035)
call MultiboardReleaseItem(WG9)
return false
endfunction
function WM9 takes nothing returns nothing
local integer WN9=12
local integer WO9=14
local trigger t=CreateTrigger()
local integer i
local multiboarditem WG9
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerAddCondition(t,Condition(function WF9))
set L84=CreateMultiboard()
call MultiboardSetItemsWidth(L84,0.015)
call MultiboardSetRowCount(L84,WN9)
call MultiboardSetColumnCount(L84,WO9)
call MultiboardSetTitleText(L84,GetObjectName(1848658742))
call MultiboardSetItemsStyle(L84,false,false)
call MultiboardMinimize(L84,false)
call MultiboardDisplay(L84,true)
set i=0
loop
exitwhen i>WO9
set WG9=MultiboardGetItem(L84,0,i)
call MultiboardSetItemWidth(WG9,0.015)
call MultiboardReleaseItem(WG9)
set i=i+1
endloop
set t=null
set WG9=null
endfunction
function WP9 takes nothing returns boolean
local unit WQ9=GetSoldUnit()
local player p=GetOwningPlayer(WQ9)
local integer i
local real x
local real y
local real a
if GetUnitTypeId(WQ9)==1747990094 and IsPlayerAlly(GetOwningPlayer(WQ9),GetOwningPlayer(GetSellingUnit()))then
if M7[GetPlayerId(p)]!=null then
call D78(p,GetObjectName(1848657459))
call KillUnit(WQ9)
set WQ9=null
set p=null
return false
endif
set x=GetUnitX(GetSellingUnit())
set y=GetUnitY(GetSellingUnit())
set i=RN7(GetUnitTypeId(GetSellingUnit()))
set a=GetUnitFacing(GetSellingUnit())
call RemoveUnit(GetSellingUnit())
call CreateUnit(p,i,x,y,a)
endif
if GetUnitTypeId(WQ9)==1747990094 then
call KillUnit(WQ9)
endif
if M7[GetPlayerId(Z7[1])]!=null and M7[GetPlayerId(Z7[2])]!=null and M7[GetPlayerId(Z7[3])]!=null and M7[GetPlayerId(Z7[4])]!=null and M7[GetPlayerId(Z7[5])]!=null and M7[GetPlayerId(A7[1])]!=null and M7[GetPlayerId(A7[2])]!=null and M7[GetPlayerId(A7[3])]!=null and M7[GetPlayerId(A7[4])]!=null and M7[GetPlayerId(A7[5])]!=null then
call U37(GetTriggeringTrigger())
endif
set WQ9=null
set p=null
return false
endfunction
function WR9 takes player pl,boolean J4 returns nothing
local integer O5=GetPlayerId(pl)
local integer T8
local integer U8
if not J4 then
set DQ7[64+O5]=(not DQ7[64+O5])
call DisplayTimedTextToPlayer(pl,0,0,10.,GetObjectName(1496332596)+PC7(DQ7[64+O5],GetObjectName(1496403790),GetObjectName(1498369862)))
if not DQ7[48+O5]then
return
endif
else
set DQ7[48+O5]=true
endif
set DQ7[32+O5]=(DQ7[64+O5]and DQ7[48+O5])
set O5=GetPlayerId(GetLocalPlayer())
set T8=1
set U8=3+HC4+HB4
loop
exitwhen T8>U8
call x7(T4,15,T8,PL7(DQ7[32+O5],GD7,0.01))
set T8=T8+1
endloop
if(pl==GetLocalPlayer())then
set EN7=IsMultiboardMinimized(T4)
call MultiboardMinimize(T4,true)
endif
call XX8()
if(pl==GetLocalPlayer())then
call MultiboardMinimize(T4,EN7)
endif
endfunction
function RP9 takes nothing returns nothing
call WR9(GetTriggerPlayer(),false)
endfunction
function WS9 takes player pl,boolean J4 returns nothing
local integer O5=GetPlayerId(pl)
local integer T8
local integer U8
local real QH7
if not(EU or FU)then
return
endif
if not J4 then
set DQ7[112+O5]=(not DQ7[112+O5])
call DisplayTimedTextToPlayer(pl,0,0,10.,GetObjectName(1496332595)+PC7(DQ7[112+O5],GetObjectName(1496403790),GetObjectName(1498369862)))
if not DQ7[96+O5]then
return
endif
else
set DQ7[96+O5]=true
endif
set DQ7[80+O5]=(DQ7[112+O5]and DQ7[96+O5])
set O5=GetPlayerId(GetLocalPlayer())
set QH7=0
if(EU)then
set QH7=QH7+GD7/2
endif
if(FU)then
set QH7=QH7+GD7/2
endif
set T8=1
set U8=3+HC4+HB4
loop
exitwhen T8>U8
call x7(T4,14,T8,PL7(DQ7[80+O5],QH7,0.01))
set T8=T8+1
endloop
if(pl==GetLocalPlayer())then
set EN7=IsMultiboardMinimized(T4)
call MultiboardMinimize(T4,true)
endif
call XX8()
if(pl==GetLocalPlayer())then
call MultiboardMinimize(T4,EN7)
endif
endfunction
function RR9 takes nothing returns nothing
call WS9(GetTriggerPlayer(),false)
endfunction
function WT9 takes nothing returns boolean
local integer O5=1
set BZ4=true
call U37(GetTriggeringTrigger())
call DestroyMultiboard(L84)
call XH8()
call OM9()
call XE8()
loop
exitwhen O5>11
if GetPlayerController(Player(O5))==MAP_CONTROL_USER then
call WR9(Player(O5),true)
call WS9(Player(O5),true)
endif
set O5=O5+1
endloop
return false
endfunction
function ModeCM_SpawnSound takes nothing returns boolean
call U37(GetTriggeringTrigger())
call PlaySoundBJ(ZO)
return false
endfunction
function WU9 takes nothing returns boolean
local trigger t=CreateTrigger()
local integer D39
local integer DC9
local string BY8
local unit u
local real x
local real y
local integer i
local real d
local real WV9=GetRectCenterX(ED)
local real WW9=GetRectCenterY(ED)
local real WX9=GetRectCenterX(L9)
local real WY9=GetRectCenterY(L9)
set B34=3
set O44=true
call U37(GetTriggeringTrigger())
set i=0
loop
exitwhen i==5
set x=WV9-300+i*150
set y=WW9
set u=CreateUnit(Z7[0],MI4[B54[i]],x,y,270)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_SELL)
call PanCameraToTimedForPlayer(Z7[i+1],WV9,WW9,0)
call CreateUnit(Z7[i+1],1848651843,WV9,WW9,bj_UNIT_FACING)
call SetPlayerState(Z7[i+1],PLAYER_STATE_RESOURCE_GOLD,BO4[GetPlayerId(Z7[i+1])]-250)
set DN7[1+i]=u
set i=i+1
endloop
set i=0
loop
exitwhen i==5
set x=WX9-300+i*150
set y=WY9
set u=CreateUnit(A7[0],MI4[B24[i]],x,y,270)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_SELL)
call PanCameraToTimedForPlayer(A7[i+1],WX9,WY9,0)
call CreateUnit(A7[i+1],1848651843,WX9,WY9,bj_UNIT_FACING)
call SetPlayerState(A7[i+1],PLAYER_STATE_RESOURCE_GOLD,BO4[GetPlayerId(A7[i+1])]-250)
set DN7[7+i]=u
set i=i+1
endloop
call TriggerAddCondition(t,Condition(function WP9))
call SuspendTimeOfDay(false)
call EnableTrigger(M04)
call EnableTrigger(ML4)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,10,false)
call TriggerAddCondition(t,Condition(function WT9))
set QD4=90
call A37()
set LO4=false
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,DM7,false)
call TriggerAddCondition(t,Condition(function VX9))
call ExecuteFunc("WZ9")
call OP9()
set t=null
set u=null
return false
endfunction
function WA9 takes integer i returns nothing
call AB7(K34[i])
if B34==1 then
set B54[B_4]=i
set B_4=B_4+1
else
set B24[CK4]=i
set CK4=CK4+1
endif
endfunction
function WB9 takes nothing returns nothing
local integer i=A_7()
loop
if J[i]==false then
set J[i]=true
call WA9(i)
return
endif
endloop
endfunction
function WC9 takes integer i returns nothing
call IM8("Ban"+I2S(GetPlayerId(GetOwningPlayer(GetSoldUnit()))),K34[i])
call AB7(K34[i])
if B34==1 then
set B64[B14]=i
set B14=B14+1
else
set BL4[B04]=i
set B04=B04+1
endif
endfunction
function W39 takes nothing returns nothing
call WC9(-1)
endfunction
function W69 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local player p=null
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==false then
set t=null
return false
endif
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL then
call WA9(GetUnitPointValue(GetSoldUnit()))
call RemoveUnit(GetSoldUnit())
call VN9(GetUnitTypeId(GetSoldUnit()))
if CM4==0 then
set CM4=CM4+1
call U37(t)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function W69))
if B34==1 then
set B34=2
set BB4[B34]=CR4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call D48(p,"Sound\\Interface\\Rescue.wav")
else
set B34=1
set BB4[B34]=CR4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call D48(p,"Sound\\Interface\\Rescue.wav")
endif
set LN4=p
elseif CM4==1 then
if B34==1 and B_4==4 then
set CM4=CM4+1
call U37(t)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function W69))
set B34=2
set BB4[B34]=CR4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call D48(p,"Sound\\Interface\\Rescue.wav")
elseif B34==2 and CK4==4 then
set CM4=CM4+1
call U37(t)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function W69))
set B34=1
set BB4[B34]=CR4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call D48(p,"Sound\\Interface\\Rescue.wav")
endif
if p!=null then
set LN4=p
endif
elseif CM4==2 then
if B34==1 and B_4==5 then
set CM4=CM4+1
call U37(t)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function W69))
set B34=2
set BB4[B34]=CR4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call D48(p,"Sound\\Interface\\Rescue.wav")
elseif B34==2 and CK4==5 then
set CM4=CM4+1
call U37(t)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function W69))
set B34=1
set BB4[B34]=CR4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call D48(p,"Sound\\Interface\\Rescue.wav")
endif
if p!=null then
set LN4=p
endif
elseif CM4==3 then
set CM4=CM4+1
call U37(t)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,1,false)
call TriggerAddCondition(t,Condition(function WU9))
call V09(5)
call MultiboardSetTitleText(L84,GetObjectName(1848658742))
endif
else
if GetTriggerEvalCount(t)>CR4 then
if BA4[B34]>0 then
set BA4[B34]=BA4[B34]-1
else
if B34==1 then
call WB9()
else
call WB9()
endif
if CM4==0 then
set CM4=CM4+1
call U37(t)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function W69))
if B34==1 then
set B34=2
set BB4[B34]=CR4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call SetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call D48(p,"Sound\\Interface\\Rescue.wav")
else
set B34=1
set BB4[B34]=CR4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call SetPlayerState(A7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call D48(p,"Sound\\Interface\\Rescue.wav")
endif
set LN4=p
elseif CM4==1 then
if B34==1 and B_4==4 then
set CM4=CM4+1
call U37(t)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function W69))
set B34=2
set BB4[B34]=CR4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call SetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call D48(p,"Sound\\Interface\\Rescue.wav")
elseif B34==2 and CK4==4 then
set CM4=CM4+1
call U37(t)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function W69))
set B34=1
set BB4[B34]=CR4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call SetPlayerState(A7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call D48(p,"Sound\\Interface\\Rescue.wav")
endif
if p!=null then
set LN4=p
endif
elseif CM4==2 then
if B34==1 and B_4==5 then
set CM4=CM4+1
call U37(t)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function W69))
set B34=2
set BB4[B34]=CR4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call SetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call D48(p,"Sound\\Interface\\Rescue.wav")
elseif B34==2 and CK4==5 then
set CM4=CM4+1
call U37(t)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function W69))
set B34=1
set BB4[B34]=CR4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call SetPlayerState(A7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call D48(p,"Sound\\Interface\\Rescue.wav")
endif
if p!=null then
set LN4=p
endif
elseif CM4==3 then
set CM4=CM4+1
call U37(t)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,1,false)
call TriggerAddCondition(t,Condition(function WU9))
call V09(5)
call MultiboardSetTitleText(L84,GetObjectName(1848658742))
call SetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call SetPlayerState(A7[1],PLAYER_STATE_RESOURCE_GOLD,0)
endif
endif
else
if B34==1 then
set BB4[1]=BB4[1]-1
else
set BB4[2]=BB4[2]-1
endif
endif
endif
set t=null
set p=null
return false
endfunction
function WL9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local player p
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==false then
set t=null
return false
endif
if B14==(CU4+CL4)and B04==(CU4+CL4)then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL then
call RemoveUnit(GetSoldUnit())
endif
call U37(t)
set CM4=0
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function W69))
call V09(4)
call BL7(GetPlayersAll(),15.00,"|c006699CC"+GetObjectName(1848658995)+"|r")
call MultiboardSetTitleText(L84,GetObjectName(1848658742)+" - |c00ffffff"+GetObjectName(1848659000))
if B34==1 then
set BB4[B34]=CQ4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call D48(p,"Sound\\Interface\\Rescue.wav")
else
set BB4[B34]=CQ4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call D48(p,"Sound\\Interface\\Rescue.wav")
endif
set DP7=false
set LN4=p
set t=null
set p=null
return false
endif
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL then
call WC9(GetUnitPointValue(GetSoldUnit()))
call RemoveUnit(GetSoldUnit())
call VQ9(GetUnitTypeId(GetSoldUnit()))
call U37(t)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function WL9))
if B34==1 then
set B34=2
set BB4[B34]=CQ4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call D48(p,"Sound\\Interface\\Rescue.wav")
else
set B34=1
set BB4[B34]=CQ4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call D48(p,"Sound\\Interface\\Rescue.wav")
endif
set LN4=p
else
if GetTriggerEvalCount(t)>CQ4 then
if BA4[B34]>0 then
set BA4[B34]=BA4[B34]-1
else
call W39()
call U37(t)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function WL9))
if B34==1 then
set B34=2
set BB4[B34]=CQ4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call SetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call D48(p,"Sound\\Interface\\Rescue.wav")
else
set B34=1
set BB4[B34]=CQ4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call SetPlayerState(A7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call D48(p,"Sound\\Interface\\Rescue.wav")
endif
set LN4=p
endif
else
if B34==1 then
set BB4[1]=BB4[1]-1
else
set BB4[2]=BB4[2]-1
endif
endif
endif
set t=null
set p=null
return false
endfunction
function W19 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local player p=null
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==false then
set t=null
return false
endif
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL then
call WA9(GetUnitPointValue(GetSoldUnit()))
call RemoveUnit(GetSoldUnit())
call VN9(GetUnitTypeId(GetSoldUnit()))
if CM4==0 then
set CM4=CM4+1
call U37(t)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function W19))
if B34==1 then
set B34=2
set BB4[B34]=CP4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,500)
call D48(p,"Sound\\Interface\\Rescue.wav")
else
set B34=1
set BB4[B34]=CP4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,500)
call D48(p,"Sound\\Interface\\Rescue.wav")
endif
set LN4=p
elseif CM4==1 then
if B34==1 and B_4==2 then
set CM4=CM4+1
call U37(t)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function W19))
set B34=2
set BB4[B34]=CP4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,500)
call D48(p,"Sound\\Interface\\Rescue.wav")
elseif B34==2 and CK4==2 then
set CM4=CM4+1
call U37(t)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function W19))
set B34=1
set BB4[B34]=CP4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,500)
call D48(p,"Sound\\Interface\\Rescue.wav")
endif
if p!=null then
set LN4=p
endif
elseif CM4==2 then
if B34==1 and B_4==3 then
set CM4=CM4+1
call U37(t)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function W19))
set B34=2
set BB4[B34]=CP4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call D48(p,"Sound\\Interface\\Rescue.wav")
elseif B34==2 and CK4==3 then
set CM4=CM4+1
call U37(t)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function W19))
set B34=1
set BB4[B34]=CP4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call D48(p,"Sound\\Interface\\Rescue.wav")
endif
if p!=null then
set LN4=p
endif
elseif CM4==3 then
set CM4=CM4+1
call U37(t)
if BC4==1 then
set B34=1
set BB4[B34]=CQ4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call D48(p,"Sound\\Interface\\Rescue.wav")
else
set B34=2
set p=A7[1]
set BB4[B34]=CQ4
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call D48(p,"Sound\\Interface\\Rescue.wav")
endif
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function WL9))
call V09(3)
call BL7(GetPlayersAll(),15.00,"|c006699CC"+GetObjectName(1848658996)+"|r")
call MultiboardSetTitleText(L84,GetObjectName(1848658742)+" - |c00ffffff"+GetObjectName(1848658999))
set LN4=p
set DP7=true
endif
else
if GetTriggerEvalCount(t)>CP4 then
if BA4[B34]>0 then
set BA4[B34]=BA4[B34]-1
else
if B34==1 then
call WB9()
else
call WB9()
endif
if CM4==0 then
set CM4=CM4+1
call U37(t)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function W19))
if B34==1 then
set B34=2
set BB4[B34]=CP4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,500)
call SetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call D48(p,"Sound\\Interface\\Rescue.wav")
else
set B34=1
set BB4[B34]=CP4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,500)
call SetPlayerState(A7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call D48(p,"Sound\\Interface\\Rescue.wav")
endif
set LN4=p
elseif CM4==1 then
if B34==1 and B_4==2 then
set CM4=CM4+1
call U37(t)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function W19))
set B34=2
set BB4[B34]=CP4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,500)
call SetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call D48(p,"Sound\\Interface\\Rescue.wav")
elseif B34==2 and CK4==2 then
set CM4=CM4+1
call U37(t)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function W19))
set B34=1
set BB4[B34]=CP4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,500)
call SetPlayerState(A7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call D48(p,"Sound\\Interface\\Rescue.wav")
endif
if p!=null then
set LN4=p
endif
elseif CM4==2 then
if B34==1 and B_4==3 then
set CM4=CM4+1
call U37(t)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function W19))
set B34=2
set BB4[B34]=CP4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call SetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call D48(p,"Sound\\Interface\\Rescue.wav")
elseif B34==2 and CK4==3 then
set CM4=CM4+1
call U37(t)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function W19))
set B34=1
set BB4[B34]=CP4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call SetPlayerState(A7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call D48(p,"Sound\\Interface\\Rescue.wav")
endif
if p!=null then
set LN4=p
endif
elseif CM4==3 then
set CM4=CM4+1
call U37(t)
if BC4==1 then
set B34=1
set BB4[B34]=CQ4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call D48(p,"Sound\\Interface\\Rescue.wav")
else
set B34=2
set p=A7[1]
set BB4[B34]=CQ4
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call D48(p,"Sound\\Interface\\Rescue.wav")
endif
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function WL9))
call V09(3)
call BL7(GetPlayersAll(),15.00,"|c006699CC"+GetObjectName(1848658996)+"|r")
call MultiboardSetTitleText(L84,GetObjectName(1848658742)+" - |c00ffffff"+GetObjectName(1848658999))
set LN4=p
set DP7=true
endif
endif
else
if B34==1 then
set BB4[1]=BB4[1]-1
else
set BB4[2]=BB4[2]-1
endif
endif
endif
set t=null
set p=null
return false
endfunction
function W09 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local trigger t2
local player p
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==false then
set t=null
return false
endif
if B14==CU4 and B04==CU4 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL then
call RemoveUnit(GetSoldUnit())
endif
call U37(t)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function W19))
call V09(2)
call BL7(bj_FORCE_ALL_PLAYERS,15.00,"|c006699CC"+GetObjectName(1848658997)+"|r")
call MultiboardSetTitleText(L84,GetObjectName(1848658742)+" - |c00ffffff"+GetObjectName(1848659001))
if B34==1 then
set BB4[B34]=CP4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call D48(p,"Sound\\Interface\\Rescue.wav")
else
set BB4[B34]=CP4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call D48(p,"Sound\\Interface\\Rescue.wav")
endif
set LN4=p
set DP7=false
set t=null
set p=null
return false
endif
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL then
call WC9(GetUnitPointValue(GetSoldUnit()))
call RemoveUnit(GetSoldUnit())
call VQ9(GetUnitTypeId(GetSoldUnit()))
call U37(t)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function W09))
if B34==1 then
set B34=2
set BB4[B34]=CN4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call D48(p,"Sound\\Interface\\Rescue.wav")
else
set B34=1
set BB4[B34]=CN4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call D48(p,"Sound\\Interface\\Rescue.wav")
endif
set LN4=p
else
if GetTriggerEvalCount(t)>CN4 then
if BA4[B34]>0 then
set BA4[B34]=BA4[B34]-1
else
call W39()
call U37(t)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function W09))
if B34==1 then
set B34=2
set BB4[B34]=CN4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call SetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call D48(p,"Sound\\Interface\\Rescue.wav")
else
set B34=1
set BB4[B34]=CN4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call SetPlayerState(A7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call D48(p,"Sound\\Interface\\Rescue.wav")
endif
set LN4=p
endif
else
if B34==1 then
set BB4[1]=BB4[1]-1
else
set BB4[2]=BB4[2]-1
endif
endif
endif
set t=null
set p=null
return false
endfunction
function W59 takes nothing returns boolean
local trigger t=CreateTrigger()
local trigger t2
local player p
set BW4=true
call U37(GetTriggeringTrigger())
if BV4==false then
if BC4==1 then
call BL7(bj_FORCE_ALL_PLAYERS,15.00,Q[GetPlayerId(Z7[1])]+(KZ4[GetPlayerId((Z7[1]))])+"|r "+GetObjectName(1848657217))
else
call BL7(bj_FORCE_ALL_PLAYERS,15.00,Q[GetPlayerId(A7[1])]+(KZ4[GetPlayerId((A7[1]))])+"|r "+GetObjectName(1848657217))
endif
endif
if BC4==1 then
set B34=1
set BB4[B34]=CN4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call D48(p,"Sound\\Interface\\Rescue.wav")
else
set B34=2
set p=A7[1]
set BB4[B34]=CN4
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call D48(p,"Sound\\Interface\\Rescue.wav")
endif
call V09(1)
call BL7(GetPlayersAll(),15.00,"|c006699CC"+GetObjectName(1848658998)+"|r")
call MultiboardSetTitleText(L84,GetObjectName(1848658742)+" - |c00ffffff"+GetObjectName(1848659009))
call D28(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function W09))
set LO4=true
set DP7=true
set LN4=p
set t2=CreateTrigger()
call TriggerRegisterTimerEvent(t2,1,true)
call TriggerAddCondition(t2,Condition(function VS9))
set t2=null
set t=null
set p=null
return false
endfunction
function VF9 takes nothing returns nothing
local trigger t
local location W29=GetRectCenter(pr)
local location W_9=GetRectCenter(qr)
local integer x=1
local player p
call DisableTrigger(QA4)
loop
exitwhen x>5
if Z57(Z7[x])then
call CreateUnitAtLoc(Z7[x],1848651843,W_9,bj_UNIT_FACING)
endif
if Z57(A7[x])then
call CreateUnitAtLoc(A7[x],1848651843,W29,bj_UNIT_FACING)
endif
set x=x+1
endloop
call RemoveLocation(W29)
call RemoveLocation(W_9)
set SN4=true
set G9=false
set F9=false
set O44=false
call SuspendTimeOfDay(true)
call DisableTrigger(M04)
call DisableTrigger(ML4)
if LG4==false then
call VU9()
endif
set BO4[GetPlayerId(Z7[1])]=GetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD)
set BO4[GetPlayerId(Z7[2])]=GetPlayerState(Z7[2],PLAYER_STATE_RESOURCE_GOLD)
set BO4[GetPlayerId(Z7[3])]=GetPlayerState(Z7[3],PLAYER_STATE_RESOURCE_GOLD)
set BO4[GetPlayerId(Z7[4])]=GetPlayerState(Z7[4],PLAYER_STATE_RESOURCE_GOLD)
set BO4[GetPlayerId(Z7[5])]=GetPlayerState(Z7[5],PLAYER_STATE_RESOURCE_GOLD)
set BO4[GetPlayerId(A7[1])]=GetPlayerState(A7[1],PLAYER_STATE_RESOURCE_GOLD)
set BO4[GetPlayerId(A7[2])]=GetPlayerState(A7[2],PLAYER_STATE_RESOURCE_GOLD)
set BO4[GetPlayerId(A7[3])]=GetPlayerState(A7[3],PLAYER_STATE_RESOURCE_GOLD)
set BO4[GetPlayerId(A7[4])]=GetPlayerState(A7[4],PLAYER_STATE_RESOURCE_GOLD)
set BO4[GetPlayerId(A7[5])]=GetPlayerState(A7[5],PLAYER_STATE_RESOURCE_GOLD)
call SetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call SetPlayerState(Z7[2],PLAYER_STATE_RESOURCE_GOLD,0)
call SetPlayerState(Z7[3],PLAYER_STATE_RESOURCE_GOLD,0)
call SetPlayerState(Z7[4],PLAYER_STATE_RESOURCE_GOLD,0)
call SetPlayerState(Z7[5],PLAYER_STATE_RESOURCE_GOLD,0)
call SetPlayerState(A7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call SetPlayerState(A7[2],PLAYER_STATE_RESOURCE_GOLD,0)
call SetPlayerState(A7[3],PLAYER_STATE_RESOURCE_GOLD,0)
call SetPlayerState(A7[4],PLAYER_STATE_RESOURCE_GOLD,0)
call SetPlayerState(A7[5],PLAYER_STATE_RESOURCE_GOLD,0)
set BA4[1]=CS4
set BA4[2]=CS4
set BC4=GetRandomInt(1,2)
set BV4=false
set B34=BC4
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,15-TimerGetElapsed(W),false)
call TriggerAddCondition(t,Condition(function W59))
call WM9()
call BL7(GetPlayersAll(),4.00,GetObjectName(1848657235))
call BL7(GetPlayersAll(),4.00,GetObjectName(1848657234))
set t=null
set W29=null
set W_9=null
set p=null
endfunction
function X49 takes player p,integer z8 returns nothing
local integer i=1
loop
exitwhen i>5
if p!=Z7[i]then
call SetPlayerTechMaxAllowed(Z7[i],z8,0)
endif
if p!=A7[i]then
call SetPlayerTechMaxAllowed(A7[i],z8,0)
endif
set i=i+1
endloop
endfunction
function X79 takes integer X89 returns integer
local integer X99
if X89==1 then
set X99=GetUnitPointValueByType(K24[GetRandomInt(1,K_4)])
elseif X89==2 then
set X99=GetUnitPointValueByType(M44[GetRandomInt(1,M74)])
elseif X89==3 then
set X99=GetUnitPointValueByType(M84[GetRandomInt(1,M94)])
endif
return X99
endfunction
function XD9 takes integer XE9,integer XF9,integer X89 returns integer
local integer X99
set X99=X79(X89)
if X8 and XE9!=X99 and XF9!=X99 then
return X99
endif
loop
exitwhen J[X99]==false and XE9!=X99 and XF9!=X99
set X99=X79(X89)
endloop
set J[X99]=true
return X99
endfunction
function US9 takes nothing returns nothing
local player p
local integer i=1
local integer XE9
local integer XF9
local integer XG9
local trigger t
local integer UL7
set VT=true
set QD4=120
set F9=false
set G9=false
call PauseUnit(MP4,true)
call PauseUnit(MQ4,true)
call PauseUnit(MR4,true)
call PauseUnit(MS4,true)
call PauseUnit(MT4,true)
call PauseUnit(MU4,true)
call PauseUnit(MV4,true)
call PauseUnit(MW4,true)
call PauseUnit(MX4,true)
call PauseUnit(MY4,true)
call PauseUnit(MZ4,true)
call PauseUnit(MA4,true)
call DisableTrigger(QA4)
loop
exitwhen i>5
set p=Z7[i]
set XE9=0
set XF9=0
set XG9=0
if Z_7(p)then
call UnitAddAbility(KU4[GetPlayerId(p)],1093743686)
call UnitAddAbility(KU4[GetPlayerId(p)],1093743685)
call UnitAddAbility(KU4[GetPlayerId(p)],1093743688)
set XE9=XD9(XE9,XF9,1)
set XF9=XD9(XE9,XF9,2)
set XG9=XD9(XE9,XF9,3)
call AddUnitToStock(KU4[GetPlayerId(p)],K34[XE9],1,1)
call X49(p,K34[XE9])
call AddUnitToStock(KU4[GetPlayerId(p)],K34[XF9],1,1)
call X49(p,K34[XF9])
call AddUnitToStock(KU4[GetPlayerId(p)],K34[XG9],1,1)
call X49(p,K34[XG9])
call ClearSelectionForPlayer(p)
call SelectUnitAddForPlayer(KU4[GetPlayerId(p)],p)
call PanCameraToTimedForPlayer(p,GetRectCenterX(ED),GetRectCenterY(ED),0)
call DisplayTimedTextToPlayer(p,0,E9,15," ")
call DisplayTimedTextToPlayer(p,0,E9,15," ")
call DisplayTimedTextToPlayer(p,0,E9,15," ")
call DisplayTimedTextToPlayer(p,0,E9,15,"|cff99ccff"+(GetObjectName((1848657206)))+"|r")
call DisplayTimedTextToPlayer(p,0,E9,15," ")
endif
set p=A7[i]
set XE9=0
set XF9=0
set XG9=0
if Z_7(p)then
call UnitAddAbility(KU4[GetPlayerId(p)],1093743686)
call UnitAddAbility(KU4[GetPlayerId(p)],1093743685)
call UnitAddAbility(KU4[GetPlayerId(p)],1093743688)
set XE9=XD9(XE9,XF9,1)
set XF9=XD9(XE9,XF9,2)
set XG9=XD9(XE9,XF9,3)
call AddUnitToStock(KU4[GetPlayerId(p)],K34[XE9],1,1)
call X49(p,K34[XE9])
call AddUnitToStock(KU4[GetPlayerId(p)],K34[XF9],1,1)
call X49(p,K34[XF9])
call AddUnitToStock(KU4[GetPlayerId(p)],K34[XG9],1,1)
call X49(p,K34[XG9])
call ClearSelectionForPlayer(p)
call SelectUnitAddForPlayer(KU4[GetPlayerId(p)],p)
call PanCameraToTimedForPlayer(p,GetRectCenterX(L9),GetRectCenterY(L9),0)
call DisplayTimedTextToPlayer(p,0,E9,15," ")
call DisplayTimedTextToPlayer(p,0,E9,15," ")
call DisplayTimedTextToPlayer(p,0,E9,15," ")
call DisplayTimedTextToPlayer(p,0,E9,15,"|cff99ccff"+(GetObjectName((1848657206)))+"|r")
call DisplayTimedTextToPlayer(p,0,E9,15," ")
endif
set i=i+1
endloop
set p=null
set t=null
endfunction
function XH9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local integer BI8=UQ7(UL7,"Index")
local player p
local integer B47
local location I28=GetRectCenter(ED)
local location I_8=GetRectCenter(L9)
if BI8<6 then
set p=Z7[BI8]
elseif BI8<11 then
set p=A7[BI8-5]
endif
if BI8>10 then
call TQ7(UL7)
call U37(t)
if D4==false and RZ4==false then
set G9=true
endif
elseif BI8<6 then
call TT7(UL7,"Index",BI8+1)
set M7[GetPlayerId(p)]=null
if Z_7(p)then
loop
exitwhen M7[GetPlayerId(p)]!=null
if GetPlayerController(p)==MAP_CONTROL_USER and RZ4 then
set B47=500
elseif RZ4 then
set B47=A27()
else
set B47=A_7()
endif
if J[B47]==false then
if not X8 and not RZ4 then
set J[B47]=true
endif
set M7[GetPlayerId(p)]=CreateUnitAtLoc(p,K34[B47],I28,bj_UNIT_FACING)
endif
endloop
endif
elseif BI8<11 then
call TT7(UL7,"Index",BI8+1)
set M7[GetPlayerId(p)]=null
if Z_7(p)then
loop
exitwhen M7[GetPlayerId(p)]!=null
if p==Le and RZ4 then
set B47=500
elseif RZ4 then
set B47=A27()
else
set B47=A_7()
endif
if J[B47]==false then
if not X8 then
set J[B47]=true
endif
set M7[GetPlayerId(p)]=CreateUnitAtLoc(p,K34[B47],I_8,bj_UNIT_FACING)
endif
endloop
endif
endif
call RemoveLocation(I28)
call RemoveLocation(I_8)
set I28=null
set I_8=null
set p=null
set t=null
return false
endfunction
function UP9 takes nothing returns nothing
local location I28=GetRectCenter(ED)
local location I_8=GetRectCenter(L9)
local location XI9=GetRectCenter(ED)
local location XJ9=GetRectCenter(L9)
local integer T8=1
local integer U8=5
local integer B47
local trigger t
set E4=true
set F9=false
if not X8 then
call A37()
endif
call DisableTrigger(QA4)
set X4=400
call PanCameraToTimedLocForPlayer(Z7[1],XI9,0)
call PanCameraToTimedLocForPlayer(Z7[2],XI9,0)
call PanCameraToTimedLocForPlayer(Z7[3],XI9,0)
call PanCameraToTimedLocForPlayer(Z7[4],XI9,0)
call PanCameraToTimedLocForPlayer(Z7[5],XI9,0)
call PanCameraToTimedLocForPlayer(A7[1],XJ9,0)
call PanCameraToTimedLocForPlayer(A7[2],XJ9,0)
call PanCameraToTimedLocForPlayer(A7[3],XJ9,0)
call PanCameraToTimedLocForPlayer(A7[4],XJ9,0)
call PanCameraToTimedLocForPlayer(A7[5],XJ9,0)
if H34 then
loop
set B47=A_7()
exitwhen J[B47]==false
endloop
if ZL7(Le)then
set M7[GetPlayerId(Le)]=CreateUnit(Le,K34[B47],GetLocationX(I28),GetLocationY(I28),270)
else
set M7[GetPlayerId(Le)]=CreateUnit(Le,K34[B47],GetLocationX(I_8),GetLocationY(I_8),270)
endif
call RemoveLocation(I28)
call RemoveLocation(I_8)
call RemoveLocation(XI9)
call RemoveLocation(XJ9)
set I28=null
set I_8=null
set XI9=null
set XJ9=null
set t=null
return
endif
set G9=false
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,.5,true)
call TriggerAddCondition(t,Condition(function XH9))
call TT7(GetHandleId(t),"Index",1)
call RemoveLocation(I28)
call RemoveLocation(I_8)
call RemoveLocation(XI9)
call RemoveLocation(XJ9)
set I28=null
set I_8=null
set XI9=null
set XJ9=null
set t=null
endfunction
function Q2 takes nothing returns nothing
call DO8(GetEnumUnit())
endfunction
function Q3 takes unit CR7 returns nothing
local integer Q4=GetPlayerId(GetOwningPlayer(CR7))
set se[Q4]=UnitItemInSlot(CR7,0)
set Se[Q4]=UnitItemInSlot(CR7,1)
set We[Q4]=UnitItemInSlot(CR7,2)
set ze[Q4]=UnitItemInSlot(CR7,3)
set Ze[Q4]=UnitItemInSlot(CR7,4)
set vx[Q4]=UnitItemInSlot(CR7,5)
endfunction
function Q5 takes player h5,player h6 returns integer
local unit Q6=M7[GetPlayerId(h5)]
local unit Q7=M7[GetPlayerId(h6)]
call UnitRemoveBuffs(Q6,true,true)
call UnitRemoveBuffs(Q7,true,true)
if Q6==null and Q7==null then
call BL7(bj_FORCE_ALL_PLAYERS,15,Q[GetPlayerId(Z7[0])]+B37(h5)+" and "+B37(h6)+" did not pick a hero so they have no hero to be assigned.|r")
elseif GetRandomInt(1,2)==1 then
if(Q6!=null)then
return GetUnitTypeId(Q6)
else
return GetUnitTypeId(Q7)
endif
else
if(Q7!=null)then
return GetUnitTypeId(Q7)
else
return GetUnitTypeId(Q6)
endif
endif
call BL7(bj_FORCE_ALL_PLAYERS,15,Q[GetPlayerId(Z7[0])]+B37(h5)+" and "+B37(h6)+" have not picked a hero. They will be given a random hero!")
return A_7()
endfunction
function Q8 takes nothing returns nothing
if(GetUnitTypeId(GetEnumUnit())==1848651828)then
call RemoveUnit(GetEnumUnit())
endif
if(GetUnitTypeId(GetEnumUnit())==1865429043)then
call RemoveUnit(GetEnumUnit())
endif
endfunction
function Q9 takes nothing returns boolean
local integer T8
local group ra=CA7()
local unit rA
local location XI9=GetRectCenter(ED)
local location XJ9=GetRectCenter(L9)
local integer rb=P8(X7)
local player array rB
local player array rc
local integer x
local integer y
local real rC
local real rd
local real rD
local integer re
local group I68=OM7(GetWorldBounds(),null)
call ForGroup(I68,function Q8)
call CZ7(I68)
set T8=1
set x=1
set y=1
loop
exitwhen T8>5
if(Z_7(Z7[T8]))then
call Q3(M7[GetPlayerId(Z7[T8])])
call GroupAddUnit(ra,M7[GetPlayerId(Z7[T8])])
set rB[x]=Z7[T8]
set x=x+1
endif
if(Z_7(A7[T8]))then
call Q3(M7[GetPlayerId(A7[T8])])
call GroupAddUnit(ra,M7[GetPlayerId(A7[T8])])
set rc[y]=A7[T8]
set y=y+1
endif
set T8=T8+1
endloop
set x=1
loop
exitwhen x>rb
set re=Q5(rB[x],rc[x])
if(M7[GetPlayerId(rB[x])]==null)then
set rC=GetLocationX(XI9)+GetRandomReal(1,40)
set rd=GetLocationY(XI9)+GetRandomReal(1,40)
set rD=270
else
set rC=GetUnitX(M7[GetPlayerId(rB[x])])
set rd=GetUnitY(M7[GetPlayerId(rB[x])])
set rD=GetUnitFacing(M7[GetPlayerId(rB[x])])
call SetUnitPathing(M7[GetPlayerId(rB[x])],false)
endif
set M7[GetPlayerId(rB[x])]=CreateUnit(rB[x],re,rC,rd,rD)
call SetUnitPathing(M7[GetPlayerId(rB[x])],false)
call SetUnitPosition(M7[GetPlayerId(rB[x])],rC,rd)
call UnitAddItem(M7[GetPlayerId(rB[x])],se[GetPlayerId(rB[x])])
call UnitAddItem(M7[GetPlayerId(rB[x])],Se[GetPlayerId(rB[x])])
call UnitAddItem(M7[GetPlayerId(rB[x])],We[GetPlayerId(rB[x])])
call UnitAddItem(M7[GetPlayerId(rB[x])],ze[GetPlayerId(rB[x])])
call UnitAddItem(M7[GetPlayerId(rB[x])],Ze[GetPlayerId(rB[x])])
call UnitAddItem(M7[GetPlayerId(rB[x])],vx[GetPlayerId(rB[x])])
call ClearSelectionForPlayer(rB[x])
call SelectUnitAddForPlayer(M7[GetPlayerId(rB[x])],rB[x])
call PanCameraToTimedForPlayer(rB[x],rC,rd,0)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Awaken\\Awaken.mdl",rC,rd))
if(M7[GetPlayerId(rc[x])]==null)then
set rC=GetLocationX(XJ9)
set rd=GetLocationY(XJ9)
set rD=270
else
set rC=GetUnitX(M7[GetPlayerId(rc[x])])
set rd=GetUnitY(M7[GetPlayerId(rc[x])])
set rD=GetUnitFacing(M7[GetPlayerId(rc[x])])
call SetUnitPathing(M7[GetPlayerId(rc[x])],false)
endif
set M7[GetPlayerId(rc[x])]=CreateUnit(rc[x],re,rC,rd,rD)
call SetUnitPathing(M7[GetPlayerId(rc[x])],false)
call SetUnitPosition(M7[GetPlayerId(rc[x])],rC,rd)
call UnitAddItem(M7[GetPlayerId(rc[x])],se[GetPlayerId(rc[x])])
call UnitAddItem(M7[GetPlayerId(rc[x])],Se[GetPlayerId(rc[x])])
call UnitAddItem(M7[GetPlayerId(rc[x])],We[GetPlayerId(rc[x])])
call UnitAddItem(M7[GetPlayerId(rc[x])],ze[GetPlayerId(rc[x])])
call UnitAddItem(M7[GetPlayerId(rc[x])],Ze[GetPlayerId(rc[x])])
call UnitAddItem(M7[GetPlayerId(rc[x])],vx[GetPlayerId(rc[x])])
call ClearSelectionForPlayer(rc[x])
call SelectUnitAddForPlayer(M7[GetPlayerId(rc[x])],rc[x])
call PanCameraToTimedForPlayer(rc[x],rC,rd,0)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Awaken\\Awaken.mdl",rC,rd))
set x=x+1
endloop
call ForGroup(ra,function Q2)
call CZ7(ra)
set x=1
loop
exitwhen x>rb
call SetUnitPathing(M7[GetPlayerId(rB[x])],true)
call SetUnitPathing(M7[GetPlayerId(rc[x])],true)
set x=x+1
endloop
call RemoveLocation(XI9)
call RemoveLocation(XJ9)
set ra=null
set rA=null
set XI9=null
set XJ9=null
set I68=null
return false
endfunction
function rE takes nothing returns boolean
set AJ=true
return false
endfunction
function rf takes nothing returns boolean
set G9=false
set F9=false
call A37()
return false
endfunction
function UG9 takes nothing returns nothing
local trigger t=CreateTrigger()
call BL7(L8,10,"Your hero might change at the 60 second mark.")
call BL7(L8,10,"It is recommended to not purchase items until then.")
set W8=true
call AB7(1211117641)
call TriggerRegisterTimerEvent(t,60-TimerGetElapsed(W),false)
call TriggerAddCondition(t,Condition(function Q9))
set t=CreateTrigger()
call TriggerAddCondition(t,Condition(function rf))
call TriggerRegisterTimerEvent(t,57-TimerGetElapsed(W),false)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,55+60-TimerGetElapsed(W),false)
call TriggerAddCondition(t,Condition(function rE))
set t=null
endfunction
function UR9 takes nothing returns nothing
local location I28=GetRectCenter(HD)
local location I_8=GetRectCenter(GD)
local location XI9=GetRectCenter(ED)
local location XJ9=GetRectCenter(L9)
local integer T8
local integer U8
local integer B47
if not X8 then
call A37()
endif
call DisableTrigger(QA4)
set O4=true
set X4=400
set F9=false
call PanCameraToTimedLocForPlayer(Z7[1],XI9,0)
call PanCameraToTimedLocForPlayer(Z7[2],XI9,0)
call PanCameraToTimedLocForPlayer(Z7[3],XI9,0)
call PanCameraToTimedLocForPlayer(Z7[4],XI9,0)
call PanCameraToTimedLocForPlayer(Z7[5],XI9,0)
call PanCameraToTimedLocForPlayer(A7[1],XJ9,0)
call PanCameraToTimedLocForPlayer(A7[2],XJ9,0)
call PanCameraToTimedLocForPlayer(A7[3],XJ9,0)
call PanCameraToTimedLocForPlayer(A7[4],XJ9,0)
call PanCameraToTimedLocForPlayer(A7[5],XJ9,0)
if H34 then
if ZL7(Le)then
loop
set B47=GetRandomInt(KL4,K14)
exitwhen J[B47]==false
endloop
set M7[GetPlayerId(Le)]=CreateUnit(Le,K34[B47],GetLocationX(I28),GetLocationY(I28),270)
else
loop
set B47=GetRandomInt(K04,K54)
exitwhen J[B47]==false
endloop
set M7[GetPlayerId(Le)]=CreateUnit(Le,K34[B47],GetLocationX(I_8),GetLocationY(I_8),270)
endif
call RemoveLocation(I28)
call RemoveLocation(I_8)
call RemoveLocation(XI9)
call RemoveLocation(XJ9)
return
endif
set G9=false
set T8=1
set U8=5
loop
exitwhen T8>U8
set M7[GetPlayerId(Z7[T8])]=null
if(Z_7(Z7[T8]))then
loop
set B47=GetRandomInt(KL4,K14)
if(J[B47]==false)then
if not X8 then
set J[B47]=true
endif
set M7[GetPlayerId(Z7[T8])]=CreateUnitAtLoc(Z7[T8],K34[B47],I28,bj_UNIT_FACING)
endif
exitwhen(M7[GetPlayerId(Z7[T8])]!=null)
endloop
endif
set T8=T8+1
endloop
set T8=1
set U8=5
loop
exitwhen T8>U8
set M7[GetPlayerId(A7[T8])]=null
if(Z_7(A7[T8]))then
loop
set B47=GetRandomInt(K04,K54)
if(J[B47]==false)then
if not X8 then
set J[B47]=true
endif
set M7[GetPlayerId(A7[T8])]=CreateUnitAtLoc(A7[T8],K34[B47],I_8,bj_UNIT_FACING)
endif
exitwhen(M7[GetPlayerId(A7[T8])]!=null)
endloop
endif
set T8=T8+1
endloop
set G9=true
call RemoveLocation(I28)
call RemoveLocation(I_8)
call RemoveLocation(XI9)
call RemoveLocation(XJ9)
set I28=null
set I_8=null
set XI9=null
set XJ9=null
endfunction
function rF takes nothing returns nothing
set P94=true
call BL7(bj_FORCE_ALL_PLAYERS,10,"No Deaths has been enabled. You will have no respawn time.")
call DisableTrigger(GetTriggeringTrigger())
endfunction
function rg takes nothing returns nothing
local integer rG=S2I(SubString(GetEventPlayerChatString(),6,StringLength(GetEventPlayerChatString())))
if rG>PD4 then
call D78(Le,"Too many lives")
elseif rG<10 then
call D78(Le,"Too few lives")
else
set PD4=rG
call BL7(bj_FORCE_ALL_PLAYERS,10,"Each team has "+I2S(PD4)+" lives before they lose the game.")
call DisableTrigger(GetTriggeringTrigger())
endif
endfunction
function rh takes nothing returns nothing
call DisableTrigger(UI7(GetHandleId(GetTriggeringTrigger()),"nd"))
call DisableTrigger(UI7(GetHandleId(GetTriggeringTrigger()),"lives"))
call DisableTrigger(GetTriggeringTrigger())
endfunction
function XK9 takes nothing returns nothing
local trigger ri=CreateTrigger()
local trigger rI=CreateTrigger()
local trigger nd=CreateTrigger()
set PD4=DQ8(K14,K54-K04+1)
call BL7(bj_FORCE_ALL_PLAYERS,10.," ")
call BL7(bj_FORCE_ALL_PLAYERS,10.,"Extra commands: -nd and -lives xx can be entered in the following 15 seconds. ")
call BL7(bj_FORCE_ALL_PLAYERS,10.,"Current DM lives are "+I2S(PD4))
call TriggerRegisterTimerEvent(ri,15.,false)
call TriggerAddAction(ri,function rh)
call TZ7(GetHandleId(ri),"nd",nd)
call TZ7(GetHandleId(ri),"lives",rI)
call TriggerRegisterPlayerChatEvent(nd,Le,"-nd",true)
call TriggerAddAction(nd,function rF)
call TriggerRegisterPlayerChatEvent(rI,Le,"-lives",false)
call TriggerAddAction(rI,function rg)
endfunction
function XM9 takes nothing returns nothing
local integer rJ=UQ7(GetHandleId(GetTriggeringTrigger()),"PlayerId")
local integer T8
local integer U8
local integer B47
local integer QM
local location I28=GetRectCenter(pr)
local location I_8=GetRectCenter(qr)
if D9 then
return
endif
if ZL7(Player(rJ))then
set T8=KL4
set U8=K14
set QM=0
else
set T8=K04
set U8=K54
set QM=1
endif
if P4 then
set T8=KL4
set U8=K54
if ZL7(Player(rJ))then
call CreateUnitAtLoc(Player(rJ),1848651843,I28,bj_UNIT_FACING)
call CreateUnitAtLoc(Player(rJ),1848651843,I_8,bj_UNIT_FACING)
else
call CreateUnitAtLoc(Player(rJ),1848651843,I28,bj_UNIT_FACING)
call CreateUnitAtLoc(Player(rJ),1848651843,I_8,bj_UNIT_FACING)
endif
endif
if((not E4)and(GetPlayerController(Player(rJ))==MAP_CONTROL_USER))then
loop
exitwhen T8>U8
if J[T8]==false then
call SetPlayerTechMaxAllowed(Player(rJ),K34[T8],1)
endif
set T8=T8+1
endloop
if(GetPlayerState(Player(rJ),PLAYER_STATE_RESOURCE_GOLD)<250)then
call SetPlayerState(Player(rJ),PLAYER_STATE_RESOURCE_GOLD,250)
endif
elseif(S7[QM]<PD4)then
set M7[rJ]=null
if Z_7(Player(rJ))then
loop
if(E4)then
set B47=A_7()
elseif RZ4 then
set B47=A27()
elseif(((not P4)and(ZL7(Player(rJ))))or((P4)and(GetRandomInt(1,2)==1)))then
set B47=GetRandomInt(KL4,K14)
else
set B47=GetRandomInt(K04,K54)
endif
if J[B47]==false then
if RZ4==false then
set J[B47]=true
endif
if ZL7(Player(rJ))then
set M7[rJ]=CreateUnitAtLoc(Player(rJ),K34[B47],I28,bj_UNIT_FACING)
else
set M7[rJ]=CreateUnitAtLoc(Player(rJ),K34[B47],I_8,bj_UNIT_FACING)
endif
endif
exitwhen M7[rJ]!=null
endloop
endif
endif
call RemoveLocation(I28)
call RemoveLocation(I_8)
set I28=null
set I_8=null
if not E4 then
endif
endfunction
function UF9 takes nothing returns nothing
local location Mk
local real CPv
local trigger t
local integer rk
local integer x
set D4=true
call AB7(1211117641)
call AB7(1311781207)
set x=1
loop
exitwhen x>5
set rk=GetPlayerId(Z7[x])
set t=CreateTrigger()
call TriggerRegisterTimerExpireEvent(t,U[rk])
call TriggerAddAction(t,function XM9)
call TT7(GetHandleId(t),"PlayerId",rk)
set rk=GetPlayerId(A7[x])
set t=CreateTrigger()
call TriggerRegisterTimerExpireEvent(t,U[rk])
call TriggerAddAction(t,function XM9)
call TT7(GetHandleId(t),"PlayerId",rk)
set x=x+1
endloop
call UnitRemoveAbility(KJ4,1096906593)
call UnitRemoveAbility(KK4,1096906593)
call UnitRemoveAbility(KM4,1096906593)
call UnitRemoveAbility(KN4,1096906593)
call UnitRemoveAbility(KO4,1096906593)
call UnitRemoveAbility(KP4,1096906593)
call UnitRemoveAbility(KQ4,1096906593)
call UnitRemoveAbility(KR4,1096906593)
call UnitRemoveAbility(KS4,1096906593)
call UnitRemoveAbility(KT4,1096906593)
call ExecuteFunc("XK9")
endfunction
function V99 takes nothing returns nothing
local location P0=GetRectCenter(HD)
local location P3=GetRectCenter(GD)
local location Qn=GetRectCenter(ED)
local location QN=GetRectCenter(L9)
local integer hK=1
local integer hl=5
local trigger t
local integer rk
local integer x
set RZ4=true
set PD4=9999999
call AB7(1211117641)
call AB7(1311781207)
call AB7(1211117653)
call AB7(1315334514)
set x=KL4
loop
exitwhen x>K54
set A0[x]=false
set x=x+1
endloop
set x=1
loop
exitwhen x>5
if GetPlayerController(Z7[x])==MAP_CONTROL_COMPUTER then
set rk=GetPlayerId(Z7[x])
set t=CreateTrigger()
call TriggerRegisterTimerExpireEvent(t,U[rk])
call TriggerAddAction(t,function XM9)
call TT7(GetHandleId(t),"PlayerId",rk)
endif
if GetPlayerController(A7[x])==MAP_CONTROL_COMPUTER then
set rk=GetPlayerId(A7[x])
set t=CreateTrigger()
call TriggerRegisterTimerExpireEvent(t,U[rk])
call TriggerAddAction(t,function XM9)
call TT7(GetHandleId(t),"PlayerId",rk)
endif
set x=x+1
endloop
call DisableTrigger(QA4)
set F9=false
call A37()
set X4=400
set G9=false
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,.5,true)
call TriggerAddCondition(t,Condition(function XH9))
call TT7(GetHandleId(t),"Index",1)
call RemoveLocation(P0)
call RemoveLocation(P3)
call RemoveLocation(Qn)
call RemoveLocation(QN)
set P0=null
set P3=null
set Qn=null
set QN=null
set t=null
endfunction
function UT9 takes nothing returns nothing
local integer rK=GetRandomInt(1,4)
set Ox=true
if(rK==1)then
call BL7(bj_FORCE_ALL_PLAYERS,20.,"AP has been randomly selected as your mode!")
call BL7(bj_FORCE_ALL_PLAYERS,20.," ")
call ExecuteFunc("UQ9")
elseif(rK==2)then
call BL7(bj_FORCE_ALL_PLAYERS,20.,"AR has been randomly selected as your mode!")
call BL7(bj_FORCE_ALL_PLAYERS,20.," ")
call ExecuteFunc("UP9")
elseif(rK==3)then
call BL7(bj_FORCE_ALL_PLAYERS,20.,"TR has been randomly selected as your mode!")
call BL7(bj_FORCE_ALL_PLAYERS,20.," ")
call ExecuteFunc("UR9")
elseif(rK==4)then
call BL7(bj_FORCE_ALL_PLAYERS,20.,"Normal has been randomly selected as your mode!")
call BL7(bj_FORCE_ALL_PLAYERS,20.," ")
endif
endfunction
function UO9 takes nothing returns nothing
set X8=true
call AB7(1211117641)
endfunction
function UD9 takes nothing returns nothing
local integer I58=P8(X7)
local integer I08=P8(Y7)
local integer D5=I58+I08
local integer T8
local integer XN9
local integer x
local integer y
local integer z
local player array XO9
local player array XP9
local integer w
local integer XQ9
local integer XR9
local location XI9=GetRectCenter(ED)
local location XJ9=GetRectCenter(L9)
local location I28=GetRectCenter(pr)
local location I_8=GetRectCenter(qr)
set ge=true
call WJ8(Z7[1])
call WJ8(Z7[2])
call WJ8(Z7[3])
call WJ8(Z7[4])
call WJ8(Z7[5])
call WJ8(A7[1])
call WJ8(A7[2])
call WJ8(A7[3])
call WJ8(A7[4])
call WJ8(A7[5])
set x=1
loop
exitwhen x>5
if Z_7(Z7[x])then
call CreateUnitAtLoc(Z7[x],1848651843,I28,bj_UNIT_FACING)
call CreateUnitAtLoc(Z7[x],1848651843,I_8,bj_UNIT_FACING)
endif
if Z_7(A7[x])then
call CreateUnitAtLoc(A7[x],1848651843,I28,bj_UNIT_FACING)
call CreateUnitAtLoc(A7[x],1848651843,I_8,bj_UNIT_FACING)
endif
set x=x+1
endloop
call RemoveLocation(I28)
call RemoveLocation(I_8)
set XQ9=GetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Z7[2],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Z7[3],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Z7[4],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Z7[5],PLAYER_STATE_RESOURCE_GOLD)
set XR9=GetPlayerState(A7[1],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(A7[2],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(A7[3],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(A7[4],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(A7[5],PLAYER_STATE_RESOURCE_GOLD)
set XO9[1]=null
set XO9[2]=null
set XO9[3]=null
set XO9[4]=null
set XO9[5]=null
set XO9[6]=null
set XO9[7]=null
set XO9[8]=null
set XO9[9]=null
set XO9[10]=null
set z=1
set w=1
set T8=1
loop
exitwhen T8>5
if(Z_7(Z7[T8]))then
set XO9[w]=Z7[T8]
set w=w+1
else
set XP9[z]=Z7[T8]
set z=z+1
endif
set T8=T8+1
endloop
set T8=1
loop
exitwhen T8>5
if(Z_7(A7[T8]))then
set XO9[w]=A7[T8]
set w=w+1
else
set XP9[z]=A7[T8]
set z=z+1
endif
set T8=T8+1
endloop
set Z7[1]=null
set Z7[2]=null
set Z7[3]=null
set Z7[4]=null
set Z7[5]=null
set A7[1]=null
set A7[2]=null
set A7[3]=null
set A7[4]=null
set A7[5]=null
set T8=1
loop
exitwhen T8>(D5/ 2)
set XN9=GetRandomInt(1,D5)
if(XO9[XN9]!=null)then
set Z7[T8]=XO9[XN9]
set XO9[XN9]=null
set T8=T8+1
endif
endloop
set x=T8
set T8=1
loop
exitwhen T8>D5-x+1
set XN9=GetRandomInt(1,D5)
if(XO9[XN9]!=null)then
set A7[T8]=XO9[XN9]
set XO9[XN9]=null
set T8=T8+1
endif
endloop
set z=T8
set T8=x
set y=1
loop
exitwhen T8>5
set Z7[T8]=XP9[y]
set y=y+1
set T8=T8+1
endloop
set T8=z
loop
exitwhen T8>5
set A7[T8]=XP9[y]
set y=y+1
set T8=T8+1
endloop
set T8=0
loop
exitwhen T8>5
set T8=T8+1
endloop
call SetPlayerTeam(Z7[0],0)
call SetPlayerTeam(Z7[1],0)
call SetPlayerTeam(Z7[2],0)
call SetPlayerTeam(Z7[3],0)
call SetPlayerTeam(Z7[4],0)
call SetPlayerTeam(Z7[5],0)
call SetPlayerTeam(A7[0],1)
call SetPlayerTeam(A7[1],1)
call SetPlayerTeam(A7[2],1)
call SetPlayerTeam(A7[3],1)
call SetPlayerTeam(A7[4],1)
call SetPlayerTeam(A7[5],1)
call IE8()
set x=0
set y=0
loop
exitwhen x>5
loop
exitwhen y>5
call SetPlayerAllianceStateBJ(Z7[x],Z7[y],3)
call SetPlayerAllianceStateBJ(A7[x],A7[y],3)
call SetPlayerAllianceStateBJ(Z7[x],A7[y],0)
call SetPlayerAllianceStateBJ(A7[x],Z7[y],0)
set y=y+1
endloop
set y=0
set x=x+1
endloop
call ForceClear(X7)
call ForceClear(Y7)
call ForceAddPlayer(X7,Z7[0])
call ForceAddPlayer(X7,Z7[1])
call ForceAddPlayer(X7,Z7[2])
call ForceAddPlayer(X7,Z7[3])
call ForceAddPlayer(X7,Z7[4])
call ForceAddPlayer(X7,Z7[5])
call ForceAddPlayer(Y7,A7[0])
call ForceAddPlayer(Y7,A7[1])
call ForceAddPlayer(Y7,A7[2])
call ForceAddPlayer(Y7,A7[3])
call ForceAddPlayer(Y7,A7[4])
call ForceAddPlayer(Y7,A7[5])
call ExecuteFunc("IB8")
call XH8()
set I58=P8(X7)
set I08=P8(Y7)
set T8=1
loop
exitwhen T8>5
if(Z_7(Z7[T8]))then
call SetPlayerStateBJ(Z7[T8],PLAYER_STATE_RESOURCE_GOLD,(4265/ I58))
call SetPlayerStateBJ(Z7[T8],PLAYER_STATE_RESOURCE_LUMBER,0)
endif
if(Z_7(A7[T8]))then
call SetPlayerStateBJ(A7[T8],PLAYER_STATE_RESOURCE_GOLD,(4265/ I08))
call SetPlayerStateBJ(A7[T8],PLAYER_STATE_RESOURCE_LUMBER,0)
endif
set T8=T8+1
endloop
if V8 then
set x=0
loop
exitwhen x>5
call SetPlayerAlliance(Player(0),Z7[x],ConvertAllianceType(0),true)
call SetPlayerAlliance(Player(0),Z7[x],ConvertAllianceType(4),true)
call SetPlayerAlliance(Player(0),A7[x],ConvertAllianceType(0),false)
call SetPlayerAlliance(Player(0),A7[x],ConvertAllianceType(4),false)
set x=x+1
endloop
endif
call ID8()
set XI9=null
set XJ9=null
set I28=null
set I_8=null
endfunction
function UE9 takes nothing returns nothing
local integer I58=P8(X7)
local integer I08=P8(Y7)
local integer D5=I58+I08
local integer T8
local integer XN9
local integer x
local integer y
local integer z
local player array XO9
local player array XP9
local integer w
local integer XQ9
local integer XR9
local location XI9
local location XJ9
local location I28
local location I_8
local integer XS9
set XS9=GetRandomInt(1,2)
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,10,(GetObjectName((1848657753))))
if XS9==1 then
return
endif
set jj=true
set XI9=GetRectCenter(ED)
set XJ9=GetRectCenter(L9)
set I28=GetRectCenter(pr)
set I_8=GetRectCenter(qr)
call WJ8(Z7[1])
call WJ8(Z7[2])
call WJ8(Z7[3])
call WJ8(Z7[4])
call WJ8(Z7[5])
call WJ8(A7[1])
call WJ8(A7[2])
call WJ8(A7[3])
call WJ8(A7[4])
call WJ8(A7[5])
set x=1
loop
exitwhen x>5
if Z_7(Z7[x])then
call CreateUnitAtLoc(Z7[x],1848651843,I28,bj_UNIT_FACING)
call CreateUnitAtLoc(Z7[x],1848651843,I_8,bj_UNIT_FACING)
endif
if Z_7(A7[x])then
call CreateUnitAtLoc(A7[x],1848651843,I28,bj_UNIT_FACING)
call CreateUnitAtLoc(A7[x],1848651843,I_8,bj_UNIT_FACING)
endif
set x=x+1
endloop
call RemoveLocation(I28)
call RemoveLocation(I_8)
set XQ9=GetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Z7[2],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Z7[3],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Z7[4],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Z7[5],PLAYER_STATE_RESOURCE_GOLD)
set XR9=GetPlayerState(A7[1],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(A7[2],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(A7[3],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(A7[4],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(A7[5],PLAYER_STATE_RESOURCE_GOLD)
set XO9[1]=Z7[1]
set XO9[2]=Z7[2]
set XO9[3]=Z7[3]
set XO9[4]=Z7[4]
set XO9[5]=Z7[5]
set XO9[6]=A7[1]
set XO9[7]=A7[2]
set XO9[8]=A7[3]
set XO9[9]=A7[4]
set XO9[10]=A7[5]
set Z7[1]=XO9[6]
set Z7[2]=XO9[7]
set Z7[3]=XO9[8]
set Z7[4]=XO9[9]
set Z7[5]=XO9[10]
set A7[1]=XO9[1]
set A7[2]=XO9[2]
set A7[3]=XO9[3]
set A7[4]=XO9[4]
set A7[5]=XO9[5]
call SetPlayerTeam(Z7[0],0)
call SetPlayerTeam(Z7[1],0)
call SetPlayerTeam(Z7[2],0)
call SetPlayerTeam(Z7[3],0)
call SetPlayerTeam(Z7[4],0)
call SetPlayerTeam(Z7[5],0)
call SetPlayerTeam(A7[0],1)
call SetPlayerTeam(A7[1],1)
call SetPlayerTeam(A7[2],1)
call SetPlayerTeam(A7[3],1)
call SetPlayerTeam(A7[4],1)
call SetPlayerTeam(A7[5],1)
call IE8()
set x=0
set y=0
loop
exitwhen x>5
loop
exitwhen y>5
call SetPlayerAllianceStateBJ(Z7[x],Z7[y],3)
call SetPlayerAllianceStateBJ(A7[x],A7[y],3)
call SetPlayerAllianceStateBJ(Z7[x],A7[y],0)
call SetPlayerAllianceStateBJ(A7[x],Z7[y],0)
set y=y+1
endloop
set y=0
set x=x+1
endloop
call ForceClear(X7)
call ForceClear(Y7)
call ForceAddPlayer(X7,Z7[0])
call ForceAddPlayer(X7,Z7[1])
call ForceAddPlayer(X7,Z7[2])
call ForceAddPlayer(X7,Z7[3])
call ForceAddPlayer(X7,Z7[4])
call ForceAddPlayer(X7,Z7[5])
call ForceAddPlayer(Y7,A7[0])
call ForceAddPlayer(Y7,A7[1])
call ForceAddPlayer(Y7,A7[2])
call ForceAddPlayer(Y7,A7[3])
call ForceAddPlayer(Y7,A7[4])
call ForceAddPlayer(Y7,A7[5])
call ExecuteFunc("IB8")
set I58=P8(X7)
set I08=P8(Y7)
set T8=1
loop
exitwhen T8>5
if(Z_7(Z7[T8]))then
call SetPlayerStateBJ(Z7[T8],PLAYER_STATE_RESOURCE_GOLD,(4265/ I58))
call SetPlayerStateBJ(Z7[T8],PLAYER_STATE_RESOURCE_LUMBER,0)
endif
if(Z_7(A7[T8]))then
call SetPlayerStateBJ(A7[T8],PLAYER_STATE_RESOURCE_GOLD,(4265/ I08))
call SetPlayerStateBJ(A7[T8],PLAYER_STATE_RESOURCE_LUMBER,0)
endif
set T8=T8+1
endloop
call PanCameraToTimedLocForPlayer(Z7[1],XI9,0)
call PanCameraToTimedLocForPlayer(Z7[2],XI9,0)
call PanCameraToTimedLocForPlayer(Z7[3],XI9,0)
call PanCameraToTimedLocForPlayer(Z7[4],XI9,0)
call PanCameraToTimedLocForPlayer(Z7[5],XI9,0)
call PanCameraToTimedLocForPlayer(A7[1],XJ9,0)
call PanCameraToTimedLocForPlayer(A7[2],XJ9,0)
call PanCameraToTimedLocForPlayer(A7[3],XJ9,0)
call PanCameraToTimedLocForPlayer(A7[4],XJ9,0)
call PanCameraToTimedLocForPlayer(A7[5],XJ9,0)
call DestroyFogModifier(CreateFogModifierRectBJ(true,Z7[1],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))
call DestroyFogModifier(CreateFogModifierRectBJ(true,Z7[2],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))
call DestroyFogModifier(CreateFogModifierRectBJ(true,Z7[3],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))
call DestroyFogModifier(CreateFogModifierRectBJ(true,Z7[4],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))
call DestroyFogModifier(CreateFogModifierRectBJ(true,Z7[5],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))
call DestroyFogModifier(CreateFogModifierRectBJ(true,A7[1],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))
call DestroyFogModifier(CreateFogModifierRectBJ(true,A7[2],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))
call DestroyFogModifier(CreateFogModifierRectBJ(true,A7[3],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))
call DestroyFogModifier(CreateFogModifierRectBJ(true,A7[4],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))
call DestroyFogModifier(CreateFogModifierRectBJ(true,A7[5],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))
if V8 then
set x=0
loop
exitwhen x>5
call SetPlayerAlliance(Player(0),Z7[x],ConvertAllianceType(0),true)
call SetPlayerAlliance(Player(0),Z7[x],ConvertAllianceType(4),true)
call SetPlayerAlliance(Player(0),A7[x],ConvertAllianceType(0),false)
call SetPlayerAlliance(Player(0),A7[x],ConvertAllianceType(4),false)
set x=x+1
endloop
endif
call ID8()
call XH8()
set XI9=null
set XJ9=null
set I28=null
set I_8=null
endfunction
function rN takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local integer Hm=UQ7(UL7,"HeroType")
local player j8
local integer x=1
loop
exitwhen x>5
set j8=Z7[x]
if Z_7(j8)and j8!=Le then
set M7[GetPlayerId(j8)]=CreateUnit(j8,Hm,GetRectCenterX(ED),GetRectCenterY(ED),270)
endif
set j8=A7[x]
if Z_7(j8)and j8!=Le then
set M7[GetPlayerId(j8)]=CreateUnit(j8,Hm,GetRectCenterX(L9),GetRectCenterY(L9),270)
endif
set x=x+1
endloop
call TQ7(UL7)
call U37(t)
set t=null
set j8=null
return false
endfunction
function ro takes nothing returns nothing
local integer x=1
local player j8
local unit CR7=GetTriggerUnit()
local integer Hm=GetUnitTypeId(CR7)
local trigger t
local integer UL7
if(GetOwningPlayer(CR7)==Le and IsUnitType(CR7,UNIT_TYPE_HERO))then
call DisableTrigger(GetTriggeringTrigger())
if W4[GetPlayerId(Le)]==false and E4==false and O4==false then
call SetPlayerState(Le,PLAYER_STATE_RESOURCE_GOLD,250+GetPlayerState(Le,PLAYER_STATE_RESOURCE_GOLD))
endif
set I[GetPlayerId(Le)]=true
set t=CreateTrigger()
set UL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,.01,false)
call TriggerAddCondition(t,Condition(function rN))
call TT7(UL7,"HeroType",Hm)
endif
set j8=null
set CR7=null
set t=null
endfunction
function UH9 takes nothing returns nothing
local integer x=1
local trigger t=CreateTrigger()
local region r=CreateRegion()
set H34=true
call DisableTrigger(QA4)
call AB7(1211117641)
loop
exitwhen x>5
if(Z7[x]!=Le)then
call AC7(Z7[x])
set W4[GetPlayerId(Z7[x])]=true
set I[GetPlayerId(Z7[x])]=true
endif
if(A7[x]!=Le)then
call AC7(A7[x])
set W4[GetPlayerId(A7[x])]=true
set I[GetPlayerId(A7[x])]=true
endif
set x=x+1
endloop
call RegionAddRect(r,bj_mapInitialPlayableArea)
call TriggerRegisterEnterRegion(t,r,null)
call TriggerAddAction(t,function ro)
endfunction
function UI9 takes nothing returns nothing
local integer T8
local integer U8
set Rx=true
set T8=1
set U8=M94
loop
exitwhen T8>U8
call AB7(M84[T8])
set T8=T8+1
endloop
set T8=1
set U8=M74
loop
exitwhen T8>U8
call AB7(M44[T8])
set T8=T8+1
endloop
endfunction
function UK9 takes nothing returns nothing
local integer T8
local integer U8
set bx=true
set T8=1
set U8=M94
loop
exitwhen T8>U8
call AB7(M84[T8])
set T8=T8+1
endloop
set T8=1
set U8=K_4
loop
exitwhen T8>U8
call AB7(K24[T8])
set T8=T8+1
endloop
endfunction
function UJ9 takes nothing returns nothing
local integer T8
local integer U8
set Nx=true
set T8=1
set U8=K_4
loop
exitwhen T8>U8
call AB7(K24[T8])
set T8=T8+1
endloop
set T8=1
set U8=M74
loop
exitwhen T8>U8
call AB7(M44[T8])
set T8=T8+1
endloop
endfunction
function UN9 takes nothing returns nothing
local integer T8
local integer U8
set lj=true
set T8=1
set U8=ME4
loop
exitwhen T8>U8
call AB7(MD4[T8])
set T8=T8+1
endloop
endfunction
function UM9 takes nothing returns nothing
local integer T8
local integer U8
set Jj=true
set T8=1
set U8=MG4
loop
exitwhen T8>U8
call AB7(MF4[T8])
set T8=T8+1
endloop
endfunction
function UU9 takes nothing returns nothing
set R4=true
endfunction
function UX9 takes nothing returns nothing
set Y4=true
call SetPlayerTechResearched(Z7[0],1378889780,1)
call SetPlayerTechResearched(A7[0],1378889780,1)
call SetPlayerHandicapXP(Z7[1],1.5)
call SetPlayerHandicapXP(Z7[2],1.5)
call SetPlayerHandicapXP(Z7[3],1.5)
call SetPlayerHandicapXP(Z7[4],1.5)
call SetPlayerHandicapXP(Z7[5],1.5)
call SetPlayerHandicapXP(A7[1],1.5)
call SetPlayerHandicapXP(A7[2],1.5)
call SetPlayerHandicapXP(A7[3],1.5)
call SetPlayerHandicapXP(A7[4],1.5)
call SetPlayerHandicapXP(A7[5],1.5)
endfunction
function UV9 takes nothing returns nothing
set A4=true
call DisableTrigger(H04)
endfunction
function UW9 takes nothing returns nothing
set C4=true
endfunction
function XT9 takes nothing returns nothing
set oy=false
call BL7(bj_FORCE_ALL_PLAYERS,10,(GetObjectName((1848657985))))
call DisableTrigger(GetTriggeringTrigger())
endfunction
function XU9 takes nothing returns nothing
call DisableTrigger(UI7(GetHandleId(GetTriggeringTrigger()),"nn"))
call DisableTrigger(GetTriggeringTrigger())
endfunction
function XV9 takes nothing returns nothing
local trigger XW9=CreateTrigger()
local trigger XX9=CreateTrigger()
call BL7(bj_FORCE_ALL_PLAYERS,10.00," ")
call BL7(bj_FORCE_ALL_PLAYERS,10.00,"Extra commands: -noneutrals can be entered in the following 15 seconds. ")
call TriggerRegisterTimerEvent(XW9,15.,false)
call TriggerAddAction(XW9,function XU9)
call TZ7(GetHandleId(XW9),"nn",XX9)
call TriggerRegisterPlayerChatEvent(XX9,Le,"-noneutrals",true)
call TriggerAddAction(XX9,function XT9)
endfunction
function UY9 takes nothing returns nothing
set PE4=true
call ExecuteFunc("XV9")
endfunction
function UZ9 takes nothing returns nothing
set PF4=true
endfunction
function UB9 takes nothing returns nothing
set PG4=true
endfunction
function UA9 takes nothing returns nothing
set PH4=true
endfunction
function UC9 takes nothing returns nothing
set PI4=true
endfunction
function U39 takes nothing returns nothing
set PJ4=true
endfunction
function U69 takes nothing returns nothing
set PK4=true
endfunction
function VD9 takes nothing returns nothing
set T64=true
endfunction
function VE9 takes nothing returns nothing
set TL4=true
endfunction
function XY9 takes nothing returns nothing
local integer i=0
loop
exitwhen i>5
call SetPlayerName(Z7[i],(KZ4[GetPlayerId((Z7[i]))])+" ("+I2S(T[GetPlayerId(Z7[i])])+"/"+I2S(V[GetPlayerId(Z7[i])])+" | "+I2S(T7[GetPlayerId(Z7[i])])+"-"+I2S(U7[GetPlayerId(Z7[i])])+")")
call SetPlayerName(A7[i],(KZ4[GetPlayerId((A7[i]))])+" ("+I2S(T[GetPlayerId(A7[i])])+"/"+I2S(V[GetPlayerId(A7[i])])+" | "+I2S(T7[GetPlayerId(A7[i])])+"-"+I2S(U7[GetPlayerId(A7[i])])+")")
set i=i+1
endloop
endfunction
function XZ9 takes nothing returns boolean
if PM4==false then
if GetLocalPlayer()==KX4 or GetLocalPlayer()==KY4 then
call XY9()
endif
endif
return false
endfunction
function XA9 takes nothing returns boolean
local integer id=GetUnitTypeId(GetTriggerUnit())
local string XB9
if GetLocalPlayer()==GetTriggerPlayer()then
if id==1749236021 then
call ResetUnitAnimation(GetTriggerUnit())
elseif id==1848652107 then
call ResetUnitAnimation(GetTriggerUnit())
elseif id==1849897784 then
call ResetUnitAnimation(GetTriggerUnit())
elseif id==1701078382 then
elseif id==1848651862 then
call ResetUnitAnimation(GetTriggerUnit())
elseif id==1848651863 then
call ResetUnitAnimation(GetTriggerUnit())
elseif id==1848651826 then
call ResetUnitAnimation(GetTriggerUnit())
elseif id==1848651864 then
call ResetUnitAnimation(GetTriggerUnit())
elseif id==1848651833 then
call ResetUnitAnimation(GetTriggerUnit())
elseif id==1848657989 then
call ResetUnitAnimation(GetTriggerUnit())
elseif id==1849897781 then
call ResetUnitAnimation(GetTriggerUnit())
elseif id==1966092369 then
call ResetUnitAnimation(GetTriggerUnit())
elseif id==1967339316 then
call ResetUnitAnimation(GetTriggerUnit())
elseif id==1966092592 then
call ResetUnitAnimation(GetTriggerUnit())
elseif id==1966092378 then
call ResetUnitAnimation(GetTriggerUnit())
endif
endif
return false
endfunction
function XC9 takes nothing returns boolean
local integer id=GetUnitTypeId(GetTriggerUnit())
local string XB9
if GetLocalPlayer()==GetTriggerPlayer()then
if id==1749236021 then
set XB9="stand work"
elseif id==1848652107 then
set XB9="stand third"
elseif id==1849897784 then
call SetUnitAnimationByIndex(GetTriggerUnit(),3)
elseif id==1701078382 then
elseif id==1848651862 then
set XB9="spell attack"
elseif id==1848651863 then
set XB9="spell"
elseif id==1848651826 then
call SetUnitAnimationByIndex(GetTriggerUnit(),3)
elseif id==1848651864 then
set XB9="stand work"
elseif id==1848651833 then
set XB9="stand work"
elseif id==1848657989 then
set XB9="stand victory"
elseif id==1849897781 then
set XB9="stand work"
elseif id==1966092369 then
set XB9="stand work"
elseif id==1967339316 then
set XB9="stand work gold"
elseif id==1966092592 then
set XB9="stand work"
elseif id==1966092378 then
set XB9="stand work"
endif
if XB9!="" then
call SetUnitAnimation(GetTriggerUnit(),XB9)
call QueueUnitAnimationBJ(GetTriggerUnit(),XB9)
endif
endif
return false
endfunction
function UL9 takes nothing returns nothing
set PM4=true
endfunction
function X39 takes nothing returns nothing
local unit CR7=GetTriggerUnit()
call SetUnitScale(CR7,L17(CR7)*CS,L17(CR7)*CS,L17(CR7)*CS)
set CR7=null
endfunction
function X69 takes nothing returns boolean
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true then
call X39()
endif
return false
endfunction
function U19 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterEnterRectSimple(t,bj_mapInitialPlayableArea)
call TriggerAddCondition(t,Condition(function X69))
set bN=true
set CS=0.5
endfunction
function U09 takes nothing returns nothing
set LS=true
endfunction
function U59 takes nothing returns nothing
set DT=true
endfunction
function XL9 takes nothing returns nothing
set M[1]=0
endfunction
function X19 takes nothing returns nothing
set M[2]=0
endfunction
function X09 takes nothing returns nothing
set M[3]=0
endfunction
function X59 takes nothing returns nothing
set M[4]=0
endfunction
function X29 takes nothing returns nothing
set M[5]=0
endfunction
function X_9 takes nothing returns nothing
set M[7]=0
endfunction
function Y49 takes nothing returns nothing
set M[8]=0
endfunction
function Y79 takes nothing returns nothing
set M[9]=0
endfunction
function Y89 takes nothing returns nothing
set M[10]=0
endfunction
function Y99 takes nothing returns nothing
set M[11]=0
endfunction
function YD9 takes nothing returns nothing
local integer i=1
local string id
local player p
loop
exitwhen i>5
set p=Z7[i]
set id=I2S(GetPlayerId(p))
call StoreInteger(IV4,id,"id",i)
set p=A7[i]
set id=I2S(GetPlayerId(p))
call StoreInteger(IV4,id,"id",i+5)
if GetLocalPlayer()==Le then
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"id")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"id")
endif
set i=i+1
endloop
endfunction
function YE9 takes nothing returns boolean
local boolean YF9=Y8
if(vY and(not YF9))then
set Y8=true
endif
if YF9 then
call A17()
call BL7(bj_FORCE_ALL_PLAYERS,20.00,Q[GetPlayerId(Le)]+(KZ4[GetPlayerId((Le))])+"|r"+" "+(GetObjectName((1848656717))))
call BL7(bj_FORCE_ALL_PLAYERS,20.00," ")
set Q94=true
call OP9()
call SU9()
call XH8()
call OM9()
call XE8()
elseif vY then
call BL7(bj_FORCE_ALL_PLAYERS,20.,"The selected mode/s are insignificant and is considered |c006699CCNormal Mode|r. You will get 175 gold refunded when you pick a hero.")
call BL7(bj_FORCE_ALL_PLAYERS,20.," ")
endif
call YD9()
call U37(GetTriggeringTrigger())
return false
endfunction
function YG9 takes nothing returns boolean
set P=true
call U37(GetTriggeringTrigger())
return false
endfunction
function YH9 takes nothing returns nothing
set O=true
endfunction
function YI9 takes nothing returns nothing
set G8=true
endfunction
function YJ9 takes nothing returns nothing
set T9=true
endfunction
function YK9 takes nothing returns boolean
return GetUnitAbilityLevel(GetKillingUnit(),1093685043)>0 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit()))and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitIllusion(GetTriggerUnit())==false
endfunction
function YM9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit u=UE7(UL7,"Unit")
call TT7(GetHandleId(u),"PreviousKills",UQ7(GetHandleId(u),"PreviousKills")-1)
call TQ7(UL7)
call U37(t)
set u=null
set t=null
return false
endfunction
function YN9 takes nothing returns nothing
local unit YO9=GetKillingUnit()
local unit YP9=GetTriggerUnit()
local integer OL7=GetHandleId(YO9)
local integer YQ9=UQ7(OL7,"PreviousKills")
local integer HF8=GetUnitAbilityLevel(YO9,1093685043)
local integer YR9=YQ9*HF8
local integer YS9=DQ8(YR9+HF8*2+2,30)
local texttag tt=CreateTextTag()
local player p=GetOwningPlayer(YO9)
local trigger t=CreateTrigger()
set ET[GetPlayerId(p)]=ET[GetPlayerId(p)]+YS9
call TriggerRegisterTimerEvent(t,25.,false)
call TriggerAddCondition(t,Condition(function YM9))
call TX7(GetHandleId(t),"Unit",YO9)
call TT7(OL7,"PreviousKills",YQ9+1)
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,YS9+GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD))
call SetTextTagText(tt,"+"+I2S(YS9),0.025)
call SetTextTagPosUnit(tt,YP9,0)
call SetTextTagColor(tt,255,220,0,255)
call SetTextTagVelocity(tt,0,0.03)
if GetLocalPlayer()==p then
call SetTextTagVisibility(tt,true)
else
call SetTextTagVisibility(tt,false)
endif
call SetTextTagFadepoint(tt,2)
call SetTextTagLifespan(tt,3)
call SetTextTagPermanent(tt,false)
set t=null
set YO9=null
set YP9=null
set p=null
endfunction
function YT9 takes nothing returns boolean
local integer YU9=ET[GetPlayerId(GetTriggerPlayer())]
if YU9>0 then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,(GetObjectName((1848657745)))+" "+I2S(YU9))
endif
return false
endfunction
function RE8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YK9))
call TriggerAddAction(t,function YN9)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-st",true)
call TriggerAddCondition(t,Condition(function YT9))
set t=null
endfunction
function YV9 takes nothing returns nothing
call HG8(S34,GetEnumUnit(),ZH4,S14)
call HD8(S34,GetEnumUnit(),SL4)
endfunction
function YW9 takes unit EL8,unit O_7,real YX9 returns nothing
local group g
local integer BK7=GetUnitAbilityLevel(EL8,1093750345)
local real x
local real y
set S34=EL8
set S14=(80+70*BK7)*YX9/W54
set SL4=(1+0.75*BK7)*YX9/W54
set S64=CreateUnit(GetOwningPlayer(EL8),1697656901,GetUnitX(O_7),GetUnitY(O_7),0)
call LP7(S64,1093687350)
call SetUnitAbilityLevel(S64,1093687350,H88(SL4))
set IN4=EL8
set g=CA7()
call GroupEnumUnitsInRange(g,GetUnitX(O_7),GetUnitY(O_7),175+25,Condition(function FW8))
if GetUnitTypeId(O_7)!=1747993156 then
call GroupAddUnit(g,O_7)
endif
call ForGroup(g,function YV9)
call CZ7(g)
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\DemolisherFireMissile\\DemolisherFireMissile.mdl",GetUnitX(O_7),GetUnitY(O_7)))
set g=null
endfunction
function YY9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local unit m5=UE7(UL7,"Target")
local unit G28=UE7(UL7,"Projectile")
local real YX9=UR7(UL7,"Elapsed")
local real YZ9=UR7(UL7,"OriginalTime")
local real l4=PS7(GetUnitX(G28),GetUnitY(G28),GetUnitX(m5),GetUnitY(m5))
local real x=GetUnitX(G28)+18*Cos(l4*bj_DEGTORAD)
local real y=GetUnitY(G28)+18*Sin(l4*bj_DEGTORAD)
call SetUnitX(G28,x)
call SetUnitY(G28,y)
if RI7(x,y,GetUnitX(m5),GetUnitY(m5))<=18 then
call KillUnit(G28)
call YW9(p5,m5,YX9)
call TQ7(UL7)
call U37(t)
elseif(TimerGetElapsed(W))-YZ9>(W54+2.0)then
call KillUnit(G28)
call YW9(p5,G28,YX9)
call TQ7(UL7)
call U37(t)
endif
set t=null
set p5=null
set m5=null
set G28=null
return false
endfunction
function YA9 takes unit p5,unit m5,real YX9,real YZ9 returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit G28=CreateUnit(GetOwningPlayer(p5),1747993156,GetUnitX(p5),GetUnitY(p5),GetUnitFacing(p5))
call TX7(UL7,"Source",p5)
call TX7(UL7,"Target",m5)
call TX7(UL7,"Projectile",G28)
call TU7(UL7,"Elapsed",YX9*1.0)
call TU7(UL7,"OriginalTime",YZ9*1.0)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function YY9))
set t=null
set G28=null
endfunction
function YB9 takes string YC9,unit m5,unit Y39 returns nothing
local texttag tt=CreateTextTag()
call SetTextTagText(tt,YC9,0.033)
call SetTextTagPosUnit(tt,m5,64)
call SetTextTagColor(tt,255,0,0,255)
call SetTextTagVelocity(tt,0,0.0355)
call SetTextTagFadepoint(tt,0.15)
call SetTextTagPermanent(tt,false)
call SetTextTagLifespan(tt,0.65)
if IsUnitAlly(Y39,GetLocalPlayer())or CP7(GetLocalPlayer())then
call SetTextTagVisibility(tt,true)
else
call SetTextTagVisibility(tt,false)
endif
set tt=null
endfunction
function Y69 takes real YL9 returns string
if YL9>4.5 then
return"5.0"
elseif YL9>4.0 then
return"4.5"
elseif YL9>3.5 then
return"4.0"
elseif YL9>3.0 then
return"3.5"
elseif YL9>2.5 then
return"3.0"
elseif YL9>2.0 then
return"2.5"
elseif YL9>1.5 then
return"2.0"
elseif YL9>1.0 then
return"1.5"
elseif YL9>0.5 then
return"1.0"
elseif YL9>0.0 then
return"0.5"
else
return"0.0"
endif
return" "
endfunction
function Y19 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local real YZ9=UR7(UL7,"OriginalTime")
local real H38=(TimerGetElapsed(W))
local real Y09=5.0-(H38-YZ9)
local real XY8=DT8(H38-YZ9,5.0)
local integer Y59=UQ7(UL7,"Count")+1
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call YW9(p5,p5,W54)
if(LoadInteger(L7,(GetHandleId(p5)),(704)))==0 or(LoadInteger(L7,(GetHandleId(p5)),(704)))==1093750345 then
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750345,true)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750344,false)
call SetUnitVertexColor(p5,255,255,255,255)
call DestroyEffect((LoadEffectHandle(L7,(UL7),(32))))
call TQ7(UL7)
call U37(t)
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093750344 then
if CY7(GetSpellTargetUnit())==false then
call YA9(p5,GetSpellTargetUnit(),XY8,YZ9)
endif
if(LoadInteger(L7,(GetHandleId(p5)),(704)))==0 or(LoadInteger(L7,(GetHandleId(p5)),(704)))==1093750345 then
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750345,true)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750344,false)
call SetUnitVertexColor(p5,255,255,255,255)
call DestroyEffect((LoadEffectHandle(L7,(UL7),(32))))
call TQ7(UL7)
call U37(t)
endif
else
call SaveInteger(L7,(UL7),StringHash("Count"),(Y59))
if Y09>=0 then
call YB9(Y69(Y09),p5,p5)
if ModuloInteger(Y59,2)==0 then
call SetUnitVertexColor(p5,255,125,125,255)
else
call SetUnitVertexColor(p5,255,175,175,255)
endif
else
call SetUnitVertexColor(p5,255,0,0,255)
endif
if H38-YZ9>(W54+2.0)then
call YW9(p5,p5,W54)
if(LoadInteger(L7,(GetHandleId(p5)),(704)))==0 or(LoadInteger(L7,(GetHandleId(p5)),(704)))==1093750345 then
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750345,true)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750344,false)
call SetUnitVertexColor(p5,255,255,255,255)
call DestroyEffect((LoadEffectHandle(L7,(UL7),(32))))
call TQ7(UL7)
call U37(t)
endif
endif
set t=null
set p5=null
return false
endfunction
function Y29 takes nothing returns nothing
local unit p5=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local string st="war3mapImported\\UnstableConcoctionRangeDisplay3.mdx"
if GetLocalPlayer()!=GetOwningPlayer(p5)then
set st=""
endif
call TX7(UL7,"Source",p5)
call TU7(UL7,"OriginalTime",TimerGetElapsed(W)*1.0)
call SaveEffectHandle(L7,(UL7),(32),(AddSpecialEffectTarget(st,p5,"origin")))
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function Y19))
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750345,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750344,true)
call LP7(p5,1093750344)
call UnitMakeAbilityPermanent(p5,true,1093750344)
call TriggerEvaluate(t)
set p5=null
set t=null
endfunction
function Y_9 takes nothing returns boolean
if GetSpellAbilityId()==1093750345 then
call Y29()
endif
return false
endfunction
function RF8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function Y_9))
call DH8(1093687350)
set t=null
endfunction
function ZV takes nothing returns boolean
return GetSpellAbilityId()==1093683532
endfunction
function Z49 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(D8))and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and GetUnitTypeId(GetFilterUnit())!=1848657461
endfunction
function Z79 takes nothing returns nothing
call UnitDamageTarget(D8,GetEnumUnit(),F8,true,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
endfunction
function RC takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
local unit oA=UE7(UL7,"Caster")
local integer Rd=UQ7(UL7,"Counter")
local real x=GetUnitX(oA)
local real y=GetUnitY(oA)
local boolexpr hP
local group I68
if Rd>12 then
call KillUnit(oA)
call PauseTimer(t)
call TQ7(UL7)
call DestroyTimer(t)
else
set D8=CR7
set F8=8+GetUnitAbilityLevel(CR7,1093683532)*6
set hP=Condition(function Z49)
set I68=CA7()
call GroupEnumUnitsInRange(I68,x,y,650,hP)
call ForGroup(I68,function Z79)
call CZ7(I68)
call DestroyBoolExpr(hP)
set Rd=Rd+1
call TT7(UL7,"Counter",Rd)
set I68=null
set hP=null
endif
set t=null
set CR7=null
set oA=null
endfunction
function Z89 takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local location Mk=GetSpellTargetLoc()
local real x=GetLocationX(Mk)
local real y=GetLocationY(Mk)
local unit oA=CreateUnit(GetOwningPlayer(CR7),1697657157,x,y,0)
local timer t=CreateTimer()
local integer UL7=GetHandleId(t)
call RemoveLocation(Mk)
call LP7(oA,1093683764)
call SetUnitAbilityLevel(oA,1093683764,GetUnitAbilityLevel(CR7,1093683532))
call LP7(oA,1097625443)
call TX7(UL7,"Hero",CR7)
call TX7(UL7,"Caster",oA)
call TT7(UL7,"Counter",0)
call TimerStart(t,1,true,function RC)
set CR7=null
set Mk=null
set oA=null
set t=null
endfunction
function RG8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(t,function Z89)
call TriggerAddCondition(t,Condition(function ZV))
call DH8(1093683764)
set t=null
endfunction
function Z99 takes nothing returns nothing
call HG8(DN,GetEnumUnit(),ZG4,dN)
endfunction
function ZD9 takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer BK7=GetUnitAbilityLevel(CR7,1093682483)
local real DV8=(0.35+0.25*BK7)*(GetUnitState(m5,UNIT_STATE_MAX_MANA)-GetUnitState(m5,UNIT_STATE_MANA))
local group g=CA7()
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\DragonHawkMissile\\DragonHawkMissile.mdl",m5,"chest"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\SpiritOfVengeanceMissile\\SpiritOfVengeanceMissile.mdl",m5,"chest"))
call DestroyEffect(AddSpecialEffect("war3mapImported\\Enchantment.mdx",GetUnitX(m5),GetUnitY(m5)))
call GroupEnumUnitsInRange(g,GetUnitX(m5),GetUnitY(m5),325,Condition(function G48))
set dN=DV8
set DN=CR7
call ForGroup(g,function Z99)
call PlaySoundOnUnitBJ(oO,100,m5)
call CZ7(g)
set CR7=null
set m5=null
set g=null
endfunction
function ZE9 takes nothing returns boolean
if GetSpellAbilityId()==1093682483 and CY7(GetSpellTargetUnit())==false then
call ZD9()
endif
return false
endfunction
function KM8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZE9))
set t=null
endfunction
function ZF9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit HE8=UE7(UL7,"Caster")
local integer BD8=GetTriggerEvalCount(t)
local integer ZG9=R2I(((0.9-0.3)/ 0.5)/ 0.03)
local integer ZH9=R2I((175/ ZG9))
local integer ZI9=R2I((255/ ZG9)*1.75)
local unit CR7=UE7(UL7,"Hero")
local real x=UR7(UL7,"x")
local real y=UR7(UL7,"y")
if BD8>ZG9 then
call SetUnitVertexColor(HE8,255,255,255,0)
call SetUnitVertexColor(CR7,255,255,255,255)
call ShowUnit(HE8,false)
call TQ7(UL7)
call U37(t)
else
call SetUnitVertexColor(HE8,255,255,255,175-ZH9*BD8)
call SetUnitX(HE8,x)
call SetUnitY(HE8,y)
call SetUnitVertexColor(CR7,255,255,255,ZI9*BD8)
endif
set t=null
set HE8=null
set CR7=null
return false
endfunction
function ZJ9 takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local unit HE8=UE7(GetHandleId(CR7),"BlinkAM_Caster")
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local real x=GetUnitX(CR7)
local real y=GetUnitY(CR7)
call SetUnitX(HE8,x)
call SetUnitY(HE8,y)
call SetUnitX(CR7,x)
call SetUnitY(CR7,y)
call SetUnitVertexColor(CR7,255,255,255,0)
call SetUnitVertexColor(HE8,255,255,255,175)
call SetUnitTimeScale(HE8,0.5)
call TX7(UL7,"Caster",HE8)
call TX7(UL7,"Hero",CR7)
call TU7(UL7,"x",x*1.0)
call TU7(UL7,"y",y*1.0)
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerAddCondition(t,Condition(function ZF9))
set CR7=null
set HE8=null
set t=null
endfunction
function ZK9 takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local unit HE8
local integer UL7=GetHandleId(CR7)
local real a=PS7(GetUnitX(CR7),GetUnitY(CR7),GetSpellTargetX(),GetSpellTargetY())
local real x=GetUnitX(CR7)
local real y=GetUnitY(CR7)
call SetUnitPathing(CR7,false)
call LP7(CR7,1097167976)
set HE8=CreateUnit(GetOwningPlayer(CR7),1747990091,GetUnitX(CR7),GetUnitY(CR7),a)
call LW7(HE8,5)
call SetUnitPathing(HE8,false)
call LP7(HE8,1097167976)
call LP7(HE8,1097625443)
call LP7(HE8,1093678162)
call SetUnitVertexColor(HE8,255,255,255,0)
call SetUnitX(HE8,x)
call SetUnitY(HE8,y)
call SetUnitX(CR7,x)
call SetUnitY(CR7,y)
call SetUnitAnimation(HE8,"Spell Throw")
call SetUnitPathing(CR7,true)
call UnitRemoveAbility(CR7,1097167976)
call TX7(UL7,"BlinkAM_Caster",HE8)
set CR7=null
set HE8=null
endfunction
function ZM9 takes nothing returns boolean
if GetSpellAbilityId()==1095066220 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
call ZJ9()
else
call ZK9()
endif
endif
return false
endfunction
function KN8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZM9))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function ZM9))
set t=null
call LX7(1747990091)
endfunction
function ZN9 takes unit EL8,unit O_7 returns nothing
local integer HF8=GetUnitAbilityLevel(EL8,1093752374)
local real ZO9=16+12*HF8
local real ZP9=GetUnitState(O_7,UNIT_STATE_MANA)
local real ZQ9=RMinBJ(ZO9,ZP9)
if ZQ9>0 then
call SetUnitState(O_7,UNIT_STATE_MANA,ZP9-ZQ9)
call HG8(EL8,O_7,ZH4,ZQ9*0.6)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Feedback\\SpellBreakerAttack.mdl",O_7,"origin"))
endif
endfunction
function ZR9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local integer ZS9=(LoadInteger(L7,(OL7),(30)))
local unit O_7=ZA7(ZS9)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==EL8 then
call DisableTrigger(t)
call ZN9(EL8,O_7)
call ZZ7(ZS9)
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
else
call ZZ7(ZS9)
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function ZT9 takes nothing returns nothing
local trigger t=CreateTrigger()
local unit O_7=GetTriggerUnit()
local unit EL8=GetAttacker()
local integer OL7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,0.4,false)
call TriggerAddCondition(t,Condition(function ZR9))
call SaveInteger(L7,(OL7),(30),(ZC7(O_7)))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
set O_7=null
set EL8=null
set t=null
endfunction
function ZU9 takes nothing returns nothing
local unit EL8=GetAttacker()
if UX7(EL8,"CooldownState")==false then
call U07(EL8,"CooldownState",0.4)
call ZT9()
endif
set EL8=null
endfunction
function ZV9 takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1093752374)>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==(LoadUnitHandle(L7,(GetHandleId(GetTriggeringTrigger())),(14)))and GetUnitTypeId(GetTriggerUnit())!=1848651852 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))and CO7(GetTriggerUnit())==false then
call ZU9()
endif
return false
endfunction
function ZW9 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function ZV9))
call SaveUnitHandle(L7,(GetHandleId(t)),(14),(GetTriggerUnit()))
set t=null
endfunction
function ZX9 takes nothing returns boolean
if GetLearnedSkill()==1093752374 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093752374)==1 then
call ZW9()
endif
return false
endfunction
function KO8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function ZX9))
set t=null
endfunction
function ZY9 takes nothing returns boolean
return GetSpellAbilityId()==1093685071
endfunction
function ZZ9 takes nothing returns nothing
if(GetUnitTypeId(GetEnumUnit())==1848652113 or GetUnitTypeId(GetEnumUnit())==1848652109 or GetUnitTypeId(GetEnumUnit())==1848652114 or GetUnitTypeId(GetEnumUnit())==1848652115)then
call KillUnit(GetEnumUnit())
endif
endfunction
function ZA9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit ZB9=(LoadUnitHandle(L7,(OL7),(2)))
local real ZC9=(LoadReal(L7,(OL7),(6)))
local real Z39=(LoadReal(L7,(OL7),(7)))
local real Z69=GetUnitX(ZB9)
local real ZL9=GetUnitY(ZB9)
call SaveReal(L7,(OL7),(6),((Z69)*1.0))
call SaveReal(L7,(OL7),(7),((ZL9)*1.0))
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call FlushChildHashtable(L7,(OL7))
call U37(t)
else
if ZC9==Z69 and Z39==ZL9 then
if GetUnitAbilityLevel(ZB9,1093752647)==0 then
call LP7(ZB9,1093752647)
endif
else
if GetUnitAbilityLevel(ZB9,1093752647)>0 then
call UnitRemoveAbility(ZB9,1093752647)
endif
endif
endif
set t=null
set ZB9=null
return false
endfunction
function Z19 takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local player j8=GetOwningPlayer(CR7)
local integer BK7=GetUnitAbilityLevel(CR7,1093685071)
local real x=GetUnitX(CR7)
local real y=GetUnitY(CR7)
local group I68=CA7()
local unit ZB9
local trigger t
local integer OL7
call GroupEnumUnitsOfPlayer(I68,j8,Condition(function ZY7))
call ForGroup(I68,function ZZ9)
call CZ7(I68)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl",x,y))
if(BK7==1)then
set ZB9=CreateUnit(j8,1848652113,x,y,270)
call UnitApplyTimedLife(ZB9,1112820806,60)
elseif(BK7==2)then
set ZB9=CreateUnit(j8,1848652113,x,y,270)
call UnitApplyTimedLife(ZB9,1112820806,70)
call UnitApplyTimedLife(CreateUnit(j8,1848652109,x,y,270),1112820806,70)
elseif(BK7==3)then
set ZB9=CreateUnit(j8,1848652114,x,y,270)
call UnitApplyTimedLife(ZB9,1112820806,80)
call UnitApplyTimedLife(CreateUnit(j8,1848652109,x,y,270),1112820806,80)
elseif(BK7==4)then
set ZB9=CreateUnit(j8,1848652114,x,y,270)
call UnitApplyTimedLife(ZB9,1112820806,80)
call UnitApplyTimedLife(CreateUnit(j8,1848652115,x,y,270),1112820806,90)
endif
if BK7==3 or BK7==4 then
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerRegisterUnitEvent(t,ZB9,EVENT_UNIT_DEATH)
call SaveReal(L7,(OL7),(6),((GetUnitX(ZB9))*1.0))
call SaveReal(L7,(OL7),(7),((GetUnitY(ZB9))*1.0))
call SaveUnitHandle(L7,(OL7),(2),(ZB9))
call TriggerAddCondition(t,Condition(function ZA9))
endif
set CR7=null
set j8=null
set I68=null
set ZB9=null
set t=null
endfunction
function KR8 takes nothing returns nothing
set nJ=CreateTrigger()
call D28(nJ,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(nJ,Condition(function ZY9))
call TriggerAddAction(nJ,function Z19)
endfunction
function Z09 takes nothing returns nothing
local real x=GetUnitX(GetEnumUnit())
local real y=GetUnitY(GetEnumUnit())
local real a=bj_RADTODEG*Atan2(y-IK4,x-IJ4)
local real Z59
local real Z29
if Sin((a-IM4)*bj_DEGTORAD)<0 then
set Z59=GetUnitX(GetEnumUnit())+15*Cos((IM4-90)*bj_DEGTORAD)
set Z29=GetUnitY(GetEnumUnit())+15*Sin((IM4-90)*bj_DEGTORAD)
call SetUnitPosition(GetEnumUnit(),Z59,Z29)
call SetUnitFacingTimed(GetEnumUnit(),IM4+90,0.3)
else
set Z59=GetUnitX(GetEnumUnit())+15*Cos((IM4+90)*bj_DEGTORAD)
set Z29=GetUnitY(GetEnumUnit())+15*Sin((IM4+90)*bj_DEGTORAD)
call SetUnitPosition(GetEnumUnit(),Z59,Z29)
call SetUnitFacingTimed(GetEnumUnit(),IM4-90,0.3)
endif
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",GetEnumUnit(),"origin"))
endfunction
function Z_9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local real l4=UR7(UL7,"Angle")
local real x=UR7(UL7,"x")
local real y=UR7(UL7,"y")
local group g=UJ7(UL7,"g")
if GetTriggerEvalCount(t)>16 then
call CZ7(g)
call TQ7(UL7)
call U37(t)
else
set IJ4=x
set IK4=y
set IM4=l4
call ForGroup(g,function Z09)
endif
set t=null
set g=null
return false
endfunction
function A49 takes nothing returns nothing
call HG8(IN4,GetEnumUnit(),ZG4,IJ4)
endfunction
function A79 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit CL7=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local integer HF8=GetUnitAbilityLevel(CL7,1093685042)
local unit HE8
local real A89=bj_RADTODEG*Atan2(GetUnitY(O_7)-GetUnitY(CL7),GetUnitX(O_7)-GetUnitX(CL7))
local real x
local real y
local group g=CA7()
local group g2=CA7()
if HF8==0 then
set HF8=GetUnitAbilityLevel(CL7,1093810233)
endif
call TL7(UL7,"g",g)
call TU7(UL7,"Angle",A89*1.0)
call TU7(UL7,"x",GetUnitX(CL7)*1.0)
call TU7(UL7,"y",GetUnitY(CL7)*1.0)
call TriggerRegisterTimerEvent(t,0.025,true)
call TriggerAddCondition(t,Condition(function Z_9))
set x=GetUnitX(CL7)+50*Cos(A89*bj_DEGTORAD)
set y=GetUnitY(CL7)+50*Sin(A89*bj_DEGTORAD)
call GroupEnumUnitsInRange(g2,x,y,250,Condition(function G48))
call GroupAddGroup(g2,g)
call GroupClear(g2)
set HE8=CreateUnit(GetOwningPlayer(CL7),1865429081,x,y,A89)
call UnitApplyTimedLife(HE8,1112820806,1)
call LP7(HE8,1093684825)
call SetUnitAbilityLevel(HE8,1093684825,HF8)
call IssueImmediateOrder(HE8,"thunderclap")
set x=GetUnitX(CL7)+250*Cos(A89*bj_DEGTORAD)
set y=GetUnitY(CL7)+250*Sin(A89*bj_DEGTORAD)
call GroupEnumUnitsInRange(g2,x,y,250,Condition(function G48))
call GroupAddGroup(g2,g)
call GroupClear(g2)
set HE8=CreateUnit(GetOwningPlayer(CL7),1865429081,x,y,A89)
call UnitApplyTimedLife(HE8,1112820806,1)
call LP7(HE8,1093684825)
call SetUnitAbilityLevel(HE8,1093684825,HF8)
call IssueImmediateOrder(HE8,"thunderclap")
set x=GetUnitX(CL7)+450*Cos(A89*bj_DEGTORAD)
set y=GetUnitY(CL7)+450*Sin(A89*bj_DEGTORAD)
call GroupEnumUnitsInRange(g2,x,y,250,Condition(function G48))
call GroupAddGroup(g2,g)
call GroupClear(g2)
set HE8=CreateUnit(GetOwningPlayer(CL7),1865429081,x,y,A89)
call UnitApplyTimedLife(HE8,1112820806,1)
call LP7(HE8,1093684825)
call SetUnitAbilityLevel(HE8,1093684825,HF8)
call IssueImmediateOrder(HE8,"thunderclap")
if GetUnitAbilityLevel(CL7,1093685042)==0 then
set x=GetUnitX(CL7)+650*Cos(A89*bj_DEGTORAD)
set y=GetUnitY(CL7)+650*Sin(A89*bj_DEGTORAD)
call GroupEnumUnitsInRange(g2,x,y,250,Condition(function G48))
call GroupAddGroup(g2,g)
call GroupClear(g2)
set HE8=CreateUnit(GetOwningPlayer(CL7),1865429081,x,y,A89)
call UnitApplyTimedLife(HE8,1112820806,1)
call LP7(HE8,1093684825)
call SetUnitAbilityLevel(HE8,1093684825,HF8)
call IssueImmediateOrder(HE8,"thunderclap")
endif
call CZ7(g2)
call GroupRemoveUnit(g,O_7)
set IJ4=100*HF8
set IN4=CL7
call ForGroup(g,function A49)
set t=null
set CL7=null
set O_7=null
set HE8=null
set g=null
set g2=null
endfunction
function A99 takes nothing returns boolean
if(GetSpellAbilityId()==1093685042 or GetSpellAbilityId()==1093810233)and CY7(GetSpellTargetUnit())==false then
call A79()
endif
return false
endfunction
function KP8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function A99))
set t=null
endfunction
function AD9 takes nothing returns boolean
return GetSpellAbilityId()==1093685041
endfunction
function AE9 takes unit CR7,real x,real y,group AF9 returns nothing
local group I68=CA7()
local unit KK8
call E78(x,y,150)
call GroupEnumUnitsInRange(I68,x,y,150,Condition(function ZY7))
loop
set KK8=FirstOfGroup(I68)
exitwhen KK8==null
if IsUnitInGroup(KK8,AF9)==false and IsUnitEnemy(KK8,GetOwningPlayer(CR7))then
if(GetUnitAbilityLevel(KK8,1093678162)!=1 and GetUnitState(KK8,UNIT_STATE_LIFE)>0 and IsUnitType(KK8,UNIT_TYPE_STRUCTURE)==false)then
call GroupAddUnit(AF9,KK8)
call UnitDamageTarget(CR7,KK8,60+GetUnitAbilityLevel(CR7,1093685041)*30,true,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_METAL_HEAVY_SLICE)
call AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",KK8,"overhead")
endif
endif
call GroupRemoveUnit(I68,KK8)
endloop
call CZ7(I68)
set I68=null
set KK8=null
endfunction
function AG9 takes nothing returns nothing
local integer OL7=GetHandleId(GetExpiredTimer())
local unit AH9=UE7(OL7,"Axe")
local unit CL7=UE7(OL7,"Hero")
local real Ax=UR7(OL7,"Ax")
local real Ay=UR7(OL7,"Ay")
local real Cx=UR7(OL7,"Cx")
local real Cy=UR7(OL7,"Cy")
local real Bx=UR7(OL7,"Bx")
local real By=UR7(OL7,"By")
local real a=UR7(OL7,"a")
local real b=1-a
local boolean AI9=US7(OL7,"FirstPass")
local group AJ9=UJ7(OL7,"AlreadyDamaged")
local real AK9=RMaxBJ(RI7(Ax,Ay,Cx,Cy)/1300,0.4)
call SetUnitX(AH9,DD8(Ax*a*a+Bx*2*a*b+Cx*b*b))
call SetUnitY(AH9,DE8(Ay*a*a+By*2*a*b+Cy*b*b))
call AE9(CL7,GetUnitX(AH9),GetUnitY(AH9),AJ9)
if(AI9)then
call TU7(OL7,"a",(a-.02/AK9)*1.0)
else
call TU7(OL7,"a",(a+.02/AK9)*1.0)
call TU7(OL7,"Ax",GetUnitX(CL7)*1.0)
call TU7(OL7,"Ay",GetUnitY(CL7)*1.0)
endif
if(a<0 and AI9)then
call TW7(OL7,"FirstPass",false)
call TU7(OL7,"Bx",(Ax+300*Cos(Atan2(Cy-Ay,Cx-Ax)+(UR7(OL7,"AngleOffset"))))*1.0)
call TU7(OL7,"By",(Ay+300*Sin(Atan2(Cy-Ay,Cx-Ax)+(UR7(OL7,"AngleOffset"))))*1.0)
endif
if(a>1 and AI9==false)then
call PauseTimer(GetExpiredTimer())
call CZ7(AJ9)
call TQ7(OL7)
call RemoveUnit(AH9)
call DestroyTimer(GetExpiredTimer())
endif
set AH9=null
set CL7=null
set AJ9=null
endfunction
function AM9 takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local real Ax=GetUnitX(CR7)
local real Ay=GetUnitY(CR7)
local real Cx=GetLocationX(GetSpellTargetLoc())
local real Cy=GetLocationY(GetSpellTargetLoc())
local unit AN9=CreateUnit(GetOwningPlayer(CR7),1697657172,Ax,Ay,270.0)
local unit AO9=CreateUnit(GetOwningPlayer(CR7),1697657172,Ax,Ay,270.0)
local integer AP9
local integer AQ9
local timer AR9=CreateTimer()
local timer AS9=CreateTimer()
if GetSpellTargetUnit()!=null then
set Cx=GetUnitX(GetSpellTargetUnit())
set Cy=GetUnitY(GetSpellTargetUnit())
endif
call LP7(AN9,1097691750)
call UnitRemoveAbility(AN9,1097691750)
call SetUnitFlyHeight(AN9,150,0)
call LP7(AO9,1097691750)
call UnitRemoveAbility(AO9,1097691750)
call SetUnitFlyHeight(AO9,150,0)
set AP9=GetHandleId(AR9)
call TX7(AP9,"Hero",CR7)
call TX7(AP9,"Axe",AN9)
call TL7(AP9,"AlreadyDamaged",CA7())
call TU7(AP9,"Ax",(Ax)*1.0)
call TU7(AP9,"Ay",(Ay)*1.0)
call TU7(AP9,"Cx",(Cx)*1.0)
call TU7(AP9,"Cy",(Cy)*1.0)
call TU7(AP9,"Bx",(Ax+300*Cos(Atan2(Cy-Ay,Cx-Ax)+45))*1.0)
call TU7(AP9,"By",(Ay+300*Sin(Atan2(Cy-Ay,Cx-Ax)+45))*1.0)
call TU7(AP9,"a",(1)*1.0)
call TU7(AP9,"AngleOffset",(-45)*1.0)
call TW7(AP9,"FirstPass",true)
set AQ9=GetHandleId(AS9)
call TX7(AQ9,"Hero",CR7)
call TX7(AQ9,"Axe",AO9)
call TL7(AQ9,"AlreadyDamaged",CA7())
call TU7(AQ9,"Ax",(Ax)*1.0)
call TU7(AQ9,"Ay",(Ay)*1.0)
call TU7(AQ9,"Cx",(Cx)*1.0)
call TU7(AQ9,"Cy",(Cy)*1.0)
call TU7(AQ9,"Bx",(Ax+300*Cos(Atan2(Cy-Ay,Cx-Ax)-45))*1.0)
call TU7(AQ9,"By",(Ay+300*Sin(Atan2(Cy-Ay,Cx-Ax)-45))*1.0)
call TU7(AQ9,"a",(1)*1.0)
call TU7(AQ9,"AngleOffset",(45)*1.0)
call TW7(AQ9,"FirstPass",true)
call TimerStart(AR9,.025,true,function AG9)
call TimerStart(AS9,.025,true,function AG9)
set CR7=null
set AN9=null
set AO9=null
set AR9=null
set AS9=null
endfunction
function KQ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function AD9))
call TriggerAddAction(t,function AM9)
set t=null
endfunction
function AT9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
call UnitRemoveAbility(p5,1093743664)
call TQ7(UL7)
call U37(t)
set t=null
set p5=null
return false
endfunction
function AU9 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit p5=GetTriggerUnit()
call LP7(p5,1093743664)
call TriggerRegisterTimerEvent(t,6.,false)
call TriggerAddCondition(t,Condition(function AT9))
call TX7(UL7,"Source",p5)
set t=null
set p5=null
endfunction
function AV9 takes nothing returns boolean
if GetSpellAbilityId()==1093743450 then
call AU9()
endif
return false
endfunction
function KS8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function AV9))
set t=null
endfunction
function AW9 takes nothing returns nothing
local unit p5=GetTriggerUnit()
local integer UL7=GetHandleId(p5)
local player p=UG7(UL7,"Track|SourcePlayer")
local integer HF8=UQ7(UL7,"Track|Level")
local texttag tt=CreateTextTag()
local integer CR8
local integer i=1
local unit AX9
local player AY9
if HF8==1 then
set CR8=150
elseif HF8==2 then
set CR8=200
else
set CR8=250
endif
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)+CR8)
call SetTextTagText(tt,"+"+I2S(CR8),0.025)
call SetTextTagPosUnit(tt,M7[GetPlayerId(p)],100)
call SetTextTagColor(tt,255,220,0,255)
call SetTextTagVelocity(tt,0,0.03)
call SetTextTagVisibility(tt,false)
if GetLocalPlayer()==p then
call SetTextTagVisibility(tt,true)
endif
call SetTextTagFadepoint(tt,2)
call SetTextTagLifespan(tt,3)
call SetTextTagPermanent(tt,false)
set VG4[GetPlayerId(p)]=VG4[GetPlayerId(p)]+CR8
set YC4=YC4+CR8
if HF8==1 then
set CR8=50
elseif HF8==2 then
set CR8=100
else
set CR8=150
endif
loop
exitwhen i>5
if ZL7(p)then
set AY9=Z7[i]
else
set AY9=A7[i]
endif
if AY9!=p then
set AX9=M7[GetPlayerId(AY9)]
if RH7(AX9,p5)<950 then
set tt=CreateTextTag()
call SetPlayerState(AY9,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(AY9,PLAYER_STATE_RESOURCE_GOLD)+CR8)
call SetTextTagText(tt,"+"+I2S(CR8),0.025)
call SetTextTagPosUnit(tt,AX9,100)
call SetTextTagColor(tt,255,220,0,255)
call SetTextTagVelocity(tt,0,0.03)
call SetTextTagVisibility(tt,false)
if GetLocalPlayer()==AY9 then
call SetTextTagVisibility(tt,true)
endif
call SetTextTagFadepoint(tt,2)
call SetTextTagLifespan(tt,3)
call SetTextTagPermanent(tt,false)
set VG4[GetPlayerId(AY9)]=VG4[GetPlayerId(AY9)]+CR8
set YC4=YC4+CR8
endif
endif
set i=i+1
endloop
set p5=null
set p=null
set tt=null
set AX9=null
set AY9=null
endfunction
function AZ9 takes nothing returns boolean
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and UR7(GetHandleId(GetTriggerUnit()),"Track|Time")>RT7()then
call AW9()
endif
return false
endfunction
function AA9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit m5=UE7(UL7,"Target")
local unit oA=UE7(UL7,"Caster")
call SetUnitX(oA,GetUnitX(m5))
call SetUnitY(oA,GetUnitY(m5))
if GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEvalCount(t)>10 and GetUnitAbilityLevel(m5,1110454348)==0)then
call DestroyEffect(UK7(UL7,"FX"))
call KillUnit(oA)
call TQ7(UL7)
call U37(t)
endif
set t=null
set m5=null
set oA=null
return false
endfunction
function AB9 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit m5=GetSpellTargetUnit()
local unit p5=GetTriggerUnit()
local unit oA=CreateUnit(GetOwningPlayer(m5),1697657174,GetUnitX(m5),GetUnitY(m5),0)
local string AC9="war3mapImported\\TrackBuff.mdx"
if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(m5))and CP7(GetLocalPlayer())==false then
set AC9=""
endif
call LP7(oA,1093742901)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterUnitEvent(t,GetSpellTargetUnit(),EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function AA9))
call TX7(UL7,"Target",m5)
call TX7(UL7,"Caster",oA)
call TY7(UL7,"FX",AddSpecialEffectTarget(AC9,m5,"overhead"))
call TU7(GetHandleId(GetSpellTargetUnit()),"Track|Time",(((RT7())+30)*1.0))
call T37(GetHandleId(GetSpellTargetUnit()),"Track|SourcePlayer",GetOwningPlayer(GetTriggerUnit()))
call TT7(GetHandleId(GetSpellTargetUnit()),"Track|Level",GetUnitAbilityLevel(GetTriggerUnit(),1093681716))
set t=null
set m5=null
set p5=null
set oA=null
endfunction
function A39 takes nothing returns boolean
if GetSpellAbilityId()==1093681716 then
call AB9()
endif
return false
endfunction
function KX8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function A39))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function AZ9))
set t=null
endfunction
function A69 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit m5=UE7(UL7,"Target")
call UnitRemoveAbility(m5,1093749079)
call UnitRemoveAbility(m5,1110459201)
call TQ7(UL7)
call U37(t)
set t=null
set m5=null
return false
endfunction
function AL9 takes unit p5,unit m5 returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,3.,false)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function A69))
call TX7(UL7,"Target",m5)
call LP7(m5,1093749079)
call UnitMakeAbilityPermanent(m5,true,1093749079)
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093749079,false)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\HumanBloodKnight.mdl",m5,"chest"))
set t=null
endfunction
function A19 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local integer HJ8=UQ7(UL7,"TargetIndex")
local unit m5=ZA7(HJ8)
local unit p5=UE7(UL7,"Source")
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==p5 and(GetEventDamage()>40 or IsUnitType(m5,UNIT_TYPE_STRUCTURE)==true or GetUnitTypeId(m5)==1970107511 or GetUnitTypeId(m5)==1700946284)and US7(GetHandleId(p5),"JinadaActive")==true then
call AL9(p5,m5)
call TW7(GetHandleId(p5),"JinadaActive",false)
call TU7(GetHandleId(p5),"LastUsed",TimerGetElapsed(W)*1.0)
call UnitRemoveAbility(p5,1093749075)
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749301)
call UnitRemoveAbility(p5,1093749077)
call ZZ7(HJ8)
call TQ7(UL7)
call U37(t)
endif
else
call ZZ7(HJ8)
call TQ7(UL7)
call U37(t)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function A09 takes nothing returns boolean
local trigger t
local integer UL7
local unit m5
local unit p5
local integer BK7
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call TW7(GetHandleId(GetTriggerUnit()),"JinadaActive",false)
call TU7(GetHandleId(GetTriggerUnit()),"LastUsed",TimerGetElapsed(W)*1.0)
call UnitRemoveAbility(GetTriggerUnit(),1093749075)
call UnitRemoveAbility(GetTriggerUnit(),1093749300)
call UnitRemoveAbility(GetTriggerUnit(),1093749299)
call UnitRemoveAbility(GetTriggerUnit(),1093749301)
call UnitRemoveAbility(GetTriggerUnit(),1093749077)
elseif GetAttacker()==UE7(GetHandleId(GetTriggeringTrigger()),"JinadaHero")then
if IsUnitAlly(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))==false and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and US7(GetHandleId(GetAttacker()),"JinadaActive")==true then
set t=CreateTrigger()
set UL7=GetHandleId(t)
set m5=GetTriggerUnit()
set p5=GetAttacker()
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,2.5,false)
call TriggerAddCondition(t,Condition(function A19))
call TT7(UL7,"TargetIndex",ZC7(m5))
call TX7(UL7,"Source",p5)
set BK7=GetUnitAbilityLevel(p5,1093749073)
if BK7==0 then
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749301)
call UnitRemoveAbility(p5,1093749077)
elseif BK7==1 then
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749301)
call UnitRemoveAbility(p5,1093749077)
elseif BK7==2 then
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749301)
call UnitRemoveAbility(p5,1093749077)
elseif BK7==3 then
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749077)
elseif BK7==4 then
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749301)
endif
set m5=null
set p5=null
set t=null
endif
endif
return false
endfunction
function A59 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
local real A29=TimerGetElapsed(W)
local integer BK7=GetUnitAbilityLevel(CR7,1093749073)
local real A_9=UR7(GetHandleId(CR7),"LastUsed")
local boolean B49=US7(GetHandleId(CR7),"JinadaActive")
if A29-A_9>14-BK7*2 and B49==false and LR7(CR7)==false then
call TW7(GetHandleId(CR7),"JinadaActive",true)
call LP7(CR7,1093749075)
if GetUnitAbilityLevel(CR7,1110455864)==0 then
if BK7==1 then
call LP7(CR7,1093749300)
elseif BK7==2 then
call LP7(CR7,1093749299)
elseif BK7==3 then
call LP7(CR7,1093749301)
elseif BK7==4 then
call LP7(CR7,1093749077)
endif
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(CR7),1093749300,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(CR7),1093749299,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(CR7),1093749301,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(CR7),1093749077,false)
elseif B49==false and GetUnitAbilityLevel(CR7,1110455864)==0 then
call UnitRemoveAbility(CR7,1093749075)
call UnitRemoveAbility(CR7,1093749300)
call UnitRemoveAbility(CR7,1093749299)
call UnitRemoveAbility(CR7,1093749301)
call UnitRemoveAbility(CR7,1093749077)
endif
set t=null
set CR7=null
return false
endfunction
function B79 takes unit CR7,boolean B89 returns nothing
local trigger t=CreateTrigger()
local trigger t2=CreateTrigger()
local integer UL7=GetHandleId(t)
local integer B99=GetHandleId(t2)
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerAddCondition(t,Condition(function A59))
call D28(t2,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterUnitEvent(t2,CR7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t2,Condition(function A09))
call TX7(UL7,"Hero",CR7)
call TX7(B99,"JinadaHero",CR7)
if B89 then
set aj[GetPlayerId(GetOwningPlayer(CR7))]=t
set Rj[GetPlayerId(GetOwningPlayer(CR7))]=t2
endif
set CR7=null
set t=null
set t2=null
endfunction
function BD9 takes nothing returns boolean
if GetLearnedSkill()==1093749073 and GetUnitAbilityLevel(GetTriggerUnit(),1093749073)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call B79(GetTriggerUnit(),false)
endif
return false
endfunction
function KY8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function BD9))
set t=null
endfunction
function BE9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit m5=UE7(UL7,"Target")
local unit p5=UE7(UL7,"Source")
local integer BK7=GetUnitAbilityLevel(p5,1093678913)
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==p5 then
call TQ7(UL7)
call U37(t)
if UX7(p5,"WindWalk|CD")==false then
call U07(p5,"WindWalk|CD",0.5)
if IsUnitType(m5,UNIT_TYPE_STRUCTURE)==false and IsUnitEnemy(m5,GetOwningPlayer(p5))then
call HG8(p5,m5,ZH4,30*BK7)
call DL8(I2S(R2I(30*BK7)),1,p5,0.027,216,0,0,216)
call UB7(p5,"WindWalkBH|Active")
set t=UI7(GetHandleId(p5),"ai|WWTrigger")
call TQ7(GetHandleId(t))
call U37(t)
endif
endif
endif
else
call TQ7(UL7)
call U37(t)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function BF9 takes nothing returns boolean
local trigger t=null
local unit m5=null
local unit p5=null
local integer UL7
local integer BK7
if UX7(GetAttacker(),"WindWalkBH|Active")then
set t=CreateTrigger()
set m5=GetTriggerUnit()
set p5=GetAttacker()
set UL7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,2.,false)
call TriggerAddCondition(t,Condition(function BE9))
call TX7(UL7,"Target",m5)
call TX7(UL7,"Source",p5)
if US7(GetHandleId(p5),"JinadaActive")then
set BK7=GetUnitAbilityLevel(p5,1093749073)
if BK7==0 then
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749301)
call UnitRemoveAbility(p5,1093749077)
elseif BK7==1 then
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749301)
call UnitRemoveAbility(p5,1093749077)
elseif BK7==2 then
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749301)
call UnitRemoveAbility(p5,1093749077)
elseif BK7==3 then
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749077)
elseif BK7==4 then
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749301)
endif
else
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749301)
call UnitRemoveAbility(p5,1093749077)
endif
set m5=null
set p5=null
set t=null
endif
return false
endfunction
function BG9 takes nothing returns boolean
local integer UL7=GetHandleId(GetTriggeringTrigger())
local unit p5=UE7(UL7,"Hero")
local integer BK7
call UB7(p5,"WindWalkBH|Active")
if GetTriggerEventId()==EVENT_UNIT_SPELL_CAST or GetTriggerEventId()==EVENT_UNIT_DEATH then
if US7(GetHandleId(p5),"JinadaActive")then
set BK7=GetUnitAbilityLevel(p5,1093749073)
if BK7==0 then
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749301)
call UnitRemoveAbility(p5,1093749077)
elseif BK7==1 then
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749301)
call UnitRemoveAbility(p5,1093749077)
elseif BK7==2 then
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749301)
call UnitRemoveAbility(p5,1093749077)
elseif BK7==3 then
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749077)
elseif BK7==4 then
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749301)
endif
else
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749301)
call UnitRemoveAbility(p5,1093749077)
endif
else
if not US7(GetHandleId(p5),"JinadaActive")then
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749301)
call UnitRemoveAbility(p5,1093749077)
endif
endif
call TQ7(UL7)
call U37(GetTriggeringTrigger())
set p5=null
return false
endfunction
function BH9 takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Hero")
if IsTriggerEnabled(UI7(UL7,"CancelTr"))then
call UZ7(p5,"WindWalkBH|Active")
endif
call TQ7(UL7)
call U37(t)
set p5=null
set t=null
endfunction
function BI9 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local integer BK7=GetUnitAbilityLevel(p5,1093678913)
call TriggerRegisterTimerEvent(t,1.25-0.25*BK7-0.01,false)
call TriggerAddAction(t,function BH9)
call TX7(UL7,"Hero",p5)
set t=CreateTrigger()
call TZ7(UL7,"CancelTr",t)
set UL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,10+5*BK7,false)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_CAST)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function BG9))
call TX7(UL7,"Hero",p5)
call TZ7(GetHandleId(p5),"ai|WWTrigger",t)
call LP7(p5,1093749300)
call LP7(p5,1093749299)
call LP7(p5,1093749301)
call LP7(p5,1093749077)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093749300,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093749299,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093749301,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093749077,false)
set t=null
set p5=null
endfunction
function BJ9 takes nothing returns boolean
if GetSpellAbilityId()==1093678913 then
call BI9()
endif
return false
endfunction
function KZ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function BJ9))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function BF9))
set t=null
endfunction
function BK9 takes nothing returns boolean
return GetSpellAbilityId()==1093683024 or GetSpellAbilityId()==1093682775
endfunction
function BM9 takes integer BK7,integer a returns integer
if a==0 then
return 1
else
return(BK7-1)*5+1+a
endif
endfunction
function Ry takes nothing returns boolean
return GetUnitTypeId(GetFilterUnit())==1697656920
endfunction
function RY takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function BN9 takes player p returns nothing
local group g=CA7()
call GroupEnumUnitsOfPlayer(g,p,Condition(function Ry))
call ForGroup(g,function RY)
call CZ7(g)
set g=null
endfunction
function BO9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local unit CL7=UE7(GetHandleId(t),"Hero")
local integer OL7=GetHandleId(CL7)
local integer HF8=GetUnitAbilityLevel(CL7,1093682774)
local integer BP9=(UQ7(OL7,"Warpath|Level")-1)
local integer BQ9=DS8(BP9,0,5)
local unit HE8=UE7(OL7,"Warpath|Caster")
local integer BR9
if HF8==1 then
set BR9=BQ9*20
elseif HF8==2 then
set BR9=BQ9*25
elseif HF8==3 then
set BR9=BQ9*30
endif
if BP9==0 then
set BR9=0
endif
call HN8(CL7,BR9)
if GetUnitTypeId(HE8)==1697656920 then
call SetUnitAbilityLevel(HE8,1093682502,BM9(HF8,BQ9))
call TT7(OL7,"Warpath|Level",BP9)
else
call BN9(UG7(GetHandleId(t),"p"))
endif
call TQ7(GetHandleId(t))
call U37(t)
set t=null
set CL7=null
set HE8=null
return false
endfunction
function BS9 takes nothing returns nothing
local unit CL7=GetTriggerUnit()
local integer OL7=GetHandleId(CL7)
local unit HE8=UE7(OL7,"Warpath|Caster")
local integer HF8=GetUnitAbilityLevel(CL7,1093682774)
local integer BP9=(UQ7(OL7,"Warpath|Level")+1)
local integer BQ9=DS8(BP9,0,5)
local integer BT9=BM9(HF8,BQ9)
local trigger t=CreateTrigger()
local integer BR9
if HF8==1 then
set BR9=BQ9*20
elseif HF8==2 then
set BR9=BQ9*25
elseif HF8==3 then
set BR9=BQ9*30
endif
call HN8(CL7,BR9)
call SetUnitAbilityLevel(HE8,1093682502,BT9)
call TT7(OL7,"Warpath|Level",BP9)
call TX7(GetHandleId(t),"Hero",CL7)
call T37(GetHandleId(t),"p",GetOwningPlayer(CL7))
call TriggerRegisterTimerEvent(t,10.,false)
call TriggerAddCondition(t,Condition(function BO9))
set t=null
set CL7=null
set HE8=null
endfunction
function BU9 takes unit CR7,boolean B89 returns nothing
local integer HF8=GetUnitAbilityLevel(CR7,1093682774)
local unit oA=CreateUnit(GetOwningPlayer(CR7),1697656920,0,0,0)
local trigger t=CreateTrigger()
call LP7(oA,1093682502)
call TX7(GetHandleId(CR7),"Warpath|Caster",oA)
call SetUnitInvulnerable(oA,true)
call LP7(oA,1097625443)
call TriggerRegisterUnitEvent(t,CR7,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function BK9))
call TriggerAddAction(t,function BS9)
if B89 then
set Vj[GetPlayerId(GetOwningPlayer(CR7))]=t
endif
set oA=null
set t=null
endfunction
function BV9 takes nothing returns boolean
if GetLearnedSkill()==1093682774 and GetUnitAbilityLevel(GetTriggerUnit(),1093682774)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call BU9(GetTriggerUnit(),false)
endif
return false
endfunction
function KA8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function BV9))
call DH8(1093682502)
set t=null
endfunction
function BW9 takes nothing returns boolean
return(GetSpellAbilityId()==1093682775)and CY7(GetSpellTargetUnit())==false
endfunction
function R6 takes nothing returns nothing
call KillUnit(GetEnumUnit())
endfunction
function R7 takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())==1697656901)
endfunction
function R9 takes nothing returns nothing
local location Mk=GetUnitLoc(GetTriggerUnit())
call SetUnitPositionLoc(GetEnumUnit(),Mk)
if GetUnitUserData(GetEnumUnit())==4 then
call IssueTargetOrderById(GetEnumUnit(),852662,GetSpellTargetUnit())
else
call IncUnitAbilityLevel(GetEnumUnit(),1093682778)
call IssueTargetOrderById(GetEnumUnit(),852662,GetSpellTargetUnit())
call SetUnitUserData(GetEnumUnit(),(GetUnitUserData(GetEnumUnit())+1))
endif
call RemoveLocation(Mk)
set Mk=null
endfunction
function BX9 takes nothing returns nothing
local location Mk=GetUnitLoc(GetTriggerUnit())
local location sA=GetUnitLoc(GetSpellTargetUnit())
local group sb=CA7()
if(UnitHasBuffBJ(GetSpellTargetUnit(),1110454869)==true)then
call GroupEnumUnitsOfPlayer(sb,GetOwningPlayer(GetSpellTargetUnit()),Condition(function R7))
call ForGroupBJ(sb,function R9)
else
call GroupEnumUnitsOfPlayer(sb,GetOwningPlayer(GetSpellTargetUnit()),Condition(function R7))
call ForGroupBJ(sb,function R6)
call DisableTrigger(EA)
call CreateNUnitsAtLocFacingLocBJ(1,1697656901,GetOwningPlayer(GetSpellTargetUnit()),Mk,sA)
call EnableTrigger(EA)
call UnitAddAbility(bj_lastCreatedUnit,1093682778)
call SetUnitAbilityLevelSwapped(1093682778,bj_lastCreatedUnit,((GetUnitAbilityLevelSwapped(1093682775,GetTriggerUnit())*4)-3))
call IssueTargetOrderById(bj_lastCreatedUnit,852662,GetSpellTargetUnit())
call SetUnitUserData(bj_lastCreatedUnit,1)
endif
call CZ7(sb)
call RemoveLocation(Mk)
call RemoveLocation(sA)
set Mk=null
set sA=null
set sb=null
endfunction
function KB8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function BW9))
call TriggerAddAction(t,function BX9)
set t=null
endfunction
function BY9 takes nothing returns boolean
return IsUnitType(GetEventDamageSource(),UNIT_TYPE_STRUCTURE)==false
endfunction
function BZ9 takes unit CR7 returns nothing
local unit HE8=CreateUnit(GetOwningPlayer(CR7),1697656901,GetUnitX(CR7),GetUnitY(CR7),0)
call LP7(HE8,1093683024)
call SetUnitAbilityLevel(HE8,1093683024,GetUnitAbilityLevel(CR7,1093683024))
call IssueImmediateOrder(HE8,"fanofknives")
set HE8=null
endfunction
function BA9 takes unit CR7,real DV8 returns nothing
local integer UL7=GetHandleId(CR7)
local real sD=UR7(UL7,"Bristleback_DamageStack")
if sD+DV8>250 then
call TU7(UL7,"Bristleback_DamageStack",((0)*1.0))
call BZ9(CR7)
else
call TU7(UL7,"Bristleback_DamageStack",((sD+DV8)*1.0))
endif
endfunction
function BB9 takes nothing returns nothing
local unit sE=GetTriggerUnit()
local unit ZE8=GetEventDamageSource()
local real sf=PR7(ZE8,sE)
local real sF=GetUnitFacing(sE)
local real sg
local real DV8=GetEventDamage()
local real sG
local real RK
if(DV8>5)and GetUnitState(sE,UNIT_STATE_LIFE)>1 then
if((sF-sf)<(-180.00))then
set sg=(sF-sf+360)
else
if((sF-sf)>180.)then
set sg=(sF-sf-360)
else
set sg=(sF-sf)
endif
endif
set RK=RAbsBJ(sg)
if RK<=70 then
set sG=(GetUnitAbilityLevel(sE,1093684531)*0.08+0.08)*DV8
call BA9(sE,DV8-sG)
call SetUnitState(sE,UNIT_STATE_LIFE,GetUnitState(sE,UNIT_STATE_LIFE)+sG)
elseif RK<=110 then
set sG=(GetUnitAbilityLevel(sE,1093684531)*0.04+0.04)*DV8
call SetUnitState(sE,UNIT_STATE_LIFE,GetUnitState(sE,UNIT_STATE_LIFE)+sG)
endif
endif
set sE=null
set ZE8=null
endfunction
function BC9 takes unit CR7,boolean B89 returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterUnitEvent(t,CR7,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function BY9))
call TriggerAddAction(t,function BB9)
if B89 then
set nj[GetPlayerId(GetOwningPlayer(CR7))]=t
endif
set t=null
endfunction
function B39 takes nothing returns boolean
if GetLearnedSkill()==1093684531 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093684531)==1 then
call BC9(GetTriggerUnit(),false)
endif
return false
endfunction
function KC8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function B39))
set t=null
endfunction
function B69 takes nothing returns boolean
return GetSpellAbilityId()==1093683024
endfunction
function BL9 takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and GetUnitAbilityLevel(GetFilterUnit(),1093678162)!=1
endfunction
function B19 takes nothing returns nothing
local integer B09=GetHandleId(GetEnumUnit())
local integer B59=LoadInteger(L7,Z8,B09)
local real B29=DT8(F8+B59*30,400)
call UnitDamageTarget(D8,GetEnumUnit(),B29,false,true,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
call SaveInteger(L7,Z8,B09,B59+1)
endfunction
function B_9 takes nothing returns nothing
local integer B09=GetHandleId(GetEnumUnit())
local integer B59=LoadInteger(L7,Z8,B09)
call SaveInteger(L7,Z8,B09,B59-1)
endfunction
function C49 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"UnitVar")
local group I68=UJ7(UL7,"GroupVar")
set Z8=GetHandleId(CR7)
call ForGroup(I68,function B_9)
call CZ7(I68)
call TQ7(UL7)
call U37(t)
set t=null
set CR7=null
set I68=null
return false
endfunction
function C79 takes nothing returns nothing
local unit YO9=GetTriggerUnit()
local group C89=CA7()
local trigger t=CreateTrigger()
if IsUnitType(YO9,UNIT_TYPE_HERO)==false then
set YO9=M7[GetPlayerId(GetOwningPlayer(YO9))]
endif
call GroupEnumUnitsInRange(C89,GetUnitX(YO9),GetUnitY(YO9),650,Condition(function BL9))
set D8=CreateUnit(GetOwningPlayer(YO9),1697656901,GetUnitX(YO9),GetUnitY(YO9),0)
set F8=GetUnitAbilityLevel(YO9,1093683024)*20
set Z8=GetHandleId(YO9)
call ForGroup(C89,function B19)
call TX7(GetHandleId(t),"UnitVar",YO9)
call TL7(GetHandleId(t),"GroupVar",C89)
call TriggerRegisterTimerEvent(t,10.,false)
call TriggerAddCondition(t,Condition(function C49))
set t=null
set YO9=null
set C89=null
endfunction
function K38 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function B69))
call TriggerAddAction(t,function C79)
set t=null
endfunction
function C99 takes nothing returns nothing
call HG8(IH7,GetEnumUnit(),ZG4,II7)
endfunction
function CD9 takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer HF8=GetUnitAbilityLevel(p5,1093816142)
local real CE9
local group g=CA7()
set II7=100+HF8*75
set IH7=p5
set IN4=p5
call GroupEnumUnitsInRange(g,GetUnitX(m5),GetUnitY(m5),190+25,Condition(function F18))
call ForGroup(g,function C99)
set CE9=II7
if GetUnitState(p5,UNIT_STATE_LIFE)<=CE9*0.75 then
set CE9=GetUnitState(p5,UNIT_STATE_LIFE)/ 0.75-10
endif
call HG8(p5,p5,ZG4,CE9)
call DestroyEffect(AddSpecialEffect("war3mapImported\\DoubleEdgeTarget.mdx",GetUnitX(m5),GetUnitY(m5)))
set p5=null
set m5=null
endfunction
function CF9 takes nothing returns boolean
if GetSpellAbilityId()==1093816142 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
call CD9()
else
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\DoubleEdgeCaster.mdx",GetTriggerUnit(),"hand, right"))
endif
endif
return false
endfunction
function K68 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call D28(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function CF9))
set t=null
endfunction
function CG9 takes nothing returns boolean
return GetUnitAbilityLevel(GetTriggerUnit(),1093677142)>0 and GetUnitAbilityLevel(GetAttacker(),1093678162)!=1 and IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))==false and GetUnitTypeId(GetAttacker())!=1848657461
endfunction
function CH9 takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit O_7=GetAttacker()
local integer HF8=GetUnitAbilityLevel(EL8,1093677142)
local integer CI9=GetHeroStr(EL8,true)
local real B29=(14+2*HF8)+(0.18+0.08*HF8)*CI9
call HG8(EL8,O_7,ZH4,B29)
set EL8=null
set O_7=null
endfunction
function KL8 takes nothing returns nothing
local trigger t=CreateTrigger()
call ky(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function CG9))
call TriggerAddAction(t,function CH9)
set t=null
endfunction
function CJ9 takes nothing returns nothing
local integer CK9
local unit CM9=GetEnumUnit()
if CO7(CM9)==false and UX7(CM9,"Stampede|4332")==false then
call U07(CM9,"Stampede|4332",IN7)
set CK9=IM7
call HG8(IK7,CM9,ZG4,(CK9)*GetHeroStr(IJ7,true))
call SetPlayerAbilityAvailable(GetOwningPlayer(CM9),1093816139,false)
call LP7(CM9,1093816139)
call FE8(CM9,1093816139,1,1.25,1110460230)
endif
set CM9=null
endfunction
function CN9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit HE8=(LoadUnitHandle(L7,(OL7),(19)))
local integer HF8=(LoadInteger(L7,(OL7),(5)))
local group g
if GetTriggerEvalCount(t)>=R2I(20*IN7)or GetTriggerEventId()==EVENT_WIDGET_DEATH then
call DestroyEffect((LoadEffectHandle(L7,(OL7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(176))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
call SetUnitPathing(EL8,true)
call UnitRemoveAbility(EL8,1093816116)
call UnitRemoveAbility(EL8,1110460226)
else
set g=CA7()
set IN4=EL8
set IJ7=HE8
set IK7=EL8
set IM7=HF8
call GroupEnumUnitsInRange(g,GetUnitX(EL8),GetUnitY(EL8),105+25,Condition(function FW8))
call ForGroup(g,function CJ9)
call CZ7(g)
endif
set t=null
set EL8=null
set g=null
return false
endfunction
function CO9 takes nothing returns nothing
local unit EL8=GetEnumUnit()
local integer HF8=GetUnitAbilityLevel(IJ7,1093816118)
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call SetUnitPathing(EL8,false)
call LP7(EL8,1093816116)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerRegisterDeathEvent(t,EL8)
call TriggerAddCondition(t,Condition(function CN9))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(19),(IJ7))
call SaveInteger(L7,(OL7),(5),(HF8))
call SaveEffectHandle(L7,(OL7),(175),(AddSpecialEffectTarget("war3mapImported\\SandBreathDamageSmall.mdx",EL8,"foot, left")))
call SaveEffectHandle(L7,(OL7),(176),(AddSpecialEffectTarget("war3mapImported\\SandBreathDamageSmall.mdx",EL8,"foot, right")))
set EL8=null
set t=null
endfunction
function CP9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local group g=CA7()
call FlushChildHashtable(L7,(OL7))
call U37(t)
set IJ7=EL8
set IN4=EL8
call GroupEnumUnitsInRange(g,0,0,99999,Condition(function GB8))
call ForGroup(g,function CO9)
call CZ7(g)
set t=null
set EL8=null
set g=null
return false
endfunction
function CQ9 takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local sound CR9=CreateSound("abilities\\Spells\\Other\\Stampede\\StampedeCaster1.wav",false,false,false,10,10,"DefaultEAXON")
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call StartSound(CR9)
call KillSoundWhenDone(CR9)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function CP9))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
set EL8=null
set CR9=null
endfunction
function CS9 takes nothing returns boolean
if GetSpellAbilityId()==1093816118 then
call CQ9()
endif
return false
endfunction
function K18 takes nothing returns nothing
local trigger t=CreateTrigger()
call DH8(1093816116)
call DH8(1093687350)
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function CS9))
call CreateSound("abilities\\Spells\\Other\\Stampede\\StampedeCaster1.wav",false,false,false,10,10,"DefaultEAXON")
set t=null
endfunction
function CT9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local integer BK7=UQ7(UL7,"Level")
local real so
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamage()>10 then
set so=GetEventDamage()*.08*BK7
call DisableTrigger(t)
call HG8(GetEventDamageSource(),GetTriggerUnit(),ZH4,so)
call EnableTrigger(t)
endif
else
call TQ7(UL7)
call U37(t)
endif
set t=null
return false
endfunction
function CU9 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit m5=GetSpellTargetUnit()
local unit p5=GetTriggerUnit()
local integer BK7=GetUnitAbilityLevel(p5,1093684045)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl",p5,"chest"))
call TT7(UL7,"Level",BK7)
call TriggerRegisterTimerEvent(t,7.,false)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function CT9))
set t=null
set m5=null
set p5=null
endfunction
function CV9 takes nothing returns boolean
if GetSpellAbilityId()==1093684045 then
call CU9()
endif
return false
endfunction
function K08 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function CV9))
set t=null
endfunction
function CW9 takes nothing returns boolean
return GetSpellAbilityId()==1093684308 or GetSpellAbilityId()==1093747539
endfunction
function sq takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1
endfunction
function CX9 takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local integer sr=GetUnitAbilityLevel(CR7,1093684308)
local group I68=OM7(bj_mapInitialPlayableArea,Condition(function sq))
local unit PZ
if sr==0 then
set sr=GetUnitAbilityLevel(CR7,1093747539)
endif
loop
set PZ=FirstOfGroup(I68)
exitwhen PZ==null
if(IsUnitAlly(PZ,GetOwningPlayer(CR7)))then
call SetWidgetLife(PZ,(GetUnitStateSwap(UNIT_STATE_LIFE,PZ)+100+(100*sr)))
call DestroyEffect(AddSpecialEffectTargetUnitBJ("chest",PZ,"Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl"))
endif
call GroupRemoveUnit(I68,PZ)
endloop
call DestroyGroup(I68)
set I68=ON7(bj_mapInitialPlayableArea,GetOwningPlayer(CR7))
loop
set PZ=FirstOfGroup(I68)
exitwhen PZ==null
if(IsUnitType(PZ,UNIT_TYPE_HERO)==false and GetUnitTypeId(PZ)!=1848651843)then
call SetUnitLifePercentBJ(PZ,100)
call DestroyEffect(AddSpecialEffectTargetUnitBJ("chest",PZ,"Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl"))
endif
call GroupRemoveUnit(I68,PZ)
endloop
call DestroyGroup(I68)
set CR7=null
set I68=null
set PZ=null
endfunction
function K58 takes nothing returns nothing
set do=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(do,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(do,Condition(function CW9))
call TriggerAddAction(do,function CX9)
endfunction
function CY9 takes nothing returns boolean
return GetSpellAbilityId()==1093684310 or GetSpellAbilityId()==1093815619
endfunction
function CZ9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit st=UE7(UL7,"Chen")
local unit u=UE7(UL7,"Unit")
local real x=UR7(UL7,"x")
local real y=UR7(UL7,"y")
call DestroyEffect(UK7(UL7,"FX"))
if US7(GetHandleId(u),"Grapple")==false and GetUnitAbilityLevel(u,1093678162)==0 then
call U07(u,"4409",1)
call SetUnitPosition(u,x,y)
endif
if US7(GetHandleId(u),"Grapple")then
call D78(GetOwningPlayer(st),GetObjectName(1848652598))
endif
call TQ7(UL7)
call U37(t)
set t=null
set st=null
set u=null
return false
endfunction
function CA9 takes unit u,unit CB9,integer CC9,real x,real y returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
if IsUnitOwnedByPlayer(u,GetOwningPlayer(CB9))then
call TriggerRegisterTimerEvent(t,0.1,false)
else
call TriggerRegisterTimerEvent(t,7-CC9,false)
endif
call TriggerAddCondition(t,Condition(function CZ9))
call TY7(OL7,"FX",AddSpecialEffectTarget("effects\\Test_of_Faith_FX.mdx",u,"overhead"))
call TX7(OL7,"Unit",u)
call TX7(OL7,"Chen",CB9)
call TU7(OL7,"x",x)
call TU7(OL7,"y",y)
set t=null
endfunction
function C39 takes nothing returns nothing
local unit m5=GetSpellTargetUnit()
local unit st=GetTriggerUnit()
local location Mk=GetUnitLoc(st)
local unit oA
local integer sr=GetUnitAbilityLevel(st,1093684310)
local real sX
local location sy
local effect fx
if(ZL7(GetOwningPlayer(st)))then
set sy=GetRectCenter(ED)
else
set sy=GetRectCenter(L9)
endif
if(IsUnitAlly(m5,GetOwningPlayer(st))==false)then
if CY7(GetSpellTargetUnit())==false then
set sX=GetRandomInt(50*sr,100*sr)
call DL8(I2S(R2I(sX)),1,m5,.023,255,255,0,216)
call UnitDamageTargetBJ(st,m5,sX,ATTACK_TYPE_HERO,DAMAGE_TYPE_MAGIC)
set fx=AddSpecialEffectTargetUnitBJ("chest",m5,"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffect(fx)
endif
else
if(IsUnitType(m5,UNIT_TYPE_HERO))then
if(US7(GetHandleId(GetOwningPlayer(m5)),"DisableHelp")==false)then
call CA9(m5,st,sr,GetLocationX(sy),GetLocationY(sy))
endif
elseif(IsUnitOwnedByPlayer(m5,GetOwningPlayer(st)))then
call SetUnitPositionLoc(m5,sy)
endif
endif
call RemoveLocation(Mk)
call RemoveLocation(sy)
set m5=null
set st=null
set Mk=null
set oA=null
set sy=null
set fx=null
endfunction
function C69 takes nothing returns boolean
if GetLearnedSkill()==1093684310 and IsUnitIllusion(GetTriggerUnit())==false then
call LP7(GetTriggerUnit(),1093815619)
call SetUnitAbilityLevel(GetTriggerUnit(),1093815619,GetUnitAbilityLevel(GetTriggerUnit(),1093684310))
endif
return false
endfunction
function K_8 takes nothing returns nothing
local trigger t
set VJ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(VJ,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(VJ,Condition(function CY9))
call TriggerAddAction(VJ,function C39)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function C69))
endfunction
function CL9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local integer HF8=GetUnitAbilityLevel(EL8,1095262562)
if LR7(EL8)==false then
call SetUnitState(EL8,UNIT_STATE_MANA,GetUnitState(EL8,UNIT_STATE_MANA)+0.5*HF8*0.25)
endif
set EL8=null
set t=null
return false
endfunction
function C19 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerAddCondition(t,Condition(function CL9))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
set t=null
set EL8=null
endfunction
function C09 takes nothing returns boolean
if GetLearnedSkill()==1095262562 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1095262562)==1 then
call C19()
endif
return false
endfunction
function M48 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function C09))
set t=null
endfunction
function C59 takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local unit HE8=CreateUnit(GetOwningPlayer(EL8),1697657656,x,y,0)
local integer HF8=GetUnitAbilityLevel(EL8,1093748025)
call LP7(HE8,1093677380)
call SetUnitAbilityLevel(HE8,1093677380,HF8)
call IssueTargetOrder(HE8,"frostnova",HE8)
call RemoveLocation(l)
call LP7(HE8,1097625443)
call UnitApplyTimedLife(HE8,1112820806,2)
set EL8=null
set HE8=null
set l=null
endfunction
function C29 takes nothing returns boolean
if GetSpellAbilityId()==1093748025 then
call C59()
endif
return false
endfunction
function M78 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function C29))
set t=null
endfunction
function C_9 takes nothing returns boolean
return(GetSpellAbilityId()==1093678649)
endfunction
function L49 takes nothing returns boolean
return((not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAliveBJ(GetFilterUnit()))and(not RZ7(GetFilterUnit()))and(GetUnitTypeId(GetFilterUnit())!=1852010352)and(GetUnitAbilityLevel(GetFilterUnit(),1097167976)==1)and((GetUnitAbilityLevel(GetFilterUnit(),1093684047)==1)or(GetUnitAbilityLevel(GetFilterUnit(),1093684049)==1)or(GetUnitAbilityLevel(GetFilterUnit(),1093684050)==1)or(GetUnitAbilityLevel(GetFilterUnit(),1093684048)==1)))
endfunction
function sS takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit st=UE7(UL7,"Chen")
local integer sT=UQ7(UL7,"MaxUnits")
local group I68=OP7(GetOwningPlayer(st),Condition(function L49))
local unit PZ
loop
exitwhen(CountUnitsInGroup(I68)<=sT)
set PZ=GroupPickRandomUnit(I68)
call GroupRemoveUnit(I68,PZ)
call RemoveUnit(PZ)
endloop
call DestroyGroup(I68)
call TQ7(UL7)
call U37(t)
set st=null
set t=null
set I68=null
set PZ=null
return false
endfunction
function L79 takes nothing returns nothing
local unit sU=GetSpellTargetUnit()
local unit st=GetTriggerUnit()
local integer sr=GetUnitAbilityLevel(st,1093678649)
local integer sT=1
local integer playerid=GetPlayerId(GetOwningPlayer(st))
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call DY8(sU)
if(sr==1)then
call LP7(sU,1093684047)
elseif(sr==2)then
call LP7(sU,1093684049)
elseif(sr==3)then
set sT=2
call LP7(sU,1093684050)
elseif(sr==4)then
set sT=3
call LP7(sU,1093684048)
endif
call LP7(sU,1097167976)
call LP7(sU,1093743175)
call TX7(UL7,"Chen",st)
call TT7(UL7,"MaxUnits",sT)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function sS))
set t=null
set sU=null
set st=null
endfunction
function L89 takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local unit HE8
local real x
local real y
if IsUnitEnemy(O_7,GetOwningPlayer(EL8))then
set HE8=CreateUnit(GetOwningPlayer(EL8),1697656901,GetUnitX(O_7),GetUnitY(O_7),0)
call UnitAddAbility(HE8,1093678649)
call SetUnitAbilityLevel(HE8,1093678649,GetUnitAbilityLevel(EL8,1093810260))
call IssueTargetOrder(HE8,"charm",O_7)
else
if ZL7(GetOwningPlayer(EL8))then
set x=GetRectCenterX(ED)
set y=GetRectCenterY(ED)
else
set x=GetRectCenterX(L9)
set y=GetRectCenterY(L9)
endif
if(US7(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp"))==false then
call CA9(O_7,EL8,GetUnitAbilityLevel(EL8,1093810260),x,y)
endif
endif
set EL8=null
set O_7=null
set HE8=null
endfunction
function L99 takes nothing returns boolean
if GetSpellAbilityId()==1093810260 and CY7(GetSpellTargetUnit())==false then
call L89()
endif
return false
endfunction
function LD9 takes nothing returns boolean
if GetSpellAbilityId()==1093810260 then
if IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))==true then
if IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO)==true or IsUnitIllusion(GetSpellTargetUnit())then
call RU7(GetTriggerUnit())
call D78(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848658745))
endif
endif
endif
return false
endfunction
function K28 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function C_9))
call TriggerAddAction(t,function L79)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function LD9))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function L99))
set t=null
endfunction
function LE9 takes nothing returns nothing
call HG8(FB,GetEnumUnit(),ZG4,fB)
endfunction
function LF9 takes unit p5,real x,real y,integer BK7 returns nothing
local group g=CA7()
if BK7==1 then
set fB=105
elseif BK7==2 then
set fB=170
elseif BK7==3 then
set fB=250
elseif BK7==4 then
set fB=310
endif
set FB=p5
set IN4=p5
call GroupEnumUnitsInRange(g,x,y,240,Condition(function FW8))
call ForGroup(g,function LE9)
call CZ7(g)
set g=null
endfunction
function LG9 takes nothing returns nothing
local unit oA=CreateUnit(GetOwningPlayer(IN4),1697656901,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)
call LP7(oA,1093742676)
call IssueTargetOrder(oA,"slow",GetEnumUnit())
set oA=null
endfunction
function LH9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
local integer BK7=UQ7(UL7,"Level")
local integer LI9=ModuloInteger(GetTriggerEvalCount(t),4)+1
local real a
local real d
local real x
local real y
local group g=CA7()
set IN4=CR7
call GroupEnumUnitsInRange(g,GetUnitX(CR7),GetUnitY(CR7),710,Condition(function FW8))
call ForGroup(g,function LG9)
if LI9==1 then
set a=GetRandomReal(0,90)
elseif LI9==2 then
set a=GetRandomReal(90,180)
elseif LI9==3 then
set a=GetRandomReal(180,270)
else
set a=GetRandomReal(270,360)
endif
set d=GetRandomReal(140,710)
if GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST and(GetSpellAbilityId()==1093677906 or GetSpellAbilityId()==1093681494)then
call TQ7(UL7)
call U37(t)
call StopSound(vX,false,true)
else
set x=GetUnitX(CR7)+d*Cos(a*bj_DEGTORAD)
set y=GetUnitY(CR7)+d*Sin(a*bj_DEGTORAD)
call DestroyEffect(AddSpecialEffect("effects\\SnowyBlizzardTarget.mdx",x,y))
call LF9(CR7,x,y,BK7)
endif
call CZ7(g)
set t=null
set g=null
set CR7=null
return false
endfunction
function LJ9 takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local integer BK7
call E98(vX,GetUnitX(CR7),GetUnitY(CR7))
if GetSpellAbilityId()==1093677906 then
set BK7=GetUnitAbilityLevel(CR7,1093677906)
else
set BK7=GetUnitAbilityLevel(CR7,1093681494)+1
endif
call TriggerRegisterTimerEvent(t,0.10,true)
call TriggerRegisterUnitEvent(t,CR7,EVENT_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(t,Condition(function LH9))
call TX7(UL7,"Hero",CR7)
call TT7(UL7,"Level",BK7)
set t=null
set CR7=null
endfunction
function LK9 takes nothing returns boolean
if GetSpellAbilityId()==1093677906 or GetSpellAbilityId()==1093681494 then
call LJ9()
endif
return false
endfunction
function M88 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function LK9))
call DH8(1093677912)
set t=null
endfunction
function LM9 takes unit EL8 returns nothing
local integer HF8=GetUnitAbilityLevel(EL8,1093812553)
if GetUnitTypeId(EL8)==1215063922 then
call SetUnitAbilityLevel(EL8,1093681490,HF8)
else
call SetUnitAbilityLevel(EL8,1093681490,HF8+4)
endif
endfunction
function LN9 takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local integer HF8=GetUnitAbilityLevel(EL8,1093812553)
if HF8==1 then
call LP7(EL8,1093681490)
endif
call LM9(EL8)
set EL8=null
endfunction
function LO9 takes nothing returns boolean
if GetLearnedSkill()==1093812553 and IsUnitIllusion(GetTriggerUnit())==false then
call LN9()
endif
return false
endfunction
function LP9 takes nothing returns nothing
local unit u=GetTriggerUnit()
if GetUnitTypeId(u)==1211117639 or GetUnitTypeId(u)==1211117638 or GetUnitTypeId(u)==1211117637 then
call SetUnitAnimation(u,"stand")
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Defend\\DefendCaster.mdl",u,"head"))
elseif GetUnitTypeId(u)==1215063922 then
call SetUnitAnimation(u,"stand defend")
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Defend\\DefendCaster.mdl",u,"origin"))
endif
set u=null
endfunction
function LQ9 takes nothing returns boolean
if GetSpellAbilityId()==1093681490 then
call LP9()
endif
return false
endfunction
function R98 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function LQ9))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function LO9))
call DH8(1093681490)
set t=null
endfunction
function LR9 takes nothing returns boolean
return GetLearnedSkill()==1093681996 and IsUnitIllusion(GetTriggerUnit())==false
endfunction
function LS9 takes nothing returns nothing
local unit CR7=GetTriggerUnit()
call SetPlayerTechResearched(GetOwningPlayer(CR7),1378889782,GetPlayerTechCount(GetOwningPlayer(CR7),1378889782,true)+1)
set CR7=null
endfunction
function R88 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function LR9))
call TriggerAddAction(t,function LS9)
set t=null
endfunction
function LT9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
call LM9(EL8)
call U37(t)
call FlushChildHashtable(L7,(OL7))
set t=null
set EL8=null
return false
endfunction
function LU9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
call LM9(EL8)
call U37(t)
call FlushChildHashtable(L7,(OL7))
set t=null
set EL8=null
return false
endfunction
function JC8 takes nothing returns nothing
if GetUnitAbilityLevel(IN4,1093681490)>0 then
call LM9(IN4)
endif
endfunction
function LV9 takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.01,false)
call TriggerAddCondition(t,Condition(function LT9))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterDeathEvent(t,EL8)
call TriggerAddCondition(t,Condition(function LU9))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
set EL8=null
set t=null
endfunction
function LW9 takes nothing returns boolean
if GetSpellAbilityId()==1093677895 then
call LV9()
endif
return false
endfunction
function RD8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function LW9))
set t=null
endfunction
function LX9 takes nothing returns nothing
local real x=GetUnitX(GetEnumUnit())
local real y=GetUnitY(GetEnumUnit())
local integer id=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
call SetUnitX(YZ[id],x)
call SetUnitY(YZ[id],y)
if GetPlayerController(GetOwningPlayer(YZ[id]))==MAP_CONTROL_COMPUTER then
call UnitAddAbility(YZ[id],1093682253)
call SetUnitAbilityLevel(YZ[id],1093682253,ZZ)
endif
call IssueImmediateOrder(YZ[id],"fanofknives")
endfunction
function LY9 takes nothing returns nothing
local real x=GetUnitX(GetEnumUnit())
local real y=GetUnitY(GetEnumUnit())
local integer id=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true then
call SetUnitX(YZ[id],x)
call SetUnitY(YZ[id],y)
if GetPlayerController(GetOwningPlayer(YZ[id]))==MAP_CONTROL_COMPUTER then
call UnitAddAbility(YZ[id],1093682253)
call SetUnitAbilityLevel(YZ[id],1093682253,ZZ)
endif
call IssueImmediateOrder(YZ[id],"fanofknives")
endif
endfunction
function LZ9 takes nothing returns boolean
return GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and LR7(GetFilterUnit())==false
endfunction
function LA9 takes nothing returns nothing
local unit p5=GetTriggerUnit()
local real x=GetUnitX(p5)
local real y=GetUnitY(p5)
local group g=CA7()
local integer id=GetPlayerId(GetOwningPlayer(p5))
local integer BK7=GetUnitAbilityLevel(p5,1093682248)
if BK7==0 then
set BK7=GetUnitAbilityLevel(p5,1093750594)
endif
set YZ[id]=CreateUnit(GetOwningPlayer(p5),1697656901,x,y,0)
set zZ[id]=CreateUnit(GetOwningPlayer(p5),1697656901,x,y,0)
set ZZ=BK7
call SetUnitScale(YZ[id],0.25,0.25,0.25)
call LP7(YZ[id],1093682253)
call LP7(zZ[id],1093748784)
call SetUnitAbilityLevel(YZ[id],1093682253,BK7)
call SetUnitAbilityLevel(zZ[id],1093748784,BK7)
call GroupEnumUnitsInRange(g,x,y,575,Condition(function LZ9))
call ForGroup(g,function LX9)
if GetUnitAbilityLevel(p5,1093750594)>0 then
call ForGroup(g,function LY9)
endif
call CZ7(g)
set p5=null
set g=null
endfunction
function LB9 takes nothing returns boolean
if GetSpellAbilityId()==1093682248 or GetSpellAbilityId()==1093750594 then
call LA9()
endif
return false
endfunction
function M98 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function LB9))
set t=null
call DH8(1093682253)
endfunction
function LC9 takes nothing returns nothing
local unit oA=CreateUnit(GetOwningPlayer(GetEnumUnit()),1697656901,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)
call LP7(oA,1093686090)
call SetUnitAbilityLevel(oA,1093686090,IH4)
call IssueTargetOrder(oA,"thunderbolt",GetEnumUnit())
call HG8(GetTriggerUnit(),GetEnumUnit(),ZG4,IJ4)
set oA=null
endfunction
function L39 takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local location l=GetSpellTargetLoc()
local integer i=1
local real iN=GetUnitX(CR7)
local real io=GetUnitY(CR7)
local real hN
local real ho
local real x
local real y
local real a
local group g=CA7()
local group g2=CA7()
if m5==null then
set hN=GetLocationX(l)
set ho=GetLocationY(l)
else
set hN=GetUnitX(m5)
set ho=GetUnitY(m5)
endif
set a=bj_DEGTORAD*PS7(iN,io,hN,ho)
call RemoveLocation(l)
loop
exitwhen i>20
set x=DD8(iN+i*60*Cos(a))
set y=DE8(io+i*60*Sin(a))
call GroupEnumUnitsInRange(g2,x,y,250,Condition(function G48))
call GroupAddGroup(g2,g)
call GroupClear(g2)
call EV8(CreateDestructable(1110454320,x,y,GetRandomReal(0,360),0.5,GetRandomInt(0,2)),8)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl",x,y))
set i=i+1
endloop
set IH4=GetUnitAbilityLevel(CR7,1093686091)
set IJ4=IH4*50+75
call ForGroup(g,function LC9)
call CZ7(g)
call CZ7(g2)
set CR7=null
set l=null
set m5=null
set g=null
set g2=null
endfunction
function L69 takes nothing returns boolean
if GetSpellAbilityId()==1093686091 then
call L39()
endif
return false
endfunction
function MD8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function L69))
call DH8(1093686090)
set t=null
endfunction
function LL9 takes nothing returns boolean
return((GetUnitAbilityLevel(GetSpellAbilityUnit(),1093682250)>0)and(((GetSpellAbilityId()==1093686091)or(GetSpellAbilityId()==1093682252)or(GetSpellAbilityId()==1093682248)or(GetSpellAbilityId()==1093750594)))or(GetUnitPointValue(GetTriggerUnit())==500)and BD7(GetSpellAbilityId()))
endfunction
function L19 takes nothing returns nothing
local location sb=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,1697656901,GetOwningPlayer(GetTriggerUnit()),sb,bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,1093682249)
call SetUnitAbilityLevelSwapped(1093682249,bj_lastCreatedUnit,GetUnitAbilityLevelSwapped(1093682250,GetSpellAbilityUnit()))
call IssueImmediateOrderById(bj_lastCreatedUnit,852127)
call RemoveLocation(sb)
set sb=null
endfunction
function ME8 takes nothing returns nothing
set dq=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(dq,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(dq,Condition(function LL9))
call TriggerAddAction(dq,function L19)
endfunction
function L09 takes nothing returns boolean
if(GetItemTypeId(GetManipulatedItem())==1227894859)and(GetUnitTypeId(GetTriggerUnit())==1333027688)then
return true
endif
return false
endfunction
function L59 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
local unit oA=CreateUnit(GetOwningPlayer(CR7),1697656901,GetUnitX(CR7),GetUnitY(CR7),0)
call LP7(oA,1095332466)
call IssueImmediateOrder(oA,"roar")
call TQ7(UL7)
call U37(t)
set t=null
set CR7=null
set oA=null
return false
endfunction
function L29 takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call UnitRemoveAbility(CR7,1110454608)
call TX7(UL7,"Hero",CR7)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function L59))
set t=null
set CR7=null
endfunction
function MF8 takes nothing returns nothing
set H24=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(H24,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(H24,Condition(function L09))
call TriggerAddAction(H24,function L29)
endfunction
function L_9 takes nothing returns boolean
return(UnitHasBuffBJ(GetAttacker(),1114795873))
endfunction
function D4D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==EL8 then
call UnitRemoveAbility(EL8,1114795873)
endif
else
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function D7D takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit O_7=GetTriggerUnit()
local unit EL8=GetAttacker()
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,1.5,false)
call TriggerAddCondition(t,Condition(function D4D))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
set t=null
set EL8=null
set O_7=null
endfunction
function MG8 takes nothing returns nothing
set dr=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(dr,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(dr,Condition(function L_9))
call TriggerAddAction(dr,function D7D)
endfunction
function D8D takes unit u returns boolean
return IsUnitType(u,UNIT_TYPE_HERO)==false and IsUnitType(u,UNIT_TYPE_ANCIENT)==false and GetUnitTypeId(u)!=1848652101 and GetUnitTypeId(u)!=1848652089
endfunction
function D9D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
call UnitRemoveAbility(O_7,1114860655)
call FlushChildHashtable(L7,(OL7))
call U37(t)
set t=null
set O_7=null
return false
endfunction
function DDD takes nothing returns nothing
local unit m5=GetSpellTargetUnit()
local unit p5=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.01,false)
call TriggerAddCondition(t,Condition(function D9D))
call SaveUnitHandle(L7,(OL7),(17),(m5))
call SetUnitOwner(m5,GetOwningPlayer(p5),true)
call UnitApplyTimedLife(m5,1112820806,80)
call LP7(m5,1097167976)
call LP7(m5,1093743175)
call DY8(m5)
set m5=null
set p5=null
set t=null
endfunction
function DED takes nothing returns boolean
if GetSpellAbilityId()==1093682264 and D8D(GetSpellTargetUnit())then
call DDD()
endif
return false
endfunction
function MH8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function DED))
set t=null
endfunction
function DFD takes nothing returns boolean
return ji()and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)!=GetUnitState(GetFilterUnit(),UNIT_STATE_MAX_LIFE)
endfunction
function DGD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local integer Rd=UQ7(UL7,"Counter")
local group g
local unit KK8
if Rd>10 then
call TQ7(UL7)
call U37(t)
else
call TT7(UL7,"Counter",Rd+1)
set IN4=p5
set g=CA7()
call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),300,Condition(function DFD))
set KK8=GroupPickRandomUnit(g)
call CZ7(g)
call SetUnitState(KK8,UNIT_STATE_LIFE,GetUnitState(KK8,UNIT_STATE_LIFE)+10)
endif
set t=null
set p5=null
set g=null
set KK8=null
return false
endfunction
function DHD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
call AddUnitAnimationProperties(EL8,"alternate",false)
call FlushChildHashtable(L7,(OL7))
call U37(t)
set t=null
set EL8=null
return false
endfunction
function DID takes nothing returns nothing
local unit p5=GetTriggerUnit()
local integer i=1
local trigger t
local integer OL7
loop
exitwhen i>(1+2*GetUnitAbilityLevel(p5,1093677378))
set t=CreateTrigger()
call TX7(GetHandleId(t),"Source",p5)
call TT7(GetHandleId(t),"Counter",0)
call TriggerRegisterTimerEvent(t,1.,true)
call TriggerAddCondition(t,Condition(function DGD))
set i=i+1
endloop
if GetUnitTypeId(p5)==1160786520 then
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function DHD))
call SaveUnitHandle(L7,(OL7),(2),(p5))
set t=null
endif
set t=null
set p5=null
endfunction
function DJD takes nothing returns boolean
if GetSpellAbilityId()==1093677378 then
call DID()
endif
return false
endfunction
function MI8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function DJD))
set t=null
endfunction
function DKD takes real x1,real y1,real x2,real y2 returns real
return SquareRoot(((x1-x2)*(x1-x2))+((y1-y2)*(y1-y2)))
endfunction
function DMD takes unit u returns integer
local integer HF8=GetUnitAbilityLevel(u,1093682265)
if HF8>0 then
return HF8
endif
set HF8=GetUnitAbilityLevel(u,1093752642)
return HF8
endfunction
function DND takes nothing returns boolean
local real d
local real DOD
if GetUnitAbilityLevel(GetTriggerUnit(),1110455125)>0 and DMD(GetEventDamageSource())>0 and UE7(GetHandleId(GetTriggeringTrigger()),"Source")==GetEventDamageSource()then
call UnitRemoveAbility(GetTriggerUnit(),1110455125)
set DOD=RMinBJ(DKD(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),GetUnitX(GetEventDamageSource()),GetUnitY(GetEventDamageSource())),2500)
set d=(0.10+0.05*I2R(DMD(GetEventDamageSource())))*DOD
call DL8("+"+I2S(R2I(d)),1,GetTriggerUnit(),.023,3,216,216,216)
call DisableTrigger(GetTriggeringTrigger())
call HG8(GetEventDamageSource(),GetTriggerUnit(),ZI4,d)
call TQ7(GetHandleId(GetTriggeringTrigger()))
call U37(GetTriggeringTrigger())
endif
return false
endfunction
function DPD takes nothing returns nothing
local trigger t
local unit m5
local unit p5
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
set m5=GetSpellTargetUnit()
set p5=GetTriggerUnit()
else
set m5=GetTriggerUnit()
set p5=GetAttacker()
endif
if IsUnitIllusion(p5)==false then
set t=CreateTrigger()
call TX7(GetHandleId(t),"Source",p5)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function DND))
endif
set t=null
set m5=null
set p5=null
endfunction
function Sn takes nothing returns boolean
if GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED then
if DMD(GetAttacker())>0 and(US7(GetHandleId(GetTriggeringTrigger()),"OrbOn")or(GZ[304+GetPlayerId(GetOwningPlayer(GetAttacker()))]))and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==UE7(GetHandleId(GetTriggeringTrigger()),"Hero")then
call DPD()
endif
elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER then
if(GetIssuedOrderId()==852255)then
call TW7(GetHandleId(GetTriggeringTrigger()),"OrbOn",true)
elseif(GetIssuedOrderId()==852256)then
call TW7(GetHandleId(GetTriggeringTrigger()),"OrbOn",false)
endif
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and(GetSpellAbilityId()==1093682265 or GetSpellAbilityId()==1093752642)then
call DPD()
endif
return false
endfunction
function DQD takes unit CR7,boolean B89 returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterUnitEvent(t,CR7,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(t,CR7,EVENT_UNIT_ISSUED_ORDER)
call TriggerAddCondition(t,Condition(function Sn))
call TX7(GetHandleId(t),"Hero",CR7)
if B89 then
set Vj[GetPlayerId(GetOwningPlayer(CR7))]=t
endif
set t=null
endfunction
function DRD takes nothing returns boolean
if(GetLearnedSkill()==1093682265 or GetLearnedSkill()==1093752642)and IsUnitIllusion(GetTriggerUnit())==false and DMD(GetTriggerUnit())==1 then
call DQD(GetTriggerUnit(),false)
endif
return false
endfunction
function MJ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function DRD))
set t=null
endfunction
function DSD takes nothing returns boolean
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
return GetUnitAbilityLevel(GetSpellTargetUnit(),1093682263)>0
else
return GetUnitAbilityLevel(GetTriggerUnit(),1093682263)>0
endif
endfunction
function DTD takes nothing returns nothing
local unit p5
local unit m5
local unit oA
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
set p5=GetSpellTargetUnit()
set m5=GetTriggerUnit()
else
set p5=GetTriggerUnit()
set m5=GetAttacker()
endif
set oA=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
call LP7(oA,1093681712)
call SetUnitAbilityLevel(oA,1093681712,GetUnitAbilityLevel(p5,1093682263))
call IssueTargetOrder(oA,"acidbomb",m5)
set p5=null
set m5=null
set oA=null
endfunction
function MK8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_ATTACKED)
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function DSD))
call TriggerAddAction(t,function DTD)
set t=null
endfunction
function DUD takes real x returns real
local real H7=GetRectMinX(bj_mapInitialPlayableArea)+150
if(x<H7)then
return H7
endif
set H7=GetRectMaxX(bj_mapInitialPlayableArea)-150
if(x>H7)then
return H7
endif
return x
endfunction
function DVD takes real y returns real
local real H7=GetRectMinY(bj_mapInitialPlayableArea)+150
if(y<H7)then
return H7
endif
set H7=GetRectMaxY(bj_mapInitialPlayableArea)-150
if(y>H7)then
return H7
endif
return y
endfunction
function DWD takes unit u returns boolean
local integer id=GetUnitTypeId(u)
return id==1852862003 or id==1852862006 or id==1848652080 or id==1848657754 or id==1852862001 or id==1852862004 or id==1848652081 or id==1848657968 or id==1852862002 or id==1852862005 or id==1848652082 or id==1848657969
endfunction
function DXD takes nothing returns boolean
return GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or DWD(GetFilterUnit())or FG8(GetFilterUnit())or GetUnitTypeId(GetFilterUnit())==1848651861 or GetUnitTypeId(GetFilterUnit())==1848651865 or GetUnitTypeId(GetFilterUnit())==1848651866 or GetUnitTypeId(GetFilterUnit())==1848658773 or GetUnitTypeId(GetFilterUnit())==1848658774 or GetUnitTypeId(GetFilterUnit())==1848658775 or BA7(GetUnitTypeId(GetFilterUnit())))and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(UE7(GetHandleId(GetTriggeringTrigger()),"BlackHole")))==true
endfunction
function DYD takes nothing returns nothing
local location DZD=GetUnitLoc(GetEnumUnit())
local location DAD=GetUnitLoc(UE7(GetHandleId(GetTriggeringTrigger()),"BlackHole"))
local location DBD=RW7(DAD,DistanceBetweenPoints(DAD,DZD)-2,AngleBetweenPoints(DAD,DZD))
call SetUnitPositionLoc(GetEnumUnit(),DBD)
call RemoveLocation(DZD)
call RemoveLocation(DAD)
call RemoveLocation(DBD)
set DZD=null
set DAD=null
set DBD=null
endfunction
function DCD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local group I68
local integer UL7=GetHandleId(t)
local unit D3D=UE7(UL7,"BlackHole")
local unit HE8
local real x
local real y
if GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST and GetSpellAbilityId()==1093747288 then
call KillUnit(D3D)
set HE8=UE7(UL7,"Caster")
call UnitApplyTimedLife(UE7(UL7,"Shadow1"),1112820806,1)
call UnitApplyTimedLife(UE7(UL7,"Shadow2"),1112820806,1)
call UnitApplyTimedLife(UE7(UL7,"Shadow3"),1112820806,1)
call UnitApplyTimedLife(UE7(UL7,"Shadow4"),1112820806,1)
call TQ7(UL7)
call U37(t)
call KillUnit(HE8)
elseif GetTriggerEvalCount(t)>90 then
set HE8=UE7(UL7,"Caster")
call UnitApplyTimedLife(UE7(UL7,"Shadow1"),1112820806,1)
call UnitApplyTimedLife(UE7(UL7,"Shadow2"),1112820806,1)
call UnitApplyTimedLife(UE7(UL7,"Shadow3"),1112820806,1)
call UnitApplyTimedLife(UE7(UL7,"Shadow4"),1112820806,1)
call TQ7(UL7)
call U37(t)
call KillUnit(D3D)
call KillUnit(HE8)
call RU7(UE7(UL7,"Source"))
else
set x=GetUnitX(D3D)
set y=GetUnitY(D3D)
set I68=CA7()
call GroupEnumUnitsInRange(I68,x,y,400,Condition(function DXD))
call ForGroup(I68,function DYD)
call CZ7(I68)
endif
set HE8=null
set D3D=null
set t=null
set I68=null
return false
endfunction
function D6D takes nothing returns nothing
local unit p5=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit HE8=CreateUnit(GetOwningPlayer(p5),1697656901,x,y,0)
local unit D3D=CreateUnit(GetOwningPlayer(p5),1966092340,x,y,0)
call RemoveLocation(l)
call SetUnitAbilityLevel(D3D,1093681968,GetUnitAbilityLevel(p5,1093747288))
if Z17(GetOwningPlayer(p5))then
call LP7(HE8,1093687348)
else
call LP7(HE8,1093687347)
endif
call IssuePointOrder(HE8,"cloudoffog",x,y)
call TX7(UL7,"Caster",HE8)
call TX7(UL7,"Shadow1",CreateUnit(GetOwningPlayer(p5),1747990098,x,y,0))
call TX7(UL7,"Shadow2",CreateUnit(GetOwningPlayer(p5),1747990098,x,y,0))
call TX7(UL7,"Shadow3",CreateUnit(GetOwningPlayer(p5),1747990098,x,y,0))
call TX7(UL7,"Shadow4",CreateUnit(GetOwningPlayer(p5),1747990098,x,y,0))
call TX7(UL7,"BlackHole",D3D)
call TX7(UL7,"Source",p5)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_ENDCAST)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function DCD))
set p5=null
set D3D=null
set t=null
set l=null
set HE8=null
endfunction
function DLD takes nothing returns boolean
if GetSpellAbilityId()==1093747288 then
call D6D()
endif
return false
endfunction
function D1D takes nothing returns boolean
local location l
local real x
local real y
if GetSpellAbilityId()==1093747288 then
set l=GetSpellTargetLoc()
set x=GetLocationX(l)
set y=GetLocationY(l)
call RemoveLocation(l)
set l=null
if(x!=DUD(x)and y!=DVD(y))or RectContainsCoords(eE,x,y)or RectContainsCoords(oE,x,y)or RectContainsCoords(aE,x,y)or RectContainsCoords(nE,x,y)or RectContainsCoords(VE,x,y)or RectContainsCoords(EE,x,y)then
call RU7(GetTriggerUnit())
call D78(GetOwningPlayer(GetTriggerUnit()),"Cannot cast Blackhole here")
endif
endif
return false
endfunction
function MM8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function DLD))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function D1D))
call DH8(1093681968)
set t=null
endfunction
function D0D takes unit p5,unit m5,integer BK7 returns nothing
local real DV8
if BK7==1 then
set DV8=40
elseif BK7==2 then
set DV8=40
elseif BK7==3 then
set DV8=65
else
set DV8=65
endif
call HD8(m5,m5,1)
call HG8(p5,m5,ZG4,DV8)
endfunction
function D5D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local unit m5=UE7(UL7,"Target")
local integer BK7=UQ7(UL7,"Level")
call D0D(p5,m5,BK7)
call TQ7(UL7)
call U37(t)
set t=null
set p5=null
set m5=null
return false
endfunction
function SW takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local trigger t
local integer UL7
local integer BK7=GetUnitAbilityLevel(p5,1093683511)
call D0D(p5,m5,BK7)
if BK7>1 then
set t=CreateTrigger()
set UL7=GetHandleId(t)
call TX7(UL7,"Source",p5)
call TX7(UL7,"Target",m5)
call TT7(UL7,"Level",BK7)
call TriggerRegisterTimerEvent(t,2,false)
call TriggerAddCondition(t,Condition(function D5D))
endif
if BK7==4 then
set t=CreateTrigger()
set UL7=GetHandleId(t)
call TX7(UL7,"Source",p5)
call TX7(UL7,"Target",m5)
call TT7(UL7,"Level",BK7)
call TriggerRegisterTimerEvent(t,4,false)
call TriggerAddCondition(t,Condition(function D5D))
endif
set t=null
set p5=null
set m5=null
endfunction
function D2D takes nothing returns boolean
if GetSpellAbilityId()==1093683511 and CY7(GetSpellTargetUnit())==false then
call SW()
endif
return false
endfunction
function MN8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function D2D))
set t=null
endfunction
function D_D takes nothing returns boolean
return(GetSpellAbilityId()==1093681713)
endfunction
function E4D takes nothing returns nothing
local location sb=GetUnitLoc(GetTriggerUnit())
local location Sa=GetSpellTargetLoc()
local integer kt=GetUnitAbilityLevel(GetTriggerUnit(),1093681713)
local unit E7D
call CreateNUnitsAtLocFacingLocBJ(1,1697656901,GetOwningPlayer(GetTriggerUnit()),Sa,Sa)
call ShowUnitHide(bj_lastCreatedUnit)
call UnitApplyTimedLifeBJ(8.,1112820806,bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit,1093681714)
call SetUnitAbilityLevelSwapped(1093681714,bj_lastCreatedUnit,kt)
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,852221,Sa)
if(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))!=MAP_CONTROL_USER)then
set E7D=bj_lastCreatedUnit
loop
call R97(0.9)
exitwhen(IsUnitDeadBJ(E7D))
if(GetUnitCurrentOrder(E7D)!=852221)then
call UnitRemoveAbility(E7D,1093681714)
call UnitAddAbility(E7D,1093681714)
call SetUnitAbilityLevelSwapped(1093681714,E7D,kt)
call IssuePointOrderByIdLoc(E7D,852221,Sa)
endif
endloop
endif
call RemoveLocation(sb)
call RemoveLocation(Sa)
set E7D=null
set sb=null
set Sa=null
endfunction
function MO8 takes nothing returns nothing
set dR=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(dR,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(dR,Condition(function D_D))
call TriggerAddAction(dR,function E4D)
endfunction
function E8D takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local real x=GetUnitX(m5)
local real y=GetUnitY(m5)
local integer BK7=GetUnitAbilityLevel(p5,1093744688)
local unit oA=CreateUnit(GetOwningPlayer(p5),1697656901,x,y,0)
call SetUnitState(m5,UNIT_STATE_LIFE,1)
call HG8(p5,m5,ZH4,20)
call HG8(p5,m5,ZG4,20)
call HG8(p5,m5,ZI4,20)
call LP7(oA,1093744474)
call SetUnitAbilityLevel(oA,1093744474,BK7)
call IssueImmediateOrder(oA,"lavamonster")
set p5=null
set m5=null
set oA=null
endfunction
function E9D takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer EDD=GetUnitLevel(m5)
if GetOwningPlayer(m5)!=Z7[0]and GetOwningPlayer(m5)!=A7[0]and EDD>4 then
call RU7(CR7)
call D78(GetOwningPlayer(CR7),(GetObjectName((1848656728))))
endif
set CR7=null
set m5=null
endfunction
function EED takes nothing returns boolean
if GetSpellAbilityId()==1093744688 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
call E8D()
else
call E9D()
endif
endif
return false
endfunction
function MP8 takes nothing returns nothing
local trigger t=CreateTrigger()
local region regDemonicConversion=CreateRegion()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call D28(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function EED))
set t=null
endfunction
function SZ takes nothing returns nothing
local integer O5=0
if IsUnitInGroup(GetEnumUnit(),IQ4)==false then
call GroupAddUnit(IQ4,GetEnumUnit())
call HG8(IN4,GetEnumUnit(),ZG4,IJ4)
if((IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO))and(IsUnitInForce(IN4,QX4)))then
set O5=GetPlayerId(GetOwningPlayer(IN4))
if((hq[240+O5]>Bz)and(h4[16+O5]==GetEnumUnit())and(SE7(M7[O5]))and(S47(M7[O5]))and(GetUnitLifePercent(M7[O5])>65.)and(G0[128+O5])and(not IsUnitInRange(M7[O5],GetEnumUnit(),450.))and(kJ(GetUnitX(IN4),GetUnitY(IN4))))then
set PN4[16+O5]=GetEnumUnit()
endif
endif
endif
endfunction
function S0 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local group g=UJ7(UL7,"g")
local unit oA=UE7(UL7,"Caster")
local integer BK7=UQ7(UL7,"Level")
local real RK=UR7(UL7,"Angle")
local group S1
local real x
local real y
if GetTriggerEventId()==EVENT_UNIT_DEATH then
set IN4=CreateUnit(GetOwningPlayer(oA),1747990095,GetUnitX(UE7(UL7,"Hero")),GetUnitY(UE7(UL7,"Hero")),0)
call SetUnitScale(IN4,2.5,2.5,2.5)
call KillUnit(IN4)
call SetUnitPosition(UE7(UL7,"Hero"),GetUnitX(oA),GetUnitY(oA))
call ShowUnit((UE7(UL7,"Hero")),false)
call ShowUnit((UE7(UL7,"Hero")),true)
call SelectUnitAddForPlayer((UE7(UL7,"Hero")),GetOwningPlayer((UE7(UL7,"Hero"))))
set PN4[GetPlayerId(GetOwningPlayer(oA))]=null
call CZ7(g)
call TQ7(UL7)
call U37(t)
elseif GetTriggerEvalCount(t)>120 then
set PN4[GetPlayerId(GetOwningPlayer(oA))]=null
call CZ7(g)
call TQ7(UL7)
call U37(t)
call SetUnitScale(oA,2.5,2.5,2.5)
call KillUnit(oA)
else
set x=GetUnitX(oA)
set y=GetUnitY(oA)
set S1=CA7()
set IQ4=g
set PN4[16+GetPlayerId(GetOwningPlayer(oA))]=null
set IN4=oA
set IJ4=BK7*70
call GroupEnumUnitsInRange(S1,x,y,225+25,Condition(function jh))
call ForGroup(S1,function SZ)
call CZ7(S1)
call SetUnitX(oA,DD8(x+15*Cos(RK*bj_DEGTORAD)))
call SetUnitY(oA,DE8(y+15*Sin(RK*bj_DEGTORAD)))
if(IsUnitInForce(oA,QX4))then
if(PN4[16+GetPlayerId(GetOwningPlayer(oA))]!=null)then
call IssueImmediateOrderById(M7[GetPlayerId(GetOwningPlayer(oA))],852185)
set hq[512+GetPlayerId(GetOwningPlayer(oA))]=Bz+1.
elseif((h4[16+GetPlayerId(GetOwningPlayer(oA))]==M7[GetPlayerId(GetOwningPlayer(oA))])and(SE7(M7[GetPlayerId(GetOwningPlayer(oA))]))and(not IsUnitInRange(M7[GetPlayerId(GetOwningPlayer(oA))],oA,550.))and(kJ(GetUnitX(oA),GetUnitY(oA)))and(S47(M7[GetPlayerId(GetOwningPlayer(oA))])))then
call IssueImmediateOrderById(M7[GetPlayerId(GetOwningPlayer(oA))],852185)
endif
endif
endif
set t=null
set g=null
set S1=null
set oA=null
return false
endfunction
function EFD takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local group g=CA7()
local unit CR7=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x1=GetUnitX(CR7)
local real y1=GetUnitY(CR7)
local real x2=GetLocationX(l)
local real y2=GetLocationY(l)
local real RK=PS7(x1,y1,x2,y2)
local integer BK7=GetUnitAbilityLevel(CR7,1093686073)
local unit oA=CreateUnit(GetOwningPlayer(CR7),1747990095,x1,y1,RK)
call E98(UX,x1,y1)
call LP7(GetTriggerUnit(),1093686081)
set PN4[GetPlayerId(GetOwningPlayer(CR7))]=oA
call SetUnitScale(oA,3.5,3.5,3.5)
call TX7(UL7,"Caster",oA)
call TT7(UL7,"Level",BK7)
call TL7(UL7,"g",g)
call TU7(UL7,"Angle",RK)
call TX7(UL7,"Hero",CR7)
call TriggerRegisterTimerEvent(t,.025,true)
call TriggerRegisterUnitEvent(t,oA,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function S0))
call RemoveLocation(l)
set t=null
set oA=null
set g=null
set CR7=null
set l=null
endfunction
function S3 takes nothing returns nothing
local integer i=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
if PN4[i]==null then
call D78(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848652599))
else
call SetUnitScale(PN4[i],2.5,2.5,2.5)
call KillUnit(PN4[i])
endif
endfunction
function EGD takes nothing returns boolean
if GetSpellAbilityId()==1093686073 then
call EFD()
endif
if GetSpellAbilityId()==1093686081 then
call S3()
endif
return false
endfunction
function fwv takes nothing returns boolean
if GetLearnedSkill()==1093686073 and GetUnitAbilityLevel(GetTriggerUnit(),1093686073)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call LP7(GetTriggerUnit(),1093686081)
endif
return false
endfunction
function SU8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function EGD))
set t=null
endfunction
function EHD takes nothing returns nothing
call HG8(GetTriggerUnit(),GetEnumUnit(),ZG4,IJ4)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\StaffOfPurification\\PurificationTarget.mdx",GetEnumUnit(),"chest"))
endfunction
function EID takes nothing returns nothing
local group g=CA7()
local unit CR7=GetTriggerUnit()
local real x=GetUnitX(CR7)
local real y=GetUnitY(CR7)
local integer BK7=GetUnitAbilityLevel(CR7,1093686083)
local unit oA=CreateUnit(GetOwningPlayer(CR7),1697656901,x,y,0)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\StaffOfPurification\\PurificationCaster.mdx",x,y))
call LP7(oA,1093686084)
call SetUnitAbilityLevel(oA,1093686084,BK7)
call IssuePointOrderById(oA,852592,x,y)
set IJ4=BK7*70
call GroupEnumUnitsInRange(g,x,y,425,Condition(function jF))
call ForGroup(g,function EHD)
call CZ7(g)
set oA=null
set g=null
set CR7=null
endfunction
function EJD takes nothing returns boolean
if GetSpellAbilityId()==1093686083 then
call EID()
endif
return false
endfunction
function SV8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function EJD))
set t=null
endfunction
function EKD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
local integer HF8
local integer EMD
local integer END
if(GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER and GetIssuedOrderId()!=OrderId("phaseshift"))or GetTriggerEventId()==EVENT_UNIT_ISSUED_POINT_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER or GetTriggerEventId()==EVENT_UNIT_DEATH then
call SetUnitInvulnerable(CR7,false)
call UnitRemoveAbility(CR7,1093678162)
call TQ7(UL7)
call U37(t)
else
set HF8=(UQ7(UL7,"Level"))
set EMD=(UQ7(UL7,"Counter"))+1
call TT7(UL7,"Counter",(EMD))
set END=3*HF8
if HF8==4 then
set END=END+1
endif
if EMD>END or RI7(GetUnitX(CR7),GetUnitY(CR7),(UR7(UL7,"x")),(UR7(UL7,"y")))>125 then
call SetUnitInvulnerable(CR7,false)
call UnitRemoveAbility(CR7,1093678162)
call TQ7(UL7)
call U37(t)
endif
endif
set t=null
set CR7=null
return false
endfunction
function EOD takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call SetUnitInvulnerable(CR7,true)
call LP7(CR7,1093678162)
call TX7(UL7,"Hero",CR7)
call TT7(UL7,"Level",GetUnitAbilityLevel(CR7,1093686082))
call TT7(UL7,"Counter",0)
call TU7(UL7,"x",((GetUnitX(CR7))*1.0))
call TU7(UL7,"y",((GetUnitY(CR7))*1.0))
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerRegisterUnitEvent(t,CR7,EVENT_UNIT_ISSUED_ORDER)
call TriggerRegisterUnitEvent(t,CR7,EVENT_UNIT_ISSUED_POINT_ORDER)
call TriggerRegisterUnitEvent(t,CR7,EVENT_UNIT_ISSUED_TARGET_ORDER)
call TriggerRegisterUnitEvent(t,CR7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function EKD))
call U07(CR7,"4266",5.9)
set t=null
set CR7=null
endfunction
function EPD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit CL7=(LoadUnitHandle(L7,(OL7),(14)))
call IssueImmediateOrder(CL7,"phaseshiftoff")
call FlushChildHashtable(L7,(OL7))
call U37(t)
set t=null
set CL7=null
return false
endfunction
function EQD takes nothing returns nothing
local unit CL7=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call SaveUnitHandle(L7,(OL7),(14),(CL7))
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function EPD))
set t=null
set CL7=null
endfunction
function ERD takes nothing returns boolean
if GetIssuedOrderId()==OrderId("phaseshift")and IsUnitIllusion(GetTriggerUnit())==false and UX7(GetTriggerUnit(),"4266")==false then
call EOD()
elseif GetIssuedOrderId()==OrderId("phaseshifton")then
call EQD()
endif
return false
endfunction
function SW8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_ISSUED_ORDER)
call TriggerAddCondition(t,Condition(function ERD))
set t=null
endfunction
function ESD takes unit p5,unit m5,integer BK7,integer ETD returns nothing
call HD8(p5,m5,0.75+0.75*BK7)
if ETD==1 then
call HG8(p5,m5,ZG4,BK7*50+50)
else
call HG8(p5,m5,ZG4,BK7*50+50+100)
endif
endfunction
function EUD takes unit p5,unit m5 returns nothing
local unit oA=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
call UnitAddAbility(oA,1093686086)
call IssueTargetOrder(oA,"thunderbolt",m5)
set oA=null
endfunction
function EVD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local integer BK7=(LoadInteger(L7,(UL7),(5)))
local integer ETD=(LoadInteger(L7,(UL7),(152)))
local unit p5=(LoadUnitHandle(L7,(UL7),(2)))
local integer EWD=(LoadInteger(L7,(UL7),(30)))
local unit m5=ZA7(EWD)
local lightning i7=(LoadLightningHandle(L7,(UL7),(196)))
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call DestroyLightning(i7)
call ZZ7(EWD)
call TQ7(UL7)
call U37(t)
else
call MoveLightning(i7,false,GetUnitX(p5),GetUnitY(p5),GetUnitX(m5),GetUnitY(m5))
if RI7(GetUnitX(p5),GetUnitY(p5),GetUnitX(m5),GetUnitY(m5))>600 then
call DestroyLightning(i7)
call ZZ7(EWD)
call TQ7(UL7)
call U37(t)
call ESD(p5,m5,BK7,ETD)
endif
endif
set t=null
set p5=null
set m5=null
set i7=null
return false
endfunction
function EXD takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local lightning i7=AddLightning("HWPB",false,GetUnitX(L04),GetUnitY(L04),GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()))
call SetLightningColor(i7,0,.7,1,1)
call SaveLightningHandle(L7,(UL7),(196),(i7))
call SaveUnitHandle(L7,(UL7),(2),(L04))
call SaveInteger(L7,(UL7),(30),(ZC7(GetEnumUnit())))
call SaveInteger(L7,(UL7),(5),(L34))
call SaveInteger(L7,(UL7),(152),(L64))
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerRegisterUnitEvent(t,GetEnumUnit(),EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,L04,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function EVD))
call HG8(GetTriggerUnit(),GetEnumUnit(),ZG4,LL4)
call EUD(GetTriggerUnit(),GetEnumUnit())
set t=null
set i7=null
endfunction
function EYD takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local unit oA=CreateUnit(GetOwningPlayer(CR7),1697656917,x,y,0)
local group g=CA7()
local integer BK7=GetUnitAbilityLevel(CR7,1093686072)
local real EZD=6
local integer EAD=1
if BK7==0 then
set BK7=GetUnitAbilityLevel(CR7,1093751120)
set EZD=8
set EAD=2
endif
call RemoveLocation(l)
call SetUnitAnimation(oA,"channel")
call EZ8(oA,EZD)
set L04=oA
set L14=EZD
set LL4=BK7*50+50
set L34=BK7
set L64=EAD
set IN4=CR7
call GroupEnumUnitsInRange(g,x,y,400,Condition(function FC8))
call ForGroup(g,function EXD)
call CZ7(g)
set g=null
set oA=null
set CR7=null
set l=null
endfunction
function EBD takes nothing returns boolean
if GetSpellAbilityId()==1093686072 or GetSpellAbilityId()==1093751120 then
call EYD()
endif
return false
endfunction
function SX8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function EBD))
set t=null
endfunction
function ECD takes nothing returns boolean
return GetSpellAbilityId()==1093808453
endfunction
function E3D takes nothing returns nothing
call SetUnitX(GetEnumUnit(),WO4)
call SetUnitY(GetEnumUnit(),WP4)
endfunction
function E6D takes nothing returns nothing
local destructable array dx
local integer S79
local integer ELD
local fogmodifier E1D
local unit HE8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local location E0D
local real x
local real y
local group g=CA7()
if O_7==null then
set E0D=GetSpellTargetLoc()
else
set E0D=GetUnitLoc(O_7)
endif
set x=GetLocationX(E0D)
set y=GetLocationY(E0D)
set WO4=x
set WP4=y
if IsUnitAlly(HE8,GetOwningPlayer(O_7))==true or CY7(GetSpellTargetUnit())==false then
set IN4=HE8
call GroupEnumUnitsInRange(g,x,y,150,Condition(function FW8))
call ES8(CreateFogModifierRadiusLocBJ(true,GetOwningPlayer(HE8),FOG_OF_WAR_VISIBLE,E0D,1000.00),2.25+0.75*GetUnitAbilityLevel(HE8,1093808453))
set S79=1
set ELD=8
loop
exitwhen S79>ELD
call EV8(CreateDestructableLoc(1110454325,RW7(E0D,150.00,(I2R(S79)*45.00)),GetRandomReal(0,360),1,0),2.25+0.75*GetUnitAbilityLevel(HE8,1093808453))
call TC7(GetHandleId(HE8),"AI|SproutTree"+I2S(S79),bj_lastCreatedDestructable)
set S79=S79+1
endloop
endif
call RemoveLocation(E0D)
call ForGroup(g,function E3D)
call CZ7(g)
set E1D=null
set HE8=null
set O_7=null
set E0D=null
set g=null
endfunction
function E5D takes nothing returns nothing
if GetSpellAbilityId()==1093808453 and IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))and(US7(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp"))then
call RU7(GetTriggerUnit())
call D78(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848652600))
endif
endfunction
function MR8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ECD))
call TriggerAddAction(t,function E6D)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddAction(t,function E5D)
set t=null
endfunction
function E2D takes nothing returns boolean
return GetSpellAbilityId()==1093677391
endfunction
function E_D takes nothing returns nothing
local location Mk=GetSpellTargetLoc()
local real x=GetLocationX(Mk)
local real y=GetLocationY(Mk)
if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(GetTriggerUnit()))then
call PingMinimapEx(x,y,3,255,255,255,false)
endif
call DestroyEffect(AddSpecialEffect("war3mapImported\\FurionTeleportTarget.mdx",x,y))
call DestroyEffect(AddSpecialEffect("war3mapImported\\FurionTeleportTarget.mdx",GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call RemoveLocation(Mk)
set Mk=null
endfunction
function MS8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_CHANNEL)
call TriggerAddCondition(t,Condition(function E2D))
call TriggerAddAction(t,function E_D)
set t=null
endfunction
function F4D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer CF7=GetHandleId(t)
local integer RS7=(LoadInteger(L7,(CF7),(5)))
local unit F7D=(LoadUnitHandle(L7,(CF7),(17)))
local integer F8D=CS7(F7D)
local real EL8=GetUnitState(F7D,UNIT_STATE_LIFE)
local real F9D=GetUnitState(F7D,UNIT_STATE_MAX_LIFE)
local real FDD
if EL8/F9D>0.4 then
set FDD=I2R(RS7)/4*0.2*F8D+2*RS7
else
set FDD=I2R(RS7)/4*0.6*F8D+2*RS7
endif
set FDD=FDD/8.0
if GetTriggerEvalCount(t)>16*8.0 then
call DestroyEffect((LoadEffectHandle(L7,(CF7),(31))))
call UnitRemoveAbility(F7D,1093685583)
call FlushChildHashtable(L7,(CF7))
call U37(t)
else
call SetUnitState(F7D,UNIT_STATE_LIFE,EL8+FDD)
endif
set F7D=null
set t=null
return false
endfunction
function FED takes nothing returns nothing
local unit F7D=GetSpellTargetUnit()
local unit FFD=GetTriggerUnit()
local integer RS7=GetUnitAbilityLevel(FFD,1093685584)
local trigger t=CreateTrigger()
local integer CF7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1/8.0,true)
call TriggerAddCondition(t,Condition(function F4D))
call SaveInteger(L7,(CF7),(5),(RS7))
call SaveUnitHandle(L7,(CF7),(17),(F7D))
call SaveEffectHandle(L7,(CF7),(31),(AddSpecialEffectTarget("InnerVitality.mdx",F7D,"chest")))
call LP7(F7D,1093685583)
call SetUnitAbilityLevel(F7D,1093685583,RS7)
set F7D=null
set FFD=null
set t=null
endfunction
function FGD takes nothing returns boolean
if GetSpellAbilityId()==1093685584 then
call FED()
endif
return false
endfunction
function R68 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function FGD))
set t=null
endfunction
function FHD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local integer B99
local string FID
local integer FJD
local integer HJ8=UQ7(UL7,"TargetIndex")
local unit m5=ZA7(HJ8)
local unit p5=UE7(UL7,"Source")
if GetTriggerEvalCount(t)>7 or LR7(m5)then
call DestroyEffect(UK7(UL7,"Effect"))
call TQ7(UL7)
set B99=GetHandleId(p5)
set FID=I2S(GetHandleId(m5))+"NumOfSpears"
set FJD=UQ7(B99,FID)
set FJD=FJD-1
if FJD==0 then
call TT7(B99,FID,0)
else
call TT7(B99,FID,FJD)
endif
call ZZ7(HJ8)
call U37(t)
else
call HG8(p5,m5,ZG4,4*GetUnitAbilityLevel(p5,1093685582))
endif
set t=null
set m5=null
set p5=null
return false
endfunction
function FKD takes unit p5,unit m5 returns nothing
local integer UL7=GetHandleId(p5)
local integer B99
local trigger t
local integer FID=UQ7(UL7,I2S(GetHandleId(m5))+"NumOfSpears")
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function FHD))
set B99=GetHandleId(t)
call TX7(B99,"Source",p5)
call TT7(B99,"TargetIndex",ZC7(m5))
call TT7(UL7,I2S(GetHandleId(m5))+"NumOfSpears",FID+1)
call TY7(B99,"Effect",AddSpecialEffectTarget("Abilities\\Spells\\Other\\BreathOfFire\\BreathOfFireDamage.mdl",m5,"chest"))
set t=null
endfunction
function FMD takes nothing returns boolean
local real d
if GetUnitAbilityLevel(GetTriggerUnit(),1110456369)>0 and GetUnitAbilityLevel(GetEventDamageSource(),1093685582)>0 and UE7(GetHandleId(GetTriggeringTrigger()),"Source")==GetEventDamageSource()then
call SetUnitState(GetEventDamageSource(),UNIT_STATE_LIFE,DU8(GetUnitState(GetEventDamageSource(),UNIT_STATE_LIFE)-15,1))
call UnitRemoveAbility(GetTriggerUnit(),1110456369)
call FKD(GetEventDamageSource(),GetTriggerUnit())
call DisableTrigger(GetTriggeringTrigger())
call TQ7(GetHandleId(GetTriggeringTrigger()))
call U37(GetTriggeringTrigger())
endif
return false
endfunction
function FND takes nothing returns nothing
local trigger t
local unit m5
local unit p5
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
set m5=GetSpellTargetUnit()
set p5=GetTriggerUnit()
else
set m5=GetTriggerUnit()
set p5=GetAttacker()
endif
if IsUnitIllusion(p5)==false then
set t=CreateTrigger()
call TX7(GetHandleId(t),"Source",p5)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function FMD))
endif
set t=null
set m5=null
set p5=null
endfunction
function FOD takes nothing returns boolean
if GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED then
if GetUnitAbilityLevel(GetAttacker(),1093685582)>0 and(US7(GetHandleId(GetTriggeringTrigger()),"OrbOn")or(GZ[304+GetPlayerId(GetOwningPlayer(GetAttacker()))]))and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==UE7(GetHandleId(GetTriggeringTrigger()),"Hero")then
call FND()
endif
elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER then
if(GetIssuedOrderId()==OrderId("poisonarrows"))then
call TW7(GetHandleId(GetTriggeringTrigger()),"OrbOn",true)
elseif(GetIssuedOrderId()==OrderId("unpoisonarrows"))then
call TW7(GetHandleId(GetTriggeringTrigger()),"OrbOn",false)
endif
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093685582 then
call FND()
endif
return false
endfunction
function FPD takes unit CR7,boolean B89 returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterUnitEvent(t,CR7,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(t,CR7,EVENT_UNIT_ISSUED_ORDER)
call TriggerAddCondition(t,Condition(function FOD))
call TX7(GetHandleId(t),"Hero",CR7)
if B89 then
set aj[GetPlayerId(GetOwningPlayer(CR7))]=t
endif
set t=null
endfunction
function FQD takes nothing returns boolean
if GetLearnedSkill()==1093685582 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093685582)==1 then
call FPD(GetTriggerUnit(),false)
endif
return false
endfunction
function RL8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function FQD))
set t=null
endfunction
function tQ takes nothing returns boolean
local integer UL7=GetHandleId(GetTriggeringTrigger())
local unit CR7=UE7(UL7,"Hero")
local real FRD=GetUnitState(CR7,UNIT_STATE_LIFE)
local real MaxHealth=GetUnitState(CR7,UNIT_STATE_MAX_LIFE)
local integer FSD
local integer FTD
local integer BK7=GetUnitAbilityLevel(CR7,1093685585)
local boolean FUD=US7(UL7,"HasFX")
if IsUnitType(CR7,UNIT_TYPE_HERO)and BK7>0 then
set FSD=R2I(100*GetUnitState(CR7,UNIT_STATE_LIFE)/GetUnitState(CR7,UNIT_STATE_MAX_LIFE))
set FTD=DR8(DQ8(R2I(100-FSD)/7,14),1)
if LR7(CR7)==false then
call HN8(CR7,BK7*FTD*2)
call HR8(CR7,BK7*FTD*3)
if FSD<40 then
if FUD==false then
call TW7(UL7,"HasFX",true)
call TY7(UL7,"FX1",AddSpecialEffectTarget("Abilities\\Spells\\Orc\\TrollBerserk\\HeadhunterWEAPONSLeft.mdl",CR7,"left weapon"))
call TY7(UL7,"FX2",AddSpecialEffectTarget("effects\\HeadhunterWEAPONSRight_NoSound.mdx",CR7,"right weapon"))
endif
else
if FUD==true then
call TW7(UL7,"HasFX",false)
call DestroyEffect(UK7(UL7,"FX1"))
call DestroyEffect(UK7(UL7,"FX2"))
endif
endif
endif
endif
set CR7=null
return false
endfunction
function FVD takes unit CR7,boolean B89 returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterTimerEvent(t,.5,true)
call TriggerAddCondition(t,Condition(function tQ))
call TX7(GetHandleId(t),"Hero",CR7)
call TW7(GetHandleId(t),"HasFX",false)
if B89 then
set nj[GetPlayerId(GetOwningPlayer(CR7))]=t
endif
set t=null
endfunction
function FWD takes nothing returns boolean
if GetLearnedSkill()==1093685585 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093685585)==1 then
call FVD(GetTriggerUnit(),false)
endif
return false
endfunction
function R18 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function FWD))
set t=null
endfunction
function FXD takes nothing returns nothing
local unit p5=GetEnumUnit()
local real l4=RI7(GetUnitX(p5),GetUnitY(p5),WK4,WM4)
if l4<WJ4 and IsUnitVisible(p5,GetOwningPlayer(WN4))==true then
set WI4=GetEnumUnit()
set WJ4=l4
endif
set p5=null
endfunction
function FYD takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer UL7=GetUnitAbilityLevel(GetTriggerUnit(),1093752632)
local integer Y59=1093678936
local group g
local unit q5
if UL7==0 then
set UL7=GetUnitAbilityLevel(GetTriggerUnit(),1093752633)
set Y59=1093681484
endif
if m5==null then
set WI4=null
set WN4=p5
set WJ4=999999
set WK4=GetSpellTargetX()
set WM4=GetSpellTargetY()
set IN4=p5
set g=CA7()
call GroupEnumUnitsInRange(g,0,0,9999,Condition(function FW8))
call ForGroup(g,function FXD)
call CZ7(g)
set m5=WI4
set g=null
endif
if m5!=null then
set q5=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(p5),GetUnitY(p5),0)
call LP7(q5,Y59)
call SetUnitAbilityLevel(q5,Y59,UL7)
call IssueTargetOrder(q5,"chainlightning",m5)
set q5=null
endif
set p5=null
set m5=null
endfunction
function FZD takes nothing returns boolean
if GetSpellAbilityId()==1093752632 or GetSpellAbilityId()==1093752633 then
call FYD()
endif
return false
endfunction
function MT8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function FZD))
set t=null
endfunction
function FAD takes unit EL8,unit O_7 returns nothing
local unit HE8=CreateUnit(GetOwningPlayer(EL8),1697656901,GetUnitX(O_7),GetUnitY(O_7),0)
local integer HF8=GetUnitAbilityLevel(EL8,1093685586)
local real CK9
local real FBD=0.5
if HF8==0 then
set HF8=GetUnitAbilityLevel(EL8,1093747251)
set FBD=0.65
endif
call LP7(HE8,1093685589)
call SetUnitAbilityLevel(HE8,1093685589,HF8)
call IssueTargetOrder(HE8,"slow",O_7)
if HF8==1 then
set CK9=0.35
elseif HF8==2 then
set CK9=0.30
else
set CK9=0.25
endif
call HG8(EL8,EL8,ZG4,GetUnitState(EL8,UNIT_STATE_LIFE)*CK9)
call HG8(EL8,O_7,ZG4,GetUnitState(O_7,UNIT_STATE_LIFE)*FBD)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",EL8,"chest"))
call DestroyEffect(AddSpecialEffectTarget("effects\\LifeBreak.mdx",O_7,"chest"))
set EL8=null
set O_7=null
set HE8=null
endfunction
function FCD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local real ZC9=(LoadReal(L7,(OL7),(23)))
local real Z39=(LoadReal(L7,(OL7),(24)))
local real x
local real y
local real F3D=GetUnitX(EL8)
local real F6D=GetUnitY(EL8)
local real EG8=GetUnitX(O_7)
local real EH8=GetUnitY(O_7)
local real A89=Atan2(EH8-F6D,EG8-F3D)
if GetUnitTypeId(EL8)==1160786520 then
call SetUnitAnimationByIndex(EL8,1)
else
call SetUnitAnimationByIndex(EL8,17)
endif
if GetTriggerEventId()==EVENT_WIDGET_DEATH or RI7(ZC9,Z39,EG8,EH8)>1400 or DY9(EL8)then
call SetUnitPathing(EL8,true)
call DestroyEffect((LoadEffectHandle(L7,(OL7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(176))))
call UnitRemoveAbility(EL8,1093686100)
call SetUnitTimeScale(EL8,1.0)
call FlushChildHashtable(L7,(OL7))
call U37(t)
elseif RI7(F3D,F6D,EG8,EH8)<125 then
call SetUnitPathing(EL8,true)
call DestroyEffect((LoadEffectHandle(L7,(OL7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(176))))
call UnitRemoveAbility(EL8,1093686100)
call FlushChildHashtable(L7,(OL7))
call U37(t)
call SetUnitTimeScale(EL8,1.0)
if O_7!=null and LR7(O_7)==false then
call IssueTargetOrder(EL8,"attack",O_7)
call FAD(EL8,O_7)
endif
else
call SetUnitPathing(EL8,false)
set ZC9=EG8
set Z39=EH8
call SaveReal(L7,(OL7),(23),((ZC9)*1.0))
call SaveReal(L7,(OL7),(24),((Z39)*1.0))
set x=F3D+15*Cos(A89)
set y=F6D+15*Sin(A89)
call SetUnitPosition(EL8,x,y)
call SetUnitFacing(EL8,A89*bj_RADTODEG)
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function FLD takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.015,true)
call TriggerRegisterDeathEvent(t,EL8)
call TriggerAddCondition(t,Condition(function FCD))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveReal(L7,(OL7),(23),((GetUnitX(O_7))*1.0))
call SaveReal(L7,(OL7),(24),((GetUnitY(O_7))*1.0))
call SaveEffectHandle(L7,(OL7),(175),(AddSpecialEffectTarget("war3mapImported\\LifeBreakCharge.mdx",EL8,"hand right alternate")))
call SaveEffectHandle(L7,(OL7),(176),(AddSpecialEffectTarget("war3mapImported\\LifeBreakCharge.mdx",EL8,"hand left alternate")))
call SetUnitPathing(EL8,false)
call LP7(EL8,1093686100)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093686100,false)
call SetUnitAnimationByIndex(EL8,17)
call SetUnitTimeScale(EL8,3.0)
set EL8=null
set O_7=null
set t=null
endfunction
function F1D takes nothing returns boolean
if(GetSpellAbilityId()==1093685586 or GetSpellAbilityId()==1093747251)and CY7(GetSpellTargetUnit())==false then
call FLD()
endif
return false
endfunction
function R08 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function F1D))
set t=null
call DH8(1093685589)
endfunction
function F0D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local integer BK7=UQ7(UL7,"Level")
local unit p5=UE7(UL7,"Source")
local unit m5=UE7(UL7,"Target")
if GetTriggerEvalCount(t)>10 or GetTriggerEventId()==EVENT_UNIT_DEATH then
call DestroyEffect(UK7(UL7,"FX"))
call UnitRemoveAbility(m5,1093748533)
call UnitRemoveAbility(m5,1093748531)
call UnitRemoveAbility(m5,1093748534)
call UnitRemoveAbility(m5,1093748532)
call TQ7(UL7)
call U37(t)
else
call HG8(p5,m5,ZG4,(BK7*5+5)/ 2)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function F5D takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local integer BK7=FN
local unit p5=fN
local unit m5=GetEnumUnit()
if BK7==1 then
call LP7(m5,1093748533)
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093748533,false)
elseif BK7==2 then
call LP7(m5,1093748531)
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093748531,false)
elseif BK7==3 then
call LP7(m5,1093748534)
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093748534,false)
elseif BK7==4 then
call LP7(m5,1093748532)
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093748532,false)
endif
call TY7(UL7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Other\\BreathOfFire\\BreathOfFireDamage.mdl",m5,"chest"))
call TX7(UL7,"Source",p5)
call TX7(UL7,"Target",m5)
call TT7(UL7,"Level",BK7)
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function F0D))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl",GetUnitX(m5),GetUnitY(m5)))
set t=null
set p5=null
set m5=null
endfunction
function F2D takes unit p5,unit m5 returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local integer BK7=GetUnitAbilityLevel(p5,1093685048)
local real x=GetUnitX(m5)
local real y=GetUnitY(m5)
local group g=CA7()
local group g2=CA7()
set FN=BK7
set fN=p5
set IN4=p5
call GroupEnumUnitsInRange(g,x,y,300+25,Condition(function GY8))
call GroupEnumUnitsInRange(g2,x,y,300+25,Condition(function F58))
call GroupAddGroup(g2,g)
call ForGroup(g,function F5D)
call CZ7(g)
call CZ7(g2)
set t=null
set g=null
set g2=null
endfunction
function F_D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit m5=UE7(UL7,"Target")
local unit p5=UE7(UL7,"Source")
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==p5 and(GetEventDamage()>40 or IsUnitType(m5,UNIT_TYPE_STRUCTURE)==true or GetUnitTypeId(m5)==1970107511 or GetUnitTypeId(m5)==1700946284)and US7(GetHandleId(p5),"LiquidFire|Active")==true then
call F2D(p5,m5)
call TW7(GetHandleId(p5),"LiquidFire|Active",false)
call TU7(GetHandleId(p5),"LiquidFire|LastUsed",TimerGetElapsed(W)*1.0)
endif
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function G4D takes nothing returns boolean
local trigger t
local integer UL7
local unit m5
local unit p5
if GetAttacker()==UE7(GetHandleId(GetTriggeringTrigger()),"LiquidAttacker")and IsUnitAlly(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))==false then
set t=CreateTrigger()
set UL7=GetHandleId(t)
set m5=GetTriggerUnit()
set p5=GetAttacker()
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,2.5,false)
call TriggerAddCondition(t,Condition(function F_D))
call TX7(UL7,"Target",m5)
call TX7(UL7,"Source",p5)
set m5=null
set p5=null
set t=null
endif
set t=null
set m5=null
set p5=null
return false
endfunction
function G7D takes nothing returns boolean
call TW7(GetHandleId(GetTriggerUnit()),"LiquidFire|Active",false)
call TU7(GetHandleId(GetTriggerUnit()),"LiquidFire|LastUsed",TimerGetElapsed(W)*1.0)
call UnitRemoveAbility(GetTriggerUnit(),1093748291)
call TQ7(GetHandleId(GetTriggeringTrigger()))
call U37(GetTriggeringTrigger())
return false
endfunction
function G8D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
local real B17=(TimerGetElapsed(W))
local integer BK7=GetUnitAbilityLevel(CR7,1093685048)
local real A_9=UR7(GetHandleId(CR7),"LiquidFire|LastUsed")
local boolean FG9=US7(GetHandleId(CR7),"LiquidFire|Active")
if B17-A_9>25-BK7*5 and FG9==false and LR7(CR7)==false then
call TW7(GetHandleId(CR7),"LiquidFire|Active",true)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,CR7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function G7D))
call LP7(CR7,1093748291)
elseif FG9==false then
call UnitRemoveAbility(CR7,1093748291)
endif
set t=null
set CR7=null
return false
endfunction
function G9D takes unit CR7,boolean B89 returns nothing
local trigger t=CreateTrigger()
local trigger t2=CreateTrigger()
local integer UL7=GetHandleId(t)
local integer B99=GetHandleId(t2)
call TriggerRegisterTimerEvent(t,0.2,true)
call TriggerAddCondition(t,Condition(function G8D))
call TX7(UL7,"Hero",CR7)
call TU7(UL7,"LiquidFire|LastUsed",0)
call D28(t2,EVENT_PLAYER_UNIT_ATTACKED)
call TX7(B99,"LiquidAttacker",CR7)
call TriggerAddCondition(t2,Condition(function G4D))
if B89 then
set nj[GetPlayerId(GetOwningPlayer(CR7))]=t
set Aj[GetPlayerId(GetOwningPlayer(CR7))]=t2
endif
set CR7=null
set t=null
set t2=null
endfunction
function GDD takes nothing returns boolean
if GetLearnedSkill()==1093685048 and GetUnitAbilityLevel(GetTriggerUnit(),1093685048)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call G9D(GetTriggerUnit(),false)
endif
return false
endfunction
function KU8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function GDD))
set t=null
endfunction
function GED takes real x1,real y1,real x2,real y2,real x3,real y3,real x,real y returns boolean
local real GFD=(y-y1)*(x2-x1)-(x-x1)*(y2-y1)
local real GGD=(y-y3)*(x1-x3)-(x-x3)*(y1-y3)
local real GHD=(y-y2)*(x3-x2)-(x-x2)*(y3-y2)
return(GFD*GGD>0)and(GHD*GGD>0)
endfunction
function GID takes nothing returns boolean
local real GJD=IJ4
local real GKD=IK4
local real GMD=IM4
local real GND=Zl
local real GOD=vL
local real GPD=eL
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and GED(GJD,GKD,GMD,GND,GOD,GPD,GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()))
endfunction
function GQD takes real GRD,real GFD,real GGD returns nothing
local real GHD=550
local real GSD=200
local real GTD=250
local real GUD=Asin((GTD-GSD)/ GHD)
local real x=GSD/ Sin(GUD)
local real y=(GHD+GTD+x)*Tan(GUD)
local real GJD=GFD+x*Cos((GRD-180)*bj_DEGTORAD)
local real GKD=GGD+x*Sin((GRD-180)*bj_DEGTORAD)
local real GMD=(GFD+(GHD+GTD)*Cos(GRD*bj_DEGTORAD))+y*Cos((GRD-90)*bj_DEGTORAD)
local real GND=(GGD+(GHD+GTD)*Sin(GRD*bj_DEGTORAD))+y*Sin((GRD-90)*bj_DEGTORAD)
local real GOD=(GFD+(GHD+GTD)*Cos(GRD*bj_DEGTORAD))+y*Cos((GRD+90)*bj_DEGTORAD)
local real GPD=(GGD+(GHD+GTD)*Sin(GRD*bj_DEGTORAD))+y*Sin((GRD+90)*bj_DEGTORAD)
set IJ4=GJD
set IK4=GKD
set IM4=GMD
set Zl=GND
set vL=GOD
set eL=GPD
endfunction
function GVD takes nothing returns nothing
local unit HE8=CreateUnit(GetOwningPlayer(GetTriggerUnit()),1697656901,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)
call LP7(HE8,1093685057)
call IssueTargetOrder(HE8,"frostnova",GetEnumUnit())
set HE8=null
endfunction
function GWD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local player p=UG7(UL7,"p")
local unit CR7=UE7(UL7,"Hero")
local real x=UR7(UL7,"x")
local real y=UR7(UL7,"y")
local real Y5=UR7(UL7,"TargetX")
local real Z5=UR7(UL7,"TargetY")
local integer BK7=UQ7(UL7,"Level")
local unit HE8
if GetTriggerEvalCount(t)>1 then
call SetUnitAnimation(CR7,"stand")
call TQ7(UL7)
call U37(t)
else
call SetUnitAnimation(CR7,"spell")
set HE8=CreateUnit(p,1697656901,x,y,0)
call LP7(HE8,1093685059)
call SetUnitAbilityLevel(HE8,1093685059,BK7)
call IssuePointOrder(HE8,"breathoffrost",Y5,Z5)
endif
set t=null
set p=null
set CR7=null
set HE8=null
return false
endfunction
function GXD takes unit u,player p,integer BK7,location l,real x,real y returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call T37(UL7,"p",p)
call TU7(UL7,"x",(x)*1.0)
call TU7(UL7,"y",(y)*1.0)
call TU7(UL7,"TargetX",GetLocationX(l)*1.0)
call TU7(UL7,"TargetY",GetLocationY(l)*1.0)
call TT7(UL7,"Level",BK7)
call TX7(UL7,"Hero",u)
call TriggerRegisterTimerEvent(t,0.3,true)
call TriggerAddCondition(t,Condition(function GWD))
set t=null
endfunction
function GYD takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local integer BK7=GetUnitAbilityLevel(CR7,1093685047)
local real x=GetUnitX(CR7)
local real y=GetUnitY(CR7)
local location l
local unit HE8
local group g=CA7()
if GetSpellTargetUnit()==null then
set l=GetSpellTargetLoc()
else
set l=GetUnitLoc(GetSpellTargetUnit())
endif
call GQD(bj_RADTODEG*Atan2(GetLocationY(l)-y,GetLocationX(l)-x),x,y)
call GroupEnumUnitsInRange(g,x,y,2000,Condition(function GID))
call ForGroup(g,function GVD)
call CZ7(g)
set HE8=CreateUnit(GetOwningPlayer(CR7),1697656901,x,y,0)
call LP7(HE8,1093685058)
call SetUnitAbilityLevel(HE8,1093685058,BK7)
call IssuePointOrder(HE8,"breathoffire",GetLocationX(l),GetLocationY(l))
call GXD(CR7,GetOwningPlayer(CR7),BK7,l,x+50*Cos(Atan2(GetLocationY(l)-y,GetLocationX(l)-x)),y+50*Sin(Atan2(GetLocationY(l)-y,GetLocationX(l)-x)))
call RemoveLocation(l)
set CR7=null
set l=null
set g=null
set HE8=null
endfunction
function GZD takes nothing returns boolean
if GetSpellAbilityId()==1093685047 then
call GYD()
endif
return false
endfunction
function KT8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function GZD))
call DH8(1093685058)
call DH8(1093685059)
call DH8(1093685057)
set t=null
endfunction
function GAD takes nothing returns nothing
local unit EL8=IP7
local unit O_7=GetEnumUnit()
local unit GBD
if IsUnitInGroup(O_7,IO7)==false then
call GroupAddUnit(IO7,O_7)
call HD8(EL8,O_7,IQ7)
call HG8(EL8,O_7,ZG4,25*IR7)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\FreezingBreath\\FreezingBreathMissile.mdl",GetUnitX(O_7),GetUnitY(O_7)))
endif
endfunction
function GCD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local real x0=(LoadReal(L7,(OL7),(6)))
local real y0=(LoadReal(L7,(OL7),(7)))
local real a=(LoadReal(L7,(OL7),(137)))
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local integer CS8=GetTriggerEvalCount(t)
local real x
local real y
local group g
local integer i
local group G3D=(LoadGroupHandle(L7,(OL7),(187)))
local integer HF8=GetUnitAbilityLevel(EL8,1093685046)
set i=0
loop
exitwhen i>10
set x=x0+100*i*Cos(a*bj_DEGTORAD)
set y=y0+100*i*Sin(a*bj_DEGTORAD)
if ModuloInteger(CS8,10)==0 then
endif
set IN4=EL8
set IP7=EL8
set IO7=G3D
set IQ7=(0.6+0.4*HF8)-(CS8*0.05)
set IR7=HF8
set g=CA7()
call GroupEnumUnitsInRange(g,x,y,150+25,Condition(function FW8))
call ForGroup(g,function GAD)
call CZ7(g)
set i=i+1
endloop
if CS8==20*(0.6+0.4*HF8)then
call CZ7(G3D)
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set t=null
set EL8=null
set g=null
set G3D=null
return false
endfunction
function G6D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local real x0=(LoadReal(L7,(OL7),(6)))
local real y0=(LoadReal(L7,(OL7),(7)))
local real a=(LoadReal(L7,(OL7),(137)))
local integer CS8=GetTriggerEvalCount(t)
local real x=x0+100*CS8*Cos(a*bj_DEGTORAD)
local real y=y0+100*CS8*Sin(a*bj_DEGTORAD)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local integer HF8=GetUnitAbilityLevel(EL8,1093685046)
local ubersplat TG9
local integer i
if CS8<10 then
call SaveEffectHandle(L7,(OL7),(609+CS8),(AddSpecialEffect("effects\\IcePath.mdx",x,y)))
set TG9=CreateUbersplat(x,y,"IPTH",255,255,255,255,false,false)
call SetUbersplatRenderAlways(TG9,true)
call SaveUbersplatHandle(L7,(OL7),(760+CS8),(TG9))
endif
if CS8==10 then
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function GCD))
call SaveReal(L7,(OL7),(6),((x0)*1.0))
call SaveReal(L7,(OL7),(7),((y0)*1.0))
call SaveReal(L7,(OL7),(137),((a)*1.0))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveGroupHandle(L7,(OL7),(187),(CA7()))
call TriggerEvaluate(t)
elseif CS8>=(0.4+0.6+0.4*HF8)/.05 then
set i=0
loop
exitwhen i==10
call DestroyEffect((LoadEffectHandle(L7,(OL7),(609+i))))
call DestroyUbersplat((LoadUbersplatHandle(L7,(OL7),(760+i))))
set i=i+1
endloop
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set t=null
set EL8=null
return false
endfunction
function GLD takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
local real x=GetUnitX(EL8)
local real y=GetUnitY(EL8)
local real a=PS7(x,y,GetSpellTargetX(),GetSpellTargetY())
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function G6D))
call SaveReal(L7,(OL7),(6),((x)*1.0))
call SaveReal(L7,(OL7),(7),((y)*1.0))
call SaveReal(L7,(OL7),(137),((a)*1.0))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call TriggerEvaluate(t)
set t=null
set EL8=null
endfunction
function G1D takes nothing returns boolean
if GetSpellAbilityId()==1093685046 then
call GLD()
endif
return false
endfunction
function KV8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function G1D))
set t=null
endfunction
function G0D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local integer BK7=UQ7(UL7,"Level")
local real a=UR7(UL7,"a")
local real x=UR7(UL7,"x")
local real y=UR7(UL7,"y")
local integer id=GetPlayerId(GetOwningPlayer(p5))
local integer BD8=GetTriggerEvalCount(t)
local real G5D=x+150*BD8*Cos(a)
local real G2D=y+150*BD8*Sin(a)
local integer G_D=6
if GetUnitAbilityLevel(p5,1093685045)==0 then
set G_D=9
endif
if GetPlayerController(GetOwningPlayer(RW4[id]))==MAP_CONTROL_COMPUTER then
call UnitAddAbility(RW4[GetPlayerId(GetOwningPlayer(p5))],1093685061)
call SetUnitAbilityLevel(RW4[GetPlayerId(GetOwningPlayer(p5))],1093685061,BK7)
endif
call IssuePointOrder(RW4[id],"flamestrike",G5D,G2D)
if BD8==(G_D)then
call TQ7(UL7)
call U37(t)
call SetUnitAnimation(p5,"stand")
endif
set t=null
set p5=null
return false
endfunction
function H4D takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local real a=Atan2(y-GetUnitY(p5),x-GetUnitX(p5))
local integer BK7=GetUnitAbilityLevel(p5,1093685045)
local integer o6=1093685061
if BK7==0 then
set BK7=GetUnitAbilityLevel(p5,1093747249)
set o6=1093747250
endif
call RemoveLocation(l)
call SetUnitAnimation(p5,"spell")
set RW4[GetPlayerId(GetOwningPlayer(p5))]=CreateUnit(GetOwningPlayer(p5),1697656901,x,y,0)
call LP7(RW4[GetPlayerId(GetOwningPlayer(p5))],o6)
call SetUnitAbilityLevel(RW4[GetPlayerId(GetOwningPlayer(p5))],o6,BK7)
call TT7(UL7,"Level",BK7)
call TU7(UL7,"x",(GetUnitX(p5))*1.0)
call TU7(UL7,"y",(GetUnitY(p5))*1.0)
call TU7(UL7,"a",(a)*1.0)
call TX7(UL7,"Source",p5)
if o6==1093685061 then
call TriggerRegisterTimerEvent(t,0.1,true)
else
call TriggerRegisterTimerEvent(t,0.05,true)
endif
call TriggerAddCondition(t,Condition(function G0D))
set t=null
set p5=null
set l=null
endfunction
function H7D takes nothing returns boolean
if GetSpellAbilityId()==1093685045 or GetSpellAbilityId()==1093747249 then
call H4D()
endif
return false
endfunction
function KW8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function H7D))
call DH8(1093685061)
set t=null
endfunction
function H8D takes nothing returns boolean
return GetUnitTypeId(GetSummonedUnit())==1865429059 or GetUnitTypeId(GetSummonedUnit())==1865429319 or GetUnitTypeId(GetSummonedUnit())==1865429320 or GetUnitTypeId(GetSummonedUnit())==1865429321
endfunction
function H9D takes nothing returns nothing
call SetUnitAbilityLevelSwapped(1093678392,GetSummonedUnit(),GetUnitAbilityLevelSwapped(1093678135,GetSummoningUnit()))
endfunction
function MU8 takes nothing returns nothing
set dT=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(dT,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(dT,Condition(function H8D))
call TriggerAddAction(dT,function H9D)
endfunction
function HDD takes unit CR7,unit m5 returns nothing
local real a=GetRandomReal(0,360)
local real x=GetUnitX(m5)+50*Cos(a*bj_DEGTORAD)
local real y=GetUnitY(m5)+50*Sin(a*bj_DEGTORAD)
local real HED=GetRandomReal(175,250)
call SetUnitPosition(CR7,x,y)
call SetUnitFacing(CR7,bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(CR7),GetUnitX(m5)-GetUnitX(CR7)))
call SetUnitAnimation(CR7,"Attack")
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl",CR7,"chest"))
if Z07(GetOwningPlayer(m5))==false and IsUnitType(m5,UNIT_TYPE_ANCIENT)==false then
set HED=99999
endif
call HG8(CR7,m5,ZH4,HED)
call IssueTargetOrder(CR7,"attack",m5)
endfunction
function HFD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
local unit m5=UE7(UL7,"Target")
call HDD(CR7,m5)
call TQ7(UL7)
call U37(t)
set t=null
set CR7=null
set m5=null
return false
endfunction
function HGD takes unit CR7 returns nothing
local group g=CA7()
set IN4=CR7
call GroupEnumUnitsInRange(g,GetUnitX(CR7),GetUnitY(CR7),450,Condition(function F68))
set IN4=GroupPickRandomUnit(g)
if IN4!=null then
call HDD(CR7,IN4)
endif
call CZ7(g)
set g=null
endfunction
function HHD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
local unit HE8=UE7(UL7,"Caster")
local integer Tq=UQ7(UL7,"Limit")
local integer TQ=UQ7(UL7,"BFLevel")
local integer Rd=UQ7(UL7,"Counter")
local unit Tr
call SetUnitPosition(HE8,GetUnitX(CR7),GetUnitY(CR7))
if Rd>Tq then
call KillUnit(HE8)
call DestroyEffect(UK7(UL7,"FX"))
call TQ7(UL7)
call U37(t)
call SetPlayerAbilityAvailable(GetOwningPlayer(CR7),1093678407,true)
call SetUnitPathing(CR7,true)
call SetUnitInvulnerable(CR7,false)
call UB7(CR7,"Omnislashing")
call SetUnitVertexColor(CR7,255,255,255,255)
else
call TT7(UL7,"Counter",Rd+1)
call HGD(CR7)
if IN4==null then
call KillUnit(HE8)
call DestroyEffect(UK7(UL7,"FX"))
call TQ7(UL7)
call U37(t)
call SetPlayerAbilityAvailable(GetOwningPlayer(CR7),1093678407,true)
call SetUnitPathing(CR7,true)
call SetUnitInvulnerable(CR7,false)
call UB7(CR7,"Omnislashing")
call SetUnitVertexColor(CR7,255,255,255,255)
endif
endif
set t=null
set CR7=null
set Tr=null
set HE8=null
return false
endfunction
function HID takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer BK7=GetUnitAbilityLevel(CR7,1093684529)
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local integer TQ=GetUnitAbilityLevel(CR7,1093678407)
local player p=GetOwningPlayer(CR7)
local integer Y47=3
local unit HE8=CreateUnit(GetOwningPlayer(CR7),1865429060,GetUnitX(CR7),GetUnitY(CR7),0)
if BK7==0 then
set BK7=GetUnitAbilityLevel(CR7,1093747032)
if BK7==1 then
set Y47=6
elseif BK7==2 then
set Y47=9
elseif BK7==3 then
set Y47=12
endif
elseif BK7==2 then
set Y47=6
elseif BK7==3 then
set Y47=9
endif
call SetPlayerAbilityAvailable(p,1093678407,false)
call SetUnitVertexColor(CR7,255,255,255,125)
call SetUnitPathing(CR7,false)
call SetUnitInvulnerable(CR7,true)
call UZ7(CR7,"Omnislashing")
call TX7(UL7,"Hero",CR7)
call TX7(UL7,"Target",m5)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function HFD))
set t=CreateTrigger()
set UL7=GetHandleId(t)
call TX7(UL7,"Hero",CR7)
call TX7(UL7,"Caster",HE8)
call TT7(UL7,"Limit",Y47)
call TT7(UL7,"BFLevel",TQ)
call TT7(UL7,"Counter",2)
call TY7(UL7,"FX",AddSpecialEffectTarget("Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile_mini.mdl",CR7,"weapon"))
call TriggerRegisterTimerEvent(t,0.4,true)
call TriggerAddCondition(t,Condition(function HHD))
set CR7=null
set m5=null
set t=null
set p=null
endfunction
function HJD takes nothing returns boolean
if GetSpellAbilityId()==1093684529 or GetSpellAbilityId()==1093747032 then
call HID()
endif
return false
endfunction
function HKD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
call FlushChildHashtable(L7,(OL7))
call U37(t)
call SetUnitAnimationByIndex(EL8,4)
set t=null
set EL8=null
return false
endfunction
function HMD takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.01,false)
call TriggerAddCondition(t,Condition(function HKD))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
set t=null
set EL8=null
endfunction
function HND takes nothing returns boolean
if GetSpellAbilityId()==1093684529 or GetSpellAbilityId()==1093747032 then
call HMD()
endif
return false
endfunction
function MV8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function HJD))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function HND))
set t=null
endfunction
function HOD takes integer BK7 returns integer
if BK7==1 then
return 1093742682
elseif BK7==2 then
return 1093742897
elseif BK7==3 then
return 1093742681
elseif BK7==4 then
return 1093742896
endif
return 0
endfunction
function HPD takes integer BK7 returns integer
if BK7==1 then
return 1110456653
elseif BK7==2 then
return 1110456654
elseif BK7==3 then
return 1110456655
elseif BK7==4 then
return 1110456652
endif
return 0
endfunction
function HQD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit m5=UE7(UL7,"Target")
local integer BK7=UQ7(UL7,"Level")
local real xN=UR7(UL7,"LastX")
local real xo=UR7(UL7,"LastY")
local real x=GetUnitX(m5)
local real y=GetUnitY(m5)
local real d=SquareRoot((xN-x)*(xN-x)+(xo-y)*(xo-y))
local real vB=(0.00030+BK7*0.00005)*d*GetUnitState(m5,UNIT_STATE_MAX_MANA)
local integer QI=GetTriggerEvalCount(t)
local unit HE8
if CO7(m5)==true then
set vB=0
endif
if d>300 then
set vB=0
endif
if vB>1 and ModuloInteger(GetTriggerEvalCount(t),3)==0 then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\WingedSerpentMissile\\WingedSerpentMissile.mdl",m5,"chest"))
endif
if vB>0 then
call SetUnitState(m5,UNIT_STATE_MANA,GetUnitState(m5,UNIT_STATE_MANA)-vB)
endif
call TU7(UL7,"LastX",x)
call TU7(UL7,"LastY",y)
if GetTriggerEventId()==EVENT_UNIT_DEATH or QI==(BK7+3)*10 then
call UnitRemoveAbility(m5,HOD(BK7))
call UnitRemoveAbility(m5,HPD(BK7))
call DestroyEffect(UK7(UL7,"FX"))
call TQ7(UL7)
call U37(t)
elseif GetUnitState(m5,UNIT_STATE_MANA)<1 then
call HD8(UE7(UL7,"Source"),m5,1+0.3*BK7)
set HE8=null
call UnitRemoveAbility(m5,HOD(BK7))
call UnitRemoveAbility(m5,HPD(BK7))
call DestroyEffect(UK7(UL7,"FX"))
call TQ7(UL7)
call U37(t)
endif
set t=null
set m5=null
return false
endfunction
function HRD takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local integer BK7=GetUnitAbilityLevel(p5,1093742680)
call LP7(m5,HOD(BK7))
call TX7(UL7,"Target",m5)
call TX7(UL7,"Source",p5)
call TT7(UL7,"Level",BK7)
call TU7(UL7,"LastX",GetUnitX(m5))
call TU7(UL7,"LastY",GetUnitY(m5))
call TY7(UL7,"FX",AddSpecialEffectTarget("effects\\BasicWaterFlash.mdx",m5,"chest"))
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function HQD))
set p5=null
set m5=null
set t=null
endfunction
function HSD takes nothing returns boolean
if GetSpellAbilityId()==1093742680 and CY7(GetSpellTargetUnit())==false then
call HRD()
endif
return false
endfunction
function MX8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function HSD))
set t=null
endfunction
function HTD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit m5=UE7(UL7,"Target")
local real Tw=UR7(UL7,"Mana")
call SetUnitState(m5,UNIT_STATE_MANA,GetUnitState(m5,UNIT_STATE_MANA)+Tw)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl",m5,"origin"))
call TQ7(UL7)
call U37(t)
set m5=null
set t=null
return false
endfunction
function HUD takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call TX7(UL7,"Target",m5)
call TU7(UL7,"Mana",75*GetUnitAbilityLevel(CR7,1093742898))
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function HTD))
set t=null
set CR7=null
set m5=null
endfunction
function HVD takes nothing returns boolean
if GetSpellAbilityId()==1093742898 then
call HUD()
endif
return false
endfunction
function MY8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function HVD))
set t=null
endfunction
function HWD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit HXD=(LoadUnitHandle(L7,(OL7),(19)))
local real A89=(LoadReal(L7,(OL7),(13)))
local integer HYD=(LoadInteger(L7,(OL7),(34)))
local real HZD=GetUnitX(HXD)-50*Cos(A89)
local real HAD=GetUnitY(HXD)-50*Sin(A89)
local unit HE8=CreateUnit(GetOwningPlayer(HXD),1697656901,HZD,HAD,0)
local real x=GetUnitX(HE8)+50*Cos(A89)
local real y=GetUnitY(HE8)+50*Sin(A89)
local real x2=x+(300+50*HYD)*Cos(A89)
local real y2=y+(300+50*HYD)*Sin(A89)
call LP7(HE8,1093679159)
call SetUnitAbilityLevel(HE8,1093679159,HYD)
call IssuePointOrder(HE8,"breathoffire",x,y)
call KillUnit(HXD)
call FlushChildHashtable(L7,(OL7))
call U37(t)
set HE8=null
set t=null
return false
endfunction
function HBD takes unit HXD,integer HYD,real A89 returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function HWD))
call SaveUnitHandle(L7,(OL7),(19),(HXD))
call SaveReal(L7,(OL7),(13),((A89)*1.0))
call SaveInteger(L7,(OL7),(34),(HYD))
set t=null
endfunction
function HCD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local integer iX=UQ7(UL7,"Count")
local integer H3D=iX-1
local real RK=UR7(UL7,"Angle")
local unit oA=UE7(UL7,"Caster")
local unit CR7=UE7(UL7,"Hero")
local integer BK7=UQ7(UL7,"Level")
local integer H6D=2+BK7*2
local boolean HLD=US7(UL7,"SpiritCast")
local unit H1D
if GetTriggerEventId()!=EVENT_UNIT_SPELL_ENDCAST then
call TT7(UL7,"Count",iX+1)
endif
call SetUnitScale(oA,I2R(100+20*H3D)/ 100,I2R(100+20*H3D)/ 100,I2R(100+20*H3D)/ 100)
if(GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST and HLD==false)or(GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST and GetSpellAbilityId()==1093743153)or H3D==H6D then
if HLD then
set H1D=UE7(UL7,"Dummy")
call ShowUnit(H1D,false)
call UnitApplyTimedLife(H1D,1112820806,1)
endif
call TQ7(UL7)
call U37(t)
if(LoadInteger(L7,(GetHandleId(CR7)),(704)))==0 or(LoadInteger(L7,(GetHandleId(CR7)),(704)))==1093679157 then
call SetPlayerAbilityAvailable(GetOwningPlayer(CR7),1093679157,true)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(CR7),1093743153,false)
call UnitRemoveAbility(CR7,1093743153)
call HBD(oA,H3D,RK)
endif
set oA=CreateUnit(GetOwningPlayer(oA),1747990093,GetUnitX(oA)+150*(H3D)*Cos(RK),GetUnitY(oA)+150*(H3D)*Sin(RK),0)
call UnitApplyTimedLife(oA,1112820806,7)
set t=null
set oA=null
set CR7=null
set H1D=null
return false
endfunction
function H0D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
call IssueImmediateOrder(CR7,"stop")
call TQ7(UL7)
call U37(t)
set t=null
set CR7=null
return false
endfunction
function H5D takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real RK=Atan2(GetLocationY(l)-GetUnitY(CR7),GetLocationX(l)-GetUnitX(CR7))
local real x
local real y
local unit oA
local unit H1D
local boolean HLD=false
if GetLocationY(l)==GetUnitY(CR7)and GetLocationX(l)==GetUnitX(CR7)then
set RK=GetUnitFacing(CR7)*bj_DEGTORAD
endif
set x=GetUnitX(CR7)+150*Cos(RK)
set y=GetUnitY(CR7)+150*Sin(RK)
set oA=CreateUnit(GetOwningPlayer(CR7),1966092362,x,y,RK*bj_RADTODEG)
call RemoveLocation(l)
if GetUnitTypeId(CR7)==1211119192 or GetUnitTypeId(CR7)==1211119193 or GetUnitTypeId(CR7)==1211119191 then
set HLD=true
endif
call TW7(UL7,"SpiritCast",HLD)
call TX7(UL7,"Hero",CR7)
call TX7(UL7,"Caster",oA)
call TT7(UL7,"Count",1)
call TT7(UL7,"Level",GetUnitAbilityLevel(CR7,1093679157))
call TU7(UL7,"Angle",RK)
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerRegisterUnitEvent(t,CR7,EVENT_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(t,Condition(function HCD))
if HLD then
set H1D=CreateUnit(GetOwningPlayer(CR7),1747990106,GetUnitX(CR7),GetUnitY(CR7),RK*bj_RADTODEG)
call SetUnitX(H1D,GetUnitX(CR7))
call SetUnitY(H1D,GetUnitY(CR7))
call SetUnitAnimation(H1D,"spell")
call QueueUnitAnimation(H1D,"spell")
call QueueUnitAnimation(H1D,"spell")
call SetUnitVertexColor(H1D,255,255,255,75)
call TX7(UL7,"Dummy",H1D)
set t=CreateTrigger()
set UL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function H0D))
call TX7(UL7,"Hero",CR7)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(CR7),1093679157,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(CR7),1093743153,true)
call F78(CR7,1093743153,1,6)
set t=null
set CR7=null
set oA=null
set H1D=null
set l=null
endfunction
function H2D takes nothing returns boolean
if GetSpellAbilityId()==1093679157 then
call H5D()
endif
return false
endfunction
function MZ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function H2D))
set t=null
endfunction
function H_D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local unit m5=UE7(UL7,"Target")
local real x1
local real y1
local real x2
local real y2
if GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_UNIT_DAMAGED and GetEventDamage()>2 and Z07(GetOwningPlayer(GetEventDamageSource())))then
call DestroyEffect(UK7(UL7,"FX1"))
call DestroyEffect(UK7(UL7,"FX2"))
call TQ7(UL7)
call U37(t)
elseif GetTriggerEventId()!=EVENT_UNIT_DAMAGED and GetTriggerEventId()!=EVENT_UNIT_DEATH then
set x1=GetUnitX(p5)
set y1=GetUnitY(p5)
set x2=GetUnitX(m5)
set y2=GetUnitY(m5)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl",x1,y1))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl",x2,y2))
call U07(m5,"4410",1)
call SetUnitPosition(m5,GetUnitX(p5),GetUnitY(p5))
call DestroyEffect(UK7(UL7,"FX1"))
call DestroyEffect(UK7(UL7,"FX2"))
call TQ7(UL7)
call U37(t)
call AA7(m5)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function I7D takes nothing returns nothing
local unit p5=GetEnumUnit()
local real l4=RI7(GetUnitX(p5),GetUnitY(p5),WS4,WT4)
if l4<WR4 then
set WQ4=GetEnumUnit()
set WR4=l4
endif
set p5=null
endfunction
function I8D takes nothing returns nothing
local unit m5=GetSpellTargetUnit()
local unit p5=GetTriggerUnit()
local trigger t
local integer UL7
local real Hk
local group g
if m5==null then
set WQ4=null
set WR4=999999
set WS4=GetSpellTargetX()
set WT4=GetSpellTargetY()
set IN4=p5
set g=CA7()
call GroupEnumUnitsInRange(g,0,0,9999,Condition(function GR8))
call GroupRemoveUnit(g,p5)
call ForGroup(g,function I7D)
call CZ7(g)
set m5=WQ4
set g=null
endif
if GetSpellAbilityId()==1093742677 then
set Hk=5
elseif GetSpellAbilityId()==1093742937 then
set Hk=4
elseif GetSpellAbilityId()==1093742938 then
set Hk=3
elseif GetSpellAbilityId()==1093750321 then
set Hk=3
endif
if m5!=null then
set t=CreateTrigger()
set UL7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,Hk,false)
call TriggerAddCondition(t,Condition(function H_D))
call TX7(UL7,"Source",p5)
call TX7(UL7,"Target",m5)
call TY7(UL7,"FX1",AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTo.mdl",p5,"origin"))
call TY7(UL7,"FX2",AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTo.mdl",m5,"origin"))
endif
set m5=null
set p5=null
set t=null
endfunction
function I9D takes nothing returns boolean
if GetSpellAbilityId()==1093742677 or GetSpellAbilityId()==1093742937 or GetSpellAbilityId()==1093742938 then
call I8D()
endif
return false
endfunction
function IDD takes nothing returns boolean
if GetSpellAbilityId()==1093742677 or GetSpellAbilityId()==1093742937 or GetSpellAbilityId()==1093742938 then
if GetSpellTargetUnit()!=null and US7(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp")then
call RU7(GetTriggerUnit())
call D78(GetOwningPlayer(GetTriggerUnit()),B67(1848652600))
endif
endif
return false
endfunction
function MA8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function I9D))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function IDD))
set t=null
endfunction
function IED takes nothing returns nothing
local unit m5=GetEnumUnit()
local real x=GetUnitX(m5)
local real y=GetUnitY(m5)
local real a=Atan2(y-tN,x-SN)
set x=DD8(x+25*Cos(a))
set y=DE8(y+25*Sin(a))
call E78(x,y,150)
call SetUnitX(m5,x)
call SetUnitY(m5,y)
set m5=null
endfunction
function IFD takes nothing returns nothing
local unit m5=GetEnumUnit()
local unit HE8=CreateUnit(IR4,1697656901,GetUnitX(m5),GetUnitY(m5),0)
call LP7(HE8,1093742679)
call SetUnitAbilityLevel(HE8,1093742679,pN)
call IssueTargetOrder(HE8,"drunkenhaze",m5)
set m5=null
set HE8=null
endfunction
function IGD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local player p=UG7(UL7,"p")
local real t5=UR7(UL7,"SourceX")
local real w5=UR7(UL7,"SourceY")
local integer o6=UQ7(UL7,"AbilityID")
local group g=UJ7(UL7,"g")
local integer BD8=GetTriggerEvalCount(t)
set SN=t5
set tN=w5
call ForGroup(g,function IED)
if BD8==10 then
if o6==1093742936 then
set pN=1
elseif o6==1093742934 then
set pN=2
else
set pN=3
endif
set IR4=p
call ForGroup(g,function IFD)
call CZ7(g)
call TQ7(UL7)
call U37(t)
endif
set t=null
set p=null
set g=null
return false
endfunction
function IHD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local player p=UG7(UL7,"p")
local real t5=UR7(UL7,"SourceX")
local real w5=UR7(UL7,"SourceY")
local integer o6=UQ7(UL7,"AbilityID")
local group g=UJ7(UL7,"g")
call U37(t)
call TQ7(UL7)
set t=CreateTrigger()
set UL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.04,true)
call TriggerAddCondition(t,Condition(function IGD))
call T37(UL7,"p",p)
call TU7(UL7,"SourceX",t5*1.0)
call TU7(UL7,"SourceY",w5*1.0)
call TL7(UL7,"g",g)
call TT7(UL7,"AbilityID",o6)
set t=null
set p=null
set g=null
return false
endfunction
function IID takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local group g=CA7()
local unit p5=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
call KillUnit(CreateUnit(GetOwningPlayer(p5),1747990096,x,y,0))
set IN4=p5
call GroupEnumUnitsInRange(g,x,y,700,Condition(function G88))
call TriggerRegisterTimerEvent(t,0.4,false)
call TriggerAddCondition(t,Condition(function IHD))
call T37(UL7,"p",GetOwningPlayer(GetTriggerUnit()))
call TU7(UL7,"SourceX",(x)*1.0)
call TU7(UL7,"SourceY",(y)*1.0)
call TL7(UL7,"g",g)
call TT7(UL7,"AbilityID",GetSpellAbilityId())
call RemoveLocation(l)
set l=null
set t=null
set g=null
set p5=null
endfunction
function IJD takes nothing returns boolean
if GetSpellAbilityId()==1093742936 or GetSpellAbilityId()==1093742934 or GetSpellAbilityId()==1093742935 then
call IID()
endif
return false
endfunction
function MB8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function IJD))
set t=null
endfunction
function IKD takes unit u returns boolean
return GetUnitTypeId(u)==1966092345
endfunction
function IMD takes nothing returns boolean
if IKD(GetFilterUnit())or GI8()then
if LoadInteger(L7,tl,GetHandleId(GetFilterUnit()))<IH4 then
return true
endif
endif
return false
endfunction
function IND takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
local integer IOD=UQ7(UL7,"LucentLevel")
local integer Tq=UQ7(UL7,"Limit")
local integer IPD=UQ7(UL7,"TargetLimit")
local group g=CA7()
local real x=GetUnitX(CR7)
local real y=GetUnitY(CR7)
local unit O_7
local real r1=GetRandomInt(200,350)
local real r2=GetRandomInt(200,350)
if GetRandomInt(1,2)==1 then
set r1=-1*r1
set r2=-1*r2
endif
set IN4=CR7
set IH4=IPD
set tl=GetHandleId(t)
call GroupEnumUnitsInRange(g,x,y,700,Condition(function IMD))
set O_7=GroupPickRandomUnit(g)
call CZ7(g)
if LR7(CR7)==false and O_7!=null and IKD(O_7)==false then
call SaveInteger(L7,tl,GetHandleId(O_7),LoadInteger(L7,tl,GetHandleId(O_7))+1)
call DB8("effects\\Eclipse.mdx",O_7,"origin",3)
call HG8(CR7,O_7,ZG4,IOD*75)
elseif LR7(CR7)==false then
set x=x+GetRandomInt(-350,350)
set y=y+GetRandomInt(-350,350)
call DC8("effects\\Eclipse.mdx",x,y,1.5)
endif
if(GetTriggerEvalCount(t)+1)==Tq then
call TQ7(UL7)
call U37(t)
endif
set t=null
set CR7=null
set g=null
set O_7=null
return false
endfunction
function IQD takes nothing returns nothing
local unit CL7=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local integer Tq
local integer IOD=GetUnitAbilityLevel(CL7,1093678130)
local integer IPD
local unit HE8=CreateUnit(GetOwningPlayer(CL7),1697656901,GetUnitX(CL7),GetUnitY(CL7),0)
if IOD==0 and GetUnitTypeId(CL7)!=1160785973 then
set IOD=4
endif
call LP7(HE8,1093751862)
if GetSpellAbilityId()==1093678388 then
set Tq=1+3*GetUnitAbilityLevel(CL7,1093678388)
set IPD=4
else
set Tq=4*GetUnitAbilityLevel(CL7,1093677141)
set IPD=6
endif
call TT7(UL7,"LucentLevel",IOD)
call TT7(UL7,"Limit",Tq)
call TT7(UL7,"TargetLimit",IPD)
call TX7(UL7,"Hero",CL7)
call TriggerRegisterTimerEvent(t,0.6,true)
call TriggerAddCondition(t,Condition(function IND))
call TriggerEvaluate(t)
call IssueImmediateOrderById(HE8,852621)
set t=null
set CL7=null
set HE8=null
endfunction
function IRD takes nothing returns boolean
if GetSpellAbilityId()==1093678388 or GetSpellAbilityId()==1093677141 then
call IQD()
endif
return false
endfunction
function MC8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function IRD))
set t=null
endfunction
function ISD takes nothing returns boolean
if GetLearnedSkill()==1093678129 then
if GetUnitAbilityLevel(GetTriggerUnit(),1093678129)==4 then
call SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()),1382378855,5)
else
call SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()),1382378855,GetUnitAbilityLevel(GetTriggerUnit(),1093678129))
endif
elseif GetLearnedSkill()==1093678642 then
call SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()),1378889801,1)
endif
return false
endfunction
function M38 takes nothing returns nothing
set du=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(du,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(du,Condition(function ISD))
endfunction
function ITD takes nothing returns boolean
return GetSpellAbilityId()==1093684053
endfunction
function IUD takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))
endfunction
function IVD takes nothing returns nothing
call LP7(GetEnumUnit(),1093684052)
call SetUnitAbilityLevel(GetEnumUnit(),1093684052,E8)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Invisibility\\InvisibilityTarget.mdl",GetEnumUnit(),"chest"))
endfunction
function IWD takes nothing returns nothing
call UnitRemoveAbility(GetEnumUnit(),1093684052)
endfunction
function IXD takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer UL7=GetHandleId(t)
local group I68=UJ7(UL7,"Group")
call ForGroup(I68,function IWD)
call CZ7(I68)
call Mv(t)
set t=null
set I68=null
endfunction
function IYD takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local boolexpr hP=Condition(function IUD)
local group I68=CA7()
local timer t=CreateTimer()
local integer UL7=GetHandleId(t)
local integer BK7=GetUnitAbilityLevel(CR7,1093684053)
local real EZD=15
set E8=BK7
call GroupEnumUnitsInRange(I68,0,0,9999,hP)
call ForGroup(I68,function IVD)
call DestroyBoolExpr(hP)
call TL7(UL7,"Group",I68)
call TimerStart(t,EZD,false,function IXD)
set CR7=null
set hP=null
set I68=null
set t=null
endfunction
function RM8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ITD))
call TriggerAddAction(t,function IYD)
set t=null
endfunction
function IZD takes nothing returns nothing
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Starfall\\StarfallTarget.mdl",GetEnumUnit(),"origin"))
endfunction
function IAD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
local unit m5=UE7(UL7,"Target")
call HG8(CR7,m5,ZG4,0.75*GetUnitAbilityLevel(CR7,1093684054)*75)
call TQ7(UL7)
call U37(t)
set t=null
set CR7=null
set m5=null
return false
endfunction
function IBD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
local group g=CA7()
local unit m5=UE7(UL7,"Target")
call DestroyEffect(UK7(UL7,"FX"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Starfall\\StarfallTarget.mdl",m5,"origin"))
call TQ7(UL7)
call U37(t)
call CZ7(g)
set t=CreateTrigger()
set UL7=GetHandleId(t)
call TX7(UL7,"Hero",CR7)
call TX7(UL7,"Target",m5)
call TriggerRegisterTimerEvent(t,.5,false)
call TriggerAddCondition(t,Condition(function IAD))
set t=null
set CR7=null
set g=null
set m5=null
return false
endfunction
function ug takes nothing returns nothing
call HG8(IN4,GetEnumUnit(),ZG4,IJ4)
endfunction
function uG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
local group g=UJ7(UL7,"g")
set IJ4=GetUnitAbilityLevel(CR7,1093684054)*75
set IN4=CR7
call ForGroup(g,function ug)
call CZ7(g)
call TQ7(UL7)
call U37(t)
set t=null
set CR7=null
set g=null
return false
endfunction
function uh takes nothing returns nothing
local real in=Ma(GetTriggerUnit(),GetEnumUnit())
if in>650 then
else
call GroupAddUnit(IQ4,GetEnumUnit())
endif
endfunction
function ICD takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=GetTriggerUnit()
local group g=CA7()
local unit m5
set IN4=CR7
set IQ4=CA7()
call GroupEnumUnitsInRange(g,GetUnitX(CR7),GetUnitY(CR7),900,Condition(function G78))
call ForGroup(g,function uh)
call CZ7(g)
set g=IQ4
call ForGroup(g,function IZD)
call TL7(UL7,"g",g)
call TX7(UL7,"Hero",CR7)
call TriggerRegisterTimerEvent(t,.5,false)
call TriggerAddCondition(t,Condition(function uG))
set IN4=CR7
set g=CA7()
call GroupEnumUnitsInRange(g,GetUnitX(CR7),GetUnitY(CR7),200,Condition(function G78))
set m5=GroupPickRandomUnit(g)
call CZ7(g)
set t=CreateTrigger()
set UL7=GetHandleId(t)
call TX7(UL7,"Hero",CR7)
call TX7(UL7,"Target",m5)
call TY7(UL7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Starfall\\StarfallCaster.mdl",CR7,"origin"))
call TriggerRegisterTimerEvent(t,1,false)
call TriggerAddCondition(t,Condition(function IBD))
set t=null
set g=null
set CR7=null
set m5=null
endfunction
function I3D takes nothing returns boolean
if GetSpellAbilityId()==1093684054 then
call ICD()
endif
return false
endfunction
function RN8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function I3D))
set t=null
endfunction
function I6D takes nothing returns boolean
return GetSpellAbilityId()==1093684280
endfunction
function uj takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(D8))and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false
endfunction
function uJ takes real uk,real uK,real iN,real io returns integer
local real in=SquareRoot((iN-uk)*(iN-uk)+(io-uK)*(io-uK))
return DQ8(R2I(in/150),10)
endfunction
function ul takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
local unit IJ=UE7(UL7,"Projectile")
local real hN=UR7(UL7,"TargetX")
local real ho=UR7(UL7,"TargetY")
local real RK=UR7(UL7,"Angle")
local real iN=GetUnitX(IJ)
local real io=GetUnitY(IJ)
local real Il=DD8(GetUnitX(IJ)+30*Cos(RK))
local real IL=DE8(GetUnitY(IJ)+30*Sin(RK))
local boolexpr hP=Condition(function uj)
local group I68=CA7()
local unit oA
local unit m5
local real uk
local real uK
call SetUnitX(IJ,Il)
call SetUnitY(IJ,IL)
set D8=CR7
call GroupEnumUnitsInRange(I68,Il,IL,140,hP)
set m5=FirstOfGroup(I68)
call CZ7(I68)
call DestroyBoolExpr(hP)
if m5!=null then
if IsUnitType(m5,UNIT_TYPE_HERO)==true then
set SO4[GetPlayerId(GetOwningPlayer(CR7))]=SO4[GetPlayerId(GetOwningPlayer(CR7))]+1
call IM8("AA_Hits"+I2S(GetPlayerId(GetOwningPlayer(CR7))),SO4[GetPlayerId(GetOwningPlayer(CR7))])
endif
set uk=UR7(UL7,"OriginalX")
set uK=UR7(UL7,"OriginalY")
set oA=CreateUnit(GetOwningPlayer(m5),1697656901,iN,io,0)
call LP7(oA,1093684279)
call SetUnitAbilityLevel(oA,1093684279,uJ(uk,uK,iN,io))
call IssueTargetOrderById(oA,852095,m5)
call UnitDamageTarget(CR7,m5,90*GetUnitAbilityLevel(CR7,1093684280),true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
call KillUnit(IJ)
call Mv(t)
set oA=null
elseif(Il-hN)*(Il-hN)+(IL-ho)*(IL-ho)<1600 then
call KillUnit(IJ)
call Mv(t)
endif
set CR7=null
set IJ=null
set t=null
set hP=null
set I68=null
set m5=null
endfunction
function ILD takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local real iN=DD8(GetUnitX(CR7))
local real io=DE8(GetUnitY(CR7))
local location sy=GetSpellTargetLoc()
local real hN=GetLocationX(sy)
local real ho=GetLocationY(sy)
local real RK=Atan2(ho-io,hN-iN)
local timer t=CreateTimer()
local integer UL7=GetHandleId(t)
local unit IJ=CreateUnit(GetOwningPlayer(CR7),1747988533,iN,io,RK*bj_RADTODEG)
set SP4[GetPlayerId(GetOwningPlayer(CR7))]=SP4[GetPlayerId(GetOwningPlayer(CR7))]+1
call IM8("AA_Total"+I2S(GetPlayerId(GetOwningPlayer(CR7))),SP4[GetPlayerId(GetOwningPlayer(CR7))])
call RemoveLocation(sy)
call SetUnitFacing(IJ,RK*bj_RADTODEG)
call SetUnitPathing(IJ,false)
set hN=DD8(iN+3000*Cos(RK))
set ho=DE8(io+3000*Sin(RK))
call TU7(UL7,"OriginalX",iN)
call TU7(UL7,"OriginalY",io)
call TU7(UL7,"TargetX",hN)
call TU7(UL7,"TargetY",ho)
call TU7(UL7,"Angle",RK)
call TX7(UL7,"Hero",CR7)
call TX7(UL7,"Projectile",IJ)
call TimerStart(t,.035,true,function ul)
set CR7=null
set sy=null
set t=null
set IJ=null
endfunction
function I1D takes nothing returns boolean
local integer I0D=SO4[GetPlayerId(GetTriggerPlayer())]
local integer D5=SP4[GetPlayerId(GetTriggerPlayer())]
if GetUnitTypeId(M7[GetPlayerId(GetTriggerPlayer())])==1311781206 and D5>0 then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,(GetObjectName((1848657741)))+" "+R2S(I2R(I0D)/ I2R(D5)*100)+"% ("+I2S(I0D)+"/"+I2S(D5)+")")
endif
return false
endfunction
function RO8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function I6D))
call TriggerAddAction(t,function ILD)
call DH8(1093684279)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-st",true)
call TriggerAddCondition(t,Condition(function I1D))
set t=null
endfunction
function I5D takes nothing returns boolean
return GetSpellAbilityId()==1093684302
endfunction
function uM takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(D8))
endfunction
function un takes nothing returns nothing
local unit CR7=GetEnumUnit()
local unit oA=CreateUnit(GetOwningPlayer(CR7),1697657170,0,0,0)
call LP7(oA,1093684303)
call SetUnitAbilityLevel(oA,1093684303,GetUnitAbilityLevel(D8,1093684302))
call UnitApplyTimedLife(oA,1112820806,10)
set CR7=null
set oA=null
endfunction
function uN takes unit CR7 returns nothing
local group I68=CA7()
local boolexpr hP=Condition(function uM)
set D8=CR7
call GroupEnumUnitsInRange(I68,GetUnitX(CR7),GetUnitY(CR7),800,hP)
call ForGroup(I68,function un)
call DestroyBoolExpr(hP)
call CZ7(I68)
set I68=null
set hP=null
endfunction
function uo takes unit CR7 returns nothing
local integer UL7=GetHandleId(CR7)
local string uO=UT7(UL7,"OrderType")
local string up=OrderId2String(UQ7(UL7,"OrderId"))
local real hN
local real ho
local unit m5
local trigger t=UI7(UL7,"Trigger_TrackOrder")
local boolean uP=not US7(UL7,"Idle")
local boolean uq=US7(UL7,"SuperOrder")
call DisableTrigger(t)
call IssueImmediateOrderById(CR7,851972)
if uO=="Target"and(uP or uq)then
set m5=UE7(UL7,"OrderTarget")
call IssueTargetOrder(CR7,up,m5)
elseif uO=="Point"and(uP or uq)then
set hN=UR7(UL7,"OrderPointX")
set ho=UR7(UL7,"OrderPointY")
call IssuePointOrder(CR7,up,hN,ho)
elseif(uP or uq)then
call IssueImmediateOrder(CR7,"OrderString")
endif
call TW7(UL7,"SuperOrder",false)
call EnableTrigger(t)
set m5=null
set t=null
endfunction
function uQ takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
local real ur=UR7(UL7,"DistanceRemaining")
local real uR=UR7(UL7,"OriginalDistance")
local real RK=UR7(UL7,"Angle")
local real Il=GetUnitX(CR7)+30*Cos(RK*bj_DEGTORAD)
local real IL=GetUnitY(CR7)+30*Sin(RK*bj_DEGTORAD)
local real us=200
local real uS=(1-ur/uR)*us*2
if uS>us then
set uS=us*2-uS
endif
call SetUnitFlyHeight(CR7,DU8(uS,0),0)
call SetUnitX(CR7,DD8(Il))
call SetUnitY(CR7,DE8(IL))
call SetUnitFacing(CR7,RK)
call TU7(UL7,"DistanceRemaining",ur-20)
if uS<1 and ur-uR!=0 then
call TW7(GetHandleId(CR7),"InAir",false)
call SetUnitFacing(CR7,RK)
call SetUnitAnimation(CR7,"stand")
call SetUnitPathing(CR7,true)
call uo(CR7)
call uN(CR7)
call PauseTimer(t)
call TQ7(UL7)
call DestroyTimer(t)
endif
set t=null
set CR7=null
endfunction
function I2D takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local integer BK7=GetUnitAbilityLevel(CR7,1093684302)
local real in=350+50*BK7
local real RK=GetUnitFacing(CR7)
local real iN=GetUnitX(CR7)
local real io=GetUnitY(CR7)
local real hN=DD8(iN+in*Cos(RK*bj_DEGTORAD))
local real ho=DE8(io+in*Sin(RK*bj_DEGTORAD))
local timer t=CreateTimer()
local integer UL7=GetHandleId(t)
local trigger uT=UI7(GetHandleId(CR7),"Trigger_TrackOrder")
set in=SquareRoot((iN-hN)*(iN-hN)+(io-ho)*(io-ho))
if in>100 then
call LP7(CR7,1097691750)
call UnitRemoveAbility(CR7,1097691750)
call SetUnitPathing(CR7,false)
call SetUnitAnimationByIndex(CR7,6)
call DisableTrigger(uT)
call IssueImmediateOrderById(CR7,851972)
call EnableTrigger(uT)
call TU7(UL7,"DistanceRemaining",in)
call TU7(UL7,"OriginalDistance",in)
call TU7(UL7,"Angle",RK)
call TX7(UL7,"Hero",CR7)
call TimerStart(t,.025,true,function uQ)
call TW7(GetHandleId(CR7),"Leap_InAir",true)
call TW7(GetHandleId(CR7),"SuperOrder",false)
endif
set CR7=null
set t=null
set uT=null
endfunction
function uu takes nothing returns boolean
return OrderId2String(GetIssuedOrderId())!="windwalk"
endfunction
function uU takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local integer UL7=GetHandleId(CR7)
local boolean uv=US7(UL7,"Leap_InAir")
call TT7(UL7,"OrderId",GetIssuedOrderId())
call TW7(UL7,"Idle",false)
if GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER then
call TV7(UL7,"OrderType","Target")
call T07(UL7,"OrderTarget",GetOrderTarget())
elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_POINT_ORDER then
if uv or RI7(GetUnitX(CR7),GetUnitY(CR7),GetOrderPointX(),GetOrderPointY())>800 then
call TV7(UL7,"OrderType","Point")
call TU7(UL7,"OrderPointX",GetOrderPointX())
call TU7(UL7,"OrderPointY",GetOrderPointY())
else
call TW7(UL7,"Idle",true)
endif
else
call TV7(UL7,"OrderType","Instant")
endif
if uv then
call TW7(UL7,"SuperOrder",true)
endif
set CR7=null
endfunction
function uV takes nothing returns nothing
local unit CR7=UE7(GetHandleId(GetExpiredTimer()),"Hero")
local integer UL7=GetHandleId(CR7)
local real x=GetUnitX(CR7)
local real y=GetUnitY(CR7)
local string uO=UT7(UL7,"OrderType")
if uO=="Point"and RI7(GetUnitX(CR7),GetUnitY(CR7),UR7(UL7,"OrderPointX"),UR7(UL7,"OrderPointY"))<100 then
call TW7(UL7,"Idle",true)
endif
set CR7=null
endfunction
function uw takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local trigger t=CreateTrigger()
local timer t2
call TriggerRegisterUnitEvent(t,CR7,EVENT_UNIT_ISSUED_TARGET_ORDER)
call TriggerRegisterUnitEvent(t,CR7,EVENT_UNIT_ISSUED_POINT_ORDER)
call TriggerRegisterUnitEvent(t,CR7,EVENT_UNIT_ISSUED_ORDER)
call TriggerAddAction(t,function uU)
call TriggerAddCondition(t,Condition(function uu))
call TZ7(GetHandleId(CR7),"Trigger_TrackOrder",t)
set t2=CreateTimer()
call TX7(GetHandleId(t2),"Hero",CR7)
call TimerStart(t2,.3,true,function uV)
call T17(GetHandleId(CR7),"Timer_CheckIdle",t2)
set CR7=null
set t=null
set t2=null
endfunction
function uW takes nothing returns nothing
if GetUnitAbilityLevel(GetTriggerUnit(),1093684302)==1 then
call uw()
endif
endfunction
function RP8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function I5D))
call TriggerAddAction(t,function I2D)
set t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddAction(t,function uW)
set t=null
endfunction
function ux takes nothing returns nothing
local unit CR7=UE7(GetHandleId(GetTriggeringTrigger()),"Morphling")
local real r
local real g
local real b
local integer I_D
local integer J4D
local real J7D
local real rStr2Agi
if GetUnitTypeId(CR7)!=1328558160 then
call DisableTrigger(GetTriggeringTrigger())
elseif LR7(CR7)==false and US7(GetHandleId(CR7),"Waveforming")==false then
set I_D=GetHeroAgi(CR7,true)
set J4D=GetHeroStr(CR7,true)
set J7D=RMaxBJ(75+2*(I_D-J4D),35)
set r=J7D
set g=J7D
set b=J7D
call SetUnitVertexColorBJ(CR7,r,g,b,GetRandomReal(0.00,10.00))
endif
set CR7=null
endfunction
function J8D takes nothing returns boolean
return GetUnitTypeId(GetTriggerUnit())==1328558160 and IsUnitIllusion(GetTriggerUnit())==false
endfunction
function J9D takes nothing returns nothing
local trigger t
if(US7(GetHandleId(GetTriggerUnit()),"HasMorphling")==false)then
set t=CreateTrigger()
call TX7(GetHandleId(t),"Morphling",GetTriggerUnit())
call TZ7(GetHandleId(GetTriggerUnit()),"ColorTrigger",t)
call TriggerAddAction(t,function ux)
call TriggerRegisterTimerEvent(t,1.0,true)
call TW7(GetHandleId(GetTriggerUnit()),"HasMorphling",true)
call UnitAddItem(GetTriggerUnit(),CreateItem(1227894853,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
endif
set t=null
endfunction
function M68 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterEnterRectSimple(t,bj_mapInitialPlayableArea)
call TriggerAddCondition(t,Condition(function J8D))
call TriggerAddAction(t,function J9D)
set t=null
endfunction
function JDD takes nothing returns boolean
return GetSpellAbilityId()==1093682766
endfunction
function JED takes nothing returns boolean
local unit T3=GetFilterUnit()
if IsUnitInGroup(T3,R8)then
set T3=null
return false
endif
if IsUnitEnemy(T3,GetOwningPlayer(D8))and GetUnitAbilityLevel(T3,1093678162)!=1 and GetUnitState(T3,UNIT_STATE_LIFE)>0 and IsUnitType(T3,UNIT_TYPE_STRUCTURE)==false then
set T3=null
return true
endif
set T3=null
return false
endfunction
function uZ takes nothing returns nothing
call UnitDamageTarget(D8,GetEnumUnit(),F8,true,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
endfunction
function JFD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"UnitVar")
local real RK=UR7(UL7,"Angle")
local integer u3=UQ7(UL7,"Remaining")
local group Ro=UJ7(UL7,"AlreadyDamaged")
local real u4=GetUnitX(CR7)
local real u5=GetUnitY(CR7)
local real ZC9=(LoadReal(L7,(UL7),(23)))
local real Z39=(LoadReal(L7,(UL7),(24)))
local real EK8=ZC9+1000*0.05*Cos(RK)
local real EM8=Z39+1000*0.05*Sin(RK)
local group I68=CA7()
local unit GBD=UE7(UL7,"Dummy")
call SaveReal(L7,(UL7),(23),((EK8)*1.0))
call SaveReal(L7,(UL7),(24),((EM8)*1.0))
set D8=CR7
set F8=GetUnitAbilityLevel(CR7,1093682766)*75+25
set R8=Ro
call GroupEnumUnitsInRange(I68,u4,u5,200+25,Condition(function JED))
call ForGroup(I68,function uZ)
call GroupAddGroup(I68,Ro)
call CZ7(I68)
set u3=u3-1
call TT7(UL7,"Remaining",u3)
call SetUnitX(CR7,DD8(EK8))
call SetUnitY(CR7,DE8(EM8))
call SetUnitX(GBD,GetUnitX(CR7))
call SetUnitY(GBD,GetUnitY(CR7))
call IssueTargetOrder(GBD,"thunderbolt",CR7)
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",u4,u5))
if u3==0 then
call RemoveUnit(GBD)
call SetUnitVertexColor(CR7,255,255,255,255)
call TW7(GetHandleId(CR7),"Waveforming",false)
call SetUnitInvulnerable(CR7,false)
call SetUnitPathing(CR7,true)
call ClearSelectionForPlayer(GetOwningPlayer(CR7))
call SelectUnitAddForPlayer(CR7,GetOwningPlayer(CR7))
call TQ7(UL7)
call U37(t)
endif
set CR7=null
set Ro=null
set I68=null
set t=null
return false
endfunction
function JGD takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local real iN=GetUnitX(CR7)
local real io=GetUnitY(CR7)
local location sy=GetSpellTargetLoc()
local real hN=GetLocationX(sy)
local real ho=GetLocationY(sy)
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local group Ro=CA7()
local integer Q27=GetPlayerId(GetOwningPlayer(CR7))
local unit GBD=CreateUnit(GetOwningPlayer(CR7),1697656901,iN,io,0)
call UnitAddAbility(GBD,1093815860)
call RemoveLocation(sy)
if GetSpellTargetUnit()!=null then
set hN=GetUnitX(GetSpellTargetUnit())
set ho=GetUnitY(GetSpellTargetUnit())
endif
call SetUnitVertexColor(CR7,255,255,255,0)
call TW7(GetHandleId(CR7),"Waveforming",true)
call SetUnitInvulnerable(CR7,true)
call SetUnitPathing(CR7,false)
call TX7(UL7,"UnitVar",CR7)
call SaveReal(L7,(UL7),(23),((iN)*1.0))
call SaveReal(L7,(UL7),(24),((io)*1.0))
call TL7(UL7,"AlreadyDamaged",Ro)
call TU7(UL7,"Angle",Atan2(ho-io,hN-iN))
call TT7(UL7,"Remaining",DR8(R2I(SquareRoot((hN-iN)*(hN-iN)+(ho-io)*(ho-io))/50),1))
call TX7(UL7,"Dummy",GBD)
call TriggerRegisterTimerEvent(t,.04,true)
call TriggerAddCondition(t,Condition(function JFD))
call ShowUnit(CR7,false)
call ShowUnit(CR7,true)
call SelectUnitAddForPlayer(CR7,GetOwningPlayer(CR7))
set t=null
set CR7=null
set sy=null
set Ro=null
endfunction
function ML8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function JDD))
call TriggerAddAction(t,function JGD)
set t=null
endfunction
function u7 takes nothing returns nothing
local unit u8=UE7(GetHandleId(GetTriggeringTrigger()),"Morphling")
if GetHeroStatBJ(1,u8,false)>2*GetUnitAbilityLevel(u8,1093684056)and GetUnitState(u8,UNIT_STATE_MANA)>=20. and GetUnitState(u8,UNIT_STATE_LIFE)>1. then
call SetUnitManaBJ(u8,GetUnitState(u8,UNIT_STATE_MANA)-20)
call ModifyHeroStat(1,u8,1,2*GetUnitAbilityLevel(u8,1093684056))
call ModifyHeroStat(0,u8,0,2*GetUnitAbilityLevel(u8,1093684056))
endif
set u8=null
endfunction
function u9 takes nothing returns nothing
local unit u8=UE7(GetHandleId(GetTriggeringTrigger()),"Morphling")
if GetHeroStatBJ(0,u8,false)>2*GetUnitAbilityLevel(u8,1093684056)and GetUnitState(u8,UNIT_STATE_MANA)>=20. and GetUnitState(u8,UNIT_STATE_LIFE)>1. then
call SetUnitManaBJ(u8,GetUnitState(u8,UNIT_STATE_MANA)-20)
call ModifyHeroStat(0,u8,1,2*GetUnitAbilityLevel(u8,1093684056))
call ModifyHeroStat(1,u8,0,2*GetUnitAbilityLevel(u8,1093684056))
endif
set u8=null
endfunction
function JHD takes nothing returns boolean
return(((GetIssuedOrderId()==852550)or(GetIssuedOrderId()==852547))and(GetTriggerUnit()==UE7(GetHandleId(GetTriggeringTrigger()),"Morphling")))
endfunction
function UA takes nothing returns nothing
local integer UL7=GetHandleId(GetTriggeringTrigger())
local trigger Ub=UI7(UL7,"MorphStr")
local trigger UB=UI7(UL7,"MorphAgi")
if(GetIssuedOrderId()==852547)then
call DisableTrigger(Ub)
elseif(GetIssuedOrderId()==852550)then
call DisableTrigger(UB)
endif
set Ub=null
set UB=null
endfunction
function JID takes nothing returns boolean
return(((GetIssuedOrderId()==852549)or(GetIssuedOrderId()==852546))and(GetTriggerUnit()==UE7(GetHandleId(GetTriggeringTrigger()),"Morphling")))
endfunction
function UC takes nothing returns nothing
local integer UL7=GetHandleId(GetTriggeringTrigger())
local trigger Ub=UI7(UL7,"MorphStr")
local trigger UB=UI7(UL7,"MorphAgi")
if(GetIssuedOrderId()==852546)then
call EnableTrigger(Ub)
call DisableTrigger(UB)
elseif(GetIssuedOrderId()==852549)then
call DisableTrigger(Ub)
call EnableTrigger(UB)
endif
set Ub=null
set UB=null
endfunction
function JJD takes nothing returns boolean
return GetLearnedSkill()==1093684056 and IsUnitIllusion(GetTriggerUnit())==false and GetPlayerController(GetOwningPlayer(GetTriggerUnit()))!=MAP_CONTROL_COMPUTER
endfunction
function JKD takes unit CL7,integer JMD,real JND returns nothing
local integer JOD=GetHeroAgi(CL7,false)
local integer JPD=GetHeroStr(CL7,false)
local real JQD=GetUnitState(CL7,UNIT_STATE_MANA)
if JMD==0 then
if JQD>=JND and JOD>2 and LR7(CL7)==false then
call SetUnitState(CL7,UNIT_STATE_MANA,JQD-JND)
call SetHeroAgi(CL7,JOD-2,true)
call SetHeroStr(CL7,JPD+2,true)
endif
elseif JMD==1 then
if JQD>=JND and JPD>2 and LR7(CL7)==false then
call SetUnitState(CL7,UNIT_STATE_MANA,JQD-JND)
call SetHeroAgi(CL7,JOD+2,true)
call SetHeroStr(CL7,JPD-2,true)
endif
endif
endfunction
function JRD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
local integer JSD=GetUnitAbilityLevel(CR7,1093684056)
call JKD(CR7,1,30.0/ JSD)
set t=null
set CR7=null
return false
endfunction
function JTD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
local integer JSD=GetUnitAbilityLevel(CR7,1093684056)
call JKD(CR7,0,30.0/ JSD)
set t=null
set CR7=null
return false
endfunction
function JUD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=GetTriggerUnit()
local trigger JVD=UI7(UL7,"Iterate")
local integer JSD=GetUnitAbilityLevel(CR7,1093684056)
local integer JWD=UQ7(UL7,"LastOrder")
local real JXD=1.0/ JSD
if GetIssuedOrderId()==852549 then
if JVD!=null then
call TQ7(GetHandleId(JVD))
call U37(JVD)
endif
set JVD=CreateTrigger()
call TriggerRegisterTimerEvent(JVD,JXD,true)
call TriggerAddCondition(JVD,Condition(function JRD))
call TX7(GetHandleId(JVD),"Hero",CR7)
call TZ7(UL7,"Iterate",JVD)
call TT7(UL7,"LastOrder",GetIssuedOrderId())
call UnitAddAbility(CR7,1093808716)
call UnitRemoveAbility(CR7,1093808724)
elseif GetIssuedOrderId()==852546 then
if JVD!=null then
call TQ7(GetHandleId(JVD))
call U37(JVD)
endif
set JVD=CreateTrigger()
call TriggerRegisterTimerEvent(JVD,JXD,true)
call TriggerAddCondition(JVD,Condition(function JTD))
call TX7(GetHandleId(JVD),"Hero",CR7)
call TZ7(UL7,"Iterate",JVD)
call TT7(UL7,"LastOrder",GetIssuedOrderId())
call UnitAddAbility(CR7,1093808724)
call UnitRemoveAbility(CR7,1093808716)
elseif GetIssuedOrderId()==852550 then
if JVD!=null then
call TQ7(GetHandleId(JVD))
call U37(JVD)
endif
call TX7(UL7,"Iterate",null)
call TT7(UL7,"LastOrder",GetIssuedOrderId())
call UnitRemoveAbility(CR7,1093808716)
call UnitRemoveAbility(CR7,1093808724)
elseif GetIssuedOrderId()==852547 then
if JVD!=null then
call TQ7(GetHandleId(JVD))
call U37(JVD)
endif
call TX7(UL7,"Iterate",null)
call TT7(UL7,"LastOrder",GetIssuedOrderId())
call UnitRemoveAbility(CR7,1093808716)
call UnitRemoveAbility(CR7,1093808724)
elseif GetIssuedOrderId()==852548 and JWD!=852546 and JWD!=852546 then
call JKD(CR7,1,30./ JSD)
elseif GetIssuedOrderId()==852545 and JWD!=852546 and JWD!=852546 then
call JKD(CR7,0,30./ JSD)
endif
set t=null
set CR7=null
set JVD=null
return false
endfunction
function JYD takes nothing returns nothing
local unit CL7=GetTriggerUnit()
local trigger t
local integer OL7
local integer HF8=GetUnitAbilityLevel(GetTriggerUnit(),1093684056)
if HF8==1 then
call SetHeroAgi(CL7,GetHeroAgi(CL7,false)+3,true)
call SetHeroStr(CL7,GetHeroStr(CL7,false)+3,true)
else
call SetHeroAgi(CL7,GetHeroAgi(CL7,false)+1,true)
call SetHeroStr(CL7,GetHeroStr(CL7,false)+1,true)
endif
if HF8==1 then
set t=CreateTrigger()
set OL7=GetHandleId(t)
call LP7(CL7,1093684055)
call TriggerRegisterUnitEvent(t,CL7,EVENT_UNIT_ISSUED_ORDER)
call TriggerAddCondition(t,Condition(function JUD))
call TX7(OL7,"Iterate",null)
else
call SetUnitAbilityLevel(CL7,1093684055,HF8)
endif
set t=null
set CL7=null
endfunction
function JZD takes nothing returns boolean
return GetLearnedSkill()==1093684056 and IsUnitIllusion(GetTriggerUnit())==false and GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER
endfunction
function JAD takes nothing returns nothing
local unit u8=GetTriggerUnit()
local trigger Ue
local trigger UE
local trigger Ub
local trigger UB
if(GetUnitAbilityLevel(u8,1093684056)==1)then
call LP7(u8,1093684055)
set UB=CreateTrigger()
call DisableTrigger(UB)
call TriggerRegisterTimerEventPeriodic(UB,1.)
call TriggerAddAction(UB,function u9)
call TX7(GetHandleId(UB),"Morphling",u8)
set Ub=CreateTrigger()
call DisableTrigger(Ub)
call TriggerRegisterTimerEventPeriodic(Ub,1.)
call TriggerAddAction(Ub,function u7)
call TX7(GetHandleId(Ub),"Morphling",u8)
set Ue=CreateTrigger()
call ky(Ue,EVENT_PLAYER_UNIT_ISSUED_ORDER)
call TriggerAddCondition(Ue,Condition(function JID))
call TriggerAddAction(Ue,function UC)
call TZ7(GetHandleId(Ue),"MorphAgi",UB)
call TZ7(GetHandleId(Ue),"MorphStr",Ub)
call TX7(GetHandleId(Ue),"Morphling",u8)
set UE=CreateTrigger()
call ky(UE,EVENT_PLAYER_UNIT_ISSUED_ORDER)
call TriggerAddCondition(UE,Condition(function JHD))
call TriggerAddAction(UE,function UA)
call TZ7(GetHandleId(UE),"MorphAgi",UB)
call TZ7(GetHandleId(UE),"MorphStr",Ub)
call TX7(GetHandleId(UE),"Morphling",u8)
if(GetPlayerController(GetOwningPlayer(u8))!=MAP_CONTROL_USER)then
call TZ7(GetHandleId(GetOwningPlayer(u8)),"MorphAgi",UB)
call TZ7(GetHandleId(GetOwningPlayer(u8)),"MorphStr",Ub)
endif
else
call SetUnitAbilityLevel(u8,1093684055,GetUnitAbilityLevel(u8,1093684056))
endif
set u8=null
set Ue=null
set UE=null
set Ub=null
set UB=null
endfunction
function pZ takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function JJD))
call TriggerAddAction(t,function JYD)
set t=null
endfunction
function M58 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function JZD))
call TriggerAddAction(t,function JAD)
set t=null
endfunction
function JBD takes nothing returns boolean
return GetSpellAbilityId()==1093682998 and GetUnitTypeId(GetSpellTargetUnit())!=1848651852 and CY7(GetSpellTargetUnit())==false
endfunction
function JCD takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer BK7=GetUnitAbilityLevel(CR7,1093682998)
local unit HE8
local location J89
local real l4
local integer I_D=GetHeroAgi(CR7,true)
local integer J4D=GetHeroStr(CR7,true)
local real J3D=I2R(I_D)/ I2R(J4D)
local real J6D=I2R(J4D)/ I2R(I_D)
local real JLD
local real J1D
local real J0D
local real J5D
local real DV8
local real J2D
local integer J_D
local integer K4D
local integer K7D
local string K8D
local string K9D
local string KDD
if J3D<0.5 then
set JLD=0.25
set J1D=20*BK7
elseif J3D>1.5 then
set JLD=0.5*BK7
set J1D=20*BK7
else
set JLD=0.25+(J3D-0.5)*(0.5*BK7-0.25)
set J1D=20*BK7
endif
if J6D<0.5 then
set J0D=0.25
set J5D=100
elseif J6D>1.5 then
set J0D=0.75*BK7
set J5D=300
else
set J5D=100+(J6D-0.5)*200
set J0D=0.25+(J6D-0.5)*(0.75*BK7-0.25)
endif
set DV8=J1D+JLD*I_D
set J2D=J0D
set J_D=R2I(J2D)
set K4D=R2I(10*J2D-J_D*10)
set K7D=R2I(100*J2D-K4D*10-J_D*100)
set K8D=I2S(J_D)
set K9D=I2S(K4D)
set KDD=I2S(K7D)
set l4=Atan2(GetUnitY(m5)-GetUnitY(CR7),GetUnitX(m5)-GetUnitX(CR7))
set J89=Location(GetUnitX(m5)+J5D*Cos(l4),GetUnitY(m5)+J5D*Sin(l4))
call SetUnitPositionLoc(m5,J89)
call E78(GetLocationX(J89),GetLocationY(J89),200)
call RemoveLocation(J89)
call DL8("|c001ce6b9+"+I2S(R2I(DV8))+"|r |c00ff0303+"+K8D+"."+K9D+KDD+"|r",1,m5,0.023,255,255,255,216)
call HG8(CR7,m5,ZG4,DV8)
call HD8(CR7,m5,J2D)
set CR7=null
set m5=null
set HE8=null
set J89=null
endfunction
function M18 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function JBD))
call TriggerAddAction(t,function JCD)
set t=null
call DH8(1093687350)
endfunction
function KED takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local integer CS8=(LoadInteger(L7,(OL7),(34)))-1
local texttag tt
call SaveInteger(L7,(OL7),(34),(CS8))
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call FlushChildHashtable(L7,(OL7))
call U37(t)
else
set tt=CreateTextTag()
call SetTextTagText(tt,I2S(CS8),0.03)
call SetTextTagPosUnit(tt,EL8,0)
call SetTextTagColorBJ(tt,0,29,255,15)
call SetTextTagVelocity(tt,0,0.035)
call SetTextTagFadepoint(tt,3)
call SetTextTagLifespan(tt,0.9)
call SetTextTagPermanent(tt,false)
call SetTextTagVisibility(tt,false)
if GetOwningPlayer(EL8)==GetLocalPlayer()then
call SetTextTagVisibility(tt,true)
endif
set tt=CreateTextTag()
call SetTextTagText(tt,I2S(CS8),0.03)
call SetTextTagPosUnit(tt,O_7,0)
call SetTextTagColorBJ(tt,0,29,255,15)
call SetTextTagVelocity(tt,0,0.035)
call SetTextTagFadepoint(tt,3)
call SetTextTagLifespan(tt,0.9)
call SetTextTagPermanent(tt,false)
call SetTextTagVisibility(tt,false)
if GetOwningPlayer(EL8)==GetLocalPlayer()then
call SetTextTagVisibility(tt,true)
endif
endif
set t=null
set tt=null
set EL8=null
set O_7=null
return false
endfunction
function KFD takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local unit CL7=(LoadUnitHandle(L7,(GetHandleId(t)),(14)))
local unit KGD=(LoadUnitHandle(L7,(GetHandleId(CL7)),(229)))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",GetUnitX(KGD),GetUnitY(KGD)))
call RemoveUnit(KGD)
call UnitRemoveAbility(CL7,(1093683011))
if(LoadInteger(L7,(GetHandleId(CL7)),(704)))==0 or(LoadInteger(L7,(GetHandleId(CL7)),(704)))==(1093683000)then
call SetPlayerAbilityAvailable(GetOwningPlayer(CL7),(1093683000),true)
endif
call FlushChildHashtable(L7,(GetHandleId(t)))
call U37((t))
set CL7=null
set KGD=null
set t=null
endfunction
function KHD takes nothing returns boolean
if GetSpellAbilityId()==(1093683011)then
return true
endif
return false
endfunction
function KID takes nothing returns nothing
local unit CL7=GetTriggerUnit()
local integer OL7=GetHandleId(CL7)
local unit KGD=(LoadUnitHandle(L7,(OL7),(229)))
local real x=GetUnitX(KGD)
local real y=GetUnitY(KGD)
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",GetUnitX(CL7),GetUnitY(CL7)))
call KillUnit(KGD)
call SetUnitX(CL7,x)
call SetUnitY(CL7,y)
call PanCameraToTimedForPlayer(GetOwningPlayer(CL7),x,y,0)
call IssueImmediateOrder(CL7,"stop")
set CL7=null
set KGD=null
endfunction
function KJD takes nothing returns boolean
return GetUnitAbilityLevel(GetSummonedUnit(),(1110455088))>0 and GetUnitState(GetSummonedUnit(),UNIT_STATE_LIFE)>0
endfunction
function KKD takes nothing returns nothing
local unit CL7=GetSummoningUnit()
local integer OL7=GetHandleId(CL7)
local unit O_7=(LoadUnitHandle(L7,(OL7),(228)))
local unit KGD=GetSummonedUnit()
local trigger t
call SetPlayerAbilityAvailable(GetOwningPlayer(CL7),(1093683000),false)
call LP7(CL7,(1093683011))
call SetUnitColor(KGD,GetPlayerColor(GetOwningPlayer(O_7)))
call SaveUnitHandle(L7,(OL7),(229),(KGD))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,CL7,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,KGD,EVENT_UNIT_DEATH)
call TriggerAddAction(t,function KFD)
call SaveUnitHandle(L7,(GetHandleId(t)),(14),(CL7))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,CL7,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,KGD,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function KED))
call SaveUnitHandle(L7,(GetHandleId(t)),(2),(CL7))
call SaveUnitHandle(L7,(GetHandleId(t)),(17),(KGD))
call SaveInteger(L7,(GetHandleId(t)),(34),(GetUnitAbilityLevel(CL7,(1093683000))*15+15-1))
set CL7=null
set O_7=null
set KGD=null
set t=null
endfunction
function KMD takes nothing returns boolean
return GetSpellAbilityId()==(1093683000)
endfunction
function KND takes nothing returns nothing
local unit CL7=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
call SaveUnitHandle(L7,(GetHandleId(CL7)),(228),(O_7))
set CL7=null
set O_7=null
endfunction
function KOD takes nothing returns boolean
if GetSpellAbilityId()==(1093683000)then
if GetOwningPlayer(GetSpellTargetUnit())==GetOwningPlayer(GetTriggerUnit())then
call RU7(GetTriggerUnit())
call D78(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848659014))
endif
endif
return false
endfunction
function M08 takes nothing returns nothing
local trigger t
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function KMD))
call TriggerAddAction(t,function KND)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function KJD))
call TriggerAddAction(t,function KKD)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function KHD))
call TriggerAddAction(t,function KID)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function KOD))
set t=null
endfunction
function KPD takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),ZC4)==false then
call GroupAddUnit(Z34,GetEnumUnit())
call UnitRemoveAbility(GetEnumUnit(),1110454858)
call UnitRemoveAbility(GetEnumUnit(),1112896368)
call UnitRemoveAbility(GetEnumUnit(),1114993524)
endif
endfunction
function KQD takes nothing returns nothing
call UnitRemoveAbility(GetEnumUnit(),1110454858)
call UnitRemoveAbility(GetEnumUnit(),1112896368)
call UnitRemoveAbility(GetEnumUnit(),1114993524)
endfunction
function KRD takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),ZB4)==false then
call GroupAddUnit(ZB4,GetEnumUnit())
call SetUnitOwner(ZA4,GetOwningPlayer(GetEnumUnit()),false)
call IssueTargetOrder(ZA4,"sleep",GetEnumUnit())
endif
endfunction
function KSD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local real x=GetUnitX(EL8)
local real y=GetUnitY(EL8)
local unit HE8=(LoadUnitHandle(L7,(OL7),(19)))
local group g
local group G3D=(LoadGroupHandle(L7,(OL7),(187)))
if GetTriggerEvalCount(t)==10 then
call LP7(EL8,1093809221)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093678933,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093809221,true)
endif
if GetTriggerEventId()==EVENT_WIDGET_DEATH or GetTriggerEvalCount(t)>140 or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093809221)then
if(LoadInteger(L7,(GetHandleId(EL8)),(704)))==0 or(LoadInteger(L7,(GetHandleId(EL8)),(704)))==1093678933 then
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093678933,true)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093809221,false)
call ForGroup(G3D,function KQD)
call CZ7(G3D)
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
else
set g=CA7()
set IN4=EL8
set ZZ4=EL8
set ZA4=HE8
set ZB4=G3D
call GroupEnumUnitsInRange(g,x,y,1250+25,Condition(function FI8))
call ForGroup(g,function KRD)
set ZC4=g
set Z34=CA7()
call ForGroup(G3D,function KPD)
call GroupRemoveGroup(Z34,G3D)
call CZ7(g)
call CZ7(Z34)
endif
set t=null
set g=null
set EL8=null
set G3D=null
set HE8=null
return false
endfunction
function KTD takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
local real x=GetUnitX(EL8)
local real y=GetUnitY(EL8)
local unit HE8=CreateUnit(GetOwningPlayer(EL8),1697656901,x,y,0)
call UnitAddAbility(HE8,1093678932)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerRegisterDeathEvent(t,EL8)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function KSD))
call SaveGroupHandle(L7,(OL7),(187),(CA7()))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(19),(HE8))
call SaveEffectHandle(L7,(OL7),(32),(AddSpecialEffectTarget("war3mapImported\\SongOfTheSiren_2.mdx",EL8,"origin")))
set t=null
set EL8=null
endfunction
function KUD takes nothing returns boolean
if GetSpellAbilityId()==1093678933 then
call KTD()
endif
return false
endfunction
function M28 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function KUD))
set t=null
endfunction
function KVD takes unit EL8,unit O_7 returns nothing
local integer HF8=GetUnitAbilityLevel(EL8,1093815125)
local integer id=1093809204
call HG8(EL8,O_7,ZG4,100+30*HF8)
if HF8==2 then
set id=1093809205
elseif HF8==3 then
set id=1093809206
elseif HF8==4 then
set id=1093809207
endif
if D69(O_7)==false then
call F78(O_7,id,1,8)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(O_7),id,false)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\CrushingWave\\CrushingWaveDamage.mdl",O_7,"chest"))
set EL8=null
set O_7=null
endfunction
function KWD takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),I77)==false then
call GroupAddUnit(I77,GetEnumUnit())
call KVD(I47,GetEnumUnit())
endif
endfunction
function KXD takes nothing returns nothing
local unit EL8=GetEnumUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local real x=GetUnitX(EL8)
local real y=GetUnitY(EL8)
local group g=CA7()
call DestroyEffect(AddSpecialEffect("war3mapImported\\RipTide09.mdx",x,y))
set IN4=EL8
call GroupEnumUnitsInRange(g,x,y,450+25,Condition(function FW8))
call ForGroup(g,function KWD)
call CZ7(g)
set t=null
set g=null
endfunction
function KYD takes nothing returns boolean
return IsUnitIllusion(GetFilterUnit())and LR7(GetFilterUnit())==false
endfunction
function KZD takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local real x=GetUnitX(EL8)
local real y=GetUnitY(EL8)
local group g=CA7()
local integer i=0
set I77=CA7()
set I47=EL8
call GroupEnumUnitsOfPlayer(g,GetOwningPlayer(EL8),Condition(function KYD))
call GroupAddUnit(g,EL8)
call ForGroup(g,function KXD)
call CZ7(g)
call CZ7(I77)
set EL8=null
set g=null
endfunction
function KAD takes nothing returns boolean
if GetSpellAbilityId()==1093815125 then
call KZD()
endif
return false
endfunction
function M_8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function KAD))
set t=null
endfunction
function KBD takes unit EL8,unit O_7,integer HF8 returns nothing
local unit HE8=CreateUnit(GetOwningPlayer(EL8),1697656901,GetUnitX(EL8),GetUnitY(EL8),0)
call UnitAddAbility(HE8,1093681729)
call SetUnitAbilityLevel(HE8,1093681729,HF8)
call IssueTargetOrder(HE8,"ensnare",O_7)
set HE8=null
endfunction
function KCD takes nothing returns boolean
if IsUnitIllusion(GetFilterUnit())==true and GetUnitTypeId(GetFilterUnit())==1212363833 and GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())then
call KBD(GetFilterUnit(),ZL4,GetUnitAbilityLevel(GetTriggerUnit(),1093809220))
endif
return false
endfunction
function K3D takes nothing returns boolean
if IsUnitIllusion(GetFilterUnit())==true and GetUnitTypeId(GetFilterUnit())==1212363833 and GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())then
call SetUnitFacing(GetFilterUnit(),IJ4)
call SetUnitAnimation(GetFilterUnit(),"spell")
endif
return false
endfunction
function K6D takes nothing returns nothing
local unit CL7=GetTriggerUnit()
local group g=CA7()
set IJ4=PS7(GetUnitX(CL7),GetUnitY(CL7),GetUnitX(ZL4),GetUnitY(ZL4))
call GroupEnumUnitsInRange(g,GetUnitX(CL7),GetUnitY(CL7),700,Condition(function K3D))
call CZ7(g)
set CL7=null
set g=null
endfunction
function KLD takes nothing returns nothing
local unit CL7=GetTriggerUnit()
local unit O_7=ZL4
local group g=CA7()
call GroupEnumUnitsInRange(g,GetUnitX(CL7),GetUnitY(CL7),700,Condition(function KCD))
call CZ7(g)
set CL7=null
set g=null
endfunction
function K1D takes nothing returns boolean
if GetSpellAbilityId()==1093809220 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
if CY7(GetSpellTargetUnit())==false then
set Z64=0
set ZL4=GetSpellTargetUnit()
call KBD(GetTriggerUnit(),ZL4,GetUnitAbilityLevel(GetTriggerUnit(),1093809220))
call KLD()
endif
else
call K6D()
endif
endif
return false
endfunction
function N48 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call D28(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function K1D))
set t=null
endfunction
function K0D takes unit K5D returns integer
local real r=GetRandomReal(0,100)
local integer BK7=GetUnitAbilityLevel(K5D,1093679160)
local boolean K2D=SY7(K5D,ZU[FB4])!=null
local integer K_D=0
local integer id=GetPlayerId(GetOwningPlayer(K5D))
set K2D=false
if BK7==1 then
set TI4[id]=TI4[id]+1
if K2D then
if r<30 then
set TG4[id]=TG4[id]+1
set K_D=3
elseif r<60 then
set TF4[id]=TF4[id]+1
set K_D=2
endif
else
if r<25 then
set K_D=2
set TF4[id]=TF4[id]+1
endif
endif
elseif BK7==2 then
set TI4[id]=TI4[id]+1
if K2D then
if r<17.5 then
set K_D=4
set TH4[id]=TH4[id]+1
elseif r<35 then
set K_D=3
set TG4[id]=TG4[id]+1
elseif r<70 then
set K_D=2
set TF4[id]=TF4[id]+1
endif
else
if r<20 then
set K_D=3
set TG4[id]=TG4[id]+1
elseif r<40 then
set K_D=2
set TF4[id]=TF4[id]+1
endif
endif
elseif BK7==3 then
set TI4[id]=TI4[id]+1
if K2D then
if r<10 then
set K_D=5
set N4[id]=N4[id]+1
elseif r<20 then
set K_D=4
set TH4[id]=TH4[id]+1
elseif r<40 then
set K_D=3
set TG4[id]=TG4[id]+1
elseif r<80 then
set K_D=2
set TF4[id]=TF4[id]+1
endif
else
if r<12.5 then
set K_D=4
set TH4[id]=TH4[id]+1
elseif r<25 then
set K_D=3
set TG4[id]=TG4[id]+1
elseif r<50 then
set K_D=2
set TF4[id]=TF4[id]+1
endif
endif
endif
return K_D
endfunction
function M4D takes nothing returns boolean
local unit m5=GetFilterUnit()
local unit CR7=GetTriggerUnit()
if IsUnitAlly(m5,GetOwningPlayer(CR7))and GetUnitState(m5,UNIT_STATE_LIFE)>0 and GetUnitAbilityLevel(m5,1113746543)==0 then
if(GetOwningPlayer(m5)==Z7[0]or GetOwningPlayer(m5)==A7[0])then
if(GetUnitTypeId(m5)==1969711215 or GetUnitTypeId(m5)==1966092337 or GetUnitTypeId(m5)==1970169187 or GetUnitTypeId(m5)==1966092338)then
set m5=null
set CR7=null
return true
endif
if(GetUnitTypeId(m5)==1702061422 or GetUnitTypeId(m5)==1697656918 or GetUnitTypeId(m5)==1701081721 or GetUnitTypeId(m5)==1697656919)then
set m5=null
set CR7=null
return true
endif
return false
elseif IsUnitType(m5,UNIT_TYPE_HERO)==true then
set m5=null
set CR7=null
return true
elseif GetOwningPlayer(m5)==GetOwningPlayer(CR7)then
set m5=null
set CR7=null
return true
endif
endif
set m5=null
set CR7=null
return false
endfunction
function M7D takes integer r returns nothing
local unit CR7=GetTriggerUnit()
local integer BK7=r
local group I68=CA7()
local unit HE8
local unit KK8
local integer M8D=GetSpellAbilityId()
local integer T8=1
if r==2 then
call DL8(GetObjectName(1848658743),5,GetTriggerUnit(),0.03,255,0,0,255)
elseif r==3 then
call DL8(GetObjectName(1848658516),5,GetTriggerUnit(),0.03,255,0,0,255)
elseif r==4 then
call DL8(GetObjectName(1848658744),5,GetTriggerUnit(),0.03,255,0,0,255)
elseif r==5 then
call DL8(GetObjectName(1848658511),5,GetTriggerUnit(),0.03,255,0,0,255)
endif
set r=r-1
call GroupEnumUnitsInRange(I68,GetUnitX(CR7),GetUnitY(CR7),600,Condition(function M4D))
if CR7!=GetSpellTargetUnit()then
call GroupAddUnit(I68,CR7)
endif
loop
exitwhen T8>BK7
set T8=T8+1
set HE8=CreateUnit(GetOwningPlayer(CR7),1697656899,GetUnitX(CR7),GetUnitY(CR7),270)
call TH7(HE8)
call LP7(HE8,M8D)
call SetUnitAbilityLevel(HE8,M8D,GetUnitAbilityLevel(CR7,M8D))
call UnitApplyTimedLife(HE8,1112820806,1.0)
set KK8=GroupPickRandomUnit(I68)
call TF7(HE8,"bloodlust",KK8)
call SetUnitPathing(HE8,false)
call SetUnitInvulnerable(HE8,true)
call LP7(HE8,1097625443)
call GroupRemoveUnit(I68,KK8)
endloop
call CZ7(I68)
set CR7=null
set I68=null
set HE8=null
set KK8=null
endfunction
function M9D takes nothing returns boolean
local integer r
if GetUnitAbilityLevel(GetTriggerUnit(),1093679160)>0 and(GetSpellAbilityId()==1093679155 or GetSpellAbilityId()==1093679177 or GetSpellAbilityId()==1093679175 or GetSpellAbilityId()==1093679174)then
set r=K0D(GetTriggerUnit())
if r>1 then
call M7D(r)
endif
endif
return false
endfunction
function N88 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function M9D))
set t=null
endfunction
function MDD takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local unit HE8=CreateUnit(GetOwningPlayer(EL8),1697656901,GetUnitX(O_7),GetUnitY(O_7),0)
call LP7(HE8,1093815122)
call IssueTargetOrder(HE8,"thunderbolt",O_7)
set EL8=null
set O_7=null
set HE8=null
endfunction
function MED takes nothing returns nothing
local unit EL8=IN4
call LP7(EL8,1093815121)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093815121,true)
call TW7(GetHandleId(EL8),"AI|Magi2Blast",true)
set EL8=null
endfunction
function MFD takes nothing returns nothing
local unit EL8=IN4
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093815121,false)
set EL8=null
endfunction
function MGD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit m5=UE7(UL7,"Target")
local unit p5=UE7(UL7,"Source")
local integer MHD=UQ7(UL7,"Iterations")
local integer BK7=UQ7(UL7,"Level")
local integer MID=UQ7(UL7,"Spell")
local unit HE8
if GetTriggerEvalCount(t)>MHD then
call TQ7(UL7)
call U37(t)
else
set HE8=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
if MID==1093815121 then
set MID=1093815122
endif
call LP7(HE8,MID)
call SetUnitAbilityLevel(HE8,MID,BK7)
call IssueTargetOrder(HE8,"thunderbolt",m5)
endif
set t=null
set m5=null
set p5=null
set HE8=null
return false
endfunction
function MJD takes integer r returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer MID=GetSpellAbilityId()
local integer BK7=GetUnitAbilityLevel(p5,MID)
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
if r==2 then
call DL8(GetObjectName(1848658743),5,GetTriggerUnit(),0.03,255,0,0,255)
elseif r==3 then
call DL8(GetObjectName(1848658516),5,GetTriggerUnit(),0.03,255,0,0,255)
elseif r==4 then
call DL8(GetObjectName(1848658744),5,GetTriggerUnit(),0.03,255,0,0,255)
elseif r==5 then
call DL8(GetObjectName(1848658511),5,GetTriggerUnit(),0.03,255,0,0,255)
endif
set r=r-1
call TX7(UL7,"Target",m5)
call TX7(UL7,"Source",p5)
call TT7(UL7,"Iterations",r)
call TT7(UL7,"Level",BK7)
call TT7(UL7,"Spell",MID)
call TriggerRegisterTimerEvent(t,0.3,true)
call TriggerAddCondition(t,Condition(function MGD))
set t=null
set m5=null
set p5=null
endfunction
function MKD takes nothing returns boolean
local integer r
if GetUnitAbilityLevel(GetTriggerUnit(),1093679160)>0 and CY7(GetSpellTargetUnit())==false and(GetSpellAbilityId()==1093678167 or GetSpellAbilityId()==1093679172 or GetSpellAbilityId()==1093679169 or GetSpellAbilityId()==1093679161 or GetSpellAbilityId()==1093815121)then
set r=K0D(GetTriggerUnit())
if r>1 and((LoadInteger(L7,(GetHandleId((GetSpellTargetUnit()))),((4322))))==1)==false then
call MJD(r)
endif
endif
if CY7(GetSpellTargetUnit())==false and GetSpellAbilityId()==1093815121 then
call MDD()
endif
return false
endfunction
function MMD takes nothing returns boolean
local integer id=GetPlayerId(GetTriggerPlayer())
local string K8D
local string K9D
local string KDD
local string MND
local string MOD
local string str6
if TI4[id]>0 then
set K8D=GetObjectName(1848658504)+" "+I2S(TI4[id])
set K9D=GetObjectName(1848658509)+" "+I2S(TF4[id]+TG4[id]+TH4[id]+N4[id])+" ("+I2S((TF4[id]+TG4[id]+TH4[id]+N4[id])*100/ TI4[id])+"%)"
set KDD=GetObjectName(1848658508)+" "+I2S(TF4[id])+" ("+I2S(100*TF4[id]/ TI4[id])+"%)"
set MND=GetObjectName(1848658507)+" "+I2S(TG4[id])+" ("+I2S(100*TG4[id]/ TI4[id])+"%)"
set MOD=GetObjectName(1848658506)+" "+I2S(TH4[id])+" ("+I2S(100*TH4[id]/ TI4[id])+"%)"
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,K8D)
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,K9D)
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,KDD)
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,MND)
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,MOD)
endif
return false
endfunction
function N78 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function MKD))
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-st",true)
call TriggerAddCondition(t,Condition(function MMD))
set t=null
endfunction
function MPD takes nothing returns boolean
return GetSpellAbilityId()==1093679182
endfunction
function Uu takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)!=1 and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))
endfunction
function UU takes nothing returns nothing
call HG8(GetTriggerUnit(),GetEnumUnit(),ZI4,F8)
endfunction
function MQD takes nothing returns nothing
local boolexpr hP=Condition(function Uu)
local group I68=CA7()
local real x=GetUnitX(GetSpellTargetUnit())
local real y=GetUnitY(GetSpellTargetUnit())
set F8=90*GetUnitAbilityLevel(GetTriggerUnit(),1093679182)
call GroupEnumUnitsInRange(I68,x,y,250,hP)
call ForGroup(I68,function UU)
if GetUnitState(GetSpellTargetUnit(),UNIT_STATE_LIFE)>1 then
call SetUnitState(GetSpellTargetUnit(),UNIT_STATE_LIFE,GetUnitState(GetSpellTargetUnit(),UNIT_STATE_LIFE)+F8)
endif
call CZ7(I68)
call DestroyBoolExpr(hP)
set I68=null
set hP=null
endfunction
function PN takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function MPD))
call TriggerAddAction(t,function MQD)
set t=null
endfunction
function MRD takes nothing returns boolean
if GetUnitTypeId(GetFilterUnit())==K34[21]and GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())and IsUnitIllusion(GetFilterUnit())==false then
set IN4=GetFilterUnit()
endif
return false
endfunction
function MSD takes nothing returns nothing
local unit MTD=GetTriggerUnit()
local unit p5
local group g=CA7()
local real x
local real y
set IN4=null
call GroupEnumUnitsInRange(g,GetUnitX(MTD),GetUnitY(MTD),1000,Condition(function MRD))
call CZ7(g)
set p5=IN4
if p5!=null then
set x=GetUnitX(p5)
set y=GetUnitY(p5)
call SetUnitPosition(MTD,x,y)
endif
set x=GetUnitX(MTD)+600*Cos(GetUnitFacing(MTD)*bj_DEGTORAD)
set y=GetUnitY(MTD)+600*Sin(GetUnitFacing(MTD)*bj_DEGTORAD)
call IssuePointOrder(MTD,"move",x,y)
set MTD=null
set p5=null
set g=null
endfunction
function MUD takes nothing returns boolean
if GetUnitAbilityLevel(GetTriggerUnit(),1110455105)>0 then
call MSD()
endif
return false
endfunction
function Po takes nothing returns nothing
local trigger t=CreateTrigger()
local region r=CreateRegion()
call RegionAddRect(r,bj_mapInitialPlayableArea)
call TriggerRegisterEnterRegion(t,r,null)
call TriggerAddCondition(t,Condition(function MUD))
set t=null
set r=null
endfunction
function MVD takes nothing returns boolean
return((IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())))and(not IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE))and(UnitHasBuffBJ(GetAttacker(),1110455106))and(not IsUnitType(GetTriggerUnit(),UNIT_TYPE_ANCIENT)))
endfunction
function MWD takes nothing returns boolean
if GetUnitAbilityLevel(GetFilterUnit(),1110455106)>0 then
set IH4=IH4+1
endif
return false
endfunction
function MXD takes nothing returns nothing
local unit MYD=GetAttacker()
local group g=CA7()
local integer MZD=GetRandomInt(1,100)
local integer MAD=GetUnitAbilityLevel(MYD,1093682242)
local integer MBD=GetUnitAbilityLevel(MYD,1093687627)
local unit HE8
local integer MCD=2*MAD
local integer M3D=12
set IH4=0
call GroupEnumUnitsOfPlayer(g,GetOwningPlayer(MYD),Condition(function MWD))
call CZ7(g)
if IH4<MCD then
if IsUnitIllusion(MYD)==false and MZD<=(M3D+2*MBD)then
set HE8=CreateUnit(GetOwningPlayer(MYD),1697656901,GetUnitX(MYD),GetUnitY(MYD),0)
call LP7(HE8,1093682244)
call IssueTargetOrderById(HE8,852274,MYD)
endif
if IsUnitIllusion(MYD)==true and MZD<=(1+2*MBD)and MBD>0 then
set HE8=CreateUnit(GetOwningPlayer(MYD),1697656901,GetUnitX(MYD),GetUnitY(MYD),0)
call LP7(HE8,1093682244)
call IssueTargetOrderById(HE8,852274,MYD)
endif
endif
set MYD=null
set g=null
set HE8=null
endfunction
function PO takes nothing returns nothing
set dU=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(dU,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(dU,Condition(function MVD))
call TriggerAddAction(dU,function MXD)
endfunction
function M6D takes nothing returns boolean
local unit MLD=GetSummonedUnit()
local unit oA
local unit m5
if GetUnitAbilityLevel(MLD,1110456632)>0 then
set oA=GetSummoningUnit()
set m5=UE7(GetHandleId(oA),"SpiritTarget")
call SetUnitX(MLD,GetUnitX(m5))
call SetUnitY(MLD,GetUnitY(m5))
call IssueTargetOrder(MLD,"attack",m5)
endif
set MLD=null
set oA=null
set m5=null
return false
endfunction
function M1D takes player p,unit m5,integer BK7 returns nothing
local unit oA=CreateUnit(p,1697656901,GetUnitX(m5),GetUnitX(m5),0)
local integer M0D
call TX7(GetHandleId(oA),"SpiritTarget",m5)
if BK7==1 then
set M0D=1093742664
elseif BK7==2 then
set M0D=1093742663
elseif BK7==3 then
set M0D=1093742665
else
set M0D=1093742662
endif
call LP7(oA,M0D)
call IssueTargetOrderById(oA,852274,M7[GetPlayerId(p)])
set oA=null
endfunction
function M5D takes player p,unit O_7,integer BK7,boolean M2D,boolean M_D returns nothing
local real B29=50+50*BK7
local unit HE8
if M_D then
set HE8=CreateUnit(GetOwningPlayer(O_7),1697656901,GetUnitX(O_7),GetUnitY(O_7),0)
call LP7(HE8,1093742659)
call SetUnitAbilityLevel(HE8,1093742659,BK7)
call IssueTargetOrder(HE8,"cripple",O_7)
call HG8(M7[GetPlayerId(p)],O_7,ZG4,B29)
if M2D then
call M1D(p,O_7,BK7)
endif
endif
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\IllidanMissile\\IllidanMissile.mdl",O_7,"origin"))
set HE8=null
endfunction
function N4D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local player p=UG7(UL7,"SourcePlayer")
local unit m5=UE7(UL7,"Target")
local integer BK7=UQ7(UL7,"Level")
local boolean M_D=US7(UL7,"damage")
local unit IJ=UE7(UL7,"Projectile")
local real x=GetUnitX(IJ)
local real y=GetUnitY(IJ)
local real hN=GetUnitX(m5)
local real ho=GetUnitY(m5)
local real Ik=1000*0.035
local real IK=PS7(x,y,hN,ho)
local real Il=x+Ik*Cos(IK*bj_DEGTORAD)
local real IL=y+Ik*Sin(IK*bj_DEGTORAD)
call SetUnitX(IJ,Il)
call SetUnitY(IJ,IL)
call SetUnitFacing(IJ,IK)
if RI7(hN,ho,Il,IL)<=Ik then
call M5D(p,m5,BK7,true,M_D)
call KillUnit(IJ)
call TQ7(UL7)
call U37(t)
endif
set t=null
set m5=null
set IJ=null
return false
endfunction
function N7D takes unit p5,integer BK7,unit m5,boolean M_D returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit IJ=CreateUnit(GetOwningPlayer(p5),1747990092,GetUnitX(p5),GetUnitY(p5),PS7(GetUnitX(p5),GetUnitY(p5),GetUnitX(m5),GetUnitY(m5)))
call T37(UL7,"SourcePlayer",GetOwningPlayer(p5))
call TX7(UL7,"Target",m5)
call TW7(UL7,"damage",M_D)
call TX7(UL7,"Projectile",IJ)
call TT7(UL7,"Level",BK7)
call TriggerRegisterTimerEvent(t,0.035,true)
call TriggerAddCondition(t,Condition(function N4D))
set t=null
set IJ=null
endfunction
function N8D takes nothing returns boolean
if IsUnitIllusion(GetFilterUnit())==true and GetUnitTypeId(GetFilterUnit())==1332179560 and GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())then
call N7D(GetFilterUnit(),GetUnitAbilityLevel(GetTriggerUnit(),1093742660),GetSpellTargetUnit(),false)
endif
return false
endfunction
function N9D takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local integer BK7=GetUnitAbilityLevel(CR7,1093742660)
local unit m5=GetSpellTargetUnit()
local group g=CA7()
local boolean NDD=CY7(GetSpellTargetUnit())
call GroupEnumUnitsInRange(g,GetUnitX(CR7),GetUnitY(CR7),700,Condition(function N8D))
if NDD then
call N7D(CR7,BK7,m5,false)
else
call N7D(CR7,BK7,m5,true)
endif
call CZ7(g)
set CR7=null
set m5=null
set g=null
endfunction
function NED takes nothing returns boolean
if IsUnitIllusion(GetFilterUnit())==true and GetUnitTypeId(GetFilterUnit())==1332179560 and GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())then
call SetUnitFacing(GetFilterUnit(),IJ4)
call SetUnitAnimation(GetFilterUnit(),"spell")
endif
return false
endfunction
function NFD takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local group g=CA7()
set IJ4=PS7(GetUnitX(CR7),GetUnitY(CR7),GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()))
call GroupEnumUnitsInRange(g,GetUnitX(CR7),GetUnitY(CR7),700,Condition(function NED))
call CZ7(g)
set CR7=null
set g=null
endfunction
function NGD takes nothing returns boolean
if GetSpellAbilityId()==1093742660 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
call N9D()
else
call NFD()
endif
endif
return false
endfunction
function N98 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function NGD))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function NGD))
call DH8(1093742659)
call DH8(1093742664)
call DH8(1093742663)
call DH8(1093742665)
call DH8(1093742662)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function M6D))
set t=null
endfunction
function NHD takes nothing returns nothing
local unit u=GetTriggerUnit()
local unit oA=CreateUnit(GetOwningPlayer(u),1697656901,GetUnitX(u),GetUnitY(u),0)
call LP7(oA,1093682243)
call IssueTargetOrderById(oA,852274,u)
set u=null
set oA=null
endfunction
function NID takes nothing returns boolean
if GetSpellAbilityId()==1093682231 then
call NHD()
endif
return false
endfunction
function ND8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function NID))
set t=null
endfunction
function NJD takes nothing returns boolean
return GetSpellAbilityId()==1093678938
endfunction
function U4 takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>0
endfunction
function U5 takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local unit oA=CreateUnit(GetOwningPlayer(CR7),1697657394,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),270)
call LP7(oA,1093678676)
call SetUnitAbilityLevel(oA,1093678676,GetUnitAbilityLevel(CR7,1093678938))
call IssueTargetOrderById(oA,852171,GetEnumUnit())
set CR7=null
set oA=null
endfunction
function NKD takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local group I68=CA7()
local boolexpr hP=Condition(function U4)
call GroupEnumUnitsInRange(I68,GetUnitX(CR7),GetUnitY(CR7),650,hP)
call ForGroup(I68,function U5)
call DestroyBoolExpr(hP)
call CZ7(I68)
set CR7=null
set I68=null
endfunction
function NE8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function NJD))
call TriggerAddAction(t,function NKD)
set t=null
endfunction
function NMD takes unit p5,integer BK7 returns nothing
local unit HE8=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(p5),GetUnitY(p5),0)
call LP7(HE8,1093748546)
call SetUnitAbilityLevel(HE8,1093748546,BK7)
call IssueTargetOrder(HE8,"invisibility",p5)
call LP7(p5,1093808975)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093808975,false)
set HE8=null
endfunction
function NND takes nothing returns boolean
return GetUnitTypeId(GetFilterUnit())==1747993172
endfunction
function NOD takes unit NPD returns boolean
local group g=CA7()
local boolean NQD=false
call GroupEnumUnitsInRange(g,GetUnitX(NPD),GetUnitY(NPD),375,Condition(function NND))
if FirstOfGroup(g)!=null then
set NQD=true
endif
call CZ7(g)
set g=null
return NQD
endfunction
function NRD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local integer HJ8=UQ7(UL7,"TargetIndex")
local unit A87=ZA7(HJ8)
local integer Y59=UQ7(UL7,"Count")
local integer BK7=UQ7(UL7,"Level")
local real E09=(LoadReal(L7,(UL7),(442)))
if GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED and GetTriggerEventId()!=EVENT_PLAYER_UNIT_SPELL_EFFECT then
set Y59=Y59+1
call TT7(UL7,"Count",Y59)
elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093677402 and GetTriggerUnit()==A87 then
call SaveReal(L7,(UL7),(442),(((TimerGetElapsed(W))+1.0)*1.0))
call DisableTrigger(GetTriggeringTrigger())
call NMD(A87,BK7)
call EnableTrigger(GetTriggeringTrigger())
call TT7(UL7,"Count",0)
endif
if nA(GetUnitX(A87),GetUnitY(A87),375)==false and NOD(A87)==false then
if E09<(TimerGetElapsed(W))or GetTriggerEvalCount(t)==1 then
call UnitRemoveAbility(A87,1110454833)
call UnitRemoveAbility(A87,1093748545)
call UnitRemoveAbility(A87,1093808975)
call UnitRemoveAbility(A87,1110459705)
call TQ7(UL7)
call U37(t)
endif
elseif(US7(UL7,"NaturesGuise|Special")and Y59>(150*BK7))then
call UnitRemoveAbility(A87,1110454833)
call UnitRemoveAbility(A87,1093748545)
call UnitRemoveAbility(A87,1093808975)
call UnitRemoveAbility(A87,1110459705)
call TQ7(UL7)
call U37(t)
elseif US7(UL7,"NaturesGuise|Special")and GetUnitAbilityLevel(A87,1110454833)==0 and GetUnitAbilityLevel(A87,1093748545)>0 then
call SaveReal(L7,(UL7),(442),(((TimerGetElapsed(W))+1.0)*1.0))
call DisableTrigger(GetTriggeringTrigger())
call NMD(A87,BK7)
call EnableTrigger(GetTriggeringTrigger())
elseif GetUnitAbilityLevel(A87,1110454833)==0 then
call UnitRemoveAbility(A87,1110454833)
call UnitRemoveAbility(A87,1093748545)
call UnitRemoveAbility(A87,1093808975)
call UnitRemoveAbility(A87,1110459705)
call TQ7(UL7)
call U37(t)
else
call SaveReal(L7,(UL7),(442),(((TimerGetElapsed(W))+1.0)*1.0))
endif
set t=null
set A87=null
return false
endfunction
function NSD takes nothing returns nothing
local unit A87=GetAttacker()
local integer AI7=GetHandleId(A87)
local trigger t=UI7(AI7,"Nature|Trg")
local integer B27=GetHandleId(t)
if US7(B27,"NaturesGuise|Special")and GetAttacker()==A87 then
call UnitRemoveAbility(A87,1110454833)
call UnitRemoveAbility(A87,1093748545)
call TQ7(B27)
call U37(t)
endif
set A87=null
set t=null
endfunction
function NTD takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1110454833)>0 or GetUnitAbilityLevel(GetAttacker(),1093748545)>0 then
call NSD()
endif
return false
endfunction
function NUD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
if GetTriggerEventId()!=EVENT_WIDGET_DEATH then
if GetUnitAbilityLevel(EL8,1110454833)>0 then
call LP7(EL8,1093748545)
endif
endif
call FlushChildHashtable(L7,(OL7))
call U37(t)
set t=null
set EL8=null
return false
endfunction
function NVD takes nothing returns nothing
local trigger t
local integer UL7
set t=CreateTrigger()
set UL7=GetHandleId(t)
call TT7(UL7,"TargetIndex",ZC7(GetSpellTargetUnit()))
call TT7(UL7,"Level",GetUnitAbilityLevel(GetTriggerUnit(),1093677402))
call TT7(UL7,"Count",0)
call SaveReal(L7,(UL7),(442),(((TimerGetElapsed(W))+1.0)*1.0))
call TriggerAddCondition(t,Condition(function NRD))
call TriggerRegisterTimerEvent(t,0.1,true)
call LP7(GetSpellTargetUnit(),1093808975)
call SetPlayerAbilityAvailable(GetOwningPlayer(GetSpellTargetUnit()),1093808975,false)
if GetTriggerUnit()==GetSpellTargetUnit()then
call TW7(UL7,"NaturesGuise|Special",true)
call TZ7(GetHandleId(GetSpellTargetUnit()),"Nature|Trg",t)
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
set t=CreateTrigger()
call SaveUnitHandle(L7,(GetHandleId(t)),(2),(GetTriggerUnit()))
call TriggerAddCondition(t,Condition(function NUD))
call TriggerRegisterTimerEvent(t,2,false)
call TriggerRegisterDeathEvent(t,GetTriggerUnit())
endif
set t=null
endfunction
function NWD takes nothing returns boolean
if GetSpellAbilityId()==1093677402 then
call NVD()
endif
return false
endfunction
function NF8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function NWD))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function NTD))
set t=null
endfunction
function NXD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local integer HF8=(LoadInteger(L7,(OL7),(5)))
local real NYD=(LoadReal(L7,(GetHandleId(O_7)),(686)))
if GetTriggerEventId()==EVENT_WIDGET_DEATH or NYD<(TimerGetElapsed(W))or CO7(O_7)then
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
call SaveReal(L7,(GetHandleId(O_7)),(686),((0)*1.0))
call UnitRemoveAbility(O_7,1093809232)
call UnitRemoveAbility(O_7,1093809232)
call UnitRemoveAbility(O_7,1093809232)
call UnitRemoveAbility(O_7,1093809232)
call UnitRemoveAbility(O_7,1110459719)
else
call HG8(EL8,O_7,ZG4,15+15*HF8)
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function NZD takes unit EL8,unit O_7 returns nothing
local trigger t
local integer OL7
local real NYD=(LoadReal(L7,(GetHandleId(O_7)),(686)))
local integer HF8=GetUnitAbilityLevel(EL8,1093748535)
if NYD>(TimerGetElapsed(W))then
call SaveReal(L7,(GetHandleId(O_7)),(686),(((TimerGetElapsed(W))+4)*1.0))
else
set t=CreateTrigger()
set OL7=GetHandleId(t)
call SaveReal(L7,(GetHandleId(O_7)),(686),(((TimerGetElapsed(W))+4)*1.0))
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterDeathEvent(t,O_7)
call TriggerAddCondition(t,Condition(function NXD))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveInteger(L7,(OL7),(5),(HF8))
call SaveEffectHandle(L7,(OL7),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Other\\AcidBomb\\BottleImpact.mdl",O_7,"overhead")))
if HF8==1 then
call LP7(O_7,1093809232)
call SetPlayerAbilityAvailable(GetOwningPlayer(O_7),1093809232,false)
elseif HF8==2 then
call LP7(O_7,1093809232)
call SetPlayerAbilityAvailable(GetOwningPlayer(O_7),1093809232,false)
elseif HF8==3 then
call LP7(O_7,1093809232)
call SetPlayerAbilityAvailable(GetOwningPlayer(O_7),1093809232,false)
elseif HF8==4 then
call LP7(O_7,1093809232)
call SetPlayerAbilityAvailable(GetOwningPlayer(O_7),1093809232,false)
endif
endif
set t=null
endfunction
function Sentinel_FindClosest takes nothing returns boolean
if GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(TS4)and(GetUnitTypeId(GetFilterUnit())==1747993172 or GetUnitTypeId(GetFilterUnit())==1747993173)then
if RI7(GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()),TT4,TU4)<TV4 then
set TR4=GetFilterUnit()
set TV4=RI7(GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()),TT4,TU4)
endif
endif
return false
endfunction
function NAD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit HE8=(LoadUnitHandle(L7,(OL7),(19)))
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7
local group g
local real BY8=(LoadReal(L7,(OL7),(442)))
local real x
local real y
local integer BG7
local real hp
local integer CS8=(LoadInteger(L7,(OL7),(34)))
if GetTriggerEventId()!=EVENT_PLAYER_UNIT_DEATH then
set CS8=CS8+1
call SaveInteger(L7,(OL7),(34),(CS8))
endif
if GetTriggerEventId()==EVENT_PLAYER_UNIT_DEATH then
if GetTriggerUnit()==HE8 then
call UnitRemoveAbility(HE8,1097886070)
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
elseif GetUnitTypeId(HE8)==1747993172 then
set IN4=HE8
set g=CA7()
call GroupEnumUnitsInRange(g,GetUnitX(HE8),GetUnitY(HE8),110,Condition(function FW8))
set O_7=TJ9(g,GetUnitX(HE8),GetUnitY(HE8))
call CZ7(g)
if O_7!=null then
call NZD(EL8,O_7)
set x=GetUnitX(HE8)
set y=GetUnitY(HE8)
set hp=GetUnitState(HE8,UNIT_STATE_LIFE)
call ShowUnit(HE8,false)
call DisableTrigger(t)
call KillUnit(HE8)
call EnableTrigger(t)
set HE8=CreateUnit(GetOwningPlayer(EL8),1747993173,x,y,0)
call SetUnitState(HE8,UNIT_STATE_LIFE,hp)
call UnitApplyTimedLife(HE8,1112820806,480-((TimerGetElapsed(W))-BY8))
call SaveUnitHandle(L7,(OL7),(19),(HE8))
call SaveReal(L7,(OL7),(411),(((TimerGetElapsed(W))+4)*1.0))
endif
elseif GetUnitTypeId(HE8)==1747993173 and(LoadReal(L7,(OL7),(411)))<(TimerGetElapsed(W))then
set x=GetUnitX(HE8)
set y=GetUnitY(HE8)
set hp=GetUnitState(HE8,UNIT_STATE_LIFE)
call ShowUnit(HE8,false)
call DisableTrigger(t)
call KillUnit(HE8)
call EnableTrigger(t)
set HE8=CreateUnit(GetOwningPlayer(EL8),1747993172,x,y,0)
call SetUnitState(HE8,UNIT_STATE_LIFE,hp)
call UnitApplyTimedLife(HE8,1112820806,480-((TimerGetElapsed(W))-BY8))
call SaveUnitHandle(L7,(OL7),(19),(HE8))
endif
set t=null
set EL8=null
set O_7=null
set HE8=null
set g=null
return false
endfunction
function NBD takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local integer HF8=GetUnitAbilityLevel(EL8,1093748535)
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local unit HE8=CreateUnit(GetOwningPlayer(EL8),1747993172,x,y,0)
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call UnitApplyTimedLife(HE8,1112820806,480)
call D28(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function NAD))
call SaveUnitHandle(L7,(OL7),(19),(HE8))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveReal(L7,(OL7),(442),(((TimerGetElapsed(W)))*1.0))
call SaveInteger(L7,(OL7),(34),(0))
set t=null
set EL8=null
set HE8=null
endfunction
function NCD takes nothing returns boolean
if GetSpellAbilityId()==1093748535 then
call NBD()
endif
return false
endfunction
function NH8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function NCD))
set t=null
endfunction
function gg_ForestSentinelHack takes nothing returns nothing
local unit FFD=GetTriggerUnit()
local integer RS7=GetUnitAbilityLevel(FFD,1093748535)
local real x=0.
local real y=0.
local unit N3D=null
local trigger t=null
local integer CF7=0
local unit O37=null
local unit u=null
local group g=null
local boolexpr b=Condition(function X77)
if((Z27(GetOwningPlayer(FFD))))then
set t=CreateTrigger()
set CF7=GetHandleId(t)
set g=CreateGroup()
call GroupClear(g)
call GroupEnumUnitsInRangeOfLoc(g,GetUnitLoc(FFD),800,Condition(function X77))
if(not Q07(g))then
loop
set u=FirstOfGroup(g)
call GroupRemoveUnit(g,u)
exitwhen IsUnitEnemy(u,GetOwningPlayer(FFD))
endloop
set O37=u
endif
call DestroyGroup(g)
if(O37!=null)then
set x=GetUnitX(O37)+GetRandomReal(-10.,10.)
set y=GetUnitY(O37)+GetRandomReal(-10.,10.)
else
set x=GetUnitX(FFD)+GetRandomReal(-10.,10.)
set y=GetUnitY(FFD)+GetRandomReal(-10.,10.)
endif
set N3D=CreateUnit(GetOwningPlayer(FFD),1747993172,x,y,0)
call UnitApplyTimedLife(N3D,1112820806,480)
call TriggerRegisterUnitEvent(t,N3D,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,FFD,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterTimerEvent(t,0.2,true)
call TriggerAddCondition(t,Condition(function NAD))
call SaveUnitHandle(L7,(CF7),(19),(N3D))
call SaveUnitHandle(L7,(CF7),(2),(FFD))
call SaveReal(L7,(CF7),(442),(((TimerGetElapsed(W)))*1.0))
call UnitAddAbility(FFD,1093751126)
call C77(FFD,N3D)
endif
set t=null
set FFD=null
set N3D=null
call DestroyBoolExpr(b)
set O37=null
set g=null
set u=null
endfunction
function N6D takes nothing returns nothing
local unit O_7=GetEnumUnit()
local real d=RI7(GetUnitX(O_7),GetUnitY(O_7),IU7,IV7)
if d<IT7 and IsUnitVisible(O_7,GetOwningPlayer(IW7))==true and(IsUnitType(O_7,UNIT_TYPE_HERO)==true or(IsUnitType(O_7,UNIT_TYPE_STRUCTURE)==true and FU8(O_7)))then
set IS7=GetEnumUnit()
set IT7=d
endif
set O_7=null
endfunction
function NLD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local integer CS8=(LoadInteger(L7,(OL7),(34)))
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamage()>5 then
set CS8=CS8+1
call SaveInteger(L7,(OL7),(34),(CS8))
call DW8(O_7,RMinBJ(GetEventDamage(),20*GetUnitAbilityLevel(EL8,1093815628)))
endif
endif
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED or CS8>6 then
call FlushChildHashtable(L7,(OL7))
call U37(t)
call UnitRemoveAbility(O_7,1093815640)
call UnitRemoveAbility(O_7,1093815641)
call UnitRemoveAbility(O_7,1093815639)
call UnitRemoveAbility(O_7,1093815638)
call UnitRemoveAbility(O_7,1110460213)
endif
set t=null
set O_7=null
set EL8=null
return false
endfunction
function N1D takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local integer N0D=1093815640
local integer HF8=GetUnitAbilityLevel(EL8,1093815628)
local group g
if O_7==null then
set IS7=null
set IW7=EL8
set IT7=999999
set IU7=GetSpellTargetX()
set IV7=GetSpellTargetY()
set IN4=EL8
set g=CA7()
call GroupEnumUnitsInRange(g,0,0,9999,Condition(function GZ8))
call ForGroup(g,function N6D)
call CZ7(g)
set O_7=IS7
set g=null
endif
if HF8==2 then
set N0D=1093815641
elseif HF8==3 then
set N0D=1093815639
elseif HF8==4 then
set N0D=1093815638
endif
call LP7(O_7,N0D)
call SetPlayerAbilityAvailable(GetOwningPlayer(O_7),N0D,false)
call TriggerRegisterTimerEvent(t,15,false)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function NLD))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveInteger(L7,(OL7),(34),(0))
set t=null
set O_7=null
set EL8=null
endfunction
function N5D takes nothing returns boolean
if GetSpellAbilityId()==1093815628 then
call N1D()
endif
return false
endfunction
function NG8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function N5D))
set t=null
endfunction
function N2D takes nothing returns nothing
local integer OL7=GetHandleId(GetTriggeringTrigger())
local unit EL8=IN4
local unit O_7=IP4
local real N_D=(LoadReal(L7,(OL7),(21)))
call SetUnitState(O_7,UNIT_STATE_LIFE,GetUnitState(O_7,UNIT_STATE_LIFE)+N_D)
set EL8=null
set O_7=null
endfunction
function O4D takes nothing returns nothing
local trigger t=EO8(B84,GetEnumUnit(),1747993656,"N2D",400)
local integer OL7=GetHandleId(t)
call SaveReal(L7,(OL7),(21),((B94)*1.0))
set t=null
endfunction
function O7D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local integer HF8=(LoadInteger(L7,(OL7),(5)))
local group g
local integer CS8=(LoadInteger(L7,(OL7),(34)))
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
call FlushChildHashtable(L7,(OL7))
call U37(t)
call UnitRemoveAbility(O_7,1093809971)
call UnitRemoveAbility(O_7,1110459724)
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
else
set CS8=CS8+1
call SaveInteger(L7,(OL7),(34),(CS8))
if CS8>3 then
call FlushChildHashtable(L7,(OL7))
call U37(t)
call UnitRemoveAbility(O_7,1093809971)
call UnitRemoveAbility(O_7,1110459724)
endif
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\EntBirthTarget\\EntBirthTarget.mdl",O_7,"origin"))
set IN4=EL8
set g=CA7()
call GroupEnumUnitsInRange(g,GetUnitX(O_7),GetUnitY(O_7),525,Condition(function GE8))
set B84=O_7
set B94=15+15*HF8
call ForGroup(g,function O4D)
call CZ7(g)
call HG8(EL8,O_7,ZG4,B94)
endif
set t=null
set EL8=null
set O_7=null
set g=null
return false
endfunction
function O8D takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local integer HF8=GetUnitAbilityLevel(EL8,1093809742)
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call LP7(O_7,1093809971)
call SetPlayerAbilityAvailable(GetOwningPlayer(O_7),1093809971,false)
call TriggerRegisterDeathEvent(t,O_7)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function O7D))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveReal(L7,(OL7),(442),(((TimerGetElapsed(W)))*1.0))
call SaveInteger(L7,(OL7),(5),(HF8))
call SaveInteger(L7,(OL7),(34),(0))
set t=null
set EL8=null
endfunction
function LeechSeed takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
call EO8(EL8,O_7,1747993657,"O8D",600)
set EL8=null
set O_7=null
endfunction
function O9D takes nothing returns boolean
if GetSpellAbilityId()==1093809742 and CY7(GetSpellTargetUnit())==false then
call O8D()
endif
return false
endfunction
function NI8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function O9D))
set t=null
endfunction
function ODD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local unit m5=UE7(UL7,"Target")
local integer BK7=UQ7(UL7,"Level")
local integer Y59=UQ7(UL7,"Count")
if GetTriggerEventId()!=EVENT_UNIT_DEATH and GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT and Y59<(6)then
set Y59=Y59+1
call TT7(UL7,"Count",Y59)
call SetUnitState(m5,UNIT_STATE_MANA,GetUnitState(m5,UNIT_STATE_MANA)-8*BK7)
call HG8(p5,m5,ZG4,5+15*BK7)
elseif Y59>=(6)or GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()!=1093743191 and GetSpellAbilityId()!=1093682767 and GetSpellAbilityId()!=1093750095 and GetSpellAbilityId()!=1093747504 and GetSpellAbilityId()!=1093753417 and GetSpellAbilityId()!=1093810265 and JF8(GetSpellAbilityId())==false and(BD7(GetSpellAbilityId())or GetSpellAbilityId()==1093678667))then
call DestroyEffect(UK7(UL7,"FX"))
call UnitRemoveAbility(m5,1093750867)
call UnitRemoveAbility(m5,1110459217)
call TQ7(UL7)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function OED takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetEnumUnit()
local integer BK7=GetUnitAbilityLevel(p5,1093743692)
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call LP7(m5,1093750867)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function ODD))
call TX7(UL7,"Source",p5)
call TX7(UL7,"Target",m5)
call TY7(UL7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareTarget.mdl",m5,"overhead"))
call TT7(UL7,"Level",BK7)
call TT7(UL7,"Count",0)
set p5=null
set m5=null
set t=null
endfunction
function OFD takes nothing returns nothing
local group g=CA7()
local location l=GetSpellTargetLoc()
set IN4=GetTriggerUnit()
set oZ=GetTriggerUnit()
call GroupEnumUnitsInRange(g,GetLocationX(l),GetLocationY(l),375,Condition(function GX8))
call ForGroup(g,function OED)
call DC8("war3mapImported\\CotS.mdx",GetLocationX(l),GetLocationY(l),5)
call CZ7(g)
call RemoveLocation(l)
set g=null
set l=null
endfunction
function OGD takes nothing returns boolean
if GetSpellAbilityId()==1093743692 then
call OFD()
endif
return false
endfunction
function NJ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function OGD))
set t=null
endfunction
function OHD takes nothing returns boolean
local real d
if GetUnitAbilityLevel(GetTriggerUnit(),1110455640)>0 and GetUnitAbilityLevel(GetEventDamageSource(),1093684314)>0 and UE7(GetHandleId(GetTriggeringTrigger()),"Source")==GetEventDamageSource()then
call UnitRemoveAbility(GetTriggerUnit(),1110455640)
set d=(0.15+0.15*I2R(GetUnitAbilityLevel(GetEventDamageSource(),1093684314)))*GetHeroInt(GetEventDamageSource(),true)
call DL8("+"+I2S(R2I(d)),1,GetTriggerUnit(),0.023,3,216,216,216)
call DisableTrigger(GetTriggeringTrigger())
call HG8(GetEventDamageSource(),GetTriggerUnit(),ZI4,d)
call TQ7(GetHandleId(GetTriggeringTrigger()))
call U37(GetTriggeringTrigger())
endif
return false
endfunction
function OID takes nothing returns nothing
local trigger t
local unit O_7
local unit EL8
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
set O_7=GetSpellTargetUnit()
set EL8=GetTriggerUnit()
else
set O_7=GetTriggerUnit()
set EL8=GetAttacker()
endif
if IsUnitIllusion(EL8)==false then
set t=CreateTrigger()
call TX7(GetHandleId(t),"Source",EL8)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function OHD))
endif
set t=null
set O_7=null
set EL8=null
endfunction
function ve takes nothing returns boolean
if GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED then
if GetUnitAbilityLevel(GetAttacker(),1093684314)>0 and(US7(GetHandleId(GetTriggeringTrigger()),"OrbOn")or(GZ[304+GetPlayerId(GetOwningPlayer(GetAttacker()))]))and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==UE7(GetHandleId(GetTriggeringTrigger()),"Hero")then
call OID()
endif
elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER then
if(GetIssuedOrderId()==852255)then
call TW7(GetHandleId(GetTriggeringTrigger()),"OrbOn",true)
elseif(GetIssuedOrderId()==852256)then
call TW7(GetHandleId(GetTriggeringTrigger()),"OrbOn",false)
endif
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093684314 then
call OID()
endif
return false
endfunction
function OJD takes unit CR7,boolean B89 returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterUnitEvent(t,CR7,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(t,CR7,EVENT_UNIT_ISSUED_ORDER)
call TriggerAddCondition(t,Condition(function ve))
call TX7(GetHandleId(t),"Hero",CR7)
if B89 then
set aj[GetPlayerId(GetOwningPlayer(CR7))]=t
endif
set t=null
endfunction
function OKD takes nothing returns boolean
if GetLearnedSkill()==1093684314 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093684314)==1 then
call OJD(GetTriggerUnit(),false)
endif
return false
endfunction
function NK8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function OKD))
set t=null
endfunction
function OMD takes nothing returns boolean
return GetSpellAbilityId()==1093684275
endfunction
function OND takes nothing returns boolean
call U37(GetTriggeringTrigger())
call VolumeGroupReset()
return false
endfunction
function OOD takes nothing returns nothing
local location L28=GetUnitLoc(GetTriggerUnit())
local trigger t=CreateTrigger()
call TriggerRegisterTimerEvent(t,GetUnitAbilityLevel(GetTriggerUnit(),1093684275)+2,false)
call TriggerAddCondition(t,Condition(function OND))
call CreateNUnitsAtLoc(1,1697656901,GetOwningPlayer(GetTriggerUnit()),L28,bj_UNIT_FACING)
call ShowUnitHide(bj_lastCreatedUnit)
call UnitApplyTimedLifeBJ(5.00,1112820806,bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit,1093684274)
call SetUnitAbilityLevelSwapped(1093684274,bj_lastCreatedUnit,GetUnitAbilityLevel(GetTriggerUnit(),1093684275))
call IssuePointOrderLoc(bj_lastCreatedUnit,"silence",L28)
call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_UNITSOUNDS,.0)
call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_COMBAT,.0)
call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_SPELLS,.0)
call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_MUSIC,.0)
call RemoveLocation(L28)
set t=null
set L28=null
endfunction
function NM8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function OMD))
call TriggerAddAction(t,function OOD)
set t=null
endfunction
function OPD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local integer HF8=GetUnitAbilityLevel(EL8,1093815892)
call FlushChildHashtable(L7,(OL7))
call U37(t)
call HG8(EL8,O_7,ZG4,100+50*HF8)
set t=null
set EL8=null
set O_7=null
return false
endfunction
function OQD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local unit HE8=CreateUnit(GetOwningPlayer(O_7),1697656901,GetUnitX(O_7),GetUnitY(O_7),0)
local integer HF8=GetUnitAbilityLevel(EL8,1093815892)
local boolean ORD=(LoadBoolean(L7,(OL7),(95)))
call FlushChildHashtable(L7,(OL7))
call U37(t)
call LP7(HE8,1093684307)
call SetUnitAbilityLevel(HE8,1093684307,HF8)
call IssueTargetOrder(HE8,"soulburn",O_7)
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerAddCondition(t,Condition(function OPD))
call TriggerRegisterTimerEvent(t,0.01,false)
call SaveUnitHandle(L7,(GetHandleId(t)),(2),(EL8))
call SaveUnitHandle(L7,(GetHandleId(t)),(17),(O_7))
call SaveInteger(L7,(GetHandleId(t)),(5),(HF8))
if ORD then
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\LastWordDamageSpell.mdx",O_7,"overhead"))
endif
set t=null
set EL8=null
set O_7=null
set HE8=null
return false
endfunction
function OSD takes integer id returns boolean
return id==1093682265 or id==1093752642 or id==1093677622 or id==1093679446 or id==1095263841 or id==1093684314 or id==1093685582 or id==1093685065
endfunction
function OTD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local unit HE8
local integer HF8=GetUnitAbilityLevel(EL8,1093815892)
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call UnitRemoveAbility(O_7,1093815893)
call UnitRemoveAbility(O_7,1110455638)
call FlushChildHashtable(L7,(OL7))
call U37(t)
elseif GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT then
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call UnitRemoveAbility(O_7,1093815893)
call UnitRemoveAbility(O_7,1110455638)
call FlushChildHashtable(L7,(OL7))
call U37(t)
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerAddCondition(t,Condition(function OQD))
call TriggerRegisterTimerEvent(t,0.01,false)
call SaveUnitHandle(L7,(GetHandleId(t)),(2),(EL8))
call SaveUnitHandle(L7,(GetHandleId(t)),(17),(O_7))
call SaveInteger(L7,(GetHandleId(t)),(5),(HF8))
call SaveBoolean(L7,(OL7),(95),(false))
set HE8=CreateUnit(GetOwningPlayer(O_7),1697656901,GetUnitX(O_7),GetUnitY(O_7),0)
call LP7(HE8,1093815895)
call SetUnitAbilityLevel(HE8,1093815895,HF8)
call IssueTargetOrder(HE8,"drunkenhaze",O_7)
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\LastWordDamageDuration.mdx",O_7,"overhead"))
set HE8=null
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and JD8(GetSpellAbilityId())==false and JF8(GetSpellAbilityId())==false and GetSpellAbilityId()!=1095328363 and GetSpellAbilityId()!=1093678426 and GetSpellAbilityId()!=1093682768 and GetSpellAbilityId()!=1093685593 and GetSpellAbilityId()!=1093678680 and GetSpellAbilityId()!=1093681489 and GetSpellAbilityId()!=1093808472 and GetSpellAbilityId()!=1093808471 and GetSpellAbilityId()!=1093808470 and GetSpellAbilityId()!=1093743191 and GetSpellAbilityId()!=1093678667 and GetSpellAbilityId()!=1097163124 and GetSpellAbilityId()!=1093683801 and GetSpellAbilityId()!=1093682767 and GetSpellAbilityId()!=1093750345 and GetSpellAbilityId()!=1093750089 and GetSpellAbilityId()!=1093751096 and GetSpellAbilityId()!=1093751361 and GetSpellAbilityId()!=1093751126 and GetSpellAbilityId()!=1093808473 and GetSpellAbilityId()!=1093748565 and GetSpellAbilityId()!=1093753177 and OSD(GetSpellAbilityId())==false then
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call UnitRemoveAbility(O_7,1093815893)
call UnitRemoveAbility(O_7,1110455638)
call FlushChildHashtable(L7,(OL7))
call U37(t)
set t=CreateTrigger()
set OL7=GetHandleId(t)
if GetSpellAbilityId()==1093685846 or GetSpellAbilityId()==1093684302 then
call TriggerRegisterTimerEvent(t,0.01,false)
else
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_SPELL_ENDCAST)
endif
call TriggerAddCondition(t,Condition(function OQD))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveBoolean(L7,(OL7),(95),(true))
endif
set O_7=null
set EL8=null
set t=null
return false
endfunction
function OUD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit HE8=(LoadUnitHandle(L7,(OL7),(19)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
if GetUnitAbilityLevel(O_7,1093815893)==0 or GetTriggerEvalCount(t)>250 then
call FlushChildHashtable(L7,(OL7))
call U37(t)
call KillUnit(HE8)
else
call SetUnitX(HE8,GetUnitX(O_7))
call SetUnitY(HE8,GetUnitY(O_7))
endif
set t=null
set HE8=null
set O_7=null
return false
endfunction
function OVD takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local unit HE8=CreateUnit(GetOwningPlayer(EL8),1865429305,GetUnitX(O_7),GetUnitY(O_7),0)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterTimerEvent(t,5,false)
call TriggerRegisterDeathEvent(t,O_7)
call TriggerAddCondition(t,Condition(function OTD))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call LP7(O_7,1093815893)
call UnitMakeAbilityPermanent(O_7,true,1093815894)
call SetPlayerAbilityAvailable(GetOwningPlayer(O_7),1093815893,false)
call SaveEffectHandle(L7,(OL7),(32),(AddSpecialEffectTarget("war3mapImported\\LastWordDebuff_6.mdx",O_7,"overhead")))
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function OUD))
call SaveUnitHandle(L7,(OL7),(19),(HE8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
set EL8=null
set O_7=null
set t=null
endfunction
function OWD takes nothing returns boolean
if GetSpellAbilityId()==1093815892 and CY7(GetSpellTargetUnit())==false then
call OVD()
endif
return false
endfunction
function LastWord_Process takes nothing returns nothing
local integer OL7=GetHandleId(GetTriggeringTrigger())
local unit EL8=IP4
local real B29=(LoadReal(L7,(OL7),(20)))
call SetHeroInt(EL8,GetHeroInt(EL8,false)+1,true)
call DL8("+1 "+GetObjectName(1848658512),3,EL8,0.023,0,255,0,230)
set EL8=null
endfunction
function OXD takes nothing returns nothing
local integer OL7=GetHandleId(GetTriggeringTrigger())
local unit EL8=IP4
local real B29=(LoadReal(L7,(OL7),(20)))
call SetHeroInt(EL8,GetHeroInt(EL8,false)+2,true)
call DL8("+2 "+GetObjectName(1848658512),3,EL8,0.023,0,255,0,230)
set EL8=null
endfunction
function OYD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit LU7=GetTriggerUnit()
if IsUnitType(LU7,UNIT_TYPE_HERO)==true and J98(GetUnitTypeId(LU7))==false and IsUnitIllusion(LU7)==false and(IsUnitInRange(EL8,LU7,900)or GetOwningPlayer(EL8)==GetOwningPlayer(GetKillingUnit()))and LR7(EL8)==false and IsUnitAlly(EL8,GetOwningPlayer(LU7))==false then
set SR4[GetPlayerId(GetOwningPlayer(EL8))]=SR4[GetPlayerId(GetOwningPlayer(EL8))]+2
call DL8("-2 "+GetObjectName(1848658512),3,LU7,0.023,255,0,0,230)
call SetHeroInt(LU7,GetHeroInt(LU7,false)-2,true)
call EO8(LU7,EL8,1747993424,"OXD",450)
endif
set t=null
set EL8=null
set LU7=null
return false
endfunction
function OZD takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call D28(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function OYD))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
set EL8=null
set t=null
endfunction
function OAD takes nothing returns boolean
if GetLearnedSkill()==1093684314 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093684314)==1 then
call OZD()
endif
return false
endfunction
function OBD takes nothing returns boolean
local integer OCD=SR4[GetPlayerId(GetTriggerPlayer())]
if GetUnitTypeId(M7[GetPlayerId(GetTriggerPlayer())])==1311781185 and OCD>0 then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,GetObjectName(1848657997)+" "+I2S(OCD))
endif
return false
endfunction
function NN8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function OWD))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function OAD))
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-st",true)
call TriggerAddCondition(t,Condition(function OBD))
set t=null
endfunction
function O3D takes nothing returns nothing
if IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false then
call HG8(JT,GetEnumUnit(),ZG4,MT)
call IssueTargetOrder(KT,"slow",GetEnumUnit())
else
call HG8(JT,GetEnumUnit(),ZG4,MT/ 3)
call IssueTargetOrder(KT,"slow",GetEnumUnit())
endif
endfunction
function O6D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=UE7(OL7,"Source")
local unit HE8=UE7(OL7,"Caster")
local integer HF8=UQ7(OL7,"Level")
local real x=UR7(OL7,"x")
local real y=UR7(OL7,"y")
local group g=CA7()
local real d
local real a
local real x2
local real y2
set IN4=EL8
call GroupEnumUnitsInRange(g,x,y,360+25,Condition(function GY8))
set JT=EL8
set MT=HF8*12
set KT=HE8
call ForGroup(g,function O3D)
call CZ7(g)
call DestroyEffect(UK7(OL7,"FX0"))
call DestroyEffect(UK7(OL7,"FX1"))
call DestroyEffect(UK7(OL7,"FX2"))
call DestroyEffect(UK7(OL7,"FX3"))
call DestroyEffect(UK7(OL7,"FX4"))
call DestroyEffect(UK7(OL7,"FX5"))
call DestroyEffect(UK7(OL7,"FX6"))
call DestroyEffect(UK7(OL7,"FX7"))
call DestroyEffect(UK7(OL7,"FX8"))
if GetTriggerEvalCount(t)==9 then
call TQ7(OL7)
call U37(t)
else
set d=0
set a=0
set x2=x+d*Cos(a*bj_DEGTORAD)
set y2=y+d*Sin(a*bj_DEGTORAD)
call TY7(OL7,"FX0",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))
set d=150
set a=45
set x2=x+d*Cos(a*bj_DEGTORAD)
set y2=y+d*Sin(a*bj_DEGTORAD)
call TY7(OL7,"FX1",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))
set d=275
set a=90
set x2=x+d*Cos(a*bj_DEGTORAD)
set y2=y+d*Sin(a*bj_DEGTORAD)
call TY7(OL7,"FX2",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))
set d=150
set a=135
set x2=x+d*Cos(a*bj_DEGTORAD)
set y2=y+d*Sin(a*bj_DEGTORAD)
call TY7(OL7,"FX3",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))
set d=275
set a=180
set x2=x+d*Cos(a*bj_DEGTORAD)
set y2=y+d*Sin(a*bj_DEGTORAD)
call TY7(OL7,"FX4",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))
set d=150
set a=225
set x2=x+d*Cos(a*bj_DEGTORAD)
set y2=y+d*Sin(a*bj_DEGTORAD)
call TY7(OL7,"FX5",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))
set d=275
set a=270
set x2=x+d*Cos(a*bj_DEGTORAD)
set y2=y+d*Sin(a*bj_DEGTORAD)
call TY7(OL7,"FX6",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))
set d=150
set a=305
set x2=x+d*Cos(a*bj_DEGTORAD)
set y2=y+d*Sin(a*bj_DEGTORAD)
call TY7(OL7,"FX7",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))
set d=275
set a=360
set x2=x+d*Cos(a*bj_DEGTORAD)
set y2=y+d*Sin(a*bj_DEGTORAD)
call TY7(OL7,"FX8",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))
endif
set t=null
set EL8=null
set HE8=null
set g=null
return false
endfunction
function OLD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local integer BK7=GetUnitAbilityLevel(p5,1093678644)
local real x1=UR7(UL7,"x")
local real y1=UR7(UL7,"y")
local unit HE8=CreateUnit(GetOwningPlayer(p5),1697656901,x1,y1,0)
local real x2
local real y2
local real d
local real a
local integer i
call LP7(HE8,1093744966)
call SetUnitAbilityLevel(HE8,1093744966,BK7)
if GetTriggerEvalCount(t)==1 then
set i=1
loop
exitwhen i>10
set d=GetRandomReal(0,450)
set a=GetRandomReal(0,360)
set x2=x1+d*Cos(a*bj_DEGTORAD)
set y2=y1+d*Sin(a*bj_DEGTORAD)
set HE8=CreateUnit(GetOwningPlayer(p5),1697656906,GetUnitX(p5),GetUnitY(p5),90)
call IssuePointOrder(HE8,"attackground",x2,y2)
call UnitApplyTimedLife(HE8,1112820806,0.5)
set i=i+1
endloop
else
call TQ7(UL7)
call U37(t)
set t=CreateTrigger()
set UL7=GetHandleId(t)
call TX7(UL7,"Source",p5)
call TX7(UL7,"Caster",HE8)
call TU7(UL7,"x",(x1)*1.0)
call TU7(UL7,"y",(y1)*1.0)
call TT7(UL7,"Level",BK7)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function O6D))
call TriggerEvaluate(t)
endif
set p5=null
set HE8=null
set t=null
return false
endfunction
function O1D takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
call EE8(GetOwningPlayer(p5),9.4,x,y,360)
call TriggerRegisterTimerEvent(t,0.4,true)
call TriggerAddCondition(t,Condition(function OLD))
call TX7(UL7,"Source",p5)
call TU7(UL7,"x",(x)*1.0)
call TU7(UL7,"y",(y)*1.0)
call RemoveLocation(l)
set t=null
set p5=null
set l=null
endfunction
function O0D takes nothing returns boolean
if GetSpellAbilityId()==1093678644 then
call O1D()
endif
return false
endfunction
function NO8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function O0D))
call DH8(1093744966)
set t=null
endfunction
function O5D takes nothing returns boolean
return GetLearnedSkill()==1093677909
endfunction
function O2D takes nothing returns nothing
call SetPlayerTechResearchedSwap(1378889781,GetUnitAbilityLevelSwapped(1093677909,GetTriggerUnit()),GetOwningPlayer(GetLearningUnit()))
endfunction
function Pv takes nothing returns nothing
set dX=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(dX,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(dX,Condition(function O5D))
call TriggerAddAction(dX,function O2D)
endfunction
function O_D takes nothing returns boolean
return GetLearnedSkill()==1093677130 and IsUnitIllusion(GetTriggerUnit())==false
endfunction
function P4D takes nothing returns nothing
if(GetUnitAbilityLevel(GetTriggerUnit(),1093684546)==0)then
call LP7(GetTriggerUnit(),1093684546)
endif
call SetUnitAbilityLevel(GetTriggerUnit(),1093684546,GetUnitAbilityLevel(GetTriggerUnit(),1093677130))
endfunction
function Pw takes nothing returns nothing
set dY=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(dY,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(dY,Condition(function O_D))
call TriggerAddAction(dY,function P4D)
endfunction
function P7D takes nothing returns nothing
local unit EL8=GetAttacker()
local unit O_7=GetTriggerUnit()
local integer HF8=GetUnitAbilityLevel(EL8,1093682266)
local boolean P8D=US7(GetHandleId(EL8),"Backstab|Free")
local real d=RAbsBJ(GetUnitFacing(O_7)-GetUnitFacing(EL8))
if d>180 then
set d=360-d
endif
if d<=105 or P8D then
call TW7(GetHandleId(EL8),"Backstab|Free",false)
if GetUnitAbilityLevel(O_7,1093678162)==0 then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",O_7,"chest"))
call HG8(EL8,O_7,ZH4,GetHeroAgi(EL8,true)*(0.25*HF8+0.25))
endif
endif
set EL8=null
set O_7=null
endfunction
function P9D takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1093682266)>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))==false then
call P7D()
endif
return false
endfunction
function NQ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function P9D))
set t=null
endfunction
function PDD takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local unit oA=CreateUnit(GetOwningPlayer(CR7),1697656883,x,y,0)
local integer BK7=GetUnitAbilityLevel(CR7,1093685831)
local real vr=(83+17*BK7)*0.01
call SetUnitVertexColor(oA,255,255,255,150)
call UnitApplyTimedLife(oA,1112820806,6)
call SetUnitScale(oA,vr,vr,vr)
if Z17(GetOwningPlayer(CR7))then
call LP7(oA,1093677369)
call SetUnitAbilityLevel(oA,1093677369,BK7)
else
call LP7(oA,1093682487)
call SetUnitAbilityLevel(oA,1093682487,BK7)
endif
call IssuePointOrder(oA,"cloudoffog",x,y)
call RemoveLocation(l)
set CR7=null
set l=null
set oA=null
endfunction
function PED takes nothing returns boolean
if GetSpellAbilityId()==1093685831 then
call PDD()
endif
return false
endfunction
function NR8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function PED))
set t=null
endfunction
function PFD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer O17=GetHandleId(t)
if SH7(LoadUnitHandle(L7,O17,1635021931))or GetTriggerEvalCount(t)>=11 then
call FlushChildHashtable(L7,O17)
call DestroyTrigger(t)
else
call IssueTargetOrderById(LoadUnitHandle(L7,O17,1635021931),851983,LoadUnitHandle(L7,O17,1952543335))
endif
set t=null
return false
endfunction
function PGD takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local real DV8=30*GetUnitAbilityLevel(p5,1093684025)
local trigger t
local integer UL7
local real x=GetUnitX(m5)-75*Cos(GetUnitFacing(m5)*bj_DEGTORAD)
local real y=GetUnitY(m5)-75*Sin(GetUnitFacing(m5)*bj_DEGTORAD)
local trigger PHD
local integer PID
call SetUnitX(p5,x)
call SetUnitY(p5,y)
call SetUnitFacing(p5,GetUnitFacing(m5))
call DestroyEffect(AddSpecialEffect("war3mapImported\\BlinkStrike.mdx",x,y))
if IsUnitEnemy(m5,GetOwningPlayer(p5))then
call HG8(p5,m5,ZG4,DV8)
call TW7(GetHandleId(p5),"Backstab|Free",true)
call IssueTargetOrder(p5,"attack",m5)
if(GetPlayerController(GetOwningPlayer(p5))!=MAP_CONTROL_USER)then
if SS7(700,p5,Condition(function k6))<1 then
set PHD=CreateTrigger()
set PID=GetHandleId(PHD)
call SaveUnitHandle(L7,PID,1952543335,m5)
call SaveUnitHandle(L7,PID,1635021931,p5)
call TriggerAddCondition(PHD,Condition(function PFD))
call TriggerRegisterTimerEvent(PHD,0.4,true)
set PHD=null
endif
call R97(0.3)
call IssueTargetOrder(p5,"attack",m5)
endif
endif
set p5=null
set m5=null
set t=null
endfunction
function PJD takes nothing returns boolean
if GetSpellAbilityId()==1093684025 then
call PGD()
endif
return false
endfunction
function PKD takes nothing returns boolean
if GetSpellAbilityId()==1093684025 then
call DestroyEffect(AddSpecialEffect("war3mapImported\\BlinkStrike.mdx",GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
endif
return false
endfunction
function NS8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function PJD))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function PKD))
set t=null
endfunction
function PMD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
call SetUnitAnimationByIndex(EL8,8)
call FlushChildHashtable(L7,(OL7))
call U37(t)
set t=null
set EL8=null
return false
endfunction
function PND takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call SetUnitAnimationByIndex(EL8,7)
call TriggerRegisterTimerEvent(t,2.5,false)
call TriggerAddCondition(t,Condition(function PMD))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
set t=null
set EL8=null
endfunction
function POD takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())==1311788336 then
call PND()
endif
return false
endfunction
function VD8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function POD))
set t=null
endfunction
function PPD takes nothing returns nothing
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\ChimaeraLightningMissile\\ChimaeraLightningMissile.mdl",GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit())))
call HG8(RT4,GetEnumUnit(),ZG4,RU4)
endfunction
function PQD takes nothing returns boolean
local trigger t2=GetTriggeringTrigger()
local integer PRD=GetHandleId(t2)
local trigger t1=UI7(PRD,"t1")
local integer PSD=GetHandleId(t1)
local unit PTD=UE7(PRD,"Remnant")
local group g
local integer HF8=UQ7(PRD,"Level")
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call ShowUnit(PTD,false)
call KillUnit(PTD)
call TQ7(PSD)
call U37(t1)
call TQ7(PRD)
call U37(t2)
elseif IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(PTD))==true and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetTriggerUnit(),1093678162)==0 then
set g=CA7()
set IN4=PTD
set RT4=PTD
set RU4=100+40*HF8
call GroupEnumUnitsInRange(g,GetUnitX(PTD),GetUnitY(PTD),285,Condition(function FW8))
call ForGroup(g,function PPD)
call CZ7(g)
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\Bolt\\BoltImpact.mdl",GetUnitX(PTD),GetUnitY(PTD)))
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\Bolt\\BoltImpact.mdl",GetUnitX(PTD),GetUnitY(PTD)))
call ShowUnit(PTD,false)
call KillUnit(PTD)
call TQ7(PSD)
call U37(t1)
call TQ7(PRD)
call U37(t2)
endif
set t1=null
set t2=null
set PTD=null
set g=null
return false
endfunction
function PUD takes nothing returns boolean
local trigger t1=GetTriggeringTrigger()
local integer PVD=GetHandleId(t1)
local trigger t2
local integer B99
local unit PWD
local integer BK7
local real x=UR7(PVD,"x")
local real y=UR7(PVD,"y")
local real PXD
local integer BD8=GetTriggerEvalCount(t1)
if BD8==1 then
call DestroyEffect(UK7(PVD,"FX1"))
elseif BD8==2 then
call DestroyEffect(UK7(PVD,"FX2"))
set t2=CreateTrigger()
set B99=GetHandleId(t2)
set BK7=UQ7(PVD,"Level")
set PXD=UR7(PVD,"Facing")
set PWD=CreateUnit(GetOwningPlayer(UE7(PVD,"Source")),1747990342,x,y,PXD)
call SetUnitVertexColor(PWD,255,255,255,100)
call UnitApplyTimedLife(PWD,1112820806,12)
call TX7(PVD,"Remnant",PWD)
call TX7(B99,"Remnant",PWD)
call TZ7(B99,"t1",t1)
call TT7(B99,"Level",BK7)
call TriggerRegisterUnitInRange(t2,PWD,235,Condition(function ZY7))
call TriggerRegisterUnitEvent(t2,PWD,EVENT_UNIT_DEATH)
call TriggerAddCondition(t2,Condition(function PQD))
call DestroyEffect(AddSpecialEffectTarget("effects\\ManaFlareBoltImpact_NoSound.mdx",PWD,"origin"))
elseif BD8>2 then
set PWD=UE7(PVD,"Remnant")
call DestroyEffect(AddSpecialEffectTarget("effects\\ManaFlareBoltImpact_NoSound.mdx",PWD,"origin"))
endif
set t1=null
set t2=null
set PWD=null
return false
endfunction
function PYD takes nothing returns nothing
local unit p5=GetTriggerUnit()
local trigger t1=CreateTrigger()
local integer PVD=GetHandleId(t1)
local real x=GetUnitX(p5)
local real y=GetUnitY(p5)
call TriggerRegisterTimerEvent(t1,0.5,true)
call TriggerAddCondition(t1,Condition(function PUD))
call TU7(PVD,"x",(x)*1.0)
call TU7(PVD,"y",(y)*1.0)
call TT7(PVD,"Level",GetUnitAbilityLevel(p5,1093743696))
call TX7(PVD,"Source",p5)
call TU7(PVD,"Facing",GetUnitFacing(p5)*1.0)
call TY7(PVD,"FX1",AddSpecialEffect("Abilities\\Spells\\Orc\\LightningShield\\LightningShieldTarget.mdl",x,y))
call TY7(PVD,"FX2",AddSpecialEffect("effects\\Static_Remnant_FX.mdx",x,y))
set p5=null
set t1=null
endfunction
function PZD takes nothing returns boolean
if GetSpellAbilityId()==1093743696 then
call PYD()
endif
return false
endfunction
function SI8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function PZD))
set t=null
endfunction
function PAD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit m5=UE7(UL7,"Target")
local real RK=UR7(UL7,"Angle")
local real x=GetUnitX(m5)-5*Cos(RK)
local real y=GetUnitY(m5)-5*Sin(RK)
local integer BK7=UQ7(UL7,"Level")
local real PBD=UR7(UL7,"x")
local real PCD=UR7(UL7,"y")
if((PBD-x)*(PBD-x))+((PCD-y)*(PCD-y))<100 then
set x=PBD
set y=PCD
endif
call SetUnitX(m5,x)
call SetUnitY(m5,y)
if GetTriggerEvalCount(t)==(10+10*BK7)then
call TQ7(UL7)
call U37(t)
endif
set t=null
set m5=null
return false
endfunction
function P3D takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local unit oA=CreateUnit(GetOwningPlayer(p5),1966092376,GetUnitX(p5),GetUnitY(p5),GetUnitFacing(p5))
local integer BK7=GetUnitAbilityLevel(p5,1093743698)
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function PAD))
call TX7(UL7,"Target",m5)
call TU7(UL7,"Angle",Atan2(GetUnitY(m5)-GetUnitY(p5),GetUnitX(m5)-GetUnitX(p5)))
call TT7(UL7,"Level",BK7)
call TU7(UL7,"x",GetUnitX(p5))
call TU7(UL7,"y",GetUnitY(p5))
call LP7(oA,1093743697)
call SetUnitAbilityLevel(oA,1093743697,BK7)
call IssueTargetOrder(oA,"magicleash",m5)
if not Z27(GetOwningPlayer(p5))then
call UnitApplyTimedLife(oA,1112820806,0.5+0.5*BK7)
endif
set oA=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(p5),GetUnitY(p5),GetUnitFacing(p5))
call LP7(oA,1093743699)
call IssueTargetOrder(oA,"slow",p5)
set p5=null
set m5=null
set oA=null
set t=null
endfunction
function P6D takes nothing returns boolean
if GetSpellAbilityId()==1093743698 and GetUnitTypeId(GetSpellTargetUnit())!=1848651852 and CY7(GetSpellTargetUnit())==false then
call P3D()
endif
return false
endfunction
function SJ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function P6D))
set t=null
endfunction
function PLD takes nothing returns nothing
local unit oA=CreateUnit(GetOwningPlayer(FZ),1697656901,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)
call LP7(oA,1093686069)
call IssueTargetOrder(oA,"slow",GetEnumUnit())
call HG8(FZ,GetEnumUnit(),ZG4,gZ)
set oA=null
endfunction
function P1D takes unit p5,unit m5 returns nothing
local integer UL7=GetHandleId(p5)
local group g=CA7()
call DestroyEffect(UK7(UL7,"OverloadFX1"))
call DestroyEffect(UK7(UL7,"OverloadFX2"))
call UB7(p5,"OverloadActive")
set IN4=p5
set FZ=p5
set gZ=GetUnitAbilityLevel(p5,1093685591)*20+10
call GroupEnumUnitsInRange(g,GetUnitX(m5),GetUnitY(m5),300,Condition(function FW8))
call ForGroup(g,function PLD)
call CZ7(g)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl",GetUnitX(m5),GetUnitY(m5)))
set g=null
endfunction
function P0D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit m5=UE7(UL7,"Target")
local unit p5=UE7(UL7,"Source")
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==p5 and UX7(p5,"OverloadActive")then
call DisableTrigger(t)
call P1D(p5,m5)
call TQ7(UL7)
call U37(t)
endif
else
call TQ7(UL7)
call U37(t)
endif
set t=null
set m5=null
set p5=null
return false
endfunction
function P5D takes nothing returns nothing
local trigger t=CreateTrigger()
local unit m5=GetTriggerUnit()
local unit p5=GetAttacker()
local integer UL7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,2.5,false)
call TriggerAddCondition(t,Condition(function P0D))
call TX7(UL7,"Target",m5)
call TX7(UL7,"Source",p5)
set t=null
set m5=null
set p5=null
endfunction
function P2D takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1093685591)>0 and UX7(GetAttacker(),"OverloadActive")and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitAlly(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))==false then
call P5D()
endif
return false
endfunction
function P_D takes nothing returns nothing
local trigger t=CreateTrigger()
local unit p5=GetTriggerUnit()
local integer UL7=GetHandleId(p5)
local string fx=""
if IsUnitAlly(p5,GetLocalPlayer())or CP7(GetLocalPlayer())then
set fx="Abilities\\Weapons\\FarseerMissile\\FarseerMissile.mdl"
endif
call TY7(UL7,"OverloadFX1",AddSpecialEffectTarget(fx,p5,"right hand"))
call TY7(UL7,"OverloadFX2",AddSpecialEffectTarget(fx,p5,"left hand"))
set t=null
set p5=null
endfunction
function Q4D takes nothing returns boolean
if((GetSpellAbilityId()==1093743695 or GetSpellAbilityId()==1093743696 or GetSpellAbilityId()==1093743698)or(GetUnitPointValue(GetTriggerUnit())==500)and BD7(GetSpellAbilityId()))and UX7(GetTriggerUnit(),"OverloadActive")==false then
call UZ7(GetTriggerUnit(),"OverloadActive")
call P_D()
endif
return false
endfunction
function Q7D takes unit p5,boolean B89 returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function Q4D))
if B89 then
set nj[GetPlayerId(GetOwningPlayer(p5))]=t
endif
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function P2D))
if B89 then
set Aj[GetPlayerId(GetOwningPlayer(p5))]=t
endif
set p5=null
set t=null
endfunction
function Q8D takes nothing returns boolean
if GetLearnedSkill()==1093685591 and GetUnitAbilityLevel(GetTriggerUnit(),1093685591)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call Q7D(GetTriggerUnit(),false)
endif
return false
endfunction
function SK8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function Q8D))
set t=null
endfunction
function Q9D takes nothing returns nothing
if(LoadBoolean(L7,jZ,GetHandleId(GetEnumUnit()))==false)then
call SaveBoolean(L7,jZ,GetHandleId(GetEnumUnit()),true)
call HG8(LZ,GetEnumUnit(),ZG4,mZ*(JZ*4+4)/ 100)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl",GetEnumUnit(),"origin"))
endif
endfunction
function QDD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local integer BK7=UQ7(UL7,"Level")
local unit oA=UE7(UL7,"Caster")
local unit p5=UE7(UL7,"Source")
local unit QED=UE7(UL7,"Fake")
local integer u3=UQ7(UL7,"Remaining")
local real hN=UR7(UL7,"x")
local real ho=UR7(UL7,"y")
local real u4=GetUnitX(p5)
local real u5=GetUnitY(p5)
local real RK=Atan2(ho-u5,hN-u4)
local real Il=u4+(25+25*BK7)*Cos(RK)
local real IL=u5+(25+25*BK7)*Sin(RK)
local lightning T79=UM7(UL7,"Light")
local real QFD=UR7(UL7,"lx")
local real QGD=UR7(UL7,"ly")
local real ZP8=GetUnitState(p5,UNIT_STATE_MANA)
local real QHD=(25+25*BK7)*(10+0.01*GetUnitState(p5,UNIT_STATE_MAX_MANA))/ 100
local group g=CA7()
local real QID=UR7(UL7,"Traveled")
set QID=QID+25+25*BK7
call TU7(UL7,"Traveled",QID)
if GetTriggerEvalCount(t)>25 then
set QFD=QFD+(25+25*BK7)*Cos(RK)
set QGD=QGD+(25+25*BK7)*Sin(RK)
call TU7(UL7,"lx",QFD)
call TU7(UL7,"ly",QGD)
endif
call SetUnitState(p5,UNIT_STATE_MANA,RMaxBJ(ZP8-QHD,0))
call MoveLightning(T79,true,QFD,QGD,Il,IL)
call SetUnitX(p5,Il)
call SetUnitY(p5,IL)
call SetUnitPosition(oA,Il,IL)
call SetUnitPosition(QED,Il,IL)
set IN4=p5
set LZ=p5
set jZ=UL7
set JZ=BK7
set mZ=QID
call GroupEnumUnitsInRange(g,Il,IL,75+75*BK7,Condition(function FW8))
call ForGroup(g,function Q9D)
call CZ7(g)
set u3=u3-1
call TT7(UL7,"Remaining",u3)
call SetUnitVertexColor(p5,255,255,255,0)
if u3==0 or GetUnitState(p5,UNIT_STATE_MANA)<1 then
call DestroyLightning(T79)
call E78(Il,IL,75)
call DestroyEffect(UK7(UL7,"FX"))
call RemoveUnit(oA)
call RemoveUnit(QED)
call SetUnitVertexColor(p5,255,255,255,255)
call SetUnitPathing(p5,true)
call SetUnitInvulnerable(p5,false)
call TQ7(UL7)
call U37(t)
else
call E78(Il,IL,75)
endif
set t=null
set oA=null
set p5=null
set T79=null
set g=null
set QED=null
return false
endfunction
function QJD takes nothing returns nothing
local unit p5=GetTriggerUnit()
local real iN=GetUnitX(p5)
local real io=GetUnitY(p5)
local unit oA
local unit QED
local location l
local real x
local real y
local trigger t
local integer UL7
local lightning T79
local integer BK7=GetUnitAbilityLevel(p5,1093743695)
local real ZP8=GetUnitState(p5,UNIT_STATE_MANA)
local real QHD=15+0.07*GetUnitState(p5,UNIT_STATE_MAX_MANA)
call SetUnitState(p5,UNIT_STATE_MANA,RMaxBJ(ZP8-QHD,0))
if GetUnitState(p5,UNIT_STATE_MANA)>10 then
set t=CreateTrigger()
set UL7=GetHandleId(t)
set oA=CreateUnit(GetOwningPlayer(p5),1865429296,iN,io,0)
set QED=CreateUnit(GetOwningPlayer(p5),1211119431,iN,io,0)
set T79=AddLightning("FORK",true,iN,io,iN,io)
if GetSpellTargetUnit()==null then
set l=GetSpellTargetLoc()
set x=GetLocationX(l)
set y=GetLocationY(l)
call RemoveLocation(l)
else
set x=GetUnitX(GetSpellTargetUnit())
set y=GetUnitY(GetSpellTargetUnit())
endif
call SetUnitVertexColor(p5,255,255,255,0)
call SetUnitVertexColor(QED,255,255,255,0)
call SetUnitPathing(p5,false)
call SetUnitPathing(oA,false)
call SetUnitInvulnerable(p5,true)
call TX7(UL7,"Caster",oA)
call TX7(UL7,"Source",p5)
call TX7(UL7,"Fake",QED)
call TA7(UL7,"Light",T79)
call TT7(UL7,"Level",BK7)
call TU7(UL7,"x",x)
call TU7(UL7,"y",y)
call TU7(UL7,"lx",iN)
call TU7(UL7,"ly",io)
call TU7(UL7,"Traveled",0)
call TT7(UL7,"Remaining",DR8(R2I(SquareRoot((x-iN)*(x-iN)+(y-io)*(y-io))/(25+25*BK7)),1))
call TY7(UL7,"FX",AddSpecialEffectTarget("effects\\Lightning_Ball_Tail_FX.mdx",QED,"origin"))
call TriggerRegisterTimerEvent(t,0.04,true)
call TriggerAddCondition(t,Condition(function QDD))
call ShowUnit(p5,false)
call ShowUnit(p5,true)
call SelectUnitAddForPlayer(p5,GetOwningPlayer(p5))
endif
set p5=null
set oA=null
set QED=null
set l=null
set t=null
set T79=null
endfunction
function QKD takes nothing returns boolean
if GetSpellAbilityId()==1093743695 then
call QJD()
endif
return false
endfunction
function QMD takes nothing returns boolean
if GetSpellAbilityId()==1093743695 then
if GetUnitState(GetTriggerUnit(),UNIT_STATE_MANA)<(15+0.07*GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_MANA))then
call RU7(GetTriggerUnit())
call D78(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848657720))
endif
endif
return false
endfunction
function SM8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function QKD))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function QMD))
set t=null
endfunction
function QND takes nothing returns nothing
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl",GetTriggerUnit(),"origin"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl",GetTriggerUnit(),"origin"))
endfunction
function QOD takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())==1211117651 then
call QND()
endif
return false
endfunction
function SN8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function QOD))
set t=null
endfunction
function QPD takes nothing returns nothing
local integer UL7=GetHandleId(GetOwningPlayer(GetTriggerUnit()))
local unit QQD=UE7(UL7,"BearItemHolder")
local unit QRD=UE7(UL7,"MyBear")
if QQD!=null and D4==false and RZ4==false then
call UnitAddItem(QRD,UnitRemoveItemFromSlot(QQD,0))
call UnitAddItem(QRD,UnitRemoveItemFromSlot(QQD,1))
call UnitAddItem(QRD,UnitRemoveItemFromSlot(QQD,2))
call UnitAddItem(QRD,UnitRemoveItemFromSlot(QQD,3))
call UnitAddItem(QRD,UnitRemoveItemFromSlot(QQD,4))
call UnitAddItem(QRD,UnitRemoveItemFromSlot(QQD,5))
endif
set QQD=null
set QRD=null
endfunction
function QSD takes nothing returns boolean
return GetSpellAbilityId()==1093681461
endfunction
function QTD takes nothing returns boolean
if LR7(GetFilterUnit())then
return false
endif
if((GetUnitTypeId(GetFilterUnit())==1848652103))then
return true
endif
if((GetUnitTypeId(GetFilterUnit())==1848652099))then
return true
endif
if((GetUnitTypeId(GetFilterUnit())==1848652088))then
return true
endif
if((GetUnitTypeId(GetFilterUnit())==1848651828))then
return true
endif
return false
endfunction
function QUD takes nothing returns nothing
local unit YO9=GetTriggerUnit()
local player QVD=GetOwningPlayer(YO9)
local location L28=GetUnitLoc(YO9)
local boolexpr QWD=Condition(function QTD)
local group C89=CA7()
local integer HF8=GetUnitAbilityLevel(YO9,1093681461)
local integer OL7=GetHandleId(QVD)
local boolean QXD
local unit EC9
call GroupEnumUnitsOfPlayer(C89,GetOwningPlayer(YO9),QWD)
if CountUnitsInGroup(C89)!=0 then
set EC9=FirstOfGroup(C89)
if EC9!=null and UX7(EC9,"4327")==true then
call RU7(YO9)
call D78(QVD,GetObjectName(1848659278))
endif
endif
call CZ7(C89)
call RemoveLocation(L28)
call DestroyBoolExpr(QWD)
set YO9=null
set QVD=null
set C89=null
set QWD=null
set L28=null
endfunction
function QYD takes nothing returns boolean
if((GetUnitTypeId(GetFilterUnit())==1848652103))then
return true
endif
if((GetUnitTypeId(GetFilterUnit())==1848652099))then
return true
endif
if((GetUnitTypeId(GetFilterUnit())==1848652088))then
return true
endif
if((GetUnitTypeId(GetFilterUnit())==1848651828))then
return true
endif
return false
endfunction
function QZD takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit QRD
local unit HE8=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(p5),GetUnitY(p5),0)
local integer BK7=GetUnitAbilityLevel(p5,GetSpellAbilityId())
local group g=CA7()
call GroupEnumUnitsOfPlayer(g,GetOwningPlayer(p5),Condition(function QYD))
set QRD=FirstOfGroup(g)
call CZ7(g)
if GetSpellAbilityId()==1093748038 then
call LP7(HE8,1093681473)
call SetUnitAbilityLevel(HE8,1093681473,BK7)
elseif GetSpellAbilityId()==1093748037 then
call LP7(HE8,1093681474)
call SetUnitAbilityLevel(HE8,1093681474,BK7)
elseif GetSpellAbilityId()==1093748040 then
call LP7(HE8,1093681475)
call SetUnitAbilityLevel(HE8,1093681475,BK7)
elseif GetSpellAbilityId()==1093748041 then
call LP7(HE8,1093681476)
call SetUnitAbilityLevel(HE8,1093681476,BK7)
elseif GetSpellAbilityId()==1093748039 then
call LP7(HE8,1093681477)
call SetUnitAbilityLevel(HE8,1093681477,BK7)
endif
call IssueTargetOrder(HE8,"bloodlust",p5)
if QRD!=null and LR7(QRD)==false then
call IssueTargetOrder(HE8,"bloodlust",QRD)
endif
set g=null
set p5=null
set QRD=null
set HE8=null
endfunction
function QAD takes nothing returns boolean
if GetSpellAbilityId()==1093748038 or GetSpellAbilityId()==1093748037 or GetSpellAbilityId()==1093748040 or GetSpellAbilityId()==1093748041 or GetSpellAbilityId()==1093748039 then
call QZD()
endif
return false
endfunction
function NT8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function QAD))
set t=null
endfunction
function QBD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EC9=(LoadUnitHandle(L7,(OL7),(2)))
local real QCD
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call FlushChildHashtable(L7,(OL7))
call U37(t)
elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamage()>2 and GetEventDamageSource()!=GetTriggerUnit()and Z07(GetOwningPlayer(GetEventDamageSource()))then
call SaveReal(L7,(OL7),(714),(((TimerGetElapsed(W)))*1.0))
endif
endif
set QCD=(LoadReal(L7,(OL7),(714)))
if QCD+3<(TimerGetElapsed(W))then
if(LoadInteger(L7,(OL7),(34)))==2 then
call SaveInteger(L7,(OL7),(34),(1))
call UB7(EC9,"4327")
call SetPlayerAbilityAvailable(GetOwningPlayer(EC9),1093681463,true)
endif
else
if(LoadInteger(L7,(OL7),(34)))==1 then
call SaveInteger(L7,(OL7),(34),(2))
call UZ7(EC9,"4327")
call SetPlayerAbilityAvailable(GetOwningPlayer(EC9),1093681463,false)
endif
endif
set t=null
set EC9=null
return false
endfunction
function Q3D takes unit EC9 returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.2,true)
call TriggerRegisterUnitEvent(t,EC9,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,EC9,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function QBD))
call SaveUnitHandle(L7,(OL7),(2),(EC9))
call SaveReal(L7,(OL7),(714),((0)*1.0))
call SaveInteger(L7,(OL7),(34),(1))
call SetPlayerAbilityAvailable(GetOwningPlayer(EC9),1093681463,true)
set t=null
endfunction
function Q6D takes nothing returns nothing
local unit YO9=GetTriggerUnit()
local player QVD=GetOwningPlayer(YO9)
local location L28=GetUnitLoc(YO9)
local boolexpr QWD=Condition(function QTD)
local group C89=CA7()
local integer HF8=GetUnitAbilityLevel(YO9,1093681461)
local integer OL7=GetHandleId(QVD)
local boolean QXD
local unit EC9
call GroupEnumUnitsOfPlayer(C89,GetOwningPlayer(YO9),QWD)
set QXD=CountUnitsInGroup(C89)==0
if(HF8==1 and QXD)then
call CreateNUnitsAtLoc(1,1848651828,GetOwningPlayer(GetTriggerUnit()),L28,bj_UNIT_FACING)
call TX7(OL7,"MyBear",bj_lastCreatedUnit)
call QPD()
call AddSpecialEffectTargetUnitBJ("chest",bj_lastCreatedUnit,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")
call Q3D(bj_lastCreatedUnit)
elseif(HF8==2 and QXD)then
call CreateNUnitsAtLoc(1,1848652088,GetOwningPlayer(GetTriggerUnit()),L28,bj_UNIT_FACING)
call TX7(OL7,"MyBear",bj_lastCreatedUnit)
call QPD()
call AddSpecialEffectTargetUnitBJ("chest",bj_lastCreatedUnit,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")
call Q3D(bj_lastCreatedUnit)
elseif(HF8==3 and QXD)then
call CreateNUnitsAtLoc(1,1848652099,GetOwningPlayer(GetTriggerUnit()),L28,bj_UNIT_FACING)
call TX7(OL7,"MyBear",bj_lastCreatedUnit)
call QPD()
call AddSpecialEffectTargetUnitBJ("chest",bj_lastCreatedUnit,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")
call Q3D(bj_lastCreatedUnit)
elseif(HF8==4 and QXD)then
call CreateNUnitsAtLoc(1,1848652103,GetOwningPlayer(GetTriggerUnit()),L28,bj_UNIT_FACING)
call TX7(OL7,"MyBear",bj_lastCreatedUnit)
call QPD()
call AddSpecialEffectTargetUnitBJ("chest",bj_lastCreatedUnit,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")
call Q3D(bj_lastCreatedUnit)
elseif QXD==false then
set EC9=FirstOfGroup(C89)
call AddSpecialEffectTargetUnitBJ("chest",EC9,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")
call SetUnitState(EC9,UNIT_STATE_LIFE,GetUnitState(EC9,UNIT_STATE_MAX_LIFE))
call SetUnitPosition(EC9,GetUnitX(YO9),GetUnitY(YO9))
set EC9=null
endif
call SetUnitAbilityLevel(bj_lastCreatedUnit,1093679449,HF8)
call CZ7(C89)
call RemoveLocation(L28)
call DestroyBoolExpr(QWD)
set QWD=null
set YO9=null
set QVD=null
set L28=null
set C89=null
set EC9=null
endfunction
function NV8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function QSD))
call TriggerAddAction(t,function Q6D)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function QSD))
call TriggerAddAction(t,function QUD)
set t=null
endfunction
function QLD takes nothing returns boolean
return(IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit())))and GetUnitAbilityLevel(GetFilterUnit(),1110459185)>0
endfunction
function Q1D takes nothing returns nothing
call HG8(D2,GetEnumUnit(),ZH4,30)
endfunction
function Q0D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit Q5D=UE7(UL7,"Bear")
local group g=CA7()
set IN4=Q5D
set D2=Q5D
call GroupEnumUnitsInRange(g,GetUnitX(Q5D),GetUnitY(Q5D),2000,Condition(function QLD))
call ForGroup(g,function Q1D)
call CZ7(g)
set t=null
set g=null
set Q5D=null
return false
endfunction
function Q2D takes nothing returns nothing
local unit Q5D=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerAddCondition(t,Condition(function Q0D))
call TX7(UL7,"Bear",Q5D)
set Q5D=null
set t=null
endfunction
function VF takes nothing returns boolean
return GetLearnedSkill()==1093681461 and IsUnitIllusion(GetTriggerUnit())==false
endfunction
function Vg takes nothing returns boolean
if LR7(GetFilterUnit())then
return false
endif
if((GetUnitTypeId(GetFilterUnit())==1848652099))then
return true
endif
if((GetUnitTypeId(GetFilterUnit())==1848652088))then
return true
endif
if((GetUnitTypeId(GetFilterUnit())==1848651828))then
return true
endif
return false
endfunction
function Q_D takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local player j8=GetOwningPlayer(CR7)
local location L28=GetUnitLoc(CR7)
local boolexpr hP=Condition(function Vg)
local group I68=CA7()
local integer HF8=GetUnitAbilityLevel(CR7,1093681461)
local integer OL7=GetHandleId(j8)
local integer Vh
local unit EC9
local real FSD
call GroupEnumUnitsOfPlayer(I68,GetOwningPlayer(CR7),hP)
call DestroyBoolExpr(hP)
if(HF8==1)then
call Q2D()
endif
set Vh=CountUnitsInGroup(I68)
if(Vh==1)then
set EC9=FirstOfGroup(I68)
set FSD=GetUnitLifePercent(EC9)
set L28=GetUnitLoc(EC9)
call ShowUnit(EC9,false)
call KillUnit(EC9)
if(HF8==2)then
call CreateNUnitsAtLoc(1,1848652088,GetOwningPlayer(GetTriggerUnit()),L28,bj_UNIT_FACING)
call AddSpecialEffectTargetUnitBJ("chest",bj_lastCreatedUnit,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")
call Q3D(bj_lastCreatedUnit)
elseif(HF8==3)then
call CreateNUnitsAtLoc(1,1848652099,GetOwningPlayer(GetTriggerUnit()),L28,bj_UNIT_FACING)
call AddSpecialEffectTargetUnitBJ("chest",bj_lastCreatedUnit,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")
call Q3D(bj_lastCreatedUnit)
elseif(HF8==4)then
call CreateNUnitsAtLoc(1,1848652103,GetOwningPlayer(GetTriggerUnit()),L28,bj_UNIT_FACING)
call AddSpecialEffectTargetUnitBJ("chest",bj_lastCreatedUnit,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")
call Q3D(bj_lastCreatedUnit)
endif
call SetUnitLifePercentBJ(bj_lastCreatedUnit,FSD)
call TX7(OL7,"MyBear",bj_lastCreatedUnit)
call QPD()
endif
call CZ7(I68)
set CR7=null
set j8=null
set L28=null
set hP=null
set I68=null
set EC9=null
endfunction
function NX8 takes nothing returns nothing
set dZ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(dZ,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(dZ,Condition(function VF))
call TriggerAddAction(dZ,function Q_D)
endfunction
function R4D takes nothing returns boolean
return GetUnitTypeId(GetAttacker())==1848652103 or GetUnitTypeId(GetAttacker())==1848652099 or GetUnitTypeId(GetAttacker())==1848652088 or GetUnitTypeId(GetAttacker())==1848651828
endfunction
function R7D takes nothing returns nothing
local unit VD=GetAttacker()
local unit VI=M7[GetPlayerId(GetOwningPlayer(VD))]
if((GetUnitX(VI)-GetUnitX(VD))*(GetUnitX(VI)-GetUnitX(VD))+(GetUnitY(VI)-GetUnitY(VD))*(GetUnitY(VI)-GetUnitY(VD))>=(1210000))then
call IssueImmediateOrder(VD,"stop")
elseif(GetPlayerController(GetOwningPlayer(GetAttacker()))==MAP_CONTROL_COMPUTER)then
if((GetHeroLevel(VI)<12)and(not IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(not IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE))and(GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)>150.)and((GetOwningPlayer(GetTriggerUnit())==Z7[0])or(GetOwningPlayer(GetTriggerUnit())==A7[0]))and(eY[GetPlayerId(GetOwningPlayer(GetAttacker()))]==1)and(Bz>hq[240+GetPlayerId(GetOwningPlayer(GetAttacker()))]))then
call TriggerSleepAction(0.1)
call T47(GetAttacker(),851986,h9[GetPlayerId(GetOwningPlayer(GetAttacker()))])
endif
endif
set VD=null
set VI=null
endfunction
function NU8 takes nothing returns nothing
set d0=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(d0,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(d0,Condition(function R4D))
call TriggerAddAction(d0,function R7D)
endfunction
function R8D takes nothing returns boolean
return GetSpellAbilityId()==1093681463
endfunction
function R9D takes nothing returns nothing
local unit VD=GetTriggerUnit()
local unit VI=M7[GetPlayerId(GetOwningPlayer(VD))]
call SetUnitX(VD,GetUnitX(VI)+GetRandomReal(25,50)*Cos(GetRandomReal(0,360)))
call SetUnitY(VD,GetUnitY(VI)+GetRandomReal(25,50)*Sin(GetRandomReal(0,360)))
set VD=null
set VI=null
endfunction
function NW8 takes nothing returns nothing
set H_4=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(H_4,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(H_4,Condition(function R8D))
call TriggerAddAction(H_4,function R9D)
endfunction
function RDD takes nothing returns boolean
return GetLearnedSkill()==1093681464 and IsUnitIllusion(GetTriggerUnit())==false
endfunction
function RED takes nothing returns nothing
call SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()),1378889776,GetPlayerTechCount(GetOwningPlayer(GetTriggerUnit()),1378889776,true)+1)
call SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()),1378889777,GetPlayerTechCount(GetOwningPlayer(GetTriggerUnit()),1378889777,true)+1)
endfunction
function qb takes nothing returns nothing
set I44=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I44,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(I44,Condition(function RDD))
call TriggerAddAction(I44,function RED)
endfunction
function RFD takes item R37 returns boolean
return RB7(R37)==B5 or RB7(R37)==C5 or RB7(R37)==EW or RB7(R37)==HW
endfunction
function RGD takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())==1848652103 or GetUnitTypeId(GetTriggerUnit())==1848652099 or GetUnitTypeId(GetTriggerUnit())==1848652088 or GetUnitTypeId(GetTriggerUnit())==1848651828)and IsUnitIllusion(GetTriggerUnit())==false
endfunction
function RHD takes nothing returns nothing
local location RID
if ZL7(GetOwningPlayer(GetTriggerUnit()))then
set RID=GetRectCenter(ED)
else
set RID=GetRectCenter(L9)
endif
if RFD(GetEnumItem())==false then
call SetItemPositionLoc(GetEnumItem(),RID)
endif
call RemoveLocation(RID)
set RID=null
endfunction
function RJD takes nothing returns nothing
local integer UL7=GetHandleId(GetOwningPlayer(GetTriggerUnit()))
local unit m7=UE7(UL7,"BearItemHolder")
local unit VD=UE7(UL7,"MyBear")
local integer x
local integer y
if m7==null then
if ZL7(GetOwningPlayer(VD))then
set x=-6390
set y=-5615
else
set x=5875
set y=5000
endif
set m7=CreateUnit(GetOwningPlayer(GetTriggerUnit()),1697657158,x,y,0)
call TX7(UL7,"BearItemHolder",m7)
endif
if RFD(GetEnumItem())==false then
call UnitAddItem(m7,GetEnumItem())
endif
call ShowUnit(m7,true)
set m7=null
set VD=null
endfunction
function VL takes nothing returns nothing
local integer EM9=RB7(GetEnumItem())
if GetWidgetLife(GetEnumItem())>0 and EM9!=X0 then
if D4==true or RZ4==true then
call RHD()
else
call RJD()
endif
else
endif
endfunction
function RKD takes nothing returns nothing
local location Mk=GetUnitLoc(GetTriggerUnit())
local rect RMD=RectFromCenterSizeBJ(Mk,400.00,400.00)
local unit VI=M7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]
call SetHeroXP(VI,(GetHeroXP(VI)-(GetHeroXP(VI)/(125-(25*GetUnitAbilityLevel(VI,1093681461))))),false)
call UnitDamageTargetBJ(GetKillingUnit(),VI,(100.00*I2R(GetUnitAbilityLevel(VI,1093681461))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
call EnumItemsInRectBJ(RMD,function VL)
call RemoveLocation(Mk)
call RemoveRect(RMD)
set Mk=null
set VI=null
set RMD=null
endfunction
function qB takes nothing returns nothing
set d3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(d3,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(d3,Condition(function RGD))
call TriggerAddAction(d3,function RKD)
endfunction
function RND takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())==1311781171 or GetUnitTypeId(GetTriggerUnit())==1311781199 or GetUnitTypeId(GetTriggerUnit())==1311781173 or GetUnitTypeId(GetTriggerUnit())==1311781172)and IsUnitIllusion(GetTriggerUnit())==false
endfunction
function ROD takes nothing returns nothing
local unit VD=UE7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"MyBear")
call KillUnit(VD)
set VD=null
endfunction
function qc takes nothing returns nothing
set d4=CreateTrigger()
call ky(d4,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(d4,Condition(function RND))
call TriggerAddAction(d4,function ROD)
endfunction
function RPD takes nothing returns boolean
return(GetLearnedSkill()==1093681483 or GetLearnedSkill()==1093748313)and IsUnitIllusion(GetTriggerUnit())==false
endfunction
function RQD takes nothing returns nothing
if(GetUnitAbilityLevel(GetTriggerUnit(),1093681483)==1 or GetUnitAbilityLevel(GetTriggerUnit(),1093748313)==1)then
call LP7(GetTriggerUnit(),1093752646)
endif
endfunction
function qC takes nothing returns nothing
set d5=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(d5,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(d5,Condition(function RPD))
call TriggerAddAction(d5,function RQD)
endfunction
function RRD takes nothing returns boolean
if(GetSpellAbilityId()==1093681485 or GetSpellAbilityId()==1093681459 or GetSpellAbilityId()==1093681460 or GetSpellAbilityId()==1093677652 or GetSpellAbilityId()==1093748314 or GetSpellAbilityId()==1093752646)then
return true
elseif GetSpellAbilityId()==1093681483 or GetSpellAbilityId()==1093748313 then
if GetUnitAbilityLevel(GetTriggerUnit(),1093752646)==0 then
call LP7(GetTriggerUnit(),1093752646)
endif
endif
return false
endfunction
function RSD takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0))
endfunction
function RTD takes nothing returns nothing
call IssueImmediateOrderById(GetEnumUnit(),852556)
endfunction
function Vq takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),300.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_FIRE)
endfunction
function VQ takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),450.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_FIRE)
endfunction
function Vr takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),600.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_FIRE)
endfunction
function RUD takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),750.00,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_FIRE)
endfunction
function RVD takes nothing returns boolean
return GetOwningPlayer(GetFilterUnit())==XD4 and GetUnitTypeId(GetFilterUnit())==X94 and LR7(GetFilterUnit())==false
endfunction
function RWD takes player p,integer BG7,real x,real y returns nothing
local group g=CA7()
set XD4=p
set X94=BG7
call GroupEnumUnitsInRange(g,x,y,716,Condition(function RVD))
call ForGroup(g,function RTD)
call CZ7(g)
set g=null
endfunction
function RXD takes nothing returns nothing
local real x=GetUnitX(GetTriggerUnit())
local real y=GetUnitY(GetTriggerUnit())
local group I68
call DisableTrigger(I74)
set V0=true
if(GetSpellAbilityId()==1093681485)then
call DC8("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)
call EE8(GetOwningPlayer(GetTriggerUnit()),3,x,y,500)
set I68=CA7()
call GroupEnumUnitsInRange(I68,x,y,425,Condition(function RSD))
call ForGroup(I68,function Vq)
call RemoveUnit(GetTriggerUnit())
call CZ7(I68)
elseif(GetSpellAbilityId()==1093681459)then
call DC8("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)
call EE8(GetOwningPlayer(GetTriggerUnit()),3,x,y,500)
set I68=CA7()
call GroupEnumUnitsInRange(I68,x,y,435,Condition(function RSD))
call ForGroup(I68,function VQ)
call RemoveUnit(GetTriggerUnit())
call CZ7(I68)
elseif(GetSpellAbilityId()==1093681460)then
call DC8("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)
call EE8(GetOwningPlayer(GetTriggerUnit()),3,x,y,500)
set I68=CA7()
call GroupEnumUnitsInRange(I68,x,y,450,Condition(function RSD))
call ForGroup(I68,function Vr)
call RemoveUnit(GetTriggerUnit())
call CZ7(I68)
elseif(GetSpellAbilityId()==1093748314)then
call DC8("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)
call EE8(GetOwningPlayer(GetTriggerUnit()),3,x,y,500)
set I68=CA7()
call GroupEnumUnitsInRange(I68,x,y,450,Condition(function RSD))
call ForGroup(I68,function RUD)
call RemoveUnit(GetTriggerUnit())
call CZ7(I68)
elseif(GetSpellAbilityId()==1093677652)then
set I68=OQ7(GetOwningPlayer(GetTriggerUnit()),1865429304)
call ForGroup(I68,function RTD)
call DestroyGroup(I68)
set I68=OQ7(GetOwningPlayer(GetTriggerUnit()),1865429042)
call ForGroup(I68,function RTD)
call DestroyGroup(I68)
set I68=OQ7(GetOwningPlayer(GetTriggerUnit()),1865429058)
call ForGroup(I68,function RTD)
call DestroyGroup(I68)
set I68=OQ7(GetOwningPlayer(GetTriggerUnit()),1865429314)
call ForGroup(I68,function RTD)
call DestroyGroup(I68)
endif
if(GetSpellAbilityId()==1093752646)then
set x=GetSpellTargetX()
set y=GetSpellTargetY()
call RWD(GetOwningPlayer(GetTriggerUnit()),1865429304,x,y)
call RWD(GetOwningPlayer(GetTriggerUnit()),1865429042,x,y)
call RWD(GetOwningPlayer(GetTriggerUnit()),1865429058,x,y)
call RWD(GetOwningPlayer(GetTriggerUnit()),1865429314,x,y)
endif
set V0=false
call EnableTrigger(I74)
set I68=null
endfunction
function RYD takes nothing returns nothing
local integer id=GetUnitTypeId(GetTriggerUnit())
local real x=GetUnitX(GetTriggerUnit())
local real y=GetUnitY(GetTriggerUnit())
local group I68
if id==1865429304 then
call DC8("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)
set I68=CA7()
call GroupEnumUnitsInRange(I68,x,y,425,Condition(function RSD))
call ForGroup(I68,function Vq)
call CZ7(I68)
endif
if id==1865429042 then
call DC8("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)
set I68=CA7()
call GroupEnumUnitsInRange(I68,x,y,435,Condition(function RSD))
call ForGroup(I68,function VQ)
call CZ7(I68)
endif
if id==1865429058 then
call DC8("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)
set I68=CA7()
call GroupEnumUnitsInRange(I68,x,y,450,Condition(function RSD))
call ForGroup(I68,function Vr)
call CZ7(I68)
endif
if id==1865429314 then
call DC8("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)
set I68=CA7()
call GroupEnumUnitsInRange(I68,x,y,450,Condition(function RSD))
call ForGroup(I68,function RUD)
call CZ7(I68)
endif
set I68=null
endfunction
function RZD takes nothing returns boolean
local integer id=GetUnitTypeId(GetTriggerUnit())
if id==1865429304 or id==1865429042 or id==1865429058 or id==1865429314 then
call RYD()
endif
return false
endfunction
function qD takes nothing returns nothing
local trigger t=CreateTrigger()
call TD9("Units\\Creeps\\GoblinSapper\\GoblinSapperYesAttack1.wav")
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddAction(t,function RXD)
call TriggerAddCondition(t,Condition(function RRD))
set I74=CreateTrigger()
call D28(I74,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(I74,Condition(function RZD))
set t=null
endfunction
function RAD takes nothing returns boolean
if((GetUnitTypeId(GetTriggerUnit())==1848651855))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())==1848651856))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())==1848651857))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())==1848651854))then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==1865429304 or GetUnitTypeId(GetTriggerUnit())==1865429042 or GetUnitTypeId(GetTriggerUnit())==1865429058 or GetUnitTypeId(GetTriggerUnit())==1865429314 then
if Ab[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]then
endif
endif
return false
endfunction
function RBD takes nothing returns boolean
return((GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit()))and((GetUnitTypeId(GetFilterUnit())==1848651855)or(GetUnitTypeId(GetFilterUnit())==1848651856)or(GetUnitTypeId(GetFilterUnit())==1848651857)or(GetUnitTypeId(GetFilterUnit())==1848651854)))
endfunction
function RCD takes rect r,boolexpr R3D returns group
set CB=CA7()
call GroupEnumUnitsInRect(CB,r,R3D)
call DestroyBoolExpr(R3D)
return CB
endfunction
function R6D takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())==1211117637 or GetUnitTypeId(GetFilterUnit())==1211117639 or GetUnitTypeId(GetFilterUnit())==1211117638 or GetUnitTypeId(GetFilterUnit())==1160786000 or GetUnitTypeId(GetFilterUnit())==1311780930 or GetUnitTypeId(GetFilterUnit())==1430468144 or GetUnitTypeId(GetFilterUnit())==1162032951 or GetUnitTypeId(GetFilterUnit())==1429221456 or GetUnitTypeId(GetFilterUnit())==1160786510 or GetUnitTypeId(GetFilterUnit())==1160786511 or GetUnitTypeId(GetFilterUnit())==1328558390 or GetUnitTypeId(GetFilterUnit())==1328558391 or GetUnitTypeId(GetFilterUnit())==1160786502 or GetUnitTypeId(GetFilterUnit())==1211122767 or GetUnitTypeId(GetFilterUnit())==1311788343 or GetUnitTypeId(GetFilterUnit())==1311788354 or GetUnitTypeId(GetFilterUnit())==1311788355 or GetUnitTypeId(GetFilterUnit())==1311788367 or GetUnitTypeId(GetFilterUnit())==1311788353)and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(IN4))
endfunction
function RLD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit R1D=UE7(OL7,"Mine")
local group g
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call DestroyEffect(AddSpecialEffect("war3mapImported\\NewGroundEX.mdx",GetUnitX(R1D),GetUnitY(R1D)))
call TQ7(OL7)
call U37(t)
else
set g=CA7()
set IN4=R1D
call GroupEnumUnitsInRange(g,GetUnitX(R1D),GetUnitY(R1D),200,Condition(function R6D))
if FirstOfGroup(g)!=null then
call TQ7(OL7)
call U37(t)
call SetUnitExploded(R1D,true)
call KillUnit(R1D)
endif
call CZ7(g)
endif
set t=null
set R1D=null
set g=null
return false
endfunction
function R0D takes nothing returns nothing
local integer OL7=GetHandleId(GetOwningPlayer(GetTriggerUnit()))
local group I68=RCD(bj_mapInitialPlayableArea,Condition(function RBD))
local integer Vu=UQ7(OL7,"GMCount")
local integer VU=0
local unit Vv
local integer VV
local unit KK8
local integer Vw
local integer T8
local integer U8
local trigger t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.4,true)
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function RLD))
call TX7(GetHandleId(t),"Mine",GetTriggerUnit())
set Vu=(Vu+1)
call StartTimerBJ(UH7(OL7,"MineTimer"+I2S(Vu)),false,15000.00)
call TX7(OL7,"GMUnit"+I2S(Vu),GetTriggerUnit())
set VU=CountUnitsInGroup(I68)
if(VU>20)then
set VV=99999
set T8=1
set U8=Vu
loop
exitwhen T8>U8
set KK8=UE7(OL7,"GMUnit"+I2S(T8))
set Vw=R2I(TimerGetRemaining(UH7(OL7,"MineTimer"+I2S(T8))))
if(GetUnitState(KK8,UNIT_STATE_LIFE)>0 and Vw<VV)then
set Vv=KK8
set VV=Vw
endif
set T8=T8+1
endloop
call ExplodeUnitBJ(Vv)
else
call DL8(I2S(VU),1,GetTriggerUnit(),0.027,130,130,130,216)
endif
call TT7(OL7,"GMCount",Vu)
call CZ7(I68)
set t=null
set I68=null
set Vv=null
set KK8=null
endfunction
function R5D takes nothing returns boolean
if GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>0.5 and(GetUnitTypeId(GetFilterUnit())==1848651855 or GetUnitTypeId(GetFilterUnit())==1848651856 or GetUnitTypeId(GetFilterUnit())==1848651857 or GetUnitTypeId(GetFilterUnit())==1848651854)then
set n0=n0+1
endif
return false
endfunction
function R2D takes nothing returns boolean
local group g=CA7()
set n0=0
call GroupEnumUnitsOfPlayer(g,GetTriggerPlayer(),Condition(function R5D))
if n0>0 then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,(GetObjectName((1848657475)))+": "+I2S(n0))
endif
call CZ7(g)
set g=null
return false
endfunction
function qe takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-st",true)
call TriggerAddCondition(t,Condition(function R2D))
set t=CreateTrigger()
call TriggerRegisterEnterRectSimple(t,GetWorldBounds())
call TriggerAddCondition(t,Condition(function RAD))
call TriggerAddAction(t,function R0D)
set t=null
endfunction
function R_D takes nothing returns nothing
local unit CL7=GetTriggerUnit()
local unit HE8=CreateUnit(GetOwningPlayer(CL7),1697656901,GetUnitX(CL7),GetUnitY(CL7),0)
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local integer i=0
local real a=0
local real r=0
local integer HF8=GetUnitAbilityLevel(CL7,1093681745)
call LP7(HE8,1093678406)
call SetUnitAbilityLevel(HE8,1093678406,HF8)
loop
exitwhen i>40
exitwhen IssuePointOrder(HE8,"stampede",x+r*Cos(a),y+r*Sin(a))
set i=i+1
set a=a+0.4
set r=r+10
endloop
call RemoveLocation(l)
set CL7=null
set HE8=null
set l=null
endfunction
function S4D takes nothing returns boolean
if GetSpellAbilityId()==1093681745 then
call R_D()
endif
return false
endfunction
function NY8 takes nothing returns nothing
set d8=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(d8,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(d8,Condition(function S4D))
endfunction
function S7D takes nothing returns boolean
return GetSpellAbilityId()==1093678137 and CY7(GetSpellTargetUnit())==false
endfunction
function S8D takes nothing returns nothing
call UnitDamageTarget(GetTriggerUnit(),GetSpellTargetUnit(),GetUnitAbilityLevel(GetTriggerUnit(),1093678137)*80,true,false,ATTACK_TYPE_HERO,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
endfunction
function NZ8 takes nothing returns nothing
set d9=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(d9,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(d9,Condition(function S7D))
call TriggerAddAction(d9,function S8D)
endfunction
function S9D takes unit u returns boolean
return GetUnitTypeId(u)==1211117638 or GetUnitTypeId(u)==1211117637 or GetUnitTypeId(u)==1211117639 or GetUnitTypeId(u)==1328558391
endfunction
function SDD takes nothing returns nothing
if IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==true then
call HG8(PU,GetEnumUnit(),ZG4,QU/3)
else
call HG8(PU,GetEnumUnit(),ZG4,QU)
endif
endfunction
function SED takes unit EL8,real x,real y,real r,real d returns nothing
local group g=CA7()
set IN4=EL8
call GroupEnumUnitsInRange(g,x,y,r,Condition(function GY8))
set PU=EL8
set QU=d
call ForGroup(g,function SDD)
call CZ7(g)
set g=null
endfunction
function SFD takes nothing returns boolean
if F_8()and RZ7(GetFilterUnit())==false and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit()))then
return true
endif
return false
endfunction
function SGD takes unit CR7 returns unit
local unit p5=null
local group g=CA7()
call GroupEnumUnitsInRange(g,GetUnitX(CR7),GetUnitY(CR7),275,Condition(function SFD))
call GroupRemoveUnit(g,CR7)
set p5=GroupPickRandomUnit(g)
call CZ7(g)
set IN4=p5
set p5=null
set g=null
return IN4
endfunction
function SHD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local integer iX=GetTriggerEvalCount(t)
local unit CR7=UE7(UL7,"Hero")
local unit p5=UE7(UL7,"Source")
local unit m5=UE7(UL7,"Target")
local real SID=UR7(UL7,"Tossx0")
local real SJD=UR7(UL7,"Tossy0")
local real x1=GetUnitX(p5)
local real y1=GetUnitY(p5)
local real x2=GetUnitX(m5)
local real y2=GetUnitY(m5)
local real RK
local real SKD
local real SMD
local real SND
local real Il
local real IL
local location l
if RI7(SID,SJD,x2,y2)>1000 then
set x2=SID
set y2=SJD
endif
set RK=PS7(x1,y1,x2,y2)
set SKD=RI7(x1,y1,x2,y2)
set SMD=SKD/(51-iX)
set SND=(iX-25)*(iX-25)
set Il=x1+SMD*Cos(RK*bj_DEGTORAD)
set IL=y1+SMD*Sin(RK*bj_DEGTORAD)
if iX<51 then
if S9D(p5)==false then
call SetUnitFlyHeight(p5,775-SND,0)
endif
call SetUnitPosition(p5,Il,IL)
else
if S9D(p5)==false then
call SetUnitFlyHeight(p5,GetUnitDefaultFlyHeight(p5),0)
endif
call PauseUnit(p5,false)
call SetUnitPathing(p5,true)
call SetUnitPosition(p5,x2,y2)
call UB7(p5,"Tossed")
set l=Location(x2,y2)
call TerrainDeformationRippleBJ(0.2,true,l,1.00,300.00,96.00,1,64.00)
call RemoveLocation(l)
call DestroyEffect(UK7(UL7,"FX"))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl",GetUnitX(p5),GetUnitY(p5)))
if IsUnitAlly(p5,GetOwningPlayer(CR7))then
else
if(SY7((CR7),ZU[GB4])!=null)then
call HG8(CR7,p5,ZG4,(0.2+0.15*(GetUnitAbilityLevel(CR7,1093682009)+1))*75*GetUnitAbilityLevel(CR7,1093681754))
else
call HG8(CR7,p5,ZG4,(0.2+0.15*GetUnitAbilityLevel(CR7,1093682009))*75*GetUnitAbilityLevel(CR7,1093681754))
endif
endif
call E78(x2,y2,300)
call SED(CR7,x2,y2,300,75*GetUnitAbilityLevel(CR7,1093681754))
call TQ7(UL7)
call U37(t)
endif
set t=null
set CR7=null
set p5=null
set m5=null
set l=null
return false
endfunction
function SOD takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local unit p5=VI4
local unit m5=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call SetUnitAnimationByIndex(CR7,4)
call PauseUnit(p5,true)
call SetUnitPathing(p5,false)
if S9D(p5)==false then
call LP7(p5,1097691750)
call UnitRemoveAbility(p5,1097691750)
endif
call UZ7(p5,"Tossed")
call TX7(UL7,"Hero",CR7)
call TX7(UL7,"Source",p5)
call TX7(UL7,"Target",m5)
call TY7(UL7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl",p5,"origin"))
call TU7(UL7,"Tossx0",GetUnitX(m5))
call TU7(UL7,"Tossy0",GetUnitY(m5))
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function SHD))
set CR7=null
set p5=null
set m5=null
set t=null
endfunction
function SPD takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local unit p5=SGD(CR7)
local unit m5=GetSpellTargetUnit()
set VI4=p5
if p5==null then
call RU7(CR7)
call D78(GetOwningPlayer(CR7),B67(1848656961))
elseif GetOwningPlayer(m5)==GetOwningPlayer(CR7)then
call RU7(CR7)
call D78(GetOwningPlayer(CR7),B67(1848656729))
endif
set CR7=null
set p5=null
set m5=null
endfunction
function SQD takes nothing returns boolean
if GetSpellAbilityId()==1093681754 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST then
call SPD()
else
call SOD()
endif
endif
return false
endfunction
function N38 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function SQD))
set t=null
endfunction
function SRD takes nothing returns nothing
call TM9(1093815115)
endfunction
function SSD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=UE7(OL7,"Source")
local integer CS8
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==EL8 and GetEventDamage()>20. then
set CS8=UQ7(GetHandleId(EL8),"WarClub_Count")
if UX7(EL8,"WarClubState")==false then
call U07(EL8,"WarClubState",.1)
call TT7(GetHandleId(EL8),"WarClub_Count",(CS8+1))
endif
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
else
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set EL8=null
set t=null
return false
endfunction
function STD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer AI7=GetHandleId(t)
local unit H28=UE7(AI7,"Source")
local integer SUD=UQ7(GetHandleId(H28),"WarClub_Count")
call TT7(AI7,"WarClub_Cooldown",1)
call UnitRemoveAbility(H28,1093752391)
if(SY7(H28,ZU[GB4])!=null)then
call LP7(H28,1093752392)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(H28),1093752392,true)
if SUD>5 then
call FlushChildHashtable(L7,AI7)
call U37(t)
endif
set H28=null
set t=null
return false
endfunction
function SVD takes nothing returns nothing
local trigger t
local unit H28=GetAttacker()
local integer AI7=GetHandleId(H28)
local integer SUD=UQ7(AI7,"WarClub_Count")
if SUD<6 then
if not UX7(H28,"WarClubState")then
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,1.,false)
call TriggerAddCondition(t,Condition(function SSD))
call TX7(GetHandleId(t),"Source",H28)
endif
else
call TT7(AI7,"WarClub_Count",(0))
call UnitRemoveAbility(H28,1093752625)
if(UQ7(AI7,"WarClub_Cooldown"))==1 then
set t=UI7(AI7,"WarClub_EndTrig")
call FlushChildHashtable(L7,GetHandleId(t))
call U37(t)
endif
endif
set H28=null
set t=null
endfunction
function WarClub_Attack takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1093752625)>0 then
call SVD()
endif
return false
endfunction
function WarClub_Animation takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
if GetTriggerEvalCount(t)==1 then
call SetUnitTimeScalePercent(EL8,250)
else
call SetUnitTimeScalePercent(EL8,100)
call SetUnitAnimationByIndex(EL8,12)
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set t=null
set EL8=null
return false
endfunction
function SWD takes nothing returns boolean
local trigger t
if GetSpellAbilityId()==1093752392 then
call U07(GetTriggerUnit(),"WarClubCastState",29.9)
call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),1093752392,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),1093752391,true)
call LP7(GetTriggerUnit(),1093752391)
call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),1093752625,false)
call LP7(GetTriggerUnit(),1093752625)
call IssueTargetOrder(GetTriggerUnit(),"grabtree",GetSpellTargetDestructable())
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,30,false)
call TriggerAddCondition(t,Condition(function STD))
call TX7(GetHandleId(t),"Source",GetTriggerUnit())
call TZ7(GetHandleId(GetTriggerUnit()),"WarClub_EndTrig",t)
call TT7(GetHandleId(GetTriggerUnit()),"WarClub_Cooldown",(0))
call TT7(GetHandleId(GetTriggerUnit()),"WarClub_Count",(0))
set t=null
elseif GetSpellAbilityId()==1093815105 then
call RemoveDestructable(GetSpellTargetDestructable())
call ShowUnit(GetTriggerUnit(),false)
call ShowUnit(GetTriggerUnit(),true)
call UnitRemoveAbility(GetTriggerUnit(),1097625443)
call UnitAddAbility(GetTriggerUnit(),1093815106)
call UnitRemoveAbility(GetTriggerUnit(),1093815106)
call UnitAddAbility(GetTriggerUnit(),1093815107)
call UnitRemoveAbility(GetTriggerUnit(),1093815107)
call AddUnitAnimationProperties(GetTriggerUnit(),"upgrade",false)
endif
return false
endfunction
function WarClub_Scan takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
if(SY7((EL8),ZU[GB4])!=null)then
if UX7(EL8,"WarClubCastState")==false then
if GetUnitAbilityLevel(EL8,1093752392)==0 and GetUnitAbilityLevel(EL8,1093752391)==0 then
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093752392,true)
call LP7(EL8,1093752392)
endif
endif
else
call UnitRemoveAbility(EL8,1093752392)
call UnitRemoveAbility(EL8,1093752391)
endif
set t=null
set EL8=null
return false
endfunction
function R29 takes nothing returns nothing
local unit p5=B2
local unit m5=C2
local unit HE8=UE7(GetHandleId(p5),"GrowCaster")
call TX7(GetHandleId(m5),"GrowCaster",HE8)
call SetUnitOwner(HE8,GetOwningPlayer(m5),true)
set p5=null
set m5=null
set HE8=null
endfunction
function LT8 takes nothing returns nothing
local unit CR7=IT4
local unit HE8=UE7(GetHandleId(CR7),"GrowCaster")
if HE8!=null and GetUnitTypeId(HE8)==1697657174 then
call RemoveUnit(HE8)
endif
set CR7=null
set HE8=null
endfunction
function SXD takes nothing returns boolean
return GetLearnedSkill()==1093682009 and IsUnitIllusion(GetTriggerUnit())==false
endfunction
function SYD takes nothing returns nothing
local unit SZD=UE7(GetHandleId(GetTriggeringTrigger()),"Tiny")
local integer BK7=GetUnitAbilityLevel(SZD,1093682009)
if GetUnitState(SZD,UNIT_STATE_LIFE)>1 then
call SetUnitScale(SZD,0.5+0.25*BK7,0.5+0.25*BK7,0.5+0.25*BK7)
endif
set SZD=null
endfunction
function SAD takes nothing returns boolean
local integer BK7
if IsUnitIllusion(GetTriggerUnit())and(GetUnitTypeId(GetTriggerUnit())==1432580716 or GetUnitTypeId(GetTriggerUnit())==1429221720)then
set BK7=GetUnitAbilityLevel(UE7(GetHandleId(GetTriggeringTrigger()),"Tiny"),1093682009)
call SetUnitScale(GetTriggerUnit(),0.5+0.25*BK7,0.5+0.25*BK7,0.5+0.25*BK7)
endif
return false
endfunction
function SBD takes nothing returns nothing
local trigger t
local unit SCD=GetTriggerUnit()
local integer HF8=GetUnitAbilityLevel(SCD,1093682009)
local unit HE8
local unit CL7=GetTriggerUnit()
local region S3D
if HF8==1 then
set HE8=CreateUnit(GetOwningPlayer(CL7),1697657174,0,0,0)
call LP7(HE8,1093742658)
call TX7(GetHandleId(CL7),"GrowCaster",HE8)
else
set HE8=UE7(GetHandleId(CL7),"GrowCaster")
endif
if HF8==2 then
call UnitRemoveAbility(HE8,1093742658)
call LP7(HE8,1093742657)
elseif HF8==3 then
call UnitRemoveAbility(HE8,1093742658)
call UnitRemoveAbility(HE8,1093742657)
call LP7(HE8,1093687891)
endif
call SetPlayerTechResearched(GetOwningPlayer(SCD),1378889797,HF8)
if HF8==1 then
set t=CreateTrigger()
call TriggerAddAction(t,function SYD)
call TriggerRegisterTimerEvent(t,2.00,true)
call TX7(GetHandleId(t),"Tiny",SCD)
call SetUnitScale(SCD,0.5+0.25*HF8,0.5+0.25*HF8,0.5+0.25*HF8)
set t=CreateTrigger()
set S3D=CreateRegion()
call RegionAddRect(S3D,GetWorldBounds())
call TriggerRegisterEnterRegion(t,S3D,Condition(function ZY7))
call TriggerAddCondition(t,Condition(function SAD))
call TX7(GetHandleId(t),"Tiny",SCD)
set t=null
set S3D=null
endif
set SCD=null
set CL7=null
set HE8=null
endfunction
function NB8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function SXD))
call TriggerAddAction(t,function SBD)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function SWD))
call SRD()
set t=null
endfunction
function S6D takes nothing returns boolean
if UX7(GetFilterUnit(),"Tossed")then
call HG8(gB,GetFilterUnit(),ZG4,lB)
endif
return false
endfunction
function SLD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
local real x=UR7(UL7,"x")
local real y=UR7(UL7,"y")
local unit oA=CreateUnit(GetOwningPlayer(CR7),1697656901,x,y,0)
local integer BK7=GetUnitAbilityLevel(CR7,1093684300)
local group g=CA7()
call LP7(oA,1093742666)
call SetUnitAbilityLevel(oA,1093742666,BK7)
set gB=CR7
if BK7==1 then
set lB=25
elseif BK7==2 then
set lB=45
elseif BK7==3 then
set lB=65
elseif BK7==4 then
set lB=75
endif
call GroupEnumUnitsInRange(g,x,y,275+24,Condition(function S6D))
call CZ7(g)
if GetTriggerEvalCount(t)>6 then
call TQ7(UL7)
call U37(t)
endif
set t=null
set CR7=null
set oA=null
set g=null
return false
endfunction
function S1D takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local location l=GetSpellTargetLoc()
local unit oA=CreateUnit(GetOwningPlayer(CR7),1697656901,GetUnitX(CR7),GetUnitY(CR7),0)
local integer BK7=GetUnitAbilityLevel(CR7,1093684300)
call LP7(oA,1093742669)
call SetUnitAbilityLevel(oA,1093742669,BK7)
call IssuePointOrder(oA,"clusterrockets",GetLocationX(l),GetLocationY(l))
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerAddCondition(t,Condition(function SLD))
call TX7(UL7,"Hero",CR7)
call TU7(UL7,"x",GetLocationX(l))
call TU7(UL7,"y",GetLocationY(l))
call TriggerEvaluate(t)
call RemoveLocation(l)
set CR7=null
set l=null
set t=null
set oA=null
endfunction
function S0D takes nothing returns boolean
if GetSpellAbilityId()==1093684300 then
call S1D()
endif
return false
endfunction
function NC8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function S0D))
set t=null
endfunction
function S5D takes nothing returns boolean
local unit EL8=GetTriggerUnit()
local unit O_7=GetAttacker()
local integer HF8=GetUnitAbilityLevel(EL8,1093744977)
local unit HE8
if GetRandomInt(1,100)<=HF8*6 and RH7(EL8,O_7)<325 then
set HE8=CreateUnit(GetOwningPlayer(EL8),1697656901,GetUnitX(O_7),GetUnitY(O_7),0)
call LP7(HE8,1093681750)
call SetUnitAbilityLevel(HE8,1093681750,HF8)
call IssueTargetOrder(HE8,"thunderbolt",O_7)
set HE8=null
endif
set EL8=null
set O_7=null
return false
endfunction
function S2D takes unit p5,boolean B89 returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function S5D))
if B89 then
set nj[GetPlayerId(GetOwningPlayer(p5))]=t
endif
set t=null
set p5=null
endfunction
function S_D takes nothing returns boolean
if GetLearnedSkill()==1093744977 and GetUnitAbilityLevel(GetTriggerUnit(),1093744977)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call S2D(GetTriggerUnit(),false)
endif
return false
endfunction
function N68 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function S_D))
set t=null
endfunction
function T4D takes nothing returns boolean
return GetUnitAbilityLevel(GetAttacker(),1093685040)>0 and UX7(GetAttacker(),"BeastRageTrigger")==false
endfunction
function T7D takes nothing returns nothing
local unit O27=GetAttacker()
local unit O_7=GetTriggerUnit()
local integer OL7=GetHandleId(O27)
local unit T8D=UE7(OL7,"BeastRage|PreviousTarget")
local integer EMD=DR8(UQ7(OL7,"BeastRage|Counter"),0)
local integer HF8=GetUnitAbilityLevel(O27,1093685040)
if T8D!=O_7 then
set EMD=1
else
set EMD=DQ8(EMD+1,2+HF8)
endif
call DP8(O27,1093684826,EMD)
call TT7(OL7,"BeastRage|Counter",EMD)
call TX7(OL7,"BeastRage|PreviousTarget",O_7)
call U07(O27,"BeastRageTrigger",.4)
set O27=null
set O_7=null
set T8D=null
endfunction
function OE8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function T4D))
call TriggerAddAction(t,function T7D)
call DH8(1093684826)
set t=null
endfunction
function T9D takes unit EL8,unit O_7,unit HE8,integer HF8 returns nothing
call SetUnitOwner(HE8,GetOwningPlayer(O_7),false)
call SetUnitAbilityLevel(HE8,1093808463,HF8)
call IssueTargetOrder(HE8,"curse",O_7)
call HG8(EL8,O_7,ZG4,75+50*HF8)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",O_7,"overhead"))
endfunction
function TDD takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),AR4)==false then
call GroupAddUnit(AR4,GetEnumUnit())
call T9D(AO4,GetEnumUnit(),AP4,AS4)
endif
endfunction
function TED takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit HE8=(LoadUnitHandle(L7,(OL7),(19)))
local real x=GetUnitX(EL8)
local real y=GetUnitY(EL8)
local unit TFD=(LoadUnitHandle(L7,(OL7),(675)))
local unit TGD=(LoadUnitHandle(L7,(OL7),(676)))
local real a=(LoadReal(L7,(OL7),(13)))
local real d=(LoadReal(L7,(OL7),(433)))
local integer HF8=(LoadInteger(L7,(OL7),(5)))
local group G3D=(LoadGroupHandle(L7,(OL7),(187)))
local group g=CA7()
if GetTriggerEvalCount(t)<=50 then
set a=a+20
set d=d+7
call SaveReal(L7,(OL7),(13),((a)*1.0))
call SaveReal(L7,(OL7),(433),((d)*1.0))
elseif GetTriggerEvalCount(t)<=100 then
set a=a+20
set d=d-7
call SaveReal(L7,(OL7),(13),((a)*1.0))
call SaveReal(L7,(OL7),(433),((d)*1.0))
endif
call SetUnitX(TFD,DD8(x+d*Cos(a*bj_DEGTORAD)))
call SetUnitY(TFD,DE8(y+d*Sin(a*bj_DEGTORAD)))
set a=a+180
call SetUnitX(TGD,DD8(x+d*Cos(a*bj_DEGTORAD)))
call SetUnitY(TGD,DE8(y+d*Sin(a*bj_DEGTORAD)))
set IN4=EL8
set AO4=EL8
set AP4=HE8
set AR4=G3D
set AS4=HF8
call GroupEnumUnitsInRange(g,GetUnitX(TFD),GetUnitY(TFD),125,Condition(function FW8))
call ForGroup(g,function TDD)
set IN4=EL8
call GroupEnumUnitsInRange(g,GetUnitX(TGD),GetUnitY(TGD),125,Condition(function FW8))
call ForGroup(g,function TDD)
call CZ7(g)
if GetTriggerEvalCount(t)>100 then
call KillUnit(TFD)
call KillUnit(TGD)
call KillUnit(HE8)
call CZ7(G3D)
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set t=null
set EL8=null
set TFD=null
set TGD=null
set HE8=null
return false
endfunction
function THD takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local real x=GetUnitX(EL8)
local real y=GetUnitY(EL8)
local unit TFD=CreateUnit(GetOwningPlayer(EL8),1697657433,x,y,0)
local unit TGD=CreateUnit(GetOwningPlayer(EL8),1697657433,x,y,0)
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit HE8=CreateUnit(GetOwningPlayer(EL8),1697656901,x,y,0)
call UnitAddAbility(HE8,1093808463)
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(19),(HE8))
call SaveUnitHandle(L7,(OL7),(675),(TFD))
call SaveUnitHandle(L7,(OL7),(676),(TGD))
call SaveReal(L7,(OL7),(13),((0)*1.0))
call SaveReal(L7,(OL7),(433),((0)*1.0))
call SaveInteger(L7,(OL7),(5),(GetUnitAbilityLevel(EL8,1093808462)))
call SaveGroupHandle(L7,(OL7),(187),(CA7()))
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerAddCondition(t,Condition(function TED))
set EL8=null
set TFD=null
set TGD=null
set t=null
set HE8=null
endfunction
function TID takes unit EL8,unit O_7,unit HE8,integer HF8 returns nothing
call SetUnitOwner(HE8,GetOwningPlayer(O_7),false)
call SetUnitAbilityLevel(HE8,1093808464,HF8)
call IssueTargetOrder(HE8,"slow",O_7)
call HG8(EL8,O_7,ZG4,75)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",O_7,"overhead"))
endfunction
function TJD takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),AR4)==false and AQ4!=null and LR7(AQ4)==false then
call GroupAddUnit(AR4,GetEnumUnit())
call TID(AO4,GetEnumUnit(),AP4,AS4)
endif
endfunction
function TKD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local real x=(LoadReal(L7,(OL7),(6)))
local real y=(LoadReal(L7,(OL7),(7)))
local unit TFD=(LoadUnitHandle(L7,(OL7),(393)))
local unit TGD=(LoadUnitHandle(L7,(OL7),(394)))
local unit TMD=(LoadUnitHandle(L7,(OL7),(395)))
local unit TND=(LoadUnitHandle(L7,(OL7),(396)))
local unit TOD=(LoadUnitHandle(L7,(OL7),(397)))
local real a=(LoadReal(L7,(OL7),(13)))-12.5
local real d=(LoadReal(L7,(OL7),(433)))
local integer HF8=(LoadInteger(L7,(OL7),(5)))
local unit AH9
local group g
local group G3D=(LoadGroupHandle(L7,(OL7),(187)))
local unit HE8=(LoadUnitHandle(L7,(OL7),(19)))
set d=d+900/20.0
call SaveReal(L7,(OL7),(433),((d)*1.0))
call SetUnitX(TFD,DD8(x+d*Cos(a*bj_DEGTORAD)))
call SetUnitY(TFD,DE8(y+d*Sin(a*bj_DEGTORAD)))
set a=a+6.25
call SetUnitX(TGD,DD8(x+d*Cos(a*bj_DEGTORAD)))
call SetUnitY(TGD,DE8(y+d*Sin(a*bj_DEGTORAD)))
set a=a+6.25
call SetUnitX(TMD,DD8(x+d*Cos(a*bj_DEGTORAD)))
call SetUnitY(TMD,DE8(y+d*Sin(a*bj_DEGTORAD)))
set a=a+6.25
call SetUnitX(TND,DD8(x+d*Cos(a*bj_DEGTORAD)))
call SetUnitY(TND,DE8(y+d*Sin(a*bj_DEGTORAD)))
set a=a+6.25
call SetUnitX(TOD,DD8(x+d*Cos(a*bj_DEGTORAD)))
call SetUnitY(TOD,DE8(y+d*Sin(a*bj_DEGTORAD)))
set AO4=EL8
set AP4=HE8
set AR4=G3D
set AS4=HF8
set AH9=TFD
if AH9!=null and LR7(AH9)==false then
set x=GetUnitX(AH9)
set y=GetUnitY(AH9)
set AQ4=AH9
set IN4=EL8
set g=CA7()
call GroupEnumUnitsInRange(g,x,y,125,Condition(function FW8))
call ForGroup(g,function TJD)
call CZ7(g)
endif
set AH9=TGD
if AH9!=null and LR7(AH9)==false then
set x=GetUnitX(AH9)
set y=GetUnitY(AH9)
set AQ4=AH9
set IN4=EL8
set g=CA7()
call GroupEnumUnitsInRange(g,x,y,125,Condition(function FW8))
call ForGroup(g,function TJD)
call CZ7(g)
endif
set AH9=TMD
if AH9!=null and LR7(AH9)==false then
set x=GetUnitX(AH9)
set y=GetUnitY(AH9)
set AQ4=AH9
set IN4=EL8
set g=CA7()
call GroupEnumUnitsInRange(g,x,y,125,Condition(function FW8))
call ForGroup(g,function TJD)
call CZ7(g)
endif
set AH9=TND
if AH9!=null and LR7(AH9)==false then
set x=GetUnitX(AH9)
set y=GetUnitY(AH9)
set AQ4=AH9
set IN4=EL8
set g=CA7()
call GroupEnumUnitsInRange(g,x,y,125,Condition(function FW8))
call ForGroup(g,function TJD)
call CZ7(g)
endif
set AH9=TOD
if AH9!=null and LR7(AH9)==false then
set x=GetUnitX(AH9)
set y=GetUnitY(AH9)
set AQ4=AH9
set IN4=EL8
set g=CA7()
call GroupEnumUnitsInRange(g,x,y,125,Condition(function FW8))
call ForGroup(g,function TJD)
call CZ7(g)
endif
if GetTriggerEvalCount(t)>20 then
call KillUnit(TFD)
call KillUnit(TGD)
call KillUnit(TMD)
call KillUnit(TND)
call KillUnit(TOD)
call KillUnit(HE8)
call CZ7(G3D)
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set t=null
set EL8=null
set TFD=null
set TGD=null
set TMD=null
set TND=null
set TOD=null
set HE8=null
return false
endfunction
function TPD takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local real x0=GetUnitX(EL8)
local real y0=GetUnitY(EL8)
local real x1=GetSpellTargetX()
local real y1=GetSpellTargetY()
local real a=PS7(x0,y0,x1,y1)
local unit TFD=CreateUnit(GetOwningPlayer(EL8),1697657434,x0,y0,a-12.5)
local unit TGD=CreateUnit(GetOwningPlayer(EL8),1697657434,x0,y0,a-6.25)
local unit TMD=CreateUnit(GetOwningPlayer(EL8),1697657434,x0,y0,a)
local unit TND=CreateUnit(GetOwningPlayer(EL8),1697657434,x0,y0,a+6.25)
local unit TOD=CreateUnit(GetOwningPlayer(EL8),1697657434,x0,y0,a+12.5)
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit HE8=CreateUnit(GetOwningPlayer(EL8),1697656901,x0,y0,0)
call UnitAddAbility(HE8,1093808464)
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(19),(HE8))
call SaveUnitHandle(L7,(OL7),(393),(TFD))
call SaveUnitHandle(L7,(OL7),(394),(TGD))
call SaveUnitHandle(L7,(OL7),(395),(TMD))
call SaveUnitHandle(L7,(OL7),(396),(TND))
call SaveUnitHandle(L7,(OL7),(397),(TOD))
call SaveReal(L7,(OL7),(6),((x0)*1.0))
call SaveReal(L7,(OL7),(7),((y0)*1.0))
call SaveReal(L7,(OL7),(433),((0)*1.0))
call SaveReal(L7,(OL7),(13),((a)*1.0))
call SaveGroupHandle(L7,(OL7),(187),(CA7()))
call SaveInteger(L7,(OL7),(5),(GetUnitAbilityLevel(EL8,1093808461)))
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerAddCondition(t,Condition(function TKD))
set EL8=null
set TFD=null
set TGD=null
set TMD=null
set TND=null
set TOD=null
set t=null
set HE8=null
endfunction
function TQD takes nothing returns boolean
if GetSpellAbilityId()==1093808461 then
call TPD()
elseif GetSpellAbilityId()==1093808462 then
call THD()
endif
return false
endfunction
function TRD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local integer HF8=GetUnitAbilityLevel(EL8,1093808460)
local player p=(LoadPlayerHandle(L7,(OL7),(54)))
if GetUnitTypeId(EL8)==1311781175 or GetUnitTypeId(EL8)==1311781442 then
if((LoadInteger(L7,(GetHandleId((EL8))),((4416))))==1)==false or p!=GetOwningPlayer(EL8)then
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093808462,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093808461,false)
call SaveInteger(L7,(GetHandleId((EL8))),((4416)),(1))
call SaveInteger(L7,(GetHandleId((EL8))),((4417)),(2))
if p!=GetOwningPlayer(EL8)then
call SavePlayerHandle(L7,(OL7),(54),(GetOwningPlayer(EL8)))
endif
endif
if GetUnitAbilityLevel(EL8,1093808462)!=HF8 then
call SetUnitAbilityLevel(EL8,1093808462,HF8)
endif
elseif GetUnitTypeId(EL8)==1311781174 then
if((LoadInteger(L7,(GetHandleId((EL8))),((4417))))==1)==false or p!=GetOwningPlayer(EL8)then
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093808462,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093808461,true)
call SaveInteger(L7,(GetHandleId((EL8))),((4417)),(1))
call SaveInteger(L7,(GetHandleId((EL8))),((4416)),(2))
if p!=GetOwningPlayer(EL8)then
call SavePlayerHandle(L7,(OL7),(54),(GetOwningPlayer(EL8)))
endif
endif
if GetUnitAbilityLevel(EL8,1093808461)!=HF8 then
call SetUnitAbilityLevel(EL8,1093808461,HF8)
endif
endif
set t=null
set EL8=null
return false
endfunction
function TSD takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
call LP7(EL8,1093808462)
call LP7(EL8,1093808461)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093808462,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093808461,false)
call SaveInteger(L7,(GetHandleId((EL8))),((4416)),(2))
call SaveInteger(L7,(GetHandleId((EL8))),((4417)),(2))
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function TRD))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SavePlayerHandle(L7,(OL7),(54),(GetOwningPlayer(EL8)))
set t=null
set EL8=null
endfunction
function TTD takes nothing returns boolean
if GetLearnedSkill()==1093808460 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093808460)==1 then
call TSD()
endif
return false
endfunction
function OF8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function TTD))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function TQD))
set t=null
endfunction
function TUD takes nothing returns nothing
if GetEnumUnit()==GetTriggerUnit()then
call FE8(GetEnumUnit(),1093687365,R64,R34,1110454338)
else
call FE8(GetEnumUnit(),1093687365,R64,R34,1110454338)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),1093687365,false)
endfunction
function TVD takes nothing returns nothing
local group g=CA7()
set R64=GetUnitAbilityLevel(GetTriggerUnit(),1093748042)
set R34=10
call GroupEnumUnitsInRange(g,0,0,9999,Condition(function G38))
call ForGroup(g,function TUD)
call CZ7(g)
set g=null
endfunction
function TWD takes nothing returns boolean
if GetSpellAbilityId()==1093748042 then
call TVD()
endif
return false
endfunction
function OG8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function TWD))
set t=null
endfunction
function TXD takes nothing returns boolean
return GetSpellAbilityId()==1093681733
endfunction
function TYD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
call FlushChildHashtable(L7,(OL7))
call U37(t)
call SetUnitAbilityLevel(EL8,1093679429,GetUnitAbilityLevel(EL8,1093681733))
call UnitRemoveAbility(EL8,1110456665)
set t=null
set EL8=null
return false
endfunction
function TZD takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function TYD))
set t=null
set EL8=null
endfunction
function O98 takes nothing returns nothing
set Dc=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Dc,EVENT_PLAYER_UNIT_SPELL_FINISH)
call TriggerRegisterAnyUnitEventBJ(Dc,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(Dc,Condition(function TXD))
call TriggerAddAction(Dc,function TZD)
endfunction
function TAD takes nothing returns boolean
return GetLearnedSkill()==1093681733 and IsUnitIllusion(GetTriggerUnit())==false
endfunction
function TBD takes nothing returns nothing
call SetUnitAbilityLevel(GetTriggerUnit(),1093679429,GetUnitAbilityLevel(GetTriggerUnit(),1093681733))
endfunction
function OD8 takes nothing returns nothing
set DC=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(DC,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(DC,Condition(function TAD))
call TriggerAddAction(DC,function TBD)
endfunction
function TCD takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit T3D=UE7(GetHandleId(t),"MeldTarget")
call UnitRemoveAbility(T3D,1093685827)
call TQ7(GetHandleId(t))
call DestroyTimer(t)
set T3D=null
set t=null
endfunction
function T6D takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local timer t2=null
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
local unit T3D=GetTriggerUnit()
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==CR7 then
call DestroyTrigger(t)
call HG8(CR7,T3D,ZH4,50*GetUnitAbilityLevel(CR7,1093685846))
call DL8(I2S(50*GetUnitAbilityLevel(CR7,1093685846)),1.,T3D,0.03,255,0,0,255)
set t2=CreateTimer()
call LP7(T3D,1093685827)
call SetUnitAbilityLevel(T3D,1093685827,GetUnitAbilityLevel(CR7,1093685846))
call TX7(GetHandleId(t2),"MeldTarget",T3D)
call TimerStart(t2,10,false,function TCD)
endif
else
call DestroyTrigger(t)
endif
set T3D=null
set CR7=null
set t2=null
set t=null
endfunction
function TLD takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local trigger t2=null
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
local real x=UR7(UL7,"x")
local real y=UR7(UL7,"y")
local unit T1D=null
local real jUv=9999
local unit T3D=GetOrderTargetUnit()
if GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER and IsUnitEnemy(GetOrderTargetUnit(),GetOwningPlayer(CR7))and(GetIssuedOrderId()==OrderId("attack")or GetIssuedOrderId()==OrderId("smart"))then
if RI7(x,y,GetUnitX(T3D),GetUnitY(T3D))<(145+50*GetUnitAbilityLevel(CR7,1093685839))then
call UnitRemoveAbility(CR7,1110456395)
call B07(t)
if IsUnitType(GetOrderTargetUnit(),UNIT_TYPE_STRUCTURE)==false then
set t2=CreateTrigger()
call TriggerRegisterUnitEvent(t2,T3D,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t2,2,false)
set UL7=GetHandleId(t2)
call TX7(UL7,"Hero",CR7)
call TriggerAddAction(t2,function T6D)
endif
endif
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_CAST or GetTriggerEventId()==EVENT_UNIT_DEATH then
call UnitRemoveAbility(CR7,1110456395)
call B07(t)
else
if x!=GetUnitX(CR7)or y!=GetUnitY(CR7)then
call UnitRemoveAbility(CR7,1110456395)
call B07(t)
endif
endif
set T1D=null
set CR7=null
set t2=null
set t=null
set T3D=null
endfunction
function T0D takes nothing returns nothing
local unit CL7=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call DestroyEffect(AddSpecialEffectTarget("effects\\PurpleAura.mdx",CL7,"origin"))
call E98(aO,GetUnitX(CL7),GetUnitY(CL7))
call TriggerRegisterTimerEvent(t,0.2,true)
call TriggerRegisterUnitEvent(t,CL7,EVENT_UNIT_SPELL_CAST)
call TriggerRegisterUnitEvent(t,CL7,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,CL7,EVENT_UNIT_ISSUED_TARGET_ORDER)
call TriggerAddAction(t,function TLD)
call TX7(UL7,"Hero",CL7)
call TU7(UL7,"x",GetUnitX(CL7))
call TU7(UL7,"y",GetUnitY(CL7))
call IssueImmediateOrder(CL7,"holdposition")
set t=null
set CL7=null
endfunction
function T5D takes nothing returns boolean
if GetSpellAbilityId()==1093685846 then
call T0D()
endif
return false
endfunction
function SO8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function T5D))
set t=null
endfunction
function T2D takes nothing returns boolean
local unit CR7=GetTriggerUnit()
local integer UL7=GetHandleId(CR7)
local integer T_D=UQ7(UL7,"RefractionPrevent_Remaining")
if T_D>0 and GetTriggerEventId()!=EVENT_UNIT_DEATH then
if GetEventDamage()>5 then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\PriestMissile\\PriestMissile.mdl",CR7,"right hand"))
call DW8(CR7,GetEventDamage())
call TT7(UL7,"RefractionPrevent_Remaining",T_D-1)
endif
else
call UnitRemoveAbility(CR7,1093685838)
call UnitRemoveAbility(CR7,1110456394)
call TT7(UL7,"RefractionPrevent_Remaining",0)
endif
set CR7=null
return false
endfunction
function U4D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local unit CL7=UE7(GetHandleId(t),"Hero")
local integer OL7=GetHandleId(CL7)
local integer DM9=UQ7(OL7,"RefractionDamage_Remaining")
if GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED and GetAttacker()==CL7 and IsUnitAlly(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))==false)then
if GetTriggerEventId()!=EVENT_UNIT_DEATH and DM9>0 and GetEventDamage()>0 then
call TT7(OL7,"RefractionDamage_Remaining",DM9-1)
else
call UnitRemoveAbility(CL7,1093685830)
call UnitRemoveAbility(CL7,1093685837)
call UnitRemoveAbility(CL7,1110456393)
call TT7(OL7,"RefractionDamage_Remaining",0)
endif
endif
set t=null
set CL7=null
return false
endfunction
function U7D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local unit CL7=UE7(GetHandleId(t),"Hero")
local integer OL7=GetHandleId(CL7)
call TT7(OL7,"RefractionPrevent_Remaining",0)
call TT7(OL7,"RefractionDamage_Remaining",0)
call UnitRemoveAbility(CL7,1093685830)
call UnitRemoveAbility(CL7,1093685837)
call UnitRemoveAbility(CL7,1093685838)
call TQ7(GetHandleId(t))
call U37(t)
set t=null
set CL7=null
return false
endfunction
function U8D takes nothing returns nothing
local unit CL7=GetTriggerUnit()
local integer OL7=GetHandleId(CL7)
local trigger t=CreateTrigger()
call TriggerRegisterTimerEvent(t,17,false)
call TriggerAddCondition(t,Condition(function U7D))
call TX7(GetHandleId(t),"Hero",CL7)
call E98(DP,GetUnitX(CL7),GetUnitY(CL7))
call LP7(CL7,1093685838)
call TT7(OL7,"RefractionPrevent_Remaining",GetUnitAbilityLevel(CL7,1093748033)+2)
call LP7(CL7,1093685830)
call SetUnitAbilityLevel(CL7,1093685830,GetUnitAbilityLevel(CL7,1093748033))
call LP7(CL7,1093685837)
call TT7(OL7,"RefractionDamage_Remaining",GetUnitAbilityLevel(CL7,1093748033)+2)
set CL7=null
set t=null
endfunction
function U9D takes unit CL7,boolean B89 returns nothing
local trigger t
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,CL7,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,CL7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function T2D))
call TT7(GetHandleId(CL7),"RefractionPrevent_Remaining",0)
if B89 then
set rj[GetPlayerId(GetOwningPlayer(CL7))]=t
endif
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterUnitEvent(t,CL7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function U4D))
call TX7(GetHandleId(t),"Hero",CL7)
call TT7(GetHandleId(CL7),"RefractionDamage_Remaining",0)
if B89 then
set Ej[GetPlayerId(GetOwningPlayer(CL7))]=t
endif
set t=null
set CL7=null
endfunction
function UDD takes nothing returns boolean
if GetLearnedSkill()==1093748033 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093748033)==1 then
call U9D(GetTriggerUnit(),false)
endif
return false
endfunction
function UED takes nothing returns boolean
if GetSpellAbilityId()==1093748033 then
call U8D()
endif
return false
endfunction
function SP8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function UED))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function UDD))
set t=null
endfunction
function UFD takes unit u,real wP,real wq,real wQ,real wr,real wR returns boolean
local real ws=wQ-wP
local real wS=wr-wq
local real wt=GetUnitX(u)-wP
local real wT=GetUnitY(u)-wq
return wR>=RAbsBJ(ws*wT-wS*wt)/ RAbsBJ(Pow(Pow(ws,2)+Pow(wS,2),0.5))
endfunction
function UGD takes unit p5,unit m5,real DV8,real wU,real wv returns nothing
local integer HF8=GetUnitAbilityLevel(p5,1093685839)
local real wV=(300+20*HF8)*2
local real ww=80+25
local unit wW
local real dx
local real dy
local real wx
local real x
local real y
local group g=CA7()
local boolean wX
local boolean wy
set dx=GetUnitX(m5)-GetUnitX(p5)
set dy=GetUnitY(m5)-GetUnitY(p5)
set wx=Pow(Pow(dx,2)+Pow(dy,2),0.5)
set x=GetUnitX(m5)+(wV/ 2-25)*(dx/ wx)
set y=GetUnitY(m5)+(wV/ 2-25)*(dy/ wx)
set IN4=p5
set IJ4=DV8
call GroupEnumUnitsInRange(g,x,y,Pow(Pow(wV/ 2,2)+Pow(ww/ 2,2),0.5),Condition(function FW8))
call GroupRemoveUnit(g,m5)
set wW=FirstOfGroup(g)
loop
exitwhen wW==null
set wX=UFD(wW,GetUnitX(p5),GetUnitY(p5),GetUnitX(m5),GetUnitY(m5),ww/ 2)
set wy=UFD(wW,x,y,x-100,y+100*x*Pow(y,-1),0.01+wV/ 2)
if wX and wy then
call HG8(p5,wW,ZI4,DV8)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\PriestMissile\\PriestMissile.mdl",wW,"chest"))
endif
call GroupRemoveUnit(g,wW)
set wW=FirstOfGroup(g)
endloop
call CZ7(g)
set wW=null
set g=null
endfunction
function UHD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit m5=UE7(UL7,"Target")
local unit p5=UE7(UL7,"Source")
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==p5 and GetEventDamage()>1 and IsUnitIllusion(m5)==false then
call DisableTrigger(t)
call UGD(p5,m5,GetEventDamage(),UR7(UL7,"InitX"),UR7(UL7,"InitY"))
call TQ7(UL7)
call U37(t)
endif
else
call TQ7(UL7)
call U37(t)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function UID takes nothing returns nothing
local trigger t=CreateTrigger()
local unit m5=GetTriggerUnit()
local unit p5=GetAttacker()
local integer UL7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,2.0,false)
call TriggerAddCondition(t,Condition(function UHD))
call TX7(UL7,"Target",m5)
call TX7(UL7,"Source",p5)
call TU7(UL7,"InitX",GetUnitX(p5))
call TU7(UL7,"InitY",GetUnitY(p5))
set m5=null
set p5=null
set t=null
endfunction
function UJD takes nothing returns nothing
local unit p5=GetAttacker()
if UX7(p5,"VorpalCooldown")==false then
call U07(p5,"VorpalCooldown",0.4)
call UID()
endif
set p5=null
endfunction
function UKD takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1093685839)>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==UE7(GetHandleId(GetTriggeringTrigger()),"Hero")then
call UJD()
endif
return false
endfunction
function UMD takes nothing returns nothing
local trigger t
if GetUnitAbilityLevel(GetTriggerUnit(),1093685839)==1 then
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function UKD))
call TX7(GetHandleId(t),"Hero",GetTriggerUnit())
endif
call SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()),1382379618,GetUnitAbilityLevel(GetTriggerUnit(),1093685839))
set t=null
endfunction
function UND takes nothing returns boolean
if GetLearnedSkill()==1093685839 and IsUnitIllusion(GetTriggerUnit())==false then
call UMD()
endif
return false
endfunction
function SQ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function UND))
set t=null
endfunction
function UOD takes unit u returns nothing
local unit CR7=M7[GetPlayerId(GetOwningPlayer(u))]
local integer UL7=GetHandleId(CR7)
local integer w3
local integer i
local integer x
local unit w4
if GetUnitTypeId(CR7)!=1160786265 then
return
endif
set w3=UQ7(UL7,"TrapMax")
set i=1
loop
exitwhen i>w3
set w4=UE7(UL7,"Trap"+I2S(i))
if w4==u then
set x=i
loop
exitwhen x==w3
call TX7(UL7,"Trap"+I2S(x),UE7(UL7,"Trap"+I2S(x+1)))
set x=x+1
endloop
set i=w3
endif
set i=i+1
endloop
call TT7(UL7,"TrapMax",w3-1)
set w4=null
set CR7=null
endfunction
function UPD takes unit u returns nothing
local unit CR7=M7[GetPlayerId(GetOwningPlayer(u))]
local integer UL7=GetHandleId(CR7)
local integer w3=UQ7(UL7,"TrapMax")
call SaveReal(L7,(GetHandleId(u)),(786),(((TimerGetElapsed(W)))*1.0))
set w3=w3+1
call TX7(UL7,"Trap"+I2S(w3),u)
call TT7(UL7,"TrapMax",w3)
if Ab[GetPlayerId(GetOwningPlayer(CR7))]then
call SelectUnitAddForPlayer(u,GetOwningPlayer(CR7))
endif
set CR7=null
endfunction
function UQD takes nothing returns nothing
call UOD(GetTriggerUnit())
endfunction
function URD takes unit u returns nothing
local integer w8=GetUnitAbilityLevel(u,1093685840)*3+2
local integer UL7=GetHandleId(u)
local integer w3=UQ7(UL7,"TrapMax")
local unit w4=UE7(UL7,"Trap1")
if w3==w8 then
call UOD(w4)
call RemoveUnit(w4)
endif
set w4=null
endfunction
function USD takes nothing returns nothing
local unit oA=CreateUnit(GetOwningPlayer(GetTriggerUnit()),1697656901,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)
call LP7(oA,1093685845)
call SetUnitAbilityLevel(oA,1093685845,IY7)
call IssueTargetOrder(oA,"slow",GetEnumUnit())
set oA=null
endfunction
function UTD takes nothing returns nothing
local unit p5=GetTriggerUnit()
local real x=GetUnitX(p5)
local real y=GetUnitY(p5)
local group g=CA7()
local real BY8=(LoadReal(L7,(GetHandleId(p5)),(786)))
local real UUD=(TimerGetElapsed(W))-BY8
local integer HF8=1
if UUD>4 then
set HF8=5
elseif UUD>3 then
set HF8=4
elseif UUD>2 then
set HF8=3
elseif UUD>1 then
set HF8=2
endif
set IY7=HF8
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl",x,y))
call GroupEnumUnitsInRange(g,x,y,400,Condition(function G48))
call ForGroup(g,function USD)
call CZ7(g)
call UOD(p5)
call RemoveUnit(p5)
set g=null
set p5=null
endfunction
function UVD takes unit u returns nothing
call IssueImmediateOrder(u,"locustswarm")
endfunction
function UWD takes nothing returns boolean
return GetOwningPlayer(GetFilterUnit())==IR4 and GetUnitTypeId(GetFilterUnit())==1697657392
endfunction
function UXD takes nothing returns nothing
local real UYD=RI7(GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),IJ4,IK4)
local real UZD=RI7(GetUnitX(IN4),GetUnitY(IN4),IJ4,IK4)
if UYD<UZD then
set IN4=GetEnumUnit()
endif
endfunction
function UAD takes nothing returns nothing
local group g=CA7()
set IR4=GetOwningPlayer(GetTriggerUnit())
call GroupEnumUnitsInRange(g,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),9000,Condition(function UWD))
set IN4=FirstOfGroup(g)
set IJ4=GetUnitX(GetTriggerUnit())
set IK4=GetUnitY(GetTriggerUnit())
call ForGroup(g,function UXD)
call UVD(IN4)
call CZ7(g)
set g=null
endfunction
function UBD takes nothing returns nothing
call LP7(GetTriggerUnit(),1093685844)
endfunction
function UCD takes nothing returns nothing
local location l=GetSpellTargetLoc()
call LP7(GetTriggerUnit(),1093685844)
call URD(GetTriggerUnit())
call UPD(CreateUnit(GetOwningPlayer(GetTriggerUnit()),1697657392,GetLocationX(l),GetLocationY(l),0))
call RemoveLocation(l)
set l=null
endfunction
function U3D takes nothing returns boolean
if GetSpellAbilityId()==1093685840 then
call UCD()
endif
if GetSpellAbilityId()==1093685844 then
call UAD()
endif
return false
endfunction
function U6D takes nothing returns boolean
if GetSpellAbilityId()==1093685841 then
call UTD()
endif
return false
endfunction
function ULD takes nothing returns boolean
if GetLearnedSkill()==1093685840 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093685840)==1 then
call UBD()
endif
return false
endfunction
function U1D takes nothing returns boolean
if GetUnitTypeId(GetDyingUnit())==1697657392 then
call UQD()
endif
return false
endfunction
function SR8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function U3D))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function U1D))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function U6D))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function ULD))
set t=null
endfunction
function U0D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call UnitRemoveAbility(p5,1093750323)
call UnitRemoveAbility(p5,1093750326)
call UnitRemoveAbility(p5,1093750327)
call UnitRemoveAbility(p5,1110459208)
call TQ7(UL7)
call U37(t)
elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
if GetTriggerUnit()==p5 and GetSpellAbilityId()==1093750841 and TimerGetElapsed(W)>UR7(UL7,"OriginalTime")then
call TQ7(UL7)
call U37(t)
elseif E79(GetSpellAbilityId())and p5==GetSpellTargetUnit()then
call UnitRemoveAbility(p5,1093750323)
call UnitRemoveAbility(p5,1093750326)
call UnitRemoveAbility(p5,1093750327)
call UnitRemoveAbility(p5,1110459208)
call TQ7(UL7)
call U37(t)
endif
else
call UnitRemoveAbility(p5,1093750323)
call UnitRemoveAbility(p5,1093750326)
call UnitRemoveAbility(p5,1093750327)
call UnitRemoveAbility(p5,1110459208)
call TQ7(UL7)
call U37(t)
endif
set t=null
set p5=null
return false
endfunction
function U5D takes nothing returns nothing
local unit p5=GetAttacker()
local integer UL7=GetHandleId(p5)
local integer BK7=GetUnitAbilityLevel(p5,1093750841)
local integer Y59=UQ7(UL7,"Count")
local integer U2D=2+BK7
local trigger t=null
set Y59=Y59+1
call TT7(UL7,"Count",Y59)
if Y59>=U2D then
call UnitRemoveAbility(p5,1093750323)
call UnitRemoveAbility(p5,1093750326)
call UnitRemoveAbility(p5,1093750327)
call UnitRemoveAbility(p5,1110459208)
set t=UI7(UL7,"OverpowerEndTrig")
call TQ7(GetHandleId(t))
call U37(t)
set t=null
endif
set p5=null
endfunction
function U_D takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1110459208)>0 then
call U5D()
endif
return false
endfunction
function V4D takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local integer BK7=GetUnitAbilityLevel(p5,1093750841)
call LP7(p5,1093750323)
call LP7(p5,1093750326)
call LP7(p5,1093750327)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750326,false)
call TriggerRegisterTimerEvent(t,15,false)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function U0D))
call TZ7(GetHandleId(p5),"OverpowerEndTrig",t)
call TT7(GetHandleId(p5),"Count",0)
call TX7(UL7,"Source",p5)
call TU7(UL7,"OriginalTime",(TimerGetElapsed(W)+1)*1.0)
set t=null
set p5=null
endfunction
function V7D takes nothing returns boolean
if GetSpellAbilityId()==1093750841 then
call V4D()
endif
return false
endfunction
function NL8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function V7D))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function U_D))
call DH8(1093750323)
set t=null
endfunction
function V8D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=UE7(OL7,"Source")
local integer HF8=GetUnitAbilityLevel(EL8,1093684291)
local integer PP9
local integer V9D
if GetTriggerEventId()==EVENT_UNIT_DEATH or GetUnitAbilityLevel(EL8,1110454856)==0 or(GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT and EL8==GetSpellTargetUnit()and E79(GetSpellAbilityId()))then
call TQ7(OL7)
call U37(t)
call UnitRemoveAbility(EL8,1110454856)
call HN8(EL8,0)
else
set PP9=R2I(GetUnitState(EL8,UNIT_STATE_LIFE)*(0.04+0.01*HF8))
set V9D=UQ7(OL7,"LastBonus")
if PP9!=V9D then
call TT7(OL7,"LastBonus",PP9)
call HN8(EL8,PP9)
endif
endif
set t=null
set EL8=null
return false
endfunction
function VDD takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DEATH)
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function V8D))
call TX7(UL7,"Source",GetTriggerUnit())
call TT7(UL7,"LastBonus",0)
set t=null
endfunction
function VED takes nothing returns boolean
if GetSpellAbilityId()==1093684291 then
call VDD()
endif
return false
endfunction
function VFD takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1110454856)>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))==false and GetUnitAbilityLevel(GetTriggerUnit(),1093678162)==0 then
endif
return false
endfunction
function N18 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function VED))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function VFD))
set t=null
endfunction
function VGD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local unit m5=UE7(UL7,"Target")
local real VHD=UR7(UL7,"rRealX1")
local real x2=UR7(UL7,"x2")
local real VID=UR7(UL7,"rRealY1")
local real y2=UR7(UL7,"y2")
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\DeathPact\\DeathPactTarget.mdl",p5,"origin"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\DeathPact\\DeathPactTarget.mdl",m5,"origin"))
call SetUnitPosition(p5,x2,y2)
call U07(m5,"4407",1)
call SetUnitPosition(m5,VHD,VID)
call TQ7(UL7)
call U37(t)
set t=null
set p5=null
set m5=null
return false
endfunction
function VJD takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local real VHD=GetUnitX(p5)
local real VID=GetUnitY(p5)
local real x2=GetUnitX(m5)
local real y2=GetUnitY(m5)
local trigger t
local integer UL7
if IsUnitAlly(p5,GetOwningPlayer(m5))==true or CY7(GetSpellTargetUnit())==false then
set t=CreateTrigger()
set UL7=GetHandleId(t)
call TX7(UL7,"Source",p5)
call TX7(UL7,"Target",m5)
call TU7(UL7,"rRealX1",(VHD)*1.0)
call TU7(UL7,"x2",(x2)*1.0)
call TU7(UL7,"rRealY1",(VID)*1.0)
call TU7(UL7,"y2",(y2)*1.0)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function VGD))
call D68("SPLK",VHD,VID,x2,y2,0.5,0,1,1,0.3)
call E78(VHD,VID,300)
call E78(x2,y2,300)
endif
set p5=null
set m5=null
set t=null
endfunction
function VKD takes nothing returns boolean
if GetSpellAbilityId()==1093683534 or GetSpellAbilityId()==1093747031 then
call VJD()
endif
return false
endfunction
function VMD takes nothing returns nothing
if(IsTerrainPathable(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),PATHING_TYPE_WALKABILITY))then
call RU7(GetTriggerUnit())
call D78(GetOwningPlayer(GetTriggerUnit()),(GetObjectName((1848652610))))
endif
endfunction
function VND takes nothing returns boolean
if GetSpellAbilityId()==1093683534 or GetSpellAbilityId()==1093747031 then
call VMD()
endif
return false
endfunction
function N08 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function VKD))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function VND))
set t=null
endfunction
function VOD takes unit HE8,real x,real y,integer BK7 returns nothing
call SetUnitPosition(HE8,x,y)
if GetPlayerController(GetOwningPlayer(HE8))==MAP_CONTROL_COMPUTER then
call UnitAddAbility(HE8,1093681488)
call SetUnitAbilityLevel(HE8,1093681488,BK7)
endif
call IssueImmediateOrder(HE8,"howlofterror")
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\HowlOfTerror\\HowlCaster.mdl",x,y))
set HE8=null
endfunction
function VPD takes nothing returns boolean
if(IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),1113815395)>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit())))and IsUnitInGroup(GetFilterUnit(),p0)==false then
call GroupAddUnit(p0,GetFilterUnit())
if GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>R04 then
call SetUnitState(GetFilterUnit(),UNIT_STATE_LIFE,GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)-(R04))
else
call HG8(Q0,GetFilterUnit(),ZG4,R04*1.33)
endif
endif
return false
endfunction
function VQD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local unit HE8=UE7(UL7,"Caster")
local real l4=UR7(UL7,"Angle")
local real x=UR7(UL7,"x")
local real y=UR7(UL7,"y")
local integer BK7=UQ7(UL7,"Level")
local group AF9=UJ7(UL7,"AlreadyDamaged")
local group g
if GetTriggerEvalCount(t)>10 then
call CZ7(AF9)
call TQ7(UL7)
call U37(t)
else
set p0=AF9
set Q0=p5
set R04=BK7*20+10
set IN4=p5
set g=CA7()
call GroupEnumUnitsInRange(g,x,y,325,Condition(function VPD))
call CZ7(g)
set g=null
call VOD(HE8,x,y,BK7)
if ModuloInteger(GetTriggerEvalCount(t),2)==0 then
call KillUnit(CreateUnit(GetOwningPlayer(p5),1697657409,x,y,0))
endif
set x=DD8(x+200*Cos(l4*bj_DEGTORAD))
set y=DE8(y+200*Sin(l4*bj_DEGTORAD))
call TU7(UL7,"x",x*1.0)
call TU7(UL7,"y",y*1.0)
endif
set t=null
set p5=null
set HE8=null
set AF9=null
return false
endfunction
function VRD takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x1=GetUnitX(p5)
local real y1=GetUnitY(p5)
local real x2=GetLocationX(l)
local real y2=GetLocationY(l)
local real l4=PS7(x1,y1,x2,y2)
local integer BK7=GetUnitAbilityLevel(p5,1093744463)
local unit HE8=CreateUnit(GetOwningPlayer(p5),1697656901,x1,y1,0)
call LP7(HE8,1093681488)
call SetUnitAbilityLevel(HE8,1093681488,BK7)
call RemoveLocation(l)
call TX7(UL7,"Source",p5)
call TX7(UL7,"Caster",HE8)
call TT7(UL7,"Level",BK7)
call TU7(UL7,"x",x1*1.0)
call TU7(UL7,"y",y1*1.0)
call TU7(UL7,"Angle",l4*1.0)
call TL7(UL7,"AlreadyDamaged",CA7())
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function VQD))
set t=null
set p5=null
set l=null
set HE8=null
endfunction
function VSD takes nothing returns boolean
if GetSpellAbilityId()==1093744463 then
call VRD()
endif
return false
endfunction
function N58 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function VSD))
set t=null
endfunction
function VTD takes nothing returns nothing
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareMissile.mdl",GetTriggerUnit(),"weapon"))
endfunction
function VUD takes nothing returns boolean
if GetSpellAbilityId()==1093677633 then
call VTD()
endif
return false
endfunction
function N28 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerAddCondition(t,Condition(function VUD))
call D28(t,EVENT_PLAYER_UNIT_SPELL_CAST)
set t=null
endfunction
function VVD takes nothing returns boolean
return(GetSpellAbilityId()==(1093683779)or GetSpellAbilityId()==(1093677616)or GetSpellAbilityId()==(1093810503)or GetSpellAbilityId()==(1093810504)or(GetUnitPointValue(GetTriggerUnit())==500))and GetUnitAbilityLevel(GetTriggerUnit(),(1093684789))>0
endfunction
function VWD takes nothing returns nothing
local real VXD=GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)
local real VYD=0.03+0.02*GetUnitAbilityLevel(GetTriggerUnit(),1093684789)
local real B29=VXD*VYD
call UnitDamageTarget(GetTriggerUnit(),GetEnumUnit(),B29,true,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\ForkedLightning\\ForkedLightningTarget.mdl",GetEnumUnit(),"overhead"))
endfunction
function VZD takes nothing returns boolean
return GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false
endfunction
function VAD takes nothing returns nothing
local location L28=GetUnitLoc(GetTriggerUnit())
local group C89=CA7()
local real x=GetLocationX(L28)
local real y=GetLocationY(L28)
local boolexpr QWD=Condition(function VZD)
call GroupEnumUnitsInRange(C89,x,y,1025,QWD)
call ForGroup(C89,function VWD)
call RemoveLocation(L28)
call CZ7(C89)
call DestroyBoolExpr(QWD)
set L28=null
set C89=null
set QWD=null
endfunction
function N_8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function VVD))
call TriggerAddAction(t,function VAD)
set t=null
endfunction
function VBD takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and J98(GetUnitTypeId(GetFilterUnit()))==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GH7))==true
endfunction
function VCD takes nothing returns nothing
local real x=GetUnitX(GetEnumUnit())
local real y=GetUnitY(GetEnumUnit())
local unit S07=CreateUnit(GetOwningPlayer(GH7),1697656880,x,y,0)
call UnitAddAbility(S07,1093678419)
call SetUnitAbilityLevel(S07,1093678419,GI7)
call IssueTargetOrder(S07,"chainlightning",GetEnumUnit())
call UnitApplyTimedLife(S07,1112820806,3)
call UnitAddAbility(S07,1097625443)
if(GetPlayerController(GetOwningPlayer(S07))==MAP_CONTROL_COMPUTER)then
call IssueTargetOrderById(S07,852119,GetEnumUnit())
endif
set S07=null
endfunction
function V3D takes nothing returns nothing
local group g=CA7()
set GH7=GetTriggerUnit()
if GetSpellAbilityId()==1093810503 then
set GI7=GetUnitAbilityLevel(GetTriggerUnit(),1093810503)+4
else
set GI7=GetUnitAbilityLevel(GetTriggerUnit(),1093810504)+7
endif
call GroupEnumUnitsInRect(g,bj_mapInitialPlayableArea,Condition(function VBD))
call ForGroup(g,function VCD)
call CZ7(g)
set g=null
endfunction
function V6D takes nothing returns boolean
if GetSpellAbilityId()==1093810503 or GetSpellAbilityId()==1093810504 then
call V3D()
endif
return false
endfunction
function O48 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function V6D))
set t=null
endfunction
function VLD takes nothing returns boolean
return GetSpellAbilityId()==1093683779 and CY7(GetSpellTargetUnit())==false
endfunction
function V1D takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local unit oA=CreateUnit(GetOwningPlayer(CR7),1697656880,GetUnitX(m5),GetUnitY(m5),0)
call LP7(oA,1093678419)
call SetUnitAbilityLevel(oA,1093678419,GetUnitAbilityLevel(CR7,1093683779))
call IssueTargetOrderById(oA,852119,m5)
call UnitApplyTimedLife(oA,1112820806,3)
call SetUnitPathing(oA,false)
call LP7(oA,1097625443)
if(GetPlayerController(GetOwningPlayer(oA))==MAP_CONTROL_COMPUTER)then
call R97(0.01)
call IssueTargetOrderById(oA,852119,m5)
endif
set CR7=null
set m5=null
set oA=null
endfunction
function O78 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function VLD))
call TriggerAddAction(t,function V1D)
set t=null
endfunction
function V0D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local unit HE8=UE7(UL7,"Caster")
call SetUnitX(HE8,GetUnitX(p5))
call SetUnitY(HE8,GetUnitY(p5))
if GetTriggerEvalCount(t)>80 then
call TQ7(UL7)
call U37(t)
endif
set t=null
set p5=null
set HE8=null
return false
endfunction
function V5D takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local unit HE8=CreateUnit(GetOwningPlayer(p5),1697657411,GetUnitX(p5),GetUnitY(p5),0)
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call LP7(HE8,1093748301)
call SetUnitAbilityLevel(HE8,1093748301,GetUnitAbilityLevel(p5,1093677616))
call IssueTargetOrder(HE8,"chainlightning",m5)
call UnitApplyTimedLife(HE8,1112820806,10)
call TX7(UL7,"Source",p5)
call TX7(UL7,"Caster",HE8)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function V0D))
set p5=null
set m5=null
set HE8=null
set t=null
endfunction
function V2D takes nothing returns boolean
if GetSpellAbilityId()==1093677616 and CY7(GetSpellTargetUnit())==false then
call V5D()
endif
return false
endfunction
function O88 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerAddCondition(t,Condition(function V2D))
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
set t=null
endfunction
function V_D takes nothing returns boolean
return GetSpellAbilityId()==(1093683507)and(IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))or CY7(GetSpellTargetUnit())==false)
endfunction
function WU takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
local real DV8=UR7(UL7,"Damage")
call UnitDamageTarget(CR7,CR7,DV8,false,true,ATTACK_TYPE_HERO,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
call TQ7(UL7)
call PauseTimer(t)
call DestroyTimer(t)
set t=null
set CR7=null
endfunction
function W4D takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local real DV8=25+25*GetUnitAbilityLevel(CR7,1093683507)
local timer t=CreateTimer()
local integer UL7=GetHandleId(t)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl",m5,"origin"))
if IsUnitAlly(m5,GetOwningPlayer(CR7))and GetUnitState(m5,UNIT_STATE_LIFE)>1. then
call SetUnitState(m5,UNIT_STATE_LIFE,GetUnitState(m5,UNIT_STATE_LIFE)+2*DV8)
else
call UnitDamageTarget(CR7,m5,2*DV8,false,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
endif
call TX7(UL7,"Hero",CR7)
call TU7(UL7,"Damage",DV8)
call TimerStart(t,0,false,function WU)
set CR7=null
set m5=null
set t=null
endfunction
function QX8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function V_D))
call TriggerAddAction(t,function W4D)
set t=null
endfunction
function WV takes nothing returns nothing
local unit oA=CreateUnit(GetOwningPlayer(MB),1697656901,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)
call LP7(oA,1093684554)
call SetUnitAbilityLevel(oA,1093684554,IH4)
call IssueTargetOrder(oA,"forkedlightning",GetEnumUnit())
set oA=null
endfunction
function W7D takes unit p5,unit m5,integer BK7 returns nothing
local group g=CA7()
set IN4=p5
set IH4=BK7
set MB=p5
call GroupEnumUnitsInRange(g,GetUnitX(m5),GetUnitY(m5),700,Condition(function G78))
call ForGroup(g,function WV)
call CZ7(g)
set g=null
endfunction
function WW takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local real W8D=UR7(OL7,"Life")
local unit EL8
local unit O_7=UE7(OL7,"Target")
local integer HF8
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if UX7(GetTriggerUnit(),"BorrowedTime|Active")==false then
if W8D<GetEventDamage()then
set EL8=UE7(OL7,"Source")
set HF8=UQ7(OL7,"Level")
call DestroyEffect(UK7(OL7,"FX"))
call TW7(GetHandleId(O_7),"AphoticShield|Active",false)
call TQ7(OL7)
call U37(t)
call DW8(GetTriggerUnit(),W8D)
call W7D(EL8,GetTriggerUnit(),HF8)
set GZ[256+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=false
elseif GetEventDamage()>0 then
call DW8(GetTriggerUnit(),GetEventDamage())
call TU7(OL7,"Life",W8D-GetEventDamage())
endif
endif
else
set EL8=UE7(OL7,"Source")
set HF8=UQ7(OL7,"Level")
call TW7(GetHandleId(O_7),"AphoticShield|Active",false)
set GZ[256+GetPlayerId(GetOwningPlayer(UE7(OL7,"AphTarg")))]=false
call DestroyEffect(UK7(OL7,"FX"))
call TQ7(OL7)
call U37(t)
call W7D(EL8,O_7,HF8)
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function W9D takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit O_7=GetSpellTargetUnit()
local unit EL8=GetTriggerUnit()
local integer HF8=GetUnitAbilityLevel(EL8,1093684550)
local integer PRD=GetHandleId(O_7)
local real W8D
if US7(PRD,"AphoticShield|Active")==true then
call TriggerEvaluate(UI7(PRD,"AphoticShield|Trigger"))
endif
call UnitRemoveBuffs(O_7,false,true)
call D59(O_7,0,0)
if HF8==1 then
set W8D=110
elseif HF8==2 then
set W8D=140
elseif HF8==3 then
set W8D=170
else
set W8D=200
endif
call TU7(OL7,"Life",W8D)
call TY7(OL7,"FX",AddSpecialEffectTarget("war3mapImported\\Defensive Barrier big.mdx",O_7,"chest"))
call TX7(OL7,"Source",EL8)
call TT7(OL7,"Level",HF8)
call TX7(OL7,"Target",O_7)
set GZ[256+GetPlayerId(GetOwningPlayer(GetSpellTargetUnit()))]=true
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,15,false)
call TriggerAddCondition(t,Condition(function WW))
call TZ7(PRD,"AphoticShield|Trigger",t)
call TW7(PRD,"AphoticShield|Active",true)
set t=null
set O_7=null
set EL8=null
endfunction
function WDD takes nothing returns boolean
if GetSpellAbilityId()==1093684550 then
call W9D()
endif
return false
endfunction
function WY takes nothing returns nothing
if GetUnitAbilityLevel(GetSpellTargetUnit(),1112433775)>0 then
call RU7(GetTriggerUnit())
call D78(GetOwningPlayer(GetTriggerUnit()),B67(1848652617))
endif
endfunction
function WED takes nothing returns boolean
if GetSpellAbilityId()==1093684550 then
call WY()
endif
return false
endfunction
function s7 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function WED))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function WDD))
set t=null
endfunction
function WFD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
if GetTriggerEventId()==EVENT_UNIT_DEATH or IssueImmediateOrder(CR7,"windwalk")then
call TQ7(UL7)
call U37(t)
endif
set t=null
set CR7=null
return false
endfunction
function WGD takes unit CR7 returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerRegisterUnitEvent(t,CR7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function WFD))
call TX7(UL7,"Hero",CR7)
set t=null
endfunction
function WHD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CL7=GetTriggerUnit()
local integer HF8=GetUnitAbilityLevel(CL7,1093684819)
local integer H98=2+HF8
local real ZP8
if HF8==0 then
set HF8=GetUnitAbilityLevel(CL7,1093747777)
set H98=4+1*HF8
endif
if GetTriggerEventId()==EVENT_UNIT_DAMAGED and UX7(CL7,"BorrowedTime|Active")then
call DW8(CL7,GetEventDamage())
call DW8(CL7,GetEventDamage())
elseif(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and(GetSpellAbilityId()==1093684819 or GetSpellAbilityId()==1093747777))or(GetTriggerEventId()==EVENT_UNIT_DAMAGED and UX7(CL7,"BorrowedTime|CD")==false and GetUnitState(CL7,UNIT_STATE_LIFE)<400)then
call TimerStart(N84[GetPlayerId(GetOwningPlayer(CL7))],70-10*HF8,false,null)
call U07(CL7,"BorrowedTime|Active",H98)
call U07(CL7,"BorrowedTime|CD",70-10*HF8)
call UnitRemoveBuffs(CL7,false,true)
call D59(CL7,0,0)
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
call DisableTrigger(t)
set GJ7=true
if IssueImmediateOrder(CL7,"windwalk")==false then
call WGD(CL7)
endif
set GJ7=false
call EnableTrigger(t)
endif
call DB8("Abilities\\Spells\\Undead\\Unsummon\\UnsummonTarget.mdl",CL7,"origin",H98)
endif
set t=null
set CL7=null
return false
endfunction
function WID takes unit CR7,boolean B89 returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterUnitEvent(t,CR7,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,CR7,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function WHD))
if B89 then
set Vj[GetPlayerId(GetOwningPlayer(CR7))]=t
endif
set t=null
endfunction
function WJD takes nothing returns boolean
if(GetLearnedSkill()==1093684819 or GetLearnedSkill()==1093747777)and IsUnitIllusion(GetTriggerUnit())==false and(GetUnitAbilityLevel(GetTriggerUnit(),1093684819)==1 or GetUnitAbilityLevel(GetTriggerUnit(),1093747777)==1)then
call WID(GetTriggerUnit(),false)
endif
return false
endfunction
function QZ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function WJD))
set t=null
endfunction
function WKD takes nothing returns boolean
return GetUnitAbilityLevel(GetTriggerUnit(),(1110455862))>0 or GetUnitAbilityLevel(GetAttacker(),(1093684551))>0
endfunction
function WMD takes nothing returns nothing
local unit ZE8=GetAttacker()
local unit m5=GetTriggerUnit()
local unit WND
local integer BK7=GetUnitAbilityLevel(ZE8,(1093684551))
local unit HE8=CreateUnit(GetOwningPlayer(ZE8),1697656901,GetUnitX(ZE8),GetUnitY(ZE8),0)
if BK7>0 then
call TT7(GetHandleId(m5),"MarkOfTheAbyss|Level",BK7)
else
set BK7=UQ7(GetHandleId(m5),"MarkOfTheAbyss|Level")
endif
if IsUnitEnemy(m5,GetOwningPlayer(ZE8))==true then
call LP7(HE8,(1093684552))
call SetUnitAbilityLevel(HE8,(1093684552),BK7)
call IssueTargetOrder(HE8,"bloodlust",ZE8)
endif
set ZE8=null
set m5=null
set WND=null
set HE8=null
endfunction
function QY8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function WKD))
call TriggerAddAction(t,function WMD)
set t=null
endfunction
function WOD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local integer HF8=(LoadInteger(L7,(OL7),(5)))
local integer CS8=(LoadInteger(L7,(OL7),(34)))
local real B29
local integer H98
local unit B28
if HF8==1 then
set B29=15
set H98=10
elseif HF8==2 then
set B29=21
set H98=13
elseif HF8==3 then
set B29=27
set H98=16
elseif HF8==4 then
set B29=33
set H98=19
endif
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetTriggerEvalCount(t)>1 and GetSpellAbilityId()==1093686065 and CY7(GetSpellTargetUnit())==false and O_7==GetSpellTargetUnit()then
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_DEATH then
set B28=GetKillingUnit()
if IF8(B28)then
set B28=(M7[GetPlayerId(GetOwningPlayer((B28)))])
endif
if GetTriggerUnit()==O_7 or B28==O_7 then
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
call UnitRemoveAbility(O_7,1093752627)
call UnitRemoveAbility(O_7,1110459471)
endif
else
set CS8=CS8+1
call SaveInteger(L7,(OL7),(34),(CS8))
if CS8==H98 then
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
call UnitRemoveAbility(O_7,1093752627)
call UnitRemoveAbility(O_7,1110459471)
endif
call HG8(EL8,O_7,ZG4,B29)
endif
set t=null
set EL8=null
set O_7=null
set B28=null
return false
endfunction
function WPD takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local integer HF8=GetUnitAbilityLevel(EL8,1093686065)
local real WQD
local real JNI
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Demon\\ReviveDemon\\ReviveDemon.mdl",O_7,"overhead"))
call SetPlayerAbilityAvailable(GetOwningPlayer(O_7),1093752627,false)
call LP7(O_7,1093752627)
call TriggerRegisterTimerEvent(t,1,true)
call D28(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function WOD))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveInteger(L7,(OL7),(5),(HF8))
call SaveInteger(L7,(OL7),(34),(0))
call SaveEffectHandle(L7,(OL7),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Other\\SoulBurn\\SoulBurnbuff.mdl",O_7,"overhead")))
set EL8=null
set O_7=null
set t=null
endfunction
function WRD takes nothing returns nothing
if GetUnitAbilityLevel(GetEnumUnit(),1110459471)>0 then
set H37=H37+1
endif
endfunction
function WSD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local group g=CA7()
set IN4=EL8
set H37=0
call GroupEnumUnitsInRange(g,0,0,9999,Condition(function FW8))
call ForGroup(g,function WRD)
call CZ7(g)
if H37==0 then
if GetUnitAbilityLevel(EL8,1110459738)>0 then
call UnitRemoveAbility(EL8,1093812562)
call UnitRemoveAbility(EL8,1093812563)
call UnitRemoveAbility(EL8,1093812565)
call UnitRemoveAbility(EL8,1093812564)
call UnitRemoveAbility(EL8,1093812561)
call UnitRemoveAbility(EL8,1093812560)
call UnitRemoveAbility(EL8,1110459738)
endif
elseif H37==1 then
if GetUnitAbilityLevel(EL8,1093812562)==0 then
call UnitRemoveAbility(EL8,1093812562)
call UnitRemoveAbility(EL8,1093812563)
call UnitRemoveAbility(EL8,1093812565)
call UnitRemoveAbility(EL8,1093812564)
call UnitRemoveAbility(EL8,1093812561)
call UnitRemoveAbility(EL8,1093812560)
call UnitRemoveAbility(EL8,1110459738)
call UnitAddAbility(EL8,1093812562)
endif
elseif H37==2 then
if GetUnitAbilityLevel(EL8,1093812563)==0 then
call UnitRemoveAbility(EL8,1093812562)
call UnitRemoveAbility(EL8,1093812563)
call UnitRemoveAbility(EL8,1093812565)
call UnitRemoveAbility(EL8,1093812564)
call UnitRemoveAbility(EL8,1093812561)
call UnitRemoveAbility(EL8,1093812560)
call UnitRemoveAbility(EL8,1110459738)
call UnitAddAbility(EL8,1093812563)
endif
elseif H37==3 then
if GetUnitAbilityLevel(EL8,1093812565)==0 then
call UnitRemoveAbility(EL8,1093812562)
call UnitRemoveAbility(EL8,1093812563)
call UnitRemoveAbility(EL8,1093812565)
call UnitRemoveAbility(EL8,1093812564)
call UnitRemoveAbility(EL8,1093812561)
call UnitRemoveAbility(EL8,1093812560)
call UnitRemoveAbility(EL8,1110459738)
call UnitAddAbility(EL8,1093812565)
endif
elseif H37==4 then
if GetUnitAbilityLevel(EL8,1093812564)==0 then
call UnitRemoveAbility(EL8,1093812562)
call UnitRemoveAbility(EL8,1093812563)
call UnitRemoveAbility(EL8,1093812565)
call UnitRemoveAbility(EL8,1093812564)
call UnitRemoveAbility(EL8,1093812561)
call UnitRemoveAbility(EL8,1093812560)
call UnitRemoveAbility(EL8,1110459738)
call UnitAddAbility(EL8,1093812564)
endif
elseif H37==5 then
if GetUnitAbilityLevel(EL8,1093812561)==0 then
call UnitRemoveAbility(EL8,1093812562)
call UnitRemoveAbility(EL8,1093812563)
call UnitRemoveAbility(EL8,1093812565)
call UnitRemoveAbility(EL8,1093812564)
call UnitRemoveAbility(EL8,1093812561)
call UnitRemoveAbility(EL8,1093812560)
call UnitRemoveAbility(EL8,1110459738)
call UnitAddAbility(EL8,1093812561)
endif
elseif H37>=6 then
if GetUnitAbilityLevel(EL8,1093812560)==0 then
call UnitRemoveAbility(EL8,1093812562)
call UnitRemoveAbility(EL8,1093812563)
call UnitRemoveAbility(EL8,1093812565)
call UnitRemoveAbility(EL8,1093812564)
call UnitRemoveAbility(EL8,1093812561)
call UnitRemoveAbility(EL8,1093812560)
call UnitRemoveAbility(EL8,1110459738)
call UnitAddAbility(EL8,1093812560)
endif
endif
set t=null
set EL8=null
return false
endfunction
function WTD takes nothing returns boolean
if GetSpellAbilityId()==1093686065 and CY7(GetSpellTargetUnit())==false then
call WPD()
endif
return false
endfunction
function WUD takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function WSD))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093812562,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093812563,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093812565,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093812564,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093812561,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093812560,false)
set t=null
endfunction
function WVD takes nothing returns boolean
if GetLearnedSkill()==1093686065 and GetUnitAbilityLevel(GetTriggerUnit(),1093686065)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call WUD()
endif
return false
endfunction
function OH8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function WTD))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function WVD))
set t=null
endfunction
function WWD takes nothing returns nothing
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",GetEnumUnit(),"origin"))
call HG8(GetTriggerUnit(),GetEnumUnit(),ZH4,GetUnitAbilityLevel(GetTriggerUnit(),1093681974)*35+65)
endfunction
function WXD takes nothing returns nothing
local group g=CA7()
local unit CR7=GetTriggerUnit()
call GroupEnumUnitsInRange(g,GetUnitX(CR7),GetUnitY(CR7),300,Condition(function jF))
call ForGroup(g,function WWD)
call SetUnitAnimation(CR7,"spin")
call EX8(CR7,.6)
call U07(CR7,"WXD",0.7-0.05*GetUnitAbilityLevel(GetTriggerUnit(),1093681974))
call CZ7(g)
set g=null
set CR7=null
endfunction
function WYD takes nothing returns boolean
if GetUnitAbilityLevel(GetTriggerUnit(),1110455120)>0 and IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false and IsUnitType(GetAttacker(),UNIT_TYPE_MECHANICAL)==false and GetUnitAbilityLevel(GetAttacker(),1093678162)==0 and IsUnitAlly(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))==false and GetRandomReal(0,100)<17 and UX7(GetTriggerUnit(),"WXD")==false then
call WXD()
endif
return false
endfunction
function OI8 takes nothing returns nothing
local trigger t=CreateTrigger()
call ky(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function WYD))
set t=null
endfunction
function xC takes nothing returns boolean
return G48()and GetUnitAbilityLevel(GetFilterUnit(),1110454328)==0 and GetUnitAbilityLevel(GetFilterUnit(),1113815395)==0
endfunction
function xd takes integer OL7,integer WZD returns nothing
local integer i=1
loop
exitwhen i>WZD
call DestroyEffect((LoadEffectHandle(L7,(OL7),(2700+i))))
set i=i+1
endloop
endfunction
function WAD takes nothing returns nothing
if((IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetEnumUnit()))!=MAP_CONTROL_USER))then
set hq[640+GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=Bz+1+(.5*GetUnitAbilityLevel(GetTriggerUnit(),1093683510))
set hq[832+GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=Bz+1+(.5*GetUnitAbilityLevel(GetTriggerUnit(),1093683510))
call IssueTargetOrderById(GetEnumUnit(),851971,GM7)
else
call IssueTargetOrderById(GetEnumUnit(),851983,GM7)
endif
endfunction
function xE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local group g=LoadGroupHandle(L7,(OL7),(220))
local unit CL7=LoadUnitHandle(L7,(OL7),(14))
local integer WZD=LoadInteger(L7,(OL7),(365))
local integer HF8=(LoadInteger(L7,(OL7),(5)))
local integer CS8=(LoadInteger(L7,(OL7),(34)))
if GetTriggerEventId()!=EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER and GetTriggerEventId()!=EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER and GetTriggerEventId()!=EVENT_PLAYER_UNIT_ISSUED_ORDER then
set CS8=CS8+1
call SaveInteger(L7,(OL7),(34),(CS8))
if CS8==(4+2*HF8)then
call UnitRemoveAbility(CL7,1093683509)
call CZ7(g)
call xd(OL7,WZD)
call FlushChildHashtable(L7,(OL7))
call U37(t)
else
call DisableTrigger(t)
set GM7=CL7
call ForGroup(g,function WAD)
call EnableTrigger(t)
endif
else
if IsUnitInGroup(GetTriggerUnit(),g)==true and UnitIsSleeping(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1110454328)==0 and GetIssuedOrderId()!=851973 and GJ7==false then
call DisableTrigger(t)
if((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))then
call DisableTrigger(Q04[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call IssueTargetOrderById(GetTriggerUnit(),851971,CL7)
call EnableTrigger(Q04[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
else
call IssueTargetOrderById(GetTriggerUnit(),851983,CL7)
endif
call EnableTrigger(t)
endif
endif
set t=null
set g=null
set CL7=null
return false
endfunction
function xf takes nothing returns nothing
set IH4=IH4+1
call SaveEffectHandle(L7,(tl),(2700+IH4),(AddSpecialEffectTarget("Abilities\\Weapons\\LavaSpawnMissile\\LavaSpawnBirthMissile.mdl",GetEnumUnit(),"chest")))
endfunction
function xF takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit CL7=GetTriggerUnit()
local integer HF8=GetUnitAbilityLevel(CL7,1093683510)
local group g=CA7()
call LP7(CL7,1093683509)
call SetUnitAbilityLevel(CL7,1093683509,HF8)
set IN4=CL7
set GM7=CL7
set IH4=0
set tl=OL7
call GroupEnumUnitsInRange(g,GetUnitX(CL7),GetUnitY(CL7),300,Condition(function xC))
call ForGroup(g,function xf)
call ForGroup(g,function WAD)
call SaveInteger(L7,(OL7),(365),IH4)
call SaveUnitHandle(L7,(OL7),(14),CL7)
call SaveGroupHandle(L7,(OL7),(220),g)
call SaveInteger(L7,(OL7),(5),(HF8))
call SaveInteger(L7,(OL7),(34),(0))
call TriggerRegisterTimerEvent(t,0.25,true)
call D28(t,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)
call D28(t,EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)
call D28(t,EVENT_PLAYER_UNIT_ISSUED_ORDER)
call TriggerAddCondition(t,Condition(function xE))
set t=null
set g=null
set CL7=null
endfunction
function WBD takes nothing returns boolean
if GetSpellAbilityId()==1093683510 then
call xF()
endif
return false
endfunction
function OJ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function WBD))
set t=null
endfunction
function WCD takes nothing returns nothing
call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),1093814595,false)
call FE8(GetEnumUnit(),1093814595,1,6,1110459990)
endfunction
function W3D takes nothing returns boolean
return GetSpellAbilityId()==1093682482 or GetSpellAbilityId()==1093750098
endfunction
function W6D takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local real W8D=GetUnitState(O_7,UNIT_STATE_LIFE)
local integer HF8=GetUnitAbilityLevel(CR7,1093682482)
local unit HE8
local boolean WLD=false
local group g
if HF8==0 then
set HF8=GetUnitAbilityLevel(CR7,1093750098)
set WLD=true
endif
if(W8D<=300 and HF8==1)or(W8D<=450 and HF8==2)or(W8D<=625 and HF8==3)then
if WLD then
endif
call PlaySoundOnUnitBJ(YN,100,O_7)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile.mdl",O_7,"overhead"))
set HE8=CreateUnit(GetOwningPlayer(CR7),1697656901,0,0,0)
call UnitRemoveBuffs(O_7,true,true)
call UnitRemoveAbility(O_7,1097167980)
call UnitDamageTarget(HE8,O_7,100000000.,true,false,ATTACK_TYPE_MELEE,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\AxeUltiMSFX_01.mdx",CR7,"origin"))
set g=CA7()
call GroupEnumUnitsInRange(g,GetUnitX(CR7),GetUnitY(CR7),625,Condition(function GS8))
call ForGroup(g,function WCD)
call CZ7(g)
set g=null
endif
set CR7=null
set O_7=null
set HE8=null
endfunction
function OK8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function W3D))
call TriggerAddAction(t,function W6D)
set t=null
endfunction
function W1D takes nothing returns boolean
return GetSpellAbilityId()==1093683019 and CY7(GetSpellTargetUnit())==false
endfunction
function W0D takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),20+70*GetUnitAbilityLevel(GetTriggerUnit(),1093683019),ATTACK_TYPE_HERO,DAMAGE_TYPE_MAGIC)
if GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)>1 then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+20+70*GetUnitAbilityLevel(GetTriggerUnit(),1093683019))
endif
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl",GetSpellTargetUnit(),"origin"))
endfunction
function W5D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit m5=UE7(UL7,"Target")
local unit p5=UE7(UL7,"Source")
local player p=UG7(UL7,"p")
local integer BK7=UQ7(UL7,"Level")
local unit oA
if GetUnitAbilityLevel(m5,1110454854)==0 then
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093678169,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093816121,false)
call TQ7(UL7)
call U37(t)
elseif GetTriggerEventId()==EVENT_UNIT_ATTACKED and GetTriggerUnit()==m5 then
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093678169,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093816121,false)
if((IsUnitType(GetAttacker(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetAttacker()))==MAP_CONTROL_COMPUTER))then
call IssuePointOrderById(GetAttacker(),851986,GetUnitX(GetAttacker())+GetRandomReal(0,150.)-75.,GetUnitY(GetAttacker())+GetRandomReal(0,150.)-75.)
else
call UnitRemoveAbility(m5,1110454854)
set oA=CreateUnit(p,1697656901,GetUnitX(m5),GetUnitY(m5),0)
call LP7(oA,1093678169)
call SetUnitAbilityLevel(oA,1093678169,BK7)
call IssueTargetOrderById(oA,852227,GetAttacker())
call TQ7(UL7)
call U37(t)
endif
elseif GetTriggerEventId()!=EVENT_UNIT_ATTACKED then
if GetUnitState(m5,UNIT_STATE_LIFE)>21 then
call SetUnitState(m5,UNIT_STATE_LIFE,GetUnitState(m5,UNIT_STATE_LIFE)-20)
else
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093678169,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093816121,false)
call UnitRemoveAbility(m5,1110454854)
call HG8(p5,m5,ZG4,50)
call TQ7(UL7)
call U37(t)
endif
endif
set t=null
set p=null
set oA=null
set m5=null
set p5=null
return false
endfunction
function W2D takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
set UL7=GetHandleId(t)
call TX7(UL7,"Target",m5)
call TX7(UL7,"Source",p5)
call T37(UL7,"p",GetOwningPlayer(p5))
call TT7(UL7,"Level",GetUnitAbilityLevel(p5,1093678169))
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_ATTACKED)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function W5D))
if GetUnitAbilityLevel(m5,1093678169)>0 then
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093678169,false)
call LP7(m5,1093816121)
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093816121,true)
endif
set WU4=true
call HG8(p5,m5,ZH4,0)
set WU4=false
set p5=null
set m5=null
set t=null
endfunction
function W_D takes nothing returns boolean
if GetSpellAbilityId()==1093678169 and RZ7(GetSpellTargetUnit())==false then
call W2D()
endif
return false
endfunction
function X4D takes nothing returns boolean
if GetSpellAbilityId()==1093678169 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true then
if GetOwningPlayer(GetTriggerUnit())!=GetOwningPlayer(GetSpellTargetUnit())and IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))and(US7(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp"))then
call RU7(GetTriggerUnit())
call D78(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848652600))
endif
endif
return false
endfunction
function X7D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
call FlushChildHashtable(L7,(OL7))
call U37(t)
call UnitRemoveAbility(EL8,1110454854)
call UnitRemoveAbility(EL8,1093816121)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093678169,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093816121,false)
set t=null
set EL8=null
return false
endfunction
function X8D takes nothing returns boolean
local trigger t
if GetIssuedOrderId()==String2OrderIdBJ("manashieldon")and GetUnitAbilityLevel(GetTriggerUnit(),1093816121)>0 then
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function X7D))
call SaveUnitHandle(L7,(GetHandleId(t)),(2),(GetTriggerUnit()))
endif
return false
endfunction
function OM8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function W_D))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function X4D))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_ISSUED_ORDER)
call TriggerAddCondition(t,Condition(function X8D))
set t=null
endfunction
function X9D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit p5=UE7(OL7,"Source")
local unit m5=UE7(OL7,"Target")
local real ZP8
local integer CS8=6
local fogmodifier XDD=(LoadFogModifierHandle(L7,(OL7),(42)))
if GetUnitAbilityLevel(p5,1093747769)>0 then
set CS8=8
endif
if GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST then
call FogModifierStop(XDD)
call DestroyFogModifier(XDD)
call TQ7(OL7)
call U37(t)
elseif GetTriggerEvalCount(t)>CS8 then
call FogModifierStop(XDD)
call DestroyFogModifier(XDD)
call TQ7(OL7)
call U37(t)
call RU7(p5)
else
set ZP8=RMinBJ(0.05*GetUnitState(m5,UNIT_STATE_MAX_MANA),GetUnitState(m5,UNIT_STATE_MANA))
if GetUnitAbilityLevel(p5,1093747769)>0 then
set ZP8=RMinBJ(0.1*GetUnitState(m5,UNIT_STATE_MAX_MANA),GetUnitState(m5,UNIT_STATE_MANA))
endif
if ZP8>0 then
call SetUnitState(p5,UNIT_STATE_MANA,GetUnitState(p5,UNIT_STATE_MANA)+ZP8)
call SetUnitState(m5,UNIT_STATE_MANA,GetUnitState(m5,UNIT_STATE_MANA)-ZP8)
endif
endif
set t=null
set p5=null
set m5=null
set XDD=null
return false
endfunction
function XED takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local fogmodifier XDD=CreateFogModifierRadius(GetOwningPlayer(p5),FOG_OF_WAR_VISIBLE,GetUnitX(m5),GetUnitY(m5),350,true,true)
call FogModifierStart(XDD)
call UnitRemoveAbility(m5,1110454854)
call UnitRemoveAbility(m5,1112896368)
call UnitRemoveAbility(m5,1114993524)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(t,Condition(function X9D))
call TX7(UL7,"Source",p5)
call TX7(UL7,"Target",m5)
call SaveFogModifierHandle(L7,(UL7),(42),(XDD))
set p5=null
set m5=null
set t=null
set XDD=null
endfunction
function XFD takes nothing returns boolean
if GetSpellAbilityId()==1093677649 or GetSpellAbilityId()==1093747769 then
call XED()
endif
return false
endfunction
function ON8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function XFD))
set t=null
endfunction
function XGD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local real NYD=(LoadReal(L7,(GetHandleId(O_7)),(789)))
call FlushChildHashtable(L7,(OL7))
call U37(t)
if GetTriggerEventId()==EVENT_WIDGET_DEATH or NYD<(TimerGetElapsed(W))then
call UnitRemoveAbility(O_7,1093816135)
call UnitRemoveAbility(O_7,1093816129)
call UnitRemoveAbility(O_7,1093816134)
call UnitRemoveAbility(O_7,1093816136)
call UnitRemoveAbility(O_7,1110460229)
endif
set t=null
set O_7=null
return false
endfunction
function XHD takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local integer HF8=GetUnitAbilityLevel(EL8,1093816137)
if HF8==1 then
call UnitRemoveAbility(O_7,1110460229)
call UnitRemoveAbility(O_7,1093816129)
call UnitRemoveAbility(O_7,1093816134)
call UnitRemoveAbility(O_7,1093816136)
call LP7(O_7,1093816135)
call UnitMakeAbilityPermanent(O_7,true,1093816132)
call SetPlayerAbilityAvailable(GetOwningPlayer(O_7),1093816135,false)
elseif HF8==2 then
call UnitRemoveAbility(O_7,1110460229)
call UnitRemoveAbility(O_7,1093816135)
call UnitRemoveAbility(O_7,1093816134)
call UnitRemoveAbility(O_7,1093816136)
call LP7(O_7,1093816129)
call UnitMakeAbilityPermanent(O_7,true,1093816133)
call SetPlayerAbilityAvailable(GetOwningPlayer(O_7),1093816129,false)
elseif HF8==3 then
call UnitRemoveAbility(O_7,1110460229)
call UnitRemoveAbility(O_7,1093816135)
call UnitRemoveAbility(O_7,1093816129)
call UnitRemoveAbility(O_7,1093816136)
call LP7(O_7,1093816134)
call UnitMakeAbilityPermanent(O_7,true,1093816131)
call SetPlayerAbilityAvailable(GetOwningPlayer(O_7),1093816134,false)
elseif HF8==4 then
call UnitRemoveAbility(O_7,1110460229)
call UnitRemoveAbility(O_7,1093816135)
call UnitRemoveAbility(O_7,1093816129)
call UnitRemoveAbility(O_7,1093816134)
call LP7(O_7,1093816136)
call UnitMakeAbilityPermanent(O_7,true,1093816130)
call SetPlayerAbilityAvailable(GetOwningPlayer(O_7),1093816136,false)
endif
call TriggerRegisterTimerEvent(t,20,false)
call TriggerRegisterDeathEvent(t,O_7)
call TriggerAddCondition(t,Condition(function XGD))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveReal(L7,(GetHandleId(O_7)),(789),((19.9+(TimerGetElapsed(W)))*1.0))
set t=null
set EL8=null
set O_7=null
endfunction
function XID takes nothing returns boolean
if GetSpellAbilityId()==1093816137 and CY7(GetSpellTargetUnit())==false then
call XHD()
endif
return false
endfunction
function OP8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function XID))
set t=null
endfunction
function XJD takes unit EL8,unit O_7,real XKD returns nothing
call SetUnitState(EL8,UNIT_STATE_LIFE,GetUnitState(EL8,UNIT_STATE_LIFE)+GetUnitState(O_7,UNIT_STATE_MAX_LIFE)*XKD)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\HeroBloodElfBlood.mdl",EL8,"overhead"))
endfunction
function XMD takes nothing returns boolean
if LR7(GetFilterUnit())==false and GetUnitAbilityLevel(GetFilterUnit(),1093684293)>0 and IsUnitEnemy(Y24,GetOwningPlayer(GetFilterUnit()))then
call XJD(GetFilterUnit(),Y24,GetUnitAbilityLevel(GetFilterUnit(),1093684293)*0.1*0.5)
endif
return false
endfunction
function XND takes unit EL8,unit O_7,integer HF8 returns nothing
local group g=CA7()
set Y24=O_7
call GroupEnumUnitsInRange(g,GetUnitX(O_7),GetUnitY(O_7),350,Condition(function XMD))
call CZ7(g)
set Y24=null
set g=null
endfunction
function XOD takes nothing returns boolean
local unit EL8=GetKillingUnit()
local unit O_7=GetTriggerUnit()
local integer HF8=GetUnitAbilityLevel(EL8,1093684293)
if IsUnitIllusion(O_7)==false and IsUnitType(O_7,UNIT_TYPE_STRUCTURE)==false and GetUnitTypeId(O_7)!=1848651852 then
if IsUnitType(O_7,UNIT_TYPE_HERO)==false then
if HF8>0 then
call XJD(EL8,O_7,HF8*0.05+0.05)
endif
else
if HF8>0 then
call XJD(EL8,O_7,HF8*0.1)
else
call XND(EL8,O_7,HF8)
endif
endif
endif
set EL8=null
set O_7=null
return false
endfunction
function OQ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function XOD))
set t=null
endfunction
function xn takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local unit m5=UE7(UL7,"Target")
local integer BK7=UQ7(UL7,"Level")
local real xN=UR7(UL7,"LastX")
local real xo=UR7(UL7,"LastY")
local real x=GetUnitX(m5)
local real y=GetUnitY(m5)
local real d=SquareRoot((xN-x)*(xN-x)+(xo-y)*(xo-y))
local real HED=0.2*BK7*d
local integer QI=UQ7(UL7,"Iteration")
if d>1300 then
set HED=0
endif
if HED>5 then
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",m5,"origin"))
endif
if HED>0 and LR7(m5)==false then
call HG8(p5,m5,ZI4,HED)
endif
call TU7(UL7,"LastX",x)
call TU7(UL7,"LastY",y)
call TT7(UL7,"Iteration",QI+1)
if LR7(m5)then
call TQ7(UL7)
call U37(t)
elseif QI>4*(6+BK7)then
call UnitRemoveAbility(m5,1093683528)
call UnitRemoveAbility(m5,1110456396)
call TQ7(UL7)
call U37(t)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function xp takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local integer BK7=GetUnitAbilityLevel(p5,1093684296)
call LP7(m5,1093683528)
call SetUnitAbilityLevel(m5,1093683528,BK7)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",m5,"chest"))
call TX7(UL7,"Source",p5)
call TX7(UL7,"Target",m5)
call TT7(UL7,"Level",BK7)
call TU7(UL7,"LastX",GetUnitX(m5))
call TU7(UL7,"LastY",GetUnitY(m5))
call TT7(UL7,"Iteration",0)
call TriggerRegisterTimerEvent(t,.25,true)
call TriggerAddCondition(t,Condition(function xn))
call HG8(p5,m5,ZI4,50+100*BK7)
set p5=null
set m5=null
set t=null
endfunction
function XPD takes nothing returns boolean
if GetSpellAbilityId()==1093684296 and CY7(GetSpellTargetUnit())==false then
call xp()
endif
return false
endfunction
function OR8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function XPD))
set t=null
endfunction
function XQD takes nothing returns nothing
local unit HE8
if FX8(GetEnumUnit())==false then
call UnitRemoveAbility(GetEnumUnit(),1110459737)
call UnitShareVision(GetEnumUnit(),GetOwningPlayer(ZR4),true)
else
call UnitShareVision(GetEnumUnit(),GetOwningPlayer(ZR4),true)
if GetUnitAbilityLevel(GetEnumUnit(),1110459737)==0 and GetUnitAbilityLevel(GetEnumUnit(),1110454356)==0 and GetUnitAbilityLevel(GetEnumUnit(),1110454348)==0 then
set HE8=CreateUnit(GetOwningPlayer(ZR4),1697656901,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)
call UnitAddAbility(HE8,1093812552)
call IssueTargetOrder(HE8,"faeriefire",GetEnumUnit())
set HE8=null
endif
endif
endfunction
function XRD takes nothing returns nothing
local real JND=ZS4*0.1+0.1
if LR7(ZR4)==true or IsUnitInGroup(GetEnumUnit(),ZQ4)==false or GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)/GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)>JND or(GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)/GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)>JND/2 and FX8(GetEnumUnit())==true)then
call GroupRemoveUnit(ZP4,GetEnumUnit())
call UnitShareVision(GetEnumUnit(),GetOwningPlayer(ZR4),false)
call UnitRemoveAbility(GetEnumUnit(),1110459737)
endif
endfunction
function XSD takes nothing returns nothing
local real JND
if LR7(ZR4)==false and IsUnitInGroup(GetEnumUnit(),ZP4)==false and IsUnitIllusion(GetEnumUnit())==false then
set JND=ZS4*0.1+0.1
if GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)/GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)<JND and FX8(GetEnumUnit())==false then
call GroupAddUnit(ZP4,GetEnumUnit())
elseif GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)/GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)<JND/2 then
call GroupAddUnit(ZP4,GetEnumUnit())
endif
endif
endfunction
function XTD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local group XUD=(LoadGroupHandle(L7,(OL7),(22)))
local group g=CA7()
local integer HF8=GetUnitAbilityLevel(EL8,1093683512)
set IN4=EL8
set ZR4=EL8
set ZP4=XUD
set ZS4=HF8
call GroupEnumUnitsInRange(g,GetUnitX(EL8),GetUnitY(EL8),25+6000,Condition(function GO8))
call ForGroup(g,function XSD)
set ZQ4=g
call ForGroup(ZP4,function XRD)
call ForGroup(ZP4,function XQD)
if FirstOfGroup(ZP4)==null then
call UnitRemoveAbility(EL8,ZO4[1])
call UnitRemoveAbility(EL8,ZO4[2])
call UnitRemoveAbility(EL8,ZO4[3])
call UnitRemoveAbility(EL8,ZO4[4])
call UnitRemoveAbility(EL8,1093808436)
else
if HF8==1 then
call UnitRemoveAbility(EL8,ZO4[2])
call UnitRemoveAbility(EL8,ZO4[3])
call UnitRemoveAbility(EL8,ZO4[4])
call UnitRemoveAbility(EL8,1110459701)
call UnitRemoveAbility(EL8,1110459700)
call UnitRemoveAbility(EL8,1110459702)
elseif HF8==2 then
call UnitRemoveAbility(EL8,ZO4[1])
call UnitRemoveAbility(EL8,ZO4[3])
call UnitRemoveAbility(EL8,ZO4[4])
call UnitRemoveAbility(EL8,1110455634)
call UnitRemoveAbility(EL8,1110459700)
call UnitRemoveAbility(EL8,1110459702)
elseif HF8==3 then
call UnitRemoveAbility(EL8,ZO4[1])
call UnitRemoveAbility(EL8,ZO4[2])
call UnitRemoveAbility(EL8,ZO4[4])
call UnitRemoveAbility(EL8,1110455634)
call UnitRemoveAbility(EL8,1110459701)
call UnitRemoveAbility(EL8,1110459702)
elseif HF8==4 then
call UnitRemoveAbility(EL8,ZO4[1])
call UnitRemoveAbility(EL8,ZO4[2])
call UnitRemoveAbility(EL8,ZO4[3])
call UnitRemoveAbility(EL8,1110455634)
call UnitRemoveAbility(EL8,1110459701)
call UnitRemoveAbility(EL8,1110459700)
endif
call LP7(EL8,ZO4[HF8])
call LP7(EL8,1093808436)
call UnitMakeAbilityPermanent(EL8,true,ZO4[HF8])
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),ZO4[HF8],false)
endif
call CZ7(g)
set t=null
set EL8=null
set g=null
set XUD=null
return false
endfunction
function XVD takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerAddCondition(t,Condition(function XTD))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveGroupHandle(L7,(OL7),(22),(CA7()))
set t=null
set EL8=null
endfunction
function XWD takes nothing returns boolean
if GetLearnedSkill()==1093683512 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093683512)==1 then
call XVD()
endif
return false
endfunction
function OT8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function XWD))
set ZO4[1]=1093808432
set ZO4[2]=1093808433
set ZO4[3]=1093808434
set ZO4[4]=1093808435
set t=null
endfunction
function XXD takes nothing returns boolean
if GetSpellAbilityId()==1093682499 and GetSpellTargetUnit()!=GetTriggerUnit()and IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))and(US7(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp"))then
call RU7(GetTriggerUnit())
call D78(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848652600))
endif
return false
endfunction
function OS8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function XXD))
set t=null
endfunction
function XYD takes nothing returns boolean
return GetUnitTypeId(GetSummonedUnit())==1865429043
endfunction
function XZD takes nothing returns nothing
local unit xU=GetSummonedUnit()
local unit xv=GetSummoningUnit()
local integer UL7=GetHandleId(xv)
local integer BK7=GetUnitAbilityLevel(xv,1093681735)
local integer xV=UQ7(UL7,"TotalWebs")
local unit xw=UE7(UL7,"Web1")
local integer x=1
set xV=xV+1
call SetUnitVertexColorBJ(xU,100,100,100,80)
call LP7(xU,1097625443)
call TX7(UL7,"Web"+I2S(xV),xU)
if(xV>BK7*2)then
call KillUnit(xw)
loop
exitwhen x==xV
call TX7(UL7,"Web"+I2S(x),UE7(UL7,"Web"+I2S(x+1)))
set x=x+1
endloop
set xV=xV-1
endif
call TT7(UL7,"TotalWebs",xV)
call SetUnitAbilityLevel(xU,1093681734,BK7)
set xU=null
set xv=null
set xw=null
endfunction
function OU8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function XYD))
call TriggerAddAction(t,function XZD)
set t=null
endfunction
function XAD takes unit xv returns nothing
local integer UL7=GetHandleId(xv)
local integer BK7=GetUnitAbilityLevel(xv,1093681735)
local integer xV=UQ7(UL7,"TotalWebs")
local integer x=1
local unit VX
loop
exitwhen x>xV
set VX=UE7(UL7,"Web"+I2S(x))
call SetUnitAbilityLevel(VX,1093681734,BK7)
set x=x+1
endloop
set VX=null
endfunction
function XBD takes nothing returns nothing
local unit XCD=UE7(GetHandleId(GetTriggeringTrigger()),"Spider")
if XCD==null then
call FlushChildHashtable(L7,(GetHandleId(GetTriggeringTrigger())))
call U37(GetTriggeringTrigger())
else
if IsUnitType(XCD,UNIT_TYPE_HERO)==true then
if GetUnitAbilityLevel(XCD,1110454595)>0 then
call LP7(XCD,1093677617)
else
call UnitRemoveAbility(XCD,1093677617)
endif
else
if GetUnitAbilityLevel(XCD,1110454595)>0 then
call LP7(XCD,1093810499)
else
call UnitRemoveAbility(XCD,1093810499)
endif
endif
endif
set XCD=null
endfunction
function X3D takes unit EL8 returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(t,1.50)
call TriggerAddAction(t,function XBD)
call TX7(GetHandleId(t),"Spider",EL8)
set t=null
endfunction
function X6D takes nothing returns boolean
if GetUnitTypeId(GetSummonedUnit())==1848652101 or GetUnitTypeId(GetSummonedUnit())==1848652089 then
call X3D(GetSummonedUnit())
endif
return false
endfunction
function XLD takes unit CR7,boolean B89 returns nothing
local trigger t
if(GetUnitAbilityLevel(CR7,1093681735)==1 or B89)then
call X3D(CR7)
else
call XAD(CR7)
endif
if B89 then
set aj[GetPlayerId(GetOwningPlayer(CR7))]=t
endif
set t=null
endfunction
function X1D takes nothing returns boolean
if GetLearnedSkill()==1093681735 and IsUnitIllusion(GetTriggerUnit())==false then
call XLD(GetTriggerUnit(),false)
endif
return false
endfunction
function OV8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function X1D))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function X6D))
set t=null
endfunction
function X0D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
if GetTriggerEventId()!=EVENT_PLAYER_UNIT_SPELL_EFFECT or(GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT and E79(GetSpellAbilityId())and GetSpellTargetUnit()==CR7)then
if LR7(CR7)==false then
call UnitRemoveAbility(CR7,1093687122)
call UnitRemoveAbility(CR7,1110454597)
endif
call DestroyEffect(UK7(UL7,"FX"))
call TQ7(UL7)
call U37(t)
endif
set t=null
set CR7=null
return false
endfunction
function X5D takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=GetTriggerUnit()
call TriggerRegisterTimerEvent(t,14,false)
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function X0D))
call TX7(UL7,"Hero",CR7)
call TY7(UL7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Items\\VampiricPotion\\VampPotionCaster.mdl",CR7,"origin"))
call LP7(CR7,1093687122)
call SetUnitAbilityLevel(CR7,1093687122,GetUnitAbilityLevel(CR7,1093687121))
call SetPlayerAbilityAvailable(GetOwningPlayer(CR7),1093687122,false)
set t=null
set CR7=null
endfunction
function X2D takes nothing returns boolean
if GetSpellAbilityId()==1093687121 then
call X5D()
endif
return false
endfunction
function OW8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function X2D))
set t=null
endfunction
function X_D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
if GetTriggerEvalCount(t)>300 then
call FlushChildHashtable(L7,(OL7))
call U37(t)
elseif GetUnitAbilityLevel(O_7,1110459703)>0 then
call FlushChildHashtable(L7,(OL7))
call U37(t)
call HG8(EL8,O_7,ZG4,GetUnitAbilityLevel(EL8,1093681736)*75)
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function Y4D takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
call TriggerRegisterTimerEvent(t,0.01,true)
call TriggerAddCondition(t,Condition(function X_D))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
set t=null
set EL8=null
set O_7=null
endfunction
function Y7D takes nothing returns boolean
if GetSpellAbilityId()==1093681736 then
call Y4D()
endif
return false
endfunction
function OX8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function Y7D))
set t=null
endfunction
function Y8D takes nothing returns boolean
return GetSpellAbilityId()==1093678389
endfunction
function Y9D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local unit HE8=(LoadUnitHandle(L7,(OL7),(19)))
local real B29=(LoadReal(L7,(OL7),(20)))
local integer H98=(LoadInteger(L7,(OL7),(188)))
local texttag tt
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
call FlushChildHashtable(L7,(OL7))
call U37(t)
elseif GetEventDamageSource()==HE8 then
set tt=CreateTextTag()
call DL8(I2S(H98),H98,O_7,0.03,127,127,255,255)
call SetTextTagText(tt,"+"+I2S(R2I(B29)),0.025)
call SetTextTagPosUnit(tt,O_7,10)
call SetTextTagColor(tt,255,0,0,255)
call SetTextTagVelocity(tt,0,0.0355)
call SetTextTagFadepoint(tt,2)
call SetTextTagPermanent(tt,false)
call SetTextTagLifespan(tt,2)
if IsUnitVisible(O_7,GetLocalPlayer())or CP7(GetLocalPlayer())then
call SetTextTagVisibility(tt,true)
else
call SetTextTagVisibility(tt,false)
endif
call HG8(EL8,O_7,ZG4,B29)
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set t=null
set EL8=null
set O_7=null
set tt=null
return false
endfunction
function YDD takes nothing returns nothing
local integer HF8=GetUnitAbilityLevel(GetTriggerUnit(),1093678389)
local integer YED=GetRandomInt(1,HF8+1)
local unit YO9=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local location L28=GetUnitLoc(YO9)
local real B29=GetRandomReal(1,200)
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit HE8=CreateUnit(GetOwningPlayer(YO9),1697656901,GetUnitX(YO9),GetUnitY(YO9),0)
if HF8==2 then
set B29=GetRandomReal(50,225)
elseif HF8==3 then
set B29=GetRandomReal(75,250)
elseif HF8==4 then
set B29=GetRandomReal(100,275)
endif
call TriggerRegisterTimerEvent(t,10,false)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function Y9D))
call SaveUnitHandle(L7,(OL7),(2),(YO9))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveUnitHandle(L7,(OL7),(19),(HE8))
call SaveReal(L7,(OL7),(20),((B29)*1.0))
if(HF8==4)then
set YED=GetRandomInt(2,4)
endif
call SaveInteger(L7,(OL7),(188),(YED))
call LP7(HE8,1093678165)
call SetUnitAbilityLevel(HE8,1093678165,YED)
call IssueTargetOrder(HE8,"thunderbolt",O_7)
set t=null
endfunction
function OZ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function Y8D))
call TriggerAddAction(t,function YDD)
endfunction
function YFD takes nothing returns boolean
return GetLearnedSkill()==1095263841 and IsUnitIllusion(GetTriggerUnit())==false
endfunction
function YGD takes nothing returns nothing
if(UnitHasBuffBJ(GetTriggerUnit(),1112504171))then
call UnitRemoveAbility(GetTriggerUnit(),1112504171)
endif
call DisableTrigger(DF)
endfunction
function QV8 takes nothing returns nothing
set DF=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(DF,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(DF,Condition(function YFD))
call TriggerAddAction(DF,function YGD)
endfunction
function YHD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer CF7=GetHandleId(t)
local unit FFD=(LoadUnitHandle(L7,(CF7),(2)))
local real YID=GetUnitState(FFD,UNIT_STATE_LIFE)
call UnitRemoveAbility(FFD,1093751344)
call UnitRemoveAbility(FFD,1110459445)
call HN8(FFD,0)
call HP8(FFD,0)
call SetUnitState(FFD,UNIT_STATE_LIFE,YID)
call FlushChildHashtable(L7,(CF7))
call U37(t)
set t=null
set FFD=null
return false
endfunction
function YJD takes nothing returns nothing
local unit FFD=GetTriggerUnit()
local unit F7D=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer CF7=GetHandleId(t)
local integer RS7=GetUnitAbilityLevel(FFD,1093678161)
local real YKD=GetUnitState(F7D,UNIT_STATE_LIFE)
local real YID=GetUnitState(FFD,UNIT_STATE_LIFE)
local integer YMD=R2I((0.035+0.015*RS7)*YKD)
local integer YND=R2I((0.35+0.15*RS7)*YKD)
call HN8(FFD,YMD)
call HP8(FFD,YND)
call LP7(FFD,1093751344)
call SetUnitState(F7D,UNIT_STATE_LIFE,1)
call HG8(FFD,F7D,ZH4,20)
call HG8(FFD,F7D,ZG4,20)
call HG8(FFD,F7D,ZI4,20)
call SetUnitState(FFD,UNIT_STATE_LIFE,YID+YND)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",F7D,"chest"))
call SaveUnitHandle(L7,(CF7),(2),(FFD))
call TriggerRegisterUnitEvent(t,FFD,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,35,false)
call TriggerAddCondition(t,Condition(function YHD))
set FFD=null
set F7D=null
set t=null
endfunction
function YOD takes nothing returns boolean
if GetSpellAbilityId()==1093678161 and GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)>0.5 and RZ7(GetSpellTargetUnit())==false then
call YJD()
endif
return false
endfunction
function QW8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function YOD))
set t=null
endfunction
function YPD takes integer x returns boolean
return x==1093808454 or x==1093808455 or x==1093743695 or x==1093684805 or x==1093743695 or x==1093747504 or x==1093686082
endfunction
function YQD takes nothing returns boolean
return GetUnitAbilityLevel(GetTriggerUnit(),1110455896)>0 and(BD7(GetSpellAbilityId())or GetSpellAbilityId()==1093685065)and YPD(GetSpellAbilityId())==false and JF8(GetSpellAbilityId())==false
endfunction
function YRD takes nothing returns nothing
local integer UL7=GetHandleId(GetTriggeringTrigger())
local unit CR7=GetTriggerUnit()
local unit x9=UE7(UL7,"Destroyer")
local integer sr=GetUnitAbilityLevel(x9,1093683526)
if GetRandomInt(1,100)<=sr*10 and m9(CR7,x9,1400)then
call SetUnitState(CR7,UNIT_STATE_MANA,GetUnitState(CR7,UNIT_STATE_MANA)+0.25*GetUnitState(CR7,UNIT_STATE_MAX_MANA))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\ReplenishManaCasterOverhead.mdl",CR7,"overhead"))
endif
set CR7=null
set x9=null
endfunction
function YSD takes unit CR7,boolean B89 returns nothing
local integer sr=GetUnitAbilityLevel(CR7,1093683526)
local trigger t
if(sr==1 or B89)then
set t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function YQD))
call TriggerAddAction(t,function YRD)
call TX7(GetHandleId(t),"Destroyer",CR7)
if B89 then
set nj[GetPlayerId(GetOwningPlayer(CR7))]=t
endif
endif
if B89 then
call UnitAddAbility(CR7,1093685068)
if sr>1 then
call UnitAddAbility(CR7,1093685069)
endif
if sr>2 then
call UnitAddAbility(CR7,1093685070)
endif
if sr>3 then
call UnitAddAbility(CR7,1093685064)
endif
else
if(sr==1)then
call LP7(CR7,1093685068)
elseif(sr==2)then
call LP7(CR7,1093685069)
elseif(sr==3)then
call LP7(CR7,1093685070)
elseif(sr==4)then
call LP7(CR7,1093685064)
endif
endif
set t=null
endfunction
function YTD takes nothing returns boolean
if GetLearnedSkill()==1093683526 and IsUnitIllusion(GetTriggerUnit())==false then
call YSD(GetTriggerUnit(),false)
endif
return false
endfunction
function Q28 takes nothing returns nothing
set RJ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(RJ,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(RJ,Condition(function YTD))
endfunction
function XA takes nothing returns boolean
local real d
if GetUnitAbilityLevel(GetTriggerUnit(),1110455897)>0 and GetUnitAbilityLevel(GetEventDamageSource(),1093685065)>0 and UE7(GetHandleId(GetTriggeringTrigger()),"Source")==GetEventDamageSource()then
call UnitRemoveAbility(GetTriggerUnit(),1110455897)
set d=.01*(5+GetUnitAbilityLevel(GetEventDamageSource(),1093685065))*(GetUnitState(GetEventDamageSource(),UNIT_STATE_MANA)+100)
if(IsUnitType(GetTriggerUnit(),UNIT_TYPE_SUMMONED)or IsUnitIllusion(GetTriggerUnit()))and GetUnitTypeId(GetTriggerUnit())!=1848651828 and GetUnitTypeId(GetTriggerUnit())!=1848652088 and GetUnitTypeId(GetTriggerUnit())!=1848652099 and GetUnitTypeId(GetTriggerUnit())!=1848652103 and GetUnitTypeId(GetTriggerUnit())!=1848651861 and GetUnitTypeId(GetTriggerUnit())!=1848651865 and GetUnitTypeId(GetTriggerUnit())!=1848651866 then
set d=d+100*GetUnitAbilityLevel(GetEventDamageSource(),1093685065)
endif
call DL8("+"+I2S(R2I(d)),1,GetTriggerUnit(),.023,191,64,255,216)
if(GetRandomInt(1,100)<=GetUnitAbilityLevel(GetEventDamageSource(),1093683526)*10)and(US7(GetHandleId(GetTriggeringTrigger()),"DoneViaSpell")==false)then
call SetUnitState(GetEventDamageSource(),UNIT_STATE_MANA,GetUnitState(GetEventDamageSource(),UNIT_STATE_MANA)+.25*GetUnitState(GetEventDamageSource(),UNIT_STATE_MAX_MANA))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\ReplenishManaCasterOverhead.mdl",GetEventDamageSource(),"overhead"))
endif
call DisableTrigger(GetTriggeringTrigger())
call HG8(GetEventDamageSource(),GetTriggerUnit(),ZI4,d)
call TQ7(GetHandleId(GetTriggeringTrigger()))
call U37(GetTriggeringTrigger())
endif
return false
endfunction
function Xb takes nothing returns nothing
local trigger t
local unit m5
local unit p5
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
set m5=GetSpellTargetUnit()
set p5=GetTriggerUnit()
else
set m5=GetTriggerUnit()
set p5=GetAttacker()
endif
if IsUnitIllusion(p5)==false then
set t=CreateTrigger()
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
call TW7(GetHandleId(t),"DoneViaSpell",true)
else
call TW7(GetHandleId(t),"DoneViaSpell",false)
endif
call TX7(GetHandleId(t),"Source",p5)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function XA))
endif
set t=null
set m5=null
set p5=null
endfunction
function XB takes nothing returns boolean
if GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED then
if GetUnitAbilityLevel(GetAttacker(),1093685065)>0 and(US7(GetHandleId(GetTriggeringTrigger()),"OrbOn")or(GZ[304+GetPlayerId(GetOwningPlayer(GetAttacker()))]))and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==UE7(GetHandleId(GetTriggeringTrigger()),"Hero")then
call Xb()
endif
elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER then
if(GetIssuedOrderId()==852255)then
call TW7(GetHandleId(GetTriggeringTrigger()),"OrbOn",true)
elseif(GetIssuedOrderId()==852256)then
call TW7(GetHandleId(GetTriggeringTrigger()),"OrbOn",false)
endif
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093685065 then
call Xb()
endif
return false
endfunction
function YUD takes unit CR7,boolean B89 returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterUnitEvent(t,CR7,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(t,CR7,EVENT_UNIT_ISSUED_ORDER)
call TriggerAddCondition(t,Condition(function XB))
call TX7(GetHandleId(t),"Hero",CR7)
if B89 then
set rj[GetPlayerId(GetOwningPlayer(CR7))]=t
endif
set t=null
endfunction
function YVD takes nothing returns boolean
if GetLearnedSkill()==1093685065 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093685065)==1 then
call YUD(GetTriggerUnit(),false)
endif
return false
endfunction
function Q_8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function YVD))
set t=null
endfunction
function YWD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local unit m5=UE7(UL7,"Target")
local integer YXD=UQ7(UL7,"StolenInt")
call SetHeroInt(m5,GetHeroInt(m5,false)+YXD,true)
call SetHeroInt(p5,GetHeroInt(p5,false)-YXD,true)
call TQ7(UL7)
call U37(t)
set t=null
set p5=null
set m5=null
return false
endfunction
function YYD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local unit m5=UE7(UL7,"Target")
call UB7(m5,"AstralImprisonmentState")
call DestroyEffect(UK7(UL7,"FX"))
call SetUnitInvulnerable(m5,false)
call PauseUnit(m5,false)
call ShowUnit(m5,true)
call ClearSelectionForPlayer(GetOwningPlayer(m5))
call SelectUnitAddForPlayer(m5,GetOwningPlayer(m5))
call TR7(GetHandleId(p5),"748")
call TQ7(UL7)
call U37(t)
set t=null
set p5=null
set m5=null
return false
endfunction
function YZD takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local integer HF8=GetUnitAbilityLevel(EL8,1093685066)
local integer YAD=DQ8(GetHeroInt(O_7,false),2+HF8*2)
local trigger t
local integer OL7
local unit HE8=CreateUnit(GetOwningPlayer(O_7),1865429305,GetUnitX(O_7),GetUnitY(O_7),0)
call UnitApplyTimedLife(HE8,1112820806,HF8+1)
if(IsUnitEnemy(O_7,GetOwningPlayer(EL8)))==false or CY7(GetSpellTargetUnit())==false then
call UZ7(O_7,"AstralImprisonmentState")
set t=CreateTrigger()
set OL7=GetHandleId(t)
call SelectUnitRemoveForPlayer(O_7,GetOwningPlayer(O_7))
call SetUnitInvulnerable(O_7,true)
call PauseUnit(O_7,true)
call ShowUnit(O_7,false)
call TY7(OL7,"FX",AddSpecialEffect("Abilities\\Spells\\Demon\\DarkConversion\\ZombifyTarget.mdl",GetUnitX(O_7),GetUnitY(O_7)))
call TX7(OL7,"Source",EL8)
call TX7(OL7,"Target",O_7)
call TriggerRegisterTimerEvent(t,HF8,false)
call TriggerAddCondition(t,Condition(function YYD))
if(IsUnitEnemy(O_7,GetOwningPlayer(EL8)))==true then
call TX7(GetHandleId(EL8),"748",O_7)
call SetHeroInt(O_7,GetHeroInt(O_7,false)-YAD,true)
call SetHeroInt(EL8,GetHeroInt(EL8,false)+YAD,true)
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TX7(OL7,"Source",EL8)
call TX7(OL7,"Target",O_7)
call TT7(OL7,"StolenInt",YAD)
call TriggerRegisterTimerEvent(t,60,false)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YWD))
endif
endif
set HE8=null
set EL8=null
set O_7=null
set t=null
endfunction
function YBD takes nothing returns boolean
if GetSpellAbilityId()==1093685066 then
call YZD()
endif
return false
endfunction
function YCD takes nothing returns nothing
if IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))and US7(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp")and GetSpellTargetUnit()!=GetTriggerUnit()then
call RU7(GetTriggerUnit())
call D78(GetOwningPlayer(GetTriggerUnit()),(GetObjectName((1848652600))))
endif
endfunction
function Y3D takes nothing returns boolean
if GetSpellAbilityId()==1093685066 then
call YCD()
endif
return false
endfunction
function R48 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function YBD))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function Y3D))
set t=null
endfunction
function Y6D takes nothing returns boolean
return GetSpellAbilityId()==1093685067 or GetSpellAbilityId()==1093752407
endfunction
function YLD takes nothing returns nothing
local unit O_7=GetEnumUnit()
local unit Y1D=GetTriggerUnit()
local integer Y0D=GetHeroInt(Y1D,true)-GetHeroInt(O_7,true)
local integer array Y5D
local integer HF8=GetUnitAbilityLevel(Y1D,1093685067)
local integer Y2D=7+1*HF8
if HF8==0 then
set HF8=GetUnitAbilityLevel(Y1D,1093752407)
set Y2D=7+1*HF8+1
endif
set Y5D[1]=10
set Y5D[2]=30
set Y5D[3]=50
if(Y0D>0)then
call UnitDamageTarget(Y1D,O_7,Y0D*Y2D,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
call DL8(I2S(R2I(Y0D*Y2D)),3,O_7,0.023,216,30,30,216)
if(Y0D<Y5D[HF8])then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Feedback\\SpellBreakerAttack.mdl",O_7,"overhead"))
call SetUnitState(O_7,UNIT_STATE_MANA,GetUnitState(O_7,UNIT_STATE_MANA)*.25)
endif
endif
set O_7=null
set Y1D=null
endfunction
function Y_D takes nothing returns boolean
if(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)then
if(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))then
return true
endif
endif
return false
endfunction
function Z4D takes nothing returns nothing
local unit YO9=GetTriggerUnit()
local integer CC9=GetUnitAbilityLevel(YO9,1093685067)
local real x=GetLocationX(GetSpellTargetLoc())
local real y=GetLocationY(GetSpellTargetLoc())
local group C89=CA7()
local integer WJ9=0
local unit Z7D=(UE7(GetHandleId(YO9),"748"))
if CC9==0 then
set CC9=GetUnitAbilityLevel(YO9,1093752407)
endif
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl",x,y))
loop
exitwhen WJ9>=360
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl",x+(200+CC9*50)*Cos(WJ9*bj_DEGTORAD),y+(200+CC9*50)*Sin(WJ9*bj_DEGTORAD)))
set WJ9=WJ9+45
endloop
call GroupEnumUnitsInRange(C89,x,y,300+CC9*100,Condition(function Y_D))
if Z7D!=null and RI7(x,y,GetUnitX(Z7D),GetUnitY(Z7D))<(300+CC9*100)then
call SetUnitInvulnerable(Z7D,false)
call GroupAddUnit(C89,Z7D)
endif
call ForGroup(C89,function YLD)
if Z7D!=null and LR7(Z7D)==false then
call SetUnitInvulnerable(Z7D,true)
endif
call CZ7(C89)
set YO9=null
set C89=null
endfunction
function R78 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function Y6D))
call TriggerAddAction(t,function Z4D)
set t=null
endfunction
function Z8D takes nothing returns nothing
call HG8(RL4,GetEnumUnit(),ZG4,R14)
endfunction
function Z9D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit O_7=UE7(OL7,"Target")
local unit EL8=UE7(OL7,"Source")
local group g
local integer CS8=UQ7(OL7,"Count")
if GetTriggerEvalCount(t)>200 or GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEvalCount(t)>1 and GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093685575 and GetSpellTargetUnit()==O_7)then
call DestroyEffect(UK7(OL7,"Effect"))
call TQ7(OL7)
call U37(t)
else
set CS8=CS8+1
call TT7(OL7,"Count",CS8)
set g=CA7()
set IN4=EL8
set RL4=EL8
set R14=1.0+2.0*GetUnitAbilityLevel(EL8,1093685575)
call GroupEnumUnitsInRange(g,GetUnitX(O_7),GetUnitY(O_7),275,Condition(function FW8))
call GroupRemoveUnit(g,O_7)
call ForGroup(g,function Z8D)
call CZ7(g)
endif
set O_7=null
set t=null
set EL8=null
set g=null
return false
endfunction
function ZDD takes nothing returns nothing
local trigger t=CreateTrigger()
local effect fx=AddSpecialEffectTarget("war3mapImported\\NewSoulArmor.mdx",GetSpellTargetUnit(),"chest")
local integer OL7=GetHandleId(t)
call E98(JO,GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()))
call TX7(OL7,"Source",GetTriggerUnit())
call TX7(OL7,"Target",GetSpellTargetUnit())
call TY7(OL7,"Effect",fx)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterUnitEvent(t,GetSpellTargetUnit(),EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function Z9D))
set t=null
set fx=null
endfunction
function ZED takes nothing returns boolean
if GetSpellAbilityId()==1093685575 then
call ZDD()
endif
return false
endfunction
function RB8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZED))
set t=null
endfunction
function ZFD takes unit u returns boolean
return GetUnitAbilityLevel(u,1110454858)>0 or GetUnitAbilityLevel(u,1112896368)>0 or GetUnitAbilityLevel(u,1114993524)>0 or BZ7(u)
endfunction
function ZGD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local real x=UR7(UL7,"x")
local real y=UR7(UL7,"y")
local integer BK7
local unit p5
local unit m5
local real x1
local real y1
local real d
local real a
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call TQ7(UL7)
call U37(t)
else
set m5=UE7(UL7,"Target")
set d=UR7(UL7,"d")
set x=UR7(UL7,"x")
set y=UR7(UL7,"y")
set a=UR7(UL7,"a")
set x1=GetUnitX(m5)+d/ 15*Cos(a)
set y1=GetUnitY(m5)+d/ 15*Sin(a)
if IsUnitType(m5,UNIT_TYPE_HERO)==true then
call SetUnitPosition(m5,x1,y1)
else
call SetUnitX(m5,x1)
call SetUnitY(m5,y1)
endif
if GetTriggerEvalCount(t)>15 then
set p5=UE7(UL7,"Source")
set BK7=UQ7(UL7,"Level")
call TQ7(UL7)
call U37(t)
call HG8(p5,m5,ZG4,BK7*40)
set p5=null
endif
set m5=null
endif
set t=null
return false
endfunction
function ZHD takes nothing returns nothing
local trigger t
local integer UL7
local unit p5=GetTriggerUnit()
local unit m5=GetEnumUnit()
if ZFD(m5)==false then
set t=CreateTrigger()
set UL7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,0.025,true)
call TriggerAddCondition(t,Condition(function ZGD))
call TU7(UL7,"x",(j0)*1.0)
call TU7(UL7,"y",(K0)*1.0)
call TU7(UL7,"d",(RI7(j0,K0,GetUnitX(m5),GetUnitY(m5)))*1.0)
call TU7(UL7,"a",(Atan2(K0-GetUnitY(m5),j0-GetUnitX(m5)))*1.0)
call TT7(UL7,"Level",l0)
call TX7(UL7,"Source",p5)
call TX7(UL7,"Target",m5)
endif
set t=null
set p5=null
set m5=null
endfunction
function ZID takes nothing returns nothing
local group g=CA7()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local integer BK7=GetUnitAbilityLevel(GetTriggerUnit(),1093685573)
local real r=150+100*BK7+25
set IN4=GetTriggerUnit()
call E98(DP,x,y)
call DestroyEffect(AddSpecialEffect("war3mapImported\\Star Aura.mdx",x,y))
call GroupEnumUnitsInRange(g,x,y,r,Condition(function G88))
set j0=x
set K0=y
set l0=BK7
call ForGroup(g,function ZHD)
call E78(x,y,200)
call RemoveLocation(l)
call CZ7(g)
set l=null
set g=null
endfunction
function ZJD takes nothing returns boolean
if GetSpellAbilityId()==1093685573 then
call ZID()
endif
return false
endfunction
function ZKD takes nothing returns nothing
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
if E88(x,y)==false or(IsPointInRegion(IU4,((x)*1.0),((y)*1.0)))then
call RU7(GetTriggerUnit())
call D78(GetOwningPlayer(GetTriggerUnit()),(GetObjectName((1848652619))))
endif
call RemoveLocation(l)
set l=null
endfunction
function ZMD takes nothing returns boolean
if GetSpellAbilityId()==1093685573 then
call ZKD()
endif
return false
endfunction
function RA8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZJD))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function ZMD))
set t=null
endfunction
function Xq takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit m5=UE7(UL7,"Target")
call UnitRemoveAbility(m5,1110456151)
call UnitRemoveAbility(m5,1113746543)
call UnitRemoveAbility(m5,1110455858)
call UnitRemoveAbility(m5,1110455861)
call UnitRemoveAbility(m5,1113813619)
call UnitRemoveAbility(m5,1110454582)
call UnitRemoveAbility(m5,1110455634)
set t=null
set m5=null
return false
endfunction
function XQ takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterTimerEvent(t,GetUnitAbilityLevel(GetTriggerUnit(),1093685815)*1.5+.5,false)
call TriggerAddCondition(t,Condition(function Xq))
call TX7(GetHandleId(t),"Target",GetSpellTargetUnit())
call E98(bR,GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()))
call DestroyEffect(AddSpecialEffectTarget("effects\\Surge.mdx",GetSpellTargetUnit(),"origin"))
set t=null
endfunction
function ZND takes nothing returns boolean
if GetSpellAbilityId()==1093685815 then
call XQ()
endif
return false
endfunction
function RC8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZND))
set t=null
endfunction
function ZOD takes boolean ZPD returns boolean
local integer UL7=GetHandleId(GetTriggeringTrigger())
local unit ZQD=UE7(UL7,"Wall")
local unit m5=GetTriggerUnit()
local unit XS=CreateUnit(GetOwningPlayer(ZQD),1697657171,GetUnitX(m5),GetUnitY(m5),0)
local unit CL7=M7[GetPlayerId(GetOwningPlayer(ZQD))]
local integer HF8=GetUnitAbilityLevel(CL7,1093685579)
if HF8==0 then
set HF8=GetUnitAbilityLevel(CL7,1093808465)
endif
call SetUnitAbilityLevel(ZQD,1093685580,HF8)
set PO4=GetUnitX(m5)
set PP4=GetUnitY(m5)
set PQ4=m5
if ZPD then
call SetUnitAbilityLevel(ZQD,1093685580,3+HF8)
call IssueTargetOrderById(ZQD,852274,m5)
call HG8(ZQD,m5,ZG4,150)
else
call IssueTargetOrderById(ZQD,852274,m5)
call HG8(ZQD,m5,ZG4,150)
endif
call UnitApplyTimedLife(XS,1112820806,.5)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl",GetUnitX(m5),GetUnitY(m5)))
set ZQD=null
set m5=null
set XS=null
return false
endfunction
function ZRD takes nothing returns boolean
local group g
if IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(UE7(GetHandleId(GetTriggeringTrigger()),"Wall")))and J98(GetUnitTypeId(GetFilterUnit()))==false then
set g=UJ7(GetHandleId(GetTriggeringTrigger()),"g1")
if IsUnitInGroup(GetFilterUnit(),g)==false then
call GroupAddUnit(g,GetFilterUnit())
call ZOD(false)
endif
endif
set g=null
return false
endfunction
function ZSD takes nothing returns boolean
local group g
if IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(UE7(GetHandleId(GetTriggeringTrigger()),"Wall")))and J98(GetUnitTypeId(GetFilterUnit()))==false then
set g=UJ7(GetHandleId(GetTriggeringTrigger()),"g1")
if IsUnitInGroup(GetFilterUnit(),g)==false then
call GroupAddUnit(g,GetFilterUnit())
call ZOD(true)
endif
endif
set g=null
return false
endfunction
function WallOfReplica_FindSource takes nothing returns nothing
if GetPlayerId(GetOwningPlayer(GetEnumUnit()))==IH4 then
call GroupAddUnit(IQ4,GetEnumUnit())
endif
endfunction
function ZTD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
call GroupRemoveUnit(UJ7(OL7,"g1"),UE7(OL7,"imagesource"))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl",GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call TQ7(OL7)
call DisableTrigger(t)
set t=null
return false
endfunction
function ZUD takes nothing returns boolean
local unit ZQD=GetSummoningUnit()
local unit C48=GetSummonedUnit()
local integer OL7=GetHandleId(ZQD)
local integer ZVD=UQ7(OL7,"NumOfImages")
local trigger t=CreateTrigger()
call SetUnitVertexColor(C48,255,255,255,100)
call TriggerRegisterUnitEvent(t,C48,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function ZTD))
call TL7(GetHandleId(t),"g1",UJ7(OL7,"g1"))
call TX7(GetHandleId(t),"imagesource",PQ4)
set ZVD=ZVD+1
call TT7(OL7,"NumOfImages",ZVD)
call TX7(OL7,"Illusion"+I2S(ZVD),C48)
call TZ7(OL7,"IllusionTrig"+I2S(ZVD),t)
call SetUnitX(C48,PO4)
call SetUnitY(C48,PP4)
set ZQD=null
set C48=null
set t=null
return false
endfunction
function ZWD takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function Xw takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer v5=GetHandleId(t)
local trigger XW=UI7(v5,"mastert")
local integer tK=GetHandleId(XW)
local trigger v7=UI7(tK,"DetectTrig")
local group Xx=UJ7(tK,"g1")
local group XX=UJ7(tK,"g2")
local unit ZXD=UE7(tK,"Wall")
local integer Xy=GetHandleId(ZXD)
local integer Xv=UQ7(Xy,"NumOfImages")
local integer i
local unit u
call ForGroup(XX,function ZWD)
set i=1
loop
exitwhen i>Xv
set u=UE7(Xy,"Illusion"+I2S(i))
call TQ7(GetHandleId(UI7(Xy,"IllusionTrig"+I2S(i))))
call U37(UI7(Xy,"IllusionTrig"+I2S(i)))
if IsUnitIllusion(u)then
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl",GetUnitX(u),GetUnitY(u)))
call RemoveUnit(u)
endif
set i=i+1
endloop
call TQ7(v5)
call TQ7(tK)
call TQ7(Xy)
call RemoveUnit(ZXD)
call CZ7(Xx)
call CZ7(XX)
call U37(XW)
call U37(v7)
call U37(t)
set t=null
set XW=null
set v7=null
set Xx=null
set XX=null
set ZXD=null
set u=null
return false
endfunction
function ZYD takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local real ZZD=GetUnitFacing(CR7)-45
local unit ZXD=CreateUnit(GetOwningPlayer(CR7),1747988559,x,y,ZZD)
local unit u
local real Z59
local real Z29
local integer i
local real Xk
local trigger t=CreateTrigger()
local group g1=CA7()
local integer UL7=GetHandleId(t)
local group g2=CA7()
local trigger XW=t
local integer HF8=GetUnitAbilityLevel(CR7,1093685579)
local boolean ZPD=false
if HF8==0 then
set ZPD=true
set HF8=GetUnitAbilityLevel(CR7,1093808465)
endif
call SetUnitAbilityLevel(ZXD,1093685580,HF8)
call E98(hR,x,y)
call TL7(UL7,"g1",g1)
call TL7(GetHandleId(ZXD),"g1",g1)
call TL7(UL7,"g2",g2)
call TX7(UL7,"Wall",ZXD)
call TT7(GetHandleId(ZXD),"NumOfImages",0)
set i=0
loop
exitwhen i>39
set Z59=x+(500-25*i)*Cos((ZZD-45)*bj_DEGTORAD)
set Z29=y+(500-25*i)*Sin((ZZD-45)*bj_DEGTORAD)
set u=CreateUnit(GetOwningPlayer(CR7),1747988560,Z59,Z29,ZZD)
call SetUnitPathing(u,false)
call SetUnitX(u,Z59)
call SetUnitY(u,Z29)
call GroupAddUnit(g2,u)
call TriggerRegisterUnitInRange(t,u,17,Condition(function ZY7))
set i=i+1
endloop
if ZPD then
call TriggerAddCondition(t,Condition(function ZSD))
else
call TriggerAddCondition(t,Condition(function ZRD))
endif
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,ZXD,EVENT_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function ZUD))
call TZ7(UL7,"DetectTrig",t)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,15*HF8,false)
call TriggerAddCondition(t,Condition(function Xw))
call TZ7(GetHandleId(t),"mastert",XW)
call RemoveLocation(l)
set CR7=null
set l=null
set u=null
set t=null
set XW=null
set g1=null
set g2=null
set ZXD=null
endfunction
function ZAD takes nothing returns boolean
if GetSpellAbilityId()==1093685579 or GetSpellAbilityId()==1093808465 then
call ZYD()
endif
return false
endfunction
function R38 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZAD))
set t=null
endfunction
function ZBD takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),AM4)==false and CO7(GetEnumUnit())==false then
call GroupAddUnit(AM4,GetEnumUnit())
call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),AN4,false)
call FE8(GetEnumUnit(),AN4,1,3,1110455633)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\SpellShieldAmulet\\SpellShieldCaster.mdl",GetEnumUnit(),"overhead"))
endif
endfunction
function ZCD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit CL7=(LoadUnitHandle(L7,(OL7),(14)))
local real x2=(LoadReal(L7,(OL7),(66)))
local real y2=(LoadReal(L7,(OL7),(67)))
local real a=(LoadReal(L7,(OL7),(137)))
local integer CS8=GetTriggerEvalCount(t)
local real x=GetUnitX(CL7)
local real y=GetUnitY(CL7)
local real ZC9=(LoadReal(L7,(OL7),(23)))
local real Z39=(LoadReal(L7,(OL7),(24)))
local unit HE8=(LoadUnitHandle(L7,(OL7),(19)))
local group g=CA7()
local group G3D=(LoadGroupHandle(L7,(OL7),(187)))
local integer HF8=GetUnitAbilityLevel(CL7,1093684299)
if RI7(x,y,x2,y2)<=OU then
set x=x2
set y=y2
else
set x=DD8(ZC9+65*Cos(a*bj_DEGTORAD))
set y=DE8(Z39+65*Sin(a*bj_DEGTORAD))
endif
if HF8==1 then
set AN4=1093810497
elseif HF8==2 then
set AN4=1093810489
elseif HF8==3 then
set AN4=1093810498
elseif HF8==4 then
set AN4=1093810488
endif
set IN4=CL7
set AM4=G3D
call GroupEnumUnitsInRange(g,x,y,325,Condition(function FW8))
call ForGroup(g,function ZBD)
call CZ7(g)
call SaveReal(L7,(OL7),(23),((x)*1.0))
call SaveReal(L7,(OL7),(24),((y)*1.0))
call SetUnitPosition(CL7,x,y)
if(x==x2 and y==y2)or CS8>40 then
call SetUnitX(HE8,x)
call SetUnitY(HE8,y)
call IssueImmediateOrder(HE8,"thunderclap")
call CZ7(G3D)
call FlushChildHashtable(L7,(OL7))
call U37(t)
call SetUnitAnimation(CL7,"stand")
call SetUnitPathing(CL7,true)
call SetUnitInvulnerable(CL7,false)
if GetUnitTypeId(CL7)==1160786520 then
call SetUnitVertexColor(CL7,255,255,255,255)
else
call SetUnitVertexColor(CL7,0,255,150,255)
endif
call UB7(CL7,"TimeWalk|Active")
endif
set t=null
set CL7=null
set HE8=null
return false
endfunction
function Z3D takes nothing returns nothing
local unit CL7=GetTriggerUnit()
local location l
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local real x1=GetUnitX(CL7)
local real y1=GetUnitY(CL7)
local real x2
local real y2
local real a
local unit HE8=CreateUnit(GetOwningPlayer(CL7),1697656901,x1,y1,0)
if GetSpellTargetUnit()==null then
set l=GetSpellTargetLoc()
else
set l=GetUnitLoc(GetSpellTargetUnit())
endif
set x2=GetLocationX(l)
set y2=GetLocationY(l)
set a=PS7(x1,y1,x2,y2)
call RemoveLocation(l)
call SetUnitAnimationByIndex(CL7,0)
call SetUnitPathing(CL7,false)
call SetUnitInvulnerable(CL7,true)
call SetUnitVertexColor(CL7,0,0,0,255)
call UZ7(CL7,"TimeWalk|Active")
call SaveReal(L7,(OL7),(66),((DD8(x2))*1.0))
call SaveReal(L7,(OL7),(67),((DE8(y2))*1.0))
call SaveReal(L7,(OL7),(23),((x1)*1.0))
call SaveReal(L7,(OL7),(24),((y1)*1.0))
call SaveReal(L7,(OL7),(137),((a)*1.0))
call SaveUnitHandle(L7,(OL7),(14),(CL7))
call SaveUnitHandle(L7,(OL7),(19),(HE8))
call SaveGroupHandle(L7,(OL7),(187),(CA7()))
call LP7(HE8,1093684289)
call SetUnitAbilityLevel(HE8,1093684289,GetUnitAbilityLevel(CL7,1093684299))
call TriggerRegisterTimerEvent(t,WE4,true)
call TriggerAddCondition(t,Condition(function ZCD))
set CL7=null
set l=null
set t=null
set HE8=null
endfunction
function Z6D takes nothing returns boolean
if GetSpellAbilityId()==1093684299 then
call Z3D()
endif
return false
endfunction
function OA8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function Z6D))
set t=null
endfunction
function X6 takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local real DV8=GetEventDamage()
if(DV8>0)and GetUnitState(CR7,UNIT_STATE_LIFE)>1 then
if(GetRandomInt(1,100)<=(5+(5*GetUnitAbilityLevel(CR7,1093682010))))then
call SetUnitState(CR7,UNIT_STATE_LIFE,GetUnitState(CR7,UNIT_STATE_LIFE)+DV8)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\WingedSerpentMissile\\WingedSerpentMissile.mdl",CR7,"hand,left"))
endif
endif
set CR7=null
endfunction
function ZLD takes unit CR7,boolean B89 returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterUnitEvent(t,CR7,EVENT_UNIT_DAMAGED)
call TriggerAddAction(t,function X6)
if B89 then
set aj[GetPlayerId(GetOwningPlayer(CR7))]=t
endif
set t=null
endfunction
function Z1D takes nothing returns boolean
if GetLearnedSkill()==1093682010 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093682010)==1 then
call ZLD(GetTriggerUnit(),false)
endif
return false
endfunction
function OC8 takes nothing returns nothing
set IE4=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IE4,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(IE4,Condition(function Z1D))
endfunction
function Z0D takes nothing returns boolean
return GetSpellAbilityId()==1093683761 or GetSpellAbilityId()==1093747767
endfunction
function Z5D takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer UL7=GetHandleId(t)
local unit ya=UE7(UL7,"Caster")
call SetUnitTimeScale(ya,0)
call PauseTimer(t)
call TQ7(UL7)
call DestroyTimer(t)
set t=null
set ya=null
endfunction
function Z2D takes unit S4 returns boolean
local integer ID=GetUnitTypeId(S4)
return ID==1869836340 or ID==1865429048 or ID==1865429049 or ID==1700946284 or ID==1697657398 or ID==1970107511 or ID==1966092370 or ID==1162032181
endfunction
function Z_D takes nothing returns boolean
return GetOwningPlayer(GetFilterUnit())!=GetOwningPlayer(D8)and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 or Z2D(GetFilterUnit()))
endfunction
function A4D takes nothing returns nothing
local unit A7D=GetEnumUnit()
if GetUnitTypeId(GetEnumUnit())!=1162032181 then
call PauseUnit(A7D,true)
call SetUnitTimeScale(A7D,0)
call UnitRemoveAbility(A7D,1112896364)
call UnitRemoveAbility(A7D,1112896368)
call UnitRemoveAbility(A7D,1112896372)
call UZ7(A7D,"4306")
endif
set A7D=null
endfunction
function A8D takes nothing returns nothing
local unit A9D=GetEnumUnit()
if GetUnitTypeId(GetEnumUnit())!=1162032181 then
call UB7(A9D,"4306")
call PauseUnit(A9D,false)
call SetUnitTimeScale(A9D,1)
endif
set A9D=null
endfunction
function ADD takes nothing returns nothing
local unit AU7=GetEnumUnit()
if(IsUnitType(AU7,UNIT_TYPE_STRUCTURE)and(IsUnitEnemy(AU7,GetOwningPlayer(hx)))and(IsUnitVisible(AU7,GetOwningPlayer(hx)))and(hS==null))then
set hS=AU7
elseif(IsUnitType(AU7,UNIT_TYPE_HERO)and(IsUnitEnemy(AU7,GetOwningPlayer(hx)))and(IsUnitVisible(AU7,GetOwningPlayer(hx)))and((hS==null)or(IsUnitType(hS,UNIT_TYPE_STRUCTURE))or(GetUnitLifePercent(hS)>GetUnitLifePercent(AU7))))then
set hS=AU7
endif
set AU7=null
endfunction
function AED takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer UL7=GetHandleId(t)
local unit AFD=UE7(UL7,"Caster")
local unit CR7=UE7(UL7,"Hero")
local integer BK7=UQ7(UL7,"Level")
local group AGD=UJ7(UL7,"Group")
local integer T8=UQ7(UL7,"Counter")
local real Y5=GetUnitX(AFD)
local real Z5=GetUnitY(AFD)
local boolexpr AHD=Condition(function Z_D)
local group I68=CA7()
local integer O5=GetPlayerId(GetOwningPlayer(CR7))
local integer H98=35+BK7*5
if GetUnitAbilityLevel(CR7,1093747767)>0 then
set H98=30+BK7*10
endif
call ForGroup(AGD,function A8D)
set D8=CR7
call GroupEnumUnitsInRange(I68,Y5,Z5,425,AHD)
call GroupClear(AGD)
call GroupAddGroup(I68,AGD)
call ForGroup(I68,function A4D)
if(GetPlayerController(GetOwningPlayer(CR7))==MAP_CONTROL_COMPUTER)then
if(h4[16+O5]==null)then
set hS=null
set hx=CR7
call ForGroup(I68,function ADD)
set h4[16+O5]=hS
endif
if(h4[16+O5]!=null)then
if((IsUnitAliveBJ(h4[16+O5]))and(GetUnitAbilityLevel(h4[16+O5],1110454854)==0))then
if((not IsUnitInRange(CR7,h4[16+O5],300.))and(IsUnitType(h4[16+O5],UNIT_TYPE_HERO)))then
if(not IssueTargetOrderById(CR7,852218,h4[16+O5]))then
call IssueTargetOrderById(CR7,851983,h4[16+O5])
endif
elseif(not SL7(CR7,ZU[P1]))then
call IssueTargetOrderById(CR7,851983,h4[16+O5])
endif
else
set h4[16+O5]=null
endif
endif
endif
call CZ7(I68)
set T8=T8+1
call TT7(UL7,"Counter",T8)
if T8>H98 then
set GZ[384+O5]=false
set h4[16+O5]=null
if D9==false then
call ForGroup(AGD,function A8D)
endif
call RemoveUnit(AFD)
call CZ7(AGD)
call PauseTimer(t)
call TQ7(UL7)
call DestroyTimer(t)
endif
set t=null
set AFD=null
set CR7=null
set AGD=null
call DestroyBoolExpr(AHD)
set AHD=null
set I68=null
endfunction
function AID takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local integer BK7=GetUnitAbilityLevel(CR7,(1093683761))
local location m5=GetSpellTargetLoc()
local real Y5=GetLocationX(m5)
local real Z5=GetLocationY(m5)
local unit AFD=CreateUnit(GetOwningPlayer(CR7),(1966092364),Y5,Z5,0)
local timer t=CreateTimer()
local integer UL7=GetHandleId(t)
local group AGD=CA7()
local integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
if BK7==0 then
set BK7=GetUnitAbilityLevel(CR7,1093747767)
endif
set GZ[384+O5]=true
set h4[16+O5]=null
set hq[512+O5]=Bz+2.+(BK7)
call TX7(GetHandleId(t),"Caster",AFD)
call TimerStart(t,0.8,false,function Z5D)
set t=CreateTimer()
set UL7=GetHandleId(t)
call TX7(UL7,"Caster",AFD)
call TX7(UL7,"Hero",CR7)
call TL7(UL7,"Group",AGD)
call TT7(UL7,"Counter",0)
call TT7(UL7,"Level",BK7)
call TimerStart(t,0.1,true,function AED)
call RemoveLocation(m5)
set CR7=null
set m5=null
set AFD=null
set t=null
set AGD=null
endfunction
function O38 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function Z0D))
call TriggerAddAction(t,function AID)
set t=null
endfunction
function AJD takes unit u,real AKD returns nothing
local integer d=R2I(AKD)
local integer array b
local integer a=d
local integer c=1
local integer i=0
local integer AMD
local real difference
set L54[0]=1093808968
set L54[1]=1093808971
set L54[2]=1093808972
set L54[3]=1093808970
set L54[4]=1093808969
set L54[5]=1093808973
if d<1 then
call UnitRemoveAbility(u,L54[0])
call UnitRemoveAbility(u,L54[1])
call UnitRemoveAbility(u,L54[2])
call UnitRemoveAbility(u,L54[3])
call UnitRemoveAbility(u,L54[4])
call UnitRemoveAbility(u,L54[5])
return
endif
loop
exitwhen c==0
set c=a/2
set b[i]=a-c*2
set a=c
set i=i+1
endloop
set AMD=5
set i=0
loop
exitwhen i>AMD
if b[i]==1 then
call LP7(u,L54[i])
call SetPlayerAbilityAvailable(GetOwningPlayer(u),L54[i],false)
else
call UnitRemoveAbility(u,L54[i])
endif
set i=i+1
endloop
endfunction
function AND takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local integer HF8=GetUnitAbilityLevel(EL8,1093808967)
local real E09=(LoadReal(L7,(GetHandleId(O_7)),(682)))
local integer CS8=(LoadInteger(L7,(GetHandleId(O_7)),(683)))-1
call AJD(O_7,CS8*HF8)
call SaveInteger(L7,(GetHandleId(O_7)),(683),(CS8))
call FlushChildHashtable(L7,(OL7))
call U37(t)
set t=null
set EL8=null
set O_7=null
return false
endfunction
function AOD takes unit EL8,unit O_7 returns nothing
local integer HF8=GetUnitAbilityLevel(EL8,1093808967)
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local integer CS8=(LoadInteger(L7,(GetHandleId(O_7)),(683)))+1
call AJD(O_7,CS8*HF8)
call SaveInteger(L7,(GetHandleId(O_7)),(683),(CS8))
call SaveReal(L7,(GetHandleId(O_7)),(682),(((TimerGetElapsed(W))+L24-0.01)*1.0))
call TriggerRegisterTimerEvent(t,L24,false)
call TriggerRegisterDeathEvent(t,O_7)
call TriggerAddCondition(t,Condition(function AND))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",O_7,"origin"))
set t=null
endfunction
function APD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local integer ZS9=(LoadInteger(L7,(OL7),(30)))
local unit O_7=ZA7(ZS9)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==EL8 then
call DisableTrigger(t)
if GetUnitAbilityLevel(O_7,1093678162)==0 then
call AOD(EL8,O_7)
endif
call ZZ7(ZS9)
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
else
call ZZ7(ZS9)
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function AQD takes nothing returns nothing
local trigger t=CreateTrigger()
local unit O_7=GetTriggerUnit()
local unit EL8=GetAttacker()
local integer OL7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,1,false)
call TriggerAddCondition(t,Condition(function APD))
call SaveInteger(L7,(OL7),(30),(ZC7(O_7)))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
set O_7=null
set EL8=null
set t=null
endfunction
function ARD takes nothing returns nothing
local unit EL8=GetAttacker()
if((LoadInteger(L7,(GetHandleId((EL8))),((4307))))==1)==false then
call U07(EL8,"4307",0.3)
call AQD()
endif
endfunction
function ASD takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1093808967)>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==(LoadUnitHandle(L7,(GetHandleId(GetTriggeringTrigger())),(14)))and GetUnitTypeId(GetTriggerUnit())!=1848651852 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))then
call ARD()
endif
return false
endfunction
function ATD takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function ASD))
call SaveUnitHandle(L7,(GetHandleId(t)),(14),(GetTriggerUnit()))
set t=null
endfunction
function AUD takes nothing returns boolean
if GetLearnedSkill()==1093808967 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093808967)==1 then
call ATD()
endif
return false
endfunction
function O68 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function AUD))
set t=null
endfunction
function AVD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
if GetTriggerEventId()==EVENT_UNIT_DEATH or GetUnitAbilityLevel(p5,1110459186)==0 then
call TQ7(UL7)
call U37(t)
call SetUnitTimeScale(p5,1)
call TT7(GetHandleId(p5),"TimeLocked",2)
else
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",p5,"origin"))
endif
set t=null
set p5=null
return false
endfunction
function AWD takes unit p5 returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call SetUnitTimeScale(p5,0)
call TT7(GetHandleId(p5),"TimeLocked",1)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function AVD))
call TX7(UL7,"Source",p5)
if(UX7(p5,"4306")==true)then
call HG8(SU4,p5,ZG4,30+10*GetUnitAbilityLevel(SU4,1093679153))
endif
set t=null
endfunction
function AXD takes nothing returns boolean
if GetUnitAbilityLevel(GetFilterUnit(),1110459186)>0 and(UQ7(GetHandleId(GetFilterUnit()),"TimeLocked")==1)==false then
call AWD(GetFilterUnit())
endif
return false
endfunction
function AYD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local group g=CA7()
set SU4=p5
call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),450,Condition(function AXD))
call CZ7(g)
set t=null
set p5=null
set g=null
return false
endfunction
function AZD takes unit p5,boolean B89 returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function AYD))
call TX7(UL7,"Source",p5)
if B89 then
set nj[GetPlayerId(GetOwningPlayer(p5))]=t
endif
set t=null
set p5=null
endfunction
function AAD takes nothing returns boolean
if GetLearnedSkill()==1093679153 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093679153)==1 then
call AZD(GetTriggerUnit(),false)
endif
return false
endfunction
function OB8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function AAD))
set t=null
endfunction
function ABD takes unit PI7 returns boolean
return(GetUnitTypeId(PI7)==1211117641 or GetUnitTypeId(PI7)==1211117642 or GetUnitTypeId(PI7)==GetUnitTypeId(GetTriggerUnit()))and GetUnitState(PI7,UNIT_STATE_LIFE)>.5 and GetOwningPlayer(PI7)==GetOwningPlayer(GetTriggerUnit())
endfunction
function ACD takes nothing returns boolean
return GetSpellAbilityId()==1093684792
endfunction
function A3D takes nothing returns boolean
return ABD(GetFilterUnit())
endfunction
function A6D takes nothing returns nothing
local unit ALD=GetEnumUnit()
local real yg=DX8(ALD,Z9)
if yg<F8 then
set F8=yg
set D8=ALD
endif
set ALD=null
endfunction
function A1D takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0
endfunction
function A0D takes nothing returns nothing
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Feedback\\ArcaneTowerAttack.mdl",GetEnumUnit(),"origin"))
call UnitDamageTarget(GetTriggerUnit(),GetEnumUnit(),F8,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_FIRE,WEAPON_TYPE_WHOKNOWS)
endfunction
function A5D takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local location E0D
local real x
local real y
local real F3D=GetUnitX(p5)
local real F6D=GetUnitY(p5)
local group C89
local boolexpr QWD
local boolean A2D=false
if O_7!=null and ABD(O_7)then
set x=GetUnitX(O_7)
set y=GetUnitY(O_7)
set A2D=true
else
set QWD=Condition(function A3D)
set C89=CA7()
call GroupEnumUnitsInRange(C89,0,0,999999,QWD)
if O_7!=null then
set E0D=GetUnitLoc(O_7)
else
set E0D=GetSpellTargetLoc()
endif
set D8=FirstOfGroup(C89)
if D8!=null then
set A2D=true
call GroupRemoveUnit(C89,D8)
set F8=DX8(D8,E0D)
set Z9=E0D
call ForGroup(C89,function A6D)
set O_7=D8
set x=GetUnitX(O_7)
set y=GetUnitY(O_7)
endif
call CZ7(C89)
call DestroyBoolExpr(QWD)
call RemoveLocation(E0D)
endif
if A2D then
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\ToonBoom\\ToonBoom.mdl",F3D,F6D))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\ToonBoom\\ToonBoom.mdl",x,y))
call SetUnitX(p5,x)
call SetUnitY(p5,y)
set F8=60+GetUnitAbilityLevel(GetTriggerUnit(),(1093684792))*20
set QWD=Condition(function A1D)
set C89=CA7()
call GroupEnumUnitsInRange(C89,F3D,F6D,400,QWD)
call ForGroup(C89,function A0D)
call CZ7(C89)
set C89=CA7()
call GroupEnumUnitsInRange(C89,x,y,400,QWD)
call ForGroup(C89,function A0D)
call CZ7(C89)
call DestroyBoolExpr(QWD)
endif
call DestroyBoolExpr(QWD)
set p5=null
set O_7=null
set E0D=null
set C89=null
set QWD=null
endfunction
function yj takes nothing returns nothing
call SetUnitAnimationByIndex(UE7(GetHandleId(GetExpiredTimer()),"UnitVar"),2)
endfunction
function A_D takes nothing returns nothing
local timer t=CreateTimer()
call SetUnitAnimationByIndex(GetTriggerUnit(),2)
call TX7(GetHandleId(t),"UnitVar",GetTriggerUnit())
call TimerStart(t,1,false,function yj)
set t=null
endfunction
function RQ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_CHANNEL)
call TriggerAddCondition(t,Condition(function ACD))
call TriggerAddAction(t,function A_D)
set t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ACD))
call TriggerAddAction(t,function A5D)
set t=null
endfunction
function B4D takes nothing returns boolean
return GetSpellAbilityId()==1093684802
endfunction
function B7D takes nothing returns boolean
return CO7(GetFilterUnit())==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(D8))and(FX8(GetFilterUnit())==false or IsUnitVisible(GetFilterUnit(),GetOwningPlayer(D8))==true)and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>0.5 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and GetUnitTypeId(GetFilterUnit())!=1848651852
endfunction
function B8D takes nothing returns nothing
local unit oA=CreateUnit(GetOwningPlayer(GetEnumUnit()),1697656901,F8,A9,0)
call LP7(oA,1093684803)
call IssueTargetOrderById(oA,852106,GetEnumUnit())
set oA=null
endfunction
function B9D takes unit IJ,real x,real y returns nothing
local boolexpr hP=Condition(function B7D)
local group I68=CA7()
set D8=IJ
call GroupEnumUnitsInRange(I68,x,y,245,hP)
set F8=x
set A9=y
call ForGroup(I68,function B8D)
call CZ7(I68)
call DestroyBoolExpr(hP)
set hP=null
set I68=null
endfunction
function BDD takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer UL7=GetHandleId(t)
local unit IJ=UE7(UL7,"Projectile")
local real hN=UR7(UL7,"TargetX")
local real ho=UR7(UL7,"TargetY")
local real RK=UR7(UL7,"Angle")
local real iN=GetUnitX(IJ)
local real io=GetUnitY(IJ)
local real Il=GetUnitX(IJ)+30*Cos(RK)
local real IL=GetUnitY(IJ)+30*Sin(RK)
if(Il-hN)*(Il-hN)+(IL-ho)*(IL-ho)<1200 then
call SetUnitX(IJ,hN)
call SetUnitY(IJ,ho)
call B9D(IJ,hN,ho)
call PauseTimer(t)
call TQ7(UL7)
call KillUnit(IJ)
call DestroyTimer(t)
else
call SetUnitX(IJ,Il)
call SetUnitY(IJ,IL)
endif
set t=null
set IJ=null
endfunction
function BED takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local location sy=GetSpellTargetLoc()
local real hN=DD8(GetLocationX(sy))
local real ho=DE8(GetLocationY(sy))
local real iN=DD8(GetUnitX(CR7))
local real io=DE8(GetUnitY(CR7))
local unit IJ=CreateUnit(GetOwningPlayer(CR7),1747988547,iN,io,0)
local real RK=Atan2(ho-io,hN-iN)
local timer t=CreateTimer()
local integer UL7=GetHandleId(t)
call SetUnitScale(IJ,2,2,2)
call TX7(UL7,"Projectile",IJ)
call TU7(UL7,"TargetX",hN)
call TU7(UL7,"TargetY",ho)
call TU7(UL7,"Angle",RK)
call TimerStart(t,.035,true,function BDD)
call RemoveLocation(sy)
set sy=null
set IJ=null
set CR7=null
set t=null
endfunction
function RR8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function B4D))
call TriggerAddAction(t,function BED)
set t=null
endfunction
function BFD takes unit u returns boolean
return GetUnitTypeId(u)==1211117641 or GetUnitTypeId(u)==1211117642
endfunction
function BGD takes unit PI7 returns boolean
return GetUnitTypeId(PI7)==1211117641 or GetUnitTypeId(PI7)==1211117642
endfunction
function DoubleTrouble_IsKoboldCondition takes nothing returns boolean
return GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(D8)and GetFilterUnit()!=D8 and(GetUnitTypeId(GetFilterUnit())==1211117641 or GetUnitTypeId(GetFilterUnit())==1211117642)
endfunction
function DoubleTrouble_UnshareXPCondition takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(D8))and BGD(GetFilterUnit())==false
endfunction
function DoubleTrouble_UnshareXPGive takes nothing returns nothing
call AddHeroXP(GetEnumUnit(),E8,true)
endfunction
function BHD takes nothing returns nothing
local integer yp=GetHandleId(GetTriggeringTrigger())
local player j8=UG7(yp,"PlayerVar")
local integer yP=GetHandleId(j8)
local unit K48=UE7(yP,"Kobold0")
local unit K78=UE7(yP,"Kobold1")
local unit K88=UE7(yP,"Kobold2")
local unit K98=UE7(yP,"Kobold3")
local unit KD8=UE7(yP,"Kobold4")
local integer BID=GetUnitAbilityLevel(K48,1096904043)*2
local integer BJD=GetHeroAgi(K48,false)
local integer BKD=GetHeroAgi(K48,true)-BJD-BID
local integer BMD=GetHeroStr(K48,false)
local integer BND=GetHeroStr(K48,true)-BMD-BID
local integer BOD=GetHeroInt(K48,false)
local integer BPD=GetHeroInt(K48,true)-BOD-BID
local real BQD=0.3
local integer BRD
local integer BSD
local integer BTD
if BN4 then
set BQD=1.0
endif
set BRD=R2I(BJD+BKD*BQD)
set BSD=R2I(BMD+BND*BQD)
set BTD=R2I(BOD+BPD*BQD)
if GetUnitState(K48,UNIT_STATE_LIFE)>1 then
if K78!=null then
call SetHeroAgi(K78,BRD,false)
call SetHeroStr(K78,BSD,false)
call SetHeroInt(K78,BTD,false)
endif
if K88!=null then
call SetHeroAgi(K88,BRD,false)
call SetHeroStr(K88,BSD,false)
call SetHeroInt(K88,BTD,false)
endif
if K98!=null then
call SetHeroAgi(K98,BRD,false)
call SetHeroStr(K98,BSD,false)
call SetHeroInt(K98,BTD,false)
endif
if KD8!=null then
call SetHeroAgi(KD8,BRD,false)
call SetHeroStr(KD8,BSD,false)
call SetHeroInt(KD8,BTD,false)
endif
endif
set j8=null
set K48=null
set K78=null
set K88=null
set K98=null
endfunction
function BUD takes nothing returns nothing
local integer BVD=GetHandleId(GetTriggeringTrigger())
local player QVD=UG7(BVD,"PlayerVar")
local integer BWD=GetHandleId(QVD)
local unit K48=UE7(BWD,"Kobold0")
local unit K78=UE7(BWD,"Kobold1")
local unit K88=UE7(BWD,"Kobold2")
local unit K98=UE7(BWD,"Kobold3")
local unit KD8=UE7(BWD,"Kobold4")
local integer BXD=GetHandleId(K48)
local integer BYD=GetHandleId(K78)
local integer BZD=GetHandleId(K88)
local integer BAD=GetHandleId(K98)
local integer BBD=GetHandleId(KD8)
local integer BCD=UQ7(BXD,"XPEarned")
local integer B3D=UQ7(BXD,"XPGiven")
local integer B6D=UQ7(BYD,"XPEarned")
local integer BLD=UQ7(BYD,"XPGiven")
local integer B1D=UQ7(BZD,"XPEarned")
local integer B0D=UQ7(BZD,"XPGiven")
local integer B5D=UQ7(BAD,"XPEarned")
local integer B2D=UQ7(BAD,"XPGiven")
local integer B_D=UQ7(BBD,"XPEarned")
local integer C4D=UQ7(BBD,"XPGiven")
local integer C7D=GetHeroXP(K48)
local integer C8D=GetHeroXP(K78)
local integer C9D=GetHeroXP(K88)
local integer CDD=GetHeroXP(K98)
local integer CED=GetHeroXP(KD8)
local integer CFD=C7D-BCD-B3D
local integer CGD=C8D-B6D-BLD
local integer CHD=C9D-B1D-B0D
local integer CID=CDD-B5D-B2D
local integer CJD=CED-B_D-C4D
if GetUnitState(K48,UNIT_STATE_LIFE)>1 then
set BCD=BCD+CFD
set B6D=B6D+CGD
set B1D=B1D+CHD
set B5D=B5D+CID
set B_D=B_D+CJD
if K48!=null then
call AddHeroXP(K78,CFD,false)
if GetHeroXP(K78)!=C8D then
set BLD=BLD+CFD
endif
call AddHeroXP(K88,CFD,false)
if GetHeroXP(K88)!=C9D then
set B0D=B0D+CFD
endif
call AddHeroXP(K98,CFD,false)
if GetHeroXP(K98)!=CDD then
set B2D=B2D+CFD
endif
call AddHeroXP(KD8,CFD,false)
if GetHeroXP(KD8)!=CED then
set C4D=C4D+CFD
endif
endif
if K78!=null then
call AddHeroXP(K48,CGD,false)
if GetHeroXP(K48)!=C7D then
set B3D=B3D+CGD
endif
call AddHeroXP(K88,CGD,false)
if GetHeroXP(K88)!=C9D then
set B0D=B0D+CGD
endif
call AddHeroXP(K98,CGD,false)
if GetHeroXP(K98)!=CDD then
set B2D=B2D+CGD
endif
call AddHeroXP(KD8,CGD,false)
if GetHeroXP(KD8)!=CED then
set C4D=C4D+CGD
endif
endif
if K88!=null then
call AddHeroXP(K78,CHD,false)
if GetHeroXP(K78)!=C8D then
set BLD=BLD+CHD
endif
call AddHeroXP(K48,CHD,false)
if GetHeroXP(K48)!=C7D then
set B3D=B3D+CHD
endif
call AddHeroXP(K98,CHD,false)
if GetHeroXP(K98)!=CDD then
set B2D=B2D+CHD
endif
call AddHeroXP(KD8,CHD,false)
if GetHeroXP(KD8)!=CED then
set C4D=C4D+CHD
endif
endif
if K98!=null then
call AddHeroXP(K78,CID,false)
if GetHeroXP(K78)!=C8D then
set BLD=BLD+CID
endif
call AddHeroXP(K88,CID,false)
if GetHeroXP(K88)!=C9D then
set B0D=B0D+CID
endif
call AddHeroXP(K48,CID,false)
if GetHeroXP(K48)!=C7D then
set B3D=B3D+CID
endif
call AddHeroXP(KD8,CID,false)
if GetHeroXP(KD8)!=CED then
set C4D=C4D+CID
endif
endif
if KD8!=null then
call AddHeroXP(K78,CJD,false)
if GetHeroXP(K78)!=C8D then
set BLD=BLD+CJD
endif
call AddHeroXP(K88,CJD,false)
if GetHeroXP(K88)!=C9D then
set B0D=B0D+CJD
endif
call AddHeroXP(K48,CJD,false)
if GetHeroXP(K48)!=C7D then
set B3D=B3D+CJD
endif
call AddHeroXP(K98,CJD,false)
if GetHeroXP(K98)!=CDD then
set B2D=B2D+CJD
endif
endif
call TT7(BXD,"XPEarned",BCD)
call TT7(BXD,"XPGiven",B3D)
call TT7(BYD,"XPEarned",B6D)
call TT7(BYD,"XPGiven",BLD)
call TT7(BZD,"XPEarned",B1D)
call TT7(BZD,"XPGiven",B0D)
call TT7(BAD,"XPEarned",B5D)
call TT7(BAD,"XPGiven",B2D)
call TT7(BBD,"XPEarned",B_D)
call TT7(BBD,"XPGiven",C4D)
endif
set QVD=null
set K48=null
set K78=null
set K88=null
set K98=null
endfunction
function CKD takes nothing returns boolean
return BGD(GetTriggerUnit())and IsUnitIllusion(GetTriggerUnit())==false
endfunction
function CMD takes nothing returns nothing
local unit BR8=GetTriggerUnit()
local integer UL7=GetHandleId(GetOwningPlayer(BR8))
local unit K48=UE7(UL7,"Kobold0")
local unit K78=UE7(UL7,"Kobold1")
local unit K88=UE7(UL7,"Kobold2")
local unit K98=UE7(UL7,"Kobold3")
local unit KD8=UE7(UL7,"Kobold4")
local boolean XFv=false
call DisableTrigger(ES)
if K48!=null and K48!=BR8 then
call KillUnit(K48)
endif
if K78!=null and K78!=BR8 then
call KillUnit(K78)
endif
if K88!=null and K88!=BR8 then
call KillUnit(K88)
endif
if K98!=null and K98!=BR8 then
call KillUnit(K98)
endif
if KD8!=null and KD8!=BR8 then
call KillUnit(KD8)
endif
call EnableTrigger(ES)
set BR8=null
set K48=null
set K78=null
set K88=null
set K98=null
set KD8=null
endfunction
function CND takes nothing returns boolean
return BGD(GetTriggerUnit())and IsUnitIllusion(GetTriggerUnit())==false
endfunction
function COD takes unit X17,unit CL7 returns nothing
local trigger t=UI7(GetHandleId(GetOwningPlayer(CL7)),"Kobold|ItemTrigger")
local integer i=0
local boolean CPD=false
local boolean CQD=false
local boolean CRD=false
local boolean CSD=false
local boolean CTD=false
local boolean CUD=false
local boolean CVD=false
local boolean CWD=false
local boolean CXD=false
call DisableTrigger(t)
call DisableTrigger(H94)
loop
exitwhen i>5
if GetItemTypeId(UnitItemInSlot(CL7,i))==ZU[FV]then
set CPD=true
endif
if GetItemTypeId(UnitItemInSlot(CL7,i))==ZU[F6]then
set CQD=true
endif
if GetItemTypeId(UnitItemInSlot(CL7,i))==ZU[N6]then
set CRD=true
endif
if GetItemTypeId(UnitItemInSlot(CL7,i))==ZU[H6]then
set CSD=true
endif
if GetItemTypeId(UnitItemInSlot(CL7,i))==ZU[G6]then
set CTD=true
endif
if GetItemTypeId(UnitItemInSlot(CL7,i))==ZU[DS4]then
set CUD=true
endif
if GetItemTypeId(UnitItemInSlot(CL7,i))==ZU[F74]then
set CVD=true
endif
if GetItemTypeId(UnitItemInSlot(CL7,i))==(ZU[LB])then
set CWD=true
endif
if GetItemTypeId(UnitItemInSlot(CL7,i))==(ZU[EC])then
set CXD=true
endif
set i=i+1
endloop
if CXD then
call UnitAddItem(X17,CreateItem((ZU[EC]),0,0))
elseif CWD then
call UnitAddItem(X17,CreateItem((ZU[LB]),0,0))
elseif CVD then
call UnitAddItem(X17,CreateItem(ZU[F74],0,0))
elseif CUD then
call UnitAddItem(X17,CreateItem(ZU[DS4],0,0))
elseif CTD then
call UnitAddItem(X17,CreateItem(ZU[G6],0,0))
elseif CSD then
call UnitAddItem(X17,CreateItem(ZU[H6],0,0))
elseif CRD then
call UnitAddItem(X17,CreateItem(ZU[N6],0,0))
elseif CQD then
call UnitAddItem(X17,CreateItem(ZU[F6],0,0))
elseif CPD then
call UnitAddItem(X17,CreateItem(ZU[FV],0,0))
endif
call EnableTrigger(t)
call EnableTrigger(H94)
set t=null
endfunction
function CYD takes nothing returns nothing
local unit KE8=GetTriggerUnit()
local integer i=0
local boolean CPD=false
local boolean CQD=false
local boolean CRD=false
local boolean CSD=false
local boolean CTD=false
local boolean CUD=false
local boolean CVD=false
local boolean CWD=false
local boolean CXD=false
local integer BWD=GetHandleId(GetOwningPlayer(KE8))
local unit K48=UE7(BWD,"Kobold0")
local unit K78=UE7(BWD,"Kobold1")
local unit K88=UE7(BWD,"Kobold2")
local unit K98=UE7(BWD,"Kobold3")
local unit KD8=UE7(BWD,"Kobold4")
local integer CZD
local boolean CAD=false
local integer CBD=0
local integer CCD=0
local integer C3D=0
local integer C6D=0
local integer CLD=0
local integer C1D=0
local integer C0D=0
local integer C5D=0
local integer C2D=0
call DisableTrigger(GetTriggeringTrigger())
if GetUnitTypeId(KE8)==1211117642 then
call UnitRemoveItemFromSlot(KE8,0)
call EnableTrigger(GetTriggeringTrigger())
return
endif
if not(GetItemTypeId(GetManipulatedItem())==ZU[FV]or GetItemTypeId(GetManipulatedItem())==ZU[F6]or GetItemTypeId(GetManipulatedItem())==ZU[N6]or GetItemTypeId(GetManipulatedItem())==ZU[H6]or GetItemTypeId(GetManipulatedItem())==ZU[G6]or GetItemTypeId(GetManipulatedItem())==ZU[DS4]or GetItemTypeId(GetManipulatedItem())==ZU[F74]or GetItemTypeId(GetManipulatedItem())==(ZU[LB])or GetItemTypeId(GetManipulatedItem())==(ZU[EC]))then
call EnableTrigger(GetTriggeringTrigger())
return
endif
if GetTriggerEventId()==EVENT_PLAYER_UNIT_DROP_ITEM then
set CAD=true
endif
loop
exitwhen i>5
set CZD=GetItemTypeId(UnitItemInSlot(KE8,i))
if CZD==ZU[FV]then
set CBD=CBD+1
if(not(CAD and CZD==GetItemTypeId(GetManipulatedItem())))or(CBD>1 and CZD==GetItemTypeId(GetManipulatedItem()))then
set CPD=true
endif
endif
if CZD==ZU[F6]then
set CCD=CCD+1
if(not(CAD and CZD==GetItemTypeId(GetManipulatedItem())))or(CCD>1 and CZD==GetItemTypeId(GetManipulatedItem()))then
set CQD=true
endif
endif
if CZD==ZU[N6]then
set C3D=C3D+1
if(not(CAD and CZD==GetItemTypeId(GetManipulatedItem())))or(C3D>1 and CZD==GetItemTypeId(GetManipulatedItem()))then
set CRD=true
endif
endif
if CZD==ZU[H6]then
set C6D=C6D+1
if(not(CAD and CZD==GetItemTypeId(GetManipulatedItem())))or(C6D>1 and CZD==GetItemTypeId(GetManipulatedItem()))then
set CSD=true
endif
endif
if CZD==ZU[G6]then
set CLD=CLD+1
if(not(CAD and CZD==GetItemTypeId(GetManipulatedItem())))or(CLD>1 and CZD==GetItemTypeId(GetManipulatedItem()))then
set CTD=true
endif
endif
if CZD==ZU[DS4]then
set C1D=C1D+1
if(not(CAD and CZD==GetItemTypeId(GetManipulatedItem())))or(C1D>1 and CZD==GetItemTypeId(GetManipulatedItem()))then
set CUD=true
endif
endif
if CZD==(ZU[F74])then
set C0D=C0D+1
if(not(CAD and CZD==GetItemTypeId(GetManipulatedItem())))or(C0D>1 and CZD==GetItemTypeId(GetManipulatedItem()))then
set CVD=true
endif
endif
if CZD==(ZU[LB])then
set C5D=C5D+1
if(not(CAD and CZD==GetItemTypeId(GetManipulatedItem())))or(C5D>1 and CZD==GetItemTypeId(GetManipulatedItem()))then
set CWD=true
endif
endif
if CZD==(ZU[EC])then
set C2D=C2D+1
if(not(CAD and CZD==GetItemTypeId(GetManipulatedItem())))or(C2D>1 and CZD==GetItemTypeId(GetManipulatedItem()))then
set CXD=true
endif
endif
set i=i+1
endloop
call RemoveItem(UnitRemoveItemFromSlot(K78,0))
if K88!=null then
call RemoveItem(UnitRemoveItemFromSlot(K88,0))
endif
if K98!=null then
call RemoveItem(UnitRemoveItemFromSlot(K98,0))
endif
if KD8!=null then
call RemoveItem(UnitRemoveItemFromSlot(KD8,0))
endif
if CXD then
call UnitAddItem(K78,CreateItem((ZU[EC]),0,0))
if K88!=null then
call UnitAddItem(K88,CreateItem((ZU[EC]),0,0))
endif
if K98!=null then
call UnitAddItem(K98,CreateItem((ZU[EC]),0,0))
endif
if KD8!=null then
call UnitAddItem(KD8,CreateItem((ZU[EC]),0,0))
endif
elseif CWD then
call UnitAddItem(K78,CreateItem((ZU[LB]),0,0))
if K88!=null then
call UnitAddItem(K88,CreateItem((ZU[LB]),0,0))
endif
if K98!=null then
call UnitAddItem(K98,CreateItem((ZU[LB]),0,0))
endif
if KD8!=null then
call UnitAddItem(KD8,CreateItem((ZU[LB]),0,0))
endif
elseif CVD then
call UnitAddItem(K78,CreateItem((ZU[F74]),0,0))
if K88!=null then
call UnitAddItem(K88,CreateItem((ZU[F74]),0,0))
endif
if K98!=null then
call UnitAddItem(K98,CreateItem((ZU[F74]),0,0))
endif
if KD8!=null then
call UnitAddItem(KD8,CreateItem((ZU[F74]),0,0))
endif
elseif CUD then
call UnitAddItem(K78,CreateItem(ZU[DS4],0,0))
if K88!=null then
call UnitAddItem(K88,CreateItem(ZU[DS4],0,0))
endif
if K98!=null then
call UnitAddItem(K98,CreateItem(ZU[DS4],0,0))
endif
if KD8!=null then
call UnitAddItem(KD8,CreateItem((ZU[DS4]),0,0))
endif
elseif CTD then
call UnitAddItem(K78,CreateItem(ZU[G6],0,0))
if K88!=null then
call UnitAddItem(K88,CreateItem(ZU[G6],0,0))
endif
if K98!=null then
call UnitAddItem(K98,CreateItem(ZU[G6],0,0))
endif
if KD8!=null then
call UnitAddItem(KD8,CreateItem((ZU[G6]),0,0))
endif
elseif CSD then
call UnitAddItem(K78,CreateItem(ZU[H6],0,0))
if K88!=null then
call UnitAddItem(K88,CreateItem(ZU[H6],0,0))
endif
if K98!=null then
call UnitAddItem(K98,CreateItem(ZU[H6],0,0))
endif
if KD8!=null then
call UnitAddItem(KD8,CreateItem((ZU[H6]),0,0))
endif
elseif CRD then
call UnitAddItem(K78,CreateItem(ZU[N6],0,0))
if K88!=null then
call UnitAddItem(K88,CreateItem(ZU[N6],0,0))
endif
if K98!=null then
call UnitAddItem(K98,CreateItem(ZU[N6],0,0))
endif
if KD8!=null then
call UnitAddItem(KD8,CreateItem((ZU[N6]),0,0))
endif
elseif CQD then
call UnitAddItem(K78,CreateItem(ZU[F6],0,0))
if K88!=null then
call UnitAddItem(K88,CreateItem(ZU[F6],0,0))
endif
if K98!=null then
call UnitAddItem(K98,CreateItem(ZU[F6],0,0))
endif
if KD8!=null then
call UnitAddItem(KD8,CreateItem((ZU[F6]),0,0))
endif
elseif CPD then
call UnitAddItem(K78,CreateItem(ZU[FV],0,0))
if K88!=null then
call UnitAddItem(K88,CreateItem(ZU[FV],0,0))
endif
if K98!=null then
call UnitAddItem(K98,CreateItem(ZU[FV],0,0))
endif
if KD8!=null then
call UnitAddItem(KD8,CreateItem((ZU[FV]),0,0))
endif
endif
call EnableTrigger(GetTriggeringTrigger())
set KE8=null
set K48=null
set K78=null
set K88=null
set K98=null
endfunction
function C_D takes unit L4D,integer L7D returns nothing
local integer yP=GetHandleId(GetOwningPlayer(L4D))
local unit K48=UE7(yP,"Kobold0")
local unit K78=UE7(yP,"Kobold1")
local unit K88=UE7(yP,"Kobold2")
local unit K98=UE7(yP,"Kobold3")
local unit KD8=UE7(yP,"Kobold4")
if K48!=null and K48!=L4D then
call SelectHeroSkill(K48,L7D)
endif
if K78!=null and K78!=L4D then
call SelectHeroSkill(K78,L7D)
endif
if K88!=null and K88!=L4D then
call SelectHeroSkill(K88,L7D)
endif
if K98!=null and K98!=L4D then
call SelectHeroSkill(K98,L7D)
endif
if KD8!=null and KD8!=L4D then
call SelectHeroSkill(KD8,L7D)
endif
set K48=null
set K78=null
set K88=null
set K98=null
set KD8=null
endfunction
function L8D takes integer N7,unit qf,unit qF returns nothing
local integer T8=1
local integer U8=GetUnitAbilityLevel(qf,N7)
loop
exitwhen T8>U8
call SelectHeroSkill(qF,N7)
set T8=T8+1
endloop
endfunction
function L9D takes unit X17,unit LDD returns nothing
call AddHeroXP(X17,GetHeroXP(LDD),false)
call TT7(GetHandleId(X17),"XPGiven",GetHeroXP(LDD))
call TT7(GetHandleId(X17),"XPEarned",0)
call L8D(1093684792,LDD,X17)
call L8D(1093684802,LDD,X17)
call L8D(1093684791,LDD,X17)
call L8D(1096904043,LDD,X17)
call L8D(1093684567,LDD,X17)
call L8D(1093809987,LDD,X17)
endfunction
function LED takes unit K78,unit K88,integer YJ,integer Yg,integer YG returns nothing
if Yg>YG then
call SelectHeroSkill(K88,YJ)
elseif YG>Yg then
call SelectHeroSkill(K78,YJ)
endif
endfunction
function LFD takes unit K78,unit K88 returns nothing
local integer y8=GetHeroXP(K78)
local integer y9=GetHeroXP(K88)
local integer yW=GetHandleId(K78)
local integer yx=GetHandleId(K88)
local integer yZ=UQ7(yW,"XPGiven")
local integer y4=UQ7(yx,"XPGiven")
local integer VX
if y8>y9 then
set VX=y8-y9
call AddHeroXP(K88,VX,true)
if y9!=GetHeroXP(K88)then
call TT7(yx,"XPGiven",y4+VX)
endif
elseif y8<y9 then
set VX=y9-y8
call AddHeroXP(K78,VX,true)
if y8!=GetHeroXP(K78)then
call TT7(yW,"XPGiven",yZ+VX)
endif
endif
endfunction
function LGD takes unit K78,unit K88 returns nothing
local integer LHD=GetUnitAbilityLevel(K78,1093684792)
local integer LID=GetUnitAbilityLevel(K78,1093684802)
local integer LJD=GetUnitAbilityLevel(K78,1093684791)
local integer LKD=GetUnitAbilityLevel(K78,1093684567)
local integer LMD=GetUnitAbilityLevel(K78,1096904043)
local integer LND=GetUnitAbilityLevel(K78,1093809987)
local integer LOD=GetUnitAbilityLevel(K88,1093684792)
local integer LPD=GetUnitAbilityLevel(K88,1093684802)
local integer LQD=GetUnitAbilityLevel(K88,1093684791)
local integer LRD=GetUnitAbilityLevel(K88,1093684567)
local integer LSD=GetUnitAbilityLevel(K88,1096904043)
local integer LTD=GetUnitAbilityLevel(K88,1093809987)
call LFD(K78,K88)
call LED(K78,K88,1093684792,LHD,LOD)
call LED(K78,K88,1093684802,LID,LPD)
call LED(K78,K88,1093684791,LJD,LQD)
call LED(K78,K88,1093684567,LKD,LRD)
call LED(K78,K88,1093809987,LND,LTD)
call LED(K78,K88,1096904043,LMD,LSD)
endfunction
function LUD takes unit K78,unit K88 returns nothing
if K78!=null and K88!=null then
call LGD(K78,K88)
endif
endfunction
function LVD takes nothing returns nothing
local integer BWD=GetHandleId(UG7(GetHandleId(GetTriggeringTrigger()),"PlayerVar"))
local unit K48=UE7(BWD,"Kobold0")
local unit K78=UE7(BWD,"Kobold1")
local unit K88=UE7(BWD,"Kobold2")
local unit K98=UE7(BWD,"Kobold3")
local unit KD8=UE7(BWD,"Kobold4")
call DisableTrigger(PR4)
call LUD(K48,K78)
call LUD(K48,K88)
call LUD(K48,K98)
call LUD(K48,KD8)
call LUD(K78,K88)
call LUD(K78,K98)
call LUD(K78,KD8)
call LUD(K88,K98)
call LUD(K88,KD8)
call LUD(K98,KD8)
call EnableTrigger(PR4)
set K48=null
set K78=null
set K88=null
set K98=null
set KD8=null
endfunction
function LWD takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterTimerEvent(t,.2,true)
call TriggerAddAction(t,function LVD)
call T37(GetHandleId(t),"PlayerVar",GetOwningPlayer(GetTriggerUnit()))
set t=null
endfunction
function LXD takes unit EL8 returns nothing
local trigger t
call TX7(GetHandleId(GetOwningPlayer(EL8)),"Kobold0",EL8)
call TT7(GetHandleId(EL8),"XPEarned",GetHeroXP(EL8))
call TT7(GetHandleId(EL8),"XPGiven",0)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddAction(t,function BUD)
call T37(GetHandleId(t),"PlayerVar",GetOwningPlayer(EL8))
call TZ7(GetHandleId(GetOwningPlayer(EL8)),"Kobold|XPTrigger",t)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.3,true)
call TriggerAddAction(t,function BHD)
call T37(GetHandleId(t),"PlayerVar",GetOwningPlayer(EL8))
call TZ7(GetHandleId(GetOwningPlayer(EL8)),"Kobold|AttributesTrigger",t)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(t,function CMD)
call TriggerAddCondition(t,Condition(function CKD))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call D28(t,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddAction(t,function CYD)
call TriggerAddCondition(t,Condition(function CND))
call TZ7(GetHandleId(GetOwningPlayer(EL8)),"Kobold|ItemTrigger",t)
call ExecuteFunc("LWD")
set t=null
endfunction
function LYD takes unit EL8,boolean LZD returns nothing
local player QVD=GetOwningPlayer(EL8)
local integer OL7=GetHandleId(QVD)
local unit X17
set BM4=BM4+1
if BM4==1 then
call LXD(EL8)
endif
call TriggerExecute(UI7(GetHandleId(GetOwningPlayer(EL8)),"Kobold|XPTrigger"))
call TriggerExecute(UI7(GetHandleId(GetOwningPlayer(EL8)),"Kobold|AttributesTrigger"))
if LZD==false then
call C_D(EL8,1093684567)
call C_D(EL8,1093809987)
endif
set X17=CreateUnit(GetOwningPlayer(EL8),1211117642,GetUnitX(EL8),GetUnitY(EL8),0)
call L9D(X17,EL8)
call COD(X17,EL8)
call TX7(OL7,"Kobold"+I2S(BM4),X17)
set X17=null
endfunction
function LAD takes nothing returns nothing
if BN4==false then
set BN4=true
call DisableTrigger(PR4)
call LYD(IN4,true)
call EnableTrigger(PR4)
endif
endfunction
function LBD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
if IsUnitIllusion(GetTriggerUnit())==false and GetOwningPlayer(GetTriggerUnit())==GetOwningPlayer(EL8)and BFD(GetTriggerUnit())then
if GetLearnedSkill()==1093684567 or GetLearnedSkill()==1093809987 then
call DisableTrigger(GetTriggeringTrigger())
call LYD(GetTriggerUnit(),false)
call EnableTrigger(GetTriggeringTrigger())
elseif GetLearnedSkill()==1096904043 or GetLearnedSkill()==1093684792 or GetLearnedSkill()==1093684802 or GetLearnedSkill()==1093684791 then
call TriggerExecute(UI7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"Kobold|XPTrigger"))
call TriggerExecute(UI7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"Kobold|AttributesTrigger"))
call DisableTrigger(GetTriggeringTrigger())
call C_D(GetTriggerUnit(),GetLearnedSkill())
call EnableTrigger(GetTriggeringTrigger())
endif
endif
set EL8=null
return false
endfunction
function LCD takes nothing returns nothing
local unit EL8=IN4
local integer OL7
set BK4=CreateTrigger()
set PR4=BK4
set OL7=GetHandleId(BK4)
call D28(BK4,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(BK4,Condition(function LBD))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
set EL8=null
endfunction
function Yu takes nothing returns boolean
return IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and LR7(GetFilterUnit())==false and D19(GetFilterUnit())==false)
endfunction
function YU takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
local integer BK7=UQ7(UL7,"Level")
local group g
local unit u
local real d
local real a
local real L3D
local real L6D
local unit HE8=UE7(UL7,"Caster")
if GetTriggerEvalCount(t)>32 then
call TQ7(UL7)
call U37(t)
else
set g=CA7()
set IN4=CR7
call GroupEnumUnitsInRange(g,GetUnitX(CR7),GetUnitY(CR7),500,Condition(function Yu))
set u=GroupPickRandomUnit(g)
if u==null then
set d=GetRandomReal(175,400)
set a=GetRandomReal(0,6)
set L3D=GetUnitX(CR7)+d*Cos(a)
set L6D=GetUnitY(CR7)+d*Sin(a)
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\SteamTank\\SteamTankImpact.mdl",L3D,L6D))
else
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\SteamTank\\SteamTankImpact.mdl",u,"origin"))
call HG8(HE8,u,ZK4,12.5*BK7)
endif
call CZ7(g)
endif
set u=null
set g=null
set t=null
set CR7=null
return false
endfunction
function Yv takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=GetTriggerUnit()
local unit HE8=CreateUnit(GetOwningPlayer(CR7),1697656901,GetUnitX(CR7),GetUnitY(CR7),0)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\RocketMissile\\RocketMissile.mdl",CR7,"hand right"))
call TX7(UL7,"Hero",CR7)
call TX7(UL7,"Caster",HE8)
call TT7(UL7,"Level",GetUnitAbilityLevel(CR7,1093677877))
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerAddCondition(t,Condition(function YU))
set t=null
set CR7=null
endfunction
function LLD takes nothing returns boolean
if GetSpellAbilityId()==1093677877 then
call Yv()
endif
return false
endfunction
function OL8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function LLD))
set t=null
endfunction
function L1D takes nothing returns nothing
local unit EL8=ZM4
local unit O_7=GetEnumUnit()
call HG8(EL8,O_7,ZG4,ZN4)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl",O_7,"origin"))
set EL8=null
set O_7=null
endfunction
function L0D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit EL8=UE7(UL7,"Source")
local integer HF8=GetUnitAbilityLevel(EL8,1093808454)
local group g
if HF8!=0 then
if HF8==1 then
set ZN4=66
elseif HF8==2 then
set ZN4=100
else
set ZN4=144
endif
else
set HF8=GetUnitAbilityLevel(EL8,1093808455)
if HF8==1 then
set ZN4=88
elseif HF8==2 then
set ZN4=133
else
set ZN4=177
endif
endif
if GetTriggerEventId()==EVENT_WIDGET_DEATH or GetUnitState(EL8,UNIT_STATE_MANA)<20*HF8 or(LoadInteger(L7,(GetHandleId(EL8)),(704)))==-1 or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and(GetSpellAbilityId()==1093808456 or GetSpellAbilityId()==1093809992))then
if(LoadInteger(L7,(GetHandleId(EL8)),(704)))==0 or(LoadInteger(L7,(GetHandleId(EL8)),(704)))==1093808454 then
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093808454,true)
endif
if(LoadInteger(L7,(GetHandleId(EL8)),(704)))==0 or(LoadInteger(L7,(GetHandleId(EL8)),(704)))==1093808455 then
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093808455,true)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093808456,false)
call TQ7(UL7)
call U37(t)
call UB7(EL8,"AI|PulseNova")
elseif GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT then
call SetUnitState(EL8,UNIT_STATE_MANA,GetUnitState(EL8,UNIT_STATE_MANA)-20*HF8)
set IN4=EL8
set ZM4=EL8
set g=CA7()
call GroupEnumUnitsInRange(g,GetUnitX(EL8),GetUnitY(EL8),475,Condition(function FW8))
call ForGroup(g,function L1D)
call CZ7(g)
set g=null
endif
set t=null
return false
endfunction
function L5D takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl",EL8,"origin"))
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093808454,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093808455,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093808456,true)
call UnitAddAbility(EL8,1093808456)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterDeathEvent(t,EL8)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function L0D))
call TX7(UL7,"Source",EL8)
call TriggerEvaluate(t)
call UZ7(EL8,"AI|PulseNova")
set EL8=null
set t=null
endfunction
function Yy takes nothing returns boolean
if GetSpellAbilityId()==1093808454 or GetSpellAbilityId()==1093808455 then
call L5D()
endif
return false
endfunction
function O18 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function Yy))
set t=null
endfunction
function L2D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local unit HXD=(LoadUnitHandle(L7,(OL7),(374)))
local integer HF8=(LoadInteger(L7,(OL7),(5)))
local integer L_D=(LoadInteger(L7,(OL7),(233)))
local integer END=(LoadInteger(L7,(OL7),(12)))
local unit HE8
local group g
local real a
local real x
local real y
local integer D4E=(LoadInteger(L7,(OL7),(720)))
if D4E>0 then
set D4E=D4E-1
call SaveInteger(L7,(OL7),(720),(D4E))
return false
endif
if RI7(GetUnitX(HXD),GetUnitY(HXD),GetUnitX(O_7),GetUnitY(O_7))>20 then
set a=PS7(GetUnitX(HXD),GetUnitY(HXD),GetUnitX(O_7),GetUnitY(O_7))
call SetUnitFacing(HXD,a)
set x=GetUnitX(HXD)+13.5*Cos(a*bj_DEGTORAD)
set y=GetUnitY(HXD)+13.5*Sin(a*bj_DEGTORAD)
call SetUnitX(HXD,x)
call SetUnitY(HXD,y)
else
if LR7(O_7)==false then
set HE8=CreateUnit(GetOwningPlayer(EL8),1697656901,GetUnitX(O_7),GetUnitY(O_7),0)
call LP7(HE8,1093679409)
call SetUnitAbilityLevel(HE8,1093679409,HF8)
call IssueTargetOrder(HE8,"frostnova",O_7)
endif
if L_D>END then
call RemoveUnit(HXD)
call FlushChildHashtable(L7,(OL7))
call U37(t)
else
set g=CA7()
set IN4=EL8
call GroupEnumUnitsInRange(g,GetUnitX(O_7),GetUnitY(O_7),600,Condition(function G78))
call GroupRemoveUnit(g,O_7)
set O_7=GroupPickRandomUnit(g)
call CZ7(g)
if O_7==null then
call RemoveUnit(HXD)
call FlushChildHashtable(L7,(OL7))
call U37(t)
else
call SaveInteger(L7,(OL7),(720),(10))
call SaveInteger(L7,(OL7),(233),(L_D+1))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
endif
endif
endif
set t=null
set EL8=null
set O_7=null
set HXD=null
set HE8=null
set g=null
return false
endfunction
function D7E takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local integer HF8=GetUnitAbilityLevel(EL8,1093678420)
local integer END=7
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit HXD
if GetSpellAbilityId()==1093679176 then
set HF8=GetUnitAbilityLevel(EL8,1093679176)+1
set END=7
endif
set HXD=CreateUnit(GetOwningPlayer(EL8),1697656889,GetUnitX(EL8),GetUnitY(EL8),0)
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveUnitHandle(L7,(OL7),(374),(HXD))
call SaveInteger(L7,(OL7),(5),(HF8))
call SaveInteger(L7,(OL7),(233),(1))
call SaveInteger(L7,(OL7),(12),(END))
call SaveInteger(L7,(OL7),(720),(0))
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function L2D))
set EL8=null
set O_7=null
set HXD=null
set t=null
endfunction
function D8E takes nothing returns boolean
if GetSpellAbilityId()==1093678420 or GetSpellAbilityId()==1093679176 then
call D7E()
endif
return false
endfunction
function O58 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function D8E))
set t=null
endfunction
function D9E takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer BK7=GetUnitAbilityLevel(p5,1093679412)
local integer DDE=GetHeroLevel(m5)
local real B29=GetUnitState(m5,UNIT_STATE_MAX_LIFE)*0.2
if ModuloInteger(DDE,7-BK7)==0 or DDE==25 then
call HG8(p5,m5,ZG4,B29)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Demon\\DemonBoltImpact\\DemonBoltImpact.mdl",m5,"chest"))
endif
set p5=null
set m5=null
endfunction
function DEE takes nothing returns boolean
if GetSpellAbilityId()==1093679412 then
call D9E()
endif
return false
endfunction
function O28 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function DEE))
set t=null
endfunction
function DFE takes unit EL8 returns nothing
call UnitRemoveAbility(EL8,1093750609)
call UnitRemoveAbility(EL8,1093750610)
call UnitRemoveAbility(EL8,1093750611)
call UnitRemoveAbility(EL8,1093750612)
call UnitRemoveAbility(EL8,1093750613)
call UnitRemoveAbility(EL8,1093750614)
call UnitRemoveAbility(EL8,1093750615)
call UnitRemoveAbility(EL8,1093750616)
call UnitRemoveAbility(EL8,1093750617)
call UnitRemoveAbility(EL8,1395667021)
call UnitRemoveAbility(EL8,1093750618)
call UnitRemoveAbility(EL8,1395667022)
call UnitRemoveAbility(EL8,1093750832)
call UnitRemoveAbility(EL8,1093750833)
call UnitRemoveAbility(EL8,1093750839)
call UnitRemoveAbility(EL8,1093750849)
call UnitRemoveAbility(EL8,1093750835)
call UnitRemoveAbility(EL8,1093750836)
call UnitRemoveAbility(EL8,1093750837)
call UnitRemoveAbility(EL8,1093750838)
call UnitRemoveAbility(EL8,1093812551)
endfunction
function DGE takes unit EL8,unit O_7 returns nothing
local integer DHE=GetUnitTypeId(O_7)
local integer DIE=0
local integer DJE=0
if DHE==1848658008 then
set DIE=1093750609
elseif DHE==1852796263 then
set DIE=1093750610
elseif DHE==1852207221 then
set DIE=1093750611
elseif DHE==1853060204 then
set DIE=1093750612
elseif DHE==1853055348 then
set DIE=1093750613
elseif DHE==1853060200 then
set DIE=1093750614
set DJE=1093750615
elseif DHE==1848651859 then
set DIE=1093750616
set DJE=1093750617
elseif DHE==1852534636 then
set DIE=1395667021
elseif DHE==1852207976 then
set DIE=1093750618
set DJE=1093812551
elseif DHE==1852010091 then
set DIE=1395667022
set DJE=1093750832
elseif DHE==1852272243 then
set DIE=1093750833
elseif DHE==1852270641 then
set DIE=1093750839
set DJE=1093750849
elseif DHE==1852798821 then
set DIE=1093750835
set DJE=1093750836
elseif DHE==1852077175 then
set DIE=1093750837
set DJE=1093750838
elseif DHE==1853320295 then
set DIE=1093750617
endif
if DIE!=0 then
call DFE(EL8)
call LP7(EL8,DIE)
endif
if DJE!=0 then
call LP7(EL8,DJE)
endif
endfunction
function DKE takes real DME returns string
local string c1="|c00ff0303"
local string c="||"
local string p=" "
local string s=c1+c+"|r"
local string DNE
if DME>85 then
set DNE=s+p+s+p+s+p+s+p+s+p+s+p+s
elseif DME>70 then
set DNE=s+p+s+p+s+p+s+p+s+p+s+p+c
elseif DME>55 then
set DNE=s+p+s+p+s+p+s+p+s+p+c+p+c
elseif DME>40 then
set DNE=s+p+s+p+s+p+s+p+c+p+c+p+c
elseif DME>25 then
set DNE=s+p+s+p+s+p+c+p+c+p+c+p+c
elseif DME>10 then
set DNE=s+p+s+p+c+p+c+p+c+p+c+p+c
elseif DME>0 then
set DNE=s+p+c+p+c+p+c+p+c+p+c+p+c
else
set DNE=c+p+c+p+c+p+c+p+c+p+c+p+c
endif
return DNE
endfunction
function DOE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
local integer BK7=UQ7(UL7,"Level")
local integer DPE=UQ7(UL7,"TypeID")
local real HP=UR7(UL7,"HP")
local texttag tt=UF7(UL7,"tt")
local integer iX=GetTriggerEvalCount(t)
local real DQE=DU8(HP-iX,0)
local boolean DRE=true
call SetTextTagText(tt,DKE(100*DQE/ HP),0.018)
call SetTextTagPosUnit(tt,CR7,0)
if IsUnitVisible(CR7,GetLocalPlayer())==false and CP7(GetLocalPlayer())==false then
set DRE=false
endif
call SetTextTagVisibility(tt,DRE)
if DQE==0 then
call EY8(GetOwningPlayer(CR7),CR7,25*BK7)
endif
if DQE==0 or GetTriggerEventId()==EVENT_UNIT_DEATH then
call SetPlayerAbilityAvailable(GetOwningPlayer(CR7),1093742674,true)
call UnitRemoveAbility(CR7,1093742675)
call TQ7(UL7)
call U37(t)
call DestroyTextTag(tt)
endif
set t=null
set CR7=null
return false
endfunction
function DSE takes nothing returns nothing
local unit CL7=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local integer BK7=GetUnitAbilityLevel(CL7,1093742674)
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local real HP=GetUnitState(O_7,UNIT_STATE_LIFE)
local integer DTE=GetUnitLevel(O_7)
local integer DPE=GetUnitTypeId(O_7)
local texttag tt=CreateTextTag()
local boolean DRE=true
local unit HE8=CreateUnit(GetOwningPlayer(CL7),1697656901,0,0,0)
call D68("SPLK",GetUnitX(CL7),GetUnitY(CL7),GetUnitX(O_7),GetUnitY(O_7),0.1,0.1,0.2,.9,0.5)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\Devour\\DevourEffectArt.mdl",GetUnitX(O_7),GetUnitY(O_7)))
if IsUnitVisible(CL7,GetLocalPlayer())==false then
set DRE=false
endif
call DGE(CL7,O_7)
call SetTextTagText(tt,DKE(100),0.018)
call SetTextTagPosUnit(tt,CL7,0)
call SetTextTagVisibility(tt,DRE)
call SetTextTagPermanent(tt,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(CL7),1093742674,false)
call LP7(CL7,1093742675)
call TX7(UL7,"Hero",CL7)
call T57(UL7,"tt",tt)
call TT7(UL7,"TypeID",DPE)
call TT7(UL7,"Level",BK7)
call TU7(UL7,"HP",HP)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerRegisterUnitEvent(t,CL7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function DOE))
call ShowUnit(O_7,false)
call UnitRemoveBuffs(O_7,true,true)
call UnitRemoveAbility(O_7,1097167980)
call UnitDamageTarget(HE8,O_7,100000000.00,true,false,ATTACK_TYPE_MELEE,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
set t=null
set CL7=null
set O_7=null
set HE8=null
endfunction
function DUE takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer BK7=GetUnitAbilityLevel(CR7,1093742674)
local integer DTE=GetUnitLevel(m5)
if(GetOwningPlayer(m5)!=Z7[0]and GetOwningPlayer(m5)!=A7[0])and((BK7==1 and DTE>2)or(BK7==2 and DTE>4)or(BK7==3 and DTE>5)or(BK7==4 and DTE>6))then
endif
set CR7=null
set m5=null
endfunction
function DVE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local integer id=UQ7(UL7,"Count")
call TQ7(UL7)
call U37(t)
set t=null
set p5=null
return false
endfunction
function DWE takes nothing returns nothing
local integer id=GetSpellAbilityId()
local trigger t
local integer UL7
if id==1093750609 or id==1093750610 or id==1093750611 or id==1093750612 or id==1093750613 or id==1093750614 or id==1093750615 or id==1093750616 or id==1093750617 or id==1395667021 or id==1093750618 or id==1395667022 or id==1093750832 or id==1093750833 or id==1093750834 or id==1093750835 or id==1093750836 or id==1093750837 or id==1093750838 then
set t=CreateTrigger()
set UL7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,1,false)
call TriggerAddCondition(t,Condition(function DVE))
call TX7(UL7,"Source",GetTriggerUnit())
call TT7(UL7,"Count",id)
set t=null
endif
endfunction
function DXE takes nothing returns boolean
if GetSpellAbilityId()==1093742674 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST then
call DUE()
else
call DSE()
endif
elseif GetUnitTypeId(GetTriggerUnit())==1430467634 then
call DWE()
endif
return false
endfunction
function O_8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call D28(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function DXE))
set t=null
endfunction
function DYE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
call UnitRemoveAbility(p5,1093750604)
call UnitRemoveAbility(p5,1093750606)
call UnitRemoveAbility(p5,1093750607)
call UnitRemoveAbility(p5,1093750605)
call UnitRemoveAbility(p5,1110455370)
call TQ7(UL7)
call U37(t)
set t=null
set p5=null
return false
endfunction
function DZE takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local integer HF8=GetUnitAbilityLevel(EL8,1093750608)
if HF8==1 then
call LP7(EL8,1093750604)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093750604,false)
elseif HF8==2 then
call LP7(EL8,1093750606)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093750606,false)
elseif HF8==3 then
call LP7(EL8,1093750607)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093750607,false)
elseif HF8==4 then
call LP7(EL8,1093750605)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093750605,false)
endif
call TriggerRegisterTimerEvent(t,8+2*HF8,false)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function DYE))
call TX7(OL7,"Source",EL8)
set EL8=null
set t=null
endfunction
function DAE takes nothing returns boolean
if GetSpellAbilityId()==1093750608 then
call DZE()
endif
return false
endfunction
function P48 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function DAE))
set t=null
endfunction
function DBE takes nothing returns boolean
local real x
local real y
if(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),1113815395)>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit())))then
set x=A2+GetRandomReal(20,70)*Cos(GetUnitFacing(GetTriggerUnit())*bj_DEGTORAD)
set y=N2+GetRandomReal(20,70)*Sin(GetUnitFacing(GetTriggerUnit())*bj_DEGTORAD)
call SetUnitPosition(GetFilterUnit(),x,y)
endif
return false
endfunction
function DCE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local real x=GetUnitX(p5)
local real y=GetUnitY(p5)
local group g=CA7()
local unit HE8=CreateUnit(GetOwningPlayer(p5),1697656901,x,y,0)
local integer HF8=GetUnitAbilityLevel(p5,1093810508)
set A2=GetUnitX(p5)+100*Cos(GetUnitFacing(p5)*bj_DEGTORAD)
set N2=GetUnitY(p5)+100*Sin(GetUnitFacing(p5)*bj_DEGTORAD)
call GroupEnumUnitsInRange(g,x,y,410+24,Condition(function DBE))
call CZ7(g)
call LP7(HE8,1093678662)
call SetUnitAbilityLevel(HE8,1093678662,HF8)
call IssueImmediateOrder(HE8,"stomp")
set p5=null
set g=null
endfunction
function D3E takes nothing returns boolean
if GetSpellAbilityId()==1093810508 then
call DCE()
endif
return false
endfunction
function P78 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function D3E))
set t=null
endfunction
function D6E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer CF7=GetHandleId(t)
local unit F7D=(LoadUnitHandle(L7,(CF7),(17)))
if GetUnitAbilityLevel(F7D,1110454357)==0 or GetTriggerEventId()==EVENT_UNIT_DEATH then
call UnitRemoveAbility(F7D,1093751088)
call UnitRemoveAbility(F7D,1093751089)
call UnitRemoveAbility(F7D,1093751090)
call UnitRemoveAbility(F7D,1093751091)
call FlushChildHashtable(L7,(CF7))
call U37(t)
endif
set t=null
set F7D=null
return false
endfunction
function DLE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer CF7=GetHandleId(t)
local unit FFD=GetTriggerUnit()
local unit F7D=GetSpellTargetUnit()
local integer RS7=GetUnitAbilityLevel(FFD,1093677879)
local integer D1E
if RS7==1 then
set D1E=1093751088
elseif RS7==2 then
set D1E=1093751089
elseif RS7==3 then
set D1E=1093751090
elseif RS7==4 then
set D1E=1093751091
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(F7D),D1E,false)
call LP7(F7D,D1E)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterUnitEvent(t,F7D,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function D6E))
call SaveUnitHandle(L7,(CF7),(17),(F7D))
set t=null
set FFD=null
set F7D=null
endfunction
function D0E takes nothing returns boolean
if GetSpellAbilityId()==1093677879 then
call DLE()
endif
return false
endfunction
function P88 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function D0E))
set t=null
endfunction
function D5E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer CF7=GetHandleId(t)
local unit F7D=(LoadUnitHandle(L7,(CF7),(17)))
call UnitRemoveAbility(F7D,1093751094)
call UnitRemoveAbility(F7D,1110459224)
call FlushChildHashtable(L7,(CF7))
call U37(t)
set t=null
set F7D=null
return false
endfunction
function D2E takes unit FFD,unit F7D,integer RS7 returns nothing
local trigger t=CreateTrigger()
local integer CF7=GetHandleId(t)
call SetUnitPathing(F7D,true)
call TriggerRegisterTimerEvent(t,2.5,false)
call TriggerRegisterUnitEvent(t,F7D,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function D5E))
call SaveUnitHandle(L7,(CF7),(17),(F7D))
call LP7(F7D,1093751094)
call UnitMakeAbilityPermanent(F7D,true,1093751094)
call SetPlayerAbilityAvailable(GetOwningPlayer(F7D),1093751094,false)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\HumanBloodKnight.mdl",F7D,"chest"))
call HG8(FFD,F7D,ZG4,70*RS7)
set t=null
endfunction
function D_E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer CF7=GetHandleId(t)
local unit FFD=(LoadUnitHandle(L7,(CF7),(2)))
local unit E4E=(LoadUnitHandle(L7,(CF7),(393)))
local unit E7E=(LoadUnitHandle(L7,(CF7),(394)))
local unit E8E=(LoadUnitHandle(L7,(CF7),(395)))
local unit E9E=(LoadUnitHandle(L7,(CF7),(396)))
local integer RS7=(LoadInteger(L7,(CF7),(5)))
local real EDE=(LoadReal(L7,(CF7),(47)))
local real EEE=(LoadReal(L7,(CF7),(48)))
local real EFE=(LoadReal(L7,(CF7),(13)))
local real EGE=(LoadReal(L7,(CF7),(6)))
local real EHE=(LoadReal(L7,(CF7),(7)))
local real EIE=DF8(EGE+19*Cos(EFE))
local real EJE=DG8(EHE+19*Sin(EFE))
local group g
local integer EKE=(LoadInteger(L7,(CF7),(12)))
local location l
call SetUnitPosition(FFD,EIE,EJE)
call SetUnitFacing(FFD,EFE*bj_RADTODEG)
call SaveReal(L7,(CF7),(6),((EIE)*1.0))
call SaveReal(L7,(CF7),(7),((EJE)*1.0))
if ModuloInteger(GetTriggerEvalCount(t),4)==0 then
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",EIE,EJE))
endif
if GetTriggerEvalCount(t)==2 then
call SetUnitAnimationByIndex(FFD,3)
endif
if E4E==null or E7E==null or E8E==null or E9E==null then
set IN4=FFD
set g=CA7()
call GroupEnumUnitsInRange(g,EIE,EJE,125+25,Condition(function GG8))
if FirstOfGroup(g)!=null then
if E4E!=null then
call GroupRemoveUnit(g,E4E)
endif
if E7E!=null then
call GroupRemoveUnit(g,E7E)
endif
if E8E!=null then
call GroupRemoveUnit(g,E8E)
endif
if FirstOfGroup(g)!=null then
if E4E==null then
set E4E=FirstOfGroup(g)
call SetUnitPathing(E4E,false)
call U07(E4E,"4404",5)
elseif E7E==null and RS7>1 then
set E7E=FirstOfGroup(g)
call SetUnitPathing(E7E,false)
call U07(E7E,"4404",5)
elseif E8E==null and RS7>2 then
set E8E=FirstOfGroup(g)
call SetUnitPathing(E8E,false)
call U07(E8E,"4404",5)
elseif E9E==null and RS7>3 then
set E9E=FirstOfGroup(g)
call SetUnitPathing(E9E,false)
call U07(E9E,"4404",5)
endif
endif
endif
call CZ7(g)
set g=null
endif
call SaveUnitHandle(L7,(CF7),(393),(E4E))
call SaveUnitHandle(L7,(CF7),(394),(E7E))
call SaveUnitHandle(L7,(CF7),(395),(E8E))
call SaveUnitHandle(L7,(CF7),(396),(E9E))
if E4E!=null then
call SetUnitPosition(E4E,EIE,EJE)
endif
if E7E!=null then
call SetUnitPosition(E7E,EIE,EJE)
endif
if E8E!=null then
call SetUnitPosition(E8E,EIE,EJE)
endif
if E9E!=null then
call SetUnitPosition(E9E,EIE,EJE)
endif
if ModuloInteger(GetTriggerEvalCount(t),3)==0 then
call E78(EIE,EJE,200)
endif
if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>EKE then
call DestroyEffect((LoadEffectHandle(L7,(CF7),(175))))
call SetUnitAnimationByIndex(FFD,0)
call SetUnitTimeScale(FFD,1.0)
call SetUnitPathing(FFD,true)
call FlushChildHashtable(L7,(CF7))
call U37(t)
if E4E!=null then
if IsPointInRegion(IU4,GetUnitX(E4E),GetUnitY(E4E))==true then
set l=D09(GetUnitX(E4E),GetUnitY(E4E))
call SetUnitX(E4E,DF8(GetLocationX(l)))
call SetUnitY(E4E,DG8(GetLocationY(l)))
call RemoveLocation(l)
set l=null
endif
call D2E(FFD,E4E,RS7)
call E78(GetUnitX(E4E),GetUnitY(E4E),300)
endif
if E7E!=null then
if IsPointInRegion(IU4,GetUnitX(E7E),GetUnitY(E7E))==true then
set l=D09(GetUnitX(E7E),GetUnitY(E7E))
call SetUnitX(E7E,DF8(GetLocationX(l)))
call SetUnitY(E7E,DG8(GetLocationY(l)))
call RemoveLocation(l)
set l=null
endif
call D2E(FFD,E7E,RS7)
call E78(GetUnitX(E7E),GetUnitY(E7E),300)
endif
if E8E!=null then
if IsPointInRegion(IU4,GetUnitX(E8E),GetUnitY(E8E))==true then
set l=D09(GetUnitX(E8E),GetUnitY(E8E))
call SetUnitX(E8E,DF8(GetLocationX(l)))
call SetUnitY(E8E,DG8(GetLocationY(l)))
call RemoveLocation(l)
set l=null
endif
call D2E(FFD,E8E,RS7)
call E78(GetUnitX(E8E),GetUnitY(E8E),300)
endif
if E9E!=null then
if IsPointInRegion(IU4,GetUnitX(E9E),GetUnitY(E9E))==true then
set l=D09(GetUnitX(E9E),GetUnitY(E9E))
call SetUnitX(E9E,DF8(GetLocationX(l)))
call SetUnitY(E9E,DG8(GetLocationY(l)))
call RemoveLocation(l)
set l=null
endif
call D2E(FFD,E9E,RS7)
call E78(GetUnitX(E9E),GetUnitY(E9E),300)
endif
if E4E!=null and LR7(E4E)==false then
call IssueTargetOrder(FFD,"attack",E4E)
elseif E7E!=null and LR7(E7E)==false then
call IssueTargetOrder(FFD,"attack",E7E)
elseif E8E!=null and LR7(E8E)==false then
call IssueTargetOrder(FFD,"attack",E8E)
elseif E9E!=null and LR7(E9E)==false then
call IssueTargetOrder(FFD,"attack",E9E)
endif
call E78(EIE,EJE,375)
if IsPointInRegion(IU4,GetUnitX(FFD),GetUnitY(FFD))==true then
set l=D09(GetUnitX(FFD),GetUnitY(FFD))
call SetUnitX(FFD,DF8(GetLocationX(l)))
call SetUnitY(FFD,DG8(GetLocationY(l)))
call RemoveLocation(l)
set l=null
endif
endif
set t=null
set FFD=null
set E4E=null
set E7E=null
set E8E=null
set E9E=null
return false
endfunction
function EME takes nothing returns nothing
local trigger t=CreateTrigger()
local integer CF7=GetHandleId(t)
local real EDE=DF8(GetSpellTargetX())
local real EEE=DG8(GetSpellTargetY())
local unit FFD=GetTriggerUnit()
local real WQD=GetUnitX(FFD)
local real ENE=GetUnitY(FFD)
local integer RS7=GetUnitAbilityLevel(FFD,1093751364)
local real a=PS7(WQD,ENE,EDE,EEE)*bj_DEGTORAD
local real EOE=400+200*RS7+25
if RI7(WQD,ENE,EDE,EEE)>EOE then
set EDE=DF8(WQD+EOE*Cos(a))
set EEE=DG8(ENE+EOE*Sin(a))
endif
call SetUnitPathing(FFD,false)
call SetUnitAnimationByIndex(FFD,3)
call SetUnitTimeScale(FFD,1.5)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterUnitEvent(t,FFD,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function D_E))
call SaveUnitHandle(L7,(CF7),(2),(FFD))
call SaveInteger(L7,(CF7),(5),(RS7))
call SaveUnitHandle(L7,(CF7),(393),(null))
call SaveUnitHandle(L7,(CF7),(394),(null))
call SaveUnitHandle(L7,(CF7),(395),(null))
call SaveUnitHandle(L7,(CF7),(396),(null))
call SaveReal(L7,(CF7),(47),((EDE)*1.0))
call SaveReal(L7,(CF7),(48),((EEE)*1.0))
call SaveReal(L7,(CF7),(6),((WQD)*1.0))
call SaveReal(L7,(CF7),(7),((ENE)*1.0))
call SaveReal(L7,(CF7),(13),((Atan2(EEE-ENE,EDE-WQD))*1.0))
call SaveInteger(L7,(CF7),(12),(R2I(RI7(WQD,ENE,EDE,EEE)/19.0)))
call SaveEffectHandle(L7,(CF7),(175),(AddSpecialEffectTarget("war3mapImported\\SkewerTuskGlow_1.mdx",FFD,"head")))
set t=null
set FFD=null
endfunction
function EPE takes nothing returns boolean
if GetSpellAbilityId()==1093751364 then
call EME()
endif
return false
endfunction
function EQE takes nothing returns boolean
if GetSpellAbilityId()==1093751364 then
call SetUnitAnimationByIndex(GetTriggerUnit(),7)
endif
return false
endfunction
function P98 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function EPE))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function EQE))
set t=null
endfunction
function ERE takes nothing returns boolean
if GetSpellAbilityId()==1093747504 then
call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),1093748052,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),1093748051,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),1093748049,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),1093748050,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),1093808966,false)
endif
return false
endfunction
function PD8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ERE))
set t=null
endfunction
function ESE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local integer HF8=GetUnitAbilityLevel(EL8,JJ7)
call SetUnitState(O_7,UNIT_STATE_LIFE,GetUnitState(O_7,UNIT_STATE_LIFE)+0.1*(20+GetUnitState(O_7,UNIT_STATE_MAX_LIFE)*(0.02+0.01*HF8)))
if GetTriggerEvalCount(t)>39 or(GetTriggerEvalCount(t)==1 and IsUnitHidden(O_7))then
call UnitRemoveAbility(O_7,JK7)
call DestroyEffect((LoadEffectHandle(L7,(OL7),(609))))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(610))))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(611))))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(612))))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(613))))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(614))))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(615))))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(616))))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(617))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function ETE takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local trigger t
local integer OL7
local unit HE8=CreateUnit(GetOwningPlayer(O_7),1697656901,GetUnitX(O_7),GetUnitY(O_7),0)
call UnitAddAbility(HE8,1093815367)
if IssueTargetOrder(HE8,"thunderbolt",O_7)==true then
set t=CreateTrigger()
set OL7=GetHandleId(t)
call LP7(O_7,JK7)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function ESE))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveEffectHandle(L7,(OL7),(609),(AddSpecialEffectTarget(JM7,O_7,"hand right")))
call SaveEffectHandle(L7,(OL7),(610),(AddSpecialEffectTarget(JM7,O_7,"hand left")))
call SaveEffectHandle(L7,(OL7),(611),(AddSpecialEffectTarget(JM7,O_7,"foot right")))
call SaveEffectHandle(L7,(OL7),(612),(AddSpecialEffectTarget(JM7,O_7,"foot left")))
call SaveEffectHandle(L7,(OL7),(613),(AddSpecialEffectTarget(JM7,O_7,"foot right mount rear")))
call SaveEffectHandle(L7,(OL7),(614),(AddSpecialEffectTarget(JM7,O_7,"foot left mount rear")))
call SaveEffectHandle(L7,(OL7),(615),(AddSpecialEffectTarget(JM7,O_7,"head")))
call SaveEffectHandle(L7,(OL7),(616),(AddSpecialEffectTarget(JM7,O_7,"chest")))
call SaveEffectHandle(L7,(OL7),(617),(AddSpecialEffectTarget(JM7,O_7,"weapon")))
endif
set EL8=null
set O_7=null
set t=null
endfunction
function EUE takes nothing returns boolean
if GetSpellAbilityId()==JJ7 then
call ETE()
endif
return false
endfunction
function VR8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function EUE))
set t=null
endfunction
function EVE takes nothing returns nothing
local unit O_7=GetEnumUnit()
call DisableTrigger(JP7)
call UnitWakeUp(O_7)
call IssueTargetOrder(O_7,"attack",JQ7)
call EnableTrigger(JP7)
set O_7=null
endfunction
function EWE takes nothing returns nothing
call U07(GetEnumUnit(),"4328",0.75)
endfunction
function EXE takes nothing returns nothing
local unit O_7=GetEnumUnit()
if IsUnitInGroup(O_7,JO7)==false then
call GroupAddUnit(JO7,O_7)
call TriggerRegisterUnitEvent(JP7,O_7,EVENT_UNIT_ISSUED_TARGET_ORDER)
call TriggerRegisterUnitEvent(JP7,O_7,EVENT_UNIT_ISSUED_POINT_ORDER)
call TriggerRegisterUnitEvent(JP7,O_7,EVENT_UNIT_ISSUED_TARGET_ORDER)
call UZ7(O_7,"4328")
endif
set O_7=null
endfunction
function EYE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local integer HF8=(LoadInteger(L7,(OL7),(5)))
local integer CS8=(LoadInteger(L7,(OL7),(34)))
local group G3D=(LoadGroupHandle(L7,(OL7),(22)))
local group g
if GetTriggerEventId()!=EVENT_UNIT_ISSUED_TARGET_ORDER and GetTriggerEventId()!=EVENT_UNIT_ISSUED_POINT_ORDER and GetTriggerEventId()!=EVENT_UNIT_ISSUED_TARGET_ORDER then
set CS8=CS8+1
call SaveInteger(L7,(OL7),(34),(CS8))
set JO7=G3D
set JP7=t
set g=CA7()
set IN4=EL8
call GroupEnumUnitsInRange(g,GetUnitX(O_7),GetUnitY(O_7),350+25,Condition(function F18))
call GroupRemoveUnit(g,O_7)
call ForGroup(g,function EXE)
call CZ7(g)
if CS8==(2.25+0.25*HF8)*20 or LR7(O_7)then
call ForGroup(G3D,function EWE)
call CZ7(G3D)
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(176))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
else
set JP7=t
set JQ7=O_7
call ForGroup(G3D,function EVE)
if ModuloInteger(CS8,20)==0 or CS8==0 then
endif
endif
else
if UnitIsSleeping(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1110454328)==0 and GetIssuedOrderId()!=851973 and GJ7==false then
call DisableTrigger(t)
call ClearSelectionForPlayer(GetOwningPlayer(GetTriggerUnit()))
call IssueTargetOrder(GetTriggerUnit(),"attack",O_7)
call EnableTrigger(t)
endif
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function EZE takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local integer HF8=GetUnitAbilityLevel(EL8,JN7)
local unit O_7=GetSpellTargetUnit()
local unit HE8=CreateUnit(GetOwningPlayer(EL8),1697656901,GetUnitX(O_7),GetUnitY(O_7),0)
call UnitAddAbility(HE8,1093815882)
call SetUnitAbilityLevel(HE8,1093815882,HF8)
call IssueTargetOrder(HE8,"thunderbolt",O_7)
set JR7=EL8
call TriggerRegisterTimerEvent(t,0.05,true)
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveInteger(L7,(OL7),(5),(HF8))
call SaveGroupHandle(L7,(OL7),(22),(CA7()))
call SaveEffectHandle(L7,(OL7),(32),(AddSpecialEffectTarget(JS7,O_7,"overhead")))
call SaveEffectHandle(L7,(OL7),(176),(AddSpecialEffect(JT7,GetUnitX(O_7),GetUnitY(O_7))))
call TriggerAddCondition(t,Condition(function EYE))
set EL8=null
set O_7=null
set t=null
endfunction
function EAE takes nothing returns boolean
if GetSpellAbilityId()==JN7 and CY7(GetSpellTargetUnit())==false then
call EZE()
endif
return false
endfunction
function VS8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function EAE))
set t=null
endfunction
function EBE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local integer HF8=GetUnitAbilityLevel(EL8,JU7)
call HG8(EL8,O_7,ZI4,(0.032+0.002*HF8)*GetUnitState(O_7,UNIT_STATE_MAX_LIFE))
if(TimerGetElapsed(W))>=(LoadReal(L7,(GetHandleId(EL8)),(782)))then
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function ECE takes unit EL8,unit O_7 returns nothing
local trigger t
local integer OL7
call SetUnitState(EL8,UNIT_STATE_MANA,GetUnitState(EL8,UNIT_STATE_MANA)*0.8)
if(LoadReal(L7,(GetHandleId(EL8)),(782)))>(TimerGetElapsed(W))then
call SaveReal(L7,(GetHandleId(EL8)),(782),(((TimerGetElapsed(W))+JX7)*1.0))
else
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function EBE))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveEffectHandle(L7,(OL7),(32),(AddSpecialEffectTarget(JW7,O_7,"chest")))
call SaveReal(L7,(GetHandleId(EL8)),(782),(((TimerGetElapsed(W))+JX7)*1.0))
endif
set t=null
endfunction
function E3E takes nothing returns boolean
local real d
local real E09
local integer CS8
local unit EL8
local unit O_7
if GetUnitAbilityLevel(GetTriggerUnit(),JV7)>0 and GetUnitAbilityLevel(GetEventDamageSource(),JU7)>0 and(LoadUnitHandle(L7,(GetHandleId(GetTriggeringTrigger())),(2)))==GetEventDamageSource()then
set EL8=GetEventDamageSource()
set O_7=GetTriggerUnit()
set CS8=(LoadInteger(L7,(GetHandleId(EL8)),(780)))
set E09=(LoadReal(L7,(GetHandleId(EL8)),(781)))
if E09+JX7<(TimerGetElapsed(W))then
set CS8=1
set E09=(TimerGetElapsed(W))
call SaveInteger(L7,(GetHandleId(EL8)),(780),(CS8))
call SaveReal(L7,(GetHandleId(EL8)),(781),((E09)*1.0))
else
set CS8=CS8+1
set E09=(TimerGetElapsed(W))
call SaveInteger(L7,(GetHandleId(EL8)),(780),(CS8))
call SaveReal(L7,(GetHandleId(EL8)),(781),((E09)*1.0))
endif
if CS8==4 then
set CS8=0
call SaveInteger(L7,(GetHandleId(EL8)),(780),(CS8))
call ECE(EL8,O_7)
endif
call FlushChildHashtable(L7,(GetHandleId(GetTriggeringTrigger())))
call U37(GetTriggeringTrigger())
endif
return false
endfunction
function E6E takes nothing returns nothing
local trigger t
local unit O_7
local unit EL8
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
set O_7=GetSpellTargetUnit()
set EL8=GetTriggerUnit()
else
set O_7=GetTriggerUnit()
set EL8=GetAttacker()
endif
if IsUnitIllusion(EL8)==false then
set t=CreateTrigger()
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
call SaveBoolean(L7,(GetHandleId(t)),(264),(true))
else
call SaveBoolean(L7,(GetHandleId(t)),(264),(false))
endif
call SaveUnitHandle(L7,(GetHandleId(t)),(2),(EL8))
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function E3E))
endif
set t=null
set O_7=null
set EL8=null
endfunction
function ELE takes nothing returns boolean
if GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED then
if GetUnitAbilityLevel(GetAttacker(),JU7)>0 and(LoadBoolean(L7,(GetHandleId(GetTriggeringTrigger())),(263)))and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==(LoadUnitHandle(L7,(GetHandleId(GetTriggeringTrigger())),(14)))then
call E6E()
endif
elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER then
if(GetIssuedOrderId()==OrderId("poisonarrows"))then
call SaveBoolean(L7,(GetHandleId(GetTriggeringTrigger())),(263),(true))
elseif(GetIssuedOrderId()==OrderId("unpoisonarrows"))then
call SaveBoolean(L7,(GetHandleId(GetTriggeringTrigger())),(263),(false))
endif
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==JU7 then
call E6E()
endif
return false
endfunction
function E1E takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_ISSUED_ORDER)
call TriggerAddCondition(t,Condition(function ELE))
call SaveUnitHandle(L7,(GetHandleId(t)),(14),(GetTriggerUnit()))
set t=null
endfunction
function E0E takes nothing returns boolean
if GetLearnedSkill()==JU7 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),JU7)==1 then
call E1E()
endif
return false
endfunction
function VV8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function E0E))
set t=null
endfunction
function E5E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
if LR7(O_7)==false then
call SetUnitState(O_7,UNIT_STATE_LIFE,GetUnitState(O_7,UNIT_STATE_LIFE)*0.94)
endif
if GetTriggerEvalCount(t)==5 then
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function E2E takes unit EL8,unit O_7 returns nothing
local trigger t
local integer OL7
local integer HF8
local integer E_E
local integer F4E
if((UX7(O_7,"4329")==false))and CO7(O_7)==false and GetUnitTypeId(O_7)!=1848651852 then
call U07(O_7,"4329",J57)
set HF8=GetUnitAbilityLevel(EL8,JY7)
if HF8==1 then
set E_E=JZ7
set F4E=JA7
elseif HF8==2 then
set E_E=JB7
set F4E=JC7
elseif HF8==3 then
set E_E=J37
set F4E=J67
elseif HF8==4 then
set E_E=JL7
set F4E=J17
endif
call FE8(O_7,E_E,1,4,J07)
call SetPlayerAbilityAvailable(GetOwningPlayer(O_7),E_E,false)
call UnitMakeAbilityPermanent(O_7,true,F4E)
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function E5E))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveEffectHandle(L7,(OL7),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostDamage\\FrostDamage.mdl",O_7,"chest")))
endif
endfunction
function F7E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==EL8 then
call DisableTrigger(t)
call E2E(EL8,O_7)
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
else
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set t=null
set O_7=null
set EL8=null
return false
endfunction
function F8E takes nothing returns nothing
local trigger t=CreateTrigger()
local unit O_7=GetTriggerUnit()
local unit EL8=GetAttacker()
local integer OL7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,2.5,false)
call TriggerAddCondition(t,Condition(function F7E))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
set t=null
set O_7=null
set EL8=null
endfunction
function F9E takes nothing returns boolean
if GetAttacker()==(LoadUnitHandle(L7,(GetHandleId(GetTriggeringTrigger())),(2)))and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitAlly(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))==false then
if GetUnitTypeId(GetAttacker())==1311788354 or GetUnitTypeId(GetAttacker())==1311788355 or GetUnitTypeId(GetAttacker())==1311788367 or GetUnitTypeId(GetAttacker())==1311788353 then
call F8E()
endif
endif
return false
endfunction
function FDE takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function F9E))
call SaveUnitHandle(L7,(GetHandleId(t)),(2),(EL8))
set EL8=null
set t=null
endfunction
function FEE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local real x=(LoadReal(L7,(OL7),(6)))
local real y=(LoadReal(L7,(OL7),(7)))
call SetTerrainPathable(x,y,PATHING_TYPE_WALKABILITY,false)
call FlushChildHashtable(L7,(OL7))
call U37(t)
set t=null
return false
endfunction
function FFE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
local real x=GetUnitX(EL8)
local real y=GetUnitY(EL8)
call SetTerrainPathable(x,y,PATHING_TYPE_WALKABILITY,true)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function FEE))
call SaveReal(L7,(OL7),(6),((x)*1.0))
call SaveReal(L7,(OL7),(7),((y)*1.0))
set EL8=null
set t=null
endfunction
function FGE takes nothing returns boolean
if GetTriggerEventId()==EVENT_PLAYER_HERO_SKILL then
if GetLearnedSkill()==JY7 and GetUnitAbilityLevel(GetTriggerUnit(),JY7)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call FDE()
endif
else
if GetSpellAbilityId()==JY7 then
if GetUnitTypeId(GetTriggerUnit())!=1311788343 then
call E78(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),150)
if IsTerrainPathable(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),PATHING_TYPE_WALKABILITY)then
call FFE()
endif
endif
endif
endif
return false
endfunction
function VW8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function FGE))
set t=null
endfunction
function FHE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local unit EF8=(LoadUnitHandle(L7,(OL7),(45)))
local integer HF8=(LoadInteger(L7,(OL7),(5)))
local real x
local real y
local real a
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
call FlushChildHashtable(L7,(OL7))
call U37(t)
call KillUnit(EF8)
else
set a=PS7(GetUnitX(EF8),GetUnitY(EF8),GetUnitX(O_7),GetUnitY(O_7))
set x=GetUnitX(EF8)+20*Cos(a*bj_DEGTORAD)
set y=GetUnitY(EF8)+20*Sin(a*bj_DEGTORAD)
call SetUnitX(EF8,x)
call SetUnitY(EF8,y)
call SetUnitFacing(EF8,a)
if RH7(EF8,O_7)<30 then
call FlushChildHashtable(L7,(OL7))
call U37(t)
call HG8(EF8,O_7,ZG4,100+50*HF8)
call KillUnit(EF8)
call SetUnitAnimationByIndex(EF8,3)
endif
endif
set t=null
set O_7=null
set EF8=null
return false
endfunction
function FIE takes integer HF8,unit EF8,unit O_7 returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call SetUnitAnimationByIndex(EF8,2)
call SetUnitVertexColor(EF8,255,255,255,150)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerRegisterDeathEvent(t,O_7)
call TriggerAddCondition(t,Condition(function FHE))
call SaveInteger(L7,(OL7),(5),(HF8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveUnitHandle(L7,(OL7),(45),(EF8))
call SetUnitAnimationByIndex(EF8,2)
set t=null
endfunction
function FJE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local integer HF8=(LoadInteger(L7,(OL7),(5)))
local unit EF8=(LoadUnitHandle(L7,(OL7),(45)))
local group g
local unit O_7
if GetTriggerEvalCount(t)>K47/0.05 then
call FlushChildHashtable(L7,(OL7))
call U37(t)
call KillUnit(EF8)
else
set IN4=EF8
set g=CA7()
call GroupEnumUnitsInRange(g,GetUnitX(EF8),GetUnitY(EF8),375+25,Condition(function F18))
set O_7=TJ9(g,GetUnitX(EF8),GetUnitY(EF8))
call CZ7(g)
if O_7!=null then
call FlushChildHashtable(L7,(OL7))
call U37(t)
call FIE(HF8,EF8,O_7)
endif
set g=null
set O_7=null
endif
set t=null
set EF8=null
return false
endfunction
function FKE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local integer HF8=(LoadInteger(L7,(OL7),(5)))
local unit EF8=(LoadUnitHandle(L7,(OL7),(45)))
call FlushChildHashtable(L7,(OL7))
call U37(t)
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function FJE))
call SaveInteger(L7,(OL7),(5),(HF8))
call SaveUnitHandle(L7,(OL7),(45),(EF8))
call SetUnitAnimationByIndex(EF8,1)
set t=null
set EF8=null
return false
endfunction
function FME takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local unit EF8=CreateUnit(GetOwningPlayer(EL8),J_7,x,y,270)
local integer HF8=GetUnitAbilityLevel(EL8,J27)
call SetUnitAnimationByIndex(EF8,0)
call TriggerRegisterTimerEvent(t,3,false)
call TriggerAddCondition(t,Condition(function FKE))
call SaveInteger(L7,(OL7),(5),(HF8))
call SaveUnitHandle(L7,(OL7),(45),(EF8))
set EL8=null
set EF8=null
set t=null
endfunction
function FNE takes nothing returns boolean
if GetSpellAbilityId()==J27 then
call FME()
endif
return false
endfunction
function VX8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function FNE))
set t=null
endfunction
function FOE takes nothing returns nothing
if D69(GetEnumUnit())then
return
endif
if GetUnitAbilityLevel(GetEnumUnit(),K87)>0 then
call UnitRemoveAbility(GetEnumUnit(),K87)
endif
if GetUnitAbilityLevel(GetEnumUnit(),K97)>0 then
call UnitRemoveAbility(GetEnumUnit(),K97)
endif
if GetUnitAbilityLevel(GetEnumUnit(),KD7)>0 then
call UnitRemoveAbility(GetEnumUnit(),KD7)
endif
if GetUnitAbilityLevel(GetEnumUnit(),KE7)>0 then
call UnitRemoveAbility(GetEnumUnit(),KE7)
endif
if GetUnitAbilityLevel(GetEnumUnit(),KF7)>0 then
call UnitRemoveAbility(GetEnumUnit(),KF7)
endif
if GetUnitAbilityLevel(GetEnumUnit(),KG7)>0 then
call UnitRemoveAbility(GetEnumUnit(),KG7)
endif
if GetUnitAbilityLevel(GetEnumUnit(),KH7)>0 then
call UnitRemoveAbility(GetEnumUnit(),KH7)
endif
if GetUnitAbilityLevel(GetEnumUnit(),KI7)>0 then
call UnitRemoveAbility(GetEnumUnit(),KI7)
endif
endfunction
function FPE takes nothing returns nothing
if D69(GetEnumUnit())then
return
endif
if KK7==1 then
set KM7=K87
elseif KK7==2 then
set KM7=K97
elseif KK7==3 then
set KM7=KD7
elseif KK7==4 then
set KM7=KE7
endif
if GetUnitAbilityLevel(GetEnumUnit(),KM7)==0 then
call LP7(GetEnumUnit(),KM7)
call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),KM7,false)
call UnitMakeAbilityPermanent(GetEnumUnit(),true,1094935923)
if KM7==K87 then
call UnitMakeAbilityPermanent(GetEnumUnit(),true,1093815604)
elseif KM7==K97 then
call UnitMakeAbilityPermanent(GetEnumUnit(),true,1093815605)
elseif KM7==KD7 then
call UnitMakeAbilityPermanent(GetEnumUnit(),true,1093815606)
elseif KM7==KE7 then
call UnitMakeAbilityPermanent(GetEnumUnit(),true,1093815607)
elseif KM7==KF7 then
call UnitMakeAbilityPermanent(GetEnumUnit(),true,1093815885)
elseif KM7==KG7 then
call UnitMakeAbilityPermanent(GetEnumUnit(),true,1093815884)
elseif KM7==KH7 then
call UnitMakeAbilityPermanent(GetEnumUnit(),true,1093815886)
elseif KM7==KI7 then
call UnitMakeAbilityPermanent(GetEnumUnit(),true,1093815887)
endif
endif
endfunction
function FQE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local real x=(LoadReal(L7,(OL7),(6)))
local real y=(LoadReal(L7,(OL7),(7)))
local real NYD=(LoadReal(L7,(OL7),(442)))
local integer HF8=GetUnitAbilityLevel(EL8,K77)
local group FRE=(LoadGroupHandle(L7,(OL7),(340)))
local group g=CA7()
local group g1=CA7()
local group g2=CA7()
set KK7=HF8
if(TimerGetElapsed(W))>NYD then
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
call ForGroup(FRE,function FOE)
call CZ7(FRE)
call CZ7(g)
call CZ7(g1)
call CZ7(g2)
return false
endif
set IN4=EL8
call GroupEnumUnitsInRange(g1,x,y,325+25,Condition(function GR8))
call GroupEnumUnitsInRange(g2,x,y,325+144,Condition(function GA8))
call GroupAddGroup(g1,g)
call GroupAddGroup(g2,g)
call CZ7(g1)
call CZ7(g2)
call GroupRemoveGroup(g,FRE)
call ForGroup(FRE,function FOE)
call ForGroup(g,function FPE)
call SaveGroupHandle(L7,(OL7),(340),(g))
call CZ7(FRE)
set t=null
set EL8=null
set FRE=null
set g=null
return false
endfunction
function FSE takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local real EG8=GetSpellTargetX()
local real EH8=GetSpellTargetY()
local integer i
local integer HF8=GetUnitAbilityLevel(EL8,K77)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function FQE))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveGroupHandle(L7,(OL7),(340),(CA7()))
call SaveReal(L7,(OL7),(6),((EG8)*1.0))
call SaveReal(L7,(OL7),(7),((EH8)*1.0))
call SaveReal(L7,(OL7),(442),(((TimerGetElapsed(W))+3+0.5*HF8)*1.0))
call SaveEffectHandle(L7,(OL7),(32),(AddSpecialEffect(KJ7,EG8,EH8)))
set i=0
loop
exitwhen i>5
call SetPlayerAbilityAvailable(Z7[i],K87,false)
call SetPlayerAbilityAvailable(A7[i],K87,false)
call SetPlayerAbilityAvailable(Z7[i],K97,false)
call SetPlayerAbilityAvailable(A7[i],K97,false)
call SetPlayerAbilityAvailable(Z7[i],K97,false)
call SetPlayerAbilityAvailable(A7[i],KD7,false)
call SetPlayerAbilityAvailable(Z7[i],KE7,false)
call SetPlayerAbilityAvailable(A7[i],KE7,false)
set i=i+1
endloop
set EL8=null
set t=null
endfunction
function FTE takes nothing returns boolean
if GetSpellAbilityId()==K77 then
call FSE()
endif
return false
endfunction
function VY8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function FTE))
set t=null
endfunction
function FUE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local integer HF8=GetUnitAbilityLevel(EL8,KN7)
local integer N0D=(LoadInteger(L7,(OL7),(758)))
local integer CS8=(LoadInteger(L7,(OL7),(34)))
local group g
if GetTriggerEventId()==EVENT_WIDGET_DEATH or CS8>120 or CO7(O_7)then
call UnitRemoveAbility(O_7,KO7)
call UnitRemoveAbility(O_7,KP7)
call UnitRemoveAbility(O_7,KQ7)
call UnitRemoveAbility(O_7,KR7)
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
else
set CS8=CS8+1
call SaveInteger(L7,(OL7),(34),(CS8))
set IN4=EL8
set g=CA7()
call GroupEnumUnitsInRange(g,GetUnitX(O_7),GetUnitY(O_7),225+25,Condition(function FW8))
call GroupRemoveUnit(g,O_7)
if FirstOfGroup(g)==null then
if N0D==KO7 then
if GetUnitAbilityLevel(O_7,KO7)==0 then
call LP7(O_7,KO7)
call UnitMakeAbilityPermanent(O_7,true,1093815381)
call UnitMakeAbilityPermanent(O_7,true,1093815621)
endif
else
if GetUnitAbilityLevel(O_7,KP7)==0 then
call LP7(O_7,KP7)
call UnitMakeAbilityPermanent(O_7,true,1093815380)
call UnitMakeAbilityPermanent(O_7,true,1093815621)
endif
endif
if ModuloInteger(CS8,10)==0 then
call HG8(EL8,O_7,ZG4,HF8*15*0.5)
endif
else
if N0D==KO7 then
if GetUnitAbilityLevel(O_7,KO7)>0 then
call UnitRemoveAbility(O_7,KO7)
call UnitRemoveAbility(O_7,KQ7)
endif
else
if GetUnitAbilityLevel(O_7,KP7)>0 then
call UnitRemoveAbility(O_7,KP7)
call UnitRemoveAbility(O_7,KR7)
endif
endif
endif
call CZ7(g)
set g=null
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function FVE takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local integer N0D=KO7
if GetUnitTypeId(EL8)==1311788365 then
set N0D=KP7
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(O_7),KO7,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(O_7),KP7,false)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerRegisterDeathEvent(t,O_7)
call TriggerAddCondition(t,Condition(function FUE))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveInteger(L7,(OL7),(758),(N0D))
call SaveEffectHandle(L7,(OL7),(32),(AddSpecialEffectTarget(KS7,O_7,"origin")))
call TriggerEvaluate(t)
set EL8=null
set O_7=null
set t=null
endfunction
function FWE takes nothing returns boolean
if GetSpellAbilityId()==KN7 and CY7(GetSpellTargetUnit())==false then
call FVE()
endif
return false
endfunction
function VZ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function FWE))
set t=null
endfunction
function FXE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit FYE=(LoadUnitHandle(L7,(OL7),(17)))
call FlushChildHashtable(L7,(OL7))
call U37(t)
call FlushChildHashtable(L7,(GetHandleId(FYE)))
call RemoveUnit(FYE)
set t=null
set FYE=null
return false
endfunction
function FZE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit FYE=(LoadUnitHandle(L7,(OL7),(2)))
call FlushChildHashtable(L7,(OL7))
call U37(t)
call FlushChildHashtable(L7,(GetHandleId(FYE)))
call ShowUnit(FYE,false)
set t=null
set FYE=null
return false
endfunction
function FAE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit FYE=(LoadUnitHandle(L7,(OL7),(17)))
local integer HF8=GetUnitAbilityLevel(EL8,KT7)
if GetTriggerEvalCount(t)==200 or GetTriggerEventId()==EVENT_WIDGET_DEATH then
call FlushChildHashtable(L7,(OL7))
call U37(t)
call KillUnit(FYE)
call DestroyEffect(AddSpecialEffect(KV7,GetUnitX(FYE),GetUnitX(FYE)))
set t=CreateTrigger()
set OL7=GetHandleId(t)
call SaveUnitHandle(L7,(OL7),(2),(FYE))
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function FZE))
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,3,false)
call TriggerAddCondition(t,Condition(function FXE))
call SaveUnitHandle(L7,(OL7),(17),(FYE))
else
call SuspendHeroXP(FYE,true)
call UnitModifySkillPoints(FYE,-25)
endif
set t=null
set EL8=null
set FYE=null
return false
endfunction
function FBE takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit FYE=CreateUnit(GetOwningPlayer(EL8),KU7,GetUnitX(EL8),GetUnitY(EL8),0)
local integer HF8=GetUnitAbilityLevel(EL8,KT7)
local integer i=0
local item JP8
local integer FCE=1227895373
call DestroyEffect(AddSpecialEffectTarget(KV7,FYE,"chest"))
if ZL7(GetOwningPlayer(FYE))==false then
set FCE=1227903043
endif
if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(EL8))==true or IsPlayerObserver(GetLocalPlayer())==true then
call SetUnitVertexColor(FYE,75,75,75,100)
endif
call SelectUnitAddForPlayer(FYE,GetOwningPlayer(EL8))
call DisableTrigger(H94)
loop
exitwhen i>5
if UnitItemInSlot(EL8,i)!=null and GetItemTypeId(UnitItemInSlot(EL8,i))!=ZU[X0]and GetItemTypeId(UnitItemInSlot(EL8,i))!=ZU[D44]and GetItemTypeId(UnitItemInSlot(EL8,i))!=ZU[VC]and GetItemTypeId(UnitItemInSlot(EL8,i))!=ZU[WC]and GetItemTypeId(UnitItemInSlot(EL8,i))!=ZU[H3]then
set JP8=CreateItem(GetItemTypeId(UnitItemInSlot(EL8,i)),0,0)
if GetItemCharges(UnitItemInSlot(EL8,i))>0 then
call SetItemCharges(JP8,GetItemCharges(UnitItemInSlot(EL8,i)))
endif
call UnitAddItem(FYE,JP8)
call SetItemPlayer(JP8,GetOwningPlayer(FYE),false)
if GetItemTypeId(JP8)==ZU[B5]or GetItemTypeId(JP8)==ZU[C5]or GetItemTypeId(JP8)==ZU[EW]then
call SetItemDropOnDeath(JP8,false)
endif
else
call UnitAddItem(FYE,CreateItem(FCE,0,0))
endif
set i=i+1
endloop
call EnableTrigger(H94)
call SetHeroLevel(FYE,GetHeroLevel(EL8),false)
set i=1
loop
exitwhen i>GetUnitAbilityLevel(EL8,1096904043)
call SelectHeroSkill(FYE,1096904043)
set i=i+1
endloop
set i=1
loop
exitwhen i>GetUnitAbilityLevel(EL8,J27)
call SelectHeroSkill(FYE,J27)
set i=i+1
endloop
set i=1
loop
exitwhen i>GetUnitAbilityLevel(EL8,K77)
call SelectHeroSkill(FYE,K77)
set i=i+1
endloop
set i=1
loop
exitwhen i>GetUnitAbilityLevel(EL8,KN7)
call SelectHeroSkill(FYE,KN7)
set i=i+1
endloop
set i=1
loop
exitwhen i>GetUnitAbilityLevel(EL8,IL7)
call SelectHeroSkill(FYE,IL7)
set i=i+1
endloop
set i=1
loop
exitwhen i>GetUnitAbilityLevel(EL8,KT7)
call SelectHeroSkill(FYE,KT7)
set i=i+1
endloop
call UnitRemoveAbility(FYE,KT7)
call UnitModifySkillPoints(FYE,-25)
call SuspendHeroXP(FYE,true)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterDeathEvent(t,FYE)
call TriggerAddCondition(t,Condition(function FAE))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(FYE))
call SetUnitState(EL8,UNIT_STATE_LIFE,GetUnitState(EL8,UNIT_STATE_LIFE)*(1-(0.45-0.15*HF8)))
call SetUnitState(EL8,UNIT_STATE_MANA,GetUnitState(EL8,UNIT_STATE_MANA)*(1-(0.45-0.15*HF8)))
call SetUnitState(FYE,UNIT_STATE_LIFE,GetUnitState(EL8,UNIT_STATE_LIFE))
call SetUnitState(FYE,UNIT_STATE_MANA,GetUnitState(EL8,UNIT_STATE_MANA))
set EL8=null
set FYE=null
set t=null
endfunction
function F3E takes nothing returns boolean
if GetSpellAbilityId()==KT7 then
call FBE()
endif
return false
endfunction
function VA8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function F3E))
set t=null
endfunction
function F6E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local group g=CA7()
local integer HF8=GetUnitAbilityLevel(EL8,KW7)
set IN4=EL8
call GroupEnumUnitsInRange(g,GetUnitX(EL8),GetUnitY(EL8),375+25,Condition(function GO8))
if FirstOfGroup(g)==null then
if GetUnitAbilityLevel(EL8,KX7)!=HF8 then
call LP7(EL8,KX7)
call SetUnitAbilityLevel(EL8,KX7,HF8)
endif
else
if GetUnitAbilityLevel(EL8,KX7)>0 then
call UnitRemoveAbility(EL8,KX7)
endif
endif
call CZ7(g)
set EL8=null
set t=null
set g=null
return false
endfunction
function FLE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function F6E))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
set t=null
set EL8=null
endfunction
function F1E takes nothing returns boolean
if GetLearnedSkill()==KW7 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),KW7)==1 then
call FLE()
endif
return false
endfunction
function V38 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function F1E))
set t=null
endfunction
function F0E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit HE8=(LoadUnitHandle(L7,(OL7),(19)))
local integer HF8=GetUnitAbilityLevel(EL8,KY7)
local integer BJD=GetHeroAgi(EL8,true)
local real F5E=BJD*(0.1+0.04*HF8)
local integer BT9=R2I(F5E/2.0+0.5)
local integer F2E=(LoadInteger(L7,(OL7),(34)))
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==KY7 then
if F2E==KB7 then
set F2E=KC7
else
set F2E=KB7
endif
call SaveInteger(L7,(OL7),(34),(F2E))
call UnitRemoveAbility(HE8,KZ7)
call UnitRemoveAbility(HE8,KA7)
endif
if LR7(EL8)==true then
call UnitRemoveAbility(HE8,KZ7)
call UnitRemoveAbility(HE8,KA7)
else
if GetUnitAbilityLevel(HE8,KZ7)==0 then
call LP7(HE8,KZ7)
if F2E==KB7 then
call LP7(HE8,KA7)
else
endif
endif
call SetUnitAbilityLevel(HE8,KZ7,BT9)
call SetUnitAbilityLevel(HE8,KA7,BT9)
call SetUnitX(HE8,GetUnitX(EL8))
call SetUnitY(HE8,GetUnitY(EL8))
endif
set EL8=null
set t=null
return false
endfunction
function F_E takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
local unit HE8=CreateUnit(GetOwningPlayer(EL8),1697657174,0,0,0)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function F0E))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(19),(HE8))
call SaveInteger(L7,(OL7),(34),(KB7))
call LP7(HE8,KZ7)
call LP7(HE8,KA7)
set t=null
set EL8=null
endfunction
function G4E takes nothing returns boolean
if GetLearnedSkill()==KY7 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),KY7)==1 then
call F_E()
endif
return false
endfunction
function VC8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function G4E))
call DH8(KZ7)
call DH8(KA7)
set t=null
endfunction
function G7E takes nothing returns boolean
local real d
if IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(RE4))==true and IsUnitInGroup(GetFilterUnit(),RG4)==false and FB8(GetFilterUnit(),GetOwningPlayer(RF4))==true then
set d=RI7(GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()),GetUnitX(RE4),GetUnitY(RE4))
if d<VZ then
set RD4=GetFilterUnit()
set VZ=d
endif
endif
return false
endfunction
function G8E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local unit HE8=UE7(UL7,"Caster")
local integer BK7=UQ7(UL7,"Level")
local integer HJ8=UQ7(UL7,"TargetIndex")
local unit m5=ZA7(HJ8)
local group G9E=UJ7(UL7,"AlreadyHit")
local real GDE=UR7(UL7,"StolenMana")
local real GEE=UR7(UL7,"ManaCounter")
local real GFE=UR7(UL7,"DmgCounter")
local real ZP8
local group g
local real a
local real x
local real y
set a=Atan2(GetUnitY(m5)-GetUnitY(HE8),GetUnitX(m5)-GetUnitX(HE8))
if p5==m5 then
set x=GetUnitX(HE8)+25*Cos(a)
set y=GetUnitY(HE8)+25*Sin(a)
else
set x=GetUnitX(HE8)+15*Cos(a)
set y=GetUnitY(HE8)+15*Sin(a)
endif
call SetUnitX(HE8,x)
call SetUnitY(HE8,y)
if RI7(x,y,GetUnitX(m5),GetUnitY(m5))<60 then
call SetUnitX(HE8,GetUnitX(m5))
call SetUnitY(HE8,GetUnitY(m5))
if p5==m5 then
call SetUnitState(p5,UNIT_STATE_MANA,GetUnitState(p5,UNIT_STATE_MANA)+GDE)
call KillUnit(HE8)
call CZ7(G9E)
call TQ7(UL7)
call U37(t)
else
if FX8(m5)==false or IsUnitVisible(m5,GetOwningPlayer(HE8))==true then
call HG8(p5,m5,ZG4,(40+40*BK7)+0.25*GFE*(40+40*BK7))
set GFE=GFE+1
if GetUnitState(m5,UNIT_STATE_MANA)>0 then
set ZP8=RMinBJ(GetUnitState(m5,UNIT_STATE_MANA),(10+10*BK7)+0.25*GEE*(10+10*BK7))
call SetUnitState(m5,UNIT_STATE_MANA,GetUnitState(m5,UNIT_STATE_MANA)-ZP8)
call E98(oI,GetUnitX(m5),GetUnitY(m5))
set GDE=GDE+ZP8
set GEE=GEE+1
endif
endif
call TU7(UL7,"StolenMana",(GDE)*1.0)
call TU7(UL7,"DmgCounter",(GFE)*1.0)
call TU7(UL7,"ManaCounter",(GEE)*1.0)
set g=CA7()
set RD4=null
set RE4=m5
set RG4=G9E
set VZ=99999
set RF4=p5
call GroupEnumUnitsInRange(g,GetUnitX(m5),GetUnitY(m5),500,Condition(function G7E))
call CZ7(g)
if RD4==null or GFE==(2+BK7)then
call TT7(UL7,"TargetIndex",ZC7(p5))
else
call TT7(UL7,"TargetIndex",ZC7(RD4))
call GroupAddUnit(G9E,RD4)
endif
endif
call ZZ7(HJ8)
endif
set t=null
set p5=null
set m5=null
set g=null
set HE8=null
set G9E=null
return false
endfunction
function GGE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer BK7=GetUnitAbilityLevel(p5,1093682994)
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local group g=CA7()
local real GFE=0
local real GEE=0
local real ZP8=0
local real GDE=0
local unit HE8=CreateUnit(GetOwningPlayer(p5),1747990832,GetUnitX(p5),GetUnitY(p5),GetUnitFacing(p5))
call E98(eI,GetUnitX(p5),GetUnitY(p5))
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerAddCondition(t,Condition(function G8E))
call TL7(UL7,"AlreadyHit",g)
call TX7(UL7,"Source",p5)
call TX7(UL7,"Caster",HE8)
call TT7(UL7,"Level",BK7)
call TT7(UL7,"TargetIndex",ZC7(m5))
call TT7(UL7,"Count",0)
call TU7(UL7,"StolenMana",(GDE)*1.0)
call TU7(UL7,"DmgCounter",(GFE)*1.0)
call TU7(UL7,"ManaCounter",(GEE)*1.0)
call GroupAddUnit(g,m5)
set p5=null
set m5=null
set t=null
set g=null
set HE8=null
endfunction
function GHE takes nothing returns boolean
if GetSpellAbilityId()==1093682994 then
call GGE()
endif
return false
endfunction
function PE8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function GHE))
set t=null
endfunction
function GIE takes nothing returns nothing
call GroupAddUnit(RJ4,GetEnumUnit())
call IssueTargetOrder(RH4,"purge",GetEnumUnit())
endfunction
function GJE takes unit EL8,unit O_7 returns boolean
local real a=PR7(O_7,EL8)
local real GKE=GetUnitFacing(O_7)
local real c1
local real c2
local real d1=-1.0
local real d2=-1.0
local real e1
local real e2
local real f1=-1.0
local real f2=-1.0
if IsUnitVisible(EL8,GetOwningPlayer(O_7))==false then
return false
endif
set c1=RMaxBJ(GKE-75,0)
set c2=GKE
if GKE-75<=0 then
set d1=360-(75-(c2-c1))
set d2=360
endif
set e1=GKE
set e2=RMinBJ(GKE+75,360)
if GKE+75>=360 then
set f1=0
set f2=0+(75-(e2-e1))
endif
if a<0 then
set a=a+360
elseif a>360 then
set a=a-360
endif
if(a>c1 and a<c2)or(d1!=-1 and a>d1 and a<d2)or(a>e1 and a<e2)or(f1!=-1 and a>f1 and a<f2)then
return true
endif
return false
endfunction
function GME takes nothing returns boolean
return(IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit())))and IsUnitInGroup(GetFilterUnit(),RJ4)==false and GJE(IN4,GetFilterUnit())and GetUnitAbilityLevel(GetFilterUnit(),1110458961)==0
endfunction
function GNE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=UE7(OL7,"Source")
local integer HF8=GetUnitAbilityLevel(EL8,1093747028)
local unit HE8=UE7(OL7,"Caster")
local group g=CA7()
local group G3D=UJ7(OL7,"AlreadyHit")
set RH4=HE8
set RI4=EL8
set IN4=EL8
set RJ4=G3D
call GroupEnumUnitsInRange(g,GetUnitX(EL8),GetUnitY(EL8),825,Condition(function GME))
call ForGroup(g,function GIE)
call CZ7(g)
call DestroyEffect(UK7(OL7,"FX"))
if GetTriggerEvalCount(t)>100 then
call U37(t)
call TQ7(OL7)
call CZ7(G3D)
else
call TY7(OL7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Orc\\EtherealForm\\SpiritWalkerChange.mdl",EL8,"chest"))
endif
set EL8=null
set HE8=null
set g=null
set t=null
set G3D=null
return false
endfunction
function GOE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit HE8=CreateUnit(GetOwningPlayer(GetTriggerUnit()),1697656901,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),0)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function GNE))
call TX7(OL7,"Source",GetTriggerUnit())
call TX7(OL7,"Caster",HE8)
call LP7(HE8,1093677654)
call TL7(OL7,"AlreadyHit",CA7())
call TY7(OL7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Orc\\EtherealForm\\SpiritWalkerChange.mdl",GetTriggerUnit(),"chest"))
call SetUnitAbilityLevel(HE8,1093677654,GetUnitAbilityLevel(GetTriggerUnit(),1093747028))
call TriggerEvaluate(t)
set t=null
set HE8=null
endfunction
function GPE takes nothing returns boolean
if GetSpellAbilityId()==1093747028 then
call GOE()
endif
return false
endfunction
function PF8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function GPE))
set t=null
endfunction
function zS takes nothing returns nothing
if IH4<=tl then
set IH4=IH4+1
call GroupAddUnit(IQ4,GetEnumUnit())
endif
endfunction
function zt takes unit p5,unit m5 returns nothing
call D68("SPLK",GetUnitX(p5),GetUnitY(p5),GetUnitX(m5),GetUnitY(m5),.1,.6,.44,.9,.6)
endfunction
function zT takes nothing returns nothing
call SetUnitState(IN4,UNIT_STATE_LIFE,GetUnitState(IN4,UNIT_STATE_LIFE)+25)
if GetUnitTypeId(GetEnumUnit())!=1848657461 then
call E58(GetEnumUnit(),25)
endif
call zt(GetEnumUnit(),IN4)
endfunction
function zu takes nothing returns nothing
call HG8(IP4,IN4,ZG4,25)
if GetUnitTypeId(GetEnumUnit())!=1848657461 then
call E58(GetEnumUnit(),25)
endif
call zt(GetEnumUnit(),IN4)
endfunction
function zU takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local group g=CA7()
local integer zv=GetUnitAbilityLevel(CR7,1093685813)*5
set IQ4=CA7()
set IH4=0
set tl=zv
set IN4=CR7
call GroupEnumUnitsInRange(g,GetUnitX(CR7),GetUnitY(CR7),1000,Condition(function ny))
call GroupRemoveUnit(g,CR7)
call GroupRemoveUnit(g,GetSpellTargetUnit())
call ForGroup(g,function zS)
call CZ7(g)
set g=IQ4
set IN4=GetSpellTargetUnit()
set IP4=CR7
if IsUnitAlly(IN4,GetOwningPlayer(CR7))then
call ForGroup(g,function zT)
else
call ForGroup(g,function zu)
endif
call CZ7(g)
set CR7=null
set g=null
endfunction
function GQE takes nothing returns boolean
if GetSpellAbilityId()==1093685813 and(IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_STRUCTURE)==false or GetOwningPlayer(GetSpellTargetUnit())==GetOwningPlayer(GetTriggerUnit()))then
call zU()
endif
return false
endfunction
function SG8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function GQE))
set t=null
endfunction
function GRE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local integer GSE=UQ7(UL7,"Last")
if GetTriggerEventId()==EVENT_UNIT_DEATH then
if(US7(UL7,"SourceDone")==false and GetTriggerUnit()==UE7(UL7,"Source"))then
call TW7(UL7,"SourceDone",true)
call SetHeroStr(UE7(UL7,"Source"),GetHeroStr(UE7(UL7,"Source"),false)-GSE,true)
elseif(US7(UL7,"TargetDone")==false and GetTriggerUnit()==UE7(UL7,"Target"))then
call TW7(UL7,"TargetDone",true)
call SetHeroStr(UE7(UL7,"Target"),GetHeroStr(UE7(UL7,"Target"),false)+GSE,true)
endif
else
if(US7(UL7,"SourceDone")==false)then
call TW7(UL7,"SourceDone",true)
call SetHeroStr(UE7(UL7,"Source"),GetHeroStr(UE7(UL7,"Source"),false)-GSE,true)
endif
if(US7(UL7,"TargetDone")==false)then
call TW7(UL7,"TargetDone",true)
call SetHeroStr(UE7(UL7,"Target"),GetHeroStr(UE7(UL7,"Target"),false)+GSE,true)
endif
call TQ7(UL7)
call U37(t)
endif
set t=null
return false
endfunction
function GTE takes nothing returns nothing
local unit p5=sZ
local unit m5=GetEnumUnit()
local integer GSE
local integer BK7=tZ
local trigger t
local integer UL7
if IsUnitType(m5,UNIT_TYPE_HERO)==true and J98(GetUnitTypeId(m5))==false then
set GSE=IMinBJ(GetHeroStr(m5,false)-1,4)
set t=CreateTrigger()
set UL7=GetHandleId(t)
call SetHeroStr(p5,GetHeroStr(p5,false)+GSE,true)
call SetHeroStr(m5,GetHeroStr(m5,false)-GSE,true)
call TriggerRegisterTimerEvent(t,20+5*BK7,false)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function GRE))
call TW7(UL7,"SourceDone",false)
call TW7(UL7,"TargetDone",false)
call TX7(UL7,"Source",p5)
call TX7(UL7,"Target",m5)
call TT7(UL7,"Last",GSE)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",p5,"origin"))
endif
call HG8(p5,m5,ZG4,40*BK7-20)
set p5=null
set m5=null
set t=null
endfunction
function GUE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local group g=CA7()
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local integer BK7=GetUnitAbilityLevel(p5,1093743955)
local unit oA=CreateUnit(GetOwningPlayer(p5),1747990346,x,y,0)
call DestroyEffect(AddSpecialEffect("effects\\DecayGreen_Groundonly_1.mdx",x,y))
call RemoveLocation(l)
set IN4=p5
set sZ=p5
set tZ=BK7
call GroupEnumUnitsInRange(g,x,y,325+25,Condition(function F18))
call ForGroup(g,function GTE)
call CZ7(g)
call KillUnit(oA)
set p5=null
set l=null
set g=null
set t=null
set oA=null
endfunction
function GVE takes nothing returns boolean
if GetSpellAbilityId()==1093743955 then
call GUE()
endif
return false
endfunction
function SE8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function GVE))
set t=null
endfunction
function GWE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local integer HJ8=UQ7(UL7,"TargetIndex")
local unit m5=ZA7(HJ8)
local unit GXE=UE7(UL7,"Zombie")
local real VXD=GetUnitState(m5,UNIT_STATE_LIFE)
local real GYE=GetUnitState(m5,UNIT_STATE_MAX_LIFE)
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call ZZ7(HJ8)
call TQ7(UL7)
call U37(t)
if GetTriggerUnit()==m5 then
call KillUnit(GXE)
endif
elseif D9==true then
call ZZ7(HJ8)
call TQ7(UL7)
call U37(t)
call PauseUnit(GXE,true)
elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_POINT_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER then
call DisableTrigger(t)
call IssueTargetOrder(GXE,"attack",m5)
call EnableTrigger(t)
elseif(VXD<(100*RV4)or VXD/GYE<(0.05*RV4))and GetUnitAbilityLevel(GXE,1110458702)==0 then
call SetPlayerAbilityAvailable(GetOwningPlayer(GXE),1093744438,true)
call IssueTargetOrder(wZ[GetPlayerId(GetOwningPlayer(GXE))],"bloodlust",GXE)
call SetPlayerAbilityAvailable(GetOwningPlayer(GXE),1093744438,false)
elseif IsUnitVisible(m5,GetOwningPlayer(GXE))==false then
if(US7(UL7,"VisionBuffer1"))==true then
if(US7(UL7,"VisionBuffer2"))==true then
if(US7(UL7,"VisionBuffer3"))==true then
call TQ7(UL7)
call U37(t)
call KillUnit(GXE)
else
call TW7(UL7,"VisionBuffer3",true)
endif
else
call TW7(UL7,"VisionBuffer2",true)
endif
else
call TW7(UL7,"VisionBuffer1",true)
endif
else
call TW7(UL7,"VisionBuffer1",false)
call TW7(UL7,"VisionBuffer2",false)
call TW7(UL7,"VisionBuffer3",false)
endif
set t=null
set m5=null
set GXE=null
return false
endfunction
function GZE takes nothing returns boolean
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit m5=GetEnumUnit()
local unit GXE=CreateUnit(TZ,1848657461,GetUnitX(m5),GetUnitY(m5),0)
call IssueTargetOrder(GXE,"attack",m5)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,GXE,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,GXE,EVENT_UNIT_ISSUED_ORDER)
call TriggerRegisterUnitEvent(t,GXE,EVENT_UNIT_ISSUED_POINT_ORDER)
call TriggerRegisterUnitEvent(t,GXE,EVENT_UNIT_ISSUED_TARGET_ORDER)
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerAddCondition(t,Condition(function GWE))
call TT7(UL7,"TargetIndex",ZC7(m5))
call TX7(UL7,"Zombie",GXE)
call TT7(UL7,"Level",RV4)
set t=null
set m5=null
set GXE=null
return false
endfunction
function GAE takes nothing returns boolean
if GetUnitTypeId(GetFilterUnit())==1848657461 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1 then
call KillUnit(GetFilterUnit())
endif
return false
endfunction
function GBE takes player p returns nothing
local group g=CA7()
call GroupEnumUnitsOfPlayer(g,p,Condition(function GAE))
call CZ7(g)
set g=null
endfunction
function GCE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local unit G3E=UE7(UL7,"Acolyte1")
local unit G6E=UE7(UL7,"Acolyte2")
local unit GLE=UE7(UL7,"Acolyte3")
local integer BK7=UQ7(UL7,"Level")
local group g
local player G1E
if ZL7(GetOwningPlayer(p5))then
set G1E=A7[0]
else
set G1E=Z7[0]
endif
if GetTriggerEventId()==EVENT_UNIT_DEATH then
if(US7(UL7,"NeedsFix"))then
call EE8(G1E,.4,GetUnitX(p5),GetUnitY(p5),600)
endif
call TQ7(UL7)
call U37(t)
call ShowUnit(p5,false)
call RemoveUnit(G3E)
call RemoveUnit(G6E)
call RemoveUnit(GLE)
call GBE(GetOwningPlayer(p5))
else
if IsUnitVisible(p5,G1E)then
call TW7(UL7,"NeedsFix",true)
endif
set g=CA7()
set IN4=p5
set TZ=GetOwningPlayer(p5)
set RV4=BK7
call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),25+200+200*BK7,Condition(function G78))
if D9==false then
call ForGroup(g,function GZE)
endif
call CZ7(g)
set g=null
endif
set t=null
set p5=null
set G3E=null
set G6E=null
set GLE=null
set G1E=null
return false
endfunction
function G0E takes nothing returns nothing
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local unit p5
local real Z59
local real Z29
local real G5E
local unit G3E
local unit G6E
local unit GLE
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local integer BK7=GetUnitAbilityLevel(GetTriggerUnit(),1093743958)
local integer id
if BK7==1 then
set p5=CreateUnit(GetOwningPlayer(GetTriggerUnit()),1848657482,x,y,0)
elseif BK7==2 then
set p5=CreateUnit(GetOwningPlayer(GetTriggerUnit()),1848657481,x,y,0)
elseif BK7==3 then
set p5=CreateUnit(GetOwningPlayer(GetTriggerUnit()),1848657462,x,y,0)
else
set p5=CreateUnit(GetOwningPlayer(GetTriggerUnit()),1848657480,x,y,0)
endif
call E98(AF4,x,y)
set id=GetPlayerId(GetOwningPlayer(p5))
if wZ[id]==null then
set wZ[id]=CreateUnit(GetOwningPlayer(p5),1697657174,x,y,0)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093744438,false)
call LP7(wZ[id],1093744438)
endif
call SetUnitPosition(p5,DD8(x),DE8(y))
call UnitApplyTimedLife(p5,1112820806,10+5*BK7)
call RemoveLocation(l)
call E78(x,y,300)
set Z59=x+200*Cos(0*bj_DEGTORAD)
set Z29=y+200*Sin(0*bj_DEGTORAD)
set G5E=PS7(Z59,Z29,x,y)
set G3E=CreateUnit(GetOwningPlayer(p5),1747990344,Z59,Z29,G5E)
call SetUnitAnimation(G3E,"Stand Work Gold")
call QueueUnitAnimation(G3E,"Stand Work Gold")
call QueueUnitAnimation(G3E,"Stand Work Gold")
call QueueUnitAnimation(G3E,"Stand Work Gold")
call QueueUnitAnimation(G3E,"Stand Work Gold")
call QueueUnitAnimation(G3E,"Stand Work Gold")
call QueueUnitAnimation(G3E,"Stand Work Gold")
call QueueUnitAnimation(G3E,"Stand Work Gold")
call QueueUnitAnimation(G3E,"Stand Work Gold")
call QueueUnitAnimation(G3E,"Stand Work Gold")
call QueueUnitAnimation(G3E,"Stand Work Gold")
call QueueUnitAnimation(G3E,"Stand Work Gold")
call QueueUnitAnimation(G3E,"Stand Work Gold")
call QueueUnitAnimation(G3E,"Stand Work Gold")
call QueueUnitAnimation(G3E,"Stand Work Gold")
call QueueUnitAnimation(G3E,"Stand Work Gold")
call QueueUnitAnimation(G3E,"Stand Work Gold")
call QueueUnitAnimation(G3E,"Stand Work Gold")
set Z59=x+200*Cos(120*bj_DEGTORAD)
set Z29=y+200*Sin(120*bj_DEGTORAD)
set G5E=PS7(Z59,Z29,x,y)
set G6E=CreateUnit(GetOwningPlayer(p5),1747990344,Z59,Z29,G5E)
call SetUnitAnimation(G6E,"Stand Work Gold")
call QueueUnitAnimation(G6E,"Stand Work Gold")
call QueueUnitAnimation(G6E,"Stand Work Gold")
call QueueUnitAnimation(G6E,"Stand Work Gold")
call QueueUnitAnimation(G6E,"Stand Work Gold")
call QueueUnitAnimation(G6E,"Stand Work Gold")
call QueueUnitAnimation(G6E,"Stand Work Gold")
call QueueUnitAnimation(G6E,"Stand Work Gold")
call QueueUnitAnimation(G6E,"Stand Work Gold")
call QueueUnitAnimation(G6E,"Stand Work Gold")
call QueueUnitAnimation(G6E,"Stand Work Gold")
call QueueUnitAnimation(G6E,"Stand Work Gold")
call QueueUnitAnimation(G6E,"Stand Work Gold")
call QueueUnitAnimation(G6E,"Stand Work Gold")
call QueueUnitAnimation(G6E,"Stand Work Gold")
call QueueUnitAnimation(G6E,"Stand Work Gold")
call QueueUnitAnimation(G6E,"Stand Work Gold")
set Z59=x+200*Cos(240*bj_DEGTORAD)
set Z29=y+200*Sin(240*bj_DEGTORAD)
set G5E=PS7(Z59,Z29,x,y)
set GLE=CreateUnit(GetOwningPlayer(p5),1747990344,Z59,Z29,G5E)
call SetUnitAnimation(GLE,"Stand Work Gold")
call QueueUnitAnimation(GLE,"Stand Work Gold")
call QueueUnitAnimation(GLE,"Stand Work Gold")
call QueueUnitAnimation(GLE,"Stand Work Gold")
call QueueUnitAnimation(GLE,"Stand Work Gold")
call QueueUnitAnimation(GLE,"Stand Work Gold")
call QueueUnitAnimation(GLE,"Stand Work Gold")
call QueueUnitAnimation(GLE,"Stand Work Gold")
call QueueUnitAnimation(GLE,"Stand Work Gold")
call QueueUnitAnimation(GLE,"Stand Work Gold")
call QueueUnitAnimation(GLE,"Stand Work Gold")
call QueueUnitAnimation(GLE,"Stand Work Gold")
call QueueUnitAnimation(GLE,"Stand Work Gold")
call QueueUnitAnimation(GLE,"Stand Work Gold")
call QueueUnitAnimation(GLE,"Stand Work Gold")
call QueueUnitAnimation(GLE,"Stand Work Gold")
call SetUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,3,true)
call TriggerAddCondition(t,Condition(function GCE))
call TX7(UL7,"Source",p5)
call TX7(UL7,"Acolyte1",G3E)
call TX7(UL7,"Acolyte2",G6E)
call TX7(UL7,"Acolyte3",GLE)
call TT7(UL7,"Level",BK7)
call TW7(UL7,"NeedsFix",false)
call TriggerEvaluate(t)
set p5=null
set G3E=null
set G6E=null
set GLE=null
set l=null
set t=null
endfunction
function G2E takes nothing returns boolean
if GetSpellAbilityId()==1093743958 then
call G0E()
endif
return false
endfunction
function SF8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function G2E))
set t=null
endfunction
function G_E takes unit K5D returns boolean
if SY7(K5D,ZU[FC4])!=null then
return true
endif
return false
endfunction
function H4E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local integer BK7=GetUnitAbilityLevel(p5,1093743946)
call SetUnitAbilityLevel(p5,1093743947,BK7)
call TQ7(UL7)
call U37(t)
set t=null
set p5=null
return false
endfunction
function H7E takes nothing returns nothing
if IsUnitType(IN4,UNIT_TYPE_HERO)==true then
if G_E(IP4)then
call SetUnitState(IP4,UNIT_STATE_LIFE,GetUnitState(IP4,UNIT_STATE_LIFE)+GetUnitState(IP4,UNIT_STATE_MAX_LIFE)*0.10)
else
call SetUnitState(IP4,UNIT_STATE_LIFE,GetUnitState(IP4,UNIT_STATE_LIFE)+GetUnitState(IP4,UNIT_STATE_MAX_LIFE)*0.06)
endif
else
if G_E(IP4)then
call SetUnitState(IP4,UNIT_STATE_LIFE,GetUnitState(IP4,UNIT_STATE_LIFE)+GetUnitState(IP4,UNIT_STATE_MAX_LIFE)*0.03)
else
call SetUnitState(IP4,UNIT_STATE_LIFE,GetUnitState(IP4,UNIT_STATE_LIFE)+GetUnitState(IP4,UNIT_STATE_MAX_LIFE)*0.02)
endif
endif
endfunction
function H8E takes nothing returns boolean
local trigger t2=GetTriggeringTrigger()
local integer B99=GetHandleId(t2)
local trigger t1=UI7(B99,"t1")
local integer PVD=GetHandleId(t1)
local unit p5=UE7(B99,"Source")
local unit m5
local real d
local real a
local boolean H9E=US7(B99,"IgnorePlague")
if(GetTriggerEventId()==EVENT_UNIT_DEATH and GetTriggerUnit()==p5)or(GetTriggerEventId()!=EVENT_UNIT_DAMAGED and GetTriggerEventId()!=EVENT_UNIT_DEATH)then
call TQ7(PVD)
call TQ7(B99)
call U37(t1)
call U37(t2)
elseif GetTriggerEventId()==EVENT_UNIT_DEATH then
if IsUnitIllusion(GetDyingUnit())==false then
call EO8(GetDyingUnit(),p5,1747990361,"H7E",600)
endif
elseif H9E==false then
set m5=GetTriggerUnit()
set d=RH7(p5,m5)
if d<775 and GetEventDamage()>4 then
if G_E(p5)then
set a=20+5*WZ
else
set a=15+5*WZ
endif
if d>200 then
set a=a-15*((d-150)/(775-150))
endif
call TW7(B99,"IgnorePlague",true)
call HG8(GetEventDamageSource(),GetTriggerUnit(),ZI4,GetEventDamage()*a/ 100)
call TW7(B99,"IgnorePlague",false)
endif
endif
set t2=null
set t1=null
set p5=null
set m5=null
return false
endfunction
function HDE takes nothing returns boolean
local trigger t1=GetTriggeringTrigger()
local integer PVD=GetHandleId(t1)
local trigger t2=UI7(PVD,"t2")
local integer B99=GetHandleId(t2)
local unit m5=GetTriggerUnit()
local unit p5=UE7(PVD,"Source")
if IsUnitEnemy(p5,GetOwningPlayer(m5))==true and IsUnitType(m5,UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(m5,1093678162)==0 then
if US7(B99,"Registered"+I2S(GetHandleId(m5)))==false then
call TriggerRegisterUnitEvent(t2,m5,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t2,m5,EVENT_UNIT_DEATH)
call TW7(B99,"Registered"+I2S(GetHandleId(m5)),true)
endif
endif
set t1=null
set t2=null
set m5=null
set p5=null
return false
endfunction
function HEE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local trigger t1=CreateTrigger()
local integer PVD=GetHandleId(t1)
local trigger t2=CreateTrigger()
local integer B99=GetHandleId(t2)
local trigger t3=CreateTrigger()
local integer HFE=GetHandleId(t3)
local integer BK7=GetUnitAbilityLevel(p5,1093743946)
set WZ=BK7
call TriggerRegisterUnitInRange(t1,p5,750,Condition(function ZY7))
call TriggerAddCondition(t1,Condition(function HDE))
call TZ7(PVD,"t2",t2)
call TX7(PVD,"Source",p5)
call TriggerRegisterTimerEvent(t2,30,false)
call TriggerRegisterUnitEvent(t2,p5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t2,Condition(function H8E))
call TZ7(B99,"t1",t1)
call TX7(B99,"Source",p5)
call TW7(B99,"IgnorePlague",false)
call TriggerRegisterTimerEvent(t3,0.01,false)
call TriggerAddCondition(t3,Condition(function H4E))
call TX7(HFE,"Source",p5)
set p5=null
set t1=null
set t2=null
set t3=null
endfunction
function HGE takes nothing returns boolean
if GetSpellAbilityId()==1093743946 and GetUnitTypeId(GetTriggerUnit())==1211117650 then
call HEE()
endif
return false
endfunction
function SH8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function HGE))
call DH8(1093743947)
set t=null
endfunction
function HHE takes nothing returns nothing
local unit O_7=GetEnumUnit()
local unit EL8=RX4
local real HIE=GetUnitState(O_7,UNIT_STATE_LIFE)
local real HJE=GetUnitState(O_7,UNIT_STATE_MAX_LIFE)
local real HKE=((0.003+0.003*RY4)*HJE)/2
if HIE<HKE then
call SetUnitState(O_7,UNIT_STATE_LIFE,1)
call HG8(EL8,O_7,ZI4,100)
call HG8(EL8,O_7,ZG4,100)
call HG8(EL8,O_7,ZH4,100)
else
call SetUnitState(O_7,UNIT_STATE_LIFE,DU8(GetUnitState(O_7,UNIT_STATE_LIFE)-HKE,1))
endif
set O_7=null
set EL8=null
endfunction
function HME takes nothing returns boolean
return(IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),1113815395)>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit())))and GetUnitAbilityLevel(GetFilterUnit(),1110456372)>0
endfunction
function HNE takes nothing returns boolean
local integer UL7=GetHandleId(GetTriggeringTrigger())
local unit p5=UE7(UL7,"Source")
local group g
if LR7(p5)==false then
set g=CA7()
set IN4=p5
set RX4=p5
set RY4=GetUnitAbilityLevel(p5,1093677390)
call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),1025,Condition(function HME))
call ForGroup(g,function HHE)
call CZ7(g)
endif
set g=null
set p5=null
return false
endfunction
function HOE takes unit CR7,boolean B89 returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerAddCondition(t,Condition(function HNE))
call TX7(GetHandleId(t),"Source",CR7)
if B89 then
set aj[GetPlayerId(GetOwningPlayer(CR7))]=t
endif
set t=null
endfunction
function HPE takes nothing returns boolean
if GetLearnedSkill()==1093677390 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093677390)==1 then
call HOE(GetTriggerUnit(),false)
endif
return false
endfunction
function PJ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function HPE))
set t=null
endfunction
function HQE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local integer HF8=GetUnitAbilityLevel(EL8,1093678640)
local real HRE=2*HF8
local real HSE=HF8
local integer CK9=(LoadInteger(L7,(OL7),(34)))
if HF8==4 then
set HRE=10
endif
set HSE=HSE*CK9
set HRE=HRE*CK9
call SetUnitState(EL8,UNIT_STATE_MANA,GetUnitState(EL8,UNIT_STATE_MANA)+HRE)
call SetUnitState(EL8,UNIT_STATE_LIFE,GetUnitState(EL8,UNIT_STATE_LIFE)+HSE)
if GetTriggerEvalCount(t)>5 or GetTriggerEventId()==EVENT_WIDGET_DEATH then
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set t=null
set EL8=null
return false
endfunction
function HTE takes nothing returns nothing
local unit EL8=GetKillingUnit()
local integer HF8=GetUnitAbilityLevel(EL8,1093678640)
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",EL8,"origin"))
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterDeathEvent(t,EL8)
call TriggerAddCondition(t,Condition(function HQE))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true then
call SaveInteger(L7,(OL7),(34),(10))
else
call SaveInteger(L7,(OL7),(34),(1))
endif
set EL8=null
set t=null
endfunction
function HUE takes nothing returns boolean
if GetUnitAbilityLevel(GetKillingUnit(),1110454866)>0 then
call HTE()
endif
return false
endfunction
function PG8 takes nothing returns nothing
set Dk=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Dk,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(Dk,Condition(function HUE))
endfunction
function HVE takes nothing returns nothing
local integer OL7=GetHandleId(GetTriggeringTrigger())
local unit EL8=IN4
local unit O_7=IP4
local real B29=UR7(OL7,"Damage")
local real N_D=UR7(OL7,"Heal")
if IsUnitAlly(O_7,GetOwningPlayer(EL8))then
call SetUnitState(O_7,UNIT_STATE_LIFE,GetUnitState(O_7,UNIT_STATE_LIFE)+N_D)
else
call HG8(EL8,O_7,ZG4,B29)
endif
set EL8=null
set O_7=null
endfunction
function HWE takes nothing returns nothing
local trigger t=EO8(IN4,GetEnumUnit(),1747988567,"HVE",400)
local integer UL7=GetHandleId(t)
call TU7(UL7,"Damage",IJ4)
call TU7(UL7,"Heal",IK4)
set t=null
endfunction
function HXE takes nothing returns nothing
if IsUnitVisible(GetEnumUnit(),GetOwningPlayer(IN4))then
call HWE()
endif
endfunction
function HYE takes nothing returns nothing
local unit CL7=GetTriggerUnit()
local group g=CA7()
local integer HF8=GetUnitAbilityLevel(CL7,PS4)
local real r
local real B29
local real N_D
if HF8==1 then
set B29=75
set N_D=70
set r=500
elseif HF8==2 then
set B29=125
set N_D=90
set r=500
elseif HF8==3 then
set B29=200
set N_D=110
set r=500
elseif HF8==4 then
set B29=275
set N_D=130
set r=500
endif
set IN4=CL7
set IJ4=B29
set IK4=N_D
call GroupEnumUnitsInRange(g,GetUnitX(CL7),GetUnitY(CL7),r,Condition(function GQ8))
call GroupRemoveUnit(g,CL7)
call ForGroup(g,function HXE)
call CZ7(g)
call SetUnitState(CL7,UNIT_STATE_LIFE,GetUnitState(CL7,UNIT_STATE_LIFE)+N_D)
set CL7=null
set g=null
endfunction
function HZE takes nothing returns boolean
if GetSpellAbilityId()==PS4 then
call HYE()
endif
return false
endfunction
function PH8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function HZE))
set t=null
endfunction
function HAE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local real CK9=(LoadReal(L7,(OL7),(680)))
local integer HBE=GetUnitAbilityLevel(EL8,1093679184)
call FlushChildHashtable(L7,(OL7))
call U37(t)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl",O_7,"origin"))
if HBE>0 then
set IZ7=true
call HG8(EL8,O_7,ZG4,CK9*(GetUnitState(O_7,UNIT_STATE_MAX_LIFE)-GetUnitState(O_7,UNIT_STATE_LIFE)))
set IZ7=false
else
call HG8(EL8,O_7,ZG4,CK9*(GetUnitState(O_7,UNIT_STATE_MAX_LIFE)-GetUnitState(O_7,UNIT_STATE_LIFE)))
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function HCE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local integer H3E=GetUnitAbilityLevel(EL8,1093678647)
local integer H6E=GetUnitAbilityLevel(EL8,1093679184)
local real CK9
if H3E==1 then
set CK9=0.4
elseif H3E==2 or H6E==1 then
set CK9=0.6
elseif H3E==3 or H6E==2 then
set CK9=0.9
elseif H6E==3 then
set CK9=1.2
endif
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveReal(L7,(OL7),(680),((CK9)*1.0))
call TriggerRegisterTimerEvent(t,1.5,false)
call TriggerAddCondition(t,Condition(function HAE))
set t=null
set EL8=null
set O_7=null
endfunction
function HLE takes nothing returns boolean
if(GetSpellAbilityId()==1093678647 or GetSpellAbilityId()==1093679184)and CY7(GetSpellTargetUnit())==false then
call HCE()
endif
return false
endfunction
function PI8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function HLE))
set t=null
endfunction
function H1E takes nothing returns boolean
return GetSpellAbilityId()==1093682521 or GetSpellAbilityId()==1093682760 or GetSpellAbilityId()==1093682736
endfunction
function H0E takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and GetUnitAbilityLevel(GetFilterUnit(),1093678162)!=1
endfunction
function H5E takes nothing returns nothing
call UnitDamageTarget(GetTriggerUnit(),GetEnumUnit(),75*GetUnitAbilityLevel(GetTriggerUnit(),GetSpellAbilityId()),true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_DEATH,WEAPON_TYPE_WHOKNOWS)
endfunction
function H2E takes nothing returns nothing
local unit CL7=GetTriggerUnit()
local unit HE8
local group C89=CA7()
local boolexpr QWD=Condition(function H0E)
local real LF7=GetUnitFacing(CL7)
local real x
local real y
if GetSpellAbilityId()==1093682521 then
set x=GetUnitX(CL7)+200*Cos(LF7*bj_DEGTORAD)
set y=GetUnitY(CL7)+200*Sin(LF7*bj_DEGTORAD)
set HE8=CreateUnit(GetOwningPlayer(CL7),1697656886,x,y,0)
call UnitApplyTimedLife(HE8,1112820806,2.)
call GroupEnumUnitsInRange(C89,x,y,275.,QWD)
call ForGroup(C89,function H5E)
call GroupClear(C89)
elseif GetSpellAbilityId()==1093682760 then
set x=GetUnitX(CL7)+450*Cos(LF7*bj_DEGTORAD)
set y=GetUnitY(CL7)+450*Sin(LF7*bj_DEGTORAD)
set HE8=CreateUnit(GetOwningPlayer(CL7),1697656886,x,y,0)
call UnitApplyTimedLife(HE8,1112820806,2.)
call GroupEnumUnitsInRange(C89,x,y,275.,QWD)
call ForGroup(C89,function H5E)
call GroupClear(C89)
elseif GetSpellAbilityId()==1093682736 then
set x=GetUnitX(CL7)+700*Cos(LF7*bj_DEGTORAD)
set y=GetUnitY(CL7)+700*Sin(LF7*bj_DEGTORAD)
set HE8=CreateUnit(GetOwningPlayer(CL7),1697656886,x,y,0)
call UnitApplyTimedLife(HE8,1112820806,2.)
call GroupEnumUnitsInRange(C89,x,y,275.,QWD)
call ForGroup(C89,function H5E)
call GroupClear(C89)
endif
call CZ7(C89)
call DestroyBoolExpr(QWD)
set CL7=null
set HE8=null
set C89=null
set QWD=null
endfunction
function PM8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(t,function H2E)
call TriggerAddCondition(t,Condition(function H1E))
set t=null
endfunction
function H_E takes nothing returns nothing
if(GetLearnedSkill()==1093682521)then
if(GetUnitAbilityLevelSwapped(1093682521,GetTriggerUnit())==1)then
call UnitAddAbility(GetTriggerUnit(),1093682736)
call UnitAddAbility(GetTriggerUnit(),1093682760)
else
call SetUnitAbilityLevelSwapped(1093682736,GetTriggerUnit(),GetUnitAbilityLevelSwapped(1093682521,GetTriggerUnit()))
call SetUnitAbilityLevelSwapped(1093682760,GetTriggerUnit(),GetUnitAbilityLevelSwapped(1093682521,GetTriggerUnit()))
endif
endif
if(GetLearnedSkill()==1093681746)then
if(GetUnitAbilityLevelSwapped(1093681746,GetTriggerUnit())==1)then
call UnitAddAbility(GetTriggerUnit(),1093682001)
endif
endif
endfunction
function RM takes nothing returns nothing
set DK=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(DK,EVENT_PLAYER_HERO_SKILL)
call TriggerAddAction(DK,function H_E)
endfunction
function I4E takes nothing returns boolean
return GetSpellAbilityId()==1093810506 or GetSpellAbilityId()==1093750096
endfunction
function I7E takes unit CR7,integer I8E returns nothing
local integer I9E=I8E
local integer Zd
local integer U8
local location Mk=GetUnitLoc(GetTriggerUnit())
local location sA
local integer BK7=GetUnitAbilityLevelSwapped(1093810506,GetTriggerUnit())
if BK7==0 then
return
endif
set I9E=I9E/2
set Zd=1
set U8=I9E
loop
exitwhen Zd>U8
set sA=RW7(Mk,50.,(I2R(Zd)*(360/I9E)))
call CreateNUnitsAtLoc(1,1697656899,GetOwningPlayer(CR7),Mk,bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,1093683271)
call SetUnitAbilityLevelSwapped(1093683271,bj_lastCreatedUnit,BK7)
call UnitApplyTimedLifeBJ(2.,1112820806,bj_lastCreatedUnit)
call IssuePointOrderLoc(bj_lastCreatedUnit,"carrionswarm",sA)
call SetUnitPathing(bj_lastCreatedUnit,false)
call SetUnitInvulnerable(bj_lastCreatedUnit,true)
call UnitAddAbility(bj_lastCreatedUnit,1097625443)
call RemoveLocation(sA)
set Zd=Zd+1
endloop
call RemoveLocation(Mk)
set Mk=null
set CR7=null
set sA=null
endfunction
function IDE takes nothing returns nothing
local integer I9E=(LoadInteger(L7,(GetHandleId(GetTriggerUnit())),(710)))
local unit YO9=GetTriggerUnit()
call I7E(YO9,I9E)
set YO9=null
endfunction
function PN8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function I4E))
call TriggerAddAction(t,function IDE)
set t=null
endfunction
function IEE takes nothing returns nothing
local integer OL7=GetHandleId(GetTriggeringTrigger())
local unit EL8=IP4
local unit O_7=IN4
local integer I9E=GetUnitAbilityLevel(EL8,1093682001)
local integer IFE
local integer HF8=GetUnitAbilityLevel(EL8,1093681746)
if HF8==1 then
set IFE=12
elseif HF8==2 then
set IFE=20
elseif HF8==3 then
set IFE=28
else
set IFE=36
endif
set IFE=IFE+1
if IsUnitType(O_7,UNIT_TYPE_HERO)==false then
set I9E=I9E+1
else
set I9E=I9E+12
endif
set I9E=IMinBJ(IFE,I9E)
call SetUnitAbilityLevel(EL8,1093682001,I9E)
call SaveInteger(L7,(GetHandleId(EL8)),(710),(I9E))
set EL8=null
endfunction
function IGE takes nothing returns nothing
local integer I9E
local integer HF8
local integer IFE
local trigger t
local integer OL7
local unit EL8=GetKillingUnit()
if GetUnitTypeId(EL8)==1697656899 then
set EL8=M7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]
endif
set I9E=GetUnitAbilityLevel(EL8,1093682001)
set HF8=GetUnitAbilityLevel(EL8,1093681746)
if HF8==1 then
set IFE=12
elseif HF8==2 then
set IFE=20
elseif HF8==3 then
set IFE=28
else
set IFE=36
endif
if I9E<=IFE then
set t=EO8(GetTriggerUnit(),EL8,1747993426,"IEE",500)
set OL7=GetHandleId(t)
set t=null
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\ZigguratMissile\\ZigguratMissile.mdl",GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
endif
set EL8=null
endfunction
function IHE takes nothing returns nothing
local integer IIE=(LoadInteger(L7,(GetHandleId(GetTriggerUnit())),(710)))
call SaveInteger(L7,(GetHandleId(GetTriggerUnit())),(710),(R2I(GetUnitAbilityLevel(GetTriggerUnit(),1093682001)*0.5)+1))
call SetUnitAbilityLevel(GetTriggerUnit(),1093682001,R2I(GetUnitAbilityLevel(GetTriggerUnit(),1093682001)*.5)+1)
call I7E(GetTriggerUnit(),IIE-(LoadInteger(L7,(GetHandleId(GetTriggerUnit())),(710))))
endfunction
function IJE takes nothing returns boolean
if GetUnitAbilityLevel(GetKillingUnit(),1093681746)>0 and IsUnitIllusion(GetTriggerUnit())==false then
call IGE()
elseif GetUnitAbilityLevel(M7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))],1093681746)>0 and GetUnitTypeId(GetKillingUnit())==1697656899 then
call IGE()
endif
if GetUnitAbilityLevel(GetTriggerUnit(),1093681746)>0 and IsUnitIllusion(GetTriggerUnit())==false then
call IHE()
endif
return false
endfunction
function IKE takes nothing returns boolean
local unit CL7=M7[GetPlayerId(GetTriggerPlayer())]
local integer IME=GetUnitAbilityLevel(CL7,1093682001)-1
local integer INE=0
local integer HF8=GetUnitAbilityLevel(CL7,1093681746)
if HF8==1 then
set INE=12
elseif HF8==2 then
set INE=20
elseif HF8==3 then
set INE=28
elseif HF8==4 then
set INE=36
endif
set IME=IMaxBJ(IMinBJ(IME,INE),0)
if GetUnitTypeId(CL7)==1315334514 then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,GetObjectName(1848658757)+" "+I2S(IME)+"/"+I2S(INE))
endif
set CL7=null
return false
endfunction
function PK8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function IJE))
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-st",true)
call TriggerAddCondition(t,Condition(function IKE))
set t=null
endfunction
function IOE takes nothing returns boolean
if(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==true)then
return false
endif
if(GetUnitAbilityLevelSwapped(1093678162,GetFilterUnit())==1)then
return false
endif
if(IsUnitAliveBJ(GetFilterUnit())==false)then
return false
endif
if(GetUnitTypeId(GetFilterUnit())==1865429043)then
return false
endif
if(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer())==false)then
return false
endif
if(GetTriggerUnit()==GetFilterUnit())then
return false
endif
if(IsUnitVisible(GetFilterUnit(),GetTriggerPlayer())==false)then
return false
endif
return true
endfunction
function IPE takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local location Mk=GetUnitLoc(CR7)
local integer BK7=GetUnitAbilityLevelSwapped(1093810506,GetTriggerUnit())
if BK7==0 then
set BK7=GetUnitAbilityLevelSwapped(1093750096,GetTriggerUnit())
endif
call CreateNUnitsAtLoc(1,1697656899,GetOwningPlayer(GetEnumUnit()),Mk,bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,1093683272)
call SetUnitAbilityLevelSwapped(1093683272,bj_lastCreatedUnit,BK7)
call UnitApplyTimedLifeBJ(2.,1112820806,bj_lastCreatedUnit)
call IssueTargetOrder(bj_lastCreatedUnit,"cripple",GetEnumUnit())
call SetUnitPathing(bj_lastCreatedUnit,false)
call SetUnitInvulnerable(bj_lastCreatedUnit,true)
call UnitAddAbility(bj_lastCreatedUnit,1097625443)
call RemoveLocation(Mk)
set Mk=null
set CR7=null
endfunction
function IQE takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local location Mk=GetUnitLoc(CR7)
local integer BK7=GetUnitAbilityLevelSwapped(1093810506,GetTriggerUnit())
if BK7==0 then
set BK7=GetUnitAbilityLevelSwapped(1093750096,GetTriggerUnit())
endif
call CreateNUnitsAtLoc(1,1697656899,GetOwningPlayer(GetEnumUnit()),Mk,bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,1093683272)
call SetUnitAbilityLevelSwapped(1093683272,bj_lastCreatedUnit,BK7)
call UnitApplyTimedLifeBJ(2.,1112820806,bj_lastCreatedUnit)
call IssueTargetOrder(bj_lastCreatedUnit,"cripple",GetEnumUnit())
call SetUnitPathing(bj_lastCreatedUnit,false)
call SetUnitInvulnerable(bj_lastCreatedUnit,true)
call UnitAddAbility(bj_lastCreatedUnit,1097625443)
call RemoveLocation(Mk)
set Mk=null
set CR7=null
endfunction
function IRE takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local location Mk=GetUnitLoc(CR7)
local integer BK7=GetUnitAbilityLevelSwapped(1093810506,GetTriggerUnit())
if BK7==0 then
set BK7=GetUnitAbilityLevelSwapped(1093750096,GetTriggerUnit())
endif
call CreateNUnitsAtLoc(1,1697656899,GetOwningPlayer(GetEnumUnit()),Mk,bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,1093683272)
call SetUnitAbilityLevelSwapped(1093683272,bj_lastCreatedUnit,BK7)
call UnitApplyTimedLifeBJ(2.,1112820806,bj_lastCreatedUnit)
call IssueTargetOrder(bj_lastCreatedUnit,"cripple",GetEnumUnit())
call SetUnitPathing(bj_lastCreatedUnit,false)
call SetUnitInvulnerable(bj_lastCreatedUnit,true)
call UnitAddAbility(bj_lastCreatedUnit,1097625443)
call RemoveLocation(Mk)
set Mk=null
set CR7=null
endfunction
function ISE takes nothing returns nothing
local location Mk=GetUnitLoc(GetTriggerUnit())
local unit CR7=GetTriggerUnit()
local group I68
set I68=CA7()
call GroupEnumUnitsInRangeOfLoc(I68,Mk,700,Condition(function IOE))
call ForGroup(I68,function IPE)
call CZ7(I68)
set I68=CA7()
call GroupEnumUnitsInRangeOfLoc(I68,Mk,400,Condition(function IOE))
call ForGroup(I68,function IQE)
call CZ7(I68)
set I68=CA7()
call GroupEnumUnitsInRangeOfLoc(I68,Mk,200,Condition(function IOE))
call ForGroup(I68,function IRE)
call CZ7(I68)
call RemoveLocation(Mk)
set Mk=null
set CR7=null
set I68=null
endfunction
function PO8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function I4E))
call TriggerAddAction(t,function ISE)
set t=null
endfunction
function ITE takes nothing returns boolean
return GetSpellAbilityId()==1093677640
endfunction
function IUE takes nothing returns nothing
local unit oA
if(D88()==false)then
set oA=CreateUnit(GetOwningPlayer(GetTriggerUnit()),1697656901,GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()),bj_UNIT_FACING)
call LP7(oA,1093677650)
call IssueTargetOrderById(oA,852075,GetSpellTargetUnit())
else
set oA=CreateUnit(GetOwningPlayer(GetTriggerUnit()),1697656901,GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()),bj_UNIT_FACING)
call LP7(oA,1093748785)
call IssueTargetOrderById(oA,852075,GetSpellTargetUnit())
endif
set oA=null
endfunction
function PQ8 takes nothing returns nothing
set Dm=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Dm,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(Dm,Condition(function ITE))
call TriggerAddAction(Dm,function IUE)
endfunction
function IVE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer CF7=GetHandleId(t)
local unit FFD=(LoadUnitHandle(L7,(CF7),(2)))
local unit IWE=(LoadUnitHandle(L7,(CF7),(19)))
call ResetUnitAnimation(FFD)
call RemoveUnit(IWE)
call FlushChildHashtable(L7,(CF7))
call U37(t)
set FFD=null
set IWE=null
set t=null
return false
endfunction
function IXE takes nothing returns nothing
local unit FFD=GetTriggerUnit()
local unit IWE=CreateUnit(GetOwningPlayer(FFD),1966092617,GetUnitX(FFD),GetUnitY(FFD),GetUnitFacing(FFD))
local trigger t=CreateTrigger()
local integer CF7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,FFD,EVENT_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(t,Condition(function IVE))
call SaveUnitHandle(L7,(CF7),(2),(FFD))
call SaveUnitHandle(L7,(CF7),(19),(IWE))
call SetUnitVertexColorBJ(IWE,0,0,0,75)
call SetUnitAnimation(IWE,"spell third")
set FFD=null
set IWE=null
set t=null
endfunction
function IYE takes nothing returns boolean
if GetSpellAbilityId()==1093679171 and GetUnitAbilityLevel(GetTriggerUnit(),1093679171)<5 then
call IXE()
endif
return false
endfunction
function PR8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function IYE))
set t=null
endfunction
function IZE takes nothing returns boolean
local integer OL7=GetHandleId(GetTriggeringTrigger())
local unit IAE=UE7(OL7,"NightStalker")
local unit IBE=UE7(OL7,"VisionUnit")
if IAE==null or LR7(IAE)or D88()or(SY7(IAE,ZU[GE4])==null and SY7(IAE,ZU[GX4])==null)then
call ShowUnit(IBE,false)
else
call ShowUnit(IBE,true)
call SetUnitX(IBE,GetUnitX(IAE))
call SetUnitY(IBE,GetUnitY(IAE))
endif
if GetOwningPlayer(IBE)!=GetOwningPlayer(IAE)then
call SetUnitOwner(IBE,GetOwningPlayer(IAE),true)
endif
set IAE=null
set IBE=null
return false
endfunction
function ICE takes nothing returns nothing
local integer UL7=GetHandleId(GetTriggeringTrigger())
local unit IAE=UE7(UL7,"NightStalker")
if IAE!=null and D88()and LR7(IAE)==false then
call UnitRemoveAbility(IAE,1093742902)
call UnitRemoveAbility(IAE,1093742903)
call SetUnitAbilityLevel(IAE,1395667009,5)
call SetUnitAbilityLevel(IAE,1093679171,5)
elseif IAE!=null and D88()==false and LR7(IAE)==false then
call LP7(IAE,1093742902)
call LP7(IAE,1093742903)
call SetUnitAbilityLevel(IAE,1395667009,GetUnitAbilityLevel(IAE,1093679158))
call SetUnitAbilityLevel(IAE,1093679171,GetUnitAbilityLevel(IAE,1093679173))
endif
set IAE=null
endfunction
function I3E takes unit IAE,boolean B89,integer I6E returns nothing
local integer OL7=GetHandleId(IAE)
local trigger t
if US7(OL7,"NightStalkerAlreadyLearned")==false or B89 then
call TW7(OL7,"NightStalkerAlreadyLearned",true)
set t=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(t,2.00)
call TriggerRegisterGameStateEventTimeOfDay(t,LESS_THAN,6.00)
call TriggerRegisterGameStateEventTimeOfDay(t,GREATER_THAN,18.00)
call TriggerAddAction(t,function ICE)
call TX7(GetHandleId(t),"NightStalker",IAE)
if B89 then
if I6E==1093679173 then
set aj[GetPlayerId(GetOwningPlayer(IAE))]=t
elseif I6E==1093679158 then
set nj[GetPlayerId(GetOwningPlayer(IAE))]=t
endif
endif
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerAddCondition(t,Condition(function IZE))
call TX7(OL7,"NightStalker",IAE)
call TX7(OL7,"VisionUnit",CreateUnit(GetOwningPlayer(IAE),1865429313,GetUnitX(IAE),GetUnitY(IAE),0))
if B89 then
if I6E==1093679173 then
set Rj[GetPlayerId(GetOwningPlayer(IAE))]=t
elseif I6E==1093679158 then
set Aj[GetPlayerId(GetOwningPlayer(IAE))]=t
endif
endif
endif
if(I6E==1093679158)then
call LP7(IAE,1395667009)
if(D88())then
call SetUnitAbilityLevel(IAE,1395667009,5)
else
call SetUnitAbilityLevel(IAE,1395667009,GetUnitAbilityLevel(IAE,1093679158))
endif
endif
if(I6E==1093679173)then
call UnitAddAbility(IAE,1093679171)
if(D88())then
call SetUnitAbilityLevel(IAE,1093679171,5)
else
call SetUnitAbilityLevel(IAE,1093679171,GetUnitAbilityLevel(IAE,1093679173))
endif
endif
set t=null
endfunction
function ILE takes nothing returns boolean
if(GetLearnedSkill()==1093679158 or GetLearnedSkill()==1093679173)and IsUnitIllusion(GetTriggerUnit())==false then
call I3E(GetTriggerUnit(),false,GetLearnedSkill())
endif
return false
endfunction
function PP8 takes nothing returns nothing
set NJ=CreateTrigger()
call D28(NJ,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(NJ,Condition(function ILE))
endfunction
function I1E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local integer HJ8=UQ7(UL7,"TargetIndex")
local unit m5=ZA7(HJ8)
call UnitRemoveAbility(p5,1093747535)
call TQ7(UL7)
call U37(t)
set t=null
set p5=null
set m5=null
return false
endfunction
function I0E takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer BK7=GetUnitAbilityLevel(p5,1093685324)
local trigger t
local integer UL7
call DestroyEffect(AddSpecialEffect("war3mapImported\\PhantomStrike.mdx",GetUnitX(p5),GetUnitY(p5)))
call SetUnitX(p5,GetUnitX(m5))
call SetUnitY(p5,GetUnitY(m5))
if IsUnitAlly(p5,GetOwningPlayer(m5))==false then
set t=CreateTrigger()
set UL7=GetHandleId(t)
call LP7(p5,1093747535)
call TT7(GetHandleId(p5),"Count",0)
call TX7(GetHandleId(p5),"Target",m5)
call IssueTargetOrder(p5,"attack",m5)
if(GetPlayerController(GetOwningPlayer(p5))!=MAP_CONTROL_USER)then
call R97(0.01)
call IssueTargetOrder(p5,"attack",m5)
endif
call TriggerRegisterTimerEvent(t,3,false)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function I1E))
call TX7(UL7,"Source",p5)
call TT7(UL7,"TargetIndex",ZC7(m5))
endif
set p5=null
set m5=null
set t=null
endfunction
function I5E takes nothing returns boolean
if GetSpellAbilityId()==1093685324 then
call I0E()
endif
return false
endfunction
function I2E takes unit p5 returns nothing
local integer UL7=GetHandleId(p5)
local unit m5=UE7(UL7,"Target")
local integer Y59=UQ7(UL7,"Count")
if GetTriggerUnit()!=m5 or Y59>=4 then
call UnitRemoveAbility(p5,1093747535)
call TQ7(UL7)
else
set Y59=Y59+1
call TT7(UL7,"Count",Y59)
endif
set m5=null
endfunction
function I_E takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1093747535)>0 then
call I2E(GetAttacker())
endif
return false
endfunction
function PU8 takes nothing returns nothing
local trigger t=CreateTrigger()
local trigger t2=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function I5E))
call D28(t2,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t2,Condition(function I_E))
set t=null
set t2=null
endfunction
function J4E takes unit EL8,boolean J7E returns nothing
local integer HF8=GetUnitAbilityLevel(EL8,1093677904)
if J7E==false then
call UnitRemoveAbility(EL8,1093743430)
call UnitRemoveAbility(EL8,1110458674)
else
call LP7(EL8,1093743430)
endif
endfunction
function J8E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local group g
local integer CS8=(LoadInteger(L7,(OL7),(34)))
local boolean J9E=(LoadBoolean(L7,(OL7),(674)))
set CS8=CS8+1
call SaveInteger(L7,(OL7),(34),(CS8))
if EL8!=null and LR7(EL8)==false and GetUnitAbilityLevel(EL8,1093677904)>0 then
set IN4=EL8
set g=CA7()
call GroupEnumUnitsInRange(g,GetUnitX(EL8),GetUnitY(EL8),1625,Condition(function FC8))
if FirstOfGroup(g)==null then
if J9E==true and CS8>15 then
set J9E=false
call SaveBoolean(L7,(OL7),(674),(J9E))
set CS8=0
call SaveInteger(L7,(OL7),(34),(CS8))
endif
if J9E==false then
set CS8=0
call SaveInteger(L7,(OL7),(34),(CS8))
call SaveInteger(L7,(GetHandleId((EL8))),((4302)),(2))
call J4E(EL8,false)
call SetUnitVertexColorBJ(EL8,100,100,100,0)
if GetUnitAbilityLevel(EL8,1093808211)==0 then
call UnitSetUsesAltIcon(EL8,false)
endif
endif
else
if J9E==false and CS8>15 then
set J9E=true
set CS8=0
call SaveBoolean(L7,(OL7),(674),(J9E))
call SaveInteger(L7,(OL7),(34),(CS8))
endif
if J9E==true then
set CS8=0
call SaveInteger(L7,(OL7),(34),(CS8))
call SaveInteger(L7,(GetHandleId((EL8))),((4302)),(1))
call J4E(EL8,true)
call SetUnitVertexColorBJ(EL8,100,100,100,75)
if IsPlayerEnemy(GetOwningPlayer(EL8),GetLocalPlayer())==true and CP7(GetLocalPlayer())==false then
call UnitSetUsesAltIcon(EL8,true)
else
call UnitSetUsesAltIcon(EL8,false)
endif
endif
endif
call CZ7(g)
set g=null
endif
set t=null
set EL8=null
return false
endfunction
function JDE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function J8E))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveInteger(L7,(OL7),(34),(0))
call SaveBoolean(L7,(OL7),(674),(false))
set t=null
set EL8=null
endfunction
function JEE takes nothing returns boolean
if GetLearnedSkill()==1093677904 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093677904)==1 then
call JDE()
endif
return false
endfunction
function PS8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function JEE))
set t=null
endfunction
function JFE takes nothing returns nothing
local unit HE8
if IsUnitInGroup(GetEnumUnit(),IQ4)==false then
call GroupAddUnit(IQ4,GetEnumUnit())
set HE8=CreateUnit(GetOwningPlayer(GetEnumUnit()),1697656901,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)
call LP7(HE8,1093685833)
call SetUnitAbilityLevel(HE8,1093685833,GetUnitAbilityLevel(A64,1093685825))
call IssueTargetOrder(HE8,"ensnare",GetEnumUnit())
call HG8(A64,GetEnumUnit(),ZG4,100)
endif
set HE8=null
endfunction
function JGE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local integer i
local group g=UJ7(UL7,"g")
local real x=UR7(UL7,"x")
local real y=UR7(UL7,"y")
local group JHE=CA7()
local unit YO9=UE7(UL7,"UnitVar")
set IN4=YO9
set A64=YO9
call GroupEnumUnitsInRange(JHE,x,y,300,Condition(function FW8))
set IQ4=g
call ForGroup(JHE,function JFE)
call CZ7(JHE)
if GetTriggerEvalCount(t)>AC4*10 then
set i=1
loop
exitwhen i>16
call DestroyEffect(UK7(UL7,"Effect"+I2S(i)))
set i=i+1
endloop
call CZ7(g)
call TQ7(UL7)
call U37(t)
endif
set t=null
set g=null
set JHE=null
set YO9=null
return false
endfunction
function JIE takes nothing returns nothing
local integer i=1
local location l=GetSpellTargetLoc()
local real JJE=GetLocationX(l)
local real JKE=GetLocationY(l)
local real x
local real y
local integer JME=16
local string fx="Abilities\\Spells\\Undead\\Graveyard\\GraveMarker.mdl"
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local group g=CA7()
call E98(WN,JJE,JKE)
call TriggerRegisterTimerEvent(t,.1,true)
call TriggerAddCondition(t,Condition(function JGE))
call TL7(OL7,"g",g)
call TX7(OL7,"UnitVar",GetTriggerUnit())
call TU7(OL7,"x",JJE)
call TU7(OL7,"y",JKE)
loop
exitwhen i>JME
set x=JJE+A34*Cos(i*360/JME*bj_DEGTORAD)
set y=JKE+A34*Sin(i*360/JME*bj_DEGTORAD)
call TY7(OL7,"Effect"+I2S(i),AddSpecialEffect(fx,x,y))
if i==1 or i==5 or i==9 or i==13 then
set x=JJE+275*Cos(i*360/JME*bj_DEGTORAD)
set y=JKE+275*Sin(i*360/JME*bj_DEGTORAD)
endif
set i=i+1
endloop
call RemoveLocation(l)
set l=null
set t=null
set g=null
endfunction
function JNE takes nothing returns boolean
if GetSpellAbilityId()==1093685825 then
call JIE()
endif
return false
endfunction
function R_8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function JNE))
set t=null
endfunction
function JOE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit p5=UE7(OL7,"Source")
local unit HE8=UE7(OL7,"DarkRiftFXUnit")
local integer BK7=UQ7(OL7,"Level")
local integer JPE=90
local integer CS8=UQ7(OL7,"Count")
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093815618 then
call KillUnit(HE8)
call U37(t)
call FlushChildHashtable(L7,(OL7))
else
set CS8=CS8+1
call TT7(OL7,"Count",CS8)
endif
if BK7==1 then
set JPE=160
elseif BK7==2 then
set JPE=120
endif
call SetUnitX(HE8,GetUnitX(p5))
call SetUnitY(HE8,GetUnitY(p5))
if CS8>JPE then
call KillUnit(HE8)
call U37(t)
call TQ7(OL7)
elseif CS8>30 then
call UnitRemoveAbility(HE8,1097625443)
call ShowUnit(HE8,true)
call LP7(HE8,1097625443)
endif
set t=null
set HE8=null
set p5=null
return false
endfunction
function JQE takes nothing returns nothing
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl",GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit())))
call U07(GetEnumUnit(),"4406",1)
call SetUnitPosition(GetEnumUnit(),IJ4,IK4)
call PanCameraToTimedForPlayer(GetOwningPlayer(GetEnumUnit()),IJ4,IK4,0)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl",GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit())))
call AA7(GetEnumUnit())
endfunction
function JRE takes unit p5,unit m5 returns nothing
local group g=CA7()
call DestroyEffect(AddSpecialEffect("Doodads\\Cinematic\\ShimmeringPortal\\ShimmeringPortal.mdl",GetUnitX(p5),GetUnitY(p5)))
call DestroyEffect(AddSpecialEffect("Doodads\\Cinematic\\ShimmeringPortal\\ShimmeringPortal.mdl",GetUnitX(m5),GetUnitY(m5)))
set IJ4=GetUnitX(m5)
set IK4=GetUnitY(m5)
set IN4=p5
call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),475,Condition(function GR8))
call ForGroup(g,function JQE)
call CZ7(g)
set g=null
endfunction
function JSE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit p5=UE7(OL7,"Source")
local unit m5=UE7(OL7,"Target")
call DestroyEffect(UK7(OL7,"FX"))
if GetTriggerEventId()==EVENT_UNIT_DEATH or m5==null or LR7(m5)then
call U37(t)
call FlushChildHashtable(L7,(OL7))
call UnitRemoveType(m5,UNIT_TYPE_PEON)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093685808,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093815618,false)
call D78(GetOwningPlayer(p5),GetObjectName(1848652614))
elseif p5==null or LR7(p5)then
call U37(t)
call FlushChildHashtable(L7,(OL7))
call UnitRemoveType(m5,UNIT_TYPE_PEON)
call D78(GetOwningPlayer(p5),GetObjectName(1848652615))
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093685808,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093815618,false)
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093815618 then
call U37(t)
call FlushChildHashtable(L7,(OL7))
call UnitRemoveType(m5,UNIT_TYPE_PEON)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093685808,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093815618,false)
endif
else
call U37(t)
call FlushChildHashtable(L7,(OL7))
call UnitRemoveType(m5,UNIT_TYPE_PEON)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093685808,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093815618,false)
call JRE(p5,m5)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function JTE takes nothing returns boolean
local real d
if IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==false or GetUnitAbilityLevel(GetFilterUnit(),1093678162)>0 or GetOwningPlayer(GetFilterUnit())==Player(15)then
return false
endif
if IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)or(IH4>0 and NP9(GetFilterUnit()))then
set d=RI7(IK4,IM4,GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()))
if d<IJ4 then
set IJ4=d
set IN4=GetFilterUnit()
endif
endif
return false
endfunction
function JUE takes unit p5 returns unit
local location l
local group g
local real x
local real y
set l=GetSpellTargetLoc()
set x=GetLocationX(l)
set y=GetLocationY(l)
set g=CA7()
set IH4=GetUnitAbilityLevel(p5,1093685808)
set IN4=null
set IJ4=9999
set IK4=x
set IM4=y
call GroupEnumUnitsInRange(g,x,y,4000,Condition(function JTE))
call CZ7(g)
call RemoveLocation(l)
set l=null
set g=null
return IN4
endfunction
function JVE takes unit p5 returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit m5=GetSpellTargetUnit()
local unit u
if m5==null then
set m5=JUE(p5)
endif
if m5==null then
call D78(GetOwningPlayer(p5),GetObjectName(1848652616))
return
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093685808,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093815618,true)
call LP7(p5,1093815618)
call TriggerRegisterTimerEvent(t,6-GetUnitAbilityLevel(p5,1093685808),false)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function JSE))
call TY7(OL7,"FX",AddSpecialEffectTarget("war3mapImported\\DarkHands.mdl",m5,"overhead"))
call TX7(OL7,"Source",p5)
call TX7(OL7,"Target",m5)
call UnitAddType(m5,UNIT_TYPE_PEON)
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,.03,true)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function JOE))
call TT7(OL7,"Level",GetUnitAbilityLevel(p5,1093685808))
call TX7(OL7,"Source",p5)
set u=CreateUnit(GetOwningPlayer(p5),1747990840,GetUnitX(p5),GetUnitY(p5),0)
call TX7(OL7,"DarkRiftFXUnit",u)
call ShowUnit(u,false)
set t=null
set m5=null
set u=null
endfunction
function JWE takes nothing returns nothing
local unit O_7=GetSpellTargetUnit()
local unit CL7=GetTriggerUnit()
if O_7!=null then
if IsUnitAlly(O_7,GetOwningPlayer(CL7))==false then
call RU7(CL7)
call D78(GetOwningPlayer(CL7),GetObjectName(1848652849))
elseif GetUnitAbilityLevel(CL7,1093685808)>0 and NP9(O_7)==false then
call RU7(CL7)
call D78(GetOwningPlayer(CL7),GetObjectName(1848652849))
endif
endif
if O_7==null then
set O_7=JUE(CL7)
endif
if O_7==null then
call RU7(CL7)
call D78(GetOwningPlayer(CL7),GetObjectName(1848652848))
endif
set O_7=null
set CL7=null
endfunction
function JXE takes nothing returns boolean
if GetSpellAbilityId()==1093685808 then
call JWE()
endif
return false
endfunction
function JYE takes nothing returns boolean
if GetSpellAbilityId()==1093685808 then
call JVE(GetTriggerUnit())
endif
return false
endfunction
function R58 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function JXE))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function JYE))
set t=null
call LX7(1747990836)
call LX7(1747990837)
call LX7(1747990838)
endfunction
function JZE takes nothing returns nothing
call HG8(A14,GetEnumUnit(),ZG4,AL4)
endfunction
function JAE takes nothing returns nothing
call SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)+AL4*0.5)
endfunction
function JBE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit CL7=UE7(OL7,"Hero")
local real x=UR7(OL7,"x")
local real y=UR7(OL7,"y")
local group g=CA7()
local real r1=600
local real r2=600
local unit JCE
set x=GetUnitX(CL7)
set y=GetUnitY(CL7)
call GroupEnumUnitsInRange(g,x,y,r1,Condition(function GU8))
set JCE=FirstOfGroup(g)
call CZ7(g)
if JCE==null then
if US7(OL7,"NoCorpse1")and US7(OL7,"NoCorpse2")then
call UnitRemoveAbility(CL7,1093810227)
call TQ7(OL7)
call U37(t)
else
if US7(OL7,"NoCorpse1")==false then
call TW7(OL7,"NoCorpse1",true)
else
call TW7(OL7,"NoCorpse2",true)
endif
endif
else
set x=GetUnitX(JCE)
set y=GetUnitY(JCE)
call TW7(OL7,"NoCorpse1",false)
call TW7(OL7,"NoCorpse2",false)
call TQ7(GetHandleId(JCE))
call DestroyEffect(AddSpecialEffect("war3mapImported\\CorpseExplosion.mdx",x,y))
call RemoveUnit(JCE)
set g=CA7()
set IN4=CL7
set A14=CL7
set AL4=20*GetUnitAbilityLevel(CL7,1093810232)
call GroupEnumUnitsInRange(g,x,y,r2,Condition(function FW8))
call ForGroup(g,function JZE)
set IN4=CL7
call GroupEnumUnitsInRange(g,x,y,r2,Condition(function GE8))
call ForGroup(g,function JAE)
call CZ7(g)
endif
set g=null
set CL7=null
set JCE=null
set t=null
return false
endfunction
function J3E takes nothing returns nothing
local real x=GetUnitX(GetTriggerUnit())
local real y=GetUnitY(GetTriggerUnit())
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call E98(AI4,x,y)
call TriggerRegisterTimerEvent(t,1.5,true)
call TriggerAddCondition(t,Condition(function JBE))
call LP7(GetTriggerUnit(),1093810227)
call TX7(OL7,"Hero",GetTriggerUnit())
call TU7(OL7,"x",x)
call TU7(OL7,"y",y)
call TW7(OL7,"NoCorpse1",false)
call TW7(OL7,"NoCorpse2",false)
set t=null
endfunction
function J6E takes nothing returns boolean
if GetSpellAbilityId()==1093810232 then
call J3E()
endif
return false
endfunction
function R28 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function J6E))
set t=null
endfunction
function JLE takes nothing returns nothing
endfunction
function J1E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(UE7(OL7,"Source"))
local unit HE8=(UE7(OL7,"Caster"))
local group g=CA7()
set IN4=EL8
set IA7=GetUnitAbilityLevel(EL8,1093677385)*10+10
call GroupEnumUnitsInRange(g,GetUnitX(HE8),GetUnitY(HE8),475,Condition(function GE8))
call ForGroup(g,function JLE)
call CZ7(g)
if GetTriggerEvalCount(t)==5 then
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set t=null
set HE8=null
return false
endfunction
function J0E takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local integer HF8=GetUnitAbilityLevel(EL8,1093677385)
local unit HE8=CreateUnit(GetOwningPlayer(EL8),1697656901,x,y,0)
call TriggerAddCondition(t,Condition(function J1E))
call TriggerRegisterTimerEvent(t,1,true)
call TX7(OL7,"Source",EL8)
call TX7(OL7,"Caster",HE8)
call LP7(HE8,1093809714)
call SetUnitAbilityLevel(HE8,1093809714,HF8)
call IssuePointOrder(HE8,"rainoffire",x,y)
set EL8=null
set HE8=null
endfunction
function J5E takes nothing returns boolean
if GetSpellAbilityId()==1093677385 then
call J0E()
endif
return false
endfunction
function S48 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function J5E))
set t=null
endfunction
function J2E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local integer HF8=GetUnitAbilityLevel(EL8,1093809233)
local integer J_E
local real K4E
local real K7E=3+HF8
if GetTriggerEventId()==EVENT_WIDGET_DEATH or GetTriggerEvalCount(t)>4*K7E then
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
call UnitRemoveAbility(O_7,1093809242)
call UnitRemoveAbility(O_7,1093809456)
call UnitRemoveAbility(O_7,1093809240)
call UnitRemoveAbility(O_7,1093809457)
call UnitRemoveAbility(O_7,1093809241)
call UnitRemoveAbility(O_7,1110459720)
else
set K4E=100*GetUnitState(O_7,UNIT_STATE_LIFE)/GetUnitState(O_7,UNIT_STATE_MAX_LIFE)
if K4E<20 then
set J_E=5
elseif K4E<40 then
set J_E=4
elseif K4E<60 then
set J_E=3
elseif K4E<80 then
set J_E=2
else
set J_E=1
endif
if J_E==1 then
if GetUnitAbilityLevel(O_7,1093809242)==0 then
call UnitRemoveAbility(O_7,1093809456)
call UnitRemoveAbility(O_7,1093809240)
call UnitRemoveAbility(O_7,1093809457)
call UnitRemoveAbility(O_7,1093809241)
call UnitRemoveAbility(O_7,1110459720)
call UnitAddAbility(O_7,1093809242)
endif
elseif J_E==2 then
if GetUnitAbilityLevel(O_7,1093809456)==0 then
call UnitRemoveAbility(O_7,1093809242)
call UnitRemoveAbility(O_7,1093809240)
call UnitRemoveAbility(O_7,1093809457)
call UnitRemoveAbility(O_7,1093809241)
call UnitRemoveAbility(O_7,1110459720)
call UnitAddAbility(O_7,1093809456)
endif
elseif J_E==3 then
if GetUnitAbilityLevel(O_7,1093809240)==0 then
call UnitRemoveAbility(O_7,1093809242)
call UnitRemoveAbility(O_7,1093809456)
call UnitRemoveAbility(O_7,1093809457)
call UnitRemoveAbility(O_7,1093809241)
call UnitRemoveAbility(O_7,1110459720)
call UnitAddAbility(O_7,1093809240)
endif
elseif J_E==4 then
if GetUnitAbilityLevel(O_7,1093809457)==0 then
call UnitRemoveAbility(O_7,1093809242)
call UnitRemoveAbility(O_7,1093809456)
call UnitRemoveAbility(O_7,1093809240)
call UnitRemoveAbility(O_7,1093809241)
call UnitRemoveAbility(O_7,1110459720)
call UnitAddAbility(O_7,1093809457)
endif
elseif J_E==5 then
if GetUnitAbilityLevel(O_7,1093809241)==0 then
call UnitRemoveAbility(O_7,1093809242)
call UnitRemoveAbility(O_7,1093809456)
call UnitRemoveAbility(O_7,1093809240)
call UnitRemoveAbility(O_7,1093809457)
call UnitRemoveAbility(O_7,1110459720)
call UnitAddAbility(O_7,1093809241)
endif
endif
call HG8(EL8,O_7,ZG4,0.01*4*0.25*GetUnitState(O_7,UNIT_STATE_MAX_LIFE))
if ModuloInteger(GetTriggerEvalCount(t),4)==0 then
call CreateCorpse(GetOwningPlayer(EL8),1969711215,GetUnitX(O_7),GetUnitY(O_7),0)
endif
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function K8E takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local integer HF8=GetUnitAbilityLevel(EL8,1093809233)
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call SaveEffectHandle(L7,(OL7),(32),(AddSpecialEffectTarget("effects\\EntanglingBonesTarget.mdx",O_7,"chest")))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerRegisterDeathEvent(t,O_7)
call TriggerAddCondition(t,Condition(function J2E))
call SetPlayerAbilityAvailable(GetOwningPlayer(O_7),1093809242,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(O_7),1093809456,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(O_7),1093809240,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(O_7),1093809457,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(O_7),1093809241,false)
set EL8=null
set O_7=null
set t=null
endfunction
function K9E takes nothing returns boolean
if GetSpellAbilityId()==1093809233 and CY7(GetSpellTargetUnit())==false then
call K8E()
endif
return false
endfunction
function S78 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function K9E))
set t=null
endfunction
function KDE takes unit EL8,integer KEE returns nothing
call SaveInteger(L7,(GetHandleId(EL8)),(687),(KEE))
call UnitRemoveAbility(EL8,1093809496)
call UnitRemoveAbility(EL8,1093809497)
call UnitRemoveAbility(EL8,1093809498)
call UnitRemoveAbility(EL8,1093809492)
call UnitRemoveAbility(EL8,1093809494)
call UnitRemoveAbility(EL8,1093809493)
call UnitRemoveAbility(EL8,1093809491)
call UnitRemoveAbility(EL8,1093809490)
call UnitRemoveAbility(EL8,1093809495)
call UnitRemoveAbility(EL8,1093809712)
call UnitRemoveAbility(EL8,1093809741)
call UnitRemoveAbility(EL8,1093809740)
call UnitRemoveAbility(EL8,1093809735)
call UnitRemoveAbility(EL8,1093809736)
call UnitRemoveAbility(EL8,1093809734)
call UnitRemoveAbility(EL8,1093809733)
call UnitRemoveAbility(EL8,1093809462)
call UnitRemoveAbility(EL8,1093809737)
call UnitRemoveAbility(EL8,1093809738)
call UnitRemoveAbility(EL8,1093809739)
call UnitRemoveAbility(EL8,1093809732)
if KEE==0 then
call UnitAddAbility(EL8,1093809741)
endif
if KEE==1 then
call LP7(EL8,1093809496)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093809496,false)
call UnitAddAbility(EL8,1093809740)
elseif KEE==2 then
call LP7(EL8,1093809497)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093809497,false)
call UnitAddAbility(EL8,1093809735)
elseif KEE==3 then
call LP7(EL8,1093809498)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093809498,false)
call UnitAddAbility(EL8,1093809736)
elseif KEE==4 then
call LP7(EL8,1093809492)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093809492,false)
call UnitAddAbility(EL8,1093809734)
elseif KEE==5 then
call LP7(EL8,1093809494)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093809494,false)
call UnitAddAbility(EL8,1093809733)
elseif KEE==6 then
call LP7(EL8,1093809493)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093809493,false)
call UnitAddAbility(EL8,1093809462)
elseif KEE==7 then
call LP7(EL8,1093809491)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093809491,false)
call UnitAddAbility(EL8,1093809737)
elseif KEE==8 then
call LP7(EL8,1093809490)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093809490,false)
call UnitAddAbility(EL8,1093809738)
elseif KEE==9 then
call LP7(EL8,1093809495)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093809495,false)
call UnitAddAbility(EL8,1093809739)
elseif KEE==10 then
call LP7(EL8,1093809712)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093809712,false)
call UnitAddAbility(EL8,1093809732)
endif
endfunction
function KFE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local integer KEE=(LoadInteger(L7,(GetHandleId(EL8)),(687)))
local group g
local unit JCE
local integer HF8=GetUnitAbilityLevel(EL8,1093809713)
local integer KGE=2+2*HF8
if KEE<KGE and LR7(EL8)==false then
set g=CA7()
call GroupEnumUnitsInRange(g,GetUnitX(EL8),GetUnitY(EL8),925,Condition(function GU8))
set JCE=FirstOfGroup(g)
call CZ7(g)
if JCE!=null then
set KEE=KEE+1
call KDE(EL8,KEE)
call EO8((JCE),(EL8),1747993654,"CorpseCollector_FX_Nothing",400)
call RemoveUnit(JCE)
endif
endif
set t=null
set EL8=null
set JCE=null
return false
endfunction
function KHE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
call TriggerRegisterTimerEvent(t,4,true)
call TriggerAddCondition(t,Condition(function KFE))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
set t=null
set EL8=null
endfunction
function KIE takes nothing returns nothing
call HG8(A04,GetEnumUnit(),ZG4,A54)
endfunction
function KJE takes unit EL8,integer HF8,real EG8,real EH8,integer KEE,boolean PP9 returns nothing
local group g=CA7()
set A04=EL8
set A54=30*KEE
if PP9 then
set A54=A54+10*KEE
endif
set IN4=EL8
call GroupEnumUnitsInRange(g,EG8,EH8,350,Condition(function FW8))
call ForGroup(g,function KIE)
call CZ7(g)
endfunction
function KKE takes unit EL8,real Z69,real ZL9 returns boolean
local real EG8=(LoadReal(L7,(GetHandleId(EL8)),(690)))
local real EH8=(LoadReal(L7,(GetHandleId(EL8)),(691)))
if EG8==0 and EH8==0 then
return false
endif
if RI7(Z69,ZL9,EG8,EH8)<425 then
return true
endif
return false
endfunction
function KME takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local integer KEE=(LoadInteger(L7,(OL7),(34)))
local integer HF8=GetUnitAbilityLevel(EL8,1093809713)
local integer i=1
local unit HE8
local real EG8=(LoadReal(L7,(OL7),(47)))
local real EH8=(LoadReal(L7,(OL7),(48)))
local real x
local real y
local real a=(LoadReal(L7,(OL7),(137)))
local boolean PP9=(LoadBoolean(L7,(OL7),(688)))
local boolean KNE=(LoadBoolean(L7,(OL7),(689)))
local real KOE=(LoadReal(L7,(OL7),(549)))
local real KPE=(LoadReal(L7,(OL7),(567)))
set KOE=DD8(KOE+10*Cos(a))
set KPE=DE8(KPE+10*Sin(a))
call SaveReal(L7,(OL7),(549),((KOE)*1.0))
call SaveReal(L7,(OL7),(567),((KPE)*1.0))
if PP9==false then
set PP9=KKE(EL8,KOE,KPE)
if PP9==true then
call SaveBoolean(L7,(OL7),(688),(PP9))
endif
endif
if PP9 and KNE==false then
set KNE=true
call SaveBoolean(L7,(OL7),(689),(KNE))
loop
exitwhen i>KEE
set HE8=(LoadUnitHandle(L7,(OL7),(393+i)))
call SaveEffectHandle(L7,(OL7),(609+i),(AddSpecialEffectTarget("war3mapImported\\CorpseFire.mdx",HE8,"origin")))
set i=i+1
endloop
endif
set i=1
if RI7(KOE,KPE,EG8,EH8)<15 then
loop
exitwhen i>KEE
if PP9 then
call DestroyEffect((LoadEffectHandle(L7,(OL7),(609+i))))
endif
call KillUnit((LoadUnitHandle(L7,(OL7),(393+i))))
set i=i+1
endloop
call FlushChildHashtable(L7,(OL7))
call U37(t)
call KJE(EL8,HF8,EG8,EH8,KEE,PP9)
else
loop
exitwhen i>KEE
set HE8=(LoadUnitHandle(L7,(OL7),(393+i)))
set x=(LoadReal(L7,(OL7),(549+i)))
set y=(LoadReal(L7,(OL7),(567+i)))
set x=DD8(x+10*Cos(a))
set y=DE8(y+10*Sin(a))
call SaveReal(L7,(OL7),(549+i),((x)*1.0))
call SaveReal(L7,(OL7),(567+i),((y)*1.0))
call SetUnitX(HE8,x)
call SetUnitY(HE8,y)
set i=i+1
endloop
endif
set t=null
set HE8=null
set EL8=null
return false
endfunction
function KQE takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local real EG8=GetSpellTargetX()
local real EH8=GetSpellTargetY()
local integer HF8=GetUnitAbilityLevel(EL8,1093809713)
local integer KEE=(LoadInteger(L7,(GetHandleId(EL8)),(687)))
local integer i=1
local unit HE8
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local real x=GetUnitX(EL8)
local real y=GetUnitY(EL8)
local real a=PS7(GetUnitX(EL8),GetUnitY(EL8),EG8,EH8)*bj_DEGTORAD
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveInteger(L7,(OL7),(34),(KEE))
call SaveReal(L7,(OL7),(47),((EG8)*1.0))
call SaveReal(L7,(OL7),(48),((EH8)*1.0))
call SaveReal(L7,(OL7),(137),((a)*1.0))
call SaveReal(L7,(OL7),(549),((x)*1.0))
call SaveReal(L7,(OL7),(567),((y)*1.0))
call SaveBoolean(L7,(OL7),(688),(false))
call SaveBoolean(L7,(OL7),(689),(false))
loop
exitwhen i>KEE
set HE8=CreateUnit(GetOwningPlayer(EL8),1747993655,x+GetRandomInt(-200,200),y+GetRandomInt(-200,200),0)
call SaveUnitHandle(L7,(OL7),(393+i),(HE8))
call SaveReal(L7,(OL7),(549+i),((GetUnitX(HE8))*1.0))
call SaveReal(L7,(OL7),(567+i),((GetUnitY(HE8))*1.0))
set i=i+1
endloop
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function KME))
call KDE(EL8,0)
set EL8=null
set t=null
set HE8=null
endfunction
function KRE takes nothing returns boolean
if GetSpellAbilityId()==1093809713 then
call KQE()
endif
return false
endfunction
function KSE takes nothing returns boolean
if GetLearnedSkill()==1093809713 and GetUnitAbilityLevel(GetTriggerUnit(),1093809713)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call KHE()
endif
return false
endfunction
function S88 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function KRE))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function KSE))
set t=null
endfunction
function KTE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit HE8=(LoadUnitHandle(L7,(OL7),(19)))
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local real x=(LoadReal(L7,(OL7),(6)))
local real y=(LoadReal(L7,(OL7),(7)))
local unit KUE
if GetTriggerEventId()==EVENT_UNIT_SPELL_FINISH then
call FlushChildHashtable(L7,(OL7))
call U37(t)
call KillUnit(HE8)
call UnitApplyTimedLife(HE8,1112820806,0.1)
elseif LR7(HE8)then
call FlushChildHashtable(L7,(OL7))
call U37(t)
else
call SaveReal(L7,(OL7),(6),((GetUnitX(HE8))*1.0))
call SaveReal(L7,(OL7),(7),((GetUnitY(HE8))*1.0))
if x!=GetUnitX(HE8)or y!=GetUnitY(HE8)then
call UnitRemoveAbility(HE8,1093815348)
else
call UnitAddAbility(HE8,1093815348)
endif
endif
return false
endfunction
function KVE takes nothing returns boolean
return GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(IB7)and GetUnitTypeId(GetFilterUnit())==1966092633
endfunction
function KWE takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit HE8=CreateUnit(GetOwningPlayer(EL8),1966092633,GetUnitX(EL8)+100,GetUnitY(EL8)+100,0)
local group g
local integer HF8=GetUnitAbilityLevel(EL8,1093815350)
local real BY8
local unit KXE
local unit KYE
call TriggerRegisterUnitEvent(t,HE8,EVENT_UNIT_SPELL_FINISH)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function KTE))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(19),(HE8))
call SaveReal(L7,(OL7),(6),((GetUnitX(HE8))*1.0))
call SaveReal(L7,(OL7),(7),((GetUnitY(HE8))*1.0))
call UnitAddAbility(HE8,1093815348)
call SetUnitAbilityLevel(HE8,1093815349,GetUnitAbilityLevel(EL8,1093815350))
call SaveReal(L7,(GetHandleId(HE8)),(34),(((TimerGetElapsed(W)))*1.0))
set IB7=EL8
set g=CA7()
call GroupEnumUnitsInRange(g,0,0,99999,Condition(function KVE))
if CountUnitsInGroup(g)>HF8+1 then
set KYE=FirstOfGroup(g)
set BY8=(LoadReal(L7,(GetHandleId(KYE)),(34)))
set KXE=KYE
call GroupRemoveUnit(g,KYE)
loop
exitwhen KYE==null
if BY8>(LoadReal(L7,(GetHandleId(KYE)),(34)))then
set BY8=(LoadReal(L7,(GetHandleId(KYE)),(34)))
set KXE=KYE
endif
set KYE=FirstOfGroup(g)
call GroupRemoveUnit(g,KYE)
endloop
call KillUnit(KXE)
endif
call CZ7(g)
set g=null
set HE8=null
set EL8=null
set t=null
endfunction
function KZE takes nothing returns boolean
if GetSpellAbilityId()==1093815350 then
call KWE()
endif
return false
endfunction
function S98 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function KZE))
endfunction
function KAE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local integer PP9=(LoadInteger(L7,(OL7),(34)))
call SaveInteger(L7,(GetHandleId(EL8)),(783),((LoadInteger(L7,(GetHandleId(EL8)),(783)))-PP9))
call FlushChildHashtable(L7,(OL7))
call U37(t)
set EL8=null
set t=null
return false
endfunction
function KBE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit LU7=GetTriggerUnit()
local integer HF8=GetUnitAbilityLevel(EL8,1095328612)
local integer PP9
local integer D29
if IsUnitInRange(EL8,LU7,900+25)and LR7(EL8)==false and IsUnitAlly(EL8,GetOwningPlayer(LU7))==false and GetUnitTypeId(LU7)!=1848657461 and IsUnitIllusion(LU7)==false and J98(GetUnitTypeId(LU7))==false and GetUnitAbilityLevel(LU7,1093678162)==0 then
set D29=(LoadInteger(L7,(GetHandleId(EL8)),(783)))
if IsUnitType(LU7,UNIT_TYPE_HERO)==true then
set PP9=30
else
set PP9=5
endif
set D29=D29+PP9
call SaveInteger(L7,(GetHandleId(EL8)),(783),(D29))
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,25+HF8*5,false)
call TriggerRegisterDeathEvent(t,EL8)
call TriggerAddCondition(t,Condition(function KAE))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveInteger(L7,(OL7),(34),(PP9))
endif
set t=null
set EL8=null
set LU7=null
return false
endfunction
function KCE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local integer D29=(LoadInteger(L7,(GetHandleId(EL8)),(783)))
local integer V9D=(LoadInteger(L7,(OL7),(238)))
if V9D!=D29 then
call HN8(EL8,D29)
call SaveInteger(L7,(OL7),(238),(D29))
endif
set t=null
set EL8=null
return false
endfunction
function K3E takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call D28(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function KBE))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerAddCondition(t,Condition(function KCE))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
set EL8=null
set t=null
endfunction
function K6E takes nothing returns boolean
if GetLearnedSkill()==1095328612 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1095328612)==1 then
call K3E()
endif
return false
endfunction
function SD8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function K6E))
set t=null
endfunction
function KLE takes nothing returns boolean
return GetUnitAbilityLevel(GetTriggerUnit(),1093678667)>0
endfunction
function K1E takes nothing returns nothing
if(GetIssuedOrderId()==String2OrderIdBJ("immolation"))then
if(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)then
call LP7(GetTriggerUnit(),1093681498)
else
call R97(0.1)
if(GetUnitAbilityLevel(GetTriggerUnit(),1110454868)>0)then
call UnitAddAbility(GetTriggerUnit(),1093681498)
endif
endif
elseif(GetIssuedOrderId()==String2OrderIdBJ("unimmolation"))then
if(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)then
call UnitRemoveAbility(GetTriggerUnit(),1093681498)
else
call R97(0.1)
if(GetUnitAbilityLevel(GetTriggerUnit(),1110454868)==0)then
call UnitRemoveAbility(GetTriggerUnit(),1093681498)
endif
endif
endif
endfunction
function PV8 takes nothing returns nothing
local trigger t=CreateTrigger()
call ky(t,EVENT_PLAYER_UNIT_ISSUED_ORDER)
call TriggerAddCondition(t,Condition(function KLE))
call TriggerAddAction(t,function K1E)
set t=null
endfunction
function K0E takes nothing returns nothing
local integer OL7=GetHandleId(GetEnumUnit())
if GetTriggerUnit()!=GetEnumUnit()then
call SaveInteger(L7,(OL7),(672),((LoadInteger(L7,(OL7),(672)))+1))
endif
endfunction
function K5E takes nothing returns boolean
return GetUnitTypeId(GetFilterUnit())==1429221446 and IsUnitIllusion(GetFilterUnit())==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function K2E takes nothing returns boolean
local group g
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and J98(GetUnitTypeId(GetTriggerUnit()))==false and IsUnitIllusion(GetTriggerUnit())==false then
set g=CA7()
call GroupEnumUnitsInRange(g,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),475,Condition(function K5E))
if GetUnitTypeId(GetKillingUnit())==1429221446 then
call GroupAddUnit(g,GetKillingUnit())
endif
call ForGroup(g,function K0E)
call CZ7(g)
set g=null
endif
return false
endfunction
function K_E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit p5=(LoadUnitHandle(L7,(OL7),(2)))
if GetTriggerEvalCount(t)==1 then
call ShowUnit(p5,false)
elseif GetTriggerEvalCount(t)>80 then
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set t=null
set p5=null
return false
endfunction
function M4E takes nothing returns boolean
local unit HE8
local unit p5
local unit LU7
local trigger t
local integer OL7
if GetUnitTypeId(GetTriggerUnit())==1429221446 then
set p5=GetTriggerUnit()
set LU7=GetKillingUnit()
if p5==LU7 then
set HE8=CreateUnit(GetOwningPlayer(p5),1747993154,GetUnitX(p5),GetUnitY(p5),GetUnitFacing(p5))
call SetUnitTimeScale(HE8,0.75)
call UnitApplyTimedLife(HE8,1112820806,1.0)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodAbomination.mdl",HE8,"origin"))
set HE8=null
call SetSoundPosition(JP,GetUnitX(p5),GetUnitY(p5),50)
call SetSoundVolumeBJ(JP,100)
call PlaySoundBJ(JP)
call SetSoundPosition(KP,GetUnitX(p5),GetUnitY(p5),50)
call SetSoundVolumeBJ(KP,100)
call PlaySoundBJ(KP)
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,.1,true)
call TriggerAddCondition(t,Condition(function K_E))
call SaveUnitHandle(L7,(OL7),(2),(p5))
set t=null
endif
set p5=null
set LU7=null
endif
return false
endfunction
function M7E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local unit EL8=(LoadUnitHandle(L7,(GetHandleId(t)),(2)))
local integer OL7=GetHandleId(EL8)
local integer M8E=(LoadInteger(L7,(OL7),(672)))
local integer M9E=(LoadInteger(L7,(OL7),(673)))
local integer HF8=GetUnitAbilityLevel(EL8,1093678660)
local integer MDE=R2I(I2R(M8E)*(0.6+0.3*HF8))
if MDE>M9E then
call ModifyHeroStat(0,EL8,bj_MODIFYMETHOD_ADD,MDE-M9E)
call SaveInteger(L7,(OL7),(673),(MDE))
call DL8("+"+I2S(MDE-M9E)+" "+GetObjectName(1848659274),3,EL8,0.023,0,255,0,230)
endif
set t=null
set EL8=null
return false
endfunction
function MEE takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerAddCondition(t,Condition(function M7E))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
set EL8=null
set t=null
endfunction
function MFE takes nothing returns boolean
if GetLearnedSkill()==1093678660 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093678660)==1 then
call MEE()
endif
return false
endfunction
function MGE takes nothing returns boolean
if GetUnitTypeId(M7[GetPlayerId(GetTriggerPlayer())])==1429221446 then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,GetObjectName(1848654162)+" "+I2S((LoadInteger(L7,(GetHandleId(M7[GetPlayerId(GetTriggerPlayer())])),(673))))+" "+GetObjectName(1848654163))
endif
return false
endfunction
function PW8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function MFE))
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-st",true)
call TriggerAddCondition(t,Condition(function MGE))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function M4E))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function K2E))
set t=null
endfunction
function MHE takes unit EL8,unit O_7 returns nothing
local unit HE8=CreateUnit(GetOwningPlayer(O_7),1697656901,GetUnitX(O_7),GetUnitY(O_7),0)
local unit KUE=CreateUnit(GetOwningPlayer(EL8),1697657409,GetUnitX(O_7),GetUnitY(O_7),0)
call LP7(HE8,1093685338)
call IssueTargetOrder(HE8,"thunderbolt",O_7)
call UnitApplyTimedLife(HE8,1112820806,1)
call UnitApplyTimedLife(KUE,1112820806,1)
set HE8=null
set KUE=null
endfunction
function MIE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local integer MJE=UQ7(UL7,"LinkNumber")
local boolean MKE=US7(UL7,"FoundTarget")
local unit m5
local unit MME=UE7(UL7,"Link"+I2S(MJE))
if MKE then
set m5=UE7(UL7,"Target")
call SetUnitX(m5,GetUnitX(MME))
call SetUnitY(m5,GetUnitY(MME))
endif
call RemoveUnit(MME)
set MJE=MJE-1
call TT7(UL7,"LinkNumber",MJE)
if MJE==0 then
call TQ7(UL7)
call U37(t)
endif
set t=null
set m5=null
set MME=null
return false
endfunction
function MNE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local integer MJE=UQ7(UL7,"LinkNumber")
local integer BK7=UQ7(UL7,"Level")
local real l4=UR7(UL7,"Angle")
local unit CR7=UE7(UL7,"Hero")
local trigger MOE=UI7(UL7,"RetractTrigger")
local integer MPE=GetHandleId(MOE)
local group g
local unit u
local real x
local real y
if MJE<10+5*BK7 then
set MJE=MJE+1
call TT7(UL7,"LinkNumber",MJE)
set x=GetUnitX(CR7)+MJE*40*Cos(l4*bj_DEGTORAD)
set y=GetUnitY(CR7)+MJE*40*Sin(l4*bj_DEGTORAD)
call TX7(MPE,"Link"+I2S(MJE),CreateUnit(GetOwningPlayer(CR7),1966092360,x,y,l4))
set g=CA7()
call GroupEnumUnitsInRange(g,x,y,125,Condition(function GP8))
call GroupRemoveUnit(g,CR7)
set u=GroupPickRandomUnit(g)
call CZ7(g)
if u!=null then
call TQ7(UL7)
call U37(t)
call TriggerRegisterTimerEvent(MOE,0.03,true)
call TriggerAddCondition(MOE,Condition(function MIE))
call TT7(MPE,"LinkNumber",MJE)
call TW7(MPE,"FoundTarget",true)
call TX7(MPE,"Target",u)
if IsUnitEnemy(u,GetOwningPlayer(CR7))then
if IsUnitType(u,UNIT_TYPE_HERO)==true then
call IM8("HA_Hits"+I2S(GetPlayerId(GetOwningPlayer(CR7))),R74[GetPlayerId(GetOwningPlayer(CR7))])
set R74[GetPlayerId(GetOwningPlayer(CR7))]=R74[GetPlayerId(GetOwningPlayer(CR7))]+1
call U07(CR7,"4400",1.5)
endif
set R84[GetPlayerId(GetOwningPlayer(CR7))]=R84[GetPlayerId(GetOwningPlayer(CR7))]+1
call IM8("HA_Total"+I2S(GetPlayerId(GetOwningPlayer(CR7))),R84[GetPlayerId(GetOwningPlayer(CR7))])
call MHE(CR7,u)
call HG8(CR7,u,ZI4,90*BK7)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",u,"origin"))
endif
endif
else
call TQ7(UL7)
call U37(t)
set R84[GetPlayerId(GetOwningPlayer(CR7))]=R84[GetPlayerId(GetOwningPlayer(CR7))]+1
call TriggerRegisterTimerEvent(MOE,0.03,true)
call TriggerAddCondition(MOE,Condition(function MIE))
call TT7(MPE,"LinkNumber",MJE)
call TW7(MPE,"FoundTarget",false)
endif
set t=null
set CR7=null
set MOE=null
set g=null
set u=null
return false
endfunction
function MQE takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real l4=PS7(GetUnitX(CR7),GetUnitY(CR7),GetLocationX(l),GetLocationY(l))
local integer BK7=GetUnitAbilityLevel(CR7,1093678665)
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call TX7(UL7,"Hero",CR7)
call TT7(UL7,"Level",BK7)
call TU7(UL7,"Angle",l4*1.0)
call TT7(UL7,"LinkNumber",0)
call TZ7(UL7,"RetractTrigger",CreateTrigger())
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerAddCondition(t,Condition(function MNE))
call RemoveLocation(l)
set CR7=null
set l=null
set t=null
endfunction
function MRE takes nothing returns boolean
if GetSpellAbilityId()==1093678665 then
call MQE()
endif
return false
endfunction
function MSE takes nothing returns boolean
local integer I0D=R74[GetPlayerId(GetTriggerPlayer())]
local integer D5=R84[GetPlayerId(GetTriggerPlayer())]
if GetUnitTypeId(M7[GetPlayerId(GetTriggerPlayer())])==1429221446 and D5>0 then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,(GetObjectName((1848657228)))+" "+R2S(I2R(I0D)/ I2R(D5)*100)+"% ("+I2S(I0D)+"/"+I2S(D5)+")")
endif
return false
endfunction
function PX8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function MRE))
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-st",true)
call TriggerAddCondition(t,Condition(function MSE))
set t=null
endfunction
function MTE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local unit m5=UE7(UL7,"Target")
local integer BK7=UQ7(UL7,"Level")
local real DV8=(25+50*BK7)+(0.75)*GetHeroStr(p5,true)
local integer BD8=UQ7(UL7,"Count")
if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST then
if GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST and GetSpellAbilityId()==1093747544)then
call TQ7(UL7)
call U37(t)
endif
elseif GetTriggerEvalCount(t)>4 then
call TQ7(UL7)
call U37(t)
call RU7(p5)
else
if BK7>0 then
set BD8=BD8+1
if(BD8<4 and IsUnitType(m5,UNIT_TYPE_HERO)==true)or(BD8<8 and IsUnitType(m5,UNIT_TYPE_HERO)==false)then
call SetUnitState(p5,UNIT_STATE_LIFE,GetUnitState(p5,UNIT_STATE_LIFE)+DV8)
call HG8(p5,m5,ZG4,DV8)
endif
call TT7(UL7,"Count",BD8)
endif
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function MUE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer BK7=GetUnitAbilityLevel(p5,1093747544)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_ENDCAST)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function MTE))
call TX7(UL7,"Source",p5)
call TX7(UL7,"Target",m5)
call TT7(UL7,"Level",BK7)
call TT7(UL7,"Count",0)
call TriggerEvaluate(t)
set t=null
set p5=null
set m5=null
endfunction
function MVE takes nothing returns boolean
if GetSpellAbilityId()==1093747544 and CY7(GetSpellTargetUnit())==false then
call MUE()
endif
return false
endfunction
function PY8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function MVE))
set t=null
endfunction
function MWE takes nothing returns boolean
return((GetUnitTypeId(GetSummonedUnit())==1865429068)or(GetUnitTypeId(GetSummonedUnit())==1865429069)or(GetUnitTypeId(GetSummonedUnit())==1865429070)or(GetUnitTypeId(GetSummonedUnit())==1865429071))
endfunction
function MXE takes nothing returns nothing
endfunction
function MYE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit HE8=(LoadUnitHandle(L7,(OL7),(19)))
local integer HF8=(LoadInteger(L7,(OL7),(5)))
local group g
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
call FlushChildHashtable(L7,(OL7))
call U37(t)
else
set g=CA7()
set IN4=HE8
call GroupEnumUnitsInRange(g,GetUnitX(HE8),GetUnitY(HE8),400+300*4+25,Condition(function FW8))
call ForGroup(g,function MXE)
call CZ7(g)
set g=null
endif
set t=null
set HE8=null
return false
endfunction
function MZE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit HE8=GetSummonedUnit()
call TriggerRegisterDeathEvent(t,HE8)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function MYE))
call SaveUnitHandle(L7,(OL7),(19),(HE8))
call SaveInteger(L7,(OL7),(5),(GetUnitAbilityLevel(GetSummoningUnit(),1093679428)))
call SetUnitAbilityLevelSwapped(1093679188,GetSummonedUnit(),GetUnitAbilityLevelSwapped(1093679428,GetSummoningUnit()))
call SetUnitAbilityLevelSwapped(1093681990,GetSummonedUnit(),GetUnitAbilityLevelSwapped(1093679428,GetSummoningUnit()))
call IssueImmediateOrderById(GetSummonedUnit(),852512)
endfunction
function PA8 takes nothing returns nothing
set Do=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Do,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(Do,Condition(function MWE))
call TriggerAddAction(Do,function MZE)
endfunction
function MAE takes unit p5,unit m5 returns nothing
local real MBE=20+40*R54
local real MCE=70+30*R54
local real M3E=(MBE+MCE*R24/700)*0.5
call HG8(p5,m5,ZG4,M3E)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\ChimaeraLightningMissile\\ChimaeraLightningMissile.mdl",m5,"chest"))
endfunction
function M6E takes nothing returns nothing
local unit m5=GetEnumUnit()
local group AF9=t0
local unit p5=U0
if IsUnitInGroup(m5,AF9)==false then
call GroupAddUnit(AF9,m5)
call MAE(p5,m5)
endif
set m5=null
set AF9=null
set p5=null
endfunction
function MLE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local unit HE8=UE7(UL7,"Caster")
local group AF9=UJ7(UL7,"AlreadyDamaged")
local effect fx
local integer Y59=GetTriggerEvalCount(t)
local real x
local real x0=GetUnitX(p5)
local real y
local real y0=GetUnitY(p5)
local integer i
local integer d
local group g=CA7()
call SetUnitX(HE8,GetUnitX(p5))
call SetUnitY(HE8,GetUnitY(p5))
set t0=AF9
set U0=p5
set R54=GetUnitAbilityLevel(p5,1093748023)
if Y59>20 then
set d=21*36+(20-Y59)*36
set R24=d
set i=0
loop
exitwhen i>36
set x=x0+d*Cos(360*i/ 36*bj_DEGTORAD)
set y=y0+d*Sin(360*i/ 36*bj_DEGTORAD)
set IN4=p5
call GroupEnumUnitsInRange(g,x,y,100,Condition(function FL8))
call ForGroup(g,function M6E)
set i=i+1
endloop
else
set d=Y59*36
set R24=d
set i=0
loop
exitwhen i>36
set x=x0+d*Cos(360*i/ 36*bj_DEGTORAD)
set y=y0+d*Sin(360*i/ 36*bj_DEGTORAD)
set IN4=p5
call GroupEnumUnitsInRange(g,x,y,100,Condition(function FL8))
call ForGroup(g,function M6E)
set i=i+1
endloop
endif
call CZ7(g)
if Y59==40 then
call KillUnit(HE8)
call CZ7(AF9)
call DestroyEffect(UK7(UL7,"FX"))
call TQ7(UL7)
call U37(t)
elseif Y59==20 then
call GroupClear(AF9)
set fx=null
endif
set t=null
set HE8=null
set AF9=null
set p5=null
set g=null
return false
endfunction
function M1E takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local real x=GetUnitX(CR7)
local real y=GetUnitY(CR7)
local unit HE8=CreateUnit(GetOwningPlayer(CR7),1747990834,x,y,0)
local integer i=0
local group AF9=CA7()
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call TY7(UL7,"FX",AddSpecialEffectTarget("effects\\Lightning_Ball_Tail_FX.mdx",CR7,"origin"))
call TL7(UL7,"AlreadyDamaged",AF9)
call TX7(UL7,"Source",CR7)
call TX7(UL7,"Caster",HE8)
call TriggerRegisterTimerEvent(t,0.06,true)
call TriggerAddCondition(t,Condition(function MLE))
set t=null
set HE8=null
set CR7=null
set AF9=null
endfunction
function M0E takes nothing returns boolean
if GetSpellAbilityId()==1093748023 then
call M1E()
endif
return false
endfunction
function RW8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function M0E))
set t=null
endfunction
function M5E takes integer M2E returns boolean
return M2E!=1093679446 and M2E!=1093677622 and M2E!=1093684314 and M2E!=1093685582 and M2E!=1093685065 and M2E!=1093682265 and M2E!=1093752642 and M2E!=1095263841
endfunction
function M_E takes unit N4E,unit p5,unit m5,integer BK7 returns nothing
local unit HE8=CreateUnit(GetOwningPlayer(N4E),1697656901,GetUnitX(p5),GetUnitY(p5),0)
call LP7(HE8,1093747019)
call SetUnitAbilityLevel(HE8,1093747019,BK7)
call IssueTargetOrder(HE8,"chainlightning",m5)
call LP7(HE8,1093744708)
call SetUnitAbilityLevel(HE8,1093744708,BK7)
call IssueTargetOrder(HE8,"purge",m5)
set HE8=null
endfunction
function N7E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local integer BK7
if GetSpellTargetUnit()==p5 and M5E(GetSpellAbilityId())==true and IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(p5))==false and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true then
set BK7=GetUnitAbilityLevel(p5,1093748022)
call M_E(p5,p5,GetTriggerUnit(),BK7)
endif
set t=null
set p5=null
return false
endfunction
function N8E takes unit p5,boolean B89 returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function N7E))
call TX7(UL7,"Source",p5)
if B89 then
set nj[GetPlayerId(GetOwningPlayer(p5))]=t
endif
set p5=null
set t=null
endfunction
function N9E takes nothing returns boolean
if GetLearnedSkill()==1093748022 and GetUnitAbilityLevel(GetTriggerUnit(),1093748022)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call N8E(GetTriggerUnit(),false)
endif
return false
endfunction
function RX8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function N9E))
set t=null
endfunction
function NDE takes unit u,integer d returns nothing
local integer array b
local integer a=d
local integer c=1
local integer i=0
local integer HT8
if d<1 then
call UnitRemoveAbility(u,W0[0])
call UnitRemoveAbility(u,W0[1])
call UnitRemoveAbility(u,W0[2])
call UnitRemoveAbility(u,W0[3])
call UnitRemoveAbility(u,W0[4])
call UnitRemoveAbility(u,W0[5])
call UnitRemoveAbility(u,W0[6])
call UnitRemoveAbility(u,W0[7])
return
endif
loop
exitwhen c==0
set c=a/ 2
set b[i]=a-c*2
set a=c
set i=i+1
endloop
set HT8=i
set i=0
loop
exitwhen i>HT8
if b[i]==1 then
call LP7(u,W0[i])
else
call UnitRemoveAbility(u,W0[i])
endif
set i=i+1
endloop
endfunction
function NEE takes unit u,integer d returns nothing
local integer array b
local integer a=d
local integer c=1
local integer i=0
local integer HT8
if d<1 then
call UnitRemoveAbility(u,z0[0])
call UnitRemoveAbility(u,z0[1])
call UnitRemoveAbility(u,z0[2])
call UnitRemoveAbility(u,z0[3])
call UnitRemoveAbility(u,z0[4])
call UnitRemoveAbility(u,z0[5])
call UnitRemoveAbility(u,z0[6])
call UnitRemoveAbility(u,z0[7])
return
endif
loop
exitwhen c==0
set c=a/ 2
set b[i]=a-c*2
set a=c
set i=i+1
endloop
set HT8=i
set i=0
loop
exitwhen i>HT8
if b[i]==1 then
call LP7(u,z0[i])
else
call UnitRemoveAbility(u,z0[i])
endif
set i=i+1
endloop
endfunction
function NFE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local unit m5=UE7(UL7,"Target")
if GetTriggerEventId()==EVENT_UNIT_DEATH then
if GetTriggerUnit()==p5 then
call NDE(p5,0)
call TX7(UL7,"Source",null)
else
call NEE(m5,0)
call TX7(UL7,"Target",null)
endif
else
if p5!=null then
call NDE(p5,0)
endif
if m5!=null then
call NEE(m5,0)
endif
call TQ7(UL7)
call U37(t)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function NGE takes unit EL8,unit O_7,unit YP9 returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
if YP9==null then
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DEATH)
call TX7(OL7,"Source",EL8)
call TX7(OL7,"Target",O_7)
elseif YP9==O_7 then
call NEE(O_7,0)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_DEATH)
call TX7(OL7,"Source",EL8)
call TX7(OL7,"Target",null)
else
call NDE(EL8,0)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DEATH)
call TX7(OL7,"Source",null)
call TX7(OL7,"Target",O_7)
endif
call TriggerRegisterTimerEvent(t,18,false)
call TriggerAddCondition(t,Condition(function NFE))
set t=null
endfunction
function NHE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=UE7(OL7,"Source")
local unit O_7=UE7(OL7,"Target")
local lightning NIE=UM7(OL7,"Light")
local integer HF8=UQ7(OL7,"Level")
local integer CS8=GetTriggerEvalCount(t)
local unit HE8=UE7(OL7,"Caster")
call MoveLightning(NIE,true,GetUnitX(EL8),GetUnitY(EL8),GetUnitX(O_7),GetUnitY(O_7))
call SetUnitX(HE8,GetUnitX(O_7))
call SetUnitY(HE8,GetUnitY(O_7))
if RI7(GetUnitX(EL8),GetUnitY(EL8),GetUnitX(O_7),GetUnitY(O_7))>700 or GetTriggerEventId()==EVENT_UNIT_DEATH then
call DestroyLightning(NIE)
call KillUnit(HE8)
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call NGE(EL8,O_7,GetTriggerUnit())
else
call NGE(EL8,O_7,null)
endif
call TQ7(OL7)
call U37(t)
elseif CS8>160 then
call DestroyLightning(NIE)
call KillUnit(HE8)
call NGE(EL8,O_7,null)
call TQ7(OL7)
call U37(t)
elseif ModuloInteger(CS8,20)==0 or CS8==1 then
call NDE(EL8,(HF8*7)*R2I(CS8/ 20))
call NEE(O_7,(HF8*7)*R2I(CS8/ 20))
endif
set t=null
set EL8=null
set O_7=null
set NIE=null
set HE8=null
return false
endfunction
function NJE takes unit p5,unit m5,lightning NKE,unit HE8 returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local integer BK7=GetUnitAbilityLevel(p5,1093747792)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function NHE))
call TX7(UL7,"Source",p5)
call TX7(UL7,"Target",m5)
call TT7(UL7,"Level",BK7)
call TA7(UL7,"Light",NKE)
call TX7(UL7,"Caster",HE8)
set t=null
endfunction
function NME takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local lightning NKE=UM7(UL7,"Light")
local unit HE8=UE7(UL7,"Caster")
local real NNE=GetUnitX(p5)
local real NOE=GetUnitY(p5)
local real VHD=UR7(UL7,"rRealX1")
local real VID=UR7(UL7,"rRealY1")
local real a=UR7(UL7,"a")
local unit m5=null
local group g=CA7()
set VHD=DD8(VHD+25*Cos(a))
set VID=DE8(VID+25*Sin(a))
call TU7(UL7,"rRealX1",VHD*1.0)
call TU7(UL7,"rRealY1",VID*1.0)
call MoveLightning(NKE,true,NNE,NOE,VHD,VID)
call SetUnitX(HE8,VHD)
call SetUnitY(HE8,VID)
set IN4=p5
call GroupEnumUnitsInRange(g,VHD,VID,225,Condition(function G68))
set m5=FirstOfGroup(g)
call CZ7(g)
if m5!=null then
call NJE(p5,m5,NKE,HE8)
call TQ7(UL7)
call U37(t)
elseif GetTriggerEvalCount(t)>25 or GetTriggerEventId()==EVENT_UNIT_DEATH then
call DestroyLightning(NKE)
call KillUnit(HE8)
call TQ7(UL7)
call U37(t)
endif
set t=null
set p5=null
set NKE=null
set m5=null
set g=null
set HE8=null
return false
endfunction
function NPE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local trigger t
local integer UL7
local location l
local lightning NKE=AddLightning("CLSB",true,GetUnitX(p5),GetUnitY(p5),GetUnitX(p5),GetUnitY(p5))
local unit HE8=CreateUnit(GetOwningPlayer(p5),1747990584,GetUnitX(p5),GetUnitY(p5),0)
call SetLightningColor(NKE,0.3,0.5,1,1)
if m5==null then
set l=GetSpellTargetLoc()
set t=CreateTrigger()
set UL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function NME))
call TX7(UL7,"Source",p5)
call TA7(UL7,"Light",NKE)
call TX7(UL7,"Caster",HE8)
call TU7(UL7,"a",(Atan2(GetLocationY(l)-GetUnitY(p5),GetLocationX(l)-GetUnitX(p5)))*1.0)
call TU7(UL7,"rRealX1",(GetUnitX(p5))*1.0)
call TU7(UL7,"rRealY1",(GetUnitY(p5))*1.0)
call RemoveLocation(l)
set l=null
set t=null
else
call NJE(p5,m5,NKE,HE8)
endif
set m5=null
set p5=null
set l=null
set t=null
set HE8=null
endfunction
function NQE takes nothing returns boolean
if GetSpellAbilityId()==1093747792 then
call NPE()
endif
return false
endfunction
function RY8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function NQE))
set t=null
set W0[0]=1093747798
set W0[1]=1093747793
set W0[2]=1093747794
set W0[3]=1093747795
set W0[4]=1093747796
set W0[5]=1093747797
set W0[6]=1093747799
set W0[7]=1093747800
set z0[0]=1093748020
set z0[1]=1093748019
set z0[2]=1093748018
set z0[3]=1093748017
set z0[4]=1093748016
set z0[5]=1093748021
set z0[6]=1093747802
set z0[7]=1093747801
endfunction
function NRE takes integer UL7 returns nothing
local integer i=1
local integer NSE=UQ7(UL7,"MaxIndex")
local unit m5
local integer HJ8
if NSE==0 then
return
endif
loop
exitwhen i>NSE
set HJ8=UQ7(UL7,"Target_"+I2S(i))
set m5=ZA7(HJ8)
call ZZ7(HJ8)
call UnitRemoveAbility(m5,n1[0])
call UnitRemoveAbility(m5,n1[1])
call UnitRemoveAbility(m5,n1[2])
call UnitRemoveAbility(m5,n1[3])
call UnitRemoveAbility(m5,n1[4])
call UnitRemoveAbility(m5,n1[5])
set i=i+1
endloop
set m5=null
endfunction
function NTE takes unit m5,integer UL7 returns nothing
local integer HJ8=ZC7(m5)
local integer NSE=UQ7(UL7,"MaxIndex")
set NSE=NSE+1
call TT7(UL7,"MaxIndex",NSE)
call TT7(UL7,"Target_"+I2S(NSE),HJ8)
endfunction
function NUE takes unit u returns integer
return GetUnitAbilityLevel(u,n1[0])*1+GetUnitAbilityLevel(u,n1[1])*2+GetUnitAbilityLevel(u,n1[2])*4+GetUnitAbilityLevel(u,n1[3])*8+GetUnitAbilityLevel(u,n1[4])*16
endfunction
function NVE takes unit u,integer d returns nothing
local integer array b
local integer a=d
local integer c=1
local integer i=0
local integer HT8
if d<1 then
call UnitRemoveAbility(u,n1[0])
call UnitRemoveAbility(u,n1[1])
call UnitRemoveAbility(u,n1[2])
call UnitRemoveAbility(u,n1[3])
call UnitRemoveAbility(u,n1[4])
call UnitRemoveAbility(u,n1[5])
return
endif
loop
exitwhen c==0
set c=a/ 2
set b[i]=a-c*2
set a=c
set i=i+1
endloop
set HT8=i
set i=0
loop
exitwhen i>HT8
if b[i]==1 then
call LP7(u,n1[i])
else
call UnitRemoveAbility(u,n1[i])
endif
set i=i+1
endloop
endfunction
function NWE takes unit u,integer d returns nothing
if IsUnitType(u,UNIT_TYPE_STRUCTURE)==false then
call NVE(u,d+NUE(u))
call NTE(u,a1)
endif
endfunction
function NXE takes unit p5,unit HE8,unit m5,integer BK7 returns nothing
call IssueTargetOrder(HE8,"chainlightning",m5)
call HK8(p5,m5,2,(50+25*BK7)/ 2,0.3)
call NWE(m5,1)
endfunction
function NYE takes nothing returns boolean
if(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false))and GetUnitTypeId(GetFilterUnit())!=1848651852 then
if GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<o1 then
set o1=GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)
set R_4=GetFilterUnit()
endif
endif
return false
endfunction
function NZE takes nothing returns boolean
if(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and LR7(GetFilterUnit())==false))and GetUnitTypeId(GetFilterUnit())!=1701670775 and GetUnitTypeId(GetFilterUnit())!=1970956647 and GetUnitTypeId(GetFilterUnit())!=1848651852 then
if GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<o1 then
set o1=GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)
set R_4=GetFilterUnit()
endif
endif
return false
endfunction
function NAE takes unit p5,unit HE8,integer BK7 returns nothing
local group g=CA7()
set R_4=null
set o1=999999
set Z0=30+30*BK7
set v1=p5
set IN4=p5
if GetUnitAbilityLevel(p5,1093752150)>0 then
call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),525,Condition(function NZE))
else
call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),525,Condition(function NYE))
endif
call CZ7(g)
if R_4!=null then
call NXE(p5,HE8,R_4,BK7)
endif
set g=null
endfunction
function NBE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local unit HE8=UE7(UL7,"Caster")
local integer BK7=UQ7(UL7,"Level")
local integer BD8=GetTriggerEvalCount(t)
local real NCE
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call NRE(UL7)
call TQ7(UL7)
call U37(t)
if GetTriggerUnit()==p5 then
call KillUnit(HE8)
endif
else
if GetUnitAbilityLevel(p5,1093752150)>0 then
if BK7==1 then
set NCE=0.65
elseif BK7==2 then
set NCE=0.55
else
set NCE=0.45
endif
else
if BK7==1 then
set NCE=0.75
elseif BK7==2 then
set NCE=0.65
else
set NCE=0.55
endif
endif
set NCE=NCE/IC7
if ModuloInteger(BD8,R2I(NCE))==0 or BD8==1 then
set a1=UL7
call NAE(p5,HE8,BK7)
endif
call SetUnitX(HE8,GetUnitX(p5))
call SetUnitY(HE8,GetUnitY(p5))
endif
set t=null
set p5=null
set HE8=null
return false
endfunction
function N3E takes nothing returns nothing
local unit p5=GetTriggerUnit()
local integer BK7=GetUnitAbilityLevel(p5,1093747023)
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit HE8=CreateUnit(GetOwningPlayer(p5),1747990577,GetUnitX(p5),GetUnitY(p5),0)
if BK7==0 then
set BK7=GetUnitAbilityLevel(p5,1093752150)
endif
call UnitApplyTimedLife(HE8,1112820806,15+5*BK7)
call SetUnitAbilityLevel(HE8,1093747786,BK7)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,HE8,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,IC7,true)
call TriggerAddCondition(t,Condition(function NBE))
call TX7(UL7,"Caster",HE8)
call TX7(UL7,"Source",p5)
call TT7(UL7,"Level",BK7)
set p5=null
set t=null
set HE8=null
endfunction
function N6E takes nothing returns boolean
if GetSpellAbilityId()==1093747023 or GetSpellAbilityId()==1093752150 then
call N3E()
endif
return false
endfunction
function RZ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function N6E))
set t=null
set n1[0]=1093747787
set n1[1]=1093747788
set n1[2]=1093747790
set n1[3]=1093747789
set n1[4]=1093747791
endfunction
function NLE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
local integer N1E=GetTriggerEvalCount(t)
local real y=(N1E-13)*(N1E-13)
if N1E<26 then
if S9D(CR7)==false then
call SetUnitFlyHeight(CR7,375-y,0)
endif
else
call PauseUnit(CR7,false)
if S9D(CR7)==false then
call SetUnitFlyHeight(CR7,GetUnitDefaultFlyHeight(CR7),0)
endif
call HG8(UE7(UL7,"Source"),CR7,ZG4,UR7(UL7,"Damage"))
call HD8(UE7(UL7,"Source"),CR7,UR7(UL7,"Duration"))
call TQ7(UL7)
call U37(t)
endif
set t=null
set CR7=null
return false
endfunction
function N0E takes unit CR7,unit p5,real Hk,real N5E,real N2E returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call PauseUnit(CR7,true)
if S9D(CR7)==false then
call UnitAddAbility(CR7,1097691750)
call UnitRemoveAbility(CR7,1097691750)
endif
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\Impale\\ImpaleHitTarget.mdl",GetUnitX(CR7),GetUnitY(CR7)))
call TX7(UL7,"Hero",CR7)
call TX7(UL7,"Source",p5)
call TU7(UL7,"Damage",N5E)
call TU7(UL7,"Duration",Hk)
call TriggerRegisterTimerEvent(t,0.02/ 0.52*N2E,true)
call TriggerAddCondition(t,Condition(function NLE))
set t=null
endfunction
function N_E takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),IQ4)==false and CO7(GetEnumUnit())==false and UX7(GetEnumUnit(),"Omnislashing")==false then
call GroupAddUnit(IQ4,GetEnumUnit())
call N0E(GetEnumUnit(),IN4,IK4,IJ4,IM4)
endif
endfunction
function O4E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local real N5E=UR7(UL7,"damage")
local real Hk=UR7(UL7,"duration")
local real x1=UR7(UL7,"x1")
local real y1=UR7(UL7,"y1")
local real x2=UR7(UL7,"x2")
local real y2=UR7(UL7,"y2")
local real w=UR7(UL7,"w")
local real O7E=UR7(UL7,"TempReal")
local real a=Atan2(y2-y1,x2-x1)
local group g=UJ7(UL7,"g")
local group O8E=CA7()
local real N2E=O7E*0.0625
local real O9E=UR7(UL7,"LastFX_x")
local real ODE=UR7(UL7,"LastFX_y")
local real OEE=UR7(UL7,"FX_Interval")
local real OFE=UR7(UL7,"airtime")
if N2E>RI7(x1,y1,x2,y2)then
set x1=x2
set y1=y2
else
set x1=x1+N2E*Cos(a)
set y1=y1+N2E*Sin(a)
endif
set IN4=p5
set IJ4=N5E
set IK4=Hk
set IM4=OFE
set IQ4=g
call GroupEnumUnitsInRange(O8E,x1,y1,w,Condition(function FW8))
call ForGroup(O8E,function N_E)
call CZ7(O8E)
if RI7(x1,y1,O9E,ODE)>=OEE then
call TU7(UL7,"LastFX_x",x1)
call TU7(UL7,"LastFX_y",y1)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\Impale\\ImpaleMissTarget.mdl",x1,y1))
endif
call TU7(UL7,"x1",x1)
call TU7(UL7,"y1",y1)
if x1==x2 and y1==y2 then
if US7(UL7,"destroyGroup")==true then
call CZ7(g)
endif
call TQ7(UL7)
call U37(t)
endif
set g=null
set O8E=null
set p5=null
set t=null
return false
endfunction
function OGE takes real OHE,real OIE returns integer
if OHE/ OIE-R2I(OHE/ OIE)>=0.5 then
return R2I(OHE/ OIE)+1
endif
return R2I(OHE/ OIE)
endfunction
function OJE takes unit p5,unit m5,real N5E,real Hk,real OFE,real x1,real y1,real x2,real y2,real w,group OKE,boolean OME,real O7E returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local real ONE=RI7(x1,y1,x2,y2)
local integer OOE=OGE(ONE,ON)
local real OEE=ONE/ OOE
local group g
call TX7(UL7,"Source",p5)
call TU7(UL7,"damage",N5E)
call TU7(UL7,"duration",Hk)
call TU7(UL7,"airtime",OFE)
call TU7(UL7,"x1",x1)
call TU7(UL7,"y1",y1)
call TU7(UL7,"x2",x2)
call TU7(UL7,"y2",y2)
call TU7(UL7,"w",w)
call TU7(UL7,"TempReal",O7E)
if OKE==null then
set g=CA7()
if m5!=null and IsUnitIllusion(m5)==false then
call GroupAddUnit(g,m5)
endif
call TL7(UL7,"g",g)
call TW7(UL7,"destroyGroup",OME)
else
call TL7(UL7,"g",OKE)
call TW7(UL7,"destroyGroup",OME)
endif
call TU7(UL7,"FX_Interval",OEE)
call TU7(UL7,"LastFX_x",x1)
call TU7(UL7,"LastFX_y",y1)
call TriggerRegisterTimerEvent(t,0.0625,true)
call TriggerAddCondition(t,Condition(function O4E))
set t=null
set g=null
endfunction
function OPE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
local real x=UR7(UL7,"x")
local real y=UR7(UL7,"y")
call SetUnitPosition(CR7,x,y)
call SetUnitAnimation(CR7,"morph ALTERNATE")
call TQ7(UL7)
call U37(t)
set t=null
set CR7=null
return false
endfunction
function OQE takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local integer BK7=GetUnitAbilityLevel(CR7,1093678671)
local location l
local real ORE
local real x=GetUnitX(CR7)
local real y=GetUnitY(CR7)
local real OSE
local real OTE
local real OUE
local real OVE
local real CasterX
local real CasterY
local integer BurrowstrikeTempInt
local unit oA
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local real DV8
local real Hk=1.65
local unit m5=null
if BK7==1 then
set DV8=100
elseif BK7==2 then
set DV8=160
elseif BK7==3 then
set DV8=220
elseif BK7==4 then
set DV8=280
endif
if GetSpellTargetUnit()!=null then
set l=GetUnitLoc(GetSpellTargetUnit())
else
set l=GetSpellTargetLoc()
endif
set OSE=GetLocationX(l)
set OTE=GetLocationY(l)
call RemoveLocation(l)
set ORE=PS7(x,y,OSE,OTE)
call TX7(UL7,"Hero",CR7)
call TU7(UL7,"x",OSE)
call TU7(UL7,"y",OTE)
call TriggerRegisterTimerEvent(t,RI7(x,y,OSE,OTE)/ 2000,false)
call TriggerAddCondition(t,Condition(function OPE))
if RI7(x,y,OSE,OTE)<150 then
set OSE=x+150*Cos(ORE*bj_DEGTORAD)
set OTE=y+150*Sin(ORE*bj_DEGTORAD)
endif
if GetSpellTargetUnit()!=null and CY7(GetSpellTargetUnit())then
set m5=GetSpellTargetUnit()
endif
call OJE(CR7,m5,DV8,Hk,0.52,x,y,OSE,OTE,175,null,true,1600)
set oA=null
set l=null
set CR7=null
set t=null
set m5=null
endfunction
function OWE takes nothing returns boolean
if GetSpellAbilityId()==1093678671 then
call OQE()
endif
return false
endfunction
function PB8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function OWE))
set t=null
endfunction
function OXE takes nothing returns nothing
call HG8(e0,GetEnumUnit(),ZG4,110)
if GetPlayerController(GetOwningPlayer(o0))==MAP_CONTROL_COMPUTER then
call UnitAddAbility(o0,1093744450)
endif
call IssueTargetOrder(o0,"slow",GetEnumUnit())
endfunction
function OYE takes unit p5,real x,real y,integer BK7,integer OZE returns nothing
local group g=CA7()
local real r
local string fx
if OZE==8 then
set r=675
elseif OZE==9 then
set r=700
elseif OZE==10 then
set r=725
else
set r=250+50*OZE
endif
if OZE<4 then
set fx=L_4
elseif OZE<8 then
set fx=D47
else
set fx=D77
endif
call DestroyEffect(AddSpecialEffect(fx,x,y))
set IN4=p5
set e0=p5
set o0=v0[GetPlayerId(GetOwningPlayer(p5))]
call GroupEnumUnitsInRange(g,x,y,r,Condition(function FW8))
call ForGroup(g,function OXE)
call CZ7(g)
call nm(0.03,false,x,y,150+100*OZE,150+100*OZE,72,0.03,512)
set g=null
endfunction
function OAE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local player p=UG7(UL7,"p")
local unit CR7=UE7(UL7,"Hero")
local real OBE=UR7(UL7,"LastX")
local real OCE=UR7(UL7,"LastY")
local boolean K2D=US7(UL7,"Scepter")
local integer BK7=UQ7(UL7,"Level")
local integer OZE=UQ7(UL7,"Iteration")
local integer O3E=4+BK7*2
local real x=OBE
local real y=OCE
if K2D then
set O3E=O3E+2
endif
if OZE>O3E then
call TQ7(UL7)
call U37(t)
else
if CR7!=null and LR7(CR7)==false then
set x=GetUnitX(CR7)
set y=GetUnitY(CR7)
endif
call OYE(CR7,x,y,BK7,OZE)
call TT7(UL7,"Iteration",OZE+1)
call TU7(UL7,"LastX",(x)*1.0)
call TU7(UL7,"LastY",(y)*1.0)
endif
set t=null
set p=null
set CR7=null
return false
endfunction
function O6E takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local player p=GetOwningPlayer(CR7)
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local integer BK7=GetUnitAbilityLevel(CR7,1093678674)
local boolean K2D=false
if BK7==0 then
set K2D=true
set BK7=GetUnitAbilityLevel(CR7,1093747252)
endif
if ZL7(p)then
set v0[GetPlayerId(p)]=CreateUnit(A7[0],1697656901,GetUnitX(CR7),GetUnitY(CR7),0)
else
set v0[GetPlayerId(p)]=CreateUnit(Z7[0],1697656901,GetUnitX(CR7),GetUnitY(CR7),0)
endif
call LP7(v0[GetPlayerId(p)],1093744450)
call TX7(UL7,"Hero",CR7)
call T37(UL7,"p",GetOwningPlayer(CR7))
call TU7(UL7,"LastX",(GetUnitX(CR7))*1.0)
call TU7(UL7,"LastY",(GetUnitY(CR7))*1.0)
call TT7(UL7,"Level",BK7)
call TT7(UL7,"Iteration",2)
call TW7(UL7,"Scepter",K2D)
call TriggerRegisterTimerEvent(t,0.35,true)
call TriggerAddCondition(t,Condition(function OAE))
call OYE(CR7,GetUnitX(CR7),GetUnitY(CR7),BK7,1)
set CR7=null
set p=null
set t=null
endfunction
function OLE takes nothing returns boolean
if GetSpellAbilityId()==1093678674 or GetSpellAbilityId()==1093747252 then
call O6E()
endif
return false
endfunction
function PC8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_FINISH)
call TriggerAddCondition(t,Condition(function OLE))
call DH8(1093744450)
set t=null
endfunction
function O1E takes nothing returns boolean
return(GetSpellAbilityId()==1093683248)
endfunction
function O0E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
local unit oA=CreateUnit(GetOwningPlayer(CR7),1697656901,GetUnitX(CR7),GetUnitY(CR7),bj_UNIT_FACING)
call LP7(oA,1093683279)
call SetUnitAbilityLevel(oA,1093683279,GetUnitAbilityLevel(CR7,1093683248))
call IssueTargetOrderById(oA,852069,CR7)
call TQ7(UL7)
call U37(t)
set t=null
set CR7=null
set oA=null
return false
endfunction
function O5E takes nothing returns nothing
local unit O2E
local unit O_E=GetTriggerUnit()
local unit array P4E
local integer Rd
local trigger t=CreateTrigger()
call UZ7(O_E,"Sandstorm")
set O2E=CreateUnit(GetOwningPlayer(O_E),1697656913,GetUnitX(O_E),GetUnitY(O_E),bj_UNIT_FACING)
call SetUnitPathing(O2E,false)
call SetUnitInvulnerable(O2E,true)
call UnitAddAbility(O2E,1097625443)
call UnitAddAbility(O2E,1093683277)
call SetUnitAbilityLevelSwapped(1093683277,O2E,GetUnitAbilityLevelSwapped(1093683248,O_E))
call IssueImmediateOrderById(O2E,852177)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function O0E))
call TX7(GetHandleId(t),"Hero",O_E)
set Rd=1
set P4E[Rd]=CreateUnit(GetOwningPlayer(O_E),1697656913,GetUnitX(O_E)+150,GetUnitY(O_E)+150,bj_UNIT_FACING)
call SetUnitTimeScalePercent(P4E[Rd],.0)
call SetUnitPathing(P4E[Rd],false)
call SetUnitInvulnerable(P4E[Rd],true)
call UnitAddAbility(P4E[Rd],1097625443)
set Rd=2
set P4E[Rd]=CreateUnit(GetOwningPlayer(O_E),1697656913,GetUnitX(O_E)+150,GetUnitY(O_E)-150,bj_UNIT_FACING)
call SetUnitTimeScalePercent(P4E[Rd],.0)
call SetUnitPathing(P4E[Rd],false)
call SetUnitInvulnerable(P4E[Rd],true)
call UnitAddAbility(P4E[Rd],1097625443)
set Rd=3
set P4E[Rd]=CreateUnit(GetOwningPlayer(O_E),1697656913,GetUnitX(O_E)-150,GetUnitY(O_E)+150,bj_UNIT_FACING)
call SetUnitTimeScalePercent(P4E[Rd],.0)
call SetUnitPathing(P4E[Rd],false)
call SetUnitInvulnerable(P4E[Rd],true)
call UnitAddAbility(P4E[Rd],1097625443)
set Rd=4
set P4E[Rd]=CreateUnit(GetOwningPlayer(O_E),1697656913,GetUnitX(O_E)-150,GetUnitY(O_E)-150,bj_UNIT_FACING)
call SetUnitTimeScalePercent(P4E[Rd],.0)
call SetUnitPathing(P4E[Rd],false)
call SetUnitInvulnerable(P4E[Rd],true)
call UnitAddAbility(P4E[Rd],1097625443)
if Z57(GetOwningPlayer(O_E))then
call UnitApplyTimedLife(P4E[1],1112820806,20*GetUnitAbilityLevel(O_E,1093683248))
call UnitApplyTimedLife(P4E[2],1112820806,20*GetUnitAbilityLevel(O_E,1093683248))
call UnitApplyTimedLife(P4E[3],1112820806,20*GetUnitAbilityLevel(O_E,1093683248))
call UnitApplyTimedLife(P4E[4],1112820806,20*GetUnitAbilityLevel(O_E,1093683248))
endif
set t=null
set O2E=null
set O_E=null
endfunction
function sa takes nothing returns nothing
set DO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(DO,EVENT_PLAYER_UNIT_SPELL_CHANNEL)
call TriggerAddCondition(DO,Condition(function O1E))
call TriggerAddAction(DO,function O5E)
endfunction
function P7E takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())==1697656913)
endfunction
function ScarabsFilter takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())==1966092594)or(GetUnitTypeId(GetFilterUnit())==1966092595)
endfunction
function FilterEidolons takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())==1752654196)or(GetUnitTypeId(GetFilterUnit())==1752658994)or(GetUnitTypeId(GetFilterUnit())==1752658995)or(GetUnitTypeId(GetFilterUnit())==1747988534)
endfunction
function P8E takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function P9E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local group g=UJ7(UL7,"g")
local unit CL7=UE7(UL7,"Hero")
if UX7(CL7,"Sandstorm")==false then
call UnitRemoveAbility(CL7,1110455378)
endif
call ForGroup(g,function P8E)
call DestroyGroup(g)
call TQ7(UL7)
call U37(t)
set t=null
set g=null
set CL7=null
return false
endfunction
function Trig_Sand_Storm_Turn_Off_Func005001002 takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())==1429221451)
endfunction
function PDE takes nothing returns nothing
local unit O_E=GetTriggerUnit()
local group I68
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call UB7(O_E,"Sandstorm")
set I68=OP7(GetOwningPlayer(O_E),Condition(function P7E))
call TL7(UL7,"g",I68)
call TX7(UL7,"Hero",O_E)
call TriggerRegisterTimerEvent(t,GetUnitAbilityLevel(O_E,1093683248)*.3,false)
call TriggerAddCondition(t,Condition(function P9E))
set t=null
set O_E=null
set I68=null
endfunction
function sB takes nothing returns nothing
set Dp=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Dp,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(Dp,Condition(function O1E))
call TriggerAddAction(Dp,function PDE)
endfunction
function PEE takes nothing returns nothing
call HG8(m0,GetEnumUnit(),ZH4,50*M0)
endfunction
function PFE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local real x=GetUnitX(p5)
local real y=GetUnitY(p5)
local unit HE8=CreateUnit(GetOwningPlayer(p5),1697656901,x,y,0)
local group g=CA7()
local integer BK7=GetUnitAbilityLevel(p5,1093810507)
call LP7(HE8,1093684537)
call SetUnitAbilityLevel(HE8,1093684537,BK7)
call IssueImmediateOrder(HE8,"thunderclap")
call LP7(HE8,1093677399)
call SetUnitAbilityLevel(HE8,1093677399,BK7)
call IssueImmediateOrder(HE8,"stomp")
set m0=p5
set M0=BK7
call GroupEnumUnitsInRange(g,x,y,350+25,Condition(function G48))
call ForGroup(g,function PEE)
call CZ7(g)
set p5=null
set HE8=null
set g=null
endfunction
function PGE takes nothing returns boolean
if GetSpellAbilityId()==1093810507 then
call PFE()
endif
return false
endfunction
function P38 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function PGE))
set t=null
endfunction
function PHE takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"UnitVar")
local unit PIE=UE7(UL7,"Owner")
local unit HE8
local real FF8=UR7(UL7,"Duration")
local integer BK7=GetUnitAbilityLevel(PIE,(1093683287))
local real PJE=UR7(UL7,"x")
local real PKE=UR7(UL7,"y")
local real G5D=GetUnitX(CR7)
local real G2D=GetUnitY(CR7)
if(G5D-PJE)*(G5D-PJE)+(G2D-PKE)*(G2D-PKE)>900 then
set HE8=CreateUnit(GetOwningPlayer(PIE),(1747988530),GetUnitX(CR7),GetUnitY(CR7),0)
call SetUnitAbilityLevel(HE8,(1093683506),BK7)
call SetUnitAbilityLevel(HE8,(1093683289),BK7)
call UnitApplyTimedLife(HE8,1112820806,7)
call TU7(UL7,"x",(G5D)*1.0)
call TU7(UL7,"y",(G2D)*1.0)
endif
set FF8=FF8+0.2
call TU7(UL7,"Duration",(FF8)*1.0)
if FF8>7 or GetUnitState(CR7,UNIT_STATE_LIFE)<1 then
call PauseTimer(t)
call TQ7(UL7)
endif
set t=null
set CR7=null
set PIE=null
set HE8=null
endfunction
function PME takes nothing returns nothing
local unit m5=GetEnumUnit()
local sound ED8
local timer t
local integer UL7
call UnitDamageTarget(D8,m5,F8,true,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
call GroupAddUnit(R8,m5)
if IsUnitType(m5,UNIT_TYPE_HERO)==true then
set t=CreateTimer()
set UL7=GetHandleId(t)
set ED8=CreateSound("Sounds\\Spectral Dagger.mp3",false,true,true,10,10,"DefaultEAXON")
call SetSoundPosition(ED8,GetUnitX(m5),GetUnitY(m5),0)
call SetSoundDistanceCutoff(ED8,700)
call StartSound(ED8)
call KillSoundWhenDone(ED8)
call TX7(UL7,"UnitVar",m5)
call TX7(UL7,"Owner",D8)
call TU7(UL7,"x",(GetUnitX(m5))*1.0)
call TU7(UL7,"y",(GetUnitY(m5))*1.0)
call TimerStart(t,0.2,true,function PHE)
endif
set m5=null
set t=null
set ED8=null
endfunction
function PNE takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(D8))and IsUnitInGroup(GetFilterUnit(),R8)==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false
endfunction
function POE takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer UL7=GetHandleId(t)
local group AF9=UJ7(UL7,"AlreadyDamaged")
local group I68=CA7()
local boolexpr AHD=Condition(function PNE)
local unit CR7=UE7(UL7,"Hero")
local unit G28=UE7(UL7,"Projectile")
local integer HJ8=UQ7(UL7,"TargetIndex")
local unit m5=ZA7(HJ8)
local real Y5=GetUnitX(m5)
local real Z5=GetUnitY(m5)
local real t5=GetUnitX(G28)
local real w5=GetUnitY(G28)
local real l4=Atan2(Z5-w5,Y5-t5)
local real G5D=DD8(GetUnitX(G28)+30*Cos(l4))
local real G2D=DE8(GetUnitY(G28)+30*Sin(l4))
local unit HE8
local integer BK7=GetUnitAbilityLevel(CR7,(1093683287))
if US7(UL7,"TrailNext")then
call TW7(UL7,"TrailNext",false)
set HE8=CreateUnit(GetOwningPlayer(CR7),(1747988530),t5,w5,0)
call SetUnitAbilityLevel(HE8,(1093683506),BK7)
call SetUnitAbilityLevel(HE8,(1093683289),BK7)
call UnitApplyTimedLife(HE8,1112820806,12)
else
call TW7(UL7,"TrailNext",true)
endif
call SetUnitX(G28,G5D)
call SetUnitY(G28,G2D)
call SetUnitFacing(G28,l4*bj_RADTODEG)
set R8=AF9
set D8=CR7
set F8=50*GetUnitAbilityLevel(CR7,(1093683287))
call GroupEnumUnitsInRange(I68,G5D,G2D,150,AHD)
call ForGroup(I68,function PME)
call CZ7(I68)
if(G5D-Y5)*(G5D-Y5)+(G2D-Z5)*(G2D-Z5)<1600 then
call PauseTimer(t)
call ZZ7(HJ8)
call TQ7(UL7)
call KillUnit(G28)
call CZ7(AF9)
endif
set t=null
set AF9=null
set I68=null
call DestroyBoolExpr(AHD)
set AHD=null
set CR7=null
set G28=null
set m5=null
set HE8=null
endfunction
function PPE takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer UL7=GetHandleId(t)
local group AF9=UJ7(UL7,"AlreadyDamaged")
local group I68=CA7()
local boolexpr AHD=Condition(function PNE)
local unit CR7=UE7(UL7,"Hero")
local unit G28=UE7(UL7,"Projectile")
local real Y5=UR7(UL7,"TargetX")
local real Z5=UR7(UL7,"TargetY")
local real t5=GetUnitX(G28)
local real w5=GetUnitY(G28)
local real l4=UR7(UL7,"Angle")
local real G5D=DD8(GetUnitX(G28)+30*Cos(l4))
local real G2D=DE8(GetUnitY(G28)+30*Sin(l4))
local unit HE8
local integer BK7=GetUnitAbilityLevel(CR7,(1093683287))
if US7(UL7,"TrailNext")then
call TW7(UL7,"TrailNext",false)
set HE8=CreateUnit(GetOwningPlayer(CR7),(1747988530),t5,w5,0)
call SetUnitAbilityLevel(HE8,(1093683506),BK7)
call SetUnitAbilityLevel(HE8,(1093683289),BK7)
call UnitApplyTimedLife(HE8,1112820806,12)
else
call TW7(UL7,"TrailNext",true)
endif
call SetUnitX(G28,G5D)
call SetUnitY(G28,G2D)
set R8=AF9
set D8=CR7
set F8=50*GetUnitAbilityLevel(CR7,(1093683287))
call GroupEnumUnitsInRange(I68,G5D,G2D,150,AHD)
call ForGroup(I68,function PME)
call CZ7(I68)
if(G5D-Y5)*(G5D-Y5)+(G2D-Z5)*(G2D-Z5)<1600 then
call PauseTimer(t)
call TQ7(UL7)
call KillUnit(G28)
call CZ7(AF9)
endif
set t=null
set AF9=null
set I68=null
call DestroyBoolExpr(AHD)
set AHD=null
set CR7=null
set G28=null
set HE8=null
endfunction
function PQE takes unit CR7,integer D5 returns boolean
if(GetItemTypeId(UnitItemInSlot(CR7,D5))==1886613604)then
return true
endif
if(GetItemTypeId(UnitItemInSlot(CR7,D5))==1868983399)then
return true
endif
return false
endfunction
function PRE takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
local real FF8=UR7(UL7,"Duration")
local integer T8=0
loop
exitwhen T8>5
if PQE(CR7,T8)then
if GetUnitAbilityLevel(CR7,(1110455351))==0 then
call SetItemDropOnDeath(UnitItemInSlot(CR7,T8),true)
if GetItemTypeId(UnitItemInSlot(CR7,T8))==1868983399 then
call SetItemDroppable(UnitItemInSlot(CR7,T8),true)
endif
else
call SetItemDropOnDeath(UnitItemInSlot(CR7,T8),false)
if GetItemTypeId(UnitItemInSlot(CR7,T8))==1868983399 then
call SetItemDroppable(UnitItemInSlot(CR7,T8),false)
endif
endif
endif
set T8=T8+1
endloop
set FF8=FF8+0.2
call TU7(UL7,"Duration",(FF8)*1.0)
if GetUnitAbilityLevel(CR7,(1110455351))==0 then
call SetUnitPathing(CR7,true)
else
call SetUnitPathing(CR7,false)
endif
if FF8>30 then
call PauseTimer(t)
call TQ7(UL7)
call SetUnitPathing(CR7,true)
set T8=0
loop
exitwhen T8>5
if PQE(CR7,T8)then
call SetItemDropOnDeath(UnitItemInSlot(CR7,T8),true)
if GetItemTypeId(UnitItemInSlot(CR7,T8))==1868983399 then
call SetItemDroppable(UnitItemInSlot(CR7,T8),true)
endif
endif
set T8=T8+1
endloop
endif
set t=null
set CR7=null
endfunction
function PSE takes nothing returns boolean
return GetSpellAbilityId()==(1093683287)
endfunction
function PTE takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local real t5=DD8(GetUnitX(CR7))
local real w5=DE8(GetUnitY(CR7))
local unit G28=CreateUnit(GetOwningPlayer(CR7),(1747988531),t5,w5,0)
local timer t=CreateTimer()
local integer UL7=GetHandleId(t)
local group AF9=CA7()
local location PUE
local real l4
local real Y5
local real Z5
call SetUnitPathing(G28,false)
call TL7(UL7,"AlreadyDamaged",AF9)
call TX7(UL7,"Hero",CR7)
call TX7(UL7,"Projectile",G28)
if m5!=null then
call TT7(UL7,"TargetIndex",ZC7(m5))
call TimerStart(t,0.035,true,function POE)
else
set PUE=GetSpellTargetLoc()
set Y5=GetLocationX(PUE)
set Z5=GetLocationY(PUE)
set l4=Atan2(Z5-w5,Y5-t5)
call SetUnitFacing(G28,l4*bj_RADTODEG)
set Y5=DD8(t5+2100*Cos(l4))
set Z5=DE8(w5+2100*Sin(l4))
call TU7(UL7,"TargetX",(Y5)*1.0)
call TU7(UL7,"TargetY",(Z5)*1.0)
call TU7(UL7,"Angle",l4*1.0)
call TimerStart(t,0.035,true,function PPE)
endif
set t=CreateTimer()
set UL7=GetHandleId(t)
call SetUnitPathing(CR7,false)
call TX7(UL7,"Hero",CR7)
call TimerStart(t,0.2,true,function PRE)
set CR7=null
set m5=null
set G28=null
set t=null
set AF9=null
call RemoveLocation(PUE)
set PUE=null
endfunction
function QA8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function PSE))
call TriggerAddAction(t,function PTE)
call CreateSound("Sounds\\Spectral Dagger.mp3",false,false,false,10,10,"DefaultEAXON")
call DH8(1093683506)
call DH8(1093683289)
set t=null
endfunction
function PVE takes nothing returns boolean
return IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)and GetUnitAbilityLevel(GetAttacker(),1093682776)>0
endfunction
function PWE takes nothing returns boolean
return IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false
endfunction
function PXE takes nothing returns nothing
local unit ZE8=GetAttacker()
local unit sE=GetTriggerUnit()
local group I68=CA7()
local boolexpr hP=Condition(function PWE)
local integer UL7
call GroupEnumUnitsInRange(I68,GetUnitX(sE),GetUnitY(sE),325+25,hP)
call GroupRemoveUnit(I68,sE)
if FirstOfGroup(I68)==null then
set UL7=GetHandleId(ZE8)
if UX7(ZE8,"Desolate")==false then
call UnitDamageTarget(ZE8,sE,5+15*GetUnitAbilityLevel(ZE8,1093682776),true,true,ATTACK_TYPE_HERO,DAMAGE_TYPE_DIVINE,WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\DeathandDecay\\DeathandDecayTarget.mdl",sE,"overhead"))
call U07(ZE8,"Desolate",.3)
endif
endif
call CZ7(I68)
call DestroyBoolExpr(hP)
set ZE8=null
set sE=null
set I68=null
set hP=null
endfunction
function QB8 takes nothing returns nothing
local trigger t=CreateTrigger()
call ky(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function PVE))
call TriggerAddAction(t,function PXE)
set t=null
endfunction
function aDx takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))
endfunction
function aDX takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local unit m5=GetEnumUnit()
local unit oA=CreateUnit(GetOwningPlayer(CR7),1697656901,GetUnitX(CR7),GetUnitY(CR7),0)
local real DV8=F8
call UnitAddAbility(oA,1093684814)
call IssueTargetOrderById(oA,852095,m5)
call UnitDamageTarget(CR7,m5,DV8,true,false,ATTACK_TYPE_HERO,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
set CR7=null
set m5=null
set oA=null
endfunction
function PYE takes nothing returns nothing
local real d=RH7(GetTriggerUnit(),GetEnumUnit())-25
local real PZE=0
if d<300 then
set PZE=1
elseif d<1000 then
set PZE=(1000-d)/700
endif
if PZE>0 then
set WV4[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=true
call HG8(GetTriggerUnit(),GetEnumUnit(),ZI4,YS*PZE)
set WV4[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=false
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\DeathandDecay\\DeathandDecayDamage.mdl",GetEnumUnit(),"chest"))
endif
endfunction
function PAE takes nothing returns boolean
local unit CL7=GetTriggerUnit()
local real B29=GetEventDamage()
local integer HF8=GetUnitAbilityLevel(CL7,1093684801)
local group g
if IG8(B29)then
set g=CA7()
set YS=B29*(0.06+0.04*HF8)
call DW8(CL7,YS)
call GroupEnumUnitsInRange(g,GetUnitX(CL7),GetUnitY(CL7),1025,Condition(function G48))
call ForGroup(g,function PYE)
call CZ7(g)
endif
set CL7=null
set g=null
return false
endfunction
function PBE takes unit CR7,boolean B89 returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterUnitEvent(t,CR7,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function PAE))
if B89 then
set nj[GetPlayerId(GetOwningPlayer(CR7))]=t
endif
set t=null
endfunction
function PCE takes nothing returns boolean
if GetLearnedSkill()==1093684801 and GetUnitAbilityLevel(GetTriggerUnit(),1093684801)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call PBE(GetTriggerUnit(),false)
endif
return false
endfunction
function QC8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function PCE))
set t=null
endfunction
function P3E takes nothing returns boolean
return GetSpellAbilityId()==1093683257
endfunction
function P6E takes nothing returns nothing
local unit m5=GetEnumUnit()
local unit CR7=GetTriggerUnit()
local unit oA=CreateUnit(GetOwningPlayer(CR7),1697656901,GetUnitX(m5),GetUnitY(m5),0)
call TX7(GetHandleId(oA),"HauntTarget",m5)
call LP7(oA,1093684793)
call SetUnitAbilityLevel(oA,1093684793,GetUnitAbilityLevel(CR7,1093683257))
call IssueTargetOrderById(oA,852274,CR7)
set m5=null
set CR7=null
set oA=null
endfunction
function PLE takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))
endfunction
function P1E takes nothing returns nothing
local integer UL7=GetHandleId(GetTriggeringTrigger())
local unit XU=UE7(UL7,"HauntImage")
local unit m5=UE7(UL7,"HauntTarget")
local integer P0E=UQ7(UL7,"HauntPhase")
if GetTriggerEventId()!=EVENT_UNIT_DEATH and GetTriggerEventId()!=EVENT_UNIT_ISSUED_TARGET_ORDER and GetTriggerEventId()!=EVENT_UNIT_ISSUED_POINT_ORDER then
set P0E=P0E+1
call TT7(UL7,"HauntPhase",P0E)
endif
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call DisableTrigger(GetTriggeringTrigger())
call TQ7(GetHandleId(GetTriggeringTrigger()))
call TT7(UL7,"HauntPhase",P0E)
if m5==GetTriggerUnit()then
call KillUnit(XU)
endif
elseif IsUnitPaused(XU)==false then
if P0E==2 then
call SetUnitVertexColor(XU,255,255,255,255)
endif
if P0E>1 then
call DisableTrigger(GetTriggeringTrigger())
call IssueTargetOrder(XU,"attack",m5)
call EnableTrigger(GetTriggeringTrigger())
else
call DisableTrigger(GetTriggeringTrigger())
call IssueTargetOrderById(XU,851986,m5)
call EnableTrigger(GetTriggeringTrigger())
endif
endif
set XU=null
set m5=null
endfunction
function P5E takes nothing returns boolean
return GetUnitAbilityLevel(GetSummonedUnit(),1110455884)>0
endfunction
function P2E takes nothing returns nothing
local unit oA=GetSummoningUnit()
local unit XU=GetSummonedUnit()
local unit m5=UE7(GetHandleId(oA),"HauntTarget")
local trigger t=CreateTrigger()
call SaveUnitHandle(L7,GetHandleId(M7[GetPlayerId(GetOwningPlayer(oA))]),StringHash("HauntTarget")+GetHandleId(XU),m5)
call SetUnitPathing(XU,false)
call SetUnitMoveSpeed(XU,400)
call SetUnitX(XU,GetUnitX(m5))
call SetUnitY(XU,GetUnitY(m5))
call IssueTargetOrderById(XU,851986,m5)
call SetUnitVertexColor(XU,255,255,255,50)
call TriggerRegisterUnitEvent(t,XU,EVENT_UNIT_ISSUED_TARGET_ORDER)
call TriggerRegisterUnitEvent(t,XU,EVENT_UNIT_ISSUED_POINT_ORDER)
call TriggerRegisterUnitEvent(t,XU,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,.5,true)
call TriggerAddAction(t,function P1E)
call DestroyEffect(AddSpecialEffect("units\\nightelf\\SpiritOfVengeance\\SpiritOfVengeance.mdl",GetUnitX(XU),GetUnitY(XU)))
call TX7(GetHandleId(t),"HauntTarget",m5)
call TX7(GetHandleId(t),"HauntImage",XU)
call TT7(GetHandleId(t),"HauntPhase",0)
if(UJ7(GetHandleId(GetOwningPlayer(GetSummoningUnit())),"MGrp")!=null)then
call GroupAddUnit(UJ7(GetHandleId(GetOwningPlayer(GetSummoningUnit())),"MGrp"),GetSummonedUnit())
call SetUnitUserData(GetSummonedUnit(),GetPlayerId(GetOwningPlayer(UE7(GetHandleId(oA),"HauntTarget"))))
endif
call TQ7(GetHandleId(oA))
set t=null
set m5=null
set XU=null
set oA=null
endfunction
function P_E takes nothing returns nothing
local unit CL7=GetTriggerUnit()
local group I68=CA7()
local boolexpr hP=Condition(function PLE)
local sound HT
call LP7(GetTriggerUnit(),(1093683265))
if(UJ7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"MGrp")!=null)then
call GroupClear(UJ7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"MGrp"))
endif
call SetUnitPathing(CL7,false)
call GroupEnumUnitsInRect(I68,bj_mapInitialPlayableArea,hP)
call ForGroup(I68,function P6E)
call SetUnitPathing(CL7,true)
if FirstOfGroup(I68)!=null then
set HT=CreateSound("Abilities\\Spells\\Other\\ANsa\\SacrificeUnit.wav",false,false,false,10,10,"DefaultEAXON")
call StartSound(HT)
call KillSoundWhenDone(HT)
endif
call DestroyBoolExpr(hP)
call CZ7(I68)
set CL7=null
set I68=null
set hP=null
endfunction
function Q4E takes nothing returns boolean
return GetLearnedSkill()==1093683257 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093683257)==1
endfunction
function Q7E takes nothing returns nothing
call LP7(GetTriggerUnit(),1093683265)
endfunction
function Q38 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function P3E))
call TriggerAddAction(t,function P_E)
set t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function P5E))
call TriggerAddAction(t,function P2E)
set t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function Q4E))
call TriggerAddAction(t,function Q7E)
call CreateSound("Abilities\\Spells\\Other\\ANsa\\SacrificeUnit.wav",false,false,false,10,10,"DefaultEAXON")
call DH8(1093684793)
set t=null
endfunction
function Q8E takes nothing returns boolean
return GetSpellAbilityId()==1093683265
endfunction
function Q9E takes nothing returns boolean
return GetUnitAbilityLevel(GetFilterUnit(),1110455884)>0
endfunction
function QDE takes nothing returns nothing
local unit CR7
local real in=DX8(GetEnumUnit(),GetSpellTargetLoc())
if in<F8 then
set D8=GetEnumUnit()
set F8=in
endif
set CR7=null
endfunction
function QEE takes nothing returns unit
local group I68=CA7()
local boolexpr hP=Condition(function Q9E)
set D8=null
set F8=9999999
call GroupEnumUnitsOfPlayer(I68,GetOwningPlayer(GetTriggerUnit()),hP)
call ForGroup(I68,function QDE)
set Zz=I68
call DestroyBoolExpr(hP)
set I68=null
set hP=null
return D8
endfunction
function Reality_KillOtherImages takes nothing returns nothing
call KillUnit(GetEnumUnit())
endfunction
function QFE takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local unit m5=QEE()
local unit QGE=LoadUnitHandle(L7,GetHandleId(CR7),StringHash("HauntTarget")+GetHandleId(m5))
local real hN
local real ho
if m5==null then
call D78(GetOwningPlayer(CR7),"Cannot find any of your Haunting illusions")
else
set hN=GetUnitX(m5)
set ho=GetUnitY(m5)
call KillUnit(m5)
call CZ7(Zz)
set Zz=null
call SetUnitX(CR7,hN)
call SetUnitY(CR7,ho)
if RI7(GetCameraEyePositionX(),GetCameraEyePositionY(),GetUnitX(m5),GetUnitY(m5))>1400 then
call PanCameraToTimedForPlayer(GetOwningPlayer(CR7),hN,ho,0)
endif
call IssueTargetOrderById(CR7,851983,QGE)
endif
set CR7=null
set m5=null
set QGE=null
endfunction
function Reality_CheckValid takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local unit m5=QEE()
if m5==null then
call RU7(CR7)
call D78(GetOwningPlayer(CR7),"Cannot find any of your Haunting illusions")
endif
set CR7=null
set m5=null
endfunction
function Q68 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function Q8E))
call TriggerAddAction(t,function QFE)
set t=null
endfunction
function QHE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local integer BK7=GetUnitAbilityLevel(p5,1093682515)
local integer YU9
local integer QIE
if BK7>0 and LR7(p5)==false then
set YU9=R2I(GetUnitMoveSpeed(p5)*0.04*BK7)
set QIE=UQ7(UL7,"LastBonus")
if YU9!=QIE then
call TT7(UL7,"LastBonus",YU9)
endif
endif
set t=null
set p5=null
return false
endfunction
function QJE takes unit CR7,boolean B89 returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerAddCondition(t,Condition(function QHE))
call TX7(UL7,"Source",CR7)
call TT7(UL7,"LastBonus",0)
if B89 then
set aj[GetPlayerId(GetOwningPlayer(CR7))]=t
endif
set t=null
endfunction
function QKE takes nothing returns boolean
if GetLearnedSkill()==1093682515 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093682515)==1 then
call QJE(GetTriggerUnit(),false)
endif
return false
endfunction
function PL8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function QKE))
set t=null
endfunction
function QME takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local real NYD=(LoadReal(L7,(GetHandleId(EL8)),(685)))
call FlushChildHashtable(L7,(OL7))
call U37(t)
if NYD<(TimerGetElapsed(W))or GetTriggerEventId()==EVENT_WIDGET_DEATH then
call SaveReal(L7,(GetHandleId(EL8)),(685),((0)*1.0))
call UnitRemoveAbility(EL8,1093809224)
call UnitRemoveAbility(EL8,1110459715)
endif
set t=null
set EL8=null
return false
endfunction
function QNE takes unit EL8 returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call LP7(EL8,1093809224)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093809224,false)
call SaveReal(L7,(GetHandleId(EL8)),(685),(((TimerGetElapsed(W))+Z14-0.01)*1.0))
call TriggerRegisterTimerEvent(t,Z14,false)
call TriggerRegisterDeathEvent(t,EL8)
call TriggerAddCondition(t,Condition(function QME))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
set t=null
endfunction
function QOE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local real A89=(LoadReal(L7,(OL7),(13)))
local real x=GetUnitX(O_7)
local real y=GetUnitY(O_7)
local integer CS8=GetTriggerEvalCount(t)
local real XKD=(LoadReal(L7,(OL7),(193)))
local integer END=(LoadInteger(L7,(OL7),(12)))
if CS8>35 then
call SaveReal(L7,(OL7),(193),((XKD*0.98)*1.0))
endif
if GetTriggerEventId()==EVENT_UNIT_DEATH or CS8>END then
call FlushChildHashtable(L7,(OL7))
call U37(t)
else
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl",x,y))
call E78(x,y,150)
set x=DD8(x+XKD*Cos(A89))
set y=DE8(y+XKD*Sin(A89))
if(IsPointInRegion(IU4,((x)*1.0),((y)*1.0)))==false then
call SetUnitX(O_7,x)
call SetUnitY(O_7,y)
endif
if CS8==1 and(LoadBoolean(L7,(OL7),(698)))==false then
call IssueTargetOrder(EL8,"attack",O_7)
endif
endif
set t=null
set O_7=null
set EL8=null
return false
endfunction
function QPE takes unit EL8,unit O_7,boolean QQE,boolean QRE returns nothing
local trigger t
local integer OL7
local real A89=Atan2(GetUnitY(O_7)-GetUnitY(EL8),GetUnitX(O_7)-GetUnitX(EL8))
local integer HF8=GetUnitAbilityLevel(EL8,1093682997)
local unit HE8
if QQE then
endif
if HF8>0 then
set HE8=CreateUnit(GetOwningPlayer(O_7),1697656901,GetUnitX(O_7),GetUnitY(O_7),0)
call LP7(HE8,1093752657)
call SetUnitAbilityLevel(HE8,1093752657,HF8)
if IssueTargetOrder(HE8,"thunderbolt",O_7)then
set t=CreateTrigger()
set OL7=GetHandleId(t)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile_mini.mdl",EL8,"weapon"))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveReal(L7,(OL7),(13),((A89)*1.0))
call SaveReal(L7,(OL7),(193),((2)*1.0))
call SaveBoolean(L7,(OL7),(698),(QRE))
call SaveInteger(L7,(OL7),(12),(80+20*HF8))
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,0.01,true)
call TriggerAddCondition(t,Condition(function QOE))
call HG8(EL8,O_7,ZG4,GetUnitMoveSpeed(EL8)*0.1*HF8)
call QNE(EL8)
endif
if QRE==false then
call U07(EL8,"pIv",1.5)
endif
endif
set t=null
set EL8=null
set O_7=null
set HE8=null
endfunction
function QSE takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1093682997)>0 and IsUnitIllusion(GetAttacker())==false and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitTypeId(GetTriggerUnit())!=1848651852 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))and GetRandomInt(1,100)<=17 and UX7(GetAttacker(),"pIv")==false then
call QPE(GetAttacker(),GetTriggerUnit(),false,false)
endif
return false
endfunction
function P18 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function QSE))
set t=null
endfunction
function QTE takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),A44)==false then
call GroupAddUnit(A44,GetEnumUnit())
call QPE(Z54,GetEnumUnit(),false,true)
endif
endfunction
function QUE takes integer id returns boolean
if id==1093750840 or id==1093682515 or id==1093682996 or id==1093747768 or id==1093682997 or id==1096904043 then
return true
endif
if id==852002 or id==852003 or id==852004 or id==852005 or id==852006 or id==852007 then
return true
endif
if id>1000000 then
return true
endif
return false
endfunction
function QVE takes nothing returns boolean
if(IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit())))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(Z54))==true then
if RH7(Z24,GetFilterUnit())<Z_4 then
set Z_4=RH7(Z24,GetFilterUnit())
set Z04=GetFilterUnit()
endif
endif
return false
endfunction
function QWE takes unit EL8,unit O_7 returns unit
local group g=CA7()
set IN4=EL8
set Z54=EL8
set Z04=null
set Z_4=999999
set Z24=O_7
call GroupEnumUnitsInRange(g,GetUnitX(O_7),GetUnitY(O_7),4000,Condition(function QVE))
call CZ7(g)
set g=null
return Z04
endfunction
function QXE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local unit HE8=(LoadUnitHandle(L7,(OL7),(19)))
local integer HF8=(LoadInteger(L7,(OL7),(5)))
local real JND=(550+50*HF8)*0.02
local real ZC9=(LoadReal(L7,(OL7),(23)))
local real Z39=(LoadReal(L7,(OL7),(24)))
local real x
local real y
local real a
local real d
local string fx
local group g
if(GetTriggerEventId()==EVENT_WIDGET_DEATH and GetTriggerUnit()==EL8)or GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_POINT_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER or DZ9(EL8)or(LoadReal(L7,(OL7),(442)))<(TimerGetElapsed(W))then
if(GetTriggerEventId()!=EVENT_UNIT_ISSUED_ORDER and GetTriggerEventId()!=EVENT_UNIT_ISSUED_POINT_ORDER and GetTriggerEventId()!=EVENT_UNIT_ISSUED_TARGET_ORDER)or((GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_POINT_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER)and QUE(GetIssuedOrderId())==false)then
call DestroyEffect((LoadEffectHandle(L7,(OL7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(176))))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(177))))
call UnitRemoveAbility(O_7,1093809228)
call UnitRemoveAbility(O_7,1110459716)
call CZ7((LoadGroupHandle(L7,(OL7),(187))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
call SetUnitTimeScale(EL8,1)
call KillUnit(HE8)
call SetUnitPathing(EL8,true)
call SetUnitVertexColor(EL8,255,255,255,255)
call UnitRemoveAbility(EL8,1093744441)
call E78(GetUnitX(EL8),GetUnitY(EL8),200)
call SaveBoolean(L7,GetHandleId(EL8),1145131595,false)
call RemoveSavedHandle(L7,GetHandleId(EL8),1145131595)
if GetTriggerEventId()!=EVENT_WIDGET_DEATH then
call ResetUnitAnimation(EL8)
endif
endif
elseif GetTriggerEventId()==EVENT_WIDGET_DEATH and GetTriggerUnit()==O_7 then
set fx=""
if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(EL8))or CP7(GetLocalPlayer())then
set fx="Abilities\\Spells\\Other\\HowlOfTerror\\HowlTarget.mdl"
endif
call UnitRemoveAbility(O_7,1093809228)
call UnitRemoveAbility(O_7,1110459716)
set O_7=QWE(EL8,O_7)
if O_7!=null then
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(176))))
call SaveEffectHandle(L7,(OL7),(175),(AddSpecialEffectTarget(fx,O_7,"overhead")))
call SaveEffectHandle(L7,(OL7),(176),(AddSpecialEffectTarget(fx,O_7,"overhead")))
call SaveReal(L7,(OL7),(442),(((TimerGetElapsed(W))+50)*1.0))
call TriggerRegisterDeathEvent(t,O_7)
call SaveUnitHandle(L7,GetHandleId(EL8),1145131595,O_7)
else
call DestroyEffect((LoadEffectHandle(L7,(OL7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(176))))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(177))))
call UnitRemoveAbility(O_7,1093809228)
call UnitRemoveAbility(O_7,1110459716)
call CZ7((LoadGroupHandle(L7,(OL7),(187))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
call SetUnitTimeScale(EL8,1)
call KillUnit(HE8)
call SetUnitPathing(EL8,true)
call ResetUnitAnimation(EL8)
call SetUnitVertexColor(EL8,255,255,255,255)
call UnitRemoveAbility(EL8,1093744441)
call SetUnitPosition(EL8,GetUnitX(EL8),GetUnitY(EL8))
call E78(GetUnitX(EL8),GetUnitY(EL8),500)
call SaveBoolean(L7,GetHandleId(EL8),1145131595,false)
call RemoveSavedHandle(L7,GetHandleId(EL8),1145131595)
endif
else
set d=RI7(GetUnitX(EL8),GetUnitY(EL8),GetUnitX(O_7),GetUnitY(O_7))
if d<100 then
call DestroyEffect((LoadEffectHandle(L7,(OL7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(176))))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(177))))
call UnitRemoveAbility(O_7,1093809228)
call UnitRemoveAbility(O_7,1110459716)
call CZ7((LoadGroupHandle(L7,(OL7),(187))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
call SetUnitTimeScale(EL8,1)
call KillUnit(HE8)
set HE8=CreateUnit(GetOwningPlayer(O_7),1697656901,GetUnitX(O_7),GetUnitY(O_7),0)
call UnitAddAbility(HE8,1093683027)
call SetUnitAbilityLevel(HE8,1093683027,HF8)
call IssueTargetOrder(HE8,"thunderbolt",O_7)
call SetUnitPathing(EL8,true)
call SetUnitVertexColor(EL8,255,255,255,255)
call UnitRemoveAbility(EL8,1093744441)
call SetUnitPosition(EL8,GetUnitX(EL8),GetUnitY(EL8))
call E78(GetUnitX(EL8),GetUnitY(EL8),200)
call SaveBoolean(L7,GetHandleId(EL8),1145131595,false)
call RemoveSavedHandle(L7,GetHandleId(EL8),1145131595)
set A74=HF8
call IssueTargetOrder(EL8,"attack",O_7)
if Z27(GetOwningPlayer(EL8))then
set hq[832+GetPlayerId(GetOwningPlayer(EL8))]=0
endif
else
if GetTriggerEvalCount(t)==1 then
call DisableTrigger(t)
call IssueImmediateOrder(EL8,"holdposition")
call EnableTrigger(t)
endif
if ModuloInteger(GetTriggerEvalCount(t),65)==0 then
if GetUnitTypeId(EL8)==1160786520 then
call SetUnitAnimationByIndex(EL8,1)
else
call SetUnitAnimationByIndex(EL8,2)
endif
endif
set a=PR7(EL8,O_7)*bj_DEGTORAD
call SetUnitFacing(EL8,a*bj_RADTODEG)
set x=ZC9+JND*Cos(a)
set y=Z39+JND*Sin(a)
call SetUnitX(EL8,x)
call SetUnitY(EL8,y)
call SetUnitX(HE8,GetUnitX(O_7))
call SetUnitY(HE8,GetUnitY(O_7))
call SaveReal(L7,(OL7),(23),((x)*1.0))
call SaveReal(L7,(OL7),(24),((y)*1.0))
set A44=(LoadGroupHandle(L7,(OL7),(187)))
set g=CA7()
set IN4=EL8
set Z54=EL8
call GroupEnumUnitsInRange(g,x,y,325,Condition(function FW8))
call GroupRemoveUnit(g,O_7)
set A74=HF8
call ForGroup(g,function QTE)
call CZ7(g)
set g=null
if d<3000 and GetUnitAbilityLevel(O_7,1093809228)==0 then
endif
if Z27(GetOwningPlayer(EL8))then
set hq[832+GetPlayerId(GetOwningPlayer(EL8))]=Bz+1
endif
endif
endif
set t=null
set EL8=null
set O_7=null
set HE8=null
return false
endfunction
function QYE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local unit HE8=CreateUnit(GetOwningPlayer(EL8),1865429073,GetUnitX(O_7),GetUnitY(O_7),0)
local integer HF8=GetUnitAbilityLevel(EL8,1093750840)
local string fx=""
call SaveBoolean(L7,GetHandleId(EL8),1145131595,true)
call SaveUnitHandle(L7,GetHandleId(EL8),1145131595,O_7)
if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(EL8))or CP7(GetLocalPlayer())then
set fx="Abilities\\Spells\\Other\\HowlOfTerror\\HowlTarget.mdl"
call PingMinimapEx(GetUnitX(O_7),GetUnitY(O_7),2,255,255,255,false)
endif
call IssueTargetOrder(EL8,"move",O_7)
call SetUnitPathing(EL8,false)
if GetUnitTypeId(EL8)==1160786520 then
call SetUnitAnimationByIndex(EL8,1)
else
call SetUnitAnimationByIndex(EL8,2)
endif
call SetUnitTimeScale(EL8,2.5)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093744441,false)
call SetUnitVertexColor(EL8,255,255,255,100)
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveUnitHandle(L7,(OL7),(19),(HE8))
call SaveInteger(L7,(OL7),(5),(HF8))
call SaveReal(L7,(OL7),(442),(((TimerGetElapsed(W))+50)*1.0))
call SaveReal(L7,(OL7),(23),((GetUnitX(EL8))*1.0))
call SaveReal(L7,(OL7),(24),((GetUnitY(EL8))*1.0))
call SaveEffectHandle(L7,(OL7),(175),(AddSpecialEffectTarget(fx,O_7,"overhead")))
call SaveEffectHandle(L7,(OL7),(176),(AddSpecialEffectTarget(fx,O_7,"overhead")))
call SaveEffectHandle(L7,(OL7),(177),(AddSpecialEffectTarget("war3mapImported\\ShockwaveMissilePurple.mdx",EL8,"origin")))
call SaveGroupHandle(L7,(OL7),(187),(CA7()))
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterDeathEvent(t,EL8)
call TriggerRegisterDeathEvent(t,O_7)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_ISSUED_ORDER)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_ISSUED_POINT_ORDER)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_ISSUED_TARGET_ORDER)
call TriggerAddCondition(t,Condition(function QXE))
set t=null
set EL8=null
set O_7=null
set HE8=null
endfunction
function QZE takes nothing returns boolean
if GetSpellAbilityId()==1093750840 and CY7(GetSpellTargetUnit())==false then
call QYE()
endif
return false
endfunction
function P68 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function QZE))
set t=null
call DH8(1093687350)
endfunction
function QAE takes unit EL8,unit O_7 returns nothing
local trigger t
local integer OL7
local real l4=Atan2(GetUnitY(O_7)-GetUnitY(EL8),GetUnitX(O_7)-GetUnitX(EL8))
local integer HF8=4
call QPE(EL8,O_7,true,true)
set t=null
endfunction
function QBE takes nothing returns nothing
call QAE(W04,GetEnumUnit())
endfunction
function QCE takes unit EL8,unit O_7 returns nothing
local group g=CA7()
set IN4=EL8
set W04=EL8
call GroupEnumUnitsInRange(g,GetUnitX(EL8),GetUnitY(EL8),275,Condition(function FW8))
call ForGroup(g,function QBE)
call CZ7(g)
set g=null
endfunction
function Q3E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local integer CS8=GetTriggerEvalCount(t)
local integer Q6E
local integer HF8
local real A89
local real ZC9=(LoadReal(L7,(OL7),(23)))
local real Z39=(LoadReal(L7,(OL7),(24)))
local real x=GetUnitX(O_7)
local real y=GetUnitY(O_7)
local real d=RI7(x,y,ZC9,Z39)
call SaveReal(L7,(OL7),(23),((x)*1.0))
call SaveReal(L7,(OL7),(24),((y)*1.0))
if GetTriggerEventId()==EVENT_UNIT_DEATH or CS8==200 or d>1800 then
call SetUnitVertexColor(EL8,255,255,255,255)
call UnitShareVision(O_7,GetOwningPlayer(EL8),false)
call UnitRemoveAbility(EL8,1093744441)
call FlushChildHashtable(L7,(OL7))
call U37(t)
else
if CS8<100 then
set Q6E=CS8
else
set Q6E=200-CS8
endif
call SetUnitVertexColor(EL8,255,255,255,255*(100-Q6E)/100)
if CS8==100 then
set HF8=(LoadInteger(L7,(OL7),(5)))
set A89=Atan2(GetUnitY(O_7)-GetUnitY(EL8),GetUnitX(O_7)-GetUnitX(EL8))
call SetUnitPosition(EL8,GetUnitX(O_7)+80*Cos(A89),GetUnitY(O_7)+80*Sin(A89))
call SetUnitAnimation(EL8,"attack")
call IssueTargetOrder(EL8,"attack",O_7)
if GetUnitAbilityLevel(EL8,1093682996)>0 then
call QAE(EL8,O_7)
else
call QCE(EL8,O_7)
endif
call HG8(EL8,O_7,ZG4,50+100*HF8)
endif
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function QLE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local integer HF8=GetUnitAbilityLevel(EL8,1093682996)
if HF8==0 then
set HF8=GetUnitAbilityLevel(EL8,1093747768)
endif
call UnitShareVision(O_7,GetOwningPlayer(EL8),true)
call IssueImmediateOrder(EL8,"halt")
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveInteger(L7,(OL7),(5),(HF8))
call SaveReal(L7,(OL7),(23),((GetUnitX(O_7))*1.0))
call SaveReal(L7,(OL7),(24),((GetUnitY(O_7))*1.0))
call TriggerRegisterTimerEvent(t,0.01,true)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function Q3E))
call LP7(EL8,1093744441)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093744441,false)
set t=null
set EL8=null
set O_7=null
endfunction
function Q1E takes nothing returns boolean
if(GetSpellAbilityId()==1093682996 or GetSpellAbilityId()==1093747768)and CY7(GetSpellTargetUnit())==false then
call QLE()
endif
return false
endfunction
function P08 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function Q1E))
set t=null
endfunction
function Q0E takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local integer HF8=GetUnitAbilityLevel(EL8,1093809973)
if HF8==1 then
call LP7(EL8,1093809974)
elseif HF8==2 then
call UnitRemoveAbility(EL8,1093809974)
call LP7(EL8,1093809977)
elseif HF8==3 then
call UnitRemoveAbility(EL8,1093809974)
call UnitRemoveAbility(EL8,1093809977)
call LP7(EL8,1093809975)
elseif HF8==4 then
call UnitRemoveAbility(EL8,1093809974)
call UnitRemoveAbility(EL8,1093809977)
call UnitRemoveAbility(EL8,1093809975)
call LP7(EL8,1093809976)
endif
set EL8=null
endfunction
function Q5E takes nothing returns boolean
if GetLearnedSkill()==1093809973 and IsUnitIllusion(GetTriggerUnit())==false then
call Q0E()
endif
return false
endfunction
function P_8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function Q5E))
set t=null
endfunction
function Q2E takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local unit m5=UE7(UL7,"Target")
local real Q_E=UR7(UL7,"SourceLifePercent")
local real R4E=UR7(UL7,"TargetLifePercent")
local integer BK7=GetUnitAbilityLevel(p5,1093678929)
local real R7E=0.33
if BK7==2 then
set R7E=0.28
elseif BK7==3 then
set R7E=0.23
endif
if GetSpellTargetUnit()==p5 then
call SetUnitState(p5,UNIT_STATE_LIFE,RMaxBJ(GetUnitState(p5,UNIT_STATE_MAX_LIFE)*R4E*0.01,GetUnitState(p5,UNIT_STATE_MAX_LIFE)*R7E))
endif
if GetSpellTargetUnit()==m5 then
call SetUnitLifePercentBJ(m5,Q_E)
if GetUnitLifePercent(m5)<33.00 and BK7==1 and GetUnitState(m5,UNIT_STATE_LIFE)>1 then
call SetUnitLifePercentBJ(m5,33.00)
endif
if GetUnitLifePercent(m5)<28.00 and BK7==2 and GetUnitState(m5,UNIT_STATE_LIFE)>1 then
call SetUnitLifePercentBJ(m5,28.00)
endif
if GetUnitLifePercent(m5)<23.00 and BK7==3 and GetUnitState(m5,UNIT_STATE_LIFE)>1 then
call SetUnitLifePercentBJ(m5,23.00)
endif
endif
if GetTriggerEvalCount(t)==2 then
call TQ7(UL7)
call U37(t)
endif
set p5=null
set m5=null
set t=null
endfunction
function R8E takes nothing returns boolean
if GetSpellAbilityId()==1093678930 then
call Q2E()
endif
return false
endfunction
function R9E takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local unit HE8
call TX7(UL7,"Source",p5)
call TX7(UL7,"Target",m5)
call TU7(UL7,"SourceLifePercent",(GetUnitLifePercent(p5))*1.0)
call TU7(UL7,"TargetLifePercent",(GetUnitLifePercent(m5))*1.0)
call TriggerAddCondition(t,Condition(function R8E))
set HE8=CreateUnit(GetOwningPlayer(m5),1697656921,GetUnitX(m5),GetUnitY(m5),0)
call TriggerRegisterUnitEvent(t,HE8,EVENT_UNIT_SPELL_EFFECT)
call LP7(HE8,1093678930)
call IssueTargetOrder(HE8,"thunderbolt",p5)
call ShowUnit(HE8,false)
call SetUnitPathing(HE8,false)
call SetUnitInvulnerable(HE8,true)
call UnitApplyTimedLife(HE8,1112820806,0.2)
set HE8=CreateUnit(GetOwningPlayer(p5),1697656921,GetUnitX(p5),GetUnitY(p5),0)
call TriggerRegisterUnitEvent(t,HE8,EVENT_UNIT_SPELL_EFFECT)
call LP7(HE8,1093678930)
call IssueTargetOrder(HE8,"thunderbolt",m5)
call ShowUnit(HE8,false)
call SetUnitPathing(HE8,false)
call SetUnitInvulnerable(HE8,true)
call UnitApplyTimedLife(HE8,1112820806,0.2)
set t=null
set p5=null
set m5=null
set HE8=null
endfunction
function RDE takes nothing returns boolean
if GetSpellAbilityId()==1093678929 then
call R9E()
endif
return false
endfunction
function P58 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function RDE))
set t=null
endfunction
function REE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit C48=(LoadUnitHandle(L7,(OL7),(335)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
call FlushChildHashtable(L7,(OL7))
call U37(t)
if GetTriggerUnit()!=C48 then
call KillUnit(C48)
endif
else
call IssueTargetOrder(C48,"attack",O_7)
endif
set t=null
set C48=null
set O_7=null
return false
endfunction
function RFE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local unit HE8=(LoadUnitHandle(L7,(OL7),(19)))
local unit C48
if GetSummoningUnit()==HE8 then
call FlushChildHashtable(L7,(OL7))
call U37(t)
set C48=GetSummonedUnit()
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterDeathEvent(t,C48)
call TriggerRegisterDeathEvent(t,O_7)
call TriggerRegisterTimerEvent(t,0.2,true)
call TriggerAddCondition(t,Condition(function REE))
call SaveUnitHandle(L7,(OL7),(335),(C48))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call UnitAddAbility(C48,1097625443)
call SetUnitPosition(C48,GetUnitX(O_7)+100,GetUnitY(O_7)+100)
call IssueTargetOrder(C48,"attack",O_7)
call SetUnitMoveSpeed(C48,522)
call SetUnitVertexColorBJ(C48,100,100,100,60)
endif
set t=null
set O_7=null
set EL8=null
set HE8=null
return false
endfunction
function RGE takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local integer HF8=GetUnitAbilityLevel(EL8,1093815130)
local integer id
local unit HE8=CreateUnit(GetOwningPlayer(EL8),1697656901,GetUnitX(EL8),GetUnitY(EL8),0)
local trigger t
local integer OL7
call SetPlayerAbilityAvailable(GetOwningPlayer(O_7),1093809751,false)
if D69(O_7)==false then
call FE8(O_7,1093809751,1,5,1110459722)
endif
set t=CreateTrigger()
set OL7=GetHandleId(t)
call D28(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function RFE))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveUnitHandle(L7,(OL7),(19),(HE8))
call LP7(HE8,1093809227)
call SetUnitAbilityLevel(HE8,1093809227,HF8)
call IssueTargetOrderById(HE8,852274,O_7)
call E98(A94,GetUnitX(O_7),GetUnitY(O_7))
set EL8=null
set O_7=null
set HE8=null
set t=null
endfunction
function RHE takes nothing returns boolean
if GetSpellAbilityId()==1093815130 then
call RGE()
endif
return false
endfunction
function P28 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function RHE))
set t=null
endfunction
function RIE takes nothing returns nothing
local unit EL8=GetSummoningUnit()
local unit C48=GetSummonedUnit()
call SelectUnitAddForPlayer(C48,GetOwningPlayer(EL8))
call UnitAddAbility(C48,1093815129)
call UnitRemoveAbility(C48,1093815129)
call SetUnitState(C48,UNIT_STATE_LIFE,GetUnitState(C48,UNIT_STATE_MAX_LIFE))
call SetUnitPosition(C48,GetUnitX(C48),GetUnitY(C48))
set EL8=null
set C48=null
endfunction
function RJE takes nothing returns boolean
if GetUnitAbilityLevel(GetSummonedUnit(),1110459721)>0 then
call RIE()
endif
return false
endfunction
function RKE takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit HE8
local integer HF8=GetUnitAbilityLevel(EL8,1093815128)
set HE8=CreateUnit(GetOwningPlayer(EL8),1697656901,GetUnitX(EL8),GetUnitY(EL8),0)
call LP7(HE8,1093679185)
call SetUnitAbilityLevel(HE8,1093679185,HF8)
call IssueTargetOrderById(HE8,852274,EL8)
set EL8=null
set HE8=null
endfunction
function RME takes nothing returns boolean
if GetSpellAbilityId()==1093815128 and GetUnitTypeId(GetTriggerUnit())==1164277353 then
call RKE()
endif
return false
endfunction
function Q88 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function RME))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function RJE))
set t=null
endfunction
function RNE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local unit HE8=(LoadUnitHandle(L7,(OL7),(19)))
local integer HF8=(LoadInteger(L7,(OL7),(5)))
if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>(4*(4+HF8))or CO7(O_7)or RH7(EL8,O_7)>700 then
call FlushChildHashtable(L7,(OL7))
call U37(t)
call KillUnit(HE8)
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetTriggerEvalCount(t)>1 and GetSpellAbilityId()==1093751361 then
call FlushChildHashtable(L7,(OL7))
call U37(t)
call UnitRemoveAbility(EL8,1093751361)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093750856,true)
call KillUnit(HE8)
endif
elseif IsUnitVisible(O_7,GetOwningPlayer(EL8))==false then
if(LoadInteger(L7,(OL7),(34)))==1 then
call FlushChildHashtable(L7,(OL7))
call U37(t)
call KillUnit(HE8)
else
call SaveInteger(L7,(OL7),(34),(1))
endif
else
call SaveInteger(L7,(OL7),(34),(0))
if IsUnitAlly(EL8,GetOwningPlayer(O_7))==false then
call SetUnitState(EL8,UNIT_STATE_LIFE,GetUnitState(EL8,UNIT_STATE_LIFE)+HF8*25.0/4.0)
else
call SetUnitState(O_7,UNIT_STATE_LIFE,GetUnitState(O_7,UNIT_STATE_LIFE)+HF8*50.0/4.0)
endif
endif
set t=null
set EL8=null
set O_7=null
set HE8=null
return false
endfunction
function ROE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local unit HE8=(LoadUnitHandle(L7,(OL7),(19)))
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call UnitRemoveAbility(EL8,1093751361)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093750856,true)
call FlushChildHashtable(L7,(OL7))
call U37(t)
else
if GetTriggerEvalCount(t)==1 then
call IssueImmediateOrderById(EL8,851993)
endif
if IsUnitAlly(EL8,GetOwningPlayer(O_7))==false then
call SetUnitX(HE8,GetUnitX(EL8))
call SetUnitY(HE8,GetUnitY(EL8))
else
call SetUnitX(HE8,GetUnitX(O_7))
call SetUnitY(HE8,GetUnitY(O_7))
endif
endif
set t=null
set EL8=null
set O_7=null
set HE8=null
return false
endfunction
function RPE takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local integer HF8=GetUnitAbilityLevel(EL8,1093750856)
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit HE8
if IsUnitAlly(EL8,GetOwningPlayer(O_7))==false then
set HE8=CreateUnit(GetOwningPlayer(EL8),1966092615,0,0,0)
call LP7(HE8,1093678156)
call SetUnitAbilityLevel(HE8,1093678156,HF8)
call SetUnitX(HE8,GetUnitX(EL8))
call SetUnitY(HE8,GetUnitY(EL8))
call IssueTargetOrderById(HE8,852487,O_7)
else
call LP7(EL8,1093751361)
call UnitMakeAbilityPermanent(EL8,true,1093751361)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093750856,false)
set HE8=CreateUnit(B7,1966092615,0,0,0)
call LP7(HE8,1093678156)
call SetUnitAbilityLevel(HE8,1093678156,HF8)
call SetUnitX(HE8,GetUnitX(O_7))
call SetUnitY(HE8,GetUnitY(O_7))
call IssueTargetOrderById(HE8,852487,EL8)
endif
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function RNE))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveUnitHandle(L7,(OL7),(19),(HE8))
call SaveInteger(L7,(OL7),(5),(HF8))
call SaveInteger(L7,(OL7),(34),(0))
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.01,true)
call TriggerRegisterUnitEvent(t,HE8,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function ROE))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveUnitHandle(L7,(OL7),(19),(HE8))
set EL8=null
set O_7=null
set t=null
endfunction
function RQE takes nothing returns boolean
if GetSpellAbilityId()==1093750856 and GetUnitTypeId(GetSpellTargetUnit())!=1848651852 and(IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))or CY7(GetSpellTargetUnit())==false)then
call RPE()
endif
return false
endfunction
function Q78 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function RQE))
endfunction
function RRE takes nothing returns boolean
return GetSpellAbilityId()==1093683252
endfunction
function RSE takes nothing returns nothing
local unit YO9=GetTriggerUnit()
local integer HF8=GetUnitAbilityLevel(YO9,1093683252)
local unit HE8=CreateUnit(GetOwningPlayer(YO9),1697656901,GetUnitX(YO9),GetUnitY(YO9),0)
call UnitAddAbility(HE8,1093814862)
call SetUnitAbilityLevel(HE8,1093814862,HF8)
call IssueTargetOrderById(HE8,852274,YO9)
endfunction
function Q48 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function RRE))
call TriggerAddAction(t,function RSE)
endfunction
function RTE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local unit m5=GetEventDamageSource()
local real d=GetEventDamage()
local real XY8=UR7(UL7,"KrakenShell|Damage")
local real RUE=UR7(UL7,"KrakenShell|LastTime")
if Z07(GetOwningPlayer(m5))then
if(RUE+M2)<(RT7())then
set XY8=0
endif
set RUE=(RT7())
set XY8=XY8+d
if XY8>p2 and GetUnitAbilityLevel(p5,1112433775)==0 then
set XY8=0
call E49(p5)
call D59(p5,0,0)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",p5,"origin"))
endif
call TU7(UL7,"KrakenShell|Damage",XY8)
call TU7(UL7,"KrakenShell|LastTime",RUE)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function RVE takes unit p5,boolean B89 returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function RTE))
call TX7(UL7,"Source",p5)
call TU7(UL7,"KrakenShell|Damage",0)
call TU7(UL7,"KrakenShell|LastTime",RT7())
if B89 then
set aj[GetPlayerId(GetOwningPlayer(p5))]=t
endif
set t=null
endfunction
function RWE takes nothing returns boolean
if GetLearnedSkill()==1093678149 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093678149)==1 then
call RVE(GetTriggerUnit(),false)
endif
return false
endfunction
function Q98 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function RWE))
set t=null
endfunction
function RXE takes nothing returns boolean
return GetSpellAbilityId()==1093678134 and CY7(GetSpellTargetUnit())==false
endfunction
function RYE takes nothing returns nothing
local unit t=GetSpellTargetUnit()
local real RZE=(60.+(50.*I2R(GetUnitAbilityLevelSwapped(1093678134,GetTriggerUnit()))))
call UnitDamageTargetBJ(GetTriggerUnit(),t,RZE,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_COLD)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",t,"chest"))
set t=null
endfunction
function QD8 takes nothing returns nothing
set DQ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(DQ,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(DQ,Condition(function RXE))
call TriggerAddAction(DQ,function RYE)
endfunction
function RAE takes nothing returns boolean
return GetSpellAbilityId()==1093685074
endfunction
function RBE takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(D8))and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0
endfunction
function RCE takes nothing returns nothing
call HG8(D8,GetEnumUnit(),ZH4,F8)
endfunction
function R3E takes unit EL8,unit O_7,real B29 returns nothing
local group C89=CA7()
local boolexpr QWD=Condition(function RBE)
set D8=EL8
set F8=B29
call GroupEnumUnitsInRange(C89,GetUnitX(O_7),GetUnitY(O_7),185+25,QWD)
call ForGroup(C89,function RCE)
call DestroyBoolExpr(QWD)
call CZ7(C89)
set C89=null
set QWD=null
endfunction
function R6E takes nothing returns boolean
return IsUnitInGroup(GetFilterUnit(),R8)==false and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and LR7(GetFilterUnit())==false and GetFilterUnit()!=GK7
endfunction
function RLE takes group R1E,unit R0E,unit EL8,unit pzv returns unit
local group C89=CA7()
local boolexpr QWD=Condition(function R6E)
local unit R5E=null
local unit R2E
set R8=R1E
set D8=EL8
call GroupEnumUnitsInRange(C89,GetUnitX(R0E),GetUnitY(R0E),500,QWD)
set R2E=FirstOfGroup(C89)
set R5E=R2E
loop
exitwhen R2E==null
if GetUnitState(R2E,UNIT_STATE_LIFE)!=GetUnitState(R2E,UNIT_STATE_MAX_LIFE)then
if R2E!=EL8 and IsUnitType(R2E,UNIT_TYPE_HERO)==true and IsUnitType(R5E,UNIT_TYPE_HERO)==false then
set R5E=R2E
elseif R2E!=EL8 and GetUnitState(R2E,UNIT_STATE_LIFE)<GetUnitState(R5E,UNIT_STATE_LIFE)and IsUnitType(R2E,UNIT_TYPE_HERO)==true and IsUnitType(R5E,UNIT_TYPE_HERO)==true then
set R5E=R2E
elseif R2E!=EL8 and IsUnitType(R5E,UNIT_TYPE_HERO)==false and GetUnitState(R2E,UNIT_STATE_LIFE)<GetUnitState(R5E,UNIT_STATE_LIFE)then
set R5E=R2E
elseif R2E==EL8 then
set R5E=R2E
endif
endif
call GroupRemoveUnit(C89,R2E)
set R2E=FirstOfGroup(C89)
endloop
call CZ7(C89)
call DestroyBoolExpr(QWD)
set C89=null
set QWD=null
set R2E=null
set GO7=R5E
return GO7
endfunction
function R_E takes nothing returns nothing
local unit CL7=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local string S4E="Abilities\\Spells\\Undead\\ReplenishMana\\ReplenishManaCaster.mdl"
local string S7E="origin"
local unit array S8E
local integer x
local integer i=1
local integer HF8=GetUnitAbilityLevel(CL7,1093685074)
local real B29=60+HF8*20
local group R1E=CA7()
local integer S9E
local boolean SDE=false
set GK7=CL7
if HF8==3 then
set S9E=4
elseif HF8==4 then
set S9E=5
else
set S9E=3
endif
call SetUnitState(CL7,UNIT_STATE_LIFE,GetUnitState(CL7,UNIT_STATE_LIFE)+B29)
call R3E(CL7,CL7,B29)
call GroupAddUnit(R1E,CL7)
call DB8(S4E,CL7,S7E,2)
if O_7==CL7 then
set S8E[i]=RLE(R1E,CL7,CL7,O_7)
else
set S8E[i]=O_7
endif
if S8E[i]==null then
call CZ7(R1E)
return
endif
call SetUnitState(S8E[i],UNIT_STATE_LIFE,GetUnitState(S8E[i],UNIT_STATE_LIFE)+B29)
call R3E(CL7,S8E[i],B29)
call GroupAddUnit(R1E,S8E[i])
call DB8(S4E,S8E[i],S7E,2)
call D68("SPLK",GetUnitX(CL7),GetUnitY(CL7),GetUnitX(S8E[i]),GetUnitY(S8E[i]),0.3,0.5,0.9,1.,0.7)
set i=2
loop
exitwhen i>S9E or SDE
set S8E[i]=RLE(R1E,S8E[i-1],CL7,O_7)
if S8E[i]==null then
set SDE=true
else
call GroupAddUnit(R1E,S8E[i])
call DB8(S4E,S8E[i],S7E,2)
call SetUnitState(S8E[i],UNIT_STATE_LIFE,GetUnitState(S8E[i],UNIT_STATE_LIFE)+B29)
call R3E(CL7,S8E[i],B29)
call D68("SPLK",GetUnitX(S8E[i-1]),GetUnitY(S8E[i-1]),GetUnitX(S8E[i]),GetUnitY(S8E[i]),0.3,0.5,0.9,1.,0.7)
set i=i+1
endif
endloop
loop
set i=i-1
set S8E[i]=null
exitwhen i<2
endloop
call CZ7(R1E)
set CL7=null
set O_7=null
set R1E=null
endfunction
function RS8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function RAE))
call TriggerAddAction(t,function R_E)
set t=null
endfunction
function SEE takes nothing returns boolean
return GetSpellAbilityId()==(1093684817)and CY7(GetSpellTargetUnit())==false
endfunction
function SFE takes unit p5,unit m5,integer BK7 returns nothing
local unit oA=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
call LP7(oA,1093684810)
call SetUnitAbilityLevel(oA,1093684810,BK7)
call IssueTargetOrderById(oA,852075,m5)
set oA=null
endfunction
function SGE takes unit p5,unit m5 returns nothing
local unit oA=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
call LP7(oA,1093684811)
call IssueTargetOrderById(oA,852095,m5)
set oA=null
endfunction
function SHE takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=UE7(OL7,"Source")
local unit O_7=UE7(OL7,"Target")
local integer HF8=GetUnitAbilityLevel(EL8,1093684817)
local integer SIE=GetTriggerExecCount(t)
local real B29=8*HF8
local unit HE8=UE7(OL7,"Caster")
if HF8==1 then
call LP7(O_7,1093685079)
call HG8(HE8,O_7,ZH4,B29)
if SIE==8 then
call UnitRemoveAbility(O_7,1093685079)
call TQ7(OL7)
call U37(t)
endif
endif
if HF8==2 then
if SIE==1 then
call SFE(EL8,O_7,2)
endif
if SIE>1 then
call LP7(O_7,1093685079)
call HG8(HE8,O_7,ZH4,B29)
endif
if SIE==9 then
call UnitRemoveAbility(O_7,1093685079)
call TQ7(OL7)
call U37(t)
endif
endif
if HF8==3 then
if SIE==1 then
call SFE(EL8,O_7,2)
endif
if SIE==2 then
call SGE(EL8,O_7)
endif
if SIE>2 then
call LP7(O_7,1093685079)
call HG8(HE8,O_7,ZH4,B29)
endif
if SIE==10 then
call UnitRemoveAbility(O_7,1093685079)
call TQ7(OL7)
call U37(t)
endif
endif
if HF8==4 then
if SIE==1 then
call SFE(EL8,O_7,2)
endif
if SIE==2 then
call SGE(EL8,O_7)
endif
if SIE>2 then
call LP7(O_7,1093685079)
call HG8(HE8,O_7,ZH4,B29)
endif
if SIE==10 then
call UnitRemoveAbility(O_7,1093685079)
call TQ7(OL7)
call U37(t)
endif
endif
set t=null
set HE8=null
set EL8=null
set O_7=null
endfunction
function SJE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit HE8=CreateUnit(GetOwningPlayer(GetTriggerUnit()),1697656901,GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()),0)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddAction(t,function SHE)
call TX7(UL7,"Source",GetTriggerUnit())
call TX7(UL7,"Target",GetSpellTargetUnit())
call TX7(UL7,"Caster",(HE8))
call SFE(GetTriggerUnit(),GetSpellTargetUnit(),1)
set t=null
set HE8=null
endfunction
function RT8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function SEE))
call TriggerAddAction(t,function SJE)
call DH8(1093684810)
call DH8(1093684811)
set t=null
endfunction
function SKE takes string D08,unit O_7,unit CL7 returns nothing
local texttag tt=CreateTextTag()
call SetTextTagText(tt,D08,0.033)
call SetTextTagPosUnit(tt,O_7,64)
call SetTextTagColor(tt,160,0,255,255)
call SetTextTagVelocity(tt,0,0.0355)
call SetTextTagFadepoint(tt,0.15)
call SetTextTagPermanent(tt,false)
call SetTextTagLifespan(tt,0.65)
if IsUnitAlly(CL7,GetLocalPlayer())or CP7(GetLocalPlayer())then
call SetTextTagVisibility(tt,true)
else
call SetTextTagVisibility(tt,false)
endif
set tt=null
endfunction
function SME takes real H98 returns string
if H98>4.5 then
return"5.0"
elseif H98>4.0 then
return"4.5"
elseif H98>3.5 then
return"4.0"
elseif H98>3.0 then
return"3.5"
elseif H98>2.5 then
return"3.0"
elseif H98>2.0 then
return"2.5"
elseif H98>1.5 then
return"2.0"
elseif H98>1.0 then
return"1.5"
elseif H98>0.5 then
return"1.0"
elseif H98>0.0 then
return"0.5"
else
return"0.0"
endif
return" "
endfunction
function SNE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit O_7=UE7(OL7,"Target")
local integer CS8=GetTriggerEvalCount(t)
if CS8>11 then
call FlushChildHashtable(L7,(OL7))
call U37(t)
else
call SKE(SME(5.5-0.5*CS8),O_7,O_7)
endif
set t=null
set O_7=null
return false
endfunction
function SOE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit m5=UE7(UL7,"Target")
local real SPE=UR7(UL7,"Damage")
local real SQE=DU8(GetUnitState(m5,UNIT_STATE_LIFE)-SPE,1)
local real SRE=UR7(GetHandleId(m5),"ShallowGrave|FakeLife")
call SetUnitState(m5,UNIT_STATE_LIFE,SQE)
call TU7(GetHandleId(m5),"ShallowGrave|FakeLife",SRE-SPE)
call TQ7(UL7)
call U37(t)
set t=null
set m5=null
return false
endfunction
function SSE takes unit m5,real SPE returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local real SRE=UR7(GetHandleId(m5),"ShallowGrave|FakeLife")
call TX7(UL7,"Target",m5)
call TU7(UL7,"Damage",SPE)
call TU7(GetHandleId(m5),"ShallowGrave|FakeLife",SRE+SPE)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function SOE))
set t=null
endfunction
function STE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit m5
local real Wx
local real SPE
local integer iX=GetTriggerEvalCount(t)
local real SRE
local real SUE=UR7(UL7,"LastFrame")
local real SVE=UR7(UL7,"FrameDamage")
if SUE!=RT7()then
set SUE=RT7()
set SVE=0
call TU7(UL7,"LastFrame",SUE)
call TU7(UL7,"FrameDamage",SVE)
endif
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
set m5=GetTriggerUnit()
set SRE=UR7(GetHandleId(m5),"ShallowGrave|FakeLife")
set Wx=GetUnitState(m5,UNIT_STATE_LIFE)
set SPE=GetEventDamage()
if((Wx-SRE-SVE)-SPE)<1 then
call SetUnitState(m5,UNIT_STATE_LIFE,Wx+SPE+SVE)
call SSE(m5,SPE)
else
set SVE=SVE+SPE
call TU7(UL7,"FrameDamage",SVE)
endif
else
call UB7(UE7(UL7,"Target"),"ShallowGrave|Active")
call DestroyEffect(UK7(UL7,"FX"))
call UnitRemoveAbility((UE7(UL7,"Target")),1093808457)
call UnitRemoveAbility((UE7(UL7,"Target")),1110456132)
call TQ7(UL7)
call U37(t)
endif
set m5=null
set t=null
return false
endfunction
function SWE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
call LP7(O_7,1093808457)
call TriggerRegisterTimerEvent(t,5,false)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function STE))
call TY7(OL7,"FX",AddSpecialEffectTarget("war3mapImported\\DarkHands.mdx",O_7,"overhead"))
call TU7(GetHandleId(O_7),"ShallowGrave|FakeLife",0)
call TU7(OL7,"LastFrame",RT7())
call TU7(OL7,"FrameDamage",0)
call TX7(OL7,"Target",O_7)
call UZ7(O_7,"ShallowGrave|Active")
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function SNE))
call TX7(OL7,"Target",O_7)
set t=null
set p5=null
set O_7=null
endfunction
function SXE takes nothing returns boolean
if GetSpellAbilityId()==1093742668 then
call SWE()
endif
return false
endfunction
function RU8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function SXE))
set t=null
endfunction
function SYE takes nothing returns nothing
local unit m5=GetEnumUnit()
if LR7(m5)==false then
call UnitRemoveAbility(m5,1093684821)
call UnitRemoveAbility(m5,1093684823)
elseif IsUnitType(m5,UNIT_TYPE_HERO)==true then
call EQ8(m5,1093684821,5.1)
call EQ8(m5,1093684823,5.1)
endif
set m5=null
endfunction
function SZE takes nothing returns nothing
local unit m5=GetEnumUnit()
if LR7(m5)==false then
if IsUnitAlly(m5,IR4)==false then
if IH4==0 then
call LP7(m5,1093684821)
else
call SetUnitAbilityLevel(m5,1093684821,IH4+1)
endif
else
if IH4==0 then
call LP7(m5,1093684823)
else
call SetUnitAbilityLevel(m5,1093684823,IH4+1)
endif
endif
endif
set m5=null
endfunction
function SAE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local group g=UJ7(UL7,"g")
local player p=UG7(UL7,"p")
local integer BD8=GetTriggerEvalCount(t)
local integer FF8=UQ7(UL7,"Duration")
set IR4=p
set IH4=BD8
if BD8==FF8/I37 then
call ForGroup(g,function SYE)
call CZ7(g)
call TQ7(UL7)
call U37(t)
else
call ForGroup(g,function SZE)
endif
set t=null
set g=null
set p=null
return false
endfunction
function SBE takes nothing returns nothing
call DB8(IS4,GetEnumUnit(),"chest",3)
call DB8(IS4,GetEnumUnit(),"chest",3)
call DB8(IS4,GetEnumUnit(),"right hand",3)
call DB8(IS4,GetEnumUnit(),"left hand",3)
endfunction
function SCE takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local group g=CA7()
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local integer BK7=GetUnitAbilityLevel(CR7,1093742673)
local integer FF8=6+6*BK7
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local unit HE8=CreateUnit(GetOwningPlayer(CR7),1747988535,x,y,0)
local boolean K2D=false
if BK7==0 then
set BK7=GetUnitAbilityLevel(CR7,1093747778)
set FF8=6+6*BK7+6
set K2D=true
endif
call RemoveLocation(l)
set IS4="Abilities\\Weapons\\AvengerMissile\\AvengerMissile.mdl"
call SetUnitVertexColor(HE8,255,255,255,255)
call UnitApplyTimedLife(HE8,1112820806,5)
if K2D then
call GroupEnumUnitsInRange(g,x,y,800,Condition(function GT8))
else
call GroupEnumUnitsInRange(g,x,y,600,Condition(function GT8))
endif
call ForGroup(g,function SBE)
call TL7(UL7,"g",g)
call T37(UL7,"p",GetOwningPlayer(CR7))
call TT7(UL7,"Duration",FF8)
call TriggerRegisterTimerEvent(t,I37,true)
call TriggerAddCondition(t,Condition(function SAE))
call TriggerEvaluate(t)
set CR7=null
set l=null
set g=null
set t=null
set HE8=null
endfunction
function S3E takes nothing returns boolean
if GetSpellAbilityId()==1093742673 or GetSpellAbilityId()==1093747778 then
call SCE()
endif
return false
endfunction
function RV8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function S3E))
call DH8(1093684821)
call DH8(1093684823)
set t=null
endfunction
function S6E takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),IQ4)==false then
set vZ=CreateUnit(GetOwningPlayer(IN4),1697656901,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)
call LP7(vZ,1093744462)
call SetUnitAbilityLevel(vZ,1093744462,R94)
call IssueTargetOrder(vZ,"shadowstrike",GetEnumUnit())
call GroupAddUnit(IQ4,GetEnumUnit())
endif
endfunction
function SLE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local group g=UJ7(UL7,"g")
local unit oA=UE7(UL7,"Caster")
local integer BK7=UQ7(UL7,"Level")
local real RK=UR7(UL7,"Angle")
local group I68
local real x
local real y
local real S1E
local real S0E
local real S5E=30
local unit S2E
set R94=BK7
if GetTriggerEvalCount(t)>28 then
call CZ7(g)
call TQ7(UL7)
call U37(t)
call ShowUnit(oA,false)
call KillUnit(oA)
else
set x=GetUnitX(oA)
set y=GetUnitY(oA)
set I68=CA7()
set IQ4=g
set IN4=oA
set IJ4=BK7*70
call GroupEnumUnitsInRange(I68,x,y,150,Condition(function GW8))
call ForGroup(I68,function S6E)
call CZ7(I68)
set S1E=DD8(x+S5E*Cos(RK*bj_DEGTORAD))
set S0E=DE8(y+S5E*Sin(RK*bj_DEGTORAD))
call SetUnitX(oA,S1E)
call SetUnitY(oA,S0E)
if ModuloInteger(GetTriggerEvalCount(t),3)==0 then
set S2E=CreateUnit(GetOwningPlayer(oA),1865429335,S1E,S0E,0)
call KillUnit(S2E)
endif
endif
set t=null
set g=null
set I68=null
set oA=null
return false
endfunction
function S_E takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local group g=CA7()
local unit CR7=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x1=GetUnitX(CR7)
local real y1=GetUnitY(CR7)
local real x2=GetLocationX(l)
local real y2=GetLocationY(l)
local real RK=PS7(x1,y1,x2,y2)
local integer BK7=GetUnitAbilityLevel(CR7,1093744435)
local unit oA=CreateUnit(GetOwningPlayer(CR7),1747990347,x1,y1,RK)
call E98(QR,x1,y1)
call TX7(UL7,"Caster",oA)
call TT7(UL7,"Level",BK7)
call TL7(UL7,"g",g)
call TU7(UL7,"Angle",RK)
call TX7(UL7,"Hero",CR7)
call TriggerRegisterTimerEvent(t,0.025,true)
call TriggerAddCondition(t,Condition(function SLE))
call RemoveLocation(l)
set t=null
set oA=null
set g=null
set CR7=null
set l=null
endfunction
function T4E takes nothing returns boolean
if GetSpellAbilityId()==1093744435 then
call S_E()
endif
return false
endfunction
function QH8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function T4E))
set t=null
endfunction
function T7E takes nothing returns nothing
local unit oA=CreateUnit(GetOwningPlayer(IN4),1865429065,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)
call UnitApplyTimedLife(oA,1112820806,2)
set oA=null
endfunction
function T8E takes nothing returns boolean
return FW8()and GetUnitAbilityLevel(GetFilterUnit(),1110454840)==0
endfunction
function PoisonNova_Iterate takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
local integer T9E=UQ7(UL7,"NovaLevel")
local real r=UR7(UL7,"r")
local group g
if GetTriggerEvalCount(t)>13 then
call TQ7(UL7)
call U37(t)
else
set r=r+53
call TU7(UL7,"r",r)
set g=CA7()
set IN4=CR7
set IH4=T9E
call GroupEnumUnitsInRange(g,GetUnitX(CR7),GetUnitY(CR7),r,Condition(function T8E))
call ForGroup(g,function T7E)
call CZ7(g)
endif
set t=null
set CR7=null
set g=null
return false
endfunction
function TDE takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local integer T9E
local integer i=1
local real x=GetUnitX(CR7)
local real y=GetUnitY(CR7)
local unit oA
if GetSpellAbilityId()==1093677363 then
set T9E=GetUnitAbilityLevel(CR7,1093677363)
else
set T9E=GetUnitAbilityLevel(CR7,1093681462)+1
endif
loop
exitwhen i>18
set oA=CreateUnit(GetOwningPlayer(CR7),1697657143,x,y,0)
if(GetPlayerController(GetOwningPlayer(CR7))==MAP_CONTROL_COMPUTER)then
call RemoveGuardPosition(oA)
endif
call LP7(oA,1093678391)
call SetUnitAbilityLevel(oA,1093678391,T9E)
call IssuePointOrderById(oA,851986,x+675*Cos(i*20*bj_DEGTORAD),y+675*Sin(i*20*bj_DEGTORAD))
call UnitApplyTimedLife(oA,1112820806,1.15)
set i=i+1
endloop
set CR7=null
set oA=null
endfunction
function TEE takes nothing returns boolean
if GetSpellAbilityId()==1093677363 or GetSpellAbilityId()==1093681462 then
call TDE()
endif
return false
endfunction
function QI8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function TEE))
set t=null
endfunction
function TFE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
call HN8(p5,0)
call UB7(p5,"4277")
set t=null
set p5=null
return false
endfunction
function TGE takes unit ZE8,unit m5 returns nothing
local real THE=100*GetUnitState(m5,UNIT_STATE_LIFE)/ GetUnitState(m5,UNIT_STATE_MAX_LIFE)
local real TIE=2.5*GetUnitAbilityLevel(ZE8,1093746995)
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local integer FinalBonus
call UZ7(ZE8,"4277")
call TriggerRegisterTimerEvent(t,0.35,false)
call TriggerAddCondition(t,Condition(function TFE))
call TX7(UL7,"Source",ZE8)
if IsUnitType(m5,UNIT_TYPE_HERO)==false then
set TIE=TIE/ 2
endif
if THE>80 then
call HN8(ZE8,R2I(TIE))
elseif THE>60 then
call HN8(ZE8,R2I(TIE*2))
elseif THE>40 then
call HN8(ZE8,R2I(TIE*2*2))
elseif THE>20 then
call HN8(ZE8,R2I(TIE*2*2*2))
else
call HN8(ZE8,R2I(TIE*2*2*2*2))
endif
set t=null
endfunction
function TJE takes nothing returns boolean
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST then
if GetSpellAbilityId()==1093679446 and GetUnitAbilityLevel(GetTriggerUnit(),1093746995)>0 then
call TGE(GetTriggerUnit(),GetSpellTargetUnit())
endif
else
if GetUnitAbilityLevel(GetAttacker(),1093746995)>0 and IsUnitIllusion(GetAttacker())==false and IsUnitEnemy(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))==true and UX7(GetAttacker(),"4277")==false then
call TGE(GetAttacker(),GetTriggerUnit())
endif
endif
return false
endfunction
function QJ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_ATTACKED)
call D28(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function TJE))
set t=null
endfunction
function TKE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local integer HF8=(LoadInteger(L7,(OL7),(5)))
local real NYD=(LoadReal(L7,(GetHandleId(O_7)),(684)))
if GetTriggerEventId()==EVENT_WIDGET_DEATH or NYD<(TimerGetElapsed(W))or CO7(O_7)then
call FlushChildHashtable(L7,(OL7))
call U37(t)
call SaveReal(L7,(GetHandleId(O_7)),(684),((0)*1.0))
call UnitRemoveAbility(O_7,1093808983)
call UnitRemoveAbility(O_7,1093808981)
call UnitRemoveAbility(O_7,1093808982)
call UnitRemoveAbility(O_7,1093808984)
call UnitRemoveAbility(O_7,1110459713)
else
call HG8(EL8,O_7,ZG4,5+5*HF8)
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function TME takes nothing returns nothing
local trigger t
local integer OL7
local unit EL8=GetTriggerUnit()
local unit O_7=GetAttacker()
local real NYD=(LoadReal(L7,(GetHandleId(O_7)),(684)))
local integer HF8=GetUnitAbilityLevel(EL8,1093684557)
if NYD>(TimerGetElapsed(W))then
call SaveReal(L7,(GetHandleId(O_7)),(684),(((TimerGetElapsed(W))+I67)*1.0))
else
set t=CreateTrigger()
set OL7=GetHandleId(t)
call SaveReal(L7,(GetHandleId(O_7)),(684),(((TimerGetElapsed(W))+I67)*1.0))
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterDeathEvent(t,O_7)
call TriggerAddCondition(t,Condition(function TKE))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveInteger(L7,(OL7),(5),(HF8))
if D69(O_7)==false then
if HF8==1 then
call LP7(O_7,1093808983)
call SetPlayerAbilityAvailable(GetOwningPlayer(O_7),1093808983,false)
elseif HF8==2 then
call LP7(O_7,1093808981)
call SetPlayerAbilityAvailable(GetOwningPlayer(O_7),1093808981,false)
elseif HF8==3 then
call LP7(O_7,1093808982)
call SetPlayerAbilityAvailable(GetOwningPlayer(O_7),1093808982,false)
elseif HF8==4 then
call LP7(O_7,1093808984)
call SetPlayerAbilityAvailable(GetOwningPlayer(O_7),1093808984,false)
endif
endif
endif
set t=null
set EL8=null
set O_7=null
endfunction
function TNE takes nothing returns boolean
if GetUnitAbilityLevel(GetTriggerUnit(),1093684557)>0 and GetUnitAbilityLevel(GetAttacker(),1093678162)==0 and IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false and IsUnitEnemy(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))and CO7(GetAttacker())==false then
call TME()
endif
return false
endfunction
function QK8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function TNE))
set t=null
endfunction
function TOE takes nothing returns nothing
local unit m5=GetSpellTargetUnit()
call UnitRemoveAbility(m5,1111847784)
call UnitRemoveAbility(m5,1110458705)
set m5=null
endfunction
function TPE takes nothing returns boolean
if GetSpellAbilityId()==1093679152 or GetSpellAbilityId()==1093752154 then
call TOE()
endif
return false
endfunction
function QM8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function TPE))
set t=null
endfunction
function TQE takes nothing returns boolean
return GetSpellAbilityId()==1093679192
endfunction
function TRE takes nothing returns nothing
local location J89=GetUnitLoc(GetSpellAbilityUnit())
call CreateNUnitsAtLocFacingLocBJ(1,1697656901,GetOwningPlayer(GetSpellAbilityUnit()),J89,J89)
call RemoveLocation(J89)
call UnitAddAbility(bj_lastCreatedUnit,1093679427)
call SetUnitAbilityLevelSwapped(1093679427,bj_lastCreatedUnit,GetUnitAbilityLevelSwapped(1093679192,GetSpellAbilityUnit()))
call IssueTargetOrder(bj_lastCreatedUnit,"bloodlust",GetSpellAbilityUnit())
endfunction
function QO8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function TQE))
call TriggerAddAction(t,function TRE)
set t=null
endfunction
function TSE takes unit p5,integer BK7,integer TTE returns nothing
call UnitRemoveAbility(p5,1093749586)
call UnitRemoveAbility(p5,1093749587)
call UnitRemoveAbility(p5,1093749585)
call UnitRemoveAbility(p5,1093749584)
call UnitRemoveAbility(p5,1093749553)
call UnitRemoveAbility(p5,1093749591)
call UnitRemoveAbility(p5,1093749592)
call UnitRemoveAbility(p5,1093749593)
call UnitRemoveAbility(p5,1093749812)
call UnitRemoveAbility(p5,1093749811)
call UnitRemoveAbility(p5,1093749810)
call UnitRemoveAbility(p5,1093749809)
call UnitRemoveAbility(p5,1093749816)
call UnitRemoveAbility(p5,1093749815)
call UnitRemoveAbility(p5,1093749817)
call UnitRemoveAbility(p5,1093749826)
if BK7==1 then
if TTE==1 then
call LP7(p5,1093749586)
elseif TTE==2 then
call LP7(p5,1093749587)
elseif TTE==3 then
call LP7(p5,1093749585)
elseif TTE==4 then
call LP7(p5,1093749584)
endif
elseif BK7==2 then
if TTE==1 then
call LP7(p5,1093749553)
elseif TTE==2 then
call LP7(p5,1093749591)
elseif TTE==3 then
call LP7(p5,1093749592)
elseif TTE==4 then
call LP7(p5,1093749593)
endif
elseif BK7==3 then
if TTE==1 then
call LP7(p5,1093749812)
elseif TTE==2 then
call LP7(p5,1093749811)
elseif TTE==3 then
call LP7(p5,1093749810)
elseif TTE==4 then
call LP7(p5,1093749809)
endif
elseif BK7==4 then
if TTE==1 then
call LP7(p5,1093749816)
elseif TTE==2 then
call LP7(p5,1093749815)
elseif TTE==3 then
call LP7(p5,1093749817)
elseif TTE==4 then
call LP7(p5,1093749826)
endif
endif
endfunction
function TUE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local integer TVE=UQ7(UL7,"ShellCache")
local unit p5=UE7(TVE,"Source")
local integer TTE=UQ7(TVE,"ShellCounter")
local integer BK7=GetUnitAbilityLevel(p5,1093686872)
set TTE=DQ8(TTE+1,4)
call TT7(TVE,"ShellCounter",TTE)
call TSE(p5,BK7,TTE)
call TQ7(UL7)
call U37(t)
set t=null
set p5=null
return false
endfunction
function TWE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local integer TTE=UQ7(UL7,"ShellCounter")
local integer BK7=GetUnitAbilityLevel(GetTriggerUnit(),1093686872)
if GetEventDamage()>2 and GetEventDamageSource()!=GetTriggerUnit()and Z07(GetOwningPlayer(GetEventDamageSource()))then
if TTE>0 then
endif
set TTE=DR8(TTE-1,0)
call TT7(UL7,"ShellCounter",TTE)
call TSE(p5,BK7,TTE)
set t=CreateTrigger()
set UL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,14-BK7,false)
call TriggerAddCondition(t,Condition(function TUE))
call TT7(UL7,"ShellCache",GetHandleId(GetTriggeringTrigger()))
endif
set t=null
set p5=null
return false
endfunction
function TXE takes nothing returns nothing
local trigger t
local integer UL7
local unit p5=GetTriggerUnit()
local integer BK7=GetUnitAbilityLevel(GetTriggerUnit(),1093686872)
if BK7==1 then
set t=CreateTrigger()
set UL7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function TWE))
call TX7(UL7,"Source",p5)
call TT7(UL7,"ShellCounter",4)
endif
call TSE(p5,BK7,4)
set t=null
set p5=null
endfunction
function TYE takes nothing returns boolean
if GetLearnedSkill()==1093686872 and IsUnitIllusion(GetTriggerUnit())==false then
call TXE()
endif
return false
endfunction
function TZE takes player p returns nothing
call SetPlayerAbilityAvailable(p,1093749586,false)
call SetPlayerAbilityAvailable(p,1093749587,false)
call SetPlayerAbilityAvailable(p,1093749585,false)
call SetPlayerAbilityAvailable(p,1093749584,false)
call SetPlayerAbilityAvailable(p,1093749589,false)
call SetPlayerAbilityAvailable(p,1093749590,false)
call SetPlayerAbilityAvailable(p,1093749553,false)
call SetPlayerAbilityAvailable(p,1093749591,false)
call SetPlayerAbilityAvailable(p,1093749592,false)
call SetPlayerAbilityAvailable(p,1093749593,false)
call SetPlayerAbilityAvailable(p,1093749594,false)
call SetPlayerAbilityAvailable(p,1093749588,false)
call SetPlayerAbilityAvailable(p,1093749812,false)
call SetPlayerAbilityAvailable(p,1093749811,false)
call SetPlayerAbilityAvailable(p,1093749810,false)
call SetPlayerAbilityAvailable(p,1093749809,false)
call SetPlayerAbilityAvailable(p,1093749808,false)
call SetPlayerAbilityAvailable(p,1093749813,false)
call SetPlayerAbilityAvailable(p,1093749816,false)
call SetPlayerAbilityAvailable(p,1093749815,false)
call SetPlayerAbilityAvailable(p,1093749817,false)
call SetPlayerAbilityAvailable(p,1093749826,false)
call SetPlayerAbilityAvailable(p,1093749825,false)
call SetPlayerAbilityAvailable(p,1093749814,false)
call SetPlayerAbilityAvailable(p,1093749832,false)
call SetPlayerAbilityAvailable(p,1093750067,false)
call SetPlayerAbilityAvailable(p,1093750068,false)
call SetPlayerAbilityAvailable(p,1093750083,false)
call SetPlayerAbilityAvailable(p,1093750071,false)
call SetPlayerAbilityAvailable(p,1093750072,false)
call SetPlayerAbilityAvailable(p,1093750073,false)
call SetPlayerAbilityAvailable(p,1093750081,false)
call SetPlayerAbilityAvailable(p,1093750069,false)
call SetPlayerAbilityAvailable(p,1093750082,false)
call SetPlayerAbilityAvailable(p,1093750070,false)
endfunction
function QQ8 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer i=0
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function TYE))
loop
exitwhen i>5
call TZE(Z7[i])
call TZE(A7[i])
set i=i+1
endloop
set t=null
endfunction
function TAE takes nothing returns nothing
local integer HF8
local unit EL8=GetTriggerUnit()
local unit HE8
if GetUnitTypeId(EL8)==1966092599 or GetUnitTypeId(EL8)==1966092601 or GetUnitTypeId(EL8)==1966092600 or GetUnitTypeId(EL8)==1966092609 or GetUnitTypeId(EL8)==1966092610 or GetUnitTypeId(EL8)==1966092611 or GetUnitTypeId(EL8)==1966092629 or GetUnitTypeId(EL8)==1966092630 or GetUnitTypeId(EL8)==1966092631 then
return
endif
set HE8=CreateUnit(GetOwningPlayer(EL8),1697656901,GetUnitX(EL8),GetUnitY(EL8),0)
if GetUnitTypeId(EL8)==1966092596 or GetUnitTypeId(EL8)==1966092612 or GetUnitTypeId(EL8)==1966092626 then
set HF8=1
elseif GetUnitTypeId(EL8)==1966092597 or GetUnitTypeId(EL8)==1966092613 or GetUnitTypeId(EL8)==1966092627 then
set HF8=2
else
set HF8=3
endif
call LP7(HE8,1093750342)
call SetUnitAbilityLevel(HE8,1093750342,HF8)
call IssueImmediateOrder(HE8,"stomp")
set EL8=null
set HE8=null
endfunction
function TBE takes unit TCE,integer DM9,integer HF8 returns nothing
local integer T3E
if HF8==1 then
set T3E=8
elseif HF8==2 then
set T3E=14
elseif HF8==3 then
set T3E=22
endif
call HN8(TCE,DM9*T3E)
endfunction
function T6E takes nothing returns boolean
local integer DM9
local integer AI7
local integer HF8
local unit TCE=GetAttacker()
local integer id=GetUnitTypeId(TCE)
if id==1966092596 or id==1966092597 or id==1966092598 or id==1966092612 or id==1966092613 or id==1966092614 or id==1966092626 or id==1966092627 or id==1966092628 then
set AI7=GetHandleId(TCE)
set HF8=UQ7(AI7,"Level")
set DM9=UQ7(AI7,"Remaining")
set DM9=IMaxBJ(DM9-1,0)
call TT7(AI7,"Remaining",DM9)
call TBE(TCE,DM9,HF8)
endif
set TCE=null
return false
endfunction
function TLE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit TCE=UE7(OL7,"Source")
local unit EL8=TCE
local integer HF8=UQ7(OL7,"Level")
local integer EMD=UQ7(OL7,"Counter")
local integer DM9=UQ7(GetHandleId(TCE),"Remaining")
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call TQ7(OL7)
call U37(t)
else
set EMD=EMD+1
call TT7(OL7,"Counter",EMD)
if ModuloInteger(EMD,15)==0 then
set DM9=IMinBJ(DM9+1,7)
call TT7(GetHandleId(TCE),"Remaining",DM9)
endif
if GetUnitTypeId(EL8)==1966092599 or GetUnitTypeId(EL8)==1966092601 or GetUnitTypeId(EL8)==1966092600 or GetUnitTypeId(EL8)==1966092609 or GetUnitTypeId(EL8)==1966092610 or GetUnitTypeId(EL8)==1966092611 or GetUnitTypeId(EL8)==1966092629 or GetUnitTypeId(EL8)==1966092630 or GetUnitTypeId(EL8)==1966092631 then
set DM9=7
call TT7(GetHandleId(TCE),"Remaining",DM9)
endif
call TBE(TCE,DM9,HF8)
if GetUnitTypeId(TCE)==1966092599 or GetUnitTypeId(TCE)==1966092601 or GetUnitTypeId(TCE)==1966092600 or GetUnitTypeId(TCE)==1966092609 or GetUnitTypeId(TCE)==1966092610 or GetUnitTypeId(TCE)==1966092611 or GetUnitTypeId(TCE)==1966092629 or GetUnitTypeId(TCE)==1966092630 or GetUnitTypeId(TCE)==1966092631 then
call SetUnitState(TCE,UNIT_STATE_LIFE,GetUnitState(TCE,UNIT_STATE_LIFE)+31.25+18.75*HF8)
endif
endif
set t=null
set TCE=null
return false
endfunction
function T1E takes nothing returns boolean
if GetUnitTypeId(GetFilterUnit())==1966092596 or GetUnitTypeId(GetFilterUnit())==1966092597 or GetUnitTypeId(GetFilterUnit())==1966092598 or GetUnitTypeId(GetFilterUnit())==1966092612 or GetUnitTypeId(GetFilterUnit())==1966092613 or GetUnitTypeId(GetFilterUnit())==1966092614 or GetUnitTypeId(GetFilterUnit())==1966092626 or GetUnitTypeId(GetFilterUnit())==1966092627 or GetUnitTypeId(GetFilterUnit())==1966092628 or GetUnitTypeId(GetFilterUnit())==1966092599 or GetUnitTypeId(GetFilterUnit())==1966092601 or GetUnitTypeId(GetFilterUnit())==1966092600 or GetUnitTypeId(GetFilterUnit())==1966092609 or GetUnitTypeId(GetFilterUnit())==1966092610 or GetUnitTypeId(GetFilterUnit())==1966092611 or GetUnitTypeId(GetFilterUnit())==1966092629 or GetUnitTypeId(GetFilterUnit())==1966092630 or GetUnitTypeId(GetFilterUnit())==1966092631 then
call KillUnit(GetFilterUnit())
endif
return false
endfunction
function T0E takes nothing returns nothing
local group g=CA7()
local unit EL8=GetTriggerUnit()
local real x=GetUnitX(EL8)
local real y=GetUnitY(EL8)
local integer HF8=GetUnitAbilityLevel(EL8,1093750341)
local unit T5E
local unit T2E
local unit T_E
local trigger t
local integer OL7
local boolean WLD=false
call GroupEnumUnitsOfPlayer(g,GetOwningPlayer(EL8),Condition(function T1E))
call CZ7(g)
if HF8==0 then
set HF8=GetUnitAbilityLevel(EL8,1093814599)
set WLD=true
endif
if HF8==1 then
set T5E=CreateUnit(GetOwningPlayer(EL8),1966092596,x+75,y+75,GetUnitFacing(EL8))
set T2E=CreateUnit(GetOwningPlayer(EL8),1966092612,x-75,y-75,GetUnitFacing(EL8))
elseif HF8==2 then
set T5E=CreateUnit(GetOwningPlayer(EL8),1966092597,x+75,y+75,GetUnitFacing(EL8))
set T2E=CreateUnit(GetOwningPlayer(EL8),1966092613,x-75,y-75,GetUnitFacing(EL8))
elseif HF8==3 then
set T5E=CreateUnit(GetOwningPlayer(EL8),1966092598,x+75,y+75,GetUnitFacing(EL8))
set T2E=CreateUnit(GetOwningPlayer(EL8),1966092614,x-75,y-75,GetUnitFacing(EL8))
endif
call SelectUnitAddForPlayer(T5E,GetOwningPlayer(EL8))
call SelectUnitAddForPlayer(T2E,GetOwningPlayer(EL8))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",T5E,"origin"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",T2E,"origin"))
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterUnitEvent(t,T5E,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function TLE))
call TX7(OL7,"Source",T5E)
call TT7(OL7,"Level",HF8)
call TT7(OL7,"Counter",0)
call TT7(GetHandleId(T5E),"Remaining",7)
call TT7(GetHandleId(T5E),"Level",HF8)
call TBE(T5E,7,HF8)
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterUnitEvent(t,T2E,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function TLE))
call TX7(OL7,"Source",T2E)
call TT7(OL7,"Level",HF8)
call TT7(OL7,"Counter",0)
call TT7(GetHandleId(T2E),"Remaining",7)
call TT7(GetHandleId(T2E),"Level",HF8)
call TBE(T2E,7,HF8)
if WLD then
if HF8==1 then
set T_E=CreateUnit(GetOwningPlayer(EL8),1966092626,x+75,y,GetUnitFacing(EL8))
elseif HF8==2 then
set T_E=CreateUnit(GetOwningPlayer(EL8),1966092627,x+75,y,GetUnitFacing(EL8))
elseif HF8==3 then
set T_E=CreateUnit(GetOwningPlayer(EL8),1966092628,x+75,y,GetUnitFacing(EL8))
endif
call SelectUnitAddForPlayer(T_E,GetOwningPlayer(EL8))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",T_E,"origin"))
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterUnitEvent(t,T_E,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function TLE))
call TX7(OL7,"Source",T_E)
call TT7(OL7,"Level",HF8)
call TT7(OL7,"Counter",0)
call TT7(GetHandleId(T_E),"Remaining",7)
call TT7(GetHandleId(T_E),"Level",HF8)
call TBE(T_E,7,HF8)
endif
set g=null
set EL8=null
set T5E=null
set T2E=null
set T_E=null
endfunction
function U4E takes nothing returns boolean
if GetSpellAbilityId()==1093750341 or GetSpellAbilityId()==1093814599 then
call T0E()
elseif GetSpellAbilityId()==1093750338 or GetSpellAbilityId()==1093750339 or GetSpellAbilityId()==1093750340 or GetSpellAbilityId()==1093750348 or GetSpellAbilityId()==1093750349 or GetSpellAbilityId()==1093750350 or GetSpellAbilityId()==1093814618 or GetSpellAbilityId()==1093814832 or GetSpellAbilityId()==1093814833 then
call TAE()
endif
return false
endfunction
function QN8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function U4E))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function T6E))
set t=null
endfunction
function U7E takes unit EL8,integer U8E,integer U9E returns nothing
local string c1="|c0000cc00"
local string c="||"
local string p=" "
local string s=c1+"|||r"
local string UDE
local boolean UEE=false
local texttag tt=UF7(GetHandleId(EL8),"SoulAssumption|Text")
if U8E==0 then
set UDE=" "
elseif U9E==1 then
if U8E==0 then
set UDE=c+p+c+p+c
elseif U8E==1 then
set UDE=s+p+c+p+c
elseif U8E==2 then
set UDE=s+p+s+p+c
elseif U8E==3 then
set UDE=s+p+s+p+s
endif
elseif U9E==2 then
if U8E==0 then
set UDE=c+p+c+p+c+p+c
elseif U8E==1 then
set UDE=s+p+c+p+c+p+c
elseif U8E==2 then
set UDE=s+p+s+p+c+p+c
elseif U8E==3 then
set UDE=s+p+s+p+s+p+c
elseif U8E==4 then
set UDE=s+p+s+p+s+p+s
endif
elseif U9E==3 then
if U8E==0 then
set UDE=c+p+c+p+c+p+c+p+c
elseif U8E==1 then
set UDE=s+p+c+p+c+p+c+p+c
elseif U8E==2 then
set UDE=s+p+s+p+c+p+c+p+c
elseif U8E==3 then
set UDE=s+p+s+p+s+p+c+p+c
elseif U8E==4 then
set UDE=s+p+s+p+s+p+s+p+c
elseif U8E==5 then
set UDE=s+p+s+p+s+p+s+p+s
endif
elseif U9E==4 then
if U8E==0 then
set UDE=c+p+c+p+c+p+c+p+c+p+c
elseif U8E==1 then
set UDE=s+p+c+p+c+p+c+p+c+p+c
elseif U8E==2 then
set UDE=s+p+s+p+c+p+c+p+c+p+c
elseif U8E==3 then
set UDE=s+p+s+p+s+p+c+p+c+p+c
elseif U8E==4 then
set UDE=s+p+s+p+s+p+s+p+c+p+c
elseif U8E==5 then
set UDE=s+p+s+p+s+p+s+p+s+p+c
elseif U8E==6 then
set UDE=s+p+s+p+s+p+s+p+s+p+s
endif
endif
call SetTextTagText(tt,UDE,0.023)
if GetOwningPlayer(EL8)==GetLocalPlayer()then
set UEE=true
endif
if LR7(EL8)then
set UEE=false
endif
call SetTextTagPosUnit(tt,EL8,0)
call SetTextTagVisibility(tt,UEE)
call SetTextTagPermanent(tt,true)
endfunction
function UFE takes unit CR7,integer BK7 returns nothing
local integer UGE=GetUnitAbilityLevel(CR7,1093750337)
call U7E(CR7,BK7,UGE)
if BK7==0 or UX7(CR7,"SoulAssumptionState")==true then
call UnitRemoveAbility(CR7,1093750583)
call UnitRemoveAbility(CR7,1093750584)
call UnitRemoveAbility(CR7,1093750585)
call LP7(CR7,1093750577)
call UnitRemoveAbility(CR7,1093750578)
call UnitRemoveAbility(CR7,1093750362)
call UnitRemoveAbility(CR7,1093750329)
call UnitRemoveAbility(CR7,1093750361)
call UnitRemoveAbility(CR7,1093750576)
call UnitRemoveAbility(CR7,1093750579)
call UnitRemoveAbility(CR7,1093684306)
call UnitRemoveAbility(CR7,1093687632)
call UnitRemoveAbility(CR7,1093685063)
call UnitRemoveAbility(CR7,1093687631)
call UnitRemoveAbility(CR7,1093684806)
call UnitRemoveAbility(CR7,1093684548)
elseif BK7==1 then
call UnitRemoveAbility(CR7,1093750583)
call UnitRemoveAbility(CR7,1093750584)
call UnitRemoveAbility(CR7,1093750585)
call UnitRemoveAbility(CR7,1093750577)
call LP7(CR7,1093750578)
call UnitRemoveAbility(CR7,1093750362)
call UnitRemoveAbility(CR7,1093750329)
call UnitRemoveAbility(CR7,1093750361)
call UnitRemoveAbility(CR7,1093750576)
call UnitRemoveAbility(CR7,1093750579)
call LP7(CR7,1093684306)
call UnitRemoveAbility(CR7,1093687632)
call UnitRemoveAbility(CR7,1093685063)
call UnitRemoveAbility(CR7,1093687631)
call UnitRemoveAbility(CR7,1093684806)
call UnitRemoveAbility(CR7,1093684548)
elseif BK7==2 then
call UnitRemoveAbility(CR7,1093750583)
call UnitRemoveAbility(CR7,1093750584)
call UnitRemoveAbility(CR7,1093750585)
call UnitRemoveAbility(CR7,1093750577)
call UnitRemoveAbility(CR7,1093750578)
call LP7(CR7,1093750362)
call UnitRemoveAbility(CR7,1093750329)
call UnitRemoveAbility(CR7,1093750361)
call UnitRemoveAbility(CR7,1093750576)
call UnitRemoveAbility(CR7,1093750579)
call UnitRemoveAbility(CR7,1093684306)
call LP7(CR7,1093687632)
call UnitRemoveAbility(CR7,1093685063)
call UnitRemoveAbility(CR7,1093687631)
call UnitRemoveAbility(CR7,1093684806)
call UnitRemoveAbility(CR7,1093684548)
elseif BK7==3 then
call UnitRemoveAbility(CR7,1093750583)
call UnitRemoveAbility(CR7,1093750584)
call UnitRemoveAbility(CR7,1093750585)
call UnitRemoveAbility(CR7,1093684306)
call UnitRemoveAbility(CR7,1093687632)
call LP7(CR7,1093685063)
call UnitRemoveAbility(CR7,1093687631)
call UnitRemoveAbility(CR7,1093684806)
call UnitRemoveAbility(CR7,1093684548)
call UnitRemoveAbility(CR7,1093750577)
call UnitRemoveAbility(CR7,1093750578)
call UnitRemoveAbility(CR7,1093750362)
call UnitRemoveAbility(CR7,1093750329)
call UnitRemoveAbility(CR7,1093750361)
call UnitRemoveAbility(CR7,1093750576)
call UnitRemoveAbility(CR7,1093750579)
if UGE==1 then
call LP7(CR7,1093750583)
else
call LP7(CR7,1093750329)
endif
elseif BK7==4 then
call UnitRemoveAbility(CR7,1093750583)
call UnitRemoveAbility(CR7,1093750584)
call UnitRemoveAbility(CR7,1093750585)
call UnitRemoveAbility(CR7,1093684306)
call UnitRemoveAbility(CR7,1093687632)
call UnitRemoveAbility(CR7,1093685063)
call LP7(CR7,1093687631)
call UnitRemoveAbility(CR7,1093684806)
call UnitRemoveAbility(CR7,1093684548)
call UnitRemoveAbility(CR7,1093750577)
call UnitRemoveAbility(CR7,1093750578)
call UnitRemoveAbility(CR7,1093750362)
call UnitRemoveAbility(CR7,1093750329)
call UnitRemoveAbility(CR7,1093750361)
call UnitRemoveAbility(CR7,1093750576)
call UnitRemoveAbility(CR7,1093750579)
if UGE==2 then
call LP7(CR7,1093750584)
else
call LP7(CR7,1093750361)
endif
elseif BK7==5 then
call UnitRemoveAbility(CR7,1093750583)
call UnitRemoveAbility(CR7,1093750584)
call UnitRemoveAbility(CR7,1093750585)
call UnitRemoveAbility(CR7,1093750577)
call UnitRemoveAbility(CR7,1093750578)
call UnitRemoveAbility(CR7,1093750362)
call UnitRemoveAbility(CR7,1093750329)
call UnitRemoveAbility(CR7,1093750361)
call LP7(CR7,1093750576)
call UnitRemoveAbility(CR7,1093750579)
call UnitRemoveAbility(CR7,1093684306)
call UnitRemoveAbility(CR7,1093687632)
call UnitRemoveAbility(CR7,1093685063)
call UnitRemoveAbility(CR7,1093687631)
call LP7(CR7,1093684806)
call UnitRemoveAbility(CR7,1093684548)
call UnitRemoveAbility(CR7,1093750577)
call UnitRemoveAbility(CR7,1093750578)
call UnitRemoveAbility(CR7,1093750362)
call UnitRemoveAbility(CR7,1093750329)
call UnitRemoveAbility(CR7,1093750361)
call UnitRemoveAbility(CR7,1093750576)
call UnitRemoveAbility(CR7,1093750579)
if UGE==3 then
call LP7(CR7,1093750585)
else
call LP7(CR7,1093750576)
endif
elseif BK7==6 then
call UnitRemoveAbility(CR7,1093750583)
call UnitRemoveAbility(CR7,1093750584)
call UnitRemoveAbility(CR7,1093750585)
call UnitRemoveAbility(CR7,1093750577)
call UnitRemoveAbility(CR7,1093750578)
call UnitRemoveAbility(CR7,1093750362)
call UnitRemoveAbility(CR7,1093750329)
call UnitRemoveAbility(CR7,1093750361)
call UnitRemoveAbility(CR7,1093750576)
call LP7(CR7,1093750579)
call UnitRemoveAbility(CR7,1093684306)
call UnitRemoveAbility(CR7,1093687632)
call UnitRemoveAbility(CR7,1093685063)
call UnitRemoveAbility(CR7,1093687631)
call UnitRemoveAbility(CR7,1093684806)
call LP7(CR7,1093684548)
endif
if(GetUnitAbilityLevel(CR7,1093750337)+2)==BK7 then
call LP7(CR7,1093750346)
else
call UnitRemoveAbility(CR7,1093750346)
endif
endfunction
function UHE takes unit p5,real DV8 returns nothing
local integer BK7=0
local real UIE=110
if DV8>UIE*6 then
set BK7=6
elseif DV8>UIE*5 then
set BK7=5
elseif DV8>UIE*4 then
set BK7=4
elseif DV8>UIE*3 then
set BK7=3
elseif DV8>UIE*2 then
set BK7=2
elseif DV8>UIE*1 then
set BK7=1
endif
set BK7=DQ8(BK7,2+GetUnitAbilityLevel(p5,1093750337))
call TT7(GetHandleId(p5),"Level",BK7)
call UFE(p5,BK7)
endfunction
function UJE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local integer BK7=GetUnitAbilityLevel(p5,1093750337)
call U7E(p5,UQ7(GetHandleId(p5),"Level"),BK7)
call UHE(p5,UR7(GetHandleId(p5),"RecentDamage"))
set t=null
set p5=null
return false
endfunction
function UKE takes nothing returns nothing
local integer UL7=GetHandleId(GetTriggeringTrigger())
local unit p5=IN4
local unit m5=IP4
local real DV8=UR7(UL7,"Damage")
if IsUnitAlly(m5,GetOwningPlayer(p5))==false then
set f3=true
call HG8(p5,m5,ZG4,DV8)
set f3=false
else
call SetUnitState(m5,UNIT_STATE_LIFE,GetUnitState(m5,UNIT_STATE_LIFE)+DV8)
endif
set p5=null
set m5=null
endfunction
function UME takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
call UHE(p5,UR7(GetHandleId(p5),"RecentDamage"))
call TQ7(UL7)
call U37(t)
set t=null
set p5=null
return false
endfunction
function UNE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer BK7=UQ7(GetHandleId(p5),"Level")
local trigger t=EO8(p5,m5,1747993157,"UKE",1000)
local integer UL7=GetHandleId(t)
call TU7(UL7,"Damage",(20+BK7*65)*1.0)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AntiMagicShell\\AntiMagicShell.mdl",p5,"chest"))
call TU7(GetHandleId(p5),"RecentDamage",0*1.0)
call UHE(p5,0)
call U07(p5,"SoulAssumptionState",4)
set t=CreateTrigger()
set UL7=GetHandleId(t)
call TriggerAddCondition(t,Condition(function UME))
call TriggerRegisterTimerEvent(t,4,false)
call TX7(UL7,"Source",p5)
set p5=null
set m5=null
set t=null
endfunction
function UOE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local real DV8=UR7(UL7,"Damage")
if GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093750337)then
if GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT then
call TU7(GetHandleId(p5),"RecentDamage",(UR7(GetHandleId(p5),"RecentDamage")-DV8)*1.0)
endif
call UHE(p5,UR7(GetHandleId(p5),"RecentDamage"))
call TQ7(UL7)
call U37(t)
endif
set t=null
set p5=null
return false
endfunction
function UPE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local integer UL7=GetHandleId(p5)
local texttag tt=CreateTextTag()
local boolean UEE=false
local trigger t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function UJE))
call TX7(GetHandleId(t),"Source",p5)
if GetOwningPlayer(p5)==GetLocalPlayer()then
set UEE=true
endif
call SetTextTagText(tt," ",0.023)
call SetTextTagPosUnit(tt,p5,0)
call SetTextTagVisibility(tt,UEE)
call SetTextTagPermanent(tt,true)
set D3[GetPlayerId(GetOwningPlayer(p5))]=p5
call TU7(UL7,"RecentDamage",0*1.0)
call UHE(p5,0)
call T57(UL7,"SoulAssumption|Text",tt)
set p5=null
set t=null
set tt=null
endfunction
function UQE takes unit URE,unit USE returns nothing
local real DV8=GetEventDamage()
local integer BK7=GetUnitAbilityLevel(URE,1093750337)
local real UTE=UR7(GetHandleId(URE),"RecentDamage")
local trigger t
local integer UL7
if RH7(URE,USE)<1400 and f3==false then
if IG8(DV8)and GetEventDamage()>2 and GetEventDamageSource()!=GetTriggerUnit()and(Z07(GetOwningPlayer(GetEventDamageSource()))or GetUnitTypeId(GetEventDamageSource())==1848651852)then
set UTE=UTE+DV8
call TU7(GetHandleId(URE),"RecentDamage",UTE*1.0)
set t=CreateTrigger()
set UL7=GetHandleId(t)
call TX7(UL7,"Source",URE)
call TU7(UL7,"Damage",DV8*1.0)
call TriggerRegisterTimerEvent(t,6,false)
call TriggerRegisterUnitEvent(t,URE,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,URE,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function UOE))
call UHE(URE,UTE)
endif
endif
set t=null
endfunction
function UUE takes nothing returns nothing
local integer i=0
loop
exitwhen i>12
if D3[i]!=null then
call UQE(D3[i],GetTriggerUnit())
endif
set i=i+1
endloop
endfunction
function UVE takes nothing returns boolean
if GetLearnedSkill()==1093750337 and GetUnitAbilityLevel(GetTriggerUnit(),1093750337)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call UPE()
endif
return false
endfunction
function UWE takes nothing returns boolean
if GetSpellAbilityId()==1093750337 then
call UNE()
endif
return false
endfunction
function QP8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function UVE))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function UWE))
set t=null
call ZH8("UUE")
endfunction
function UXE takes nothing returns boolean
return GetSpellAbilityId()==1093678672
endfunction
function UYE takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(D8))and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1
endfunction
function UZE takes nothing returns nothing
local unit m5=GetEnumUnit()
local unit oA=CreateUnit(GetOwningPlayer(D8),1697656899,GetUnitX(m5),GetUnitY(m5),0)
call LP7(oA,1093683781)
call SetUnitAbilityLevel(oA,1093683781,E8)
call IssueTargetOrderById(oA,852075,m5)
call UnitApplyTimedLifeBJ(2.,1112820806,oA)
call UnitAddAbility(oA,1097625443)
set oA=null
set m5=null
endfunction
function UAE takes unit HE8,unit CR7 returns nothing
local group I68=CA7()
local boolexpr hP=Condition(function UYE)
set D8=CR7
call GroupEnumUnitsInRange(I68,GetUnitX(HE8),GetUnitY(HE8),675,hP)
call ForGroup(I68,function UZE)
call CZ7(I68)
call DestroyBoolExpr(hP)
set I68=null
set hP=null
endfunction
function UBE takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7
local unit oA=UE7(UL7,"Caster")
if GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST then
call KillUnit(oA)
call TQ7(UL7)
call U37(t)
elseif GetTriggerEvalCount(t)>22 then
call KillUnit(oA)
call TQ7(UL7)
call U37((t))
call RU7(UE7(UL7,"Hero"))
else
call SetUnitAnimation(oA,"birth")
set CR7=UE7(UL7,"Hero")
set E8=GetTriggerExecCount(t)*GetUnitAbilityLevel(CR7,1093678672)/2
call UAE(oA,CR7)
endif
set t=null
set oA=null
set CR7=null
endfunction
function UCE takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local location Mk=GetSpellTargetLoc()
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local real x=GetLocationX(Mk)
local real y=GetLocationY(Mk)
local unit oA=CreateUnit(GetOwningPlayer(CR7),1697657159,x,y,0)
call RemoveLocation(Mk)
call TriggerRegisterUnitEvent(t,CR7,EVENT_UNIT_SPELL_ENDCAST)
call TriggerRegisterTimerEvent(t,.5,true)
call TriggerAddAction(t,function UBE)
call TX7(UL7,"Hero",CR7)
call TX7(UL7,"Caster",oA)
set CR7=null
set Mk=null
set t=null
set oA=null
endfunction
function RH8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(t,function UCE)
call TriggerAddCondition(t,Condition(function UXE))
call DH8(1093683781)
set t=null
endfunction
function U3E takes nothing returns boolean
return GetSpellAbilityId()==1093683765
endfunction
function U6E takes nothing returns nothing
call LP7(GetEnumUnit(),1093685298)
endfunction
function ULE takes nothing returns nothing
call UnitRemoveAbility(GetEnumUnit(),1093685298)
endfunction
function U1E takes unit U0E,unit U5E returns nothing
if U0E!=null and U5E!=null then
call D68("CLPB",GetUnitX(U0E),GetUnitY(U0E),GetUnitX(U5E),GetUnitY(U5E),.7,.1,.9,1,.3)
endif
endfunction
function U2E takes nothing returns nothing
local unit CR7=UE7(GetHandleId(GetTriggeringTrigger()),"Hero")
local real DV8=0.2*GetEventDamage()
set DV8=DT8(DV8,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE))
if GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)>1 and GetEnumUnit()!=GetTriggerUnit()then
if GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)<DV8 then
call HG8(CR7,GetEnumUnit(),ZI4,DV8)
else
call E58(GetEnumUnit(),DV8)
endif
endif
set CR7=null
endfunction
function U_E takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local group I68=UJ7(UL7,"Group")
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
call ForGroup(I68,function ULE)
call TQ7(UL7)
call CZ7(I68)
call U37(t)
elseif GetEventDamage()>10 and GetEventDamage()<6000 then
call DisableTrigger(t)
call ForGroup(I68,function U2E)
call EnableTrigger(t)
endif
set t=null
set I68=null
endfunction
function V4E takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1
endfunction
function V7E takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local group I68=CA7()
local integer BK7=GetUnitAbilityLevel(CR7,1093683765)
local boolexpr hP=Condition(function V4E)
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local integer i=2
local group V8E=CA7()
local unit array V9E
local string VDE="Abilities\\Spells\\Undead\\Curse\\CurseTarget.mdl"
call TX7(UL7,"Hero",CR7)
call U1E(CR7,m5)
call DB8(VDE,m5,"overhead",25)
set V9E[1]=m5
call TX7(UL7,"Unit1",V9E[1])
call TriggerRegisterUnitEvent(t,V9E[1],EVENT_UNIT_DAMAGED)
call GroupEnumUnitsInRange(I68,GetUnitX(m5),GetUnitY(m5),600,hP)
call GroupRemoveUnit(I68,m5)
call GroupAddUnit(V8E,m5)
call TL7(UL7,"Group",V8E)
loop
exitwhen i>(2+BK7)or FirstOfGroup(I68)==null
set V9E[i]=FirstOfGroup(I68)
call U1E(V9E[i-1],V9E[i])
call TriggerRegisterUnitEvent(t,V9E[i],EVENT_UNIT_DAMAGED)
call GroupAddUnit(V8E,V9E[i])
call GroupRemoveUnit(I68,V9E[i])
call DB8(VDE,V9E[i],"overhead",25)
set i=i+1
endloop
call TT7(UL7,"FXCount",i-1)
set E8=GetUnitAbilityLevel(CR7,1093683765)
call ForGroup(V8E,function U6E)
call TriggerRegisterTimerEvent(t,25,false)
call TriggerAddAction(t,function U_E)
call DestroyBoolExpr(hP)
set CR7=null
set m5=null
call CZ7(I68)
set I68=null
set hP=null
set t=null
set V8E=null
endfunction
function RI8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function U3E))
call TriggerAddAction(t,function V7E)
call DH8(1093683769)
set t=null
endfunction
function VEE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local unit m5=UE7(UL7,"Target")
local integer HF8=GetUnitAbilityLevel(p5,1093681491)
if GetTriggerEvalCount(t)>9 or GetTriggerEventId()==EVENT_UNIT_DEATH then
call DestroyEffect(UK7(UL7,"FX"))
call UnitRemoveAbility(m5,1093744459)
call UnitRemoveAbility(m5,1110458704)
call TQ7(UL7)
call U37(t)
else
call HG8(p5,m5,ZG4,HF8*10+5)
endif
set p5=null
set m5=null
set t=null
return false
endfunction
function VFE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local unit m5=UE7(UL7,"Target")
local integer BK7=GetUnitAbilityLevel(p5,1093681491)
if GetTriggerEvalCount(t)>9 or GetTriggerEventId()==EVENT_UNIT_DEATH then
call DestroyEffect(UK7(UL7,"FX"))
call UnitRemoveAbility(m5,1093685296)
call UnitRemoveAbility(m5,1110456115)
call TQ7(UL7)
call U37(t)
else
call DZ8(m5,BK7*10+5)
endif
set p5=null
set m5=null
set t=null
return false
endfunction
function VGE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TX7(UL7,"Target",m5)
call TX7(UL7,"Source",p5)
if IsUnitAlly(m5,GetOwningPlayer(p5))then
call TriggerAddCondition(t,Condition(function VFE))
call TY7(UL7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Items\\StaffOfSanctuary\\Staff_Sanctuary_Target.mdl",m5,"chest"))
call LP7(m5,1093685296)
elseif CY7(GetSpellTargetUnit())==false then
call TriggerAddCondition(t,Condition(function VEE))
call TY7(UL7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Orc\\Voodoo\\VoodooAuraTarget.mdl",m5,"overhead"))
call LP7(m5,1093744459)
endif
set p5=null
set m5=null
set t=null
endfunction
function VHE takes nothing returns boolean
if GetSpellAbilityId()==1093681491 then
call VGE()
endif
return false
endfunction
function RJ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function VHE))
call DH8(1093685296)
call DH8(1093744459)
set t=null
endfunction
function VIE takes nothing returns nothing
call HG8(WL4,GetEnumUnit(),ZG4,20+10*W14)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Immolation\\ImmolationDamage.mdl",GetEnumUnit(),"head"))
endfunction
function VJE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local integer HF8
local integer BG7=GetUnitTypeId(EL8)
local group g
if BG7==1848651861 or BG7==1848658773 then
set HF8=1
elseif BG7==1848651865 or BG7==1848658774 then
set HF8=2
elseif BG7==1848651866 or BG7==1848658775 then
set HF8=3
endif
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call FlushChildHashtable(L7,(OL7))
call U37(t)
else
set IN4=EL8
set WL4=EL8
set W14=HF8
set g=CA7()
call GroupEnumUnitsInRange(g,GetUnitX(EL8),GetUnitY(EL8),275,Condition(function FW8))
call ForGroup(g,function VIE)
call CZ7(g)
set g=null
endif
set t=null
set EL8=null
return false
endfunction
function VKE takes unit u returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function VJE))
call SaveUnitHandle(L7,(OL7),(2),(u))
set t=null
endfunction
function VME takes nothing returns boolean
local integer BG7=GetUnitTypeId(GetTriggerUnit())
if BG7==1848651861 or BG7==1848658773 or BG7==1848651865 or BG7==1848658774 or BG7==1848651866 or BG7==1848658775 then
call VKE(GetTriggerUnit())
endif
return false
endfunction
function VNE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local real x=(LoadReal(L7,(OL7),(6)))
local real y=(LoadReal(L7,(OL7),(7)))
local real VOE=(LoadReal(L7,(OL7),(191)))
local real VPE=(LoadReal(L7,(OL7),(192)))
local integer HF8=GetUnitAbilityLevel(EL8,1395667029)
local unit HE8=CreateUnit(GetOwningPlayer(EL8),1697656901,VOE,VPE,0)
call LP7(HE8,1395667029)
call SetUnitAbilityLevel(HE8,1395667029,HF8)
call IssuePointOrderById(HE8,852224,x,y)
call FlushChildHashtable(L7,(OL7))
call U37(t)
set EL8=null
set HE8=null
set t=null
return false
endfunction
function VQE takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.3,false)
call TriggerAddCondition(t,Condition(function VNE))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveReal(L7,(OL7),(6),((GetSpellTargetX())*1.0))
call SaveReal(L7,(OL7),(7),((GetSpellTargetY())*1.0))
call SaveReal(L7,(OL7),(191),((GetUnitX(EL8))*1.0))
call SaveReal(L7,(OL7),(192),((GetUnitY(EL8))*1.0))
set EL8=null
set t=null
endfunction
function VRE takes nothing returns boolean
if GetSpellAbilityId()==1395667029 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true then
call VQE()
endif
return false
endfunction
function RK8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function VRE))
set t=CreateTrigger()
call TriggerRegisterEnterRectSimple(t,GetEntireMapRect())
call TriggerAddCondition(t,Condition(function VME))
set t=null
endfunction
function VSE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
if GetUnitAbilityLevel(CR7,1112041075)==0 then
call UnitRemoveAbility(CR7,1093681977)
call TQ7(UL7)
call U37(t)
endif
set t=null
set CR7=null
return false
endfunction
function VTE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=GetTriggerUnit()
call LP7(CR7,1093681977)
call SetUnitAbilityLevel(CR7,1093681977,GetUnitAbilityLevel(CR7,1093681985))
call TX7(UL7,"Hero",CR7)
call TriggerRegisterTimerEvent(t,.2,true)
call TriggerAddCondition(t,Condition(function VSE))
set CR7=null
set t=null
endfunction
function VUE takes nothing returns boolean
if GetSpellAbilityId()==1093681985 then
call VTE()
endif
return false
endfunction
function QR8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function VUE))
set t=null
endfunction
function VVE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
call SetUnitState(UE7(UL7,"Unit"),UNIT_STATE_MANA,UR7(UL7,"Mana"))
call TQ7(UL7)
call U37(t)
set t=null
return false
endfunction
function VWE takes unit u,real VXE returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function VVE))
call TX7(UL7,"Unit",u)
call TU7(UL7,"Mana",VXE)
set t=null
endfunction
function VYE takes nothing returns boolean
return GetSpellAbilityId()==1093682004
endfunction
function VZE takes nothing returns nothing
local integer UL7=GetHandleId(GetTriggerUnit())
local real Wx=DU8(UR7(UL7,"TLLife1"),1)
local real Tw=DU8(UR7(UL7,"TLMana1"),1)
local real x=UR7(UL7,"TLX1")
local real y=UR7(UL7,"TLY1")
local unit CR7=GetTriggerUnit()
if UR7(UL7,"TLLife1")>1 and GetUnitState(CR7,UNIT_STATE_LIFE)>1 then
call AddSpecialEffect("Abilities\\Spells\\NightElf\\Blink\\BlinkTarget.mdl",GetUnitX(CR7),GetUnitY(CR7))
call SetUnitX(CR7,x)
call SetUnitY(CR7,y)
call SetUnitState(CR7,UNIT_STATE_LIFE,Wx)
call SetUnitState(CR7,UNIT_STATE_MANA,Tw)
call UnitRemoveBuffs(CR7,false,true)
call E49(CR7)
call VWE(CR7,Tw)
endif
set CR7=null
endfunction
function QS8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function VYE))
call TriggerAddAction(t,function VZE)
set t=null
endfunction
function VAE takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local unit CR7=UE7(GetHandleId(t),"UnitVar")
local integer UL7=GetHandleId(CR7)
local integer T8=1
local integer U8=10
loop
exitwhen T8>U8
call TU7(UL7,"TLX"+I2S(T8-1),UR7(UL7,"TLX"+I2S(T8)))
call TU7(UL7,"TLY"+I2S(T8-1),UR7(UL7,"TLY"+I2S(T8)))
call TU7(UL7,"TLLife"+I2S(T8-1),UR7(UL7,"TLLife"+I2S(T8)))
call TU7(UL7,"TLMana"+I2S(T8-1),UR7(UL7,"TLMana"+I2S(T8)))
set T8=T8+1
endloop
call TU7(UL7,"TLX10",GetUnitX(CR7))
call TU7(UL7,"TLY10",GetUnitY(CR7))
call TU7(UL7,"TLLife10",GetUnitState(CR7,UNIT_STATE_LIFE))
call TU7(UL7,"TLMana10",GetUnitState(CR7,UNIT_STATE_MANA))
set t=null
set CR7=null
endfunction
function VBE takes nothing returns nothing
local unit YO9=IN4
local trigger t
set t=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(t,.5)
call TriggerAddAction(t,function VAE)
call TX7(GetHandleId(t),"UnitVar",YO9)
set t=null
endfunction
function QT8 takes nothing returns nothing
endfunction
function VCE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer CF7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(CF7),(2)))
local unit O_7=(LoadUnitHandle(L7,(CF7),(17)))
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call UnitRemoveAbility(O_7,1093751130)
call SaveInteger(L7,(GetHandleId((O_7))),((4290)),(2))
call FlushChildHashtable(L7,(CF7))
call U37(t)
if GetTriggerUnit()==O_7 then
call KillUnit(EL8)
endif
elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==EL8 then
call SetUnitAbilityLevel(O_7,1093751130,GetUnitAbilityLevel(O_7,1093751130)+1)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\SkeletalMageMissile\\SkeletalMageMissile.mdl",O_7,"chest"))
endif
else
call SetUnitX(EL8,GetUnitX(O_7)-40)
call SetUnitY(EL8,GetUnitY(O_7)-40)
if FX8(O_7)and IsUnitVisible(O_7,GetOwningPlayer(EL8))==false then
call KillUnit(EL8)
elseif ModuloInteger(GetTriggerEvalCount(t),5)==0 then
call IssueTargetOrder(EL8,"attack",O_7)
endif
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function V3E takes unit V6E,unit O_7,integer HF8 returns nothing
local trigger t=CreateTrigger()
local integer CF7=GetHandleId(t)
call UnitRemoveAbility(V6E,1098282348)
call SaveUnitHandle(L7,(CF7),(2),(V6E))
call SaveUnitHandle(L7,(CF7),(17),(O_7))
call LP7(O_7,1093751130)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerRegisterUnitEvent(t,V6E,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function VCE))
call TriggerEvaluate(t)
call UnitApplyTimedLife(V6E,1112820806,4+4*HF8)
set t=null
endfunction
function VLE takes nothing returns boolean
return(IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit())))and((LoadInteger(L7,(GetHandleId((GetFilterUnit()))),((4290))))==1)==false and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))==true or FX8(GetFilterUnit())==false)
endfunction
function V1E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local group g
local integer i=1
local unit FFD=(LoadUnitHandle(L7,(OL7),(2)))
local real x=(LoadReal(L7,(OL7),(6)))
local real y=(LoadReal(L7,(OL7),(7)))
local real a=(LoadReal(L7,(OL7),(137)))
local unit V0E
local unit F7D
local real EDE=(LoadReal(L7,(OL7),(47)))
local real EEE=(LoadReal(L7,(OL7),(48)))
set x=DD8(x+18*Cos(a))
set y=DE8(y+18*Sin(a))
call SaveReal(L7,(OL7),(6),((x)*1.0))
call SaveReal(L7,(OL7),(7),((y)*1.0))
if GetTriggerEvalCount(t)>166 then
loop
exitwhen i>12
if(LoadBoolean(L7,(OL7),(511+i-1)))==false then
call KillUnit((LoadUnitHandle(L7,(OL7),(393+i-1))))
endif
set i=i+1
endloop
call FlushChildHashtable(L7,(OL7))
call U37(t)
else
set g=CA7()
set IN4=FFD
call GroupEnumUnitsInRange(g,x,y,400,Condition(function VLE))
loop
exitwhen i>12
if(LoadBoolean(L7,(OL7),(511+i-1)))==false then
set V0E=(LoadUnitHandle(L7,(OL7),(393+i-1)))
set x=(LoadReal(L7,(OL7),(549+i-1)))
set y=(LoadReal(L7,(OL7),(567+i-1)))
set x=DD8(x+18*Cos(a))
set y=DE8(y+18*Sin(a))
call SaveReal(L7,(OL7),(549+i-1),((x)*1.0))
call SaveReal(L7,(OL7),(567+i-1),((y)*1.0))
call SetUnitX(V0E,x)
call SetUnitY(V0E,y)
set F7D=FirstOfGroup(g)
if F7D!=null then
call GroupRemoveUnit(g,F7D)
call SaveInteger(L7,(GetHandleId((F7D))),((4290)),(1))
call SaveBoolean(L7,(OL7),(511+i-1),(true))
call V3E(V0E,F7D,GetUnitAbilityLevel(FFD,1093751127))
endif
endif
set i=i+1
endloop
call CZ7(g)
set g=null
set V0E=null
set F7D=null
endif
set t=null
set FFD=null
return false
endfunction
function V5E takes nothing returns nothing
local location l=GetSpellTargetLoc()
local real V2E=GetLocationX(l)
local real V_E=GetLocationY(l)
local unit FFD=GetTriggerUnit()
local real x=GetUnitX(FFD)
local real y=GetUnitY(FFD)
local real a=PS7(x,y,V2E,V_E)*bj_DEGTORAD
local unit N3D
local real EIE=DD8(x+3000*Cos(a))
local real EJE=DE8(y+3000*Sin(a))
local integer i=1
local trigger t=CreateTrigger()
local integer CF7=GetHandleId(t)
local real OCD
local integer RS7=GetUnitAbilityLevel(FFD,1093751127)
local integer W4E
call RemoveLocation(l)
if RS7==1 then
set W4E=1966092619
elseif RS7==2 then
set W4E=1966092616
elseif RS7==3 then
set W4E=1966092618
elseif RS7==4 then
set W4E=1966092620
endif
loop
exitwhen i>12
set N3D=CreateUnit(GetOwningPlayer(FFD),W4E,x+GetRandomInt(-300,300),y+GetRandomInt(-300,300),a*bj_RADTODEG)
call SaveUnitHandle(L7,(CF7),(393+i-1),(N3D))
call SaveBoolean(L7,(CF7),(511+i-1),(false))
call SaveReal(L7,(CF7),(549+i-1),((GetUnitX(N3D))*1.0))
call SaveReal(L7,(CF7),(567+i-1),((GetUnitY(N3D))*1.0))
set i=i+1
endloop
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerAddCondition(t,Condition(function V1E))
call SaveUnitHandle(L7,(CF7),(2),(FFD))
call SaveReal(L7,(CF7),(6),((x)*1.0))
call SaveReal(L7,(CF7),(7),((y)*1.0))
call SaveReal(L7,(CF7),(137),((a)*1.0))
call SaveReal(L7,(CF7),(47),((EIE)*1.0))
call SaveReal(L7,(CF7),(48),((EJE)*1.0))
set FFD=null
set N3D=null
set l=null
set t=null
endfunction
function W7E takes nothing returns boolean
if GetSpellAbilityId()==1093751127 then
call V5E()
endif
return false
endfunction
function QU8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function W7E))
call LX7(1966092619)
call LX7(1966092616)
call LX7(1966092618)
call LX7(1966092620)
call DH8(1093751130)
set t=null
endfunction
function W8E takes unit p5,unit NY,unit W9E,integer BK7,boolean WDE returns real
local unit oA=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(NY),GetUnitY(NY),0)
if WDE then
call LP7(oA,1093687129)
else
call LP7(oA,1093684812)
endif
call IssueTargetOrderById(oA,852095,W9E)
if IsUnitType(W9E,UNIT_TYPE_HERO)==false then
call HM8(p5,W9E,1,50+25*BK7,0.4)
else
call HM8(p5,W9E,1,50,0.4)
endif
if WDE then
return((GetUnitX(W9E)-GetUnitX(NY))*(GetUnitX(W9E)-GetUnitX(NY))+(GetUnitY(W9E)-GetUnitY(NY))*(GetUnitY(W9E)-GetUnitY(NY)))/1000000
endif
set oA=null
return((GetUnitX(W9E)-GetUnitX(NY))*(GetUnitX(W9E)-GetUnitX(NY))+(GetUnitY(W9E)-GetUnitY(NY))*(GetUnitY(W9E)-GetUnitY(NY)))/360000
endfunction
function WEE takes unit p5,unit NY returns unit
local group g=CA7()
set IN4=p5
call GroupEnumUnitsInRange(g,GetUnitX(NY),GetUnitY(NY),600,Condition(function G78))
call GroupRemoveUnit(g,NY)
set IN4=GroupPickRandomUnit(g)
call CZ7(g)
set g=null
return IN4
endfunction
function WFE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local integer BK7=UQ7(UL7,"Level")
local unit NY=UE7(UL7,"Old")
local integer iX=UQ7(UL7,"Count")
local unit W9E
local real Hk
call TQ7(UL7)
call U37(t)
if iX<(BK7*2+1)then
set W9E=WEE(p5,NY)
if W9E!=null then
set Hk=W8E(p5,NY,W9E,BK7,false)
set t=CreateTrigger()
set UL7=GetHandleId(t)
call TX7(UL7,"Source",p5)
call TT7(UL7,"Level",BK7)
call TX7(UL7,"Old",W9E)
call TT7(UL7,"Count",iX+1)
call TriggerRegisterTimerEvent(t,Hk+.4,false)
call TriggerAddCondition(t,Condition(function WFE))
endif
endif
set t=null
set p5=null
set NY=null
set W9E=null
return false
endfunction
function WGE takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local unit WHE=GetSpellTargetUnit()
local integer BK7=GetUnitAbilityLevel(CR7,1093684813)
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local real Hk=W8E(CR7,CR7,WHE,BK7,true)
call TX7(UL7,"Source",CR7)
call TT7(UL7,"Level",BK7)
call TX7(UL7,"Old",WHE)
call TT7(UL7,"Count",1)
call TriggerRegisterTimerEvent(t,Hk,false)
call TriggerAddCondition(t,Condition(function WFE))
set CR7=null
set WHE=null
set t=null
endfunction
function WIE takes nothing returns boolean
if GetSpellAbilityId()==1093684813 and CY7(GetSpellTargetUnit())==false then
call WGE()
endif
return false
endfunction
function QL8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function WIE))
set t=null
endfunction
function WJE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
local integer BK7=GetUnitAbilityLevel(CR7,1093684805)
call UnitRemoveAbility(CR7,1093684805)
call LP7(CR7,1093684805)
call SetUnitAbilityLevel(CR7,1093684805,BK7)
call TQ7(UL7)
call U37(t)
set t=null
set CR7=null
return false
endfunction
function WKE takes unit m5,integer BK7 returns nothing
local real WME=(8+BK7*8)/ 3
call SetUnitState(m5,UNIT_STATE_LIFE,GetUnitState(m5,UNIT_STATE_LIFE)+WME)
endfunction
function WNE takes nothing returns boolean
if ji()then
call WKE(GetFilterUnit(),IH4)
endif
return false
endfunction
function WOE takes unit CR7 returns nothing
local integer BK7=GetUnitAbilityLevel(CR7,1093684805)
local group g=CA7()
set IN4=CR7
set IH4=BK7
call GroupEnumUnitsInRange(g,GetUnitX(CR7),GetUnitY(CR7),375,Condition(function WNE))
call CZ7(g)
set g=null
endfunction
function WPE takes unit CR7 returns nothing
local integer HF8=GetUnitAbilityLevel(CR7,1093684805)
local real WQE=2+6*HF8
call SetUnitState(CR7,UNIT_STATE_MANA,GetUnitState(CR7,UNIT_STATE_MANA)-(WQE/3))
if GetUnitState(CR7,UNIT_STATE_MANA)<WQE then
if UX7(CR7,"DeathWardOn")==false then
call IssueImmediateOrder(CR7,"unimmolation")
endif
endif
endfunction
function WRE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
if GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER then
if GetIssuedOrderId()==852178 then
call TQ7(UL7)
call U37(t)
set t=CreateTrigger()
set UL7=GetHandleId(t)
call TX7(UL7,"Hero",CR7)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function WJE))
endif
else
call WOE(CR7)
call WPE(CR7)
endif
set t=null
set CR7=null
return false
endfunction
function WSE takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call TX7(UL7,"Hero",CR7)
call TriggerRegisterTimerEvent(t,0.33,true)
call TriggerRegisterUnitEvent(t,CR7,EVENT_UNIT_ISSUED_ORDER)
call TriggerAddCondition(t,Condition(function WRE))
set CR7=null
set t=null
endfunction
function WTE takes nothing returns boolean
if GetSpellAbilityId()==1093684805 then
call WSE()
endif
return false
endfunction
function Q08 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function WTE))
set t=null
endfunction
function WUE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local unit m5=UE7(UL7,"Target")
local integer BK7=GetUnitAbilityLevel(p5,1093684815)
local integer iX=GetTriggerEvalCount(t)
local real WVE=UR7(UL7,"StartingHP")
local real WWE=0
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call DestroyEffect(UK7(UL7,"FX"))
call TQ7(UL7)
call U37(t)
else
if iX==4 or iX==8 or iX==12 then
call DestroyEffect(UK7(UL7,"FX"))
if iX==12 then
call TQ7(UL7)
call U37(t)
elseif iX==4 or iX==8 then
call TY7(UL7,"FX",AddSpecialEffectTarget("effects\\NetherInferno.mdx",m5,"origin"))
endif
set WWE=(0.08+BK7*0.08)*DU8(WVE-GetUnitState(m5,UNIT_STATE_LIFE),0)
if WWE>0 then
call DL8("+"+I2S(R2I(WWE)),2,m5,0.023,68,0,187,216)
endif
endif
call HG8(p5,m5,ZG4,5*BK7+WWE)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function WXE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local unit m5=GetEnumUnit()
call DestroyEffect(AddSpecialEffectTarget("effects\\NetherInferno.mdx",m5,"origin"))
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function WUE))
call TX7(UL7,"Target",m5)
call TX7(UL7,"Source",p5)
call TU7(UL7,"StartingHP",GetUnitState(m5,UNIT_STATE_LIFE))
call TY7(UL7,"FX",AddSpecialEffectTarget("effects\\NetherInferno.mdx",m5,"origin"))
set t=null
set p5=null
set m5=null
endfunction
function WYE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local group g=CA7()
local integer BK7=GetUnitAbilityLevel(p5,1093684815)
call GroupEnumUnitsInRange(g,x,y,175,Condition(function GM8))
call ForGroup(g,function WXE)
call CZ7(g)
call RemoveLocation(l)
set l=null
set g=null
set p5=null
endfunction
function WZE takes nothing returns boolean
if GetSpellAbilityId()==1093684815 then
call WYE()
endif
return false
endfunction
function Q18 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function WZE))
set t=null
endfunction
function WAE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
call TQ7(UL7)
call U37(t)
if GetTriggerEventId()!=EVENT_UNIT_SPELL_ENDCAST then
call RU7(p5)
endif
set p5=null
set t=null
return false
endfunction
function WBE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call TX7(UL7,"Source",p5)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_ENDCAST)
call TriggerRegisterTimerEvent(t,10,false)
call TriggerAddCondition(t,Condition(function WAE))
set t=null
set p5=null
endfunction
function WCE takes nothing returns boolean
if GetSpellAbilityId()==1093684820 or GetSpellAbilityId()==1093684824 then
call WBE()
endif
return false
endfunction
function W3E takes nothing returns boolean
if GetUnitTypeId(GetSummonedUnit())==1865429040 or GetUnitTypeId(GetSummonedUnit())==1865429041 or GetUnitTypeId(GetSummonedUnit())==1865429057 or GetUnitTypeId(GetSummonedUnit())==1865429080 then
call U07(GetSummoningUnit(),"DeathWardOn",8)
endif
return false
endfunction
function Q58 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function W3E))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function WCE))
set t=null
endfunction
function W6E takes nothing returns boolean
local integer id=0
local unit m5
local real H38=(TimerGetElapsed(W))
local real mp
local real hp
loop
exitwhen id>12
set m5=M7[id]
if m5!=null and GetUnitAbilityLevel(m5,1110459204)==0 and SW4[id]>H38 then
set SW4[id]=0
endif
if m5!=null and GetUnitAbilityLevel(m5,1110459204)>0 then
if SW4[id]>H38 and LR7(m5)==false then
set hp=GetUnitState(m5,UNIT_STATE_LIFE)
set mp=GetUnitState(m5,UNIT_STATE_MANA)
if hp<SX4[id]then
set SX4[id]=hp
else
endif
if mp<SY4[id]then
set SY4[id]=mp
else
endif
call SetUnitState(m5,UNIT_STATE_LIFE,SX4[id])
set SA4[id]=SA4[id]+1
if SA4[id]==10 then
set SA4[id]=0
if SB4[id]==1 then
call HG8(SZ4[id],m5,ZG4,12.5)
elseif SB4[id]==2 then
call HG8(SZ4[id],m5,ZG4,20)
elseif SB4[id]==3 then
call HG8(SZ4[id],m5,ZG4,32)
endif
endif
elseif SW4[id]>H38 and LR7(m5)==true then
set SW4[id]=0
set SX4[id]=9999
set SY4[id]=9999
endif
if GetUnitAbilityLevel(m5,1110459204)>0 and SW4[id]<H38 then
call UnitRemoveAbility(m5,1093749313)
call UnitRemoveAbility(m5,1110459204)
call UnitRemoveAbility(m5,1093749828)
endif
endif
set id=id+1
endloop
set m5=null
return false
endfunction
function WLE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit O_7=UE7(UL7,"Target")
local integer BK7=UQ7(UL7,"Level")
local unit HE8
if GetUnitAbilityLevel(O_7,1110459204)==0 then
call TQ7(UL7)
call U37(t)
elseif GetOwningPlayer(O_7)!=GetOwningPlayer(GetEventDamageSource())and GetUnitState(O_7,UNIT_STATE_MAX_LIFE)*(0.09+0.01*BK7)>GetUnitState(O_7,UNIT_STATE_LIFE)and UX7(O_7,"ShallowGrave|Active")==false then
call TQ7(UL7)
call U37(t)
call UnitRemoveAbility(O_7,1093749313)
call UnitRemoveAbility(O_7,1110459204)
call UnitRemoveAbility(O_7,1093749828)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",O_7,"overhead"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",O_7,"chest"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",O_7,"origin"))
set HE8=CreateUnit(GetOwningPlayer(GetEventDamageSource()),1697656901,0,0,0)
call UnitRemoveBuffs(O_7,true,true)
call UnitRemoveAbility(O_7,1097167980)
call UnitDamageTarget(HE8,O_7,100000000.00,true,false,ATTACK_TYPE_MELEE,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
set HE8=null
endif
set t=null
set O_7=null
return false
endfunction
function W1E takes unit p5,unit m5 returns nothing
local integer BK7=GetUnitAbilityLevel(p5,1093750089)
local integer id=GetPlayerId(GetOwningPlayer(m5))
local trigger t
local integer UL7
if BK7>0 and IsUnitType(m5,UNIT_TYPE_HERO)==true and IsUnitIllusion(m5)==false and J98(GetUnitTypeId(m5))==false then
set t=CreateTrigger()
set UL7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function WLE))
call TX7(UL7,"Target",m5)
call TT7(UL7,"Level",BK7)
call LP7(m5,1093749313)
call LP7(m5,1093749828)
set SW4[id]=(TimerGetElapsed(W))+7+BK7
set SX4[id]=GetUnitState(m5,UNIT_STATE_LIFE)
set SY4[id]=GetUnitState(m5,UNIT_STATE_MANA)
set SZ4[id]=p5
set SB4[id]=BK7
endif
set t=null
endfunction
function TL8 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer id=0
local integer i=0
local player p
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function W6E))
loop
exitwhen id>12
set SX4[id]=9999
set SY4[id]=9999
set id=id+1
endloop
loop
exitwhen i>5
set p=Z7[i]
call SetPlayerAbilityAvailable(p,1093749828,false)
set p=A7[i]
call SetPlayerAbilityAvailable(p,1093749828,false)
set i=i+1
endloop
set t=null
set p=null
endfunction
function W0E takes nothing returns nothing
if D69(GetEnumUnit())then
return
endif
if GetUnitAbilityLevel(GetEnumUnit(),1093748826)>0 then
call UnitRemoveAbility(GetEnumUnit(),1093748826)
call UnitRemoveAbility(GetEnumUnit(),1110459189)
endif
if GetUnitAbilityLevel(GetEnumUnit(),1093749044)>0 then
call UnitRemoveAbility(GetEnumUnit(),1093749044)
call UnitRemoveAbility(GetEnumUnit(),1110459189)
endif
if GetUnitAbilityLevel(GetEnumUnit(),1093749043)>0 then
call UnitRemoveAbility(GetEnumUnit(),1093749043)
call UnitRemoveAbility(GetEnumUnit(),1110459189)
endif
if GetUnitAbilityLevel(GetEnumUnit(),1093749046)>0 then
call UnitRemoveAbility(GetEnumUnit(),1093749046)
call UnitRemoveAbility(GetEnumUnit(),1110459189)
endif
endfunction
function W5E takes nothing returns nothing
if D69(GetEnumUnit())then
return
endif
if CO7(GetEnumUnit())==false then
if a3==1 then
if GetUnitAbilityLevel(GetEnumUnit(),1093748826)==0 then
call UnitRemoveAbility(GetEnumUnit(),1110459189)
call LP7(GetEnumUnit(),1093748826)
endif
elseif a3==2 then
if GetUnitAbilityLevel(GetEnumUnit(),1093749044)==0 then
call UnitRemoveAbility(GetEnumUnit(),1110459189)
call LP7(GetEnumUnit(),1093749044)
endif
elseif a3==3 then
if GetUnitAbilityLevel(GetEnumUnit(),1093749043)==0 then
call UnitRemoveAbility(GetEnumUnit(),1110459189)
call LP7(GetEnumUnit(),1093749043)
endif
elseif a3==4 then
if GetUnitAbilityLevel(GetEnumUnit(),1093749046)==0 then
call UnitRemoveAbility(GetEnumUnit(),1110459189)
call LP7(GetEnumUnit(),1093749046)
endif
endif
endif
endfunction
function W2E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local unit HE8=UE7(UL7,"Caster")
local group W_E=UJ7(UL7,"ActiveGroup")
local real x=GetUnitX(HE8)
local real y=GetUnitY(HE8)
local group g=CA7()
local group g2
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call ForGroup(W_E,function W0E)
call CZ7(g)
call CZ7(W_E)
call TQ7(UL7)
call U37(t)
call ShowUnit(HE8,false)
set t=null
set p5=null
set HE8=null
set W_E=null
return false
endif
set n3=p5
set a3=GetUnitAbilityLevel(p5,1093748819)
set IN4=p5
call GroupEnumUnitsInRange(g,x,y,300,Condition(function FW8))
call GroupRemoveGroup(g,W_E)
call ForGroup(W_E,function W0E)
call ForGroup(g,function W5E)
call TL7(UL7,"ActiveGroup",g)
call CZ7(W_E)
set t=null
set p5=null
set HE8=null
set W_E=null
set g=null
return false
endfunction
function X4E takes nothing returns nothing
local unit p5=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local integer BK7=GetUnitAbilityLevel(p5,1093748819)
local unit HE8=CreateUnit(GetOwningPlayer(p5),1848658001,x,y,0)
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call UnitApplyTimedLife(HE8,1112820806,12)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterUnitEvent(t,HE8,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function W2E))
call TX7(UL7,"Source",p5)
call TX7(UL7,"Caster",HE8)
call TL7(UL7,"ActiveGroup",CA7())
set p5=null
call RemoveLocation(l)
set l=null
set HE8=null
set t=null
endfunction
function X7E takes nothing returns boolean
if GetSpellAbilityId()==1093748819 then
call X4E()
endif
return false
endfunction
function TC8 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer i=0
local player p
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function X7E))
set t=null
loop
exitwhen i>5
set p=Z7[i]
call SetPlayerAbilityAvailable(p,1093748826,false)
call SetPlayerAbilityAvailable(p,1093749044,false)
call SetPlayerAbilityAvailable(p,1093749043,false)
call SetPlayerAbilityAvailable(p,1093749046,false)
set p=A7[i]
call SetPlayerAbilityAvailable(p,1093748826,false)
call SetPlayerAbilityAvailable(p,1093749044,false)
call SetPlayerAbilityAvailable(p,1093749043,false)
call SetPlayerAbilityAvailable(p,1093749046,false)
set i=i+1
endloop
set p=null
endfunction
function X8E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local unit m5=UE7(UL7,"Target")
local real x=UR7(UL7,"x")
local real y=UR7(UL7,"y")
local integer BK7=UQ7(UL7,"Level")
local unit HE8
local real DV8=(100+50*BK7)/ 4
if GetTriggerEventId()==EVENT_UNIT_DEATH or RI7(x,y,GetUnitX(m5),GetUnitY(m5))>765 or GetUnitAbilityLevel(m5,1110459203)==0 then
call DestroyEffect(UK7(UL7,"FX"))
call DestroyEffect(UK7(UL7,"fx2"))
call UnitRemoveAbility(m5,1093749305)
call UnitRemoveAbility(m5,1110459203)
call TQ7(UL7)
call U37(t)
elseif GetTriggerEvalCount(t)==(10*0.8)then
call DestroyEffect(UK7(UL7,"FX"))
call TY7(UL7,"FX",AddSpecialEffectTarget("war3mapImported\\ShivasEnchantment.mdx",m5,"overhead"))
call HG8(p5,m5,ZG4,DV8)
elseif GetTriggerEvalCount(t)==(10*1.6)then
call DestroyEffect(UK7(UL7,"FX"))
call TY7(UL7,"FX",AddSpecialEffectTarget("war3mapImported\\ShivasEnchantment.mdx",m5,"overhead"))
call HG8(p5,m5,ZG4,DV8)
elseif GetTriggerEvalCount(t)==(10*2.5)then
call DestroyEffect(UK7(UL7,"FX"))
call TY7(UL7,"FX",AddSpecialEffectTarget("war3mapImported\\ShivasEnchantment.mdx",m5,"overhead"))
call HG8(p5,m5,ZG4,DV8)
elseif GetTriggerEvalCount(t)==(10*3.4)then
call DestroyEffect(UK7(UL7,"FX"))
call HG8(p5,m5,ZG4,DV8)
elseif GetTriggerEvalCount(t)>(10*3.9)then
call DestroyEffect(UK7(UL7,"fx2"))
call UnitRemoveAbility(m5,1093749305)
call UnitRemoveAbility(m5,1110459203)
call TQ7(UL7)
call U37(t)
set HE8=CreateUnit(GetOwningPlayer(m5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
call LP7(HE8,1093750090)
call SetUnitAbilityLevel(HE8,1093750090,BK7)
call IssueTargetOrder(HE8,"thunderbolt",m5)
set HE8=null
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function X9E takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local integer BK7=GetUnitAbilityLevel(p5,1093750087)
local string s="Doodads\\Cinematic\\GlowingRunes\\GlowingRunes4.mdl"
if GetLocalPlayer()==GetOwningPlayer(m5)then
endif
call LP7(m5,1093749305)
call TX7(UL7,"Source",p5)
call TX7(UL7,"Target",m5)
call TU7(UL7,"x",GetUnitX(m5)*1.0)
call TU7(UL7,"y",GetUnitY(m5)*1.0)
call TT7(UL7,"Level",BK7)
call TY7(UL7,"FX",AddSpecialEffectTarget("war3mapImported\\ShivasEnchantment.mdx",m5,"overhead"))
call TY7(UL7,"fx2",AddSpecialEffect(s,GetUnitX(m5),GetUnitY(m5)))
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function X8E))
set p5=null
set m5=null
set t=null
endfunction
function XDE takes nothing returns boolean
if GetSpellAbilityId()==1093750087 and CY7(GetSpellTargetUnit())==false then
call X9E()
endif
return false
endfunction
function T38 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function XDE))
set t=null
endfunction
function XEE takes nothing returns nothing
local unit p5=E3
local unit m5=GetEnumUnit()
local integer BK7=V3
call W1E(p5,m5)
call HG8(p5,m5,ZG4,150+100*BK7)
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\PlasmaShot.mdl",m5,"chest"))
set p5=null
set m5=null
endfunction
function XFE takes nothing returns nothing
local unit p5=E3
local unit m5=GetEnumUnit()
local integer BK7=V3
call W1E(p5,m5)
set p5=null
set m5=null
endfunction
function XGE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit G28=UE7(UL7,"Projectile")
local real Y5=UR7(UL7,"TargetX")
local real Z5=UR7(UL7,"TargetY")
local real l4=UR7(UL7,"Angle")
local real XHE=UR7(UL7,"AOE")
local unit p5=UE7(UL7,"Source")
local integer BK7=UQ7(UL7,"Level")
local real x=GetUnitX(G28)+30*Cos(l4)
local real y=GetUnitY(G28)+30*Sin(l4)
local group g
local fogmodifier XIE
if RI7(x,y,Y5,Z5)<35 or x!=DD8(x)or y!=DE8(y)then
set x=Y5
set y=Z5
call SetUnitX(G28,x)
call SetUnitY(G28,y)
call DestroyEffect(UK7(UL7,"FX"))
set XIE=U97(UL7,"Fog")
call FogModifierStop(XIE)
call DestroyFogModifier(XIE)
set XIE=null
if EZ7 then
set bj_forLoopAIndex=0
set bj_forLoopAIndexEnd=UQ7(UL7,"FUN|EffNum")
loop
exitwhen bj_forLoopAIndex>=bj_forLoopAIndexEnd
call DestroyEffect(UK7(UL7,"FUN|Eff"+I2S(bj_forLoopAIndex)))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endif
call TQ7(UL7)
call U37(t)
call KillUnit(G28)
set IN4=p5
set E3=p5
set V3=BK7
set g=CA7()
call GroupEnumUnitsInRange(g,x,y,XHE+25,Condition(function FW8))
call ForGroup(g,function XEE)
call CZ7(g)
set g=null
else
call SetUnitX(G28,x)
call SetUnitY(G28,y)
set IN4=p5
set E3=p5
set V3=BK7
set g=CA7()
call GroupEnumUnitsInRange(g,x,y,300,Condition(function FW8))
call ForGroup(g,function XFE)
call CZ7(g)
set g=null
endif
set t=null
set G28=null
set p5=null
return false
endfunction
function XJE takes unit p5,real x,real y,real XKE,effect FX,fogmodifier XIE returns nothing
local real l4=Atan2(y-GetUnitY(p5),x-GetUnitX(p5))
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit G28=CreateUnit(GetOwningPlayer(p5),1747993142,GetUnitX(p5),GetUnitY(p5),l4*bj_RADTODEG)
local integer BK7=GetUnitAbilityLevel(p5,1093750089)
local real XHE=DT8(225+25*XKE*2,1000)
local real G5E=RI7(GetUnitX(p5),GetUnitY(p5),x,y)
if IsUnitEnemy(G28,GetLocalPlayer())and CP7(GetLocalPlayer())==false then
call UnitSetUsesAltIcon(G28,true)
endif
call TriggerRegisterTimerEvent(t,DT8(2.0/(G5E/ 30),0.04),true)
call TriggerAddCondition(t,Condition(function XGE))
call TX7(UL7,"Projectile",G28)
call TU7(UL7,"TargetX",x*1.0)
call TU7(UL7,"TargetY",y*1.0)
call TU7(UL7,"Angle",l4*1.0)
call TU7(UL7,"AOE",XHE*1.0)
call TT7(UL7,"Level",BK7)
call TX7(UL7,"Source",p5)
call TB7(UL7,"Fog",XIE)
call TY7(UL7,"FX",FX)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750089,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750094,false)
if EZ7 then
set EI7=""
if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(p5))then
set EI7=EB7
endif
set bj_forLoopAIndex=0
set bj_forLoopAIndexEnd=R2I(XHE/100)+10
loop
exitwhen bj_forLoopAIndex>=bj_forLoopAIndexEnd
set EJ7=I2R(bj_forLoopAIndex)*(6.2831853/I2R(bj_forLoopAIndexEnd))
call TY7(UL7,"FUN|Eff"+I2S(bj_forLoopAIndex),AddSpecialEffect(EI7,x+Cos(EJ7)*XHE,y+Sin(EJ7)*XHE))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call TT7(UL7,"FUN|EffNum",bj_forLoopAIndexEnd)
endif
set t=null
set G28=null
endfunction
function XME takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit G28=UE7(UL7,"Projectile")
local unit p5=UE7(UL7,"Source")
local real l4=UR7(UL7,"Angle")
local real x
local real y
local real XKE=TimerGetElapsed(W)-UR7(UL7,"CastTime")
local string s
local fogmodifier XIE
local effect FX
local real XNE=GetUnitX(G28)+30*Cos(l4)
local real XOE=GetUnitY(G28)+30*Sin(l4)
local boolean J4
local integer i
set x=DD8(XNE)
set y=DE8(XOE)
call SetUnitX(G28,x)
call SetUnitY(G28,y)
if GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093750094)or x!=XNE or y!=XOE then
call TQ7(UL7)
call U37(t)
call RemoveUnit(G28)
set s=""
if IsPlayerAlly(GetOwningPlayer(p5),GetLocalPlayer())or CP7(GetLocalPlayer())then
set s="war3mapImported\\IceWindGroundFX.mdl"
endif
set XIE=CreateFogModifierRadius(GetOwningPlayer(p5),FOG_OF_WAR_VISIBLE,x,y,500,true,true)
call FogModifierStart(XIE)
set FX=AddSpecialEffect(s,x,y)
call XJE(p5,x,y,XKE,FX,XIE)
set XIE=null
set FX=null
elseif Z27(GetOwningPlayer(p5))then
set EJ7=RI7(x,y,UR7(UL7,"AI|TgtX"),UR7(UL7,"AI|TgtY"))
if EJ7>UR7(UL7,"AI|MaxDist")or US7(UL7,"AI|Blast")then
if S47(p5)then
call TG7(p5,852526,1093750094)
else
call TW7(UL7,"AI|Blast",true)
endif
else
call TU7(UL7,"AI|MaxDist",EJ7)
if Bz>UR7(UL7,"AI|NextUp")then
call TU7(UL7,"AI|NextUp",Bz+1)
set J4=false
set i=UQ7(GetHandleId(p5),"AI|IBClose")
if(i==1)then
set J4=(C57(p5,UE7(GetHandleId(p5),"AI|IBTgt"),500.,0.02,1500.)!=null)
elseif(i==0)then
set J4=(C57(p5,UE7(GetHandleId(p5),"AI|IBTgt"),1500.,2.02,99999.)!=null)
elseif(i==2)then
call S_7(UE7(GetHandleId(p5),"AI|IBTgt"))
call MoveLocation(GN7,GetLocationX(HA),GetLocationY(HA))
endif
if J4 then
call TU7(UL7,"AI|TgtX",GetLocationX(GN7))
call TU7(UL7,"AI|TgtY",GetLocationY(GN7))
call TU7(UL7,"AI|MaxDist",99999.)
endif
endif
endif
endif
set t=null
set G28=null
set p5=null
return false
endfunction
function XPE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local real a=Atan2(y-GetUnitY(p5),x-GetUnitX(p5))
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit G28=CreateUnit(GetOwningPlayer(p5),1211122232,GetUnitX(p5),GetUnitY(p5),a*bj_RADTODEG)
if IsUnitEnemy(G28,GetLocalPlayer())and CP7(GetLocalPlayer())==false then
call UnitSetUsesAltIcon(G28,true)
endif
call TX7(UL7,"Projectile",G28)
call TX7(UL7,"Source",p5)
call TU7(UL7,"Angle",a*1.0)
call TU7(UL7,"CastTime",TimerGetElapsed(W)*1.0)
if Z27(GetOwningPlayer(p5))then
call TU7(UL7,"AI|TgtX",x)
call TU7(UL7,"AI|TgtY",y)
call TU7(UL7,"AI|MaxDist",99999.)
call TU7(UL7,"AI|NextUp",Bz+1)
endif
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function XME))
call SetUnitColor(G28,GetPlayerColor(Player(14)))
call RemoveLocation(l)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750089,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750094,true)
call LP7(p5,1093750094)
if Z27(GetOwningPlayer(p5))then
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750094,false)
endif
set p5=null
set l=null
set t=null
set G28=null
endfunction
function XQE takes nothing returns boolean
if GetSpellAbilityId()==1093750089 then
call XPE()
endif
return false
endfunction
function T68 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function XQE))
set t=null
endfunction
function XRE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit m5=UE7(UL7,"Target")
local unit p5=UE7(UL7,"Source")
local integer BK7=UQ7(UL7,"Level")
local integer XSE=UQ7(GetHandleId(p5),"ChillingCounter")
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==p5 and GetEventDamage()>1 then
call DisableTrigger(t)
if XSE>0 then
call TT7(GetHandleId(p5),"ChillingCounter",XSE-1)
call DL8("+"+I2S(40+10*BK7),1,p5,0.024,100,200,255,255)
call HG8(p5,m5,ZG4,40+10*BK7)
endif
call TQ7(UL7)
call U37(t)
endif
else
call TQ7(UL7)
call U37(t)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function XTE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local integer BK7=X3
if GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED then
set p5=GetAttacker()
endif
if GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED or(UQ7(GetHandleId(p5),"ChillingCounter")==0 and GetUnitAbilityLevel(p5,1093748814)>0)then
call DestroyEffect(UK7(GetHandleId(p5),"fx1"))
call DestroyEffect(UK7(GetHandleId(p5),"fx2"))
call TT7(GetHandleId(p5),"ChillingCounter",0)
call TQ7(UL7)
if GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED then
call U37(t)
endif
call UnitRemoveAbility(p5,1093748814)
call UnitRemoveAbility(p5,1110459210)
call UnitRemoveAbility(p5,1093749072)
elseif GetUnitAbilityLevel(p5,1093748814)>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and UX7(p5,"ChillingTouchState")==false then
call U07(p5,"ChillingTouchState",0.4)
set t=CreateTrigger()
set UL7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,2.0,false)
call TriggerAddCondition(t,Condition(function XRE))
call TX7(UL7,"Target",GetTriggerUnit())
call TX7(UL7,"Source",p5)
call TT7(UL7,"Level",BK7)
endif
set t=null
set p5=null
return false
endfunction
function XUE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetEnumUnit()
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local integer BK7=GetUnitAbilityLevel(p5,1093748817)
set X3=BK7
call LP7(m5,1093748814)
call LP7(m5,1093749072)
call TT7(GetHandleId(m5),"ChillingCounter",2+BK7)
call TX7(UL7,"Source",m5)
call TY7(GetHandleId(m5),"fx1",AddSpecialEffectTarget("war3mapImported\\FrostHands.mdx",m5,"right,hand"))
call TY7(GetHandleId(m5),"fx2",AddSpecialEffectTarget("war3mapImported\\FrostHands.mdx",m5,"left,hand"))
call TriggerRegisterTimerEvent(t,30,false)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function XTE))
set p5=null
set m5=null
set t=null
endfunction
function XVE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local group g=CA7()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
call RemoveLocation(l)
call DestroyEffect(AddSpecialEffect("war3mapImported\\IcyWind.mdl",x,y))
call GroupEnumUnitsInRange(g,x,y,525+25,Condition(function GS8))
call ForGroup(g,function XUE)
call CZ7(g)
set p5=null
set g=null
set l=null
endfunction
function XWE takes nothing returns boolean
if GetSpellAbilityId()==1093748817 then
call XVE()
endif
return false
endfunction
function T18 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function XWE))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function XTE))
set t=null
endfunction
function XXE takes nothing returns nothing
call HG8(A3,GetEnumUnit(),ZG4,(GetUnitAbilityLevel(A3,1093749069)*75)/10)
endfunction
function XYE takes unit EL8 returns nothing
local real M3E=(GetUnitAbilityLevel(EL8,1093749069)*75)/2
set M3E=M3E/10.0
if GetUnitState(EL8,UNIT_STATE_LIFE)<=M3E*0.75 then
set M3E=GetUnitState(EL8,UNIT_STATE_LIFE)/0.75-10
endif
call HG8(EL8,EL8,ZG4,M3E)
endfunction
function XZE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit EL8=UE7(UL7,"Source")
local real x=GetUnitX(EL8)
local real y=GetUnitY(EL8)
local group g
local real DV8
local unit HE8
local integer BK7=0
local integer CS8=GetTriggerEvalCount(t)
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call TQ7(UL7)
call U37(t)
return false
else
if GetTriggerEvalCount(t)==1 then
set HE8=CreateUnit(GetOwningPlayer(EL8),1747993138,x,y,0)
call UnitApplyTimedLife(HE8,1112820806,1)
set HE8=null
call TriggerRegisterTimerEvent(t,0.1,true)
set g=CA7()
set A3=EL8
set IN4=EL8
call GroupEnumUnitsInRange(g,x,y,350,Condition(function FW8))
call ForGroup(g,function XXE)
call XYE(EL8)
call CZ7(g)
else
if CS8==10 then
call TQ7(UL7)
call U37(t)
endif
set g=CA7()
set A3=EL8
set IN4=EL8
call GroupEnumUnitsInRange(g,x,y,350,Condition(function FW8))
call ForGroup(g,function XXE)
call XYE(EL8)
call CZ7(g)
call E49(EL8)
call D59(EL8,0,0)
endif
endif
set t=null
set g=null
set EL8=null
return false
endfunction
function XAE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local real DV8=(GetUnitAbilityLevel(p5,1093749069)*75)/ 2
call TriggerRegisterTimerEvent(t,1.5,false)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function XZE))
call TX7(UL7,"Source",p5)
set t=null
set p5=null
endfunction
function XBE takes nothing returns boolean
if GetSpellAbilityId()==1093749069 then
call XAE()
endif
return false
endfunction
function T_8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function XBE))
set t=null
endfunction
function XCE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local player X3E
local integer BK7=GetUnitAbilityLevel(p5,1093749070)
local integer MainLevel=GetUnitAbilityLevel(p5,1093749070)
local real H38=TimerGetElapsed(W)
local real X6E=UR7(UL7,"Buffer1")
local real XLE=UR7(UL7,"Buffer2")
if LR7(p5)then
set t=null
set p5=null
return false
endif
if ZL7(GetOwningPlayer(p5))then
set X3E=A7[1]
else
set X3E=Z7[1]
endif
if GetTriggerEventId()==EVENT_UNIT_DAMAGED and GetOwningPlayer(GetEventDamageSource())==B7 then
if GetUnitAbilityLevel(p5,1093749061)>0 then
call UnitRemoveAbility(p5,1093749061)
call UnitRemoveAbility(p5,1110459193)
endif
if GetUnitAbilityLevel(p5,1093749062)>0 then
call UnitRemoveAbility(p5,1093749062)
call UnitRemoveAbility(p5,1110459193)
endif
if GetUnitAbilityLevel(p5,1093749063)>0 then
call UnitRemoveAbility(p5,1093749063)
call UnitRemoveAbility(p5,1110459193)
endif
call TU7(UL7,"NightcrawlerTime",(H38+2)*1.0)
set t=null
set p5=null
return false
endif
if UR7(UL7,"NightcrawlerTime")>H38 then
set t=null
set p5=null
return false
endif
if IsUnitVisible(p5,X3E)or GetUnitAbilityLevel(p5,1112433775)>0 then
set XLE=0
if GetUnitAbilityLevel(p5,1093749061)>0 or GetUnitAbilityLevel(p5,1093749062)>0 or GetUnitAbilityLevel(p5,1093749063)>0 then
set X6E=X6E+0.1
if X6E>0.4 then
set X6E=0
if GetUnitAbilityLevel(p5,1093749061)>0 then
call UnitRemoveAbility(p5,1093749061)
call UnitRemoveAbility(p5,1110459193)
endif
if GetUnitAbilityLevel(p5,1093749062)>0 then
call UnitRemoveAbility(p5,1093749062)
call UnitRemoveAbility(p5,1110459193)
endif
if GetUnitAbilityLevel(p5,1093749063)>0 then
call UnitRemoveAbility(p5,1093749063)
call UnitRemoveAbility(p5,1110459193)
endif
endif
endif
call TU7(UL7,"Buffer1",X6E*1.0)
call TU7(UL7,"Buffer2",XLE*1.0)
elseif IsUnitVisible(p5,X3E)==false then
set X6E=0
if(BK7==1 and GetUnitAbilityLevel(p5,1093749061)==0)or(BK7==2 and GetUnitAbilityLevel(p5,1093749062)==0)or(BK7==3 and GetUnitAbilityLevel(p5,1093749063)==0)then
set XLE=XLE+0.1
if XLE>0.6 then
set XLE=0
if BK7==1 then
if GetUnitAbilityLevel(p5,1093749061)==0 then
call LP7(p5,1093749061)
endif
endif
if BK7==2 then
if GetUnitAbilityLevel(p5,1093749061)>0 then
call UnitRemoveAbility(p5,1093749061)
call UnitRemoveAbility(p5,1110459193)
endif
if GetUnitAbilityLevel(p5,1093749062)==0 then
call LP7(p5,1093749062)
endif
endif
if BK7==3 then
if GetUnitAbilityLevel(p5,1093749061)>0 then
call UnitRemoveAbility(p5,1093749061)
call UnitRemoveAbility(p5,1110459193)
endif
if GetUnitAbilityLevel(p5,1093749062)>0 then
call UnitRemoveAbility(p5,1093749062)
call UnitRemoveAbility(p5,1110459193)
endif
if GetUnitAbilityLevel(p5,1093749063)==0 then
call LP7(p5,1093749063)
endif
endif
endif
endif
call TU7(UL7,"Buffer1",X6E*1.0)
call TU7(UL7,"Buffer2",XLE*1.0)
endif
set t=null
set p5=null
set X3E=null
return false
endfunction
function X1E takes unit CR7,boolean B89 returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call TU7(UL7,"Buffer1",0*1.0)
call TU7(UL7,"Buffer2",0*1.0)
call TU7(UL7,"NightcrawlerTime",TimerGetElapsed(W)*1.0)
call TX7(UL7,"Source",CR7)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterUnitEvent(t,CR7,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function XCE))
call SetPlayerAbilityAvailable(GetOwningPlayer(CR7),1093749061,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(CR7),1093749062,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(CR7),1093749063,false)
set t=null
endfunction
function X0E takes nothing returns boolean
if GetLearnedSkill()==1093749070 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093749070)==1 then
call X1E(GetTriggerUnit(),false)
endif
return false
endfunction
function T28 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function X0E))
set t=null
endfunction
function X5E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=GetDyingUnit()
if GetOwningPlayer(GetKillingUnit())==GetOwningPlayer(EL8)and IsUnitType(O_7,UNIT_TYPE_HERO)==true and IsUnitIllusion(O_7)==false then
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function X2E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local integer X_E=(LoadInteger(L7,(OL7),(422)))
local integer Y4E=(LoadInteger(L7,(OL7),(423)))
local integer YAD=(LoadInteger(L7,(OL7),(424)))
if GetTriggerEventId()==EVENT_UNIT_DEATH then
if(LoadBoolean(L7,(OL7),(276)))==false and GetTriggerUnit()==EL8 then
call SaveBoolean(L7,(OL7),(276),(true))
call SetHeroAgi(EL8,GetHeroAgi(EL8,false)-X_E-Y4E-YAD,true)
elseif(LoadBoolean(L7,(OL7),(277)))==false and GetTriggerUnit()==O_7 then
call SaveBoolean(L7,(OL7),(277),(true))
call SetHeroAgi(O_7,GetHeroAgi(O_7,false)+X_E,true)
call SetHeroStr(O_7,GetHeroStr(O_7,false)+Y4E,true)
call SetHeroInt(O_7,GetHeroInt(O_7,false)+YAD,true)
endif
else
if(LoadBoolean(L7,(OL7),(276)))==false then
call SaveBoolean(L7,(OL7),(276),(true))
call SetHeroAgi(EL8,GetHeroAgi(EL8,false)-X_E-Y4E-YAD,true)
endif
if(LoadBoolean(L7,(OL7),(277)))==false then
call SaveBoolean(L7,(OL7),(277),(true))
call SetHeroAgi(O_7,GetHeroAgi(O_7,false)+X_E,true)
call SetHeroStr(O_7,GetHeroStr(O_7,false)+Y4E,true)
call SetHeroInt(O_7,GetHeroInt(O_7,false)+YAD,true)
endif
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function Y7E takes unit EL8,unit O_7 returns nothing
local integer HF8=GetUnitAbilityLevel(EL8,1093748818)
local integer EAD=CQ7(O_7)
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local integer X_E
local integer Y4E
local integer YAD
local real H98
if EAD==2 then
set X_E=IMinBJ(GetHeroAgi(O_7,false)-1,1)
set Y4E=IMinBJ(GetHeroStr(O_7,false)-1,1)
set YAD=IMinBJ(GetHeroInt(O_7,false)-1,1)
elseif EAD==3 then
set X_E=IMinBJ(GetHeroAgi(O_7,false)-1,1)
set Y4E=IMinBJ(GetHeroStr(O_7,false)-1,1)
set YAD=IMinBJ(GetHeroInt(O_7,false)-1,1)
elseif EAD==1 then
set X_E=IMinBJ(GetHeroAgi(O_7,false)-1,1)
set Y4E=IMinBJ(GetHeroStr(O_7,false)-1,1)
set YAD=IMinBJ(GetHeroInt(O_7,false)-1,1)
endif
call SetHeroAgi(EL8,GetHeroAgi(EL8,false)+X_E+YAD+Y4E,true)
call SetHeroAgi(O_7,GetHeroAgi(O_7,false)-X_E,true)
call SetHeroStr(O_7,GetHeroStr(O_7,false)-Y4E,true)
call SetHeroInt(O_7,GetHeroInt(O_7,false)-YAD,true)
call SaveInteger(L7,(OL7),(422),(X_E))
call SaveInteger(L7,(OL7),(424),(YAD))
call SaveInteger(L7,(OL7),(423),(Y4E))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveBoolean(L7,(OL7),(276),(false))
call SaveBoolean(L7,(OL7),(277),(false))
if HF8==1 then
set H98=15
elseif HF8==2 then
set H98=30
elseif HF8==3 then
set H98=60
elseif HF8==4 then
set H98=120
endif
call TriggerRegisterTimerEvent(t,H98,false)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function X2E))
set t=null
endfunction
function Y8E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
if GetTriggerEventId()!=EVENT_UNIT_DEATH then
call Y7E(EL8,O_7)
endif
call FlushChildHashtable(L7,(OL7))
call U37(t)
set t=null
set EL8=null
set O_7=null
return false
endfunction
function Y9E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local integer ZS9=(LoadInteger(L7,(OL7),(30)))
local unit O_7=ZA7(ZS9)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==EL8 then
call DisableTrigger(t)
call ZZ7(ZS9)
call FlushChildHashtable(L7,(OL7))
call U37(t)
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.01,false)
call TriggerAddCondition(t,Condition(function Y8E))
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DEATH)
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
endif
else
call ZZ7(ZS9)
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function YDE takes nothing returns nothing
local trigger t=CreateTrigger()
local unit O_7=GetTriggerUnit()
local unit EL8=GetAttacker()
local integer OL7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,1,false)
call TriggerAddCondition(t,Condition(function Y9E))
call SaveInteger(L7,(OL7),(30),(ZC7(O_7)))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
set O_7=null
set EL8=null
set t=null
endfunction
function YEE takes nothing returns nothing
local unit EL8=GetAttacker()
if UX7(EL8,"CooldownState")==false then
call U07(EL8,"CooldownState",0.45-GetUnitAbilityLevel(GetAttacker(),1093748818)*0.05)
call YDE()
endif
endfunction
function YFE takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1093748818)>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==(LoadUnitHandle(L7,(GetHandleId(GetTriggeringTrigger())),(14)))and GetUnitTypeId(GetTriggerUnit())!=1848651852 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))then
call YEE()
endif
return false
endfunction
function YGE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7
call D28(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function YFE))
call SaveUnitHandle(L7,(GetHandleId(t)),(14),(GetTriggerUnit()))
set t=CreateTrigger()
set OL7=GetHandleId(t)
call D28(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function X5E))
call SaveUnitHandle(L7,(OL7),(2),(GetTriggerUnit()))
set t=null
endfunction
function YHE takes nothing returns boolean
if GetLearnedSkill()==1093748818 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093748818)==1 then
call YGE()
endif
return false
endfunction
function T08 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function YHE))
set t=null
endfunction
function YIE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local unit HE8=UE7(UL7,"Caster")
local integer BK7=UQ7(UL7,"Level")
if GetTriggerEvalCount(t)>5.5/0.03 then
call KillUnit(HE8)
call TQ7(UL7)
call U37(t)
else
call SetUnitX(HE8,GetUnitX(p5))
call SetUnitY(HE8,GetUnitY(p5))
endif
set t=null
set p5=null
set HE8=null
return false
endfunction
function YJE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local integer BK7=GetUnitAbilityLevel(p5,1093749070)
local real d=5.5
local unit HE8=CreateUnit(GetOwningPlayer(p5),1747993137,GetUnitX(p5),GetUnitY(p5),0)
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call F78(p5,1093748823,1,d)
call F78(p5,1093748824,1,d)
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerAddCondition(t,Condition(function YIE))
call TX7(UL7,"Caster",HE8)
call TX7(UL7,"Source",p5)
call TT7(UL7,"Level",BK7)
set p5=null
set HE8=null
set t=null
endfunction
function YKE takes nothing returns boolean
if GetSpellAbilityId()==1093749070 then
call YJE()
endif
return false
endfunction
function T58 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function YKE))
set t=null
endfunction
function YME takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local integer Y59=GetTriggerEvalCount(t)
local unit p5=UE7(UL7,"Source")
local unit m5=UE7(UL7,"Target")
local lightning YNE=UM7(UL7,"Lightning")
local integer BK7=UQ7(UL7,"Level")
local real t5=UR7(UL7,"SourceX")
local real w5=UR7(UL7,"SourceY")
local real Y5=GetUnitX(m5)
local real Z5=GetUnitY(m5)
local real YOE
local real YPE
local real OBE=UR7(UL7,"LastX")
local real OCE=UR7(UL7,"LastY")
local real l4
local real G5E=RI7(OBE,OCE,Y5,Z5)
call TU7(UL7,"LastX",Y5)
call TU7(UL7,"LastY",Z5)
if G5E>100 or Y59>(3.5/ .03)or CO7(m5)==true then
call DestroyLightning(YNE)
call TQ7(UL7)
call U37(t)
else
call MoveLightning(YNE,true,t5,w5,Y5,Z5)
if RI7(t5,w5,Y5,Z5)>325 then
set l4=Atan2(Z5-w5,Y5-t5)
set YOE=t5+(325)*Cos(l4)
set YPE=w5+(325)*Sin(l4)
call SetUnitX(m5,YOE)
call SetUnitY(m5,YPE)
endif
endif
set t=null
set p5=null
set m5=null
set YNE=null
return false
endfunction
function YQE takes unit EL8,unit O_7,integer HF8 returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local lightning NIE=AddLightning("PONC",true,GetUnitX(EL8),GetUnitY(EL8),GetUnitX(O_7),GetUnitY(O_7))
call SetLightningColor(NIE,1,1,1,1)
call SaveLightningHandle(L7,(OL7),StringHash("Lightning"),(NIE))
call TX7(OL7,"Source",EL8)
call TX7(OL7,"Target",O_7)
call TT7(OL7,"Level",HF8)
call TU7(OL7,"SourceX",GetUnitX(EL8)*1.0)
call TU7(OL7,"SourceY",GetUnitY(EL8)*1.0)
call TU7(OL7,"LastX",GetUnitX(O_7)*1.0)
call TU7(OL7,"LastY",GetUnitY(O_7)*1.0)
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YME))
call HG8(EL8,O_7,ZG4,70*HF8)
call IssueTargetOrder(EL8,"attack",O_7)
set t=null
set NIE=null
endfunction
function YRE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local integer CS8=GetTriggerEvalCount(t)
local integer HF8=UQ7(OL7,"Level")
local unit EL8=UE7(OL7,"Source")
local real A89=UR7(OL7,"Angle")
local real VOE=UR7(OL7,"SourceX")
local real VPE=UR7(OL7,"SourceY")
local real EG8=UR7(OL7,"TargetX")
local real EH8=UR7(OL7,"TargetY")
local real EK8=VOE+(30*(20+4*2)/30)*CS8*Cos(A89*bj_DEGTORAD)
local real EM8=VPE+(30*(20+4*2)/30)*CS8*Sin(A89*bj_DEGTORAD)
local real YSE=SquareRoot((EK8-EG8)*(EK8-EG8)+(EM8-EH8)*(EM8-EH8))
local real YTE=700
local real YUE=175
local real YVE=(1-YSE/ YTE)*YUE*2
local group g=CA7()
local unit O_7
if CS8==1 then
call SetUnitAnimationByIndex(EL8,5)
call SetUnitTimeScale(EL8,1.5)
endif
if YVE>YUE then
call SetUnitAnimationByIndex(EL8,5)
set YVE=YUE*2-YVE
endif
call SetUnitFlyHeight(EL8,DU8(YVE,0),0)
call SetUnitX(EL8,DD8(EK8))
call SetUnitY(EL8,DE8(EM8))
call SetUnitFacing(EL8,A89)
set IN4=EL8
call GroupEnumUnitsInRange(g,EK8,EM8,120,Condition(function GG8))
set O_7=FirstOfGroup(g)
call CZ7(g)
if YSE<30 or O_7!=null or GetTriggerEvalCount(t)>75 then
call SetUnitFlyHeight(EL8,0,0)
call SetUnitFacing(EL8,A89)
call SetUnitTimeScale(EL8,1)
call SetUnitAnimation(EL8,"stand")
call SetUnitPathing(EL8,true)
call UnitRemoveAbility(EL8,1093749302)
call E78(GetUnitX(EL8),GetUnitY(EL8),100)
if O_7!=null and CO7(O_7)==false then
call U07(O_7,"4408",5)
call YQE(EL8,O_7,HF8)
endif
call TQ7(OL7)
call U37(t)
endif
set t=null
set EL8=null
set O_7=null
set g=null
return false
endfunction
function YWE takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local integer HF8=GetUnitAbilityLevel(EL8,1093749303)
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local real EOE=700
local real A89=GetUnitFacing(EL8)
local real F3D=GetUnitX(EL8)
local real F6D=GetUnitY(EL8)
local real EG8=DD8(F3D+EOE*Cos(A89*bj_DEGTORAD))
local real EH8=DE8(F6D+EOE*Sin(A89*bj_DEGTORAD))
call LP7(EL8,1097691750)
call UnitRemoveAbility(EL8,1097691750)
call SetUnitPathing(EL8,false)
call LP7(EL8,1093749302)
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerAddCondition(t,Condition(function YRE))
call TX7(OL7,"Source",EL8)
call TT7(OL7,"Level",HF8)
call TU7(OL7,"Angle",A89*1.0)
call TU7(OL7,"SourceX",F3D*1.0)
call TU7(OL7,"SourceY",F6D*1.0)
call TU7(OL7,"TargetX",EG8*1.0)
call TU7(OL7,"TargetY",EH8*1.0)
set EL8=null
set t=null
endfunction
function YXE takes nothing returns boolean
if GetSpellAbilityId()==1093749303 then
call YWE()
endif
return false
endfunction
function U48 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function YXE))
set t=null
endfunction
function YYE takes nothing returns nothing
local integer UL7=GetHandleId(GetTriggeringTrigger())
local unit p5=IN4
local unit m5=IP4
local real DV8=UR7(UL7,"Damage")
call HG8(p5,m5,ZG4,DV8)
set p5=null
set m5=null
endfunction
function YZE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetEnumUnit()
local trigger t=EO8(p5,m5,1747993168,"YYE",700)
local integer OL7=GetHandleId(t)
local integer HF8=GetUnitAbilityLevel(p5,1093678145)
local real B29
if HF8==1 then
set B29=85
elseif HF8==2 then
set B29=165
elseif HF8==3 then
set B29=225
elseif HF8==4 then
set B29=300
endif
call TU7(OL7,"Damage",B29)
set p5=null
set m5=null
set t=null
endfunction
function YAE takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local group g=CA7()
local integer HF8=GetUnitAbilityLevel(EL8,1093678145)
call GroupEnumUnitsInRange(g,GetUnitX(EL8),GetUnitY(EL8),500,Condition(function G48))
call ForGroup(g,function YZE)
call CZ7(g)
call PlaySoundOnUnitBJ(OP,100,EL8)
set EL8=null
set g=null
endfunction
function YBE takes nothing returns boolean
if GetSpellAbilityId()==1093678145 then
call YAE()
endif
return false
endfunction
function U78 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function YBE))
set t=null
endfunction
function YCE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
if GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST then
call TQ7(UL7)
call U37(t)
else
call TQ7(UL7)
call U37(t)
call RU7(p5)
endif
set t=null
set p5=null
return false
endfunction
function Y3E takes nothing returns nothing
local unit p5=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local integer BK7=GetUnitAbilityLevel(p5,1093677136)
call TriggerRegisterTimerEvent(t,1+1.75+0.75*BK7,false)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(t,Condition(function YCE))
call TX7(UL7,"Source",p5)
set p5=null
set t=null
endfunction
function Y6E takes nothing returns boolean
if GetSpellAbilityId()==1093677136 then
call Y3E()
endif
return false
endfunction
function U88 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function Y6E))
set t=null
endfunction
function YLE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local integer HF8=(LoadInteger(L7,(OL7),(5)))
if GetTriggerEventId()==EVENT_WIDGET_DEATH or GetTriggerEvalCount(t)==4 or CO7(O_7)then
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call UnitRemoveAbility(O_7,XW4)
call UnitRemoveAbility(O_7,XX4)
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
if GetTriggerEventId()!=EVENT_WIDGET_DEATH then
call HG8(EL8,O_7,ZG4,20*HF8-10)
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function Y1E takes unit EL8,unit O_7,integer HF8 returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call LP7(O_7,XW4)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterDeathEvent(t,O_7)
call TriggerAddCondition(t,Condition(function YLE))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveInteger(L7,(OL7),(5),(HF8))
call SaveEffectHandle(L7,(OL7),(32),(AddSpecialEffectTarget(YI4,O_7,"chest")))
set t=null
endfunction
function Y0E takes nothing returns boolean
if IsUnitInGroup(GetEnumUnit(),XY4)==false and CO7(GetEnumUnit())==false then
call GroupAddUnit(XY4,GetEnumUnit())
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\FireBlast.mdx",GetEnumUnit(),"chest"))
call Y1E(XA4,GetEnumUnit(),XZ4)
endif
return false
endfunction
function Y5E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local integer CS8=(LoadInteger(L7,(OL7),(34)))
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local real F3D=(LoadReal(L7,(OL7),(189)))
local real F6D=(LoadReal(L7,(OL7),(190)))
local real EG8=(LoadReal(L7,(OL7),(47)))
local real EH8=(LoadReal(L7,(OL7),(48)))
local real a=(LoadReal(L7,(OL7),(13)))
local real Y2E=(1-I2R(CS8)/50)*bj_PI
local real Y_E=XC4/2*Cos(Y2E)
local real Z4E=XB4/2*Sin(Y2E)
local real x=DD8(EG8+Y_E*Cos(a)-Z4E*Sin(a))
local real y=DE8(EH8+Y_E*Sin(a)+Z4E*Cos(a))
local group AJ9=(LoadGroupHandle(L7,(OL7),(133)))
local group g
local integer HF8=GetUnitAbilityLevel(EL8,1093751370)
if GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and CS8>0 and(GetSpellAbilityId()==1093808206 or GetSpellAbilityId()==1093751371))or CS8>100 then
call E78(x,y,300)
call SetUnitVertexColor(EL8,255,255,255,255)
if(LoadInteger(L7,(GetHandleId(EL8)),(704)))==0 or(LoadInteger(L7,(GetHandleId(EL8)),(704)))==1093751370 then
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093751370,true)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093808206,false)
call SetUnitPathing(EL8,true)
call CZ7(AJ9)
call FlushChildHashtable(L7,(OL7))
call U37(t)
else
if ModuloInteger(CS8,10)==0 then
call E78(x,y,200)
endif
call SaveInteger(L7,(OL7),(34),(CS8+1))
call SetUnitX(EL8,x)
call SetUnitY(EL8,y)
call SetUnitFacing(EL8,(a+Y2E-bj_PI/2)*bj_RADTODEG)
set g=CA7()
set XY4=AJ9
set IN4=EL8
set XA4=EL8
set XZ4=GetUnitAbilityLevel(EL8,1093751370)
call GroupEnumUnitsInRange(g,x,y,200+25,Condition(function F18))
call ForGroup(g,function Y0E)
call CZ7(g)
endif
set t=null
set EL8=null
set g=null
set AJ9=null
return false
endfunction
function Z7E takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
local real F3D=GetUnitX(EL8)
local real F6D=GetUnitY(EL8)
local real a=PS7(F3D,F6D,GetSpellTargetX(),GetSpellTargetY())*bj_DEGTORAD
local real EG8=F3D+1400/2*Cos(a)
local real EH8=F6D+1400/2*Sin(a)
call SetUnitState(EL8,UNIT_STATE_LIFE,GetUnitState(EL8,UNIT_STATE_LIFE)-GetUnitState(EL8,UNIT_STATE_LIFE)*0.15)
call U07(EL8,"DashState1",2)
call U07(EL8,"DashState2",2)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function Y5E))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveReal(L7,(OL7),(189),((F3D)*1.0))
call SaveReal(L7,(OL7),(190),((F6D)*1.0))
call SaveReal(L7,(OL7),(47),((EG8)*1.0))
call SaveReal(L7,(OL7),(48),((EH8)*1.0))
call SaveReal(L7,(OL7),(13),((a)*1.0))
call SaveGroupHandle(L7,(OL7),(133),(CA7()))
call SetUnitPathing(EL8,false)
call SetUnitVertexColor(EL8,255,255,255,50)
call LP7(EL8,1093808206)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093751370,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093808206,true)
set t=null
set EL8=null
endfunction
function Z8E takes nothing returns boolean
if GetSpellAbilityId()==1093751370 then
call Z7E()
endif
return false
endfunction
function U98 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function Z8E))
set t=null
endfunction
function Z9E takes nothing returns nothing
local unit EL8=Y94
local unit O_7=GetEnumUnit()
call HG8(EL8,O_7,ZG4,40+20*YD4)
call DB8("Doodads\\Cinematic\\FireTrapUp\\FireTrapUp.mdl",O_7,"origin",1)
set EL8=null
set O_7=null
endfunction
function ZDE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local integer HF8=GetUnitAbilityLevel(EL8,1093751371)
local group g
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call FlushChildHashtable(L7,(OL7))
call U37(t)
else
set IN4=EL8
set Y94=EL8
set YD4=HF8
set g=CA7()
call GroupEnumUnitsInRange(g,GetUnitX(EL8),GetUnitY(EL8),1000+25,Condition(function FW8))
call ForGroup(g,function Z9E)
call CZ7(g)
set g=null
endif
set t=null
set EL8=null
return false
endfunction
function ZEE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit ZFE=(LoadUnitHandle(L7,(OL7),(589)))
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local real x=(LoadReal(L7,(OL7),(6)))
local real y=(LoadReal(L7,(OL7),(7)))
local unit HE8=(LoadUnitHandle(L7,(OL7),(19)))
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call FlushChildHashtable(L7,(OL7))
call U37(t)
elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if IsUnitIllusion(GetEventDamageSource())==true then
call DW8(ZFE,GetEventDamage())
endif
else
if GetUnitX(ZFE)!=x or GetUnitY(ZFE)!=y then
call SetUnitPosition(ZFE,x,y)
endif
if GetUnitY(EL8)!=x or GetUnitY(EL8)!=y then
call SetUnitPosition(EL8,x,y)
endif
call SetUnitX(HE8,GetUnitX(EL8))
call SetUnitY(HE8,GetUnitY(EL8))
endif
if GetTriggerEvalCount(t)==1 then
call PauseUnit(EL8,true)
endif
set t=null
set ZFE=null
set EL8=null
set HE8=null
return false
endfunction
function ZGE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit ZHE=(LoadUnitHandle(L7,(OL7),(588)))
local unit ZFE=(LoadUnitHandle(L7,(OL7),(589)))
local real x=(LoadReal(L7,(OL7),(6)))
local real y=(LoadReal(L7,(OL7),(7)))
local unit GBD=(LoadUnitHandle(L7,(OL7),(239)))
local integer HF8=GetUnitAbilityLevel(EL8,1093751371)
local group g
local unit HE8
local integer ZIE
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call StopSound(V74,false,false)
call ShowUnit(ZHE,false)
call ShowUnit(GBD,false)
call FlushChildHashtable(L7,(OL7))
call U37(t)
call ShowUnit(EL8,true)
call UB7(EL8,"4326")
call UnitRemoveAbility(EL8,1093678162)
call SetUnitInvulnerable(EL8,false)
call PauseUnit(EL8,false)
if GetLocalPlayer()==GetOwningPlayer(EL8)then
call ClearSelection()
call SelectUnit(EL8,true)
endif
call SetUnitState(EL8,UNIT_STATE_LIFE,1)
set HE8=CreateUnit(GetOwningPlayer(GetKillingUnit()),1697656901,0,0,0)
call UnitRemoveBuffs(EL8,true,true)
call UnitRemoveAbility(EL8,1097167980)
call UnitDamageTarget(HE8,EL8,100000000.00,true,false,ATTACK_TYPE_MELEE,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
set HE8=null
else
if GetTriggerEvalCount(t)==1 then
call SetUnitFlyHeight(ZFE,0,200)
elseif GetTriggerEvalCount(t)==2 then
call PauseUnit(ZFE,false)
call UnitApplyTimedLife(ZFE,1112820806,0.1)
call StopSound(V74,false,false)
call StartSound(V84)
call DestroyEffect(AddSpecialEffect("war3mapImported\\FireNova2.mdx",GetUnitX(ZHE),GetUnitY(ZHE)))
call FlushChildHashtable(L7,(OL7))
call U37(t)
call ShowUnit(EL8,true)
call UB7(EL8,"4326")
call UnitRemoveAbility(EL8,1093678162)
call SetUnitInvulnerable(EL8,false)
call SetUnitAnimationByIndex(EL8,8)
call QueueUnitAnimation(EL8,"idle")
call PauseUnit(EL8,false)
if GetLocalPlayer()==GetOwningPlayer(EL8)then
call ClearSelection()
call SelectUnit(EL8,true)
endif
call ShowUnit(ZHE,false)
call ShowUnit(GBD,false)
call SetUnitState(EL8,UNIT_STATE_LIFE,GetUnitState(EL8,UNIT_STATE_MAX_LIFE))
call SetUnitState(EL8,UNIT_STATE_MANA,GetUnitState(EL8,UNIT_STATE_MAX_MANA))
set ZIE=GetUnitAbilityLevel(EL8,1093751370)
if ZIE>0 then
call UnitRemoveAbility(EL8,1093751370)
call UnitAddAbility(EL8,1093751370)
call SetUnitAbilityLevel(EL8,1093751370,ZIE)
endif
set ZIE=GetUnitAbilityLevel(EL8,1093753176)
if ZIE>0 then
call UnitRemoveAbility(EL8,1093753176)
call UnitAddAbility(EL8,1093753176)
call SetUnitAbilityLevel(EL8,1093753176,ZIE)
endif
set ZIE=GetUnitAbilityLevel(EL8,1093753177)
if ZIE>0 then
call UnitRemoveAbility(EL8,1093753177)
call UnitAddAbility(EL8,1093753177)
call SetUnitAbilityLevel(EL8,1093753177,ZIE)
endif
set HE8=CreateUnit(GetOwningPlayer(EL8),1697656901,GetUnitX(EL8),GetUnitY(EL8),0)
call LP7(HE8,1093753428)
call SetUnitAbilityLevel(HE8,1093753428,HF8)
call IssueImmediateOrder(HE8,"stomp")
set HE8=null
endif
endif
set t=null
set EL8=null
set ZHE=null
set GBD=null
set ZFE=null
return false
endfunction
function ZJE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
local real x=GetUnitX(EL8)
local real y=GetUnitY(EL8)
local unit ZHE
local unit ZFE
local unit GBD=CreateUnit(GetOwningPlayer(EL8),1747993420,GetUnitX(EL8),GetUnitY(EL8),0)
local integer HF8=GetUnitAbilityLevel(EL8,1093751371)
local unit HE8
local unit ZKE=CreateUnit(GetOwningPlayer(EL8),1697656901,GetUnitX(EL8),GetUnitY(EL8),0)
set ZHE=CreateUnit(GetOwningPlayer(EL8),1747993176,x,y,0)
if HF8==1 then
set ZFE=CreateUnit(GetOwningPlayer(EL8),1747993430,x,y,0)
elseif HF8==2 then
set ZFE=CreateUnit(GetOwningPlayer(EL8),1747993432,x,y,0)
elseif HF8==3 then
set ZFE=CreateUnit(GetOwningPlayer(EL8),1747993431,x,y,0)
endif
call AddSpecialEffectTarget("war3mapImported\\PhoenixDown_2.mdl",ZHE,"origin")
if GetLocalPlayer()==GetOwningPlayer(EL8)then
call ClearSelection()
call SelectUnit(ZFE,true)
endif
call E78(x,y,400)
call ShowUnit(EL8,false)
call UZ7(EL8,"4326")
call LP7(EL8,1093678162)
call D59(EL8,0,0)
call SetUnitInvulnerable(EL8,true)
call UnitRemoveBuffs(EL8,true,true)
call StartSound(V74)
call UnitRemoveAbility(ZFE,1098015094)
call UnitApplyTimedLife(ZHE,1112820806,6.1)
call UnitApplyTimedLife(GBD,1112820806,6.1)
call UnitApplyTimedLife(ZFE,1112820806,6.1)
call TriggerRegisterTimerEvent(t,5.2,false)
call TriggerRegisterTimerEvent(t,6,false)
call TriggerAddCondition(t,Condition(function ZGE))
call TriggerRegisterUnitEvent(t,ZFE,EVENT_UNIT_DEATH)
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(588),(ZHE))
call SaveUnitHandle(L7,(OL7),(589),(ZFE))
call SaveUnitHandle(L7,(OL7),(239),(GBD))
call SaveReal(L7,(OL7),(6),((GetUnitX(EL8))*1.0))
call SaveReal(L7,(OL7),(7),((GetUnitY(EL8))*1.0))
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterUnitEvent(t,ZFE,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function ZDE))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,.02,true)
call TriggerRegisterUnitEvent(t,ZFE,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,ZFE,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function ZEE))
call SaveUnitHandle(L7,(OL7),(589),(ZFE))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveReal(L7,(OL7),(6),((GetUnitX(EL8))*1.0))
call SaveReal(L7,(OL7),(7),((GetUnitY(EL8))*1.0))
call SaveUnitHandle(L7,(OL7),(19),(ZKE))
if SU7(EL8,1227899192)then
call UnitAddAbility(ZKE,1093678153)
endif
set t=null
set EL8=null
set ZHE=null
set ZFE=null
endfunction
function ZME takes nothing returns boolean
if GetSpellAbilityId()==1093751371 then
call ZJE()
endif
return false
endfunction
function UI8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZME))
call DH8(1093687350)
call DH8(1093753428)
set t=null
endfunction
function ZNE takes nothing returns nothing
call SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)+BD4)
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\BirdShitTarget_1.mdx",GetEnumUnit(),"origin"))
endfunction
function ZOE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local real x=(LoadReal(L7,(OL7),(6)))
local real y=(LoadReal(L7,(OL7),(7)))
local group g
local integer HF8=GetUnitAbilityLevel(EL8,1093809986)
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call DestroyEffect(AddSpecialEffect("war3mapImported\\Firaga_2.mdx",x,y))
call FlushChildHashtable(L7,(OL7))
call U37(t)
set g=CA7()
set BD4=50+75*HF8
set IN4=EL8
call GroupEnumUnitsInRange(g,x,y,425,Condition(function GE8))
call ForGroup(g,function ZNE)
call CZ7(g)
set t=null
set EL8=null
set g=null
return false
endfunction
function ZPE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
call TriggerRegisterTimerEvent(t,3,false)
call TriggerAddCondition(t,Condition(function ZOE))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveReal(L7,(OL7),(6),((x)*1.0))
call SaveReal(L7,(OL7),(7),((y)*1.0))
if IsPlayerAlly(GetOwningPlayer(EL8),GetLocalPlayer())or CP7(GetLocalPlayer())then
call SaveEffectHandle(L7,(OL7),(32),(AddSpecialEffect("war3mapImported\\BirdShit_1.mdx",x,y)))
else
call SaveEffectHandle(L7,(OL7),(32),(AddSpecialEffect("",x,y)))
endif
if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(EL8))or CP7(GetLocalPlayer())then
call PingMinimapEx(x,y,3,255,0,0,false)
call E98(XS4,x,y)
endif
call EE8(GetOwningPlayer(EL8),4,x,y,500)
call SetUnitState(EL8,UNIT_STATE_LIFE,GetUnitState(EL8,UNIT_STATE_LIFE)*0.9)
set t=null
set EL8=null
endfunction
function ZQE takes nothing returns boolean
if GetSpellAbilityId()==1093809986 then
call ZPE()
endif
return false
endfunction
function UE8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZQE))
set t=null
endfunction
function ZRE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local integer HF8=(LoadInteger(L7,(OL7),(5)))
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
call UnitRemoveAbility(O_7,1093809968)
call UnitRemoveAbility(O_7,1110459723)
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
elseif GetTriggerEvalCount(t)>4 then
call UnitRemoveAbility(O_7,1093809968)
call UnitRemoveAbility(O_7,1110459723)
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
call HG8(EL8,O_7,ZG4,16+12*HF8)
else
call HG8(EL8,O_7,ZG4,16+12*HF8)
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function ZSE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local real ZC9=(LoadReal(L7,(OL7),(23)))
local real Z39=(LoadReal(L7,(OL7),(24)))
local real a=(LoadReal(L7,(OL7),(137)))
local real x=ZC9+12*Cos(a)
local real y=Z39+12*Sin(a)
call SetUnitX(O_7,x)
call SetUnitY(O_7,y)
call SaveReal(L7,(OL7),(23),((x)*1.0))
call SaveReal(L7,(OL7),(24),((y)*1.0))
if GetTriggerEvalCount(t)>25 then
call E78(x,y,100)
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function ZTE takes unit EL8,unit O_7,real x,real y,real a returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local integer HF8=GetUnitAbilityLevel(EL8,1093809969)
call SetUnitPosition(O_7,GetUnitX(O_7),GetUnitY(O_7))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveReal(L7,(OL7),(137),((a*bj_DEGTORAD)*1.0))
call SaveReal(L7,(OL7),(23),((GetUnitX(O_7))*1.0))
call SaveReal(L7,(OL7),(24),((GetUnitY(O_7))*1.0))
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterDeathEvent(t,O_7)
call TriggerAddCondition(t,Condition(function ZSE))
set t=CreateTrigger()
set OL7=GetHandleId(t)
call SaveInteger(L7,(OL7),(5),(HF8))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveEffectHandle(L7,(OL7),(32),(AddSpecialEffectTarget("Environment\\LargeBuildingFire\\LargeBuildingFire1.mdl",O_7,"chest")))
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterDeathEvent(t,O_7)
call TriggerAddCondition(t,Condition(function ZRE))
call SetPlayerAbilityAvailable(GetOwningPlayer(O_7),1093809968,false)
call LP7(O_7,1093809968)
set t=null
endfunction
function ZUE takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),BE4)==false then
if RH7(BG4,GetEnumUnit())<24 or RAbsBJ(Cos(PR7(BG4,GetEnumUnit())-BJ4))<0.26 then
call GroupAddUnit(BE4,GetEnumUnit())
if Sin((PR7(BG4,GetEnumUnit())-BJ4)*bj_DEGTORAD)<0 then
call ZTE(BF4,GetEnumUnit(),BH4,BI4,BJ4-90)
else
call ZTE(BF4,GetEnumUnit(),BH4,BI4,BJ4+90)
endif
endif
endif
endfunction
function ZVE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit EF8=(LoadUnitHandle(L7,(OL7),(45)))
local real a=(LoadReal(L7,(OL7),(137)))
local real x=(LoadReal(L7,(OL7),(6)))
local real y=(LoadReal(L7,(OL7),(7)))
local group G3D=(LoadGroupHandle(L7,(OL7),(187)))
local group g
if GetTriggerEvalCount(t)>125 then
call KillUnit(EF8)
call CZ7(G3D)
call FlushChildHashtable(L7,(OL7))
call U37(t)
else
set x=x+8*Cos(a)
set y=y+8*Sin(a)
call SetUnitX(EF8,x)
call SetUnitY(EF8,y)
call SaveReal(L7,(OL7),(6),((x)*1.0))
call SaveReal(L7,(OL7),(7),((y)*1.0))
set IN4=EL8
set BH4=x
set BI4=y
set BJ4=a*bj_RADTODEG
set BE4=G3D
set BF4=EL8
set BG4=EF8
set g=CA7()
call GroupEnumUnitsInRange(g,x,y,225,Condition(function FW8))
call ForGroup(g,function ZUE)
call CZ7(g)
endif
set t=null
set EL8=null
return false
endfunction
function ZWE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
local real EG8=GetSpellTargetX()
local real EH8=GetSpellTargetY()
local real A89=Atan2(EH8-GetUnitY(EL8),EG8-GetUnitX(EL8))
local integer HF8=GetUnitAbilityLevel(EL8,1093809969)
local unit EF8=CreateUnit(GetOwningPlayer(EL8),1747993665,GetUnitX(EL8),GetUnitY(EL8),A89*bj_RADTODEG)
call TriggerRegisterTimerEvent(t,0.01,true)
call TriggerAddCondition(t,Condition(function ZVE))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(45),(EF8))
call SaveReal(L7,(OL7),(137),((A89)*1.0))
call SaveReal(L7,(OL7),(6),((GetUnitX(EL8))*1.0))
call SaveReal(L7,(OL7),(7),((GetUnitY(EL8))*1.0))
call SaveInteger(L7,(OL7),(5),(HF8))
call SaveGroupHandle(L7,(OL7),(187),(CA7()))
set t=null
set EL8=null
endfunction
function ZXE takes nothing returns boolean
if GetSpellAbilityId()==1093809969 then
call ZWE()
endif
return false
endfunction
function UH8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZXE))
set t=null
endfunction
function ZYE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer ET8=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(ET8),(2)))
local real ZZE=(LoadReal(L7,(GetHandleId(EL8)),(681)))
call FlushChildHashtable(L7,(ET8))
call U37(t)
if((TimerGetElapsed(W))-ZZE<0.49)==false or GetTriggerEventId()==EVENT_UNIT_DEATH then
call UnitRemoveAbility(EL8,1093753396)
call UnitRemoveAbility(EL8,1093753409)
call UnitRemoveAbility(EL8,1093753410)
call UnitRemoveAbility(EL8,1093753401)
call UnitRemoveAbility(EL8,1110459478)
endif
set t=null
set EL8=null
return false
endfunction
function ZAE takes unit EL8 returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local integer ZBE
call TriggerRegisterTimerEvent(t,0.5,false)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function ZYE))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveReal(L7,(GetHandleId(EL8)),(681),(((TimerGetElapsed(W)))*1.0))
if X54==1 then
set ZBE=1093753396
call UnitRemoveAbility(EL8,1093753409)
call UnitRemoveAbility(EL8,1093753410)
call UnitRemoveAbility(EL8,1093753401)
elseif X54==2 then
set ZBE=1093753409
call UnitRemoveAbility(EL8,1093753396)
call UnitRemoveAbility(EL8,1093753410)
call UnitRemoveAbility(EL8,1093753401)
elseif X54==3 then
set ZBE=1093753410
call UnitRemoveAbility(EL8,1093753396)
call UnitRemoveAbility(EL8,1093753409)
call UnitRemoveAbility(EL8,1093753401)
elseif X54==4 then
set ZBE=1093753401
call UnitRemoveAbility(EL8,1093753396)
call UnitRemoveAbility(EL8,1093753409)
call UnitRemoveAbility(EL8,1093753410)
endif
call LP7(EL8,ZBE)
call UnitMakeAbilityPermanent(EL8,true,ZBE)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),ZBE,false)
set t=null
endfunction
function ZCE takes nothing returns nothing
local unit O_7=GetEnumUnit()
local real Z3E=Y44
local real Z6E=Y74
local real B29=Z3E+Z6E*GetUnitState(O_7,UNIT_STATE_MAX_LIFE)
set B29=B29/5
if IsUnitEnemy(O_7,GetOwningPlayer(X24))==true then
call HG8(X24,O_7,ZI4,B29)
if CO7(O_7)==false then
call ZAE(O_7)
endif
else
call SetUnitState(O_7,UNIT_STATE_LIFE,GetUnitState(O_7,UNIT_STATE_LIFE)+B29*0.5)
endif
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\FireRayTarget.mdx",O_7,"origin"))
call EE8(GetOwningPlayer(O_7),2,GetUnitX(X24),GetUnitY(X24),500)
set O_7=null
endfunction
function ZLE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local integer CS8=(LoadInteger(L7,(OL7),(34)))
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local real Z1E=GetUnitFacing(EL8)
local real a=Z1E*bj_DEGTORAD
local location l1=GetUnitLoc(EL8)
local real Z0E=GetLocationZ(l1)
local location l2=Location(GetUnitX(EL8)+X34*Cos(a),GetUnitY(EL8)+X34*Sin(a))
local real Z5E=GetLocationZ(l2)
local lightning Z2E=(LoadLightningHandle(L7,(OL7),(676)))
local lightning Z_E=(LoadLightningHandle(L7,(OL7),(677)))
local lightning A4E=(LoadLightningHandle(L7,(OL7),(678)))
local lightning A7E=(LoadLightningHandle(L7,(OL7),(679)))
local lightning A8E=(LoadLightningHandle(L7,(OL7),(680)))
local real A9E=1
local real F3D
local real F6D
local real ADE
local real AEE
local real AFE
local real AGE
local real AHE
local real AIE
local real AJE
local real AKE
local real AME
local real ANE
local real APE
local real AQE
local real ARE
local real ASE
local real ATE
local real AUE
local real AVE
local real AWE
local real AXE
local real AYE
local real AZE
local real AAE
local real ABE
local real ACE
local real A3E
local real A6E
local real ALE
local real A1E
local real A0E
local real A5E
local real A2E
local group g
local real x
local real y
local integer i
local real A_E
local real B4E
local real B7E
local boolean B8E=FALSE
local boolean B9E=false
local unit BDE=(LoadUnitHandle(L7,(OL7),(17)))
local unit CT4=null
local unit DriftTarget=null
local real BEE
local real BFE
local real BGE
local real BHE=(LoadReal(L7,(OL7),(688)))
local boolean BIE=(LoadBoolean(L7,(OL7),(689)))
local boolean BJE=(LoadBoolean(L7,(OL7),(672)))
local real BKE
local ubersplat BME
local real O32=(LoadReal(L7,(OL7),(23)))
local real O42=(LoadReal(L7,(OL7),(24)))
local real Z3E
local real Z6E
local real BNE
local real BOE=5
if GetUnitCurrentOrder(EL8)==852001 then
call DisableTrigger(t)
call RU7(EL8)
call EnableTrigger(t)
endif
call RemoveLocation(l1)
call RemoveLocation(l2)
if IsUnitPaused(EL8)==false and(GetTriggerEventId()==EVENT_UNIT_ISSUED_POINT_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER)then
set F3D=GetUnitX(EL8)
set F6D=GetUnitY(EL8)
if GetIssuedOrderId()!=852490 and GetIssuedOrderId()!=852185 and GetIssuedOrderId()!=852600 then
call DisableTrigger(t)
call RU7(EL8)
call EnableTrigger(t)
endif
if GetIssuedOrderId()==851971 then
if GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER then
set x=GetUnitX(GetOrderTargetUnit())
set y=GetUnitY(GetOrderTargetUnit())
else
set x=GetOrderPointX()
set y=GetOrderPointY()
endif
set A_E=PS7(x,y,F3D,F6D)
if A_E<0 then
set A_E=A_E+360
endif
set B7E=Z1E-A_E
if B7E<0 then
set B7E=B7E+360
endif
if B7E<180 then
set B8E=true
set B4E=Z1E+6
else
set B9E=true
set B4E=Z1E-6
endif
set BHE=PS7(x,y,F3D,F6D)+180
call SaveReal(L7,(OL7),(688),((BHE)*1.0))
endif
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT or GetTriggerEventId()==EVENT_WIDGET_DEATH or(LoadInteger(L7,(GetHandleId(EL8)),(704)))==-1 or CS8>=X04/.02 or DY9(EL8)or B77(EL8)then
if GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and(GetSpellAbilityId()==1093753395 or GetSpellAbilityId()==1093751371 or GetSpellAbilityId()==1093809992))then
call UB7(EL8,"SunRay|Disarmed")
call FT8(EL8)
call SetUnitPathing(EL8,true)
call FlushChildHashtable(L7,(OL7))
call U37(t)
call UnitRemoveAbility(EL8,1093808181)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093753395,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093808181,false)
if(LoadInteger(L7,(GetHandleId(EL8)),(704)))==0 or(LoadInteger(L7,(GetHandleId(EL8)),(704)))==1093753177 then
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093753177,true)
endif
call DestroyLightning(Z2E)
call DestroyLightning(Z_E)
call DestroyLightning(A4E)
call DestroyLightning(A7E)
call DestroyLightning(A8E)
call StopSound(XR4,false,true)
endif
elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER then
if GetIssuedOrderId()==String2OrderIdBJ("immolation")then
set BIE=true
endif
if GetIssuedOrderId()==String2OrderIdBJ("unimmolation")then
set BIE=false
endif
call SaveBoolean(L7,(OL7),(689),(BIE))
else
set A_E=Z1E-BHE
if A_E<-180 then
set A_E=A_E+360
elseif A_E>180 then
set A_E=A_E-360
endif
set BKE=1
if CS8<35 and BJE==true then
set BKE=7
endif
if A_E<(-1*BKE)then
set Z1E=Z1E+BKE
elseif A_E>BKE then
set Z1E=Z1E-BKE
else
set BJE=false
call SaveBoolean(L7,(OL7),(672),(BJE))
set Z1E=BHE
endif
if UX7(EL8,"DashState1")==false then
call SetUnitFacing(EL8,Z1E)
endif
set a=Z1E*bj_DEGTORAD
set CS8=CS8+1
call SaveInteger(L7,(OL7),(34),(CS8))
set ADE=X34
set F3D=GetUnitX(EL8)+50*Cos(a)
set F6D=GetUnitY(EL8)+50*Sin(a)
if BIE and FO8(EL8)==false and DY9(EL8)==false then
if((LoadInteger(L7,(GetHandleId((EL8))),((4331))))==D)==true then
set BOE=BOE*2
endif
set BGE=a
set BEE=DD8(GetUnitX(EL8)+BOE*Cos(BGE))
set BFE=DE8(GetUnitY(EL8)+BOE*Sin(BGE))
call E78(BEE,BFE,200)
call SetUnitX(EL8,BEE)
call SetUnitY(EL8,BFE)
endif
call SetUnitState(EL8,UNIT_STATE_LIFE,GetUnitState(EL8,UNIT_STATE_LIFE)-GetUnitState(EL8,UNIT_STATE_LIFE)*0.03*0.02)
call E78(F3D,F6D,200)
if ModuloInteger(CS8,10)==0 then
set X_4=CA7()
set IN4=EL8
set i=0
loop
exitwhen i*50>X34
set x=F3D+i*50*Cos(a)
set y=F6D+i*50*Sin(a)
set g=CA7()
call GroupEnumUnitsInRange(g,x,y,130+25,Condition(function FW8))
call GroupAddGroup(g,X_4)
call GroupEnumUnitsInRange(g,x,y,100,Condition(function GE8))
call GroupAddGroup(g,X_4)
call CZ7(g)
if ModuloInteger(i,3)==0 then
call EE8(GetOwningPlayer(EL8),2,x,y,225)
endif
set i=i+1
endloop
set X24=EL8
set X54=GetUnitAbilityLevel(EL8,1093753177)
set BNE=(I2R(CS8)/50.0)/6
set Y44=(5*X54+10)+(5*X54+10)*BNE
set Y74=(X54+BNE*(X54))/100
call GroupRemoveUnit(X_4,EL8)
call ForGroup(X_4,function ZCE)
call CZ7(X_4)
set g=null
set X_4=null
endif
if LR7(EL8)==false then
if BDE!=null then
set ADE=RH7(EL8,BDE)
endif
set AEE=F3D
set AFE=F6D
set AGE=Z0E+200
set AHE=AEE+ADE*Cos(a)
set AIE=AFE+ADE*Sin(a)
set AJE=Z5E
set AKE=F3D+X64*Cos((Z1E-90)*bj_DEGTORAD)
set AME=F6D+XL4*Cos((Z1E-90)*bj_DEGTORAD)
set ANE=Z0E+200
set APE=AKE+ADE*Cos(a)
set AQE=AME+ADE*Sin(a)
set ARE=Z5E
set ASE=F3D+X64*Cos((Z1E+90)*bj_DEGTORAD)
set ATE=F6D+XL4*Cos((Z1E+90)*bj_DEGTORAD)
set AUE=Z0E+200
set AVE=ASE+ADE*Cos(a)
set AWE=ATE+ADE*Sin(a)
set AXE=Z5E
set AYE=F3D
set AZE=F6D
set AAE=Z0E+200+X14
set ABE=AYE+ADE*Cos(a)
set ACE=AZE+ADE*Sin(a)
set A3E=Z5E
set A6E=F3D
set ALE=F6D
set A1E=Z0E+200-X14
set A0E=A6E+ADE*Cos(a)
set A5E=ALE+ADE*Sin(a)
set A2E=Z5E
if ModuloInteger(CS8,10)==0 and ADE==X34 then
set x=GetUnitX(EL8)+(X34)*Cos(a)
set y=GetUnitY(EL8)+(X34)*Sin(a)
call DestroyEffect(AddSpecialEffect("war3mapImported\\FireRayTarget.mdx",x,y))
endif
if ModuloInteger(CS8,10)==0 then
call SetSoundPosition(XR4,GetUnitX(EL8),GetUnitY(EL8),100)
set x=GetUnitX(EL8)+(ADE)*Cos(a)
set y=GetUnitY(EL8)+(ADE)*Sin(a)
set BME=CreateUbersplat(x,y,"SRAY",255,255,255,255,false,false)
call SetUbersplatRenderAlways(BME,true)
call TH9(BME,10)
set BME=null
endif
call MoveLightningEx(Z2E,false,AEE,AFE,AGE,AHE,AIE,AJE)
call MoveLightningEx(Z_E,false,AKE,AME,ANE,APE,AQE,ARE)
call MoveLightningEx(A4E,false,ASE,ATE,AUE,AVE,AWE,AXE)
call MoveLightningEx(A7E,false,AYE,AZE,AAE,ABE,ACE,A3E)
call MoveLightningEx(A8E,false,A6E,ALE,A1E,A0E,A5E,A2E)
if CP7(GetLocalPlayer())then
set A9E=1
endif
call SetLightningColor(Z2E,1.00,1.00,1.00,A9E)
call SetLightningColor(Z_E,1.00,1.00,1.00,A9E)
call SetLightningColor(A4E,1.00,1.00,1.00,A9E)
call SetLightningColor(A7E,1.00,1.00,1.00,A9E)
call SetLightningColor(A8E,1.00,1.00,1.00,A9E)
endif
endif
set t=null
set EL8=null
set Z2E=null
set Z_E=null
set A4E=null
set A7E=null
set A8E=null
set l1=null
set l2=null
return false
endfunction
function BPE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
local real a=PS7(GetUnitX(EL8),GetUnitY(EL8),GetSpellTargetX(),GetSpellTargetY())*bj_DEGTORAD
local real EG8=DD8(GetUnitX(EL8)+X34*Cos(a))
local real EH8=DE8(GetUnitY(EL8)+X34*Sin(a))
local lightning Z2E=AddLightning("SRAY",false,GetUnitX(EL8),GetUnitY(EL8),EG8,EH8)
local lightning Z_E=AddLightning("SRAY",false,GetUnitX(EL8),GetUnitY(EL8),EG8,EH8)
local lightning A4E=AddLightning("SRAY",false,GetUnitX(EL8),GetUnitY(EL8),EG8,EH8)
local lightning A7E=AddLightning("SRAY",false,GetUnitX(EL8),GetUnitY(EL8),EG8,EH8)
local lightning A8E=AddLightning("SRAY",false,GetUnitX(EL8),GetUnitY(EL8),EG8,EH8)
call SetUnitFacing(EL8,a*bj_RADTODEG)
call StartSound(XR4)
call SetSoundPosition(XR4,GetUnitX(EL8),GetUnitY(EL8),100)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterDeathEvent(t,EL8)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_ISSUED_TARGET_ORDER)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_ISSUED_POINT_ORDER)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_ISSUED_ORDER)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZLE))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveReal(L7,(OL7),(13),((a)*1.0))
call SaveReal(L7,(OL7),(688),((a*bj_RADTODEG)*1.0))
call SaveLightningHandle(L7,(OL7),(676),(Z2E))
call SaveLightningHandle(L7,(OL7),(677),(Z_E))
call SaveLightningHandle(L7,(OL7),(678),(A4E))
call SaveLightningHandle(L7,(OL7),(679),(A7E))
call SaveLightningHandle(L7,(OL7),(680),(A8E))
call SaveBoolean(L7,(OL7),(689),(false))
call SaveBoolean(L7,(OL7),(672),(true))
call SaveReal(L7,(OL7),(688),((a*bj_RADTODEG)*1.0))
call SaveReal(L7,(OL7),(23),((GetUnitX(EL8))*1.0))
call SaveReal(L7,(OL7),(24),((GetUnitY(EL8))*1.0))
call FR8(EL8)
call UZ7(EL8,"SunRay|Disarmed")
call SetUnitPathing(EL8,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093753395,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093808181,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093753177,false)
call LP7(EL8,1093753395)
call UnitMakeAbilityPermanent(EL8,true,1093753395)
call LP7(EL8,1093808181)
call UnitMakeAbilityPermanent(EL8,true,1093808181)
call TriggerEvaluate(t)
set t=null
set EL8=null
set EL8=null
set Z2E=null
set Z_E=null
set A4E=null
set A7E=null
set A8E=null
endfunction
function BQE takes nothing returns boolean
if GetSpellAbilityId()==1093753177 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST then
else
call BPE()
endif
endif
return false
endfunction
function UG8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call D28(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function BQE))
call TK9(1093753396)
call TK9(1093753409)
call TK9(1093753410)
call TK9(1093753401)
set t=null
endfunction
function BRE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local integer HF8=GetUnitAbilityLevel(EL8,Y84)
if GetTriggerEventId()==EVENT_UNIT_DEATH or(TimerGetElapsed(W))>=(LoadReal(L7,(GetHandleId(O_7)),(757)))or CO7(O_7)==true then
call UnitRemoveAbility(O_7,YF4)
call DestroyEffect((LoadEffectHandle(L7,(OL7),(176))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
if ModuloInteger(GetTriggerEvalCount(t),4)==0 then
call HG8(EL8,O_7,ZG4,20*HF8)
endif
set t=null
set EL8=null
return false
endfunction
function BSE takes nothing returns nothing
local unit EL8=YE4
local unit O_7=GetEnumUnit()
local trigger t
local integer OL7
call SaveReal(L7,(GetHandleId(O_7)),(757),(((TimerGetElapsed(W))+4)*1.0))
if GetUnitAbilityLevel(O_7,YF4)==0 then
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerAddCondition(t,Condition(function BRE))
call TriggerRegisterDeathEvent(t,O_7)
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveEffectHandle(L7,(OL7),(176),(AddSpecialEffectTarget(YI4,O_7,"chest")))
if D69(O_7)==false then
call UnitAddAbility(O_7,YF4)
call UnitMakeAbilityPermanent(O_7,true,YF4)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(O_7),YJ4,false)
endif
set EL8=null
set O_7=null
set t=null
endfunction
function BTE takes unit EL8,unit EF8,real K4E,unit HE8,unit O_7 returns nothing
local real x=GetUnitX(EF8)
local real y=GetUnitY(EF8)
local group g=CA7()
set IN4=EL8
set YE4=EL8
call GroupEnumUnitsInRange(g,x,y,175+25,Condition(function F18))
call ForGroup(g,function BSE)
call CZ7(g)
call DestroyEffect(AddSpecialEffect("war3mapImported\\Firaga_2.mdx",x,y))
call KillUnit(EF8)
call ShowUnit(EF8,false)
set g=null
endfunction
function BUE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local integer CS8=(LoadInteger(L7,(OL7),(34)))
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local unit HE8=(LoadUnitHandle(L7,(OL7),(19)))
local unit BVE=(LoadUnitHandle(L7,(OL7),(393)))
local real K4E=(LoadReal(L7,(OL7),(685)))
local real EG8
local real EH8
local real x
local real y
local real a
local real r=18
local integer HF8=GetUnitAbilityLevel(EL8,1093753176)
if GetTriggerEventId()==EVENT_UNIT_DEATH then
set EG8=GetUnitX(O_7)
set EH8=GetUnitY(O_7)
call SaveReal(L7,(OL7),(47),((EG8)*1.0))
call SaveReal(L7,(OL7),(48),((EH8)*1.0))
call RemoveSavedHandle(L7,(OL7),(17))
call SaveUnitHandle(L7,(OL7),(17),(null))
elseif O_7==null then
set EG8=(LoadReal(L7,(OL7),(47)))
set EH8=(LoadReal(L7,(OL7),(48)))
else
set EG8=GetUnitX(O_7)
set EH8=GetUnitY(O_7)
endif
set a=PS7(GetUnitX(BVE),GetUnitY(BVE),EG8,EH8)
call SetUnitFacing(BVE,a)
set x=GetUnitX(BVE)+r*Cos(a*bj_DEGTORAD)
set y=GetUnitY(BVE)+r*Sin(a*bj_DEGTORAD)
call SetUnitX(BVE,x)
call SetUnitY(BVE,y)
if RI7(x,y,EG8,EH8)<r*2 then
call BTE(EL8,BVE,K4E,HE8,O_7)
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set t=null
set EL8=null
set O_7=null
set BVE=null
set HE8=null
return false
endfunction
function BWE takes unit EL8,unit BVE,unit O_7,real K4E,unit HE8 returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local group g
local unit NewTarget
if EL8==O_7 then
call KillUnit(BVE)
call ShowUnit(BVE,false)
else
call SetUnitVertexColor(BVE,255,255,255,255)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function BUE))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveUnitHandle(L7,(OL7),(393),(BVE))
call SaveReal(L7,(OL7),(47),((GetSpellTargetX())*1.0))
call SaveReal(L7,(OL7),(48),((GetSpellTargetY())*1.0))
call SaveReal(L7,(OL7),(685),((K4E)*1.0))
call SaveUnitHandle(L7,(OL7),(19),(HE8))
endif
set t=null
endfunction
function BXE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local integer CS8=(LoadInteger(L7,(OL7),(34)))
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local real F3D=GetUnitX(EL8)
local real F6D=GetUnitY(EL8)
local unit BYE=(LoadUnitHandle(L7,(OL7),(393)))
local unit BZE=(LoadUnitHandle(L7,(OL7),(394)))
local unit BAE=(LoadUnitHandle(L7,(OL7),(395)))
local unit BBE=(LoadUnitHandle(L7,(OL7),(396)))
local integer HF8=GetUnitAbilityLevel(EL8,1093753176)
local real a=GetUnitFacing(EL8)
local real x
local real y
local group g
local group g2
local real JND=-1*360*0.02/4
local real a2
local real WJ9
local real K4E=(LoadReal(L7,(OL7),(685)))
local real BCE
local unit HE8=(LoadUnitHandle(L7,(OL7),(19)))
local integer B3E=GetHandleId(EL8)
local player pl=GetOwningPlayer(EL8)
local integer B6E=800
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093753394 then
if LR7(BYE)==false then
call BWE(EL8,BYE,GetSpellTargetUnit(),K4E,HE8)
call RemoveSavedHandle(L7,(OL7),(393))
elseif LR7(BZE)==false then
call BWE(EL8,BZE,GetSpellTargetUnit(),K4E,HE8)
call RemoveSavedHandle(L7,(OL7),(394))
elseif LR7(BAE)==false then
call BWE(EL8,BAE,GetSpellTargetUnit(),K4E,HE8)
call RemoveSavedHandle(L7,(OL7),(395))
elseif LR7(BBE)==false then
call BWE(EL8,BBE,GetSpellTargetUnit(),K4E,HE8)
call RemoveSavedHandle(L7,(OL7),(396))
if(Z27(pl))then
call TR7(B3E,"Bird4")
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093753394,false)
if(LoadInteger(L7,(GetHandleId(EL8)),(704)))==0 or(LoadInteger(L7,(GetHandleId(EL8)),(704)))==1093753176 then
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093753176,true)
endif
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
elseif GetSpellAbilityId()==1093751371 then
if BYE!=null and LR7(BYE)==false then
call BWE(EL8,BYE,EL8,K4E,HE8)
endif
if BZE!=null and LR7(BZE)==false then
call BWE(EL8,BZE,EL8,K4E,HE8)
endif
if BAE!=null and LR7(BAE)==false then
call BWE(EL8,BAE,EL8,K4E,HE8)
endif
if BBE!=null and LR7(BBE)==false then
call BWE(EL8,BBE,EL8,K4E,HE8)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093753394,false)
if(LoadInteger(L7,(GetHandleId(EL8)),(704)))==0 or(LoadInteger(L7,(GetHandleId(EL8)),(704)))==1093753176 then
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093753176,true)
endif
call FlushChildHashtable(L7,(OL7))
call U37(t)
if(Z27(pl))then
call TR7(B3E,"Bird4")
call TT7(B3E,"BirdsCounter",0)
endif
endif
else
set CS8=CS8+1
call SaveInteger(L7,(OL7),(34),(CS8))
if(Z27(pl))then
call TT7(B3E,"BirdsCounter",CS8)
endif
if BYE!=null and LR7(BYE)==false then
set WJ9=360*4/4.0
set a2=WJ9+JND*CS8
set x=DD8(F3D+200*Cos(a2*bj_DEGTORAD))
set y=DE8(F6D+200*Sin(a2*bj_DEGTORAD))
call SetUnitFacing(BYE,a2-90)
call SetUnitX(BYE,x)
call SetUnitY(BYE,y)
endif
if BZE!=null and LR7(BZE)==false then
set WJ9=360*3/4.0
set a2=WJ9+JND*CS8
set x=DD8(F3D+200*Cos(a2*bj_DEGTORAD))
set y=DE8(F6D+200*Sin(a2*bj_DEGTORAD))
call SetUnitFacing(BZE,a2-90)
call SetUnitX(BZE,x)
call SetUnitY(BZE,y)
endif
if BAE!=null and LR7(BAE)==false then
set WJ9=360*2/4.0
set a2=WJ9+JND*CS8
set x=DD8(F3D+200*Cos(a2*bj_DEGTORAD))
set y=DE8(F6D+200*Sin(a2*bj_DEGTORAD))
call SetUnitFacing(BAE,a2-90)
call SetUnitX(BAE,x)
call SetUnitY(BAE,y)
endif
if BBE!=null and LR7(BBE)==false then
set WJ9=360*1/4.0
set a2=WJ9+JND*CS8
set x=DD8(F3D+200*Cos(a2*bj_DEGTORAD))
set y=DE8(F6D+200*Sin(a2*bj_DEGTORAD))
call SetUnitFacing(BBE,a2-90)
call SetUnitX(BBE,x)
call SetUnitY(BBE,y)
endif
if CS8>B6E or GetTriggerEventId()==EVENT_UNIT_DEATH then
if BYE!=null and LR7(BYE)==false then
call BWE(EL8,BYE,EL8,K4E,HE8)
endif
if BZE!=null and LR7(BZE)==false then
call BWE(EL8,BZE,EL8,K4E,HE8)
endif
if BAE!=null and LR7(BAE)==false then
call BWE(EL8,BAE,EL8,K4E,HE8)
endif
if BBE!=null and LR7(BBE)==false then
call BWE(EL8,BBE,EL8,K4E,HE8)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093753394,false)
if(LoadInteger(L7,(GetHandleId(EL8)),(704)))==0 or(LoadInteger(L7,(GetHandleId(EL8)),(704)))==1093753176 then
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093753176,true)
endif
call FlushChildHashtable(L7,(OL7))
call U37(t)
if(Z27(pl))then
call TR7(B3E,"Bird4")
call TT7(B3E,"BirdsCounter",0)
endif
else
set K4E=RMinBJ(0.25+0.75*(I2R(CS8)/500.0),1)
call SaveReal(L7,(OL7),(685),((K4E)*1.0))
set BCE=0.25+(1-0.2)*2.5
call SetUnitScale(BYE,BCE,BCE,BCE)
call SetUnitScale(BZE,BCE,BCE,BCE)
call SetUnitScale(BAE,BCE,BCE,BCE)
call SetUnitScale(BBE,BCE,BCE,BCE)
if CS8==(B6E-175)then
call EB8(XS4,GetOwningPlayer(EL8))
endif
if CS8>(B6E-200)then
if ModuloInteger(CS8,10)==0 or ModuloInteger(CS8,10)==1 or ModuloInteger(CS8,10)==2 or ModuloInteger(CS8,10)==3 or ModuloInteger(CS8,10)==4 then
call SetUnitVertexColor(BYE,255,0,0,255)
call SetUnitVertexColor(BZE,255,0,0,255)
call SetUnitVertexColor(BAE,255,0,0,255)
call SetUnitVertexColor(BBE,255,0,0,255)
else
call SetUnitVertexColor(BYE,255,255,255,255)
call SetUnitVertexColor(BZE,255,255,255,255)
call SetUnitVertexColor(BAE,255,255,255,255)
call SetUnitVertexColor(BBE,255,255,255,255)
endif
endif
endif
endif
set t=null
set EL8=null
set BYE=null
set BZE=null
set BAE=null
set BBE=null
set HE8=null
return false
endfunction
function BLE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
local real F3D=GetUnitX(EL8)
local real F6D=GetUnitY(EL8)
local real x
local real y
local unit BYE
local unit BZE
local unit BAE
local unit BBE
local real a=GetUnitFacing(EL8)
local unit HE8=null
local integer B3E=GetHandleId(EL8)
local player pl=GetOwningPlayer(EL8)
call TH7(HE8)
call UnitAddAbility(HE8,YG4)
call SetUnitState(EL8,UNIT_STATE_LIFE,GetUnitState(EL8,UNIT_STATE_LIFE)-GetUnitState(EL8,UNIT_STATE_LIFE)*0.15)
call LP7(EL8,1093753394)
call UnitMakeAbilityPermanent(EL8,true,1093753394)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093753394,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093753176,false)
set x=GetUnitX(EL8)+200*Cos(bj_DEGTORAD*360*4/4.0*-1.0)
set y=GetUnitY(EL8)+200*Sin(bj_DEGTORAD*360*4/4.0*-1.0)
set BYE=CreateUnit(GetOwningPlayer(EL8),1747993429,x,y,360*4/4.0*-1.0)
set x=GetUnitX(EL8)+200*Cos(bj_DEGTORAD*360*3/4.0*-1.0)
set y=GetUnitY(EL8)+200*Sin(bj_DEGTORAD*360*3/4.0*-1.0)
set BZE=CreateUnit(GetOwningPlayer(EL8),1747993429,x,y,360*3/4.0*-1.0)
set x=GetUnitX(EL8)+200*Cos(bj_DEGTORAD*360*2/4.0*-1.0)
set y=GetUnitY(EL8)+200*Sin(bj_DEGTORAD*360*2/4.0*-1.0)
set BAE=CreateUnit(GetOwningPlayer(EL8),1747993429,x,y,360*2/4.0*-1.0)
set x=GetUnitX(EL8)+200*Cos(bj_DEGTORAD*360*1/4.0*-1.0)
set y=GetUnitY(EL8)+200*Sin(bj_DEGTORAD*360*1/4.0*-1.0)
set BBE=CreateUnit(GetOwningPlayer(EL8),1747993429,x,y,360*1/4.0*-1.0)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function BXE))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(393),(BYE))
call SaveUnitHandle(L7,(OL7),(394),(BZE))
call SaveUnitHandle(L7,(OL7),(395),(BAE))
call SaveUnitHandle(L7,(OL7),(396),(BBE))
call SaveUnitHandle(L7,(OL7),(19),(HE8))
if(Z27(pl))then
call TX7(B3E,"Bird4",BBE)
endif
set EL8=null
set BYE=null
set BZE=null
set BAE=null
set BBE=null
set HE8=null
endfunction
function B1E takes nothing returns boolean
if GetSpellAbilityId()==1093753176 then
call BLE()
endif
return false
endfunction
function UF8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function B1E))
set t=null
endfunction
function B0E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local integer HF8=GetUnitAbilityLevel(EL8,YH4)
if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>4 then
call UnitRemoveAbility(O_7,YJ4)
call UB7(O_7,"IcarusDive|Disarmed")
call DestroyEffect((LoadEffectHandle(L7,(OL7),(176))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
call HG8(EL8,O_7,ZG4,20*HF8)
set t=null
set EL8=null
return false
endfunction
function B5E takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit O_7=GetEnumUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function B0E))
call TriggerRegisterDeathEvent(t,O_7)
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveEffectHandle(L7,(OL7),(176),(AddSpecialEffectTarget(YI4,O_7,"chest")))
call UnitAddAbility(O_7,YJ4)
call UnitMakeAbilityPermanent(O_7,true,YJ4)
call SetPlayerAbilityAvailable(GetOwningPlayer(O_7),YJ4,false)
call UZ7(O_7,"IcarusDive|Disarmed")
set EL8=null
set O_7=null
set t=null
endfunction
function B2E takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local group g=CA7()
call DestroyEffect(AddSpecialEffect(YI4,x,y))
call GroupEnumUnitsInRange(g,x,y,275+25,Condition(function G48))
call ForGroup(g,function B5E)
call CZ7(g)
set g=null
set EL8=null
endfunction
function B_E takes nothing returns boolean
if GetSpellAbilityId()==YH4 then
call B2E()
endif
return false
endfunction
function UD8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function B_E))
set t=null
endfunction
function C4E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit hn=UE7(UL7,"Hero")
local unit HE8=UE7(UL7,"Caster")
call TQ7(UL7)
call U37(t)
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
call KillUnit(HE8)
endif
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosDone.mdl",hn,"origin"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl",hn,"origin"))
call UnitRemoveAbility(hn,1093687875)
call UnitRemoveAbility(hn,1110454358)
set t=null
set hn=null
set HE8=null
return false
endfunction
function C7E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit hn=UE7(UL7,"Hero")
local unit HE8=UE7(UL7,"Caster")
call TQ7(UL7)
call U37(t)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosDone.mdl",hn,"origin"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl",hn,"origin"))
set t=CreateTrigger()
set UL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,18-0.1,false)
call TriggerRegisterDeathEvent(t,hn)
call TriggerAddCondition(t,Condition(function C4E))
call TX7(UL7,"Hero",hn)
call TX7(UL7,"Caster",HE8)
set t=null
set hn=null
set HE8=null
return false
endfunction
function C8E takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit hn=GetTriggerUnit()
local unit C9E=CreateUnit(GetOwningPlayer(hn),1697657174,0,0,0)
local real CDE=18
call LP7(C9E,1093687875)
call UnitApplyTimedLife(C9E,1112820806,CDE)
call LC7(hn,CDE,175)
call TriggerRegisterTimerEvent(t,0.1,false)
call TriggerAddCondition(t,Condition(function C7E))
call TX7(UL7,"Hero",hn)
call TX7(UL7,"Caster",C9E)
set t=null
set C9E=null
set hn=null
endfunction
function CEE takes nothing returns boolean
if GetSpellAbilityId()==1093679411 and GetUnitTypeId(GetTriggerUnit())==1429221432 then
call C8E()
endif
return false
endfunction
function TE8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function CEE))
set t=null
endfunction
function R59 takes nothing returns nothing
local unit p5=B2
local unit m5=C2
local unit HE8=UE7(GetHandleId(p5),"FeralHeartCaster")
call TX7(GetHandleId(m5),"FeralHeartCaster",HE8)
call SetUnitOwner(HE8,GetOwningPlayer(m5),true)
set p5=null
set m5=null
set HE8=null
endfunction
function LS8 takes nothing returns nothing
local unit CL7=IT4
local unit HE8=UE7(GetHandleId(CL7),"FeralHeartCaster")
if HE8!=null and GetUnitTypeId(HE8)==1697657174 then
call RemoveUnit(HE8)
endif
set CL7=null
set HE8=null
endfunction
function CFE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit HE8=(LoadUnitHandle(L7,(OL7),(19)))
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
if HE8!=null and GetUnitTypeId(HE8)==1697657174 then
if LR7(EL8)==false then
call SetUnitX(HE8,GetUnitX(EL8))
call SetUnitY(HE8,GetUnitY(EL8))
endif
endif
set t=null
set HE8=null
set EL8=null
return false
endfunction
function CGE takes unit CL7,boolean B89 returns nothing
local integer HF8=GetUnitAbilityLevel(CL7,1093677893)
local unit HE8
local trigger t
local integer OL7
if HF8==1 or B89 then
set HE8=CreateUnit(GetOwningPlayer(CL7),1697657174,0,0,0)
call LP7(HE8,1093687882)
call TX7(GetHandleId(CL7),"FeralHeartCaster",HE8)
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerAddCondition(t,Condition(function CFE))
call TriggerRegisterTimerEvent(t,0.2,true)
call SaveUnitHandle(L7,(OL7),(2),(CL7))
call SaveUnitHandle(L7,(OL7),(19),(HE8))
else
set HE8=UE7(GetHandleId(CL7),"FeralHeartCaster")
endif
if HF8==2 then
call UnitRemoveAbility(HE8,1093687882)
call LP7(HE8,1093687881)
elseif HF8==3 then
call UnitRemoveAbility(HE8,1093687882)
call UnitRemoveAbility(HE8,1093687881)
call LP7(HE8,1093687880)
elseif HF8==4 then
call UnitRemoveAbility(HE8,1093687882)
call UnitRemoveAbility(HE8,1093687881)
call UnitRemoveAbility(HE8,1093687880)
call LP7(HE8,1093687879)
endif
set HE8=null
endfunction
function CHE takes nothing returns boolean
if GetLearnedSkill()==1093677893 and IsUnitIllusion(GetTriggerUnit())==false then
call CGE(GetTriggerUnit(),false)
endif
return false
endfunction
function TF8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function CHE))
set t=null
endfunction
function CIE takes nothing returns nothing
local unit hn=GetTriggerUnit()
local unit C9E
local integer i=1
local boolean CJE=ZL7(GetOwningPlayer(hn))
local player p
local integer CKE
local integer CME
local integer CNE=GetUnitAbilityLevel(hn,1093687878)
if CNE==1 then
set CKE=1093742644
set CME=1093742647
elseif CNE==2 then
set CKE=1093742641
set CME=1093742646
elseif CNE==3 then
set CKE=1093742642
set CME=1093742645
elseif CNE==4 then
set CKE=1093742643
set CME=1093742648
endif
loop
exitwhen i>5
if CJE then
set p=Z7[i]
else
set p=A7[i]
endif
set C9E=CreateUnit(p,1697657174,0,0,0)
call LP7(C9E,CKE)
call LP7(C9E,CME)
call UnitApplyTimedLife(C9E,1112820806,12)
set i=i+1
endloop
set hn=null
set C9E=null
set p=null
endfunction
function COE takes nothing returns boolean
if GetSpellAbilityId()==1093687878 then
call CIE()
endif
return false
endfunction
function TG8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function COE))
set t=null
endfunction
function CPE takes nothing returns nothing
call DS9()
call DU9()
endfunction
function RF9 takes nothing returns nothing
local string VH=GetEventPlayerChatString()
local player pl=S77(S2I(SubString(VH,3,StringLength(VH))))
if((pl!=null)and(Z_7(pl))and(IsPlayerInForce(pl,QX4)))then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,Q[GetPlayerId(pl)]+GetPlayerName(pl)+"|r creepstats:   K: "+I2S(T7[GetPlayerId(pl)])+"   D: "+I2S(U7[GetPlayerId(pl)]))
endif
set pl=null
endfunction
function RG9 takes nothing returns nothing
local string VH=GetEventPlayerChatString()
local player pl=S77(S2I(SubString(VH,3,StringLength(VH))))
if((pl!=null)and(Z_7(pl))and(IsPlayerInForce(pl,QX4)))then
if(M7[GetPlayerId(pl)]==null)then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,Q[GetPlayerId(pl)]+GetPlayerName(pl)+"|r has no Hero")
else
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,Q[GetPlayerId(pl)]+GetPlayerName(pl)+"|r movespeed is "+I2S(R2I(GetUnitMoveSpeed(M7[GetPlayerId(pl)]))))
endif
endif
set pl=null
endfunction
function CQE takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetTriggerPlayer()))and(not IsUnitIllusion(GetFilterUnit()))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(not SH7(GetFilterUnit()))and(S47(GetFilterUnit())))
endfunction
function CRE takes unit j5,unit m5 returns boolean
if((GetUnitAbilityLevel(j5,1093678665)!=0)and(Bz>hq[16+GetPlayerId(GetOwningPlayer(j5))]))then
set EJ7=200+(200*GetUnitAbilityLevel(j5,1093678665))
return((C57(j5,m5,40/0.03,0,EJ7)!=null)and(C67(j5,m5,GetLocationX(GN7),GetLocationY(GN7),125,Condition(function GP8)))and(IssuePointOrderByIdLoc(j5,852600,GN7)))
endif
return false
endfunction
function CSE takes unit j5,unit m5 returns boolean
if((GetUnitAbilityLevel(j5,1093684280)!=0)and(Bz>hq[32+GetPlayerId(GetOwningPlayer(j5))]))then
return((C57(j5,m5,30/0.035,0,3000.)!=null)and(C67(j5,m5,GetLocationX(GN7),GetLocationY(GN7),140,Condition(function uj)))and(IssuePointOrderByIdLoc(j5,852662,GN7)))
endif
return false
endfunction
function CTE takes unit it,unit m5,boolean CUE returns boolean
local integer i1=GetUnitTypeId(it)
local boolean J4=false
local integer O5=GetPlayerId(GetOwningPlayer(it))
if not(GetPlayerController(GetOwningPlayer(it))==MAP_CONTROL_COMPUTER)then
return false
endif
if G0[288+O5]then
set G0[288+O5]=false
set i1=eY[400+O5]
endif
if(i1==1211117653)then
set J4=(((GetUnitState(it,UNIT_STATE_MANA))>290)and(AG7(it,1093686861)or(Bz>TC4[O5]))and(AR7(it,LP4,LQ4,LR4,1093686861)and IssuePointOrderById(it,852215,GetUnitX(m5),GetUnitY(m5))))or(((GetUnitState(it,UNIT_STATE_MANA))>350)and(AG7(it,1093686859)or(Bz>TC4[O5]))and(Bz>TC4[96+O5])and AR7(it,LQ4,LQ4,LP4,1093686859)and IssuePointOrderById(it,852491,GetUnitX(m5),GetUnitY(m5)))
elseif(i1==1160786505)then
set J4=(IssueTargetOrderById(it,852185,m5))
elseif(i1==1429221424)then
set J4=T77(it,852555,1093687351,m5)
elseif(i1==1432646245)then
set J4=((i2(m5))or(CUE))and(T77(it,852095,1093677640,m5))
elseif(i1==1430468913)then
set J4=(IsUnitInRange(it,m5,200.))and(TG7(it,852127,1093810507))
elseif(i1==1430467634)then
set J4=((i2(m5))or(CUE))and(T77(it,852231,1093679412,m5))
elseif(i1==1313026096)then
set J4=T77(it,852095,1095267426,m5)
elseif(i1==1211117617)then
set J4=T77(it,OrderId("acidbomb"),1093744944,m5)
elseif(i1==1430466872)then
set J4=(T77(it,852555,1093687349,m5))or((not CUE)and(T77(it,852502,1093684558,m5)))
elseif(i1==1164666213)then
set J4=T77(it,852224,1093678679,m5)
elseif(i1==1430466865)then
set J4=(IsUnitInRange(it,m5,300.))and(TG7(it,852127,1093810508))
elseif(i1==1429221441)then
set J4=T77(it,852231,1093678389,m5)
elseif(i1==1332766568)then
set J4=(not CUE)and(i2(m5))and(IsUnitInRange(it,m5,500.))and(IssueImmediateOrderById(it,852600))
elseif(i1==1429221451)then
set J4=IssueTargetOrderById(it,852218,m5)
elseif(i1==1429221446)then
set J4=((IsUnitInRange(it,m5,300.))and(T97(it,852480,1093682764,1093747544,m5)))or(((i2(m5))or(CUE))and(CRE(it,m5)))
elseif(i1==1429221445)then
set J4=(GetUnitLifePercent(m5)<60.)and(T97(it,852095,1093678647,1093679184,m5))
elseif(i1==1160786241)then
set J4=T77(it,852218,1093684813,m5)
elseif(i1==1429221456)then
set J4=(i2(m5))and(T77(it,852119,1093685066,m5))
elseif(i1==1430468406)then
set J4=(not CUE)and(i2(m5))and(T77(it,852592,kS(it),m5))
elseif(i1==1311780946)then
set J4=T77(it,852488,1093685825,m5)
elseif(i1==1211117646)then
set J4=(i2(m5))and(T77(it,852238,1093685573,m5))
elseif(i1==1160785973)then
set J4=((i2(m5))or(CUE))and(T77(it,852231,1093678130,m5))
elseif(i1==1332963428)then
set J4=((not CUE)and(T77(it,852227,1093678169,m5)))or((GetUnitState(it,UNIT_STATE_MANA)>hq[272+GetPlayerId(GetOwningPlayer(it))])and(T77(it,852480,1093677649,m5)))
elseif(i1==1332109682)then
set J4=(IsUnitInRange(it,m5,500.))and(TG7(it,852588,1093810505))
elseif(i1==1315988077)then
set J4=(IsUnitInRange(it,m5,200.))and(TG7(it,852096,1093678669))
elseif(i1==1211117616)then
set J4=((IsUnitInRange(it,m5,200.))and(TG7(it,852127,1093677139)))or((i2(m5))and(T77(it,852231,1093677132,m5)))
elseif(i1==1315074670)then
set J4=(not CUE)and(i2(m5))and(T77(it,852592,1093685570,m5))
elseif(i1==1215063922)then
set J4=(IsUnitInRange(it,m5,300.))and(T77(it,852095,1093681490,m5))
elseif(i1==1315007329)then
set J4=((i2(m5))or(CUE))and(T77(it,852095,1093677108,m5))
elseif(i1==1332898670)then
set J4=(T77(it,852502,1093685848,m5))or((IsUnitInRange(it,m5,400)or DA9(m5))and(T77(it,852480,1093677136,m5)))
elseif(i1==1215128178)then
set J4=(i2(m5))and(T77(it,852095,1093683779,m5))
elseif(i1==1215723364)then
set J4=T77(it,852095,1093677633,m5)
elseif(i1==1433105516)then
set J4=IssueTargetOrderById(it,852662,m5)
elseif(i1==1212363833)then
set J4=(not CUE)and(((i2(m5))and(IssueImmediateOrderById(it,852600)))or(T77(it,852095,1093809220,m5)))
elseif(i1==1214931305)then
set J4=T77(it,852171,1093678147,m5)
elseif(i1==1311787088)then
set J4=T77(it,OrderId("channel"),1093750087,m5)
elseif(i1==1212365106)then
set J4=(i2(m5))and(T77(it,852089,1093685831,m5))
elseif(i1==1211117620)then
set J4=T87(it,852232,1093677623,C_7(it,m5,.95,600.))
elseif(i1==1333027688)then
set J4=T77(it,OrderId("channel"),1093686091,m5)
elseif(i1==1332179560)then
set J4=((i2(m5))or(CUE))and(T77(it,OrderId("acidbomb"),1093742660,m5))
elseif(i1==1432580716)or(i1==1429221720)then
set J4=T77(it,852089,1093684300,m5)
elseif(i1==1215130471)then
set J4=T77(it,852095,WO7(it),m5)or(US7(GetHandleId(it),"AI|Magi2Blast")and T77(it,852600,1093815121,m5))
elseif(i1==1160786000)then
set J4=T87(it,852580,1093685046,C57(it,m5,2000.,0.65,1100.))
elseif(i1==1311781206)then
set J4=CSE(it,m5)
elseif(i1==1311780930)then
set J4=(i2(m5))and((IsUnitInRange(it,m5,350.))and(IssueImmediateOrderById(it,852600)))
elseif(i1==1211119187)then
set J4=T77(it,OrderId("blizzard"),1093743414,m5)
elseif((i1==1311781193)or(i1==1311781192)or(i1==1311781204)or(i1==1311781194))then
set J4=(UX7(it,"AlcheBrew"))and(IssueTargetOrderById(it,852600,m5))
elseif(i1==1211117651)then
set J4=(T77(it,852119,1093743698,m5))
elseif(i1==1311786311)then
set J4=(not S47(m5))and(T77(it,852119,1093743178,m5))
elseif(i1==1328558390)then
set J4=(T77(it,852119,1093744975,m5))or(T77(it,852218,1093744982,m5))
elseif(i1==1160786504)then
set J4=T77(it,852119,1093751608,m5)
elseif(i1==1160786520)then
set J4=T77(it,852214,1093809990,m5)
elseif(i1==1160786507)then
set J4=(not CUE)and(IssueTargetOrderById(it,852095,m5))
endif
if(not J4)then
if(not J4)and(SU7(it,ZU[Q1]))then
set J4=(not CUE)and((i2(m5))or(SH7(it)))and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if(not J4)and(SU7(it,ZU[D74]))then
set J4=(not CUE)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if(not J4)and(SU7(it,ZU[U3]))then
set J4=(not CUE)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if(not J4)and(SU7(it,ZU[DR4])and(DY9(m5)==false)and(B77(m5)==false))then
set J4=(not CUE)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if(not J4)and(SU7(it,ZU[DP4]))then
set J4=(not CUE)and(UnitUseItem(it,bj_lastCreatedItem))
endif
endif
if(i1==1160786520)and(not J4)and(hq[816+O5]>Bz)then
set G0[288+O5]=true
set J4=CTE(it,m5,CUE)
endif
return J4
endfunction
function CVE takes unit it,boolean CWE returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(it))
set GZ[512+O5]=CWE
if(Q04[64+O5]!=null)then
call TriggerExecute(Q04[64+O5])
endif
endfunction
function CXE takes nothing returns boolean
return((GetFilterUnit()!=bj_lastLoadedUnit)and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(SE7(GetFilterUnit()))and(not SH7(GetFilterUnit())))or((GetWidgetLife(GetFilterUnit())>0)and(WH7(GetFilterUnit())))))
endfunction
function CYE takes integer O5,unit m5,boolean CZE,boolean CAE returns nothing
local unit PI7=null
local integer V87=0
local boolean J4=false
if not(G0[128+O5]or GZ[208+O5]or CZE)then
if(h4[O5]==null)then
call CVE(M7[O5],false)
endif
return
elseif h4[O5]==m5 and(Bz<hq[928+O5])then
return
endif
set h4[O5]=m5
set hq[928+O5]=Bz+1
call GroupClear(H8)
set bj_lastLoadedUnit=M7[O5]
if CAE then
call GroupEnumUnitsInRange(H8,GetUnitX(m5),GetUnitY(m5),2400,Condition(function CXE))
else
call GroupEnumUnitsInRange(H8,GetUnitX(m5),GetUnitY(m5),1200,Condition(function CXE))
endif
set J4=(QY4[O5]and CTE(M7[O5],m5,false))
loop
set PI7=FirstOfGroup(H8)
exitwhen PI7==null
call GroupRemoveUnit(H8,PI7)
set V87=GetPlayerId(GetOwningPlayer(PI7))
if V87!=0 and V87!=6 and V87<12 and(h4[V87]==null or SE7(h4[V87])==false)and QY4[O5]then
if(IsUnitType(PI7,UNIT_TYPE_HERO))then
if(not GZ[160+O5])then
set h4[V87]=m5
set hq[928+V87]=Bz+1
if is(PI7)then
call IssueTargetOrderById(PI7,851983,m5)
set J4=(J4 or(CTE(PI7,m5,false)))
endif
endif
elseif is(PI7)then
call IssueTargetOrderById(PI7,851983,m5)
else
endif
endif
endloop
if(is(M7[O5]))then
call IssueTargetOrderById(M7[O5],851983,m5)
endif
set PI7=null
endfunction
function CBE takes integer O5,boolean CCE returns boolean
local integer i=0
local integer j=0
set h4[O5]=null
set hq[928+O5]=0
set hq[480+O5]=0
if CCE and(G0[144+O5])and(not SH7(M7[O5]))then
set i=1
set j=-1
set EJ7=999999
loop
exitwhen i>11
if IsPlayerAlly(Player(i),Player(O5))and h4[i]!=null and IsUnitInRange(M7[O5],h4[i],1100.)then
set EK7=GetWidgetLife(h4[i])
if j==-1 or EK7<EJ7 then
set j=i
set EJ7=EK7
endif
endif
endloop
if(j==-1)then
set bj_lastLoadedUnit=M7[O5]
set bj_lastReplacedUnit=Z77(800.,M7[O5])
if(bj_lastReplacedUnit!=null)then
set h4[O5]=bj_lastReplacedUnit
endif
else
set h4[O5]=h4[j]
endif
endif
if h4[O5]!=null then
call CYE(O5,h4[O5],false,false)
endif
return false
endfunction
function C3E takes nothing returns nothing
local unit it=GetEnumUnit()
local unit m5=M7[GetPlayerId(GetTriggerPlayer())]
local integer i1=GetUnitTypeId(it)
local integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))
local boolean J4
set GZ[64+O5]=true
if(i1==1430466609)then
set J4=(IsUnitInRange(it,m5,300.))and(TG7(it,852526,1093678145))
elseif(i1==1430467634)then
set J4=(SS7(500.,m5,Condition(function k8))>0)and(TG7(it,OrderId("fanofknives"),1093750608))
elseif(i1==1211117653)then
set J4=(IsUnitInRange(it,m5,650.))and AR7(it,LQ4,LQ4,LR4,1093686865)and T77(it,852490,1093686865,m5)
elseif(i1==1160786505)then
set J4=(IsUnitInRange(it,m5,560.))and(IssueImmediateOrderById(it,852594))
elseif(i1==1164666213)then
set J4=(IsUnitInRange(it,m5,500.))and(SS7(500.,m5,Condition(function k8))>0)and(TG7(it,852594,1093677877))
elseif((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517))then
set J4=((GetUnitLifePercent(it)-30.)>GetUnitLifePercent(m5))and(T77(it,852189,1093678929,m5))
elseif(i1==1433168227)then
set J4=T77(it,852225,1093679186,m5)
elseif(i1==1430466865)then
set J4=T77(it,852066,1093677879,m5)
elseif(i1==1429221432)then
set J4=(IsUnitInRange(it,m5,500.))and(TG7(it,OrderId("channel"),1093687878))
elseif(i1==1432642913)then
set J4=(IssueTargetOrderById(it,852119,m5))or(IssueTargetOrderById(it,852662,m5))
elseif(i1==1332766568)then
set J4=(IsUnitInRange(it,m5,400.))and(SS7(400.,m5,Condition(function k8))>0)and(IssueImmediateOrderById(it,852096))
elseif(i1==1429221445)then
set J4=(IsUnitInRange(it,m5,500.))and(TG7(it,852526,1093678422))
elseif(i1==1211117617)then
set J4=(IsUnitInRange(it,m5,430.))and(TG7(it,852526,1093814611))
elseif(i1==1311787088)then
set J4=(IsUnitInRange(it,m5,760.))and(T77(it,OrderId("berserk"),1093748817,m5))
elseif(i1==1211117640)then
set J4=(IsUnitInRange(it,m5,400.))and(SS7(400.,m5,Condition(function k8))>0)and(IssuePointOrderById(it,852089,GetUnitX(m5),GetUnitY(m5)))
elseif(i1==1160786241)then
if((GetUnitManaPercent(it)>50.)and(IsUnitInRange(it,m5,300.)))then
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093684805,true)
set J4=(GetUnitAbilityLevel(it,1110455882)==0)and(IssueImmediateOrderById(it,852177))
endif
elseif(i1==1160786243)then
set J4=IssueTargetOrderById(it,852248,m5)
elseif(i1==1311781207)then
set J4=((GetUnitLifePercent(it)<40.)and(IssueTargetOrderById(it,852536,m5)))or(IssueTargetOrderById(it,852229,m5))
elseif((i1==1211117650)or(i1==1211119433))then
set IN4=it
set J4=(SS7(1000.,it,Condition(function ny))>2)and(IssueTargetOrderById(it,852699,m5))
elseif(i1==1211117646)then
set J4=(T77(it,852101,1093685815,m5))or((SS7(350.,m5,Condition(function k8))>0)and(IssueTargetOrderById(it,852095,m5)))
elseif(i1==1211117624)then
set J4=(IsUnitInRange(it,m5,500.))and(SS7(500.,m5,Condition(function k8))>0)and(TG7(it,852526,1093683024))
elseif(i1==1433631084)then
set J4=(SS7(500.,m5,Condition(function k8))>0)and(T77(it,852089,1093678644,m5))
elseif(i1==1214345830)then
set J4=T77(it,852225,1093679182,m5)
elseif(i1==1215723364)then
set J4=(IsUnitInRange(it,m5,500.))and(SS7(500.,m5,Condition(function k8))>0)and(T77(it,OrderId("volcano"),1093744463,m5))
elseif(i1==1164799855)then
set J4=(IsUnitInRange(it,m5,500.))and(TG7(it,852556,1093677378))
elseif(i1==1433105516)then
set J4=(SS7(500.,m5,Condition(function k8))>0)and(IssueTargetOrderById(it,852600,m5))
elseif((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))then
set J4=T77(it,OrderId("acolyteharvest"),1093742898,m5)
elseif(i1==1212363833)then
set J4=(IsUnitInRange(it,m5,500.))and(SS7(500.,m5,Condition(function k8))>0)and(TG7(it,852123,1093678643))
elseif(i1==1212365106)then
set J4=(SS7(500.,m5,Condition(function k8))>0)and(T77(it,852089,1093685831,m5))
elseif(i1==1211117633)then
set J4=(GetUnitLifePercent(m5)<50.)and(IssueImmediateOrderById(it,852600))
elseif(i1==1211117620)then
set J4=(SS7(150.,m5,Condition(function k6))>0)and(T87(it,852232,1093677623,C_7(it,m5,.95,600.)))
elseif(i1==1432580716)or(i1==1429221720)then
set J4=(SS7(400.,m5,Condition(function k8))>0)and(T77(it,852089,1093684300,m5))
elseif(i1==1214344551)then
set J4=((K6(m5))and(IssueTargetOrderById(it,852069,m5)))
if not J4 then
set J4=IssueTargetOrderById(it,852248,m5)
endif
elseif((i1==1311781193)or(i1==1311781192)or(i1==1311781204)or(i1==1311781194))then
set J4=(SS7(400.,m5,Condition(function k8))>0)and(T77(it,852089,1093683532,m5))
elseif(i1==1211117649)then
set J4=(GetUnitLifePercent(m5)<95.)and(IssueTargetOrderById(it,852095,m5))
endif
if(not J4)then
if(SU7(it,ZU[T1]))then
set J4=(IsUnitInRange(it,m5,300.))and(UnitUseItem(it,SY7(it,ZU[T1])))
elseif(SU7(it,ZU[F74]))then
set J4=(IsUnitInRange(it,m5,590.))and(UnitUseItem(it,SY7(it,ZU[F74])))
elseif(SU7(it,ZU[DD4]))then
set J4=(IsUnitInRange(it,m5,590.))and(UnitUseItem(it,SY7(it,ZU[DD4])))
elseif(SU7(it,ZU[B3]))then
set J4=(IsUnitInRange(it,m5,500.))and(UnitUseItem(it,SY7(it,ZU[B3])))
endif
endif
if((not J4)and(GetHeroLevel(it)>5))then
set m5=SQ7(800.,S_7(m5),Condition(function k6))
if(m5!=null)then
if(i1==1160786506)and(IsUnitInRange(it,m5,895.))then
if(D38(it,m5))or(not IsUnitInRange(m5,it,800))then
call C_7(it,m5,1.2,900)
else
call MoveLocation(GN7,GetUnitX(m5),GetUnitY(m5))
endif
set J4=(R87(O5)and(J8(O5,IssuePointOrderByIdLoc(it,852089,GN7))))
endif
if(not J4)then
call IssueTargetOrderById(it,851983,m5)
endif
if(h4[O5]==null)then
call CYE(O5,m5,false,false)
endif
endif
endif
set GZ[64+GetPlayerId(GetOwningPlayer(it))]=false
set m5=null
set it=null
endfunction
function RH9 takes nothing returns nothing
if((M7[GetPlayerId(GetTriggerPlayer())]!=null)and(SE7(M7[GetPlayerId(GetTriggerPlayer())])))then
call ju(OH7(1100.,S_7(M7[GetPlayerId(GetTriggerPlayer())]),Condition(function CQE)),function C3E)
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,8.,"AI Allies nearby will assist you")
set hq[464+GetPlayerId(GetTriggerPlayer())]=Bz+5.
endif
endfunction
function C6E takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and((GetOwningPlayer(GetFilterUnit())==Z7[0])or(GetOwningPlayer(GetFilterUnit())==A7[0]))and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function CLE takes nothing returns nothing
if(GetWidgetLife(GetEnumUnit())>.405)then
call SetWidgetLife(GetEnumUnit(),GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)+8.)
else
call GroupRemoveUnit(ij,GetEnumUnit())
endif
endfunction
function C1E takes nothing returns nothing
call ForGroup(ij,function CLE)
call SetWidgetLife(JF4,GetUnitState(JF4,UNIT_STATE_LIFE)+12.)
call SetWidgetLife(J34,GetUnitState(J34,UNIT_STATE_LIFE)+12.)
endfunction
function U29 takes nothing returns nothing
local trigger t=CreateTrigger()
local boolexpr Ig=Condition(function C6E)
set ij=CA7()
call GroupEnumUnitsInRect(ij,bj_mapInitialPlayableArea,Ig)
call TriggerRegisterTimerEventPeriodic(t,1.)
call TriggerAddAction(t,function C1E)
set ZT=true
call DestroyBoolExpr(Ig)
set Ig=null
endfunction
function U_9 takes nothing returns nothing
set AT=true
call EnableTrigger(QC4)
endfunction
function C0E takes unit BR8,unit CQ8 returns integer
local integer i=1
local integer CS8=0
call BN8(BR8,CQ8)
loop
exitwhen i>5
if JU[i]!=null then
set CS8=CS8+1
endif
set i=i+1
endloop
return CS8
endfunction
function V49 takes nothing returns nothing
set ED7=true
set DC7=0.50
set D37=0.3
set D67=0.05
set DL7=10.
set D07=5
set D57=0.3
set D27=0.1
set D_7=100
set E87=60
set E97=60
set D17=0.05
set E47=0.25
set E77=2
endfunction
function C5E takes nothing returns boolean
return GetDyingUnit()==M7[GetPlayerId(GetTriggerPlayer())]
endfunction
function C2E takes nothing returns nothing
local integer O5=1
local integer i
local integer a
loop
exitwhen O5>11
if Z27(Player(O5))then
set a=IU[O5]-Z84[64+O5]
if a>0 then
set i=1
loop
exitwhen i>a
set Z84[96+O5]=R2I(Bz+E97)
if EU then
call SetPlayerHandicapXPBJ(Player(O5),Z84[16+O5]+(GetPlayerHandicapXPBJ(Player(O5))-Z84[16+O5])*(1-D67))
endif
if FU then
set Z84[48+O5]=Z84[32+O5]+R2I((Z84[48+O5]-Z84[32+O5])*(1-D27))
endif
set i=i+1
endloop
set Z84[64+O5]=IU[O5]
endif
endif
set O5=O5+1
endloop
endfunction
function C_E takes nothing returns nothing
local unit BR8=GetDyingUnit()
local unit CQ8=GetKillingUnit()
local player p=GetOwningPlayer(BR8)
local player pl=GetOwningPlayer(CQ8)
if IsUnitInForce(GetDyingUnit(),QX4)and GetDyingUnit()!=GetKillingUnit()then
set Z84[96+GetPlayerId(p)]=R2I(Bz+E97)
if EU then
if GetPlayerHandicapXP(p)*100<Z84[16+GetPlayerId(p)]then
call SetPlayerHandicapXP(p,Z84[16+GetPlayerId(p)]*0.01)
else
call SetPlayerHandicapXP(p,GetPlayerHandicapXP(p)+C0E(BR8,CQ8)*D17)
if GetPlayerHandicapXP(p)*100>(Z84[16+GetPlayerId(p)]+DL7*100)then
call SetPlayerHandicapXP(p,(Z84[16+GetPlayerId(p)])*0.01+DL7)
endif
endif
endif
if FU then
if Z84[48+GetPlayerId(p)]<Z84[32+GetPlayerId(p)]then
set Z84[48+GetPlayerId(p)]=Z84[32+GetPlayerId(p)]
else
set Z84[48+GetPlayerId(p)]=Z84[48+GetPlayerId(p)]+D07
if Z84[48+GetPlayerId(p)]>D_7 then
set Z84[48+GetPlayerId(p)]=D_7
endif
endif
endif
endif
if GetKillingUnit()!=null and IsUnitInForce(GetKillingUnit(),QX4)and GetDyingUnit()!=GetKillingUnit()then
set Z84[96+GetPlayerId(pl)]=R2I(Bz+E97)
if EU then
call SetPlayerHandicapXPBJ(pl,Z84[16+GetPlayerId(pl)]+(GetPlayerHandicapXPBJ(pl)-Z84[16+GetPlayerId(pl)])*(1-D37))
endif
if FU then
set Z84[48+GetPlayerId(pl)]=Z84[32+GetPlayerId(pl)]+R2I((Z84[48+GetPlayerId(pl)]-Z84[32+GetPlayerId(pl)])*(1-D57))
endif
endif
call TimerStart(DY7,0.5,false,function C2E)
set BR8=null
set CQ8=null
set p=null
set pl=null
endfunction
function L4E takes nothing returns nothing
local integer O5=1
local player p
if Bz<E87+E97+QD4 then
return
endif
loop
exitwhen O5>11
if O5==6 then
set O5=7
endif
if IsPlayerInForce(Player(O5),QX4)then
if(Bz>Z84[96+O5])then
set p=Player(O5)
if EU then
if GetPlayerHandicapXP(p)*100<Z84[16+GetPlayerId(p)]then
call SetPlayerHandicapXP(p,Z84[16+GetPlayerId(p)]*0.01)
else
call SetPlayerHandicapXP(p,GetPlayerHandicapXP(p)+E47)
if GetPlayerHandicapXP(p)*100>(Z84[16+GetPlayerId(p)]+DL7*100)then
call SetPlayerHandicapXP(p,(Z84[16+GetPlayerId(p)])/100+DL7)
endif
endif
endif
if FU then
if Z84[48+GetPlayerId(p)]<Z84[32+GetPlayerId(p)]then
set Z84[48+GetPlayerId(p)]=Z84[32+GetPlayerId(p)]
else
set Z84[48+GetPlayerId(p)]=Z84[48+GetPlayerId(p)]+E77
if Z84[48+GetPlayerId(p)]>D_7 then
set Z84[48+GetPlayerId(p)]=D_7
endif
endif
endif
set Z84[96+O5]=R2I(Bz+E97)
endif
endif
set O5=O5+1
endloop
endfunction
function L7E takes nothing returns nothing
local integer i
local integer m
local integer n
local trigger t=null
set DX7=CreateTrigger()
call ky(DX7,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(DX7,Condition(function C5E))
call TriggerAddAction(DX7,function C_E)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,1.,true)
call TriggerAddAction(t,function L4E)
set t=null
set DY7=CreateTimer()
endfunction
function V79 takes nothing returns nothing
if DX7==null then
call L7E()
endif
set EU=true
endfunction
function V89 takes nothing returns nothing
if DX7==null then
call L7E()
endif
set FU=true
endfunction
function L8E takes integer L9E,integer LDE,integer LEE,integer LFE,integer LGE,integer LHE,integer LIE,integer LJE,integer LKE,integer LME,integer LNE,integer LOE,integer LPE,integer LQE,integer LRE,integer LSE,integer LTE returns nothing
call SaveInteger(EE7,L9E,0,LDE)
call SaveInteger(EE7,L9E,1,LEE)
call SaveInteger(EE7,L9E,2,LFE)
call SaveInteger(EE7,L9E,3,LGE)
call SaveInteger(EE7,L9E,4,LHE)
call SaveInteger(EE7,L9E,5,LIE)
call SaveInteger(EE7,L9E,6,LJE)
call SaveInteger(EE7,L9E,7,LKE)
call SaveInteger(EE7,L9E,8,LME)
call SaveInteger(EE7,L9E,9,LNE)
call SaveInteger(EE7,L9E,10,LOE)
call SaveInteger(EE7,L9E,11,LPE)
call SaveInteger(EE7,L9E,12,LQE)
call SaveInteger(EE7,L9E,13,LRE)
call SaveInteger(EE7,L9E,14,LSE)
call SaveInteger(EE7,L9E,15,LTE)
if(bj_forLoopBIndex<=2)then
set eY[336+16*bj_forLoopBIndex+bj_forLoopAIndex]=L9E
endif
set bj_forLoopBIndex=bj_forLoopBIndex+1
endfunction
function LUE takes unit PI7,integer L9E,integer LVE returns integer
set bj_forLoopBIndex=GetUnitAbilityLevel(PI7,L9E)
if bj_forLoopBIndex==0 then
return 0
endif
return LoadInteger(EE7,L9E,LVE+bj_forLoopBIndex-1)
endfunction
function LWE takes integer LXE returns nothing
set bj_forLoopBIndex=0
if LXE==1215723364 then
call L8E(1093677633,10,10,10,10,110,120,130,140,500,500,500,500,0,0,0,0)
call L8E(1093744463,15,15,15,15,40,40,40,40,1700,1700,1700,1700,0,0,0,0)
call L8E(1094934883,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)
call L8E(1093683534,45,45,45,11,100,150,200,110,600,900,1200,600,125,125,125,125)
call L8E(1093747031,10,10,10,11,100,150,200,110,600,900,1200,600,125,125,125,125)
elseif LXE==1215128178 then
call L8E(1093677616,2,2,2,2,65,70,75,80,700,700,700,700,500,500,500,500)
call L8E(1093683779,6,6,6,6,75,95,115,135,700,700,700,700,0,0,0,0)
call L8E(1093684789,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093810503,90,90,90,0,225,325,450,0,0,0,0,0,0,0,0,0)
call L8E(1093810504,90,90,90,0,225,325,450,0,0,0,0,0,0,0,0,0)
elseif LXE==1164799855 then
call L8E(1093682263,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093682264,30,25,20,15,65,65,65,65,700,700,700,700,0,0,0,0)
call L8E(1093677378,45,45,45,45,125,140,155,170,0,0,0,0,300,300,300,300)
call L8E(1093682265,0,0,0,0,55,60,65,0,550,550,550,0,0,0,0,0)
call L8E(1093752642,0,0,0,0,55,60,65,0,715,715,715,0,0,0,0,0)
elseif LXE==1328558160 then
call L8E(1093682766,11,11,11,11,140,155,160,165,1000,1000,1000,1000,0,0,0,0)
call L8E(1093682998,10,10,10,10,100,100,100,100,600,700,800,900,0,0,0,0)
call L8E(1093684056,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093683000,80,80,80,0,25,25,25,0,700,1100,1500,0,200,200,200,0)
elseif LXE==1214931305 then
call L8E(1093748025,15,15,15,15,100,120,140,160,700,700,700,700,400,400,400,400)
call L8E(1093678147,10,10,10,10,115,125,140,150,500,500,500,500,0,0,0,0)
call L8E(1095262562,0,0,0,0,0,0,0,0,0,0,0,0,99999,99999,99999,99999)
call L8E(1093677906,150,120,90,0,200,400,600,0,500,500,500,500,0,0,0,0)
call L8E(1093681494,150,120,90,0,200,400,600,0,500,500,500,500,0,0,0,0)
elseif LXE==1211117617 then
call L8E(1093744944,15,15,15,15,140,140,140,140,600,600,600,600,255,255,255,255)
call L8E(1093677387,0,0,0,0,0,0,0,0,0,0,0,0,200,200,200,200)
call L8E(1093814611,36,30,24,18,25,25,25,25,0,0,0,0,0,0,0,0)
call L8E(1093752648,80,80,80,30,100,150,200,25,0,0,0,0,0,0,0,0)
elseif LXE==1212363833 then
call L8E(1093678643,40,40,40,40,70,80,90,100,128,128,128,128,1000,1000,1000,1000)
call L8E(1093809220,14,14,14,14,75,85,95,115,650,650,650,650,0,0,0,0)
call L8E(1093815125,19,16,13,10,80,90,100,110,0,0,0,0,0,0,0,0)
call L8E(1093678933,180,120,60,0,100,100,100,0,500,500,500,500,0,0,0,0)
elseif LXE==1333027688 then
call L8E(1093686091,15,15,15,15,125,140,155,170,1200,1200,1200,1200,0,0,0,0)
call L8E(1093682252,5,5,5,5,50,50,50,50,0,0,0,0,0,0,0,0)
call L8E(1093682250,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093682248,150,130,110,9,145,205,265,100,0,0,0,0,500,500,500,475)
call L8E(1093750594,150,130,110,9,145,205,265,100,0,0,0,0,500,500,500,475)
elseif LXE==1212365106 then
call L8E(1093685831,13,13,13,13,75,80,85,90,425,425,425,425,250,275,300,325)
call L8E(1093684025,20,15,10,5,50,50,50,50,700,700,700,700,0,0,0,0)
call L8E(1093682266,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093677130,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
elseif LXE==1311781199 then
call L8E(1093681461,180,160,140,120,75,75,75,75,0,0,0,0,200,200,200,200)
call L8E(1093748038,30,30,30,30,50,50,50,50,0,0,0,0,400,450,475,500)
call L8E(1093681464,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093681479,0,0,0,0,25,25,25,0,0,0,0,0,0,0,0,0)
elseif LXE==1211117620 then
call L8E(1093677382,9,9,9,9,90,105,125,140,800,800,800,800,275,275,275,275)
call L8E(1093677623,7,7,7,7,90,100,110,125,600,600,600,600,225,225,225,225)
call L8E(1093744728,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093677392,70,60,50,9,280,420,680,120,600,600,600,700,0,0,0,500)
call L8E(1093679450,70,60,50,9,280,420,640,120,900,900,900,700,0,0,0,500)
elseif LXE==1315070563 then
call L8E(1093678407,30,28,26,24,110,110,110,110,0,0,0,0,250,250,250,250)
call L8E(1093678135,60,60,60,60,80,100,120,140,350,350,350,350,0,0,0,0)
call L8E(1093677131,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093684529,130,120,110,9,200,275,350,75,450,450,450,600,0,0,0,0)
call L8E(1093747032,110,100,90,9,200,275,350,75,450,450,450,600,0,0,0,0)
elseif LXE==1311781185 then
call L8E(1093743692,20,18,16,14,75,95,115,135,800,800,800,800,350,350,350,350)
call L8E(1093684314,0,0,0,0,15,15,15,15,600,600,600,600,0,0,0,0)
call L8E(1093815892,36,28,20,12,115,115,115,115,900,900,900,900,0,0,0,0)
call L8E(1093684275,140,140,140,0,250,350,450,0,500,500,500,500,0,0,0,0)
elseif LXE==1214344551 then
call L8E(1093677402,10,8,6,4,90,80,70,60,300,300,300,300,0,0,0,0)
call L8E(1093809742,16,14,12,10,140,140,140,140,350,350,350,350,0,0,0,0)
call L8E(1093815628,15,15,15,15,25,25,25,25,99999,99999,99999,99999,0,0,0,0)
call L8E(1093678938,70,70,70,0,150,175,200,0,500,500,500,500,0,0,0,0)
elseif LXE==1433105516 then
call L8E(1093683511,15,15,15,15,110,130,150,160,600,600,600,600,0,0,0,0)
call L8E(1093744688,35,35,35,35,170,170,170,170,700,700,700,700,0,0,0,0)
call L8E(1093681713,25,25,25,25,95,110,125,140,700,700,700,700,400,400,400,400)
call L8E(1093747288,200,190,180,0,250,350,450,0,250,250,250,500,375,375,375,0)
elseif LXE==1214409837 then
call L8E(1093679157,10,10,10,10,150,150,150,150,2000,2000,2000,2000,0,0,0,0)
call L8E(1093742680,16,16,16,16,75,75,75,75,550,700,850,1000,0,0,0,0)
call L8E(1093742898,19,18,17,16,25,45,65,85,900,900,900,900,0,0,0,0)
call L8E(1093742932,80,70,60,120,100,100,100,150,0,0,0,0,0,0,0,0)
elseif LXE==1215657064 then
call L8E(1093677913,6,6,6,6,75,75,75,75,0,0,0,0,385,385,385,385)
call L8E(1093750841,10,10,10,10,45,55,65,75,0,0,0,0,0,0,0,0)
call L8E(1095657827,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093684291,25,25,25,0,0,0,0,0,0,0,0,0,0,0,0,0)
elseif LXE==1215130471 then
call L8E(1093678167,12,12,12,12,75,85,95,105,600,600,600,600,0,0,0,0)
call L8E(1093677361,15,15,15,15,95,105,115,125,700,700,700,700,0,0,0,0)
call L8E(1093679155,20,20,20,20,75,75,75,75,600,600,600,600,0,0,0,0)
call L8E(1093679160,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093815121,20,15,15,0,400,140,155,0,600,1200,1200,500,0,0,0,0)
call L8E(1093679172,6,6,6,6,185,195,205,215,600,600,600,600,0,0,0,0)
call L8E(1093679169,8,8,8,8,145,155,165,175,600,600,600,600,0,0,0,0)
call L8E(1093679161,10,10,10,10,105,115,125,135,600,600,600,600,0,0,0,0)
call L8E(1093677126,15,15,15,15,95,105,115,125,700,700,700,700,450,450,450,450)
call L8E(1093677396,15,15,15,15,95,105,115,125,700,700,700,700,300,300,300,300)
call L8E(1093677111,15,15,15,15,95,105,115,125,700,700,700,700,150,150,150,150)
call L8E(1093679177,5,5,5,5,75,75,75,75,600,600,600,600,0,0,0,0)
call L8E(1093679175,10,10,10,10,75,75,75,75,600,600,600,600,0,0,0,0)
call L8E(1093679174,15,15,15,15,75,75,75,75,600,600,600,600,0,0,0,0)
elseif LXE==1316252014 then
call L8E(1093678137,14,14,14,14,95,120,145,170,550,550,550,550,0,0,0,0)
call L8E(1093678405,25,25,25,25,120,140,160,180,0,0,0,0,2500,2500,2500,2500)
call L8E(1093681745,35,35,35,35,145,150,165,190,300,300,300,300,300,300,300,300)
call L8E(1093678645,0,0,0,0,150,250,350,0,500,500,500,500,0,0,0,0)
elseif LXE==1164799603 then
call L8E(1093808453,11,10,9,8,100,120,140,160,600,600,600,600,110,110,110,110)
call L8E(1093677391,50,40,30,20,50,50,50,50,99999,99999,99999,99999,0,0,0,0)
call L8E(1095067246,37,37,37,37,160,160,160,160,750,750,750,750,150,225,300,375)
call L8E(1093752632,90,75,60,0,150,200,250,0,99999,99999,99999,500,0,0,0,0)
call L8E(1093752633,90,75,60,0,150,200,250,0,99999,99999,99999,500,0,0,0,0)
elseif LXE==1332179560 then
call L8E(1093742660,7,7,7,7,125,130,135,140,750,750,750,750,0,0,0,0)
call L8E(1093682231,30,25,20,15,150,120,90,60,0,0,0,0,0,0,0,0)
call L8E(1093682242,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)
call L8E(1093687627,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
elseif LXE==1432580716 then
call L8E(1093684300,17,17,17,17,120,120,120,120,600,600,600,600,275,275,275,275)
call L8E(1093681754,10,10,10,10,120,120,120,120,700,900,1100,1300,300,300,300,300)
call L8E(1093744977,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093682009,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,900)
elseif LXE==1211117643 then
call L8E(1093678410,25,20,15,10,125,150,175,205,100,100,100,100,200,200,200,200)
call L8E(1093678664,20,16,13,10,80,110,140,160,150,150,150,150,0,0,0,0)
call L8E(1093678658,180,170,160,150,100,125,150,175,0,0,0,0,0,0,0,0)
call L8E(1093681483,10,10,10,7,200,240,300,30,500,500,500,500,0,0,0,0)
call L8E(1093748313,10,10,10,7,200,240,300,30,700,700,700,500,0,0,0,0)
elseif LXE==1211117633 then
call L8E(1093684045,14,14,14,14,100,100,100,100,600,600,600,600,0,0,0,0)
call L8E(1093684310,24,24,24,24,175,175,175,175,600,600,600,600,0,0,0,0)
call L8E(1093810260,30,26,22,18,100,100,100,100,900,900,900,900,0,0,0,0)
call L8E(1093684308,140,130,120,0,200,300,400,0,500,500,500,500,0,0,0,0)
call L8E(1093747539,30,30,30,0,200,300,400,0,500,500,500,500,0,0,0,0)
call L8E(1093815619,24,24,24,24,200,200,200,200,600,600,600,600,0,0,0,0)
elseif LXE==1160785973 then
call L8E(1093678130,6,6,6,6,90,100,110,120,800,800,800,800,0,0,0,0)
call L8E(1093678129,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093678642,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)
call L8E(1093678388,160,150,140,0,150,200,250,0,500,500,500,500,0,0,0,0)
call L8E(1093677141,160,150,140,0,150,200,250,0,500,500,500,500,0,0,0,0)
elseif LXE==1433631084 then
call L8E(1093678644,15,15,15,15,120,120,120,120,1800,1800,1800,1800,350,350,350,350)
call L8E(1093677907,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093677909,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093678160,20,15,10,9,175,275,375,75,2000,2500,3000,600,0,0,0,0)
elseif LXE==1311781174 then
call L8E(1093681733,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093808461,20,20,20,20,50,50,50,50,900,900,900,900,0,0,0,0)
call L8E(1093685040,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093748042,20,20,20,9,75,75,75,100,0,0,0,0,400,450,475,475)
call L8E(1093808462,12,12,12,12,50,50,50,50,700,700,700,700,0,0,0,0)
elseif LXE==1332898670 then
call L8E(1093677360,8,8,8,8,95,105,135,160,600,600,600,600,200,200,200,200)
call L8E(1093685848,13,13,13,13,110,140,170,200,500,500,500,500,0,0,0,0)
call L8E(1093677136,16,16,16,16,110,130,155,185,400,400,400,400,0,0,0,0)
call L8E(1093677128,110,110,110,7,200,350,600,30,550,550,550,500,0,0,0,0)
call L8E(1093681457,110,110,110,7,200,350,600,30,600,600,600,500,0,0,0,0)
elseif LXE==1211117624 then
call L8E(1093682775,2,2,2,2,30,30,30,30,600,600,600,600,0,0,0,0)
call L8E(1093683024,3,3,3,3,35,35,35,35,0,0,0,0,700,700,700,700)
call L8E(1093684531,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093682774,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
elseif LXE==1315988077 then
call L8E(1093678669,12,12,12,12,90,105,130,150,0,0,0,0,400,400,400,400)
call L8E(1097032808,8,8,8,8,50,50,50,50,850,850,850,850,10,10,10,10)
call L8E(1093684568,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093684561,180,160,140,180,125,150,175,150,0,0,0,0,128,128,128,128)
call L8E(1093747254,160,140,120,180,125,150,175,150,0,0,0,0,128,128,128,128)
elseif LXE==1211117616 then
call L8E(1093677139,13,13,13,13,85,100,115,130,0,0,0,0,315,315,315,315)
call L8E(1093816142,8,8,8,8,0,0,0,0,150,150,150,150,0,0,0,0)
call L8E(1093677142,0,0,0,0,0,0,0,0,0,0,0,0,1000,1000,1000,1000)
call L8E(1093816118,120,90,60,0,80,80,80,0,0,0,0,0,0,0,0,0)
elseif LXE==1315007329 then
call L8E(1093677108,10,10,10,10,90,115,135,155,650,650,650,650,0,0,0,0)
call L8E(1093749073,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093678913,15,15,15,15,50,50,50,50,0,0,0,0,0,0,0,0)
call L8E(1093681716,10,7,5,0,70,60,50,0,900,1050,1200,0,0,0,0,0)
elseif LXE==1215063922 then
call L8E(1093677894,12,12,12,12,100,110,120,130,500,500,500,500,150,150,150,150)
call L8E(1093681490,9,9,9,9,100,100,100,75,150,150,150,600,0,0,0,0)
call L8E(1093681996,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093677895,115,115,115,180,50,50,50,150,0,0,0,0,0,0,0,0)
elseif LXE==1164207469 then
call L8E(1093677618,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1095066220,12,9,7,5,60,60,60,60,99999,99999,99999,99999,0,0,0,0)
call L8E(1093684057,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093682483,70,70,70,9,125,200,275,75,600,600,600,600,0,0,0,0)
elseif LXE==1315074670 then
call L8E(1093677622,0,0,0,0,12,12,12,12,625,625,625,625,0,0,0,0)
call L8E(1093685570,13,13,13,13,90,90,90,90,900,900,900,900,300,300,300,300)
call L8E(1093677625,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)
call L8E(1093686851,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
elseif LXE==1214345830 then
call L8E(1093679182,10,10,10,10,100,120,140,160,700,700,700,700,0,0,0,0)
call L8E(1093679190,14,14,14,14,50,50,50,50,500,500,500,500,0,0,0,0)
call L8E(1093678657,0,0,0,0,0,0,0,0,0,0,0,0,300,300,300,300)
call L8E(1093682514,150,150,150,25,125,175,250,50,0,0,0,0,600,600,600,650)
elseif LXE==1211117636 then
call L8E(1093685041,13,13,13,13,120,120,120,120,1300,1300,1300,1300,100,100,100,100)
call L8E(1093685071,40,40,40,40,25,25,25,25,0,0,0,0,200,200,200,200)
call L8E(1093681732,0,0,0,0,0,0,0,0,0,0,0,0,1000,1000,1000,1000)
call L8E(1093685042,80,75,70,9,150,175,200,75,600,600,600,600,0,0,0,0)
call L8E(1093810233,45,45,45,9,150,175,200,75,950,950,950,600,0,0,0,0)
elseif LXE==1160786000 then
call L8E(1093685047,10,10,10,10,135,140,155,170,500,500,500,500,0,0,0,0)
call L8E(1093685046,12,11,10,9,90,90,90,90,1100,1100,1100,1100,0,0,0,0)
call L8E(1093685048,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093685045,60,60,60,8,220,330,440,100,850,850,850,700,0,0,0,125)
call L8E(1093747249,60,60,60,8,220,330,440,100,1150,1150,1150,700,0,0,0,125)
elseif LXE==1311781193 then
call L8E(1093683532,22,22,22,22,130,140,150,160,900,900,900,900,625,625,625,625)
call L8E(1093750345,16,16,16,16,120,120,120,120,0,0,0,0,0,0,0,0)
call L8E(1093685043,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)
call L8E(1095656306,45,45,45,30,50,100,150,25,0,0,0,0,0,0,0,0)
elseif LXE==1311781206 then
call L8E(1093684054,12,12,12,12,100,120,140,160,500,500,500,500,0,0,0,0)
call L8E(1093684280,17,17,17,17,100,100,100,100,3000,3000,3000,3000,0,0,0,0)
call L8E(1093684302,30,26,22,18,40,35,30,20,0,0,0,0,0,0,0,0)
call L8E(1093684053,160,140,120,0,75,75,75,0,500,500,500,500,0,0,0,0)
elseif LXE==1211117651 then
call L8E(1093743696,4,4,4,4,70,80,90,100,0,0,0,0,400,450,475,500)
call L8E(1093743698,20,20,20,20,100,110,120,130,300,300,300,300,500,500,500,500)
call L8E(1093685591,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093743695,0,0,0,0,0,0,0,0,99999,99999,99999,0,0,0,0,0)
elseif LXE==1211117649 then
call L8E(1093685584,25,25,25,25,170,170,170,170,400,400,400,400,0,0,0,0)
call L8E(1093685582,0,0,0,0,0,0,0,0,450,450,450,450,0,0,0,0)
call L8E(1093685585,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093685586,45,30,15,0,0,0,0,0,550,550,550,500,0,0,0,0)
call L8E(1093747251,4,4,4,0,0,0,0,0,550,550,550,500,0,0,0,0)
elseif LXE==1160786265 then
call L8E(1093748033,17,17,17,17,100,100,100,100,0,0,0,0,0,0,0,0)
call L8E(1093685846,7,7,7,7,50,50,50,50,0,0,0,0,0,0,0,0)
call L8E(1093685839,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093685840,11,9,7,0,15,15,15,0,2000,2000,2000,500,300,300,300,0)
elseif LXE==1311780930 then
call L8E(1093686073,12,12,12,12,150,150,150,150,3000,3000,3000,3000,0,0,0,0)
call L8E(1093686083,16,16,16,16,100,110,120,130,500,500,500,500,0,0,0,0)
call L8E(1093686082,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093686072,85,85,85,6,100,150,200,75,750,750,750,800,375,375,375,200)
call L8E(1093751120,85,85,85,6,100,150,200,75,750,750,750,800,375,375,375,200)
elseif LXE==1211117652 then
call L8E(1093687860,32,28,24,20,75,75,75,75,500,500,500,500,0,0,0,0)
call L8E(1093687861,15,15,15,15,50,60,70,80,500,500,500,500,0,0,0,0)
call L8E(1093687862,20,18,16,14,50,50,50,50,99999,99999,99999,99999,575,575,575,575)
call L8E(1093687864,70,55,40,0,150,150,150,0,2000,2500,3000,500,0,0,0,0)
call L8E(1093747542,12,12,12,0,150,150,150,0,2000,2500,3000,500,0,0,0,0)
elseif LXE==1211119187 then
call L8E(1093743414,12,12,12,12,120,120,120,120,1500,1500,1500,1500,215,215,215,215)
call L8E(1093743444,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093742926,16,16,16,16,80,90,100,110,500,650,800,950,0,0,0,0)
call L8E(1093742923,60,50,40,0,150,200,250,0,1000,1000,1000,0,0,0,0,0)
elseif LXE==1311786311 then
call L8E(1093743178,12,12,12,12,90,100,110,120,800,800,800,800,500,500,500,500)
call L8E(1093743179,9,9,9,9,90,100,110,120,1700,1700,1700,1700,0,0,0,0)
call L8E(1093743689,15,15,15,15,100,100,100,100,0,0,0,0,400,450,475,500)
call L8E(1093743184,60,60,60,0,200,300,400,0,600,600,600,500,0,0,0,0)
call L8E(1093747766,15,15,15,0,200,300,400,0,600,600,600,500,0,0,0,0)
elseif LXE==1164277353 then
call L8E(1093815130,22,18,14,10,50,50,50,50,250,250,250,250,0,0,0,0)
call L8E(1093683252,16,16,16,16,80,80,80,80,0,0,0,0,0,0,0,0)
call L8E(1093751369,140,140,140,140,40,40,40,40,0,0,0,0,0,0,0,0)
call L8E(1093678929,160,110,60,0,200,100,0,0,250,250,250,0,0,0,0,0)
elseif LXE==1164666213 then
call L8E(1093678679,9,9,9,9,100,125,140,160,750,750,750,750,150,175,200,225)
call L8E(1093677877,22,22,22,22,95,120,135,155,0,0,0,0,0,0,0,0)
call L8E(1093678678,6,6,6,6,100,115,130,145,700,700,700,700,650,650,650,650)
call L8E(1093808454,1,1,1,0,110,110,110,0,0,0,0,0,0,0,0,0)
call L8E(1093808455,1,1,1,0,110,110,110,0,0,0,0,0,0,0,0,0)
elseif LXE==1433168227 then
call L8E(1093678918,9,9,9,8,125,150,170,190,600,600,600,600,200,200,200,200)
call L8E(1093679186,5,5,5,5,50,50,50,50,800,800,800,800,0,0,0,0)
call L8E(1093678387,35,30,25,20,25,25,25,25,400,400,400,400,0,0,0,0)
call L8E(1093678420,145,115,60,6,200,325,500,50,750,750,750,800,0,0,0,0)
call L8E(1093679176,145,115,60,6,200,325,500,50,850,850,850,800,0,0,0,0)
elseif LXE==1430468406 then
call L8E(1093677645,8,8,8,8,105,120,140,165,600,600,600,600,110,110,110,110)
call L8E(1093685302,15,15,15,15,80,80,80,80,900,900,900,900,200,275,350,350)
call L8E(1093677635,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093678899,100,100,100,180,200,300,400,150,0,0,0,0,700,700,700,800)
call L8E(1093678904,4,4,4,4,80,95,115,140,600,600,600,600,110,110,110,110)
call L8E(1093678900,5,5,5,5,85,100,120,145,600,600,600,600,110,110,110,110)
call L8E(1093678898,6,6,6,6,90,105,125,150,600,600,600,600,110,110,110,110)
call L8E(1093678670,7,7,7,7,95,110,130,155,600,600,600,600,110,110,110,110)
call L8E(1093678925,11,11,11,11,55,55,55,55,900,900,900,900,200,275,350,350)
call L8E(1093678922,12,12,12,12,60,60,60,60,900,900,900,900,200,275,350,350)
call L8E(1093678921,13,13,13,13,65,65,65,65,900,900,900,900,200,275,350,350)
call L8E(1093678920,14,14,14,14,70,70,70,70,900,900,900,900,200,275,350,350)
call L8E(1093678158,100,100,100,180,200,300,400,150,0,0,0,0,700,700,700,800)
call L8E(1093678157,100,100,100,180,200,300,400,150,0,0,0,0,700,700,700,800)
call L8E(1093678154,100,100,100,180,200,300,400,150,0,0,0,0,700,700,700,800)
call L8E(1093677898,100,100,100,180,200,300,400,150,0,0,0,0,700,700,700,800)
elseif LXE==1430466872 then
call L8E(1093687349,12,12,12,12,100,120,145,170,500,500,500,500,0,0,0,0)
call L8E(1093684558,15,15,15,15,125,150,175,200,500,500,500,500,0,0,0,0)
call L8E(1093677646,25,20,15,10,10,10,10,10,600,650,700,750,800,800,800,800)
call L8E(1093679413,160,100,40,9,200,420,650,120,900,900,900,0,500,500,500,500)
call L8E(1093679447,160,100,40,9,200,420,625,120,900,900,900,0,500,500,500,500)
elseif LXE==1162032439 then
call L8E(1093744435,22,22,22,22,125,125,125,125,800,800,800,800,0,0,0,0)
call L8E(1093684569,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093684563,5,5,5,5,20,20,20,20,850,850,850,850,0,0,0,0)
call L8E(1093677363,140,120,100,40,200,300,400,125,0,0,0,0,200,200,200,200)
call L8E(1093681462,140,120,60,40,200,300,400,125,0,0,0,0,200,200,200,200)
elseif LXE==1430466865 then
call L8E(1093677651,10,9,8,7,90,90,90,90,500,500,500,500,150,150,150,150)
call L8E(1093677879,12,12,12,10,40,40,40,40,800,800,800,800,0,0,0,0)
call L8E(1093751364,30,30,30,30,80,80,80,80,600,800,1000,1200,100,100,100,100)
call L8E(1093810508,120,110,100,0,200,250,300,0,0,0,0,0,0,0,0,0)
elseif LXE==1430468144 then
call L8E(1093679192,10,10,10,10,70,80,90,100,700,700,700,700,0,0,0,0)
call L8E(1093750337,4,4,4,4,170,160,150,140,1000,1000,1000,1000,0,0,0,0)
call L8E(1093686872,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093750341,180,160,140,9,150,150,150,100,0,0,0,0,0,0,0,475)
call L8E(1093814599,180,160,140,9,150,150,150,100,0,0,0,0,0,0,0,475)
elseif LXE==1429221441 then
call L8E(1093678389,10,10,10,10,140,140,140,140,500,500,500,500,0,0,0,0)
call L8E(1093685847,24,18,12,6,70,70,70,70,550,600,650,700,0,0,0,0)
call L8E(1093677902,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093677903,140,140,140,3,125,200,275,150,128,128,128,128,1000,1000,1000,1000)
elseif LXE==1429221432 then
call L8E(1093677892,30,30,30,30,125,125,125,125,800,800,800,800,200,200,200,200)
call L8E(1093687878,50,45,40,35,15,20,25,30,500,500,500,500,0,0,0,0)
call L8E(1093677893,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)
call L8E(1093679411,100,70,40,180,100,100,100,150,0,0,0,0,0,0,0,0)
elseif LXE==1429221430 then
call L8E(1093681736,10,10,10,10,120,120,120,120,700,700,700,700,0,0,0,0)
call L8E(1093681735,30,30,30,30,50,50,50,50,600,600,600,600,650,650,650,650)
call L8E(1093681739,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093687121,45,45,45,0,100,100,100,0,500,500,500,500,0,0,0,0)
elseif LXE==1165451634 then
call L8E(1093687629,8,8,8,8,30,25,20,15,1200,1200,1200,1200,0,0,0,0)
call L8E(1093685324,14,11,8,5,50,50,50,50,1000,1000,1000,1000,0,0,0,0)
call L8E(1093677904,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093677905,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
elseif LXE==1211117654 then
call L8E(1093747504,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093682994,11,11,11,11,140,150,160,170,800,800,800,800,500,500,500,500)
call L8E(1093684560,0,0,0,0,0,0,0,0,128,128,128,128,0,0,0,0)
call L8E(1093747028,140,100,60,0,200,100,0,0,500,500,500,500,0,0,0,0)
elseif LXE==1432646245 then
call L8E(1093677640,8,8,8,8,80,90,100,110,525,525,525,525,0,0,0,0)
call L8E(1093679173,0,0,0,0,0,0,0,0,500,500,500,500,0,0,0,0)
call L8E(1093679158,0,0,0,0,0,0,0,0,500,500,500,500,0,0,0,0)
call L8E(1093677899,180,150,120,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093747248,180,150,120,0,0,0,0,0,0,0,0,0,0,0,0,0)
elseif LXE==1313026096 then
call L8E(1095267426,8,8,8,8,140,140,140,140,525,525,525,525,0,0,0,0)
call L8E(1096114550,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)
call L8E(1095721842,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093677401,260,160,60,240,140,140,140,0,0,0,0,0,0,0,0,0)
elseif LXE==1430467634 then
call L8E(1093742674,70,60,50,40,60,50,40,30,300,300,300,300,0,0,0,0)
call L8E(1093750608,60,55,50,45,60,65,70,75,0,0,0,0,0,0,0,0)
call L8E(1093679412,8,8,8,8,110,110,110,110,600,600,600,600,0,0,0,0)
call L8E(1093684565,110,110,110,120,150,200,250,125,550,550,550,400,0,0,0,0)
call L8E(1093681458,110,110,110,120,150,200,250,125,550,550,550,400,0,0,0,0)
elseif LXE==1429221424 then
call L8E(1093687351,11,11,11,11,95,115,135,155,500,500,500,500,0,0,0,0)
call L8E(1093748789,28,20,12,4,90,110,130,150,600,600,600,600,0,0,0,0)
call L8E(1093815119,10,10,10,10,50,50,50,50,0,0,0,0,0,0,0,0)
call L8E(1093679445,70,60,50,5,160,210,260,75,0,0,0,0,0,0,0,0)
elseif LXE==1430468913 then
call L8E(1093678403,40,40,40,40,50,50,50,50,0,0,0,0,0,0,0,0)
call L8E(1093810507,8,8,8,8,80,95,105,115,0,0,0,0,0,0,0,0)
call L8E(1093683786,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093677876,10,10,10,0,25,25,25,0,700,700,700,0,0,0,0,0)
elseif LXE==1430466609 then
call L8E(1093685559,20,16,12,8,80,100,120,140,400,400,400,400,0,0,0,0)
call L8E(1093684549,12,10,8,6,60,60,60,60,99999,99999,99999,99999,0,0,0,0)
call L8E(1093678145,7,7,7,7,110,120,130,140,0,0,0,0,500,500,500,500)
call L8E(1093810258,135,135,135,8,250,360,500,100,700,700,700,700,100,100,100,125)
call L8E(1093810259,100,70,40,8,250,360,500,100,700,700,700,700,100,100,100,125)
elseif LXE==1160785972 then
call L8E(1093677872,60,50,40,30,90,90,90,90,0,0,0,0,0,0,0,0)
call L8E(1095263841,0,0,0,0,8,8,8,8,600,600,600,600,0,0,0,0)
call L8E(1093677621,20,20,20,20,75,75,75,75,0,0,0,0,0,0,0,0)
call L8E(1093678161,45,45,45,0,100,100,100,0,400,400,400,0,0,0,0,0)
elseif LXE==1162032181 then
call L8E(1093684299,19,17,15,13,120,120,120,120,700,900,1100,1300,0,0,0,0)
call L8E(1093682010,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093679153,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093683761,120,110,100,6,150,175,200,70,600,600,600,800,400,400,400,200)
call L8E(1093747767,60,60,60,6,150,175,200,70,600,600,600,800,400,400,400,200)
elseif LXE==1162032951 then
call L8E(1093679446,4,3,0,0,20,20,20,20,600,600,600,600,0,0,0,0)
call L8E(1093746995,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093684557,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093679152,80,50,30,8,125,175,250,65,500,500,500,0,0,0,0,0)
call L8E(1093752154,12,12,12,0,125,125,125,0,900,900,900,0,0,0,0,0)
elseif LXE==1160785970 then
call L8E(1093748023,14,14,14,14,125,125,125,125,0,0,0,0,0,0,0,0)
call L8E(1093747792,25,25,25,25,20,30,40,50,600,600,600,600,0,0,0,0)
call L8E(1093748022,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)
call L8E(1093747023,80,70,60,0,100,150,200,0,600,600,600,500,0,0,0,0)
call L8E(1093752150,80,70,60,0,100,150,200,0,600,600,600,500,0,0,0,0)
elseif LXE==1429221443 then
call L8E(1093686322,15,15,15,15,75,75,75,75,0,0,0,0,0,0,0,0)
call L8E(1093686099,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093744948,24,20,16,12,110,110,110,110,700,700,700,700,500,500,500,500)
call L8E(1093686103,100,100,100,0,50,50,50,0,150,150,150,500,0,0,0,0)
elseif LXE==1211117640 then
call L8E(1093684564,6,6,6,6,85,105,125,145,400,400,400,400,400,400,400,400)
call L8E(1093681989,12,10,8,6,100,100,100,100,700,700,700,700,0,0,0,0)
call L8E(1093679428,35,35,35,35,80,80,80,80,0,0,0,0,100,100,100,100)
call L8E(1093681987,22,22,22,8,125,175,225,75,850,850,850,500,850,850,850,800)
call L8E(1093677658,0,0,0,8,125,175,225,75,900,900,900,500,900,900,900,800)
elseif LXE==1332109682 then
call L8E(1093678134,12,12,12,12,120,120,120,120,700,700,700,700,0,0,0,0)
call L8E(1093678149,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093808694,7,6,5,4,30,40,50,60,0,0,0,0,0,0,0,0)
call L8E(1093810505,150,150,150,12,150,225,325,75,0,0,0,0,0,0,0,500)
elseif LXE==1332963428 then
call L8E(1093816137,12,12,12,12,95,105,115,125,1000,1000,1000,1000,0,0,0,0)
call L8E(1093683019,14,14,14,14,125,150,175,200,600,600,600,600,500,500,500,500)
call L8E(1093678169,15,15,15,15,165,165,165,165,500,550,600,650,0,0,0,0)
call L8E(1093677649,100,100,100,0,200,300,400,0,625,625,625,0,0,0,0,0)
call L8E(1093747769,100,100,100,0,200,300,400,0,625,625,625,0,0,0,0,0)
elseif LXE==1429221445 then
call L8E(1093678422,8,7,6,5,125,145,165,185,0,0,0,0,400,450,475,500)
call L8E(1093677390,0,0,0,0,0,0,0,0,0,0,0,0,1000,1000,1000,1000)
call L8E(1093678640,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)
call L8E(1093678647,100,85,70,9,175,340,500,75,600,600,600,600,0,0,0,0)
call L8E(1093679184,70,70,70,9,150,340,500,75,600,600,600,600,0,0,0,0)
elseif LXE==1429221446 then
call L8E(1093678665,14,13,12,11,110,120,130,140,600,800,1000,1200,0,0,0,0)
call L8E(1093678667,0,0,0,0,0,0,0,0,0,0,0,0,250,250,250,250)
call L8E(1093678660,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093682764,30,30,30,0,100,130,170,0,160,160,160,0,0,0,0,0)
call L8E(1093747544,30,30,30,0,100,130,170,0,160,160,160,0,0,0,0,0)
elseif LXE==1328558154 then
call L8E(1093750840,35,35,35,35,100,100,100,100,99999,99999,99999,99999,0,0,0,0)
call L8E(1093682515,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)
call L8E(1093682997,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093682996,75,75,75,0,125,150,175,0,400,550,700,500,0,0,0,0)
call L8E(1093747768,20,20,20,0,125,150,175,0,550,700,850,500,0,0,0,0)
elseif LXE==1432510828 then
call L8E(1093751127,36,33,30,27,100,100,100,100,3000,3000,3000,3000,0,0,0,0)
call L8E(1093681985,12,10,8,6,60,60,60,60,0,0,0,0,0,0,0,0)
call L8E(1093681991,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093682004,60,50,40,0,150,75,0,0,0,0,0,500,0,0,0,0)
elseif LXE==1315334514 then
call L8E(1093682521,10,10,10,10,75,75,75,75,0,0,0,0,0,0,0,0)
call L8E(1093681746,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093682773,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)
call L8E(1093810506,120,110,100,0,150,175,200,0,0,0,0,0,0,0,0,0)
call L8E(1093682736,10,10,10,10,75,75,75,75,0,0,0,0,0,0,0,0)
call L8E(1093682760,10,10,10,10,75,75,75,75,0,0,0,0,0,0,0,0)
elseif LXE==1429221451 then
call L8E(1093678671,11,11,11,11,110,120,130,140,350,450,550,650,0,0,0,0)
call L8E(1093683248,40,30,20,10,60,50,40,30,500,500,500,500,0,0,0,0)
call L8E(1093682753,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093678674,140,120,100,0,175,250,325,0,500,500,500,500,0,0,0,0)
call L8E(1093747252,120,100,80,0,175,250,325,0,500,500,500,500,0,0,0,0)
elseif LXE==1332766568 then
call L8E(1093683510,10,10,10,10,80,90,100,110,500,500,500,500,0,0,0,0)
call L8E(1093686065,20,15,10,5,75,85,95,105,900,900,900,900,0,0,0,0)
call L8E(1093681974,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)
call L8E(1093682482,75,65,55,9,120,160,200,120,150,150,150,700,150,150,150,500)
call L8E(1093750098,6,6,6,9,120,160,200,120,150,150,150,700,150,150,150,500)
elseif LXE==1215722344 then
call L8E(1093682499,12,10,8,6,80,80,80,80,800,800,800,800,0,0,0,0)
call L8E(1093684293,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093683512,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093684296,70,60,50,0,150,200,250,0,1000,1000,1000,500,0,0,0,0)
elseif LXE==1432642913 then
call L8E(1093683507,6,6,6,6,75,75,75,75,800,800,800,800,0,0,0,0)
call L8E(1093684550,14,12,10,8,100,105,110,115,500,500,500,500,1,1,1,1)
call L8E(1093684551,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093684819,60,60,60,5,0,0,0,75,0,0,0,0,0,0,0,0)
call L8E(1093747777,60,60,60,5,0,0,0,75,0,0,0,0,0,0,0,0)
elseif LXE==1160786242 then
call L8E(1093683287,16,16,16,16,130,140,150,160,2000,2000,2000,2000,0,0,0,0)
call L8E(1093682776,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093684801,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093683257,120,120,120,0,150,150,150,0,0,0,0,500,0,0,0,0)
elseif LXE==1160786241 then
call L8E(1093684813,20,18,16,14,110,120,130,140,700,700,700,700,500,500,500,500)
call L8E(1093684805,0,0,0,0,15,40,65,90,0,0,0,0,340,340,340,340)
call L8E(1093684815,35,35,35,35,120,120,120,120,400,400,400,400,150,150,150,150)
call L8E(1093684820,80,80,80,0,200,200,200,150,300,350,400,700,0,0,0,0)
call L8E(1093684824,80,80,80,0,200,200,200,150,300,350,400,700,0,0,0,0)
elseif LXE==1429221456 then
call L8E(1093685065,0,0,0,0,100,100,100,100,450,450,450,450,0,0,0,0)
call L8E(1093685066,18,16,14,12,120,140,160,180,550,550,550,550,500,500,500,500)
call L8E(1093683526,0,0,0,0,0,0,0,0,0,0,0,0,1000,1000,1000,1000)
call L8E(1093685067,160,160,160,0,175,250,325,0,600,650,700,0,375,475,575,0)
call L8E(1093752407,160,160,160,0,175,250,325,0,700,750,800,0,375,475,575,0)
elseif LXE==1160786243 then
call L8E(1093683765,25,25,25,25,120,120,120,120,800,800,800,800,0,0,0,0)
call L8E(1093681491,16,16,16,16,90,110,130,150,500,500,500,500,0,0,0,0)
call L8E(1093678672,50,50,50,50,100,110,120,130,700,700,700,700,650,650,650,650)
call L8E(1395667000,165,165,165,30,200,250,300,100,1200,1200,1200,900,600,600,600,250)
call L8E(1395667029,165,165,165,30,200,250,300,100,1200,1200,1200,900,600,600,600,250)
elseif LXE==1211117641 then
call L8E(1093684802,20,16,12,8,100,100,100,100,500,750,1000,1250,220,220,220,220)
call L8E(1093684792,12,10,8,6,80,80,80,80,99999,99999,99999,99999,0,0,0,0)
call L8E(1093684791,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093684567,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093809987,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
elseif LXE==1311781207 then
call L8E(1093684817,15,13,11,7,100,115,130,145,600,600,600,600,0,0,0,0)
call L8E(1093742668,60,45,30,15,140,130,120,110,550,700,850,1000,0,0,0,0)
call L8E(1093685074,12,10,8,6,80,90,100,110,900,900,900,900,0,0,0,0)
call L8E(1093742673,40,40,40,0,100,100,100,0,2000,2000,2000,0,575,575,575,0)
call L8E(1093747778,40,40,40,0,100,100,100,0,2000,2000,2000,0,775,775,775,0)
elseif LXE==1311780946 then
call L8E(1093677385,16,16,16,16,100,110,120,130,775,775,775,775,450,450,450,450)
call L8E(1093685825,24,21,18,15,100,115,130,145,750,750,750,750,275,275,275,275)
call L8E(1095328612,0,0,0,0,0,0,0,0,900,900,900,900,0,0,0,0)
call L8E(1093685808,130,130,130,0,75,150,225,0,99999,99999,99999,500,0,0,0,0)
elseif LXE==1211117650 then
call L8E(1093743955,10,8,6,4,70,90,110,130,625,625,625,625,300,300,300,300)
call L8E(1093685813,25,20,15,10,50,75,100,125,650,650,650,650,0,0,0,0)
call L8E(1093743958,60,60,60,60,120,130,140,150,600,600,600,600,0,0,0,0)
call L8E(1093743946,75,75,75,180,100,100,100,150,0,0,0,0,0,0,0,0)
elseif LXE==1211117646 then
call L8E(1093685573,22,22,22,22,100,130,160,190,500,500,500,500,250,350,450,550)
call L8E(1093685575,10,10,10,10,70,90,110,130,600,600,600,600,0,0,0,0)
call L8E(1093685815,12,11,10,9,20,30,40,50,600,600,600,600,0,0,0,0)
call L8E(1093685579,100,100,100,0,200,300,400,0,500,900,1300,500,300,300,300,0)
call L8E(1093808465,100,100,100,0,200,300,400,0,500,900,1300,500,300,300,300,0)
elseif LXE==1211117653 then
call L8E(1093808471,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093808472,0,0,0,9,0,0,0,100,0,0,0,0,0,0,0,475)
call L8E(1093808470,0,0,0,25,0,0,0,50,0,0,0,0,0,0,0,650)
call L8E(1093808473,22,17,12,5,20,40,60,80,0,0,0,0,0,0,0,0)
call L8E(1093748565,16,8,4,2,0,0,0,0,0,0,0,0,0,0,0,0)
elseif LXE==1311787088 then
call L8E(1093750087,15,13,11,9,150,150,150,150,700,700,700,700,0,0,0,0)
call L8E(1093748819,6,6,6,6,80,90,100,110,1500,1500,1500,1500,250,250,250,250)
call L8E(1093748817,50,46,42,38,110,120,130,140,800,800,800,800,525,525,525,525)
call L8E(1093750089,45,45,45,0,100,125,150,0,99999,99999,99999,500,0,0,0,0)
elseif LXE==1328558389 then
call L8E(1093747009,15,15,15,15,100,115,130,145,500,500,500,500,0,0,0,0)
call L8E(1093747000,16,16,16,16,110,110,110,110,1200,1200,1200,1200,0,0,0,0)
call L8E(1093747524,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093746993,100,100,100,0,175,175,175,0,1600,1600,1600,500,0,0,0,0)
elseif LXE==1211119409 then
call L8E(1093749069,10,9,8,7,55,50,45,40,0,0,0,0,0,0,0,0)
call L8E(1093749303,20,16,12,8,75,75,75,75,500,500,500,500,0,0,0,0)
call L8E(1093748818,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093749070,25,25,25,5,120,120,120,75,0,0,0,0,0,0,0,0)
elseif LXE==1328558390 then
call L8E(1093748044,3,3,3,3,20,20,20,20,700,700,700,700,375,375,375,375)
call L8E(1093744982,11,11,11,11,80,100,120,140,1500,1500,1500,1500,375,375,375,375)
call L8E(1093744986,40,40,40,40,100,100,100,100,0,0,0,0,-1,-1,-1,-1)
call L8E(1093744975,90,70,50,9,150,150,150,120,175,175,175,700,500,500,500,500)
elseif LXE==1160786505 then
call L8E(1093753167,18,16,14,12,120,120,120,120,1500,1500,1500,1500,0,0,0,0)
call L8E(1093751607,24,24,24,24,75,75,75,75,1250,1250,1250,1250,0,0,0,0)
call L8E(1093753170,50,50,50,50,75,75,75,75,0,0,0,0,100,100,100,100)
call L8E(1093753169,30,24,18,9,50,75,100,100,0,0,0,0,0,0,0,475)
elseif LXE==1160786510 then
call L8E(1093751631,7,7,6,6,90,90,90,90,500,500,500,500,0,0,0,0)
call L8E(1093751633,20,17,14,11,120,130,140,150,1050,1050,1050,1050,500,500,500,500)
call L8E(1093808697,20,20,20,20,50,50,50,50,0,0,0,0,0,0,0,0)
call L8E(1093751861,55,50,45,6,125,125,125,75,1000,1000,1000,800,450,450,450,200)
call L8E(1093808949,55,50,45,6,125,125,125,75,99999,99999,99999,800,450,450,450,200)
elseif LXE==1160786506 then
call L8E(1093751894,16,16,16,16,130,130,130,130,800,800,800,800,0,0,0,0)
call L8E(1093751639,60,50,40,30,160,130,100,70,600,1000,1400,1800,500,500,500,500)
call L8E(1093751637,14,14,14,14,70,70,70,70,900,900,900,900,300,300,300,300)
call L8E(1093752118,85,85,85,0,125,175,225,0,800,800,800,500,375,375,375,0)
elseif LXE==1328558406 then
call L8E(1093751873,12,12,12,12,40,40,40,40,1800,1800,1800,1800,1,1,1,1)
call L8E(1093751864,20,18,16,14,120,130,140,150,0,0,0,0,0,0,0,0)
call L8E(1093810257,2,2,2,2,0,0,0,0,128,128,128,128,0,0,0,0)
call L8E(1093751874,90,75,60,0,100,100,100,0,99999,99999,99999,500,0,0,0,0)
elseif LXE==1160786504 then
call L8E(1093751608,25,22,19,16,120,120,120,120,600,600,600,600,500,500,500,500)
call L8E(1093751618,13,13,13,13,50,60,70,80,600,600,600,600,500,500,500,500)
call L8E(1093751604,3,3,3,3,50,50,50,50,1500,1500,1500,1500,0,0,0,0)
call L8E(1093751617,50,50,50,0,200,200,200,0,800,800,800,0,0,0,0,0)
elseif LXE==1160786502 then
call L8E(1093751370,36,36,36,36,0,0,0,0,99999,99999,99999,99999,0,0,0,0)
call L8E(1093753176,45,40,35,30,80,80,100,110,1400,1400,1400,1400,0,0,0,0)
call L8E(1093753177,20,20,20,20,100,100,100,100,1300,1300,1300,1300,0,0,0,0)
call L8E(1093751371,110,110,110,0,200,200,200,0,700,700,700,500,0,0,0,0)
elseif LXE==1160786520 then
call L8E(1093809990,18,18,18,18,120,120,120,120,550,575,600,625,0,0,0,0)
call L8E(1093809991,16,14,12,10,150,150,150,150,800,800,800,800,0,0,0,0)
call L8E(1093810006,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)
call L8E(1093809992,20,18,16,0,25,25,25,0,1000,1000,1000,500,0,0,0,0)
elseif LXE==1311788336 then
call L8E(1093814323,14,12,10,8,110,110,110,110,0,0,0,0,0,0,0,0)
call L8E(1093814320,30,22,14,6,50,50,50,50,700,700,700,700,250,350,450,550)
call L8E(1093814355,35,35,35,35,80,90,100,110,1200,1200,1200,1200,0,0,0,0)
call L8E(1093814859,0,0,0,0,0,0,0,0,1500,1500,1500,500,0,0,0,0)
elseif LXE==1160786507 then
call L8E(1093814850,18,18,18,18,100,100,100,100,1000,1000,1000,1000,315,315,315,315)
call L8E(1093814834,16,15,14,13,80,90,100,110,800,800,800,800,0,0,0,0)
call L8E(1093813593,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093813065,50,50,50,0,75,75,75,0,100,100,100,500,0,0,0,0)
elseif LXE==1211122767 then
call L8E(1093812805,5,4,3,2,70,70,70,70,800,800,800,800,500,500,500,500)
call L8E(1093814612,20,18,16,14,110,110,110,110,0,0,0,0,0,0,0,0)
call L8E(1093814350,11,11,11,11,80,90,100,110,700,700,700,700,0,0,0,0)
call L8E(1093812807,60,40,20,0,350,575,800,0,1200,1200,1200,500,170,170,170,0)
elseif LXE==1160786738 then
call L8E(1093813835,8,8,8,8,70,80,90,100,0,0,0,0,0,0,0,0)
call L8E(1093813555,4,4,4,4,60,70,80,90,800,1000,1200,1400,0,0,0,0)
call L8E(1093813556,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L8E(1093813557,8,8,8,0,125,150,175,0,1200,1200,1200,500,200,200,200,0)
elseif LXE==1311788343 then
call L8E(1093815877,60,50,40,30,120,110,100,90,0,0,0,0,0,0,0,0)
call L8E(1093815361,8,8,8,8,120,130,140,150,1200,1200,1200,1200,0,0,0,0)
call L8E(1093815362,17,16,15,14,75,75,75,75,1000,1000,1000,1000,0,0,0,0)
call L8E(1093687856,90,80,70,0,250,250,250,0,800,800,800,0,0,0,0,0)
elseif LXE==1311788363 then
call L8E(1093815601,20,20,20,20,75,75,75,75,600,700,800,900,0,0,0,0)
call L8E(1093815372,4,4,4,4,50,50,50,50,2000,2000,2000,2000,0,0,0,0)
call L8E(1093815373,50,50,50,50,75,75,75,75,900,900,900,900,350,350,350,350)
call L8E(1093815600,65,60,55,0,0,0,0,0,0,0,0,0,0,0,0,0)
endif
endfunction
function LYE takes integer O5,integer o6,integer n6,integer LZE,integer LAE,integer LBE,integer LCE,integer L3E returns nothing
set eY[128+O5]=o6
set eY[144+O5]=n6
set eY[160+O5]=LZE
set eY[172+O5]=LAE
set eY[188+O5]=LBE
set hG[144+O5]=LCE
set hG[160+O5]=L3E
endfunction
function L6E takes unit it returns boolean
local integer i1=GetUnitTypeId(it)
return((i1==1211117636)or(i1==1333027688)or(i1==1311787088)or(i1==1211117653)or(i1==1315988077)or(i1==1211117617)or(i1==1432580716)or(i1==1214344551)or(i1==1215063922)or(i1==1429221451)or(i1==1328558154)or(i1==1332109682)or(i1==1332766568)or(i1==1429221441)or(i1==1429221443)or(i1==1432642913)or(i1==1313026096)or(i1==1430468913)or(i1==1160785970)or(i1==1215657064)or(i1==1429221430)or(i1==1429221424)or(i1==1162032439)or(i1==1162032951)or(i1==1311780930)or(i1==1211117620)or(i1==1430468144)or(i1==1215130471)or(i1==1160786000)or(i1==1211117646)or(i1==1430468406)or(i1==1430466872)or(i1==1433105516)or(i1==1433168227)or(i1==1429221445)or(i1==1160786243))
endfunction
function LLE takes integer O5,unit it,integer i1 returns nothing
if(i1==1211117654)then
call LYE(O5,1093684560,1093682994,1093747504,1093747028,0,12,13)
elseif(i1==1429221443)then
call LYE(O5,1093686322,1093686099,1093744948,1093686103,0,101,101)
elseif(i1==1162032951)then
call LYE(O5,1093684557,1093679446,1093746995,1093679152,1093752154,7,3)
elseif(i1==1162032181)then
call LYE(O5,1093682010,1093679153,1093684299,1093683761,1093747767,9,9)
elseif(i1==1429221424)then
call LYE(O5,1093687351,1093748789,1093815119,1093679445,0,21,17)
elseif(i1==1160785972)then
call LYE(O5,1095263841,1093677872,1093677621,1093678161,0,9,11)
elseif(i1==1432646245)then
call LYE(O5,1093679158,1093677640,1093679173,1093677899,1093747248,1,11)
elseif(i1==1430466609)then
call LYE(O5,1093678145,1093685559,1093684549,1093810258,1093810259,13,20)
elseif(i1==1430468913)then
call LYE(O5,1093678403,1093810507,1093683786,1093677876,0,8,1)
elseif(i1==1430467634)then
call LYE(O5,1093742674,1093679412,1093750608,1093684565,1093681458,15,16)
elseif(i1==1313026096)then
call LYE(O5,1095267426,1096114550,1095721842,1093677401,0,11,6)
elseif((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517))then
call LYE(O5,1093815130,1093683252,1093751369,1093678929,0,10,13)
elseif(i1==1164666213)then
call LYE(O5,1093678679,1093677877,1093678678,1093808454,1093808455,102,23)
elseif(i1==1433168227)then
call LYE(O5,1093678918,1093678387,1093679186,1093678420,1093679176,25,25)
elseif(i1==1429221430)then
call LYE(O5,1093681736,1093681735,1093681739,1093687121,0,14,16)
elseif(i1==1430466872)then
call LYE(O5,1093687349,1093684558,1093677646,1093679413,1093679447,23,17)
elseif(i1==1162032439)then
call LYE(O5,1093744435,1093684569,1093684563,1093677363,1093681462,8,8)
elseif(i1==1430466865)then
call LYE(O5,1093677651,1093677879,1093751364,1093810508,0,8,11)
elseif(i1==1430468144)then
call LYE(O5,1093679192,1093750337,1093686872,1093750341,1093814599,107,107)
elseif(i1==1429221432)then
call LYE(O5,1093677893,1093677892,1093687878,1093679411,0,1,6)
elseif(i1==1429221441)then
call LYE(O5,1093678389,1093685847,1093677902,1093677903,0,10,1)
elseif(i1==1165451634)then
call LYE(O5,1093687629,1093685324,1093677904,1093677905,0,3,11)
elseif(i1==1432642913)then
call LYE(O5,1093684550,1093683507,1093684551,1093684819,1093747777,4,4)
elseif(i1==1215722344)then
call LYE(O5,1093684293,1093683512,1093682499,1093684296,0,1,11)
elseif(i1==1432510828)then
call LYE(O5,1093751127,1093681985,1093681991,1093682004,0,6,6)
elseif(i1==1332766568)then
call LYE(O5,1093681974,1093686065,1093683510,1093682482,1093750098,104,4)
elseif(i1==1429221451)then
call LYE(O5,1093678671,1093682753,1093683248,1093678674,1093747252,8,11)
elseif(i1==1315334514)then
call LYE(O5,1093681746,1093682521,1093682773,1093810506,0,7,8)
elseif(i1==1328558154)then
call LYE(O5,1093750840,1093682515,1093682997,1093682996,1093747768,1,1)
elseif(i1==1429221446)then
call LYE(O5,1093678665,1093678667,1093678660,1093682764,1093747544,103,4)
elseif(i1==1429221445)then
call LYE(O5,1093678422,1093678640,1093677390,1093678647,1093679184,21,25)
elseif(i1==1332963428)then
call LYE(O5,1093683019,1093678169,1093816137,1093677649,1093747769,18,17)
elseif(i1==1332109682)then
call LYE(O5,1093678134,1093678149,1093808694,1093810505,0,11,15)
elseif(i1==1211117640)then
call LYE(O5,1093684564,1093681989,1093679428,1093681987,1093677658,21,21)
elseif(i1==1430468406)then
call LYE(O5,0,1093677635,0,0,0,25,25)
elseif(i1==1160786242)then
call LYE(O5,1093683287,1093682776,1093684801,1093683257,0,10,6)
elseif(i1==1160786241)then
call LYE(O5,1093684813,1093684815,1093684805,1093684820,1093684824,105,23)
elseif(i1==1429221456)then
call LYE(O5,1093683526,1093685065,1093685066,1093685067,1093752407,23,22)
elseif(i1==1160786243)then
if(TK7(not IsPlayerAlly(Player(O5),Z7[0]))>2)then
call LYE(O5,1093681491,1093678672,1093683765,1395667000,1395667029,17,20)
else
call LYE(O5,1093681491,1093683765,1093678672,1395667000,1395667029,17,20)
endif
elseif(i1==1211117641)then
call LYE(O5,1093684791,1093684792,1093684802,1093684567,1093809987,106,106)
elseif(i1==1311781207)then
call LYE(O5,1093685074,1093742668,1093684817,1093742673,1093747778,17,18)
elseif(i1==1311780946)then
call LYE(O5,1093677385,1093685825,1095328612,1093685808,0,15,16)
elseif(i1==1211117650)then
call LYE(O5,1093743955,1093685813,1093743958,1093743946,0,5,5)
elseif(i1==1211117646)then
call LYE(O5,1093685575,1093685573,1093685815,1093685579,1093808465,5,5)
elseif(i1==1211117624)then
call LYE(O5,1093682775,1093683024,1093684531,1093682774,0,4,4)
elseif(i1==1160785973)then
call LYE(O5,1093678642,1093678129,1093678130,1093678388,1093677141,154,154)
elseif(i1==1315988077)then
call LYE(O5,1093678669,1093684568,1097032808,1093684561,1093747254,6,10)
elseif(i1==1211117616)then
call LYE(O5,1093677139,1093816142,1093677142,1093816118,0,6,10)
elseif(i1==1315074670)then
call LYE(O5,1093677622,1093677625,1093685570,1093686851,0,9,7)
elseif(i1==1215063922)then
call LYE(O5,1093677894,1093812553,1093681996,1093677895,0,15,6)
elseif(i1==1164207469)then
call LYE(O5,1093677618,1093684057,1095066220,1093682483,0,9,3)
elseif(i1==1433631084)then
call LYE(O5,1093677907,1093677909,1093678644,1093678160,0,3,13)
elseif(i1==1214345830)then
call LYE(O5,1093679182,1093679190,1093678657,1093682514,0,18,5)
elseif((i1==1311781174)or(i1==1311781175)or(i1==1311781442))then
call LYE(O5,1093681733,1093808460,1093685040,1093748042,0,12,9)
elseif(i1==1315007329)then
call LYE(O5,1093677108,1093749073,1093678913,1093681716,0,1,3)
elseif(i1==1332898670)then
call LYE(O5,1093677136,1093677360,1093685848,1093677128,1093681457,17,23)
elseif(i1==1215723364)then
call LYE(O5,1093677633,1094934883,1093744463,1093683534,1093747031,14,4)
elseif(i1==1215128178)then
call LYE(O5,1093683779,1093677616,1093684789,1093810503,1093810504,16,20)
elseif(i1==1164799855)then
call LYE(O5,1093682263,1093682264,1093677378,1093682265,1093752642,26,22)
elseif(i1==1433105516)then
call LYE(O5,1093683511,1093744688,1093681713,1093747288,0,18,25)
elseif(i1==1214409837)then
call LYE(O5,1093679157,1093742898,1093742680,1093742932,0,19,19)
elseif(i1==1316252014)then
call LYE(O5,1093678405,1093678137,1093681745,1093678645,0,157,19)
elseif(i1==1164799603)then
call LYE(O5,1093808453,1095067246,1093677391,1093752632,1093752633,18,19)
elseif(i1==1328558160)then
call LYE(O5,1093682766,1093682998,1093684056,1093683000,0,1,12)
elseif(i1==1212363833)then
call LYE(O5,1093678643,1093809220,1093815125,1093678933,0,10,9)
elseif(i1==1315070563)then
call LYE(O5,1093678407,1093677131,1093678135,1093684529,1093747032,1,11)
elseif(i1==1214931305)then
call LYE(O5,1093748025,1093678147,1095262562,1093677906,1093681494,8,17)
elseif(i1==1212365106)then
call LYE(O5,1093682266,1093684025,1093685831,1093677130,0,1,10)
elseif(i1==1211117617)then
call LYE(O5,1093744944,1093677387,1093814611,1093752648,0,11,4)
elseif(i1==1211117633)then
call LYE(O5,1093810260,1093684045,1093684310,1093684308,1093747539,153,153)
elseif(i1==1211117620)then
call LYE(O5,1093677382,1093677623,1093744728,1093677392,1093679450,16,23)
elseif(i1==1432580716)then
call LYE(O5,1093681754,1093684300,1093744977,1093682009,0,15,16)
elseif(i1==1333027688)then
call LYE(O5,1093686091,1093682250,1093682252,1093682248,1093750594,15,16)
if IsPlayerAlly(Player(O5),Z7[0])then
set GQ7=true
else
set GR7=true
endif
elseif(i1==1311781185)then
call LYE(O5,1093743692,1093684314,1093815892,1093684275,0,26,22)
elseif(i1==1311788343)then
call LYE(O5,1093815877,1093815361,1093815362,1093687856,0,25,22)
elseif(i1==1311788363)then
call LYE(O5,1093815601,1093815372,1093815373,1093815600,0,25,22)
elseif(i1==1211117643)then
call LYE(O5,1093678410,1093678658,1093678664,1093681483,1093748313,151,151)
elseif(i1==1215657064)then
call LYE(O5,1095657827,1093750841,1093677913,1093684291,0,156,156)
elseif(i1==1332179560)then
call LYE(O5,1093682242,1093742660,1093682231,1093687627,0,10,9)
elseif(i1==1214344551)then
call LYE(O5,1093677402,1093809742,1093815628,1093678938,0,152,20)
elseif((i1==1311781199)or(i1==1311781171)or(i1==1311781172)or(i1==1311781173))then
call LYE(O5,1093681461,1093681464,0,1093681479,0,3,11)
elseif(i1==1215130471)then
call LYE(O5,0,0,0,1093679160,0,16,23)
elseif(i1==1211117636)then
call LYE(O5,1093685041,1093685071,1093681732,1093685042,1093810233,155,16)
elseif(i1==1160786000)then
call LYE(O5,1093685046,1093685047,1093685048,1093685045,1093747249,19,25)
elseif(i1==1311781193)then
call LYE(O5,1093685043,1093750345,1093683532,1095656306,0,6,11)
elseif(i1==1311781206)then
call LYE(O5,1093684054,1093684280,1093684302,1093684053,0,14,12)
elseif(i1==1211117649)then
call LYE(O5,1093685584,1093685582,1093685585,1093685586,1093747251,11,11)
elseif(i1==1160786265)then
call LYE(O5,1093685839,1093748033,1093685846,1093685840,0,9,10)
elseif(i1==1311780930)then
call LYE(O5,1093686073,1093686083,1093686082,1093686072,1093751120,13,18)
elseif(i1==1311787088)then
call LYE(O5,1093750087,1093748819,1093748817,1093750089,48,1,1)
elseif(i1==1211119409)then
call LYE(O5,1093749069,1093749303,1093748818,1093749070,48,1,1)
elseif(i1==1160785970)then
call LYE(O5,1093748023,1093747792,1093748022,1093747023,1093752150,1,1)
elseif(i1==1160786506)then
call LYE(O5,1093751894,1093751639,1093751637,1093752118,48,1,1)
elseif(i1==1160786505)then
call LYE(O5,1093753167,1093751607,1093753170,1093753169,48,1,1)
elseif(i1==1160786502)then
call LYE(O5,1093751370,1093753176,1093753177,1093751371,48,1,1)
elseif(i1==1160786520)then
call LYE(O5,1093809990,1093809991,1093810006,1093809992,48,1,1)
if Z27(Player(O5))then
set GP7=true
endif
elseif(i1==1211117652)then
call LYE(O5,1093687860,1093687861,1093687862,1093687864,1093747542,1,1)
elseif(i1==1211117653)then
call LYE(O5,1093808471,1093808472,1093808470,1093808473,1093748565,1,1)
elseif(i1==1311786311)then
call LYE(O5,1093743178,1093743179,1093743689,1093743184,1093747766,1,1)
elseif(i1==1160786510)then
call LYE(O5,1093751631,1093751633,1093808697,1093751861,1093808949,1,1)
elseif(i1==1328558406)then
call LYE(O5,1093751873,1093751864,1093810257,1093751874,0,1,1)
elseif(i1==1211117651)then
call LYE(O5,1093743696,1093743698,1093685591,1093743695,0,1,1)
elseif(i1==1328558390)then
call LYE(O5,1093748044,1093744982,1093744986,1093744975,0,1,1)
elseif(i1==1160786504)then
call LYE(O5,1093751608,1093751618,1093751604,1093751617,0,1,1)
elseif(i1==1311788336)then
call LYE(O5,1093814323,1093814320,1093814355,1093814859,0,1,1)
elseif(i1==1160786507)then
call LYE(O5,1093814850,1093814834,1093813593,1093813065,0,1,1)
elseif(i1==1211122767)then
call LYE(O5,1093812805,1093814612,1093814350,1093812807,0,1,1)
elseif(i1==1160786738)then
call LYE(O5,1093813835,1093813555,1093813556,1093813557,0,1,1)
else
call LYE(O5,HM4[GetUnitPointValue(it)],HN4[GetUnitPointValue(it)],HO4[GetUnitPointValue(it)],HP4[GetUnitPointValue(it)],HQ4[GetUnitPointValue(it)],1,1)
endif
set bj_forLoopAIndex=O5
call LWE(i1)
endfunction
function L1E takes nothing returns nothing
call N69(GetTriggerUnit())
if(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)then
if(GetUnitTypeId(GetTriggerUnit())!=1211117642)then
call ExecuteFunc("UD")
else
call ExecuteFunc("xh")
endif
elseif(GetUnitTypeId(GetTriggerUnit())!=1211117642)then
if not(((QA4!=null)and(IsTriggerEnabled(QA4)))and(((GetOwningPlayer(GetTriggerUnit())==QT4)and(QV4!=null))or((GetOwningPlayer(GetTriggerUnit())==QU4)and(QW4!=null))))then
set bj_lastLoadedUnit=GetTriggerUnit()
call LLE(GetPlayerId(GetOwningPlayer(bj_lastLoadedUnit)),bj_lastLoadedUnit,GetUnitTypeId(bj_lastLoadedUnit))
call ExecuteFunc("L0E")
endif
endif
endfunction
function L5E takes integer O5,integer QW7 returns nothing
local integer L2E=0
local real x
local real y
local integer L_E=KL4
local integer D4F=K54
local integer kg=0
local player pl=Player(O5)
local integer i=0
if(Z_7(pl)and(GetPlayerController(pl)==MAP_CONTROL_COMPUTER)and(M7[GetPlayerId(pl)]==null))then
if(((ZL7(pl))and(not P4))or((P4)and(GetRandomInt(1,2)==1)))then
set L_E=KL4
set D4F=K14
else
set L_E=K04
set D4F=K54
endif
if(ZL7(pl))then
set x=GetRandomReal(GetRectMinX(ED),GetRectMaxX(ED))
set y=GetRandomReal(GetRectMinY(ED),GetRectMaxY(ED))
else
set x=GetRandomReal(GetRectMinX(L9),GetRectMaxX(L9))
set y=GetRandomReal(GetRectMinY(L9),GetRectMaxY(L9))
endif
set eY[GetPlayerId(pl)]=0
loop
set L2E=GetRandomInt(L_E,D4F)
if((not J[L2E])and(QV7(K34[L2E],QW7)or i>20))then
set M7[GetPlayerId(pl)]=CreateUnit(pl,K34[L2E],x,y,bj_UNIT_FACING)
endif
set i=i+1
exitwhen(M7[GetPlayerId(pl)]!=null)
endloop
if(not(E4 or O4 or A8 or H34))then
call AdjustPlayerStateBJ(-250,pl,PLAYER_STATE_RESOURCE_GOLD)
endif
endif
set pl=null
endfunction
function SEv takes nothing returns nothing
if(IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO))then
if(GetUnitTypeId(GetEnumUnit())==1429221430)then
call ExecuteFunc("CX8")
endif
elseif((GetUnitTypeId(GetEnumUnit())==1848651828)or(GetUnitTypeId(GetEnumUnit())==1848652088)or(GetUnitTypeId(GetEnumUnit())==1848652099)or(GetUnitTypeId(GetEnumUnit())==1848652103))then
call RemoveUnit(GetEnumUnit())
endif
endfunction
function D7F takes player pl,boolean D8F returns nothing
local integer L_E
local integer D4F
local integer L2E
local integer O5=GetPlayerId(pl)
local integer QW7=UQ7(GetHandleId(pl),"AI|Class")
local integer i=0
if(((ZL7(pl))and(not P4))or((P4)and(GetRandomInt(1,2)==1)))then
set L_E=KL4
set D4F=K14
else
set L_E=K04
set D4F=K54
endif
if(D8F)then
if P4 or Y8 then
set X4=100
endif
call AdjustPlayerStateBJ(-1*X4,pl,PLAYER_STATE_RESOURCE_GOLD)
endif
call GroupClear(H8)
set bj_groupEnumOwningPlayer=pl
call GroupEnumUnitsInRect(H8,GetWorldBounds(),filterGetUnitsInRectOfPlayer)
call ForGroup(H8,function RY9)
call DO8(M7[O5])
set M7[O5]=null
set I[O5]=true
loop
set L2E=GetRandomInt(L_E,D4F)
if(J[L2E]==false and(QV7(K34[L2E],QW7)or i>20))then
set J[L2E]=true
if(ZL7(pl))then
set M7[O5]=CreateUnit(pl,K34[L2E],GetRectCenterX(HD),GetRectCenterY(HD),bj_UNIT_FACING)
else
set M7[O5]=CreateUnit(pl,K34[L2E],GetRectCenterX(GD),GetRectCenterY(GD),bj_UNIT_FACING)
endif
call AB7(K34[L2E])
endif
set i=i+1
exitwhen M7[O5]!=null
endloop
endfunction
function D9F takes nothing returns nothing
local string VH=GetEventPlayerChatString()
local player pl=S77(S2I(SubString(VH,9,StringLength(VH))))
if((pl!=null)and(Z_7(pl))and(IsPlayerInForce(pl,QX4)))then
if((IsPlayerAlly(GetTriggerPlayer(),pl))or(TO7(not IsPlayerAlly(GetTriggerPlayer(),Z7[0]))==null))then
if((I[GetPlayerId(pl)])or(M7[GetPlayerId(pl)]==null))then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"Cannot repick")
elseif(Bz>60.)then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"Too late to repick")
else
call D7F(pl,false)
endif
else
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"Cannot force repick on enemies with human ally")
endif
endif
set pl=null
endfunction
function DDF takes nothing returns nothing
local string VH=GetEventPlayerChatString()
local integer DEF=1
local boolean O6=IsPlayerAlly(GetTriggerPlayer(),Z7[0])
local boolean DFF
if((P)and((VH=="-pa")or(VH=="-pe"))and oo[GetPlayerId(GetTriggerPlayer())]==false)then
set Gs=true
if(VH=="-pa")then
set DFF=O6
else
set DFF=not O6
endif
loop
if(Z27(TN7(DEF,DFF))and M7[GetPlayerId(TN7(DEF,DFF))]==null)then
exitwhen true
endif
set DEF=DEF+1
exitwhen(DEF>5)
endloop
if((DEF<=5)and(TP7(O6)==null))then
if((M7[GetPlayerId(TO7(O6))]==null)and(not oo[GetPlayerId(TO7(O6))]))then
if(O6)then
set QV4=TN7(DEF,DFF)
else
set QW4=TN7(DEF,DFF)
endif
if(not P4)then
call SetUnitOwner(h4[512+GetPlayerId(TO7(O6))],TP7(O6),false)
call SetUnitOwner(h4[512+GetPlayerId(TP7(O6))],TO7(O6),false)
if VH=="-pe" then
set nc=CreateUnitAtLoc(TO7(O6),1848651843,GetRectCenter(pr),0)
set Vc=CreateUnitAtLoc(TO7(O6),1848651843,GetRectCenter(qr),0)
if not P4 then
call A67(GetTriggerPlayer())
endif
endif
endif
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"Pick a hero for "+Q[GetPlayerId(TP7(O6))]+GetPlayerName(TP7(O6))+"|r. Type "+F57+"-px|r to cancel.")
else
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"You should pick heroes for the AI before choosing your own hero. Randomized instead.")
call L5E(GetPlayerId(TN7(DEF,DFF)),0)
endif
elseif(TP7(O6)!=null)then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"Already picking for "+Q[GetPlayerId(TP7(O6))]+GetPlayerName(TP7(O6))+"|r")
endif
elseif(VH=="-px")then
if not P4 then
call AL7(GetTriggerPlayer())
endif
if(TP7(O6)!=null)then
call SetUnitOwner(h4[512+GetPlayerId(TO7(O6))],TO7(O6),false)
call SetUnitOwner(h4[512+GetPlayerId(TP7(O6))],TP7(O6),false)
call RemoveUnit(nc)
call RemoveUnit(Vc)
set nc=null
set Vc=null
if(O6)then
set QV4=null
else
set QW4=null
endif
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"Picking cancelled")
endif
elseif((not P)and((VH=="-pa")or(VH=="-pe")))then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"|c00888888Too early to pick a hero.|r")
endif
endfunction
function DGF takes nothing returns boolean
local integer O5=1
loop
exitwhen O5>5
if(Z57(Z7[O5])and(M7[GetPlayerId(Z7[O5])]==null))then
return true
elseif(Z57(A7[O5])and(M7[GetPlayerId(A7[O5])]==null))then
return true
endif
set O5=O5+1
endloop
return false
endfunction
function DHF takes nothing returns nothing
local integer O5=1
local boolean array DIF
local integer i
local integer j
if(Bz<68.)then
if(((W8)or(not Gs))and(Bz>43.))then
elseif(DGF()or Bz<30.)then
return
else
call R97(1.)
endif
endif
call DestroyTrigger(GetTriggeringTrigger())
call DisableTrigger(QA4)
if(QV4!=null)then
call DisplayTimedTextToPlayer(QT4,0,0,5.,"Picking for AI has ended.")
call SetUnitOwner(h4[512+GetPlayerId(QT4)],QT4,false)
call SetUnitOwner(h4[512+GetPlayerId(QV4)],QV4,false)
call RemoveUnit(nc)
call RemoveUnit(Vc)
set nc=null
set Vc=null
set QV4=null
endif
if(QW4!=null)then
call DisplayTimedTextToPlayer(QU4,0,0,5.,"Picking for AI has ended.")
call SetUnitOwner(h4[512+GetPlayerId(QU4)],QU4,false)
call SetUnitOwner(h4[512+GetPlayerId(QW4)],QW4,false)
call RemoveUnit(nc)
call RemoveUnit(Vc)
set nc=null
set Vc=null
set QW4=null
endif
if((E4)or(A8)or(O4)or(H34)or(O04)or(O9)or(RZ4)or(SN4))then
return
endif
set O5=1
loop
exitwhen O5>5
if M7[GetPlayerId(Z7[O5])]!=null then
set DIF[QT7(GetUnitTypeId(M7[GetPlayerId(Z7[O5])]))]=true
endif
if M7[GetPlayerId(A7[O5])]!=null then
set DIF[6+QT7(GetUnitTypeId(M7[GetPlayerId(A7[O5])]))]=true
endif
set O5=O5+1
endloop
if HB4<=4 then
set DIF[F47]=true
endif
if HB4<=3 then
if GetRandomInt(0,2)==0 then
set DIF[F77]=true
else
set DIF[F87]=true
endif
endif
if HB4<=2 then
if DIF[F77]then
set DIF[F87]=true
else
set DIF[F77]=true
endif
endif
if HC4<=4 then
set DIF[6+F47]=true
endif
if HC4<=3 then
if GetRandomInt(0,2)==0 then
set DIF[6+F77]=true
else
set DIF[6+F87]=true
endif
endif
if HC4<=2 then
if DIF[F77]then
set DIF[6+F87]=true
else
set DIF[6+F77]=true
endif
endif
set O5=1
loop
exitwhen O5>5
if(Z27(Z7[O5])and(M7[GetPlayerId(Z7[O5])]==null))then
set j=0
loop
exitwhen j>5
set i=GetRandomInt(1,5)
if DIF[i]then
set i=0
else
exitwhen true
endif
set j=j+1
endloop
if i==0 then
set i=5
loop
exitwhen(not DIF[i])or i==0
set i=i-1
endloop
endif
call L5E(GetPlayerId(Z7[O5]),i)
if not(i==0 or QV7(GetUnitTypeId(M7[GetPlayerId(Z7[O5])]),i))then
set i=QT7(GetUnitTypeId(M7[GetPlayerId(Z7[O5])]))
endif
set DIF[i]=true
call TT7(GetHandleId(Z7[O5]),"AI|Class",i)
call R97(1.0)
endif
if(Z27(A7[O5])and(M7[GetPlayerId(A7[O5])]==null))then
set j=0
loop
exitwhen j>5
set i=GetRandomInt(1,5)
if DIF[6+i]then
set i=0
else
exitwhen true
endif
set j=j+1
endloop
if i==0 then
set i=5
loop
exitwhen(not DIF[6+i])or i==0
set i=i-1
endloop
endif
call L5E(GetPlayerId(A7[O5]),i)
if not(i==0 or QV7(GetUnitTypeId(M7[GetPlayerId(A7[O5])]),i))then
set i=QT7(GetUnitTypeId(M7[GetPlayerId(A7[O5])]))
endif
set DIF[6+i]=true
call TT7(GetHandleId(A7[O5]),"AI|Class",i)
call R97(1.0)
endif
set O5=O5+1
endloop
endfunction
function DJF takes unit it,integer DKF returns nothing
call SetPlayerAbilityAvailable(GetOwningPlayer(it),DKF,true)
call SelectHeroSkill(it,DKF)
endfunction
function DMF takes integer i1 returns boolean
return(((i1==1311781174)or(i1==1311781175)or(i1==1311781442)))
endfunction
function DNF takes integer i1 returns boolean
return((i1==1430468406)or(i1==1316252014)or(i1==1429221456)or(i1==1432646245)or((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))or(i1==1215657064)or(i1==1311781207)or(i1==1311780946)or(i1==1315074670)or(i1==1164666213)or(i1==1429221441))
endfunction
function DOF takes nothing returns nothing
local unit it=GetEnumUnit()
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer i1=GetUnitTypeId(it)
local integer DPF=0
local integer DQF=0
local integer DRF=0
local integer DSF=0
local integer kt=0
local integer UP
local player DTF=GetOwningPlayer(it)
local integer DUF=0
if(Z84[GetPlayerId(DTF)]==ZD4)then
set DUF=1
elseif(Z84[GetPlayerId(DTF)]==ZE4)then
set DUF=2
elseif(Z84[GetPlayerId(DTF)]==ZF4)then
set DUF=3
endif
loop
call TriggerSleepAction(0.1)
set DRF=GetHeroSkillPoints(it)
exitwhen((DPF>10)or(DRF==0)or(DQF>25)or(not SE7(it)))
set kt=GetHeroLevel(it)+1-DRF
if((kt<=14)and(DPF<7))then
set DSF=GetRandomInt(0,2)
else
set DSF=GetRandomInt(0,4)
endif
if(DPF==0)then
set DSF=0
if((kt==6)or(kt==11)or(kt==16))then
set DSF=3
elseif(kt>=15)then
set DSF=4
endif
endif
if(DSF==3)then
if((DNF(i1))and(kt<10))then
set DSF=GetRandomInt(0,1)
elseif((i1==1311781199)and(kt<14))then
set DSF=GetRandomInt(0,2)
endif
elseif(DPF==0)then
if((DNF(i1))and(kt==10))then
set DSF=3
elseif((i1==1311781199)and((kt==14)or(kt==15)))then
set DSF=3
endif
endif
if((DSF==2)and(kt<10))then
set DSF=GetRandomInt(0,1)
endif
if(((i1==1215722344)or(i1==1311781207))and(DPF<2))then
if((kt==2)or(kt==5))then
set DSF=2
elseif(((kt==10)or(kt==12))and(DSF==2))then
set DSF=GetRandomInt(0,1)
endif
elseif(((i1==1430466609)or(i1==1164207469)or(i1==1162032181)or(i1==1429221456)or(i1==1164799603)or(i1==1212365106)or(i1==1311781206)or(i1==1311780930))and(DPF<2))then
if(kt==1)then
set DSF=2
elseif((kt==10)and(DSF==2))then
set DSF=GetRandomInt(0,1)
endif
elseif((i1==1432642913)and(kt==2)and(DPF<3))then
set DSF=2
endif
if((i1==1160786241)and(DPF<3))then
if((kt<=16)and(DSF==2))then
set DSF=4
elseif(((kt==17)or(kt==18)or(kt==19)or(kt==20))and(DSF==4))then
set DSF=2
endif
elseif((i1==1432510828)and(DPF<3))then
if((kt==1)or(kt==4)or(kt==8)or(kt==12))then
set DSF=0
elseif((kt==2)or(kt==5)or(kt==9)or(kt==13))then
set DSF=1
elseif((kt==3)or(kt==7)or(kt==10)or(kt==14))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1332179560)and(DPF<3))then
if((kt==1)or(kt==4)or(kt==6)or(kt==17))then
set DSF=2
elseif((kt==9)or(kt==11)or(kt==16))then
set DSF=3
elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set DSF=1
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set DSF=0
else
set DSF=4
endif
elseif((i1==1429221430)and(DPF<3))then
if((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set DSF=0
elseif((kt==1)or(kt==10)or(kt==13)or(kt==14))then
set DSF=1
elseif((kt==4)or(kt==8)or(kt==9)or(kt==12))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1211117641)and(DPF<3))then
if((kt==1)or(kt==8)or(kt==10)or(kt==18))then
set DSF=0
elseif((kt==3)or(kt==15)or(kt==19)or(kt==25))then
set DSF=2
elseif((kt==7)or(kt==9)or(kt==12)or(kt==13))then
set DSF=1
elseif((kt<=14)and(DSF!=3))then
set DSF=4
endif
elseif((i1==1214344551)and(DPF<3))then
if((kt==3)or(kt==12)or(kt==13)or(kt==14))then
set DSF=0
elseif((kt==1)or(kt==5)or(kt==8)or(kt==10))then
set DSF=1
elseif((kt==2)or(kt==4)or(kt==7)or(kt==9))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1165451634)and(DPF<3))then
if((kt==1)or(kt==23)or(kt==24)or(kt==25))then
set DSF=0
elseif((kt==2)or(kt==4)or(kt==7)or(kt==8))then
set DSF=1
elseif((kt==13)or(kt==14)or(kt==15)or(kt==17))then
set DSF=2
elseif((kt<=17)and(DSF!=3))then
set DSF=4
endif
elseif((i1==1160785972)and(DPF<3))then
if((kt==4)or(kt==12)or(kt==13)or(kt==14))then
set DSF=0
elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set DSF=1
elseif((kt==1)or(kt==8)or(kt==9)or(kt==10))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1313026096)and(DPF<3))then
if((kt==12)or(kt==13)or(kt==14)or(kt==15))then
set DSF=1
elseif((kt==17)or(kt==18)or(kt==19)or(kt==20))then
set DSF=2
elseif((kt<=12)and(DSF!=3)and(DSF!=0))then
set DSF=4
endif
elseif((i1==1430468913)and(DPF<3))then
if((kt==10)or(kt==11)or(kt==12)or(kt==13))then
set DSF=0
elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set DSF=1
elseif((kt==1)or(kt==4)or(kt==8)or(kt==9))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
endif
elseif((i1==1215657064)and(DPF<3))then
if((kt==2)or(kt==8)or(kt==9)or(kt==25))then
set DSF=1
elseif((kt==4)or(kt==10)or(kt==11)or(kt==12))then
set DSF=2
elseif((kt==6)or(kt==15)or(kt==16))then
set DSF=3
elseif((kt<=20)and(DSF!=0))then
set DSF=4
endif
elseif((i1==1160785973)and(DPF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DSF=0
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set DSF=1
elseif((kt==2)or(kt==4)or(kt==8)or(kt==9))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1332766568)and(DPF<3))then
if(DUF==1)then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DSF=0
elseif((kt==21)or(kt==22)or(kt==23)or(kt==24))then
set DSF=1
elseif((kt==2)or(kt==4)or(kt==8)or(kt==9))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif(DUF==2)then
if((kt==2)or(kt==4)or(kt==8)or(kt==9))then
set DSF=0
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set DSF=1
elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif(DUF==3)then
if((kt==2)or(kt==8)or(kt==9)or(kt==12))then
set DSF=0
elseif((kt==3)or(kt==5)or(kt==13)or(kt==14))then
set DSF=1
elseif((kt==1)or(kt==4)or(kt==7)or(kt==10))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
else
if((kt==2)or(kt==8)or(kt==9)or(kt==12))then
set DSF=0
elseif((kt==3)or(kt==5)or(kt==13)or(kt==14))then
set DSF=1
elseif((kt==1)or(kt==4)or(kt==7)or(kt==10))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
endif
elseif((i1==1328558160)and(DPF<3))then
if((kt==1)or(kt==4)or(kt==6)or(kt==8))then
set DSF=0
elseif((kt==10)or(kt==16)or(kt==17)or(kt==18))then
set DSF=1
elseif((kt==12)or(kt==23)or(kt==24)or(kt==25))then
set DSF=2
elseif((kt==11)or(kt==19)or(kt==20))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1214931305)and(DPF<3))then
if((kt==4)or(kt==18)or(kt==19)or(kt==20))then
set DSF=0
elseif((kt==1)or(kt==13)or(kt==14)or(kt==15))then
set DSF=1
elseif((kt==2)or(kt==3)or(kt==6)or(kt==9))then
set DSF=2
elseif((kt==11)or(kt==16)or(kt==17))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1162032439)and(DPF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DSF=0
elseif((kt==2)or(kt==9)or(kt==12)or(kt==14))then
set DSF=1
elseif((kt==4)or(kt==8)or(kt==10)or(kt==13))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1311781185)and(DPF<3))then
if((kt==1)or(kt==8)or(kt==9)or(kt==14))then
set DSF=0
elseif((kt==4)or(kt==10)or(kt==12)or(kt==13))then
set DSF=1
elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1162032181)and(DPF<3))then
if((kt==3)or(kt==5)or(kt==7)or(kt==9))then
set DSF=0
elseif((kt==12)or(kt==13)or(kt==14)or(kt==15))then
set DSF=1
elseif((kt==1)or(kt==17)or(kt==18)or(kt==19))then
set DSF=2
elseif((kt==10)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif(((i1==1311781199)or(i1==1311781171))or((i1==1311781172)or(i1==1311781173))and(DPF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DSF=0
elseif((kt==2)or(kt==4)or(kt==8)or(kt==10))then
set DSF=1
elseif((kt==17)or(kt==18)or(kt==19)or(kt==20))then
set DSF=2
elseif((kt==11)or(kt==12)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1215128178)and(DPF<3))then
if((kt==3)or(kt==4)or(kt==5)or(kt==7))then
set DSF=0
elseif((kt==2)or(kt==18)or(kt==19)or(kt==20))then
set DSF=1
elseif((kt==8)or(kt==9)or(kt==10)or(kt==17))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1215063922)or(i1==1211117638)or(i1==1211117637)or(i1==1211117639))and(DPF<3)then
if((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set DSF=0
elseif((kt==1)or(kt==4)or(kt==7)or(kt==11))then
set DSF=1
elseif((kt==4)or(kt==8)or(kt==12)or(kt==13))then
set DSF=2
elseif((kt==6)or(kt==15)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif(((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))and(DPF<3))then
if((kt==4)or(kt==5)or(kt==12)or(kt==13))then
set DSF=0
elseif((kt==1)or(kt==3)or(kt==7)or(kt==9))then
set DSF=1
elseif((kt==17)or(kt==18)or(kt==19)or(kt==20))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1429221446)and(DPF<3))then
if((kt==2)or(kt==4)or(kt==7)or(kt==13))then
set DSF=0
elseif((kt==1)or(kt==3)or(kt==5)or(kt==12))then
set DSF=1
elseif((kt==8)or(kt==9)or(kt==10)or(kt==14))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1211117643)and(DPF<3))then
if((kt==1)or(kt==4)or(kt==7)or(kt==9))then
set DSF=0
elseif((kt==3)or(kt==13)or(kt==15)or(kt==17))then
set DSF=1
elseif((kt==2)or(kt==18)or(kt==20)or(kt==22))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1311787088)and(DPF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DSF=0
elseif((kt==2)or(kt==4)or(kt==8)or(kt==9))then
set DSF=1
elseif((kt==12)or(kt==17)or(kt==18)or(kt==19))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1211117653)and(DPF<3))then
if((kt==4)or(kt==14)or(kt==15)or(kt==16)or(kt==18)or(kt==20)or(kt==21))then
set DSF=0
elseif((kt==6)or(kt==10)or(kt==19)or(kt==22)or(kt==23)or(kt==24)or(kt==25))then
set DSF=1
elseif((kt==1)or(kt==3)or(kt==5)or(kt==8)or(kt==9)or(kt==11)or(kt==13))then
set DSF=2
elseif((kt==2)or(kt==7)or(kt==12)or(kt==17))then
set DSF=3
endif
elseif(((i1==1211117620)or(i1==1160786505))and(DPF<3))then
if((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set DSF=0
elseif((kt==1)or(kt==4)or(kt==8)or(kt==9))then
set DSF=1
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1211119409)and(DPF<3))then
if((kt==3)or(kt==4)or(kt==5)or(kt==7))then
set DSF=0
elseif((kt==1)or(kt==8)or(kt==9)or(kt==10))then
set DSF=1
elseif((kt==2)or(kt==12)or(kt==13)or(kt==14))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1160786502)and(DPF<3))then
if((kt==1)or(kt==8)or(kt==9)or(kt==10))then
set DSF=0
elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set DSF=1
elseif((kt==4)or(kt==12)or(kt==13)or(kt==14))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif(((i1==1211119187)or(i1==1211117636))and(DPF<3))then
if((kt==2)or(kt==4)or(kt==8)or(kt==9))then
set DSF=0
elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DSF=1
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1433105516)and(DPF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DSF=0
elseif((kt==2)or(kt==4)or(kt==8)or(kt==9))then
set DSF=1
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1211117616)and(DPF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DSF=0
elseif((kt==8)or(kt==9)or(kt==12)or(kt==14))then
set DSF=1
elseif((kt==2)or(kt==4)or(kt==10)or(kt==13))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1333027688)and(DPF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DSF=0
elseif((kt==4)or(kt==12)or(kt==13)or(kt==14))then
set DSF=1
elseif((kt==2)or(kt==8)or(kt==9)or(kt==10))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1214345830)and(DPF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DSF=0
elseif((kt==4)or(kt==8)or(kt==13)or(kt==14))then
set DSF=1
elseif((kt==2)or(kt==9)or(kt==10)or(kt==12))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1315988077)and(DPF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DSF=0
elseif((kt==8)or(kt==9)or(kt==10)or(kt==12))then
set DSF=1
elseif((kt==13)or(kt==14)or(kt==15)or(kt==17))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1211117617)and(DPF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DSF=0
elseif((kt==8)or(kt==9)or(kt==10)or(kt==12))then
set DSF=1
elseif((kt==2)or(kt==13)or(kt==14)or(kt==15))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1432580716)and(DPF<3))then
if((kt==2)or(kt==4)or(kt==6)or(kt==7))then
set DSF=0
elseif((kt==1)or(kt==3)or(kt==5)or(kt==8))then
set DSF=1
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1328558389)and(DPF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DSF=0
elseif((kt==2)or(kt==4)or(kt==8)or(kt==9))then
set DSF=1
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1162032951)and(DPF<3))then
if((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set DSF=0
elseif((kt==1)or(kt==4)or(kt==8)or(kt==9))then
set DSF=1
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1211117649)and(DPF<3))then
if((kt==9)or(kt==11)or(kt==12)or(kt==13))then
set DSF=0
elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DSF=1
elseif((kt==2)or(kt==4)or(kt==8)or(kt==10))then
set DSF=2
elseif((kt==6)or(kt==15)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1429221445)and(DPF<3))then
if((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set DSF=0
elseif((kt==1)or(kt==9)or(kt==10)or(kt==12))then
set DSF=1
elseif((kt==4)or(kt==8)or(kt==13)or(kt==14))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1315074670)and(DPF<3))then
if((kt==1)or(kt==3)or(kt==8)or(kt==10))then
set DSF=0
elseif((kt==5)or(kt==12)or(kt==13)or(kt==14))then
set DSF=1
elseif((kt==2)or(kt==4)or(kt==7)or(kt==9))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1315007329)and(DPF<3))then
if((kt==2)or(kt==4)or(kt==5)or(kt==7))then
set DSF=0
elseif((kt==3)or(kt==8)or(kt==9)or(kt==10))then
set DSF=1
elseif((kt==1)or(kt==12)or(kt==13)or(kt==14))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1433631084)and(DPF<3))then
if((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set DSF=0
elseif((kt==2)or(kt==4)or(kt==7)or(kt==9))then
set DSF=1
elseif((kt==1)or(kt==3)or(kt==5)or(kt==8))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1311780946)and(DPF<3))then
if((kt==2)or(kt==4)or(kt==8)or(kt==10))then
set DSF=0
elseif((kt==1)or(kt==3)or(kt==7)or(kt==9))then
set DSF=1
elseif((kt==5)or(kt==12)or(kt==13)or(kt==14))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1429221441)and(DPF<3))then
if((kt==1)or(kt==4)or(kt==6)or(kt==8))then
set DSF=0
elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set DSF=1
elseif((kt==12)or(kt==13)or(kt==14)or(kt==15))then
set DSF=2
elseif((kt==10)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1315070563)and(DPF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DSF=0
elseif((kt==10)or(kt==13)or(kt==15)or(kt==17))then
set DSF=1
elseif((kt==8)or(kt==9)or(kt==12)or(kt==14))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1429221451)and(DPF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DSF=0
elseif((kt==2)or(kt==8)or(kt==9)or(kt==10))then
set DSF=1
elseif((kt==4)or(kt==12)or(kt==13)or(kt==14))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1332963428)and(DPF<3))then
if((kt==4)or(kt==8)or(kt==10)or(kt==13))then
set DSF=0
elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DSF=1
elseif((kt==2)or(kt==9)or(kt==12)or(kt==14))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1211117646)and(DPF<3))then
if((kt==2)or(kt==6)or(kt==8)or(kt==10))then
set DSF=0
elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DSF=1
elseif((kt==4)or(kt==12)or(kt==13)or(kt==14))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1430468406)and(DPF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DSF=0
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set DSF=1
elseif((kt==2)or(kt==4)or(kt==6)or(kt==8))then
set DSF=2
elseif((kt==9)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1429221424)and(DPF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DSF=0
elseif((kt==4)or(kt==8)or(kt==9)or(kt==10))then
set DSF=1
elseif((kt==2)or(kt==12)or(kt==13)or(kt==14))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1215723364)and(DPF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DSF=0
elseif((kt==2)or(kt==4)or(kt==8)or(kt==9))then
set DSF=1
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1160786242)and(DPF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DSF=0
elseif((kt==4)or(kt==9)or(kt==12)or(kt==14))then
set DSF=1
elseif((kt==2)or(kt==8)or(kt==10)or(kt==13))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1430466865)and(DPF<3))then
if((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set DSF=0
elseif((kt==1)or(kt==8)or(kt==9)or(kt==10))then
set DSF=1
elseif((kt==4)or(kt==12)or(kt==13)or(kt==14))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1430468144)and(DPF<3))then
if((kt==2)or(kt==8)or(kt==9)or(kt==10))then
set DSF=0
elseif((kt==1)or(kt==3)or(kt==4)or(kt==7))then
set DSF=1
elseif((kt==5)or(kt==12)or(kt==13)or(kt==14))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif(((i1==1211117650)or(i1==1211119433))and(DPF<3))then
if((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set DSF=0
elseif((kt==1)or(kt==4)or(kt==8)or(kt==9))then
set DSF=1
elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((((i1==1311781174)or(i1==1311781175)or(i1==1311781442)))and(DPF<3))then
if((kt==2)or(kt==4)or(kt==8)or(kt==12))then
set DSF=0
elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DSF=1
elseif((kt==9)or(kt==10)or(kt==13)or(kt==14))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1160786506)and(DPF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DSF=0
elseif((kt==4)or(kt==12)or(kt==13)or(kt==14))then
set DSF=1
elseif((kt==2)or(kt==8)or(kt==9)or(kt==10))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1160785970)and(DPF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DSF=0
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set DSF=1
elseif((kt==2)or(kt==4)or(kt==8)or(kt==9))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1429221443)and(DPF<3))then
if((kt==2)or(kt==12)or(kt==13)or(kt==14))then
set DSF=0
elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DSF=1
elseif((kt==4)or(kt==8)or(kt==9)or(kt==10))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1328558154)and(DPF<3))then
if((kt==4)or(kt==8)or(kt==9)or(kt==10))then
set DSF=0
elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DSF=1
elseif((kt==2)or(kt==12)or(kt==13)or(kt==14))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1164799855)and(DPF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DSF=0
elseif((kt==9)or(kt==12)or(kt==13)or(kt==14))then
set DSF=1
elseif((kt==2)or(kt==4)or(kt==8)or(kt==10))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1430467634)and(DPF<3))then
if((kt==1)or(kt==3)or(kt==8)or(kt==9))then
set DSF=0
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set DSF=1
elseif((kt==2)or(kt==4)or(kt==5)or(kt==7))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1160786520)and(DPF<3))then
if((kt==1)or(kt==4)or(kt==8)or(kt==9))then
set DSF=0
elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set DSF=1
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif(((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517))and(DPF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DSF=2
elseif((kt==4)or(kt==12)or(kt==13)or(kt==14))then
set DSF=0
elseif((kt==2)or(kt==8)or(kt==9)or(kt==10))then
set DSF=1
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1212363833)and(DPF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DSF=1
elseif((kt==2)or(kt==11)or(kt==12)or(kt==13))then
set DSF=0
elseif((kt==4)or(kt==8)or(kt==9)or(kt==10))then
set DSF=2
elseif((kt==6)or(kt==14)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1211117652)and(DPF<3))then
if((kt==2)or(kt==4)or(kt==8)or(kt==9))then
set DSF=0
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set DSF=1
elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1211117651)and(DPF<3))then
if((kt==3)or(kt==12)or(kt==13)or(kt==14))then
set DSF=0
elseif((kt==1)or(kt==8)or(kt==9)or(kt==10))then
set DSF=1
elseif((kt==2)or(kt==4)or(kt==5)or(kt==7))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1328558390)and(DPF<3))then
if((kt==2)or(kt==5)or(kt==8)or(kt==10))then
set DSF=0
elseif((kt==1)or(kt==4)or(kt==7)or(kt==9))then
set DSF=1
elseif((kt==3)or(kt==12)or(kt==13)or(kt==14))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1160786504)and(DPF<3))then
if((kt==2)or(kt==12)or(kt==13)or(kt==14))then
set DSF=0
elseif((kt==3)or(kt==5)or(kt==8)or(kt==10))then
set DSF=1
elseif((kt==1)or(kt==4)or(kt==7)or(kt==9))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1160786510)and(DPF<3))then
if((kt==2)or(kt==5)or(kt==8)or(kt==10))then
set DSF=0
elseif((kt==1)or(kt==12)or(kt==14)or(kt==17))then
set DSF=1
elseif((kt==3)or(kt==4)or(kt==7)or(kt==9))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1328558406)and(DPF<3))then
if((kt==1)or(kt==19)or(kt==21)or(kt==23))then
set DSF=0
elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set DSF=1
elseif((kt==9)or(kt==11)or(kt==13)or(kt==16))then
set DSF=2
elseif((kt==6)or(kt==14)or(kt==17))then
set DSF=3
else
set DSF=4
endif
elseif(((i1==1311781193)or(i1==1311781192)or(i1==1311781204)or(i1==1311781194))and(DPF<3))then
if((kt==4)or(kt==8)or(kt==9)or(kt==10))then
set DSF=0
elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set DSF=1
elseif((kt==1)or(kt==12)or(kt==13)or(kt==14))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1311788336)and(DPF<3))then
if((kt==2)or(kt==5)or(kt==8)or(kt==12))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
elseif((kt==1)or(kt==4)or(kt==7)or(kt==10))then
set DSF=1
elseif((kt==3)or(kt==9)or(kt==13)or(kt==14))then
set DSF=0
else
set DSF=4
endif
elseif((i1==1160786507)and(DPF<3))then
if((kt==2)or(kt==5)or(kt==8)or(kt==12))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
elseif((kt==1)or(kt==4)or(kt==7)or(kt==10))then
set DSF=1
elseif((kt==3)or(kt==9)or(kt==13)or(kt==14))then
set DSF=0
else
set DSF=4
endif
elseif((i1==1211122767)and(DPF<3))then
if((kt==3)or(kt==7)or(kt==10)or(kt==14))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
elseif((kt==2)or(kt==5)or(kt==9)or(kt==13))then
set DSF=1
elseif((kt==1)or(kt==4)or(kt==8)or(kt==12))then
set DSF=0
else
set DSF=4
endif
elseif((i1==1160786738)and(DPF<3))then
if((kt==2)or(kt==4)or(kt==8)or(kt==10))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
elseif((kt==3)or(kt==12)or(kt==13)or(kt==14))then
set DSF=1
elseif((kt==1)or(kt==5)or(kt==7)or(kt==9))then
set DSF=0
else
set DSF=4
endif
elseif((i1==1211117624)and(DPF<3))then
if((kt==2)or(kt==9)or(kt==10)or(kt==12))then
set DSF=0
elseif((kt==1)or(kt==4)or(kt==13)or(kt==14))then
set DSF=1
elseif((kt==3)or(kt==5)or(kt==7)or(kt==8))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
elseif((i1==1164666213)and(DPF<3))then
if((kt==2)or(kt==4)or(kt==8)or(kt==9))then
set DSF=0
elseif((kt==10)or(kt==11)or(kt==12)or(kt==13))then
set DSF=1
elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DSF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DSF=3
else
set DSF=4
endif
endif
if(i1==1430468406)then
if(DSF==0)then
call DJF(it,kT(it))
elseif(DSF==1)then
call SelectHeroSkill(it,1093677635)
elseif(DSF==2)then
call DJF(it,kS(it))
elseif(DSF==3)then
call DJF(it,WN7(it))
endif
elseif(i1==1215130471)then
if(DSF==0)then
call DJF(it,WO7(it))
elseif(DSF==1)then
call DJF(it,WP7(it))
elseif(DSF==2)then
call DJF(it,WQ7(it))
elseif(DSF==3)then
call SelectHeroSkill(it,1093679160)
endif
else
if(DSF==0)then
call DJF(it,eY[128+O5])
if(i1==1315007329)then
set UP=GetUnitAbilityLevel(it,1093677108)
if(UP<=2)then
set hq[272+O5]=I2R(75*UP)
else
set hq[272+O5]=I2R(15+(57*UP))
endif
endif
elseif(DSF==1)then
if(i1==1315334514)then
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093682760,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093682736,true)
endif
call DJF(it,eY[144+O5])
if(i1==1214344551)then
set UP=GetUnitAbilityLevel(it,1093748535)
if(UP==1)then
set hq[272+O5]=85.
elseif(UP==2)then
set hq[272+O5]=70.
elseif(UP==3)then
set hq[272+O5]=55.
else
set hq[272+O5]=40.
endif
endif
elseif(DSF==2)then
if((i1==1311781199)or(i1==1311781171))or((i1==1311781172)or(i1==1311781173))then
call SelectHeroSkill(it,1093748039)
call SelectHeroSkill(it,1093748041)
call SelectHeroSkill(it,1093748040)
call SelectHeroSkill(it,1093748037)
call SelectHeroSkill(it,1093748038)
elseif(DMF(i1))then
call SelectHeroSkill(it,1096904043)
else
call DJF(it,eY[160+O5])
endif
elseif(DSF==3)then
call DJF(it,eY[172+O5])
if(eY[188+O5]!=0)then
call DJF(it,eY[188+O5])
endif
if(i1==1214931305)then
set UP=GetUnitAbilityLevel(it,1093677906)
if(UP==0)then
set UP=GetUnitAbilityLevel(it,1093681494)
endif
if(UP<=2)then
set hq[272+O5]=I2R(200+(100*UP))
else
set hq[272+O5]=600.
endif
elseif(i1==1332963428)then
set hq[272+O5]=I2R(85+(GetUnitAbilityLevel(it,1093677649)*135))
elseif(i1==1332898670)then
set UP=GetUnitAbilityLevel(it,1093677128)
if(UP==0)then
set UP=GetUnitAbilityLevel(it,1093681457)
endif
if(UP<=2)then
set hq[272+O5]=I2R(50+(150*UP))
else
set hq[272+O5]=610.
endif
elseif(i1==1162032951)then
set UP=GetUnitAbilityLevel(it,1093679152)
if(UP==0)then
set UP=GetUnitAbilityLevel(it,1093752154)
set hq[272+O5]=125.
else
if(UP<=2)then
set hq[272+O5]=I2R(105+(30*UP))
else
set hq[272+O5]=250.
endif
endif
elseif(i1==1328558154)then
set UP=GetUnitAbilityLevel(it,1093682996)
if(UP>0)then
if(UP==1)then
set TC4[64+O5]=400.
elseif(UP==2)then
set TC4[64+O5]=550.
else
set TC4[64+O5]=700.
endif
else
set UP=GetUnitAbilityLevel(it,1093747768)
if(UP>0)then
if(UP==1)then
set TC4[64+O5]=550.
elseif(UP==2)then
set TC4[64+O5]=700.
else
set TC4[64+O5]=850.
endif
endif
endif
endif
endif
endif
if(DSF==4)then
if((i1==1315334514)or(i1==1328558160)or(i1==1311781199)or(i1==1311781171)or(i1==1311781172)or(i1==1311781173)or((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))or(i1==1211117643)or(i1==1160786502)or(i1==1328558406)or(i1==1160786520)or(i1==1211122243)or(i1==1211119191)or(i1==1211119192)or(i1==1211119193)or(i1==1328558390)or(i1==1328558391)or(i1==1430468144)or(i1==1430467634)or(i1==1328558160)or(i1==1211117650)or(i1==1211119433))then
call SelectHeroSkill(it,1093684818)
elseif((DMF(i1))and(kt>21))then
call DJF(it,eY[160+O5])
call SelectHeroSkill(it,1096904043)
else
call SelectHeroSkill(it,1096904043)
endif
endif
set DPF=DPF+1
set DQF=DQF+1
if(DRF!=GetHeroSkillPoints(it))then
set DPF=0
endif
endloop
if(i1==1430468406)then
set eY[336+O5]=kT(it)
set eY[368+O5]=kS(it)
set eY[172+O5]=WN7(it)
elseif(i1==1215130471)then
set eY[336+O5]=WO7(it)
set eY[352+O5]=WP7(it)
set eY[368+O5]=WQ7(it)
endif
set it=null
set DTF=null
endfunction
function DVF takes unit it returns integer
local integer i1=GetUnitTypeId(it)
if((i1==1214344551)or(i1==1429221430)or(SU7(it,1952936552))or(SU7(it,1227894833))or(SU7(it,1868983399)))then
return 2
elseif((i1==1215722344)or(i1==1315007329)or(i1==1430468913)or(i1==1311781185))then
return 1
endif
return 0
endfunction
function DWF takes unit it returns boolean
local integer O5=1
local integer UP
local integer DXF=0
local boolean J4=false
local boolean DYF=false
local integer Iz
loop
if(IsUnitAlly(it,Z7[0]))then
set UP=GetPlayerId(Z7[O5])
else
set UP=GetPlayerId(A7[O5])
endif
if((IsPlayerInForce(Player(UP),QX4))and(M7[UP]!=null))then
set Iz=DVF(M7[UP])
if(Iz==2)then
set DXF=DXF+1
set J4=true
elseif(Iz==1)then
set DXF=DXF+1
endif
set DYF=(DYF)or((Iz==0)and(SU7(M7[UP],1953265005))and(not SV7(M7[UP])))
endif
set O5=O5+1
exitwhen O5>5
endloop
if((DYF)and(not SU7(M7[UP],1953265005)))then
return false
endif
if(TK7(IsUnitAlly(it,Z7[0]))==1)then
return((DXF==0)and(US7(R44,VB7(it)+"|G")))
else
return(((not J4)and(US7(R44,VB7(it)+"|G")))or(DXF<R2I(TK7(IsUnitAlly(it,Z7[0]))/2)))
endif
endfunction
function DZF takes unit u returns boolean
local integer id=GetUnitTypeId(u)
return id==1164277353 or id==1164277357 or id==1160786518 or id==1160786519 or id==1160786517
endfunction
function DAF takes unit CL7,item JP8 returns nothing
local unit u=CL7
local integer HB8=GetUnitTypeId(u)
local integer EM9=RC7(JP8)
if IsUnitType(u,UNIT_TYPE_MELEE_ATTACKER)==true or IsUnitType(u,UNIT_TYPE_HERO)==false then
if EM9==X2 then
set IR4=GetItemPlayer(JP8)
call RA7(JP8)
set HA4=UnitAddItemById(u,ZU[W2])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EM9==GB then
set IR4=GetItemPlayer(JP8)
call RA7(JP8)
set HA4=UnitAddItemById(u,ZU[BA])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EM9==HZ then
set IR4=GetItemPlayer(JP8)
call RA7(JP8)
set HA4=UnitAddItemById(u,ZU[EZ])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EM9==DX4 then
set IR4=GetItemPlayer(JP8)
call RA7(JP8)
set HA4=UnitAddItemById(u,ZU[DW4])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EM9==D94 then
set IR4=GetItemPlayer(JP8)
call RA7(JP8)
set HA4=UnitAddItemById(u,ZU[D84])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EM9==F44 then
set IR4=GetItemPlayer(JP8)
call RA7(JP8)
set HA4=UnitAddItemById(u,ZU[E_4])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EM9==B0 then
if DZF(u)==false then
set IR4=GetItemPlayer(JP8)
call RA7(JP8)
set HA4=UnitAddItemById(u,ZU[Y0])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
elseif EM9==Y0 then
if DZF(u)==true then
set IR4=GetItemPlayer(JP8)
call RA7(JP8)
set HA4=UnitAddItemById(u,ZU[B0])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
elseif EM9==RB then
set IR4=GetItemPlayer(JP8)
call RA7(JP8)
set HA4=UnitAddItemById(u,ZU[QB])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
else
if EM9==W2 then
set IR4=GetItemPlayer(JP8)
call RA7(JP8)
set HA4=UnitAddItemById(u,ZU[X2])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EM9==BA then
set IR4=GetItemPlayer(JP8)
call RA7(JP8)
set HA4=UnitAddItemById(u,ZU[GB])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EM9==EZ then
set IR4=GetItemPlayer(JP8)
call RA7(JP8)
set HA4=UnitAddItemById(u,ZU[HZ])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EM9==DW4 then
set IR4=GetItemPlayer(JP8)
call RA7(JP8)
set HA4=UnitAddItemById(u,ZU[DX4])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EM9==D84 then
set IR4=GetItemPlayer(JP8)
call RA7(JP8)
set HA4=UnitAddItemById(u,ZU[D94])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EM9==E_4 then
set IR4=GetItemPlayer(JP8)
call RA7(JP8)
set HA4=UnitAddItemById(u,ZU[F44])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EM9==Y0 then
set IR4=GetItemPlayer(JP8)
call RA7(JP8)
set HA4=UnitAddItemById(u,ZU[B0])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EM9==QB then
set IR4=GetItemPlayer(JP8)
call RA7(JP8)
set HA4=UnitAddItemById(u,ZU[RB])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
endif
set u=null
endfunction
function DBF takes unit CL7,item JP8 returns nothing
local unit u=CL7
local integer HB8=GetUnitTypeId(u)
local integer EM9=RC7(JP8)
if IsUnitType(u,UNIT_TYPE_MELEE_ATTACKER)==false or IsUnitType(u,UNIT_TYPE_HERO)==false then
if EM9==X2 then
set IR4=GetItemPlayer(JP8)
call RemoveItem(JP8)
set HA4=UnitAddItemById(u,ZU[W2])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EM9==GB then
set IR4=GetItemPlayer(JP8)
call RemoveItem(JP8)
set HA4=UnitAddItemById(u,ZU[BA])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EM9==HZ then
set IR4=GetItemPlayer(JP8)
call RemoveItem(JP8)
set HA4=UnitAddItemById(u,ZU[EZ])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EM9==DX4 then
set IR4=GetItemPlayer(JP8)
call RemoveItem(JP8)
set HA4=UnitAddItemById(u,ZU[DW4])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EM9==D94 then
set IR4=GetItemPlayer(JP8)
call RemoveItem(JP8)
set HA4=UnitAddItemById(u,ZU[D84])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EM9==F44 then
set IR4=GetItemPlayer(JP8)
call RemoveItem(JP8)
set HA4=UnitAddItemById(u,ZU[E_4])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EM9==B0 then
if DZF(u)==false then
set IR4=GetItemPlayer(JP8)
call RemoveItem(JP8)
set HA4=UnitAddItemById(u,ZU[Y0])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
elseif EM9==RB then
set IR4=GetItemPlayer(JP8)
call RemoveItem(JP8)
set HA4=UnitAddItemById(u,ZU[QB])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
else
if EM9==W2 then
set IR4=GetItemPlayer(JP8)
call RemoveItem(JP8)
set HA4=UnitAddItemById(u,ZU[X2])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EM9==BA then
set IR4=GetItemPlayer(JP8)
call RemoveItem(JP8)
set HA4=UnitAddItemById(u,ZU[GB])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EM9==EZ then
set IR4=GetItemPlayer(JP8)
call RemoveItem(JP8)
set HA4=UnitAddItemById(u,ZU[HZ])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EM9==DW4 then
set IR4=GetItemPlayer(JP8)
call RemoveItem(JP8)
set HA4=UnitAddItemById(u,ZU[DX4])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EM9==D84 then
set IR4=GetItemPlayer(JP8)
call RemoveItem(JP8)
set HA4=UnitAddItemById(u,ZU[D94])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EM9==E_4 then
set IR4=GetItemPlayer(JP8)
call RemoveItem(JP8)
set HA4=UnitAddItemById(u,ZU[F44])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EM9==Y0 then
set IR4=GetItemPlayer(JP8)
call RemoveItem(JP8)
set HA4=UnitAddItemById(u,ZU[B0])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EM9==QB then
set IR4=GetItemPlayer(JP8)
call RemoveItem(JP8)
set HA4=UnitAddItemById(u,ZU[RB])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
endif
set u=null
endfunction
function DCF takes unit CL7 returns nothing
local integer i=0
local item JP8
call DisableTrigger(H94)
loop
exitwhen i>5
set JP8=UnitItemInSlot(CL7,i)
if JP8!=null then
call DBF(CL7,JP8)
endif
set i=i+1
endloop
call EnableTrigger(H94)
set JP8=null
endfunction
function D3F takes unit S4 returns integer
local integer i=0
local integer n=0
local integer HT8=UnitInventorySize(S4)-1
loop
exitwhen i>HT8
if UnitItemInSlot(S4,i)==null then
set n=n+1
endif
set i=i+1
endloop
return n
endfunction
function D6F takes integer i1 returns boolean
return((i1==EW or i1==HW)or i1==GY or i1==ZY or i1==ZX or i1==RZ or i1==Y3 or(i1>=XZ and i1<=YA)or(i1==B5 or i1==C5))
endfunction
function DLF takes integer EM9 returns boolean
return EM9==QC or EM9==TC or EM9==WC or EM9==YC
endfunction
function D1F takes integer i1 returns boolean
return((i1==UY)or(i1==MV)or(i1==OV)or(i1==HY)or(i1==BA)or(i1==JV)or(i1==SV)or(i1==YX)or(i1==JB)or(i1==RW)or(i1==NZ)or(i1==UV))or((i1==XC or i1==YC)or(i1==ZA)or(i1==ZY)or(i1==EZ or i1==HZ)or(i1==GY)or(i1==ZX)or(i1==RX)or(i1==NW)or(i1==VW)or(i1==CV)or(i1==FV)or(i1==E_4))
endfunction
function D0F takes integer O5,unit it returns boolean
local integer i=0
local integer i1=0
loop
exitwhen i>5
set i1=GetItemTypeId(UnitItemInSlot(it,i))
if i1==0 then
elseif(i1==ZU[CC])or(i1==ZU[WC])or(i1==ZU[EW])or(i1==ZU[HW])then
return true
elseif(i1==BU[CC])or(i1==BU[WC])or(i1==BU[EW])or(i1==BU[HW])then
return true
endif
set i1=GetItemTypeId(UnitItemInSlot(KU4[32+O5],i))
if i1==0 then
elseif(i1==ZU[CC])or(i1==ZU[WC])or(i1==ZU[EW])or(i1==ZU[HW])then
return true
elseif(i1==BU[CC])or(i1==BU[WC])or(i1==BU[EW])or(i1==BU[HW])then
return true
endif
set i=i+1
endloop
return false
endfunction
function D5F takes integer O5,unit it,item R37,integer i1,boolean D2F returns integer
set bj_forLoopAIndex=UQ7(1128887405,"Prio|"+I2S(GetHandleId(M7[O5]))+I2S(i1))
if bj_forLoopAIndex!=0 then
return bj_forLoopAIndex
endif
if(i1==X0)or(i1==B5 or i1==C5)or(CU[i1]==CU[FR4])then
return 101
elseif(R37!=null)and(GetItemPlayer(R37)!=Player(O5))and(i1!=K07[O5]and i1!=K07[16+O5])and(D2F or(EN9(i1)==false and D6F(i1)==false))then
return-1
elseif(not D2F)and(i1==K07[O5]or i1==K07[16+O5])and(IsUnitType(it,UNIT_TYPE_HERO))then
if(i1==OC)and(GetUnitState(it,UNIT_STATE_MAX_MANA)>500)then
return-1
elseif((i1==QC)or(i1==TC))and(GetUnitState(it,UNIT_STATE_MAX_LIFE)>1000)then
return-1
endif
return 97
elseif(i1==N3)or(i1==WL or i1==ZL)or(i1==AL)or(i1==LL or i1==DE4)or(i1>=D1 and i1<=H1)or(i1==P1)or(i1==T2)or(i1==Q1)or(i1==R1)or(i1==U1)or(i1==V1)or(i1==X1)or(i1>=D0 and i1<=R0)or(i1==Y0 or i1==B0)or(i1==C0)or(i1>=F5 and i1<=N5)or(i1==R5 or i1==S5 or i1==T5)or(i1==W5 or i1==A5)or(i1==L5)or(i1==E2 or i1==F2)or(i1==H2 or i1==P2)or(i1==R2 or i1==S2)or(i1==W2 or i1==X2)or(i1==Z2)or(i1==D44)or(i1==D74)or(i1==DG4)or(i1==DH4)or(i1==DI4)or(i1==DJ4)or(i1==DK4 or i1==DM4 or i1==DN4 or i1==DO4)or(i1==DP4 or i1==DQ4)or(i1==DR4)or(i1==DU4)or(i1==DV4)or(i1==DA4)or(i1==E24)or(i1==FC)or(i1==R3)or(i1==U3)then
return 100
elseif(i1==RW or i1==TW)or(i1==A1)or(i1==J1 or i1==O1)then
return 99
elseif(i1==F6 or i1==G6 or i1==H6 or i1==N6 or i1==DS4 or i1==LB or i1==EC or i1==F74)then
if K17[304+O5]!=null and GetWidgetLife(K17[304+O5])>0 and K57[304+O5]!=i1 and IsUnitType(it,UNIT_TYPE_HERO)then
return-1
else
return 100
endif
elseif(i1==FV)then
if K17[304+O5]!=null and K57[304+O5]!=i1 and IsUnitType(it,UNIT_TYPE_HERO)then
return-1
else
return 99
endif
elseif(i1==XC or i1==YC)then
if D2F or K27[64+O5]then
return 1
else
return 98
endif
elseif(i1==S6 or i1==V6)then
return 98
elseif(i1==D84 or i1==D94)then
return 23
elseif(i1==EW or i1==HW)then
if D2F then
return 2
else
return 22
endif
elseif(i1==VC)or(i1==WC)or(i1==CC)or(i1==H3)then
if D2F then
return 1
else
return 15
endif
elseif(i1==SY)then
return 21
elseif(i1==BV)or(i1==YW)or(i1==GX)then
return 20
elseif(i1==Y3)then
return 19
elseif(i1==T1)or(i1==DY4 or i1==DZ4)then
return 18
elseif(i1==OL or i1==RL)then
return 17
elseif(i1==AV)or(i1==OW)or(i1==NZ)then
return 16
elseif(i1==VB or i1==WB)then
return 15
elseif(i1==RX)then
if(GetUnitState(it,UNIT_STATE_MAX_LIFE)>1500.)then
return 10
else
return 15
endif
elseif(i1>=XZ and i1<=JA)then
return 14
elseif(i1==M3)then
return 13
elseif(i1==ZW)or(i1==UZ)or(i1==JB)or(i1==W6)then
return 12
elseif(i1==XV)or(i1==SX)then
return 11
elseif(i1==TV)or(i1==WX)then
return 10
elseif(i1==CV)or(i1==OZ)or(i1==ZX)or(i1==RZ)then
return 9
elseif(i1==ZA)or(i1==DT4)or(i1==E54)then
if(GetUnitState(it,UNIT_STATE_MAX_MANA)>500.)then
return 8
else
return 12
endif
elseif(i1==QV)or(i1==NX)or(i1==DZ)or(i1==NW)or(i1==VW)or(i1==YX)or(i1==JC or i1==NC)then
return 9
elseif(i1==BA)or(i1==C3 or i1==E6)or(i1==DW4 or i1==DX4)then
return 8
elseif(i1==E_4 or i1==F44)then
return 7
elseif(i1==A6 or i1==DL or i1==HL)then
return 6
elseif(i1==Z3)or(i1==B3)then
return 5
elseif(i1==JV)or(i1==MV)or(i1==OV)or(i1==HY)or(i1==SV)or(i1==UV)then
return 4
elseif(i1==GB)or(i1==GY)or(i1==ZY)or(i1==EZ or i1==HZ)then
return 3
elseif(i1==NV)or(i1==LV)or(i1==UW)or(i1==UY)or(i1==AX)then
return 2
elseif(i1==OC)or(i1==QC)or(i1==TC)or(i1==ZC)or(i1==AC)or(i1==DF4)then
return 1
elseif(i1==QW)then
return 0
elseif(i1>=DB4 and i1<=FG4)then
return-1
elseif(i1==QB or i1==RB)or(i1==PC)or(i1==BC)or(i1==LC)or(i1==DD4)then
return-1
endif
return-1
endfunction
function D_F takes integer O5,unit it,boolean E4F returns integer
local integer i=0
local integer j=0
local item R37=null
loop
exitwhen i>5
set R37=UnitItemInSlot(it,i)
if R37==null then
set j=j+1
elseif E4F then
if(D5F(O5,it,R37,RB7(R37),false)<99)then
set j=j+1
endif
endif
set i=i+1
endloop
set R37=null
return j
endfunction
function E7F takes integer O5,unit it,item R37,integer i1 returns boolean
if(IsItemPowerup(R37))then
if i1==0 then
set i1=RB7(R37)
endif
set bj_lastCreatedItem=CreateItem(ZU[i1],GetUnitX(it),GetUnitY(it))
call SetItemVisible(bj_lastCreatedItem,MH7)
call SetItemPlayer(bj_lastCreatedItem,Player(O5),false)
call SetItemCharges(bj_lastCreatedItem,GetItemCharges(R37))
call RemoveItem(R37)
set R37=bj_lastCreatedItem
endif
set EN7=UnitAddItem(it,R37)
return EN7
endfunction
function E8F takes nothing returns nothing
local item W18=GetEnumItem()
local unit u=OI4
local player p=GetOwningPlayer(u)
local integer id=GetPlayerId(p)
if GetWidgetLife(W18)>0 and GetItemPlayer(W18)==p then
call SetItemPosition(W18,KV4[id],KW4[id])
call SetItemVisible(W18,MH7)
call E7F(id,KU4[id],W18,0)
endif
set W18=null
set u=null
set p=null
endfunction
function E9F takes nothing returns boolean
return RX7(GetFilterUnit())or RY7(GetFilterUnit())
endfunction
function EDF takes integer O5 returns nothing
local integer i=0
local unit u=null
local item R37=null
call GroupEnumUnitsInRange(H8,GetUnitX(KU4[32+O5]),GetUnitY(KU4[32+O5]),1300,Condition(function E9F))
loop
set u=FirstOfGroup(H8)
exitwhen u==null
call GroupRemoveUnit(H8,u)
set i=0
loop
exitwhen i>5
set R37=UnitItemInSlot(u,i)
if R37!=null and GetItemPlayer(R37)==Player(O5)then
call UnitRemoveItem(u,R37)
call SetItemPosition(R37,KV4[O5],KW4[O5])
if not UnitAddItem(KU4[32+O5],R37)then
call SetItemVisible(R37,MH7)
endif
endif
set i=i+1
endloop
endloop
set OI4=KU4[32+O5]
if IsPlayerAlly(Player(O5),Z7[0])then
call EnumItemsInRect(OD,Condition(function ZY7),function E8F)
else
call EnumItemsInRect(PD,Condition(function ZY7),function E8F)
endif
set u=null
set R37=null
endfunction
function EEF takes integer O5,integer j returns nothing
local integer i
set i=0
loop
exitwhen i>23
if K17[O5*24+i]!=null then
call SetItemUserData(K17[O5*24+i],j)
endif
set i=i+1
endloop
endfunction
function EFF takes nothing returns nothing
local integer i
local integer j
local integer i1
local unit it=MM7
local integer O5=MN7
if it==null then
set it=M7[O5]
endif
set i=12
set j=D_F(O5,KU4[32+O5],false)
set eY[512+O5]=1
loop
exitwhen(i>=K07[128+O5])or(j<=0)
if(K17[O5*24+i]!=null)then
if(GetWidgetLife(K17[O5*24+i])>0)and(not IsItemOwned(K17[O5*24+i]))then
call E7F(O5,KU4[32+O5],K17[O5*24+i],K57[O5*24+i])
set j=j-1
endif
set K17[O5*24+i]=null
endif
set i=i+1
endloop
set i=0
loop
exitwhen i>5
set K17[O5*24+i]=UnitItemInSlot(it,i)
set K57[O5*24+i]=RB7(K17[O5*24+i])
if(K17[304+O5]==null or GetWidgetLife(K17[304+O5])<=0 or K57[O5*24+i]==F6)and(K57[O5*24+i]==FV or K57[O5*24+i]==G6 or K57[O5*24+i]==H6 or K57[O5*24+i]==N6 or K57[O5*24+i]==DS4 or K57[O5*24+i]==LB or K57[O5*24+i]==EC or K57[O5*24+i]==F74 or K57[O5*24+i]==F6)and(IsUnitType(it,UNIT_TYPE_HERO))then
set K17[304+O5]=K17[O5*24+i]
set K57[304+O5]=K57[O5*24+i]
endif
set K17[O5*24+6+i]=UnitItemInSlot(KU4[32+O5],i)
set K57[O5*24+6+i]=RB7(K17[O5*24+6+i])
set i=i+1
endloop
set i=12
set j=12
loop
exitwhen i>23
if K17[O5*24+i]!=null then
if i!=j then
set K17[O5*24+j]=K17[O5*24+i]
set K57[O5*24+j]=K57[O5*24+i]
set K17[O5*24+i]=null
endif
set j=j+1
endif
set i=i+1
endloop
if j<12 then
set K07[128+O5]=12
else
set K07[128+O5]=j
endif
set it=null
endfunction
function EGF takes integer O5,unit it returns nothing
set MM7=it
set MN7=O5
call ExecuteFunc("EFF")
endfunction
function EHF takes integer O5 returns integer
local integer i=0
local integer j=6
call EGF(O5,M7[O5])
loop
exitwhen(i>=K07[128+O5])
if(K17[O5*24+i]!=null)and(GetWidgetLife(K17[O5*24+i])>0)and(D5F(O5,M7[O5],K17[O5*24+i],K57[O5*24+i],false)>=99)then
set j=j-1
endif
set i=i+1
endloop
return j
endfunction
function EIF takes unit it,integer i1 returns boolean
return((i1==LL or i1==DE4)or(i1>=D1 and i1<=H1)or(i1==J1 or i1==O1)or(i1==P1)or(i1==T2)or(i1==V1)or((i1==W2 or i1==X2)and IsUnitType(it,UNIT_TYPE_MELEE_ATTACKER))or(i1==BA or i1==GB))
endfunction
function EJF takes unit it,integer i1 returns boolean
return((i1>=D1 and i1<=H1)or(i1==V1)or(i1==W2 or i1==X2)or(i1==E_4 or i1==F44))
endfunction
function EKF takes integer O5,unit it,integer i1 returns boolean
local boolean EMF=EIF(it,i1)
local boolean ENF=EJF(it,i1)
local integer i=GetUnitTypeId(it)
if(i==1162032951)or(i==1160785972)or(i==1429221456)or(i==1315074670)or(i==1164799855)or(i==1311781185)or(i==1211117649)or(i==1429221430 or i==1429221451 or i==1215657064)then
return(not(EMF or ENF))
elseif(i==1164207469 or i==1432510828)then
return(not(EMF))
elseif(i==1432642913 or i==1211117641)then
return(not(ENF))
elseif(K27[16+O5]and EMF)then
return false
elseif(K27[32+O5]and ENF)then
return false
elseif(i1==RW or i1==TW)and(i==1215723364 or i==1429221446)then
return false
elseif(i1==BA or i1==GB)and(i==1211119187)then
return false
elseif EMF and US7(1128887405,"Orb|"+I2S(GetHandleId(it)))then
return false
elseif ENF and US7(1128887405,"Buff|"+I2S(GetHandleId(it)))then
return false
endif
return true
endfunction
function EOF takes integer i1 returns boolean
return((i1==N3)or(i1==R5 or i1==S5 or i1==T5)or(i1==H2 or i1==P2)or(i1==DG4)or(i1==DH4)or(i1==DP4 or i1==DQ4)or(i1==DV4)or(i1==T1)or(i1==DY4 or i1==DZ4))
endfunction
function EPF takes integer i1 returns boolean
return((i1==X1))
endfunction
function EQF takes integer O5,integer i1 returns boolean
if(i1==D84 or i1==D94)then
return true
elseif(i1==VC)or(i1==WC)or(i1==EW or i1==HW)or(i1==XC or i1==YC)or(i1==CC)or(i1==H3)or(i1==OC)or(i1==QC)or(i1==TC)or(i1==ZC)or(i1==AC)or(i1==DF4)then
if(i1==K07[O5]or i1==K07[16+O5])then
else
return true
endif
elseif(i1==S6 or i1==V6)or(i1==T1)or(i1==DY4 or i1==DZ4)then
return true
elseif(i1==VB or i1==WB)then
return true
elseif(i1>=XZ and i1<=JA)then
return true
elseif(i1==M3)then
return true
elseif(i1==ZA)or(i1==DT4)or(i1==E54)then
return true
elseif(i1==BA or i1==GB)or(i1==DW4 or i1==DX4)then
return true
elseif(i1==A6 or i1==DL or i1==HL)then
return true
endif
return false
endfunction
function ERF takes unit it,boolean ESF returns unit
local integer O5=GetPlayerId(GetOwningPlayer(it))
local unit u
if(not K27[112+O5])then
return null
endif
set u=UE7(GetHandleId(Player(O5)),"MyBear")
if ESF then
if(u==null or GetUnitState(u,UNIT_STATE_LIFE)<=0)then
call SelectHeroSkill(it,1093681461)
call R97(0.1)
if IssueImmediateOrderById(it,852594)then
call R97(1.)
set u=UE7(GetHandleId(Player(O5)),"MyBear")
endif
elseif GetUnitTypeId(u)!=1848651828 then
call SetUnitX(u,GetUnitX(it))
call SetUnitY(u,GetUnitY(it))
endif
call IssueTargetOrderById(u,851986,it)
endif
if(u==null or GetUnitState(u,UNIT_STATE_LIFE)<=0)then
set u=UE7(GetHandleId(Player(O5)),"BearItemHolder")
if u==null then
if ZL7(GetOwningPlayer(it))then
set u=CreateUnit(Player(O5),1697657158,-6390,-5615,0)
else
set u=CreateUnit(Player(O5),1697657158,5875,5000,0)
endif
call TX7(GetHandleId(Player(O5)),"BearItemHolder",u)
endif
endif
set bj_lastReplacedUnit=u
set u=null
return bj_lastReplacedUnit
endfunction
function ETF takes integer O5,unit it,boolean EUF returns unit
local unit PI7
local unit u
if(not K27[112+O5])then
return null
endif
set PI7=UE7(GetHandleId(Player(O5)),"aiBearDummy")
if(PI7==null)then
if ZL7(GetOwningPlayer(it))then
set PI7=CreateUnit(Player(O5),1697657158,-6390,-5615,0)
else
set PI7=CreateUnit(Player(O5),1697657158,5875,5000,0)
endif
call TX7(GetHandleId(Player(O5)),"aiBearDummy",PI7)
call ShowUnit(PI7,true)
endif
if not(K27[48+O5])then
set u=ERF(it,EUF)
if not(u==null or GetUnitState(u,UNIT_STATE_LIFE)<=0)then
call SetUnitPosition(PI7,GetUnitX(u),GetUnitY(u))
endif
endif
set bj_lastReplacedUnit=PI7
set u=null
set PI7=null
return bj_lastReplacedUnit
endfunction
function EVF takes integer O5,unit it returns nothing
local unit u=ERF(it,false)
local item R37
local integer i=0
if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>0 then
loop
exitwhen i>5
set bj_lastCreatedItem=UnitItemInSlot(it,i)
if bj_lastCreatedItem!=null then
set R37=UnitItemInSlot(u,i)
if R37==null or GetItemTypeId(bj_lastCreatedItem)!=GetItemTypeId(R37)then
call RemoveItem(R37)
set R37=CreateItem(GetItemTypeId(bj_lastCreatedItem),GetUnitX(u),GetUnitY(u))
call SetItemVisible(R37,MH7)
call SetItemPlayer(R37,Player(O5),false)
call SetItemCharges(R37,GetItemCharges(bj_lastCreatedItem))
call SetItemUserData(R37,0)
call UnitAddItem(u,R37)
endif
else
call RemoveItem(UnitItemInSlot(u,i))
endif
set i=i+1
endloop
endif
set u=null
set R37=null
endfunction
function EWF takes integer O5,unit it returns nothing
local unit u
local integer i=0
if(not K27[192+O5])or(K27[48+O5])then
return
endif
if(it!=null)then
if GetUnitTypeId(it)==1697657158 then
set u=UE7(GetHandleId(Player(O5)),"MyBear")
if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>0 then
call SetUnitPosition(it,GetUnitX(u),GetUnitY(u))
endif
endif
else
set u=UE7(GetHandleId(Player(O5)),"aiBearDummy")
if ZL7(Player(O5))then
call SetUnitPosition(u,-6390,-5615)
else
call SetUnitPosition(u,5875,5000)
endif
call EVF(O5,u)
endif
set u=null
endfunction
function EXF takes integer O5,boolean EYF,boolean EZF returns integer
local integer i=999
local integer EAF=5
local integer j=0
local integer Q67=0
local integer EBF=0
local integer i1
if not EYF then
set EAF=23
endif
loop
exitwhen(j>EAF)
if(K17[O5*24+j]!=null)then
if(K57[O5*24+j]==DT4 and K07[144+O5]!=MD7)then
else
set EBF=D5F(O5,M7[O5],K17[O5*24+j],K57[O5*24+j],false)
if(EBF<=i)and(EBF!=-1)and(EBF<99)and(not US7(1128887405,"NoSell|"+I2S(GetHandleId(M7[O5]))+I2S(K57[O5*24+j])))and(LoadInteger(EE7,K07[224+O5],GetHandleId(K17[O5*24+j]))==0)and(not LoadBoolean(EE7,K07[256+O5],GetHandleId(K17[O5*24+j])))then
set i=EBF
set Q67=j
endif
endif
endif
set j=j+1
endloop
if i<99 and((not EZF)or(EQF(O5,K57[O5*24+Q67])))then
return Q67
endif
return-1
endfunction
function ECF takes integer O5,boolean E3F returns integer
local integer i=0
local integer j=0
local integer k=0
local item R37=null
loop
exitwhen i>23
set R37=K17[O5*24+i]
set k=K57[O5*24+i]
if R37==null or(GetWidgetLife(R37)<=0)then
set R37=null
set k=0
if i<=5 then
set R37=UnitItemInSlot(M7[O5],i)
elseif i<=11 then
set R37=UnitItemInSlot(KU4[32+O5],i-6)
endif
endif
if(R37!=null)and(E3F or(not EN9(k)))and(LoadInteger(EE7,K07[224+O5],GetHandleId(K17[O5*24+i]))==0)and(not LoadBoolean(EE7,K07[256+O5],GetHandleId(K17[O5*24+i])))then
set j=j+1
endif
set i=i+1
endloop
set R37=null
return j
endfunction
function E6F takes integer O5,unit it returns integer
local integer i=0
local integer EAF=0
local integer j=0
local integer Q67=999
local item R37
loop
exitwhen i>5
set R37=UnitItemInSlot(it,i)
if R37!=null then
set j=D5F(O5,null,null,RB7(R37),false)
if j<99 and j<Q67 then
set Q67=j
set EAF=i
endif
else
set bj_lastCreatedItem=null
set bj_forLoopBIndexEnd=-2
set R37=null
return i
endif
set i=i+1
endloop
set R37=null
if Q67<999 then
set bj_lastCreatedItem=UnitItemInSlot(it,EAF)
set bj_forLoopBIndexEnd=Q67
return EAF
endif
return-1
endfunction
function ELF takes integer O5,unit it returns boolean
local boolean S37=false
local boolean J4
set bj_lastCreatedItem=null
if(K07[O5]!=0)and(D5F(O5,it,null,K07[O5],true)>D5F(O5,it,null,K07[16+O5],true))then
return SU7(it,ZU[K07[O5]])
elseif(K07[16+O5]!=0)then
return SU7(it,ZU[K07[16+O5]])
endif
return false
endfunction
function E1F takes integer O5,unit it,integer i1,item R37,boolean E0F,boolean E5F,boolean E2F returns integer
local integer i
local integer EAF=D5F(O5,it,R37,i1,false)
local integer j=0
local integer Q67=0
local integer k=0
local integer EBF=0
local item E_F=null
local boolean S37=false
set EBF=0
set i=999
set EQ7=null
loop
exitwhen(j>5)
set E_F=K17[O5*24+j+k]
if GetWidgetLife(E_F)<=0 then
set E_F=null
endif
if(E_F!=null)then
if(UnitHasItem(it,E_F))then
set EBF=D5F(O5,M7[O5],E_F,K57[O5*24+j+k],(not E5F))
if(EBF<=i)then
set i=EBF
set EQ7=E_F
set Q67=j+k
endif
endif
else
if UnitItemInSlot(it,j+k)==null then
set Q67=j+k
set EQ7=null
set E0F=true
exitwhen true
endif
endif
set j=j+1
endloop
set E_F=null
if(EAF>i)or E0F then
set EAF=GetItemTypeId(R37)
set E_F=EQ7
if E_F!=null then
set K17[O5*24+K07[128+O5]]=E_F
set K57[O5*24+K07[128+O5]]=RB7(E_F)
set K07[128+O5]=K07[128+O5]+1
set K17[O5*24+Q67]=null
endif
call EWF(O5,it)
if E_F!=null then
call UnitRemoveItem(it,E_F)
call SetItemPosition(E_F,GetUnitX(KU4[32+O5]),GetUnitY(KU4[32+O5]))
call SetItemVisible(E_F,MH7)
if not IsUnitType(it,UNIT_TYPE_HERO)then
call SaveBoolean(EE7,K07[256+O5],GetHandleId(E_F),true)
endif
endif
call UnitAddItem(it,R37)
set S37=true
if false and(not E2F)then
if(EAF!=SU[i1])and((i1!=HW)and(i1!=V6)and(i1!=O1)and(i1!=DN4 and i1!=DO4)and(i1!=DQ4)and(not EN9(i1)))then
call UnitAddItem(it,R37)
set S37=true
else
set E2F=true
endif
endif
if false and E2F then
if EAF!=SU[i1]then
set bj_lastCreatedItem=CreateItem(SU[i1],GetUnitX(it),GetUnitY(it))
call SetItemVisible(bj_lastCreatedItem,MH7)
call SetItemPlayer(bj_lastCreatedItem,Player(O5),false)
call SetItemCharges(bj_lastCreatedItem,GetItemCharges(R37))
call RemoveItem(R37)
set R37=bj_lastCreatedItem
endif
set eY[512+O5]=0
call UnitAddItem(it,R37)
loop
exitwhen eY[512+O5]!=0
call TriggerSleepAction(0.1)
endloop
if not IsUnitType(it,UNIT_TYPE_HERO)then
call SaveBoolean(EE7,K07[256+O5],GetHandleId(K17[288+O5]),true)
endif
if(eY[512+O5]==1)then
set S37=true
elseif(eY[512+O5]==2)or(eY[512+O5]==3)then
loop
if eY[512+O5]==3 then
set R37=K17[288+O5]
exitwhen true
endif
call TriggerSleepAction(0.1)
endloop
endif
endif
endif
if S37 then
return Q67
else
set bj_forLoopAIndex=GetItemUserData(R37)
call SetItemPosition(R37,GetUnitX(KU4[32+O5]),GetUnitY(KU4[32+O5]))
call SetItemUserData(R37,bj_forLoopAIndex)
call SetItemVisible(R37,MH7)
set K17[O5*24+K07[128+O5]]=R37
set K57[O5*24+K07[128+O5]]=RB7(R37)
set K07[128+O5]=K07[128+O5]+1
endif
return-1
endfunction
function F4F takes integer O5,unit it,item R37,integer i1 returns nothing
if EN9(i1)then
call SetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)+(GetItemCharges(R37)/EP9(i1))*(HK4[i1]/2))
else
call SetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)+HK4[i1]/2)
endif
call RA7(R37)
call DestroyEffect(AddSpecialEffectTarget("UI\\Feedback\\GoldCredit\\GoldCredit.mdl",it,"overhead"))
endfunction
function F7F takes integer O5,integer EM9 returns integer
if IsUnitType(M7[O5],UNIT_TYPE_MELEE_ATTACKER)==true or IsUnitType(M7[O5],UNIT_TYPE_HERO)==false then
if EM9==X2 then
return W2
elseif EM9==GB then
return BA
elseif EM9==HZ then
return EZ
elseif EM9==DX4 then
return DW4
elseif EM9==D94 then
return D84
elseif EM9==F44 then
return E_4
elseif EM9==B0 then
if DZF(M7[O5])==false then
return Y0
endif
elseif EM9==Y0 then
if DZF(M7[O5])==true then
return B0
endif
elseif EM9==RB then
return QB
endif
else
if EM9==W2 then
return X2
elseif EM9==BA then
return GB
elseif EM9==EZ then
return HZ
elseif EM9==DW4 then
return DX4
elseif EM9==D84 then
return D94
elseif EM9==E_4 then
return F44
elseif EM9==Y0 then
return B0
elseif EM9==QB then
return RB
endif
endif
return EM9
endfunction
function F8F takes player p,unit it,integer F9F,integer FDF,integer J_D,integer K4D,integer K7D,integer FEF,integer FFF returns nothing
local item R37
call DisableTrigger(SV4)
if FDF>0 then
set R37=UnitItemInSlot(it,0)
call RemoveItem(R37)
endif
if J_D>0 then
set R37=UnitItemInSlot(it,1)
call RemoveItem(R37)
endif
if K4D>0 then
set R37=UnitItemInSlot(it,2)
call RemoveItem(R37)
endif
if K7D>0 then
set R37=UnitItemInSlot(it,3)
call RemoveItem(R37)
endif
if FEF>0 then
set R37=UnitItemInSlot(it,4)
call RemoveItem(R37)
endif
if FFF>0 then
set R37=UnitItemInSlot(it,5)
call RemoveItem(R37)
endif
set F9F=F7F(GetPlayerId(p),F9F)
set M47=F9F
set K_7=p
set R37=UnitAddItemById(it,ZU[F9F])
call SetItemPlayer(R37,p,true)
call SetItemUserData(R37,1)
if IsPlayerInForce(p,QX4)and(it==UE7(GetHandleId(p),"aiBearDummy"))then
set MO7=UE7(GetHandleId(p),"MyBear")
if MO7!=null and GetUnitState(MO7,UNIT_STATE_LIFE)>0 then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl",MO7,"origin"))
endif
else
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl",it,"origin"))
endif
if RB7(R37)==DI4 then
call SetItemCharges(R37,6)
endif
call EnableTrigger(SV4)
if IsPlayerAlly(GetLocalPlayer(),p)==true then
if F9F==T1 then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,Q[GetPlayerId(p)]+(KZ4[GetPlayerId((p))])+"|r |c00ffff00"+GetObjectName(1848659032)+"|r")
elseif F9F==B5 then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,Q[GetPlayerId(p)]+(KZ4[GetPlayerId((p))])+"|r |c00ffff00"+GetObjectName(1848659033)+"|r")
endif
endif
set K17[288+GetPlayerId(p)]=R37
set R37=null
endfunction
function FGF takes player p,unit it,integer i1,integer FHF returns boolean
local integer i
local integer x
local integer y
local integer array FIF
local boolean array FJF
local integer array FKF
local boolean array FMF
local boolean array FNF
local integer array FOF
local player FPF
local integer k
local player array FQF
local integer m
local item FRF
local item FSF
local item FTF
local item FUF
local item FVF
local item FWF
local player FXF
local player FYF
local player FZF
local player FAF
local player FBF
local player FCF
local integer F3F
local integer F6F
local integer FLF
local integer F1F
local integer F0F
local integer F5F
local integer F2F
local integer F_F
local integer G4F
local integer G7F
local integer G8F
local integer G9F
local boolean GDF=true
set FRF=UnitItemInSlot(it,0)
set FSF=UnitItemInSlot(it,1)
set FTF=UnitItemInSlot(it,2)
set FUF=UnitItemInSlot(it,3)
set FVF=UnitItemInSlot(it,4)
set FWF=UnitItemInSlot(it,5)
set FXF=GetItemPlayer(FRF)
set FYF=GetItemPlayer(FSF)
set FZF=GetItemPlayer(FTF)
set FAF=GetItemPlayer(FUF)
set FBF=GetItemPlayer(FVF)
set FCF=GetItemPlayer(FWF)
set F3F=GetItemUserData(FRF)
set F6F=GetItemUserData(FSF)
set FLF=GetItemUserData(FTF)
set F1F=GetItemUserData(FUF)
set F0F=GetItemUserData(FVF)
set F5F=GetItemUserData(FWF)
set F2F=RB7(FRF)
set F_F=RB7(FSF)
set G4F=RB7(FTF)
set G7F=RB7(FUF)
set G8F=RB7(FVF)
set G9F=RB7(FWF)
set FQF[1]=p
set i=0
if FRF!=null and F3F==1 and(FXF==p or PK4 or(GetPlayerSlotState((FXF))==PLAYER_SLOT_STATE_LEFT)==true)then
set FIF[i+1]=F2F
else
set FIF[i+1]=0
endif
set i=1
if FSF!=null and F6F==1 and(FYF==p or PK4 or(GetPlayerSlotState((FYF))==PLAYER_SLOT_STATE_LEFT)==true)then
set FIF[i+1]=F_F
else
set FIF[i+1]=0
endif
set i=2
if FTF!=null and FLF==1 and(FZF==p or PK4 or(GetPlayerSlotState((FZF))==PLAYER_SLOT_STATE_LEFT)==true)then
set FIF[i+1]=G4F
else
set FIF[i+1]=0
endif
set i=3
if FUF!=null and F1F==1 and(FAF==p or PK4 or(GetPlayerSlotState((FAF))==PLAYER_SLOT_STATE_LEFT)==true)then
set FIF[i+1]=G7F
else
set FIF[i+1]=0
endif
set i=4
if FVF!=null and F0F==1 and(FBF==p or PK4 or(GetPlayerSlotState((FBF))==PLAYER_SLOT_STATE_LEFT)==true)then
set FIF[i+1]=G8F
else
set FIF[i+1]=0
endif
set i=5
if FWF!=null and F5F==1 and(FCF==p or PK4 or(GetPlayerSlotState((FCF))==PLAYER_SLOT_STATE_LEFT)==true)then
set FIF[i+1]=G9F
else
set FIF[i+1]=0
endif
set FIF[0]=i1
set i=1
loop
exitwhen i>(FQ4)
if FJ4[i]==FHF or FK4[i]==FHF or FM4[i]==FHF or FN4[i]==FHF or FO4[i]==FHF then
set FKF[0]=FJ4[i]
set FKF[1]=FK4[i]
set FKF[2]=FM4[i]
set FKF[3]=FN4[i]
set FKF[4]=FO4[i]
if GDF then
set FMF[0]=true
set FMF[1]=true
set FMF[2]=true
set FMF[3]=true
set FMF[4]=true
set FMF[5]=true
set FMF[6]=true
set FJF[0]=true
set FJF[1]=true
set FJF[2]=true
set FJF[3]=true
set FJF[4]=true
set FJF[5]=true
set FJF[6]=true
set FOF[0]=0
set FOF[1]=0
set FOF[2]=0
set FOF[3]=0
set FOF[4]=0
set FOF[5]=0
set FOF[6]=0
set GDF=false
endif
set FNF[0]=false
set FNF[1]=false
set FNF[2]=false
set FNF[3]=false
set FNF[4]=false
set x=0
loop
exitwhen x==5
if FKF[x]==0 then
set FNF[x]=true
else
set y=0
loop
exitwhen y==7
if FIF[y]==FKF[x]and FJF[y]and FMF[x]then
set FJF[y]=false
set FMF[x]=false
set FNF[x]=true
set FOF[y]=1
set y=7
set GDF=true
else
set y=y+1
endif
endloop
endif
if FNF[x]==true then
set x=x+1
else
set x=5
endif
endloop
if FNF[0]and FNF[1]and FNF[2]and FNF[3]and FNF[4]then
call F8F(p,it,FP4[i],FOF[1],FOF[2],FOF[3],FOF[4],FOF[5],FOF[6])
call FGF(p,it,0,FP4[i])
set i=FQ4+2
else
set i=i+1
endif
else
set i=i+1
endif
endloop
set EL=FOF[0]==1
if i==(FQ4+2)then
set FRF=null
set FSF=null
set FTF=null
set FUF=null
set FVF=null
set FWF=null
return true
endif
set FRF=null
set FSF=null
set FTF=null
set FUF=null
set FVF=null
set FWF=null
return false
endfunction
function GEF takes unit it,item R37 returns nothing
local integer n5
local integer GFF
local integer D_8
set n5=NK9(it)
set GFF=NM9(it)
if GFF!=0 then
call UnitAddAbility(it,GFF)
call UnitMakeAbilityPermanent(it,true,GFF)
call SetPlayerAbilityAvailable(GetOwningPlayer(it),GFF,false)
if GetUnitTypeId(it)==1211117653 then
set IN4=it
call ExecuteFunc("GGF")
elseif GetUnitTypeId(it)==1215130471 then
set IN4=it
call ExecuteFunc("MED")
endif
endif
set D_8=EH9(it,4)
if n5==GX4 and HQ4[D_8]!=0 then
call UnitRemoveAbility(it,HU4[D_8])
call UnitAddAbility(it,HV4[D_8])
call SetPlayerAbilityAvailable(GetOwningPlayer(it),HV4[D_8],false)
endif
call RA7(R37)
set R37=UnitAddItemById(it,ZU[n5])
call SetItemPlayer(R37,GetOwningPlayer(it),false)
call SetItemUserData(R37,1)
set K17[288+GetPlayerId(GetOwningPlayer(it))]=R37
set R37=null
endfunction
function GHF takes integer O5,unit it returns nothing
local integer i=0
local integer EAF=0
set K27[64+O5]=true
set K07[384+O5]=0
if SU7(it,ZU[YC])then
call F4F(O5,it,bj_lastCreatedItem,YC)
endif
if SU7(KU4[32+O5],ZU[YC])then
call F4F(O5,it,bj_lastCreatedItem,YC)
endif
call EGF(O5,it)
set i=0
loop
exitwhen(i>23)
set EAF=K57[O5*24+i]
if(EAF==FV or EAF==G6 or EAF==H6 or EAF==N6 or EAF==DS4 or EAF==LB or EAF==EC or EAF==F74)then
call F4F(O5,it,K17[O5*24+i],EAF)
exitwhen true
endif
set i=i+1
endloop
endfunction
function GIF takes player p,unit it,integer i1,integer FHF returns boolean
local integer EAF=0
local integer F9F=0
local item R37=null
if i1==EN4 and SC7(it,ZU[F5])then
set R37=bj_lastCreatedItem
set EAF=RB7(R37)
if EAF==F5 then
set F9F=G5
elseif EAF==G5 then
set F9F=J5
elseif EAF==J5 then
set F9F=M5
elseif EAF==M5 then
set F9F=N5
endif
elseif i1==EO4 and SC7(it,ZU[R5])then
set R37=bj_lastCreatedItem
set EAF=RB7(R37)
if EAF==R5 then
set F9F=S5
elseif EAF==S5 then
set F9F=T5
endif
endif
if F9F!=0 then
set M47=F9F
set K_7=p
call DisableTrigger(SV4)
call RemoveItem(R37)
set R37=UnitAddItemById(it,ZU[F9F])
call SetItemPlayer(R37,p,true)
call SetItemUserData(R37,1)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl",it,"origin"))
call EnableTrigger(SV4)
set K17[288+GetPlayerId(p)]=R37
set R37=null
return true
endif
return false
endfunction
function GJF takes integer O5,unit it,integer i1,item R37,boolean E0F returns boolean
local player OO7=Player(O5)
local boolean S37=false
local integer j=HK4[i1]
set M47=i1
set K_7=OO7
if(K07[432+O5]==2 and GIF(OO7,it,i1,i1))or FGF(OO7,it,i1,i1)then
if R37!=null then
call RemoveItem(R37)
endif
set R37=K17[288+O5]
set S37=true
else
if D3F(it)==0 then
if R37==null then
set R37=CreateItem(ZU[i1],GetUnitX(it),GetUnitY(it))
call SetItemPlayer(R37,OO7,false)
call SetItemUserData(R37,1)
endif
set S37=(E1F(O5,it,i1,R37,E0F,false,false)!=-1)
else
if R37==null then
set R37=UnitAddItemById(it,ZU[i1])
call SetItemPlayer(R37,OO7,false)
call SetItemUserData(R37,1)
else
call UnitAddItem(it,R37)
call SetItemUserData(R37,1)
endif
set S37=true
endif
if EN9(i1)then
call SetItemCharges(R37,EP9(i1))
elseif i1==CC then
call SetItemCharges(R37,2)
endif
endif
if R37!=null then
set K17[288+O5]=R37
if(i1==F6 or i1==D34)then
call GHF(O5,it)
endif
if IsUnitType(it,UNIT_TYPE_HERO)and GetItemTypeId(R37)==ZU[FR4]then
call GEF(it,R37)
endif
endif
if(K07[432+O5]!=2)then
call TriggerSleepAction(0)
endif
set OO7=null
set R37=null
return S37
endfunction
function GKF takes integer O5,unit it,integer i1,boolean E0F returns boolean
local player OO7=Player(O5)
local boolean S37=false
local integer j=HK4[i1]
if(i1==QC or i1==TC or i1==YC)and(Z84[O5]>=ZE4)then
set j=j/2
endif
if GetPlayerState(OO7,PLAYER_STATE_RESOURCE_GOLD)>=j then
call SetPlayerState(OO7,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(OO7,PLAYER_STATE_RESOURCE_GOLD)-j)
if K27[48+O5]then
set K07[192+O5]=K07[192+O5]+j
endif
call EWF(O5,it)
if EN9(i1)and SU7(it,ZU[i1])then
call SetItemCharges(bj_lastCreatedItem,GetItemCharges(bj_lastCreatedItem)+EP9(i1))
set S37=true
else
set S37=GJF(O5,it,i1,null,E0F)
endif
set K07[96+O5]=0
endif
set OO7=null
return S37
endfunction
function GMF takes integer O5 returns nothing
local integer j
local integer Q67
local integer k
local unit u
local player OO7=Player(O5)
call EGF(O5,null)
if K27[48+O5]then
return
endif
set j=6
set k=K07[128+O5]-1
loop
exitwhen j>k
if K17[O5*24+j]!=null and((not K27[192+O5])or(not LoadBoolean(EE7,K07[256+O5],GetHandleId(K17[O5*24+j]))))then
if IsItemOwned(K17[O5*24+j])then
call UnitRemoveItem(KU4[32+O5],K17[O5*24+j])
endif
set Q67=E1F(O5,M7[O5],K57[O5*24+j],K17[O5*24+j],false,true,false)
if Q67!=-1 and Q67<6 then
set K17[O5*24+Q67]=K17[O5*24+j]
if(K17[O5*24+Q67]==null)or(GetWidgetLife(K17[O5*24+Q67])<=0)then
set K17[O5*24+Q67]=K17[288+O5]
endif
set K57[O5*24+Q67]=K57[O5*24+j]
endif
call SetItemVisible(K17[O5*24+j],MH7)
set K17[O5*24+j]=null
endif
set j=j+1
endloop
if K27[192+O5]then
set j=GetUnitTypeId(M7[O5])
if(j==1311781199 or j==1311781171 or j==1311781172 or j==1311781173)then
set u=ETF(O5,M7[O5],false)
endif
if u!=null then
call EGF(O5,u)
set j=6
set k=K07[128+O5]-1
loop
exitwhen j>k
if K17[O5*24+j]!=null and(LoadBoolean(EE7,K07[256+O5],GetHandleId(K17[O5*24+j])))then
set Q67=E1F(O5,u,K57[O5*24+j],K17[O5*24+j],false,true,false)
if Q67!=-1 and Q67<6 then
set K17[O5*24+Q67]=K17[O5*24+j]
if(K17[O5*24+Q67]==null)or(GetWidgetLife(K17[O5*24+Q67])<=0)then
set K17[O5*24+Q67]=K17[288+O5]
endif
set K57[O5*24+Q67]=K57[O5*24+j]
endif
call SetItemVisible(K17[O5*24+j],MH7)
set K17[O5*24+j]=null
endif
set j=j+1
endloop
endif
set u=null
endif
call EGF(O5,null)
set j=12
loop
exitwhen j>K07[128+O5]-1
if K17[O5*24+j]!=null then
call F4F(O5,M7[O5],K17[O5*24+j],K57[O5*24+j])
set K17[O5*24+j]=null
endif
set j=j+1
endloop
set OO7=null
set u=null
endfunction
function GNF takes integer O5,unit it,integer GOF,integer i1 returns boolean
local integer i
local integer j
local integer EAF
local integer FHF=0
local item R37=null
local boolean S37=true
local integer GPF
local boolean GQF=false
local boolean GRF=IsUnitType(it,UNIT_TYPE_HERO)
if(it==null)or((not SE7(it))and(not K27[48+O5]))then
return false
elseif(K27[48+O5])and SV7(KU4[32+O5])then
set K27[128+O5]=true
return false
endif
if(K07[432+O5]==1)and(SV7(it)and K07[320+O5]<=0)then
set K07[96+O5]=i1
return false
endif
if(not IsUnitType(it,UNIT_TYPE_HERO))then
set FHF=EV
if false then
set K27[288+O5]=true
if(K07[432+O5]==1)then
return false
endif
endif
endif
if GOF>=0 or GOF==-2 then
else
endif
if(GOF==-1)then
set K07[64+O5]=K07[64+O5]+1
else
set K07[64+O5]=0
endif
set GPF=K07[64+O5]
if(K27[112+O5])then
if(GPF==0)then
call EGF(O5,it)
call EEF(O5,0)
endif
set i=0
loop
exitwhen(i>23)
if(K17[O5*24+i]!=null)then
set S37=false
if(K57[O5*24+i]==i1)then
set S37=true
elseif SA7(i1,K57[O5*24+i],false)then
set S37=true
endif
if S37 then
set EAF=LoadInteger(EE7,K07[368+O5],i1+FHF)
if(GPF==0)and(EAF==0)then
set EAF=LoadInteger(EE7,K07[352+O5],i1+FHF)
if EAF==0 then
set EAF=1
endif
call SaveInteger(EE7,K07[368+O5],i1+FHF,EAF)
endif
set EAF=LoadInteger(EE7,K07[224+O5],GetHandleId(K17[O5*24+i]))
if EAF==0 then
set EAF=K07[48+O5]
endif
if(GetItemPlayer(K17[O5*24+i])==Player(O5))and((not K27[48+O5])or((EAF==K07[48+O5])and(not LoadBoolean(EE7,K07[208+O5],GetHandleId(K17[O5*24+i])))))then
if(GPF==0)then
call SaveInteger(EE7,K07[368+O5],i1+FHF,LoadInteger(EE7,K07[368+O5],i1+FHF)-1)
endif
if(GPF!=0)or(LoadInteger(EE7,K07[368+O5],i1+FHF)<=0)then
set R37=K17[O5*24+i]
if((not K27[192+O5])or(GRF==(not LoadBoolean(EE7,K07[256+O5],GetHandleId(K17[O5*24+i])))))then
set K17[O5*24+i]=null
exitwhen true
endif
endif
endif
endif
endif
set i=i+1
endloop
if R37!=null and K27[48+O5]then
call SaveBoolean(EE7,K07[208+O5],GetHandleId(R37),true)
call SaveInteger(EE7,K07[224+O5],GetHandleId(R37),K07[48+O5])
endif
set S37=true
if(GPF==0)then
set K27[272+O5]=true
if(not K27[96+O5])and(K27[48+O5]or(K07[32+O5]>=K07[48+O5]))then
if EOF(i1)then
if IsPlayerAlly(Player(O5),Z7[0])then
call TT7(1128887405,"Sent|"+I2S(i1),UQ7(1128887405,"Sent|"+I2S(i1))+1)
else
call TT7(1128887405,"Scrg|"+I2S(i1),UQ7(1128887405,"Scrg|"+I2S(i1))+1)
endif
endif
call TT7(1128877176,I2S(GetHandleId(it))+"|"+I2S(i1),UQ7(1128877176,I2S(GetHandleId(it))+"|"+I2S(i1))+1)
if EIF(it,i1)then
call TW7(1128887405,"Orb|"+I2S(GetHandleId(it)),true)
endif
if EJF(it,i1)then
call TW7(1128887405,"Buff|"+I2S(GetHandleId(it)),true)
endif
set K27[96+O5]=true
endif
endif
endif
if K07[64+O5]<99 then
if R37!=null then
call SetItemUserData(R37,1)
if(not UnitHasItem(it,R37))then
set K27[272+O5]=false
if(not K27[48+O5])and(K07[432+O5]!=1)then
call GJF(O5,it,i1,R37,true)
endif
elseif not K27[48+O5]then
call UnitRemoveItem(it,R37)
call GJF(O5,it,i1,R37,true)
endif
else
set i=1
loop
exitwhen(i>FQ4 or FP4[i]==i1)
set i=i+1
endloop
if i<=FQ4 then
if S37 and(FJ4[i]!=0)then
set S37=(GNF(O5,it,-1,FJ4[i]))
endif
if S37 and(FK4[i]!=0)then
set S37=(GNF(O5,it,-1,FK4[i]))
endif
if S37 and(FM4[i]!=0)then
set S37=(GNF(O5,it,-1,FM4[i]))
endif
if S37 and(FN4[i]!=0)then
set S37=(GNF(O5,it,-1,FN4[i]))
endif
if S37 and(FO4[i]!=0)then
set S37=(GNF(O5,it,-1,FO4[i]))
endif
if S37 then
if(K27[48+O5])then
call SaveBoolean(EE7,K07[208+O5],GetHandleId(K17[288+O5]),true)
else
if(i1==E6)then
call UnitUseItem(it,K17[288+O5])
endif
endif
if GOF==-1 then
set K27[144+O5]=true
endif
endif
set GQF=true
else
if(K27[112+O5])then
if K07[432+O5]==2 then
set S37=false
elseif K27[48+O5]then
set S37=GKF(O5,KU4[32+O5],i1,false)
if S37 then
call SaveInteger(EE7,K07[224+O5],GetHandleId(K17[288+O5]),K07[48+O5])
endif
elseif(K07[432+O5]==1)then
if(not D1F(i1))then
set S37=false
elseif(K07[320+O5]>0)and IsUnitType(it,UNIT_TYPE_HERO)and SV7(it)and(GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)>=HK4[i1])and SU7(it,ZU[QW])then
call F4F(O5,it,bj_lastCreatedItem,QW)
set K07[320+O5]=K07[320+O5]-1
endif
set S37=GKF(O5,it,i1,true)
else
set S37=GKF(O5,it,i1,true)
endif
if not S37 then
set K07[96+O5]=i1
endif
endif
endif
if S37 and(not GRF)then
call SaveBoolean(EE7,K07[256+O5],GetHandleId(K17[288+O5]),true)
endif
endif
if GPF==0 then
if(not S37)then
set K07[112+O5]=i1
elseif(not(K07[32+O5]<K07[48+O5]))or(K27[48+O5])then
set K07[112+O5]=0
endif
endif
if(not K27[128+O5])and(K27[48+O5])and SV7(KU4[32+O5])then
set K27[128+O5]=true
endif
if GPF==0 and S37 then
if not(K07[144+O5]==M87)then
if(not K27[48+O5])and((K07[432+O5]!=1)or(K27[272+O5]))then
set K07[32+O5]=K07[32+O5]+1
else
if GQF then
set K27[128+O5]=true
call TT7(1128887405,I2S(GetHandleId(it))+"|s"+I2S(K07[48+O5]),i1)
endif
set K07[48+O5]=K07[48+O5]+1
endif
endif
set K27[96+O5]=false
if(not K27[48+O5])and GRF then
if(i1==F6)then
call GHF(O5,it)
elseif(i1==G6)then
set K07[384+O5]=1
set K07[400+O5]=1
elseif(i1==H6)then
set K07[384+O5]=2
set K07[400+O5]=2
elseif(i1==N6)then
set K07[384+O5]=3
set K07[400+O5]=3
endif
if K07[336+O5]!=0 then
set i=0
loop
exitwhen(i>23)
if(K57[O5*24+i]==K07[336+O5])then
call F4F(O5,it,K17[O5*24+i],K07[336+O5])
exitwhen true
endif
set i=i+1
endloop
set K07[336+O5]=0
endif
endif
if(K27[112+O5])and(not K27[48+O5])and(K07[432+O5]!=2)and GRF then
set EAF=ECF(O5,false)-6
loop
set i=EXF(O5,false,false)
exitwhen(i==-1)or(EAF<=0)
call F4F(O5,it,K17[O5*24+i],K57[O5*24+i])
set K17[O5*24+i]=null
set EAF=EAF-1
endloop
endif
if(not K27[128+O5])and(K27[48+O5])and(D5F(O5,it,null,i1,true)>=99)then
set K27[128+O5]=true
endif
if(K27[192+O5])and(not K27[48+O5])and(GetUnitTypeId(it)==1697657158)then
call EVF(O5,it)
endif
endif
endif
if(not K27[112+O5])then
return true
endif
if(GPF==0)and(not K27[80+O5])and S37 and(GOF==K07[240+O5])then
if(not K27[48+O5])then
set K07[144+O5]=MD7
else
set K27[160+O5]=true
endif
endif
return S37
endfunction
function GSF takes nothing returns nothing
local integer i=GetHandleId(GetTriggeringTrigger())
local integer O5=UQ7(i,"p")
set K27[208+O5]=GNF(O5,UE7(i,"u"),UQ7(i,"i"),UQ7(i,"id"))
set K07[272+O5]=0
endfunction
function GTF takes integer O5 returns boolean
return(not(Bz>=K07[160+O5]))or(K27[224+O5]and K07[432+O5]!=2)
endfunction
function GUF takes unit u,integer GVF returns integer
local player p=GetOwningPlayer(u)
local integer i=0
local integer QG7=0
local integer GWF=0
loop
exitwhen i>15
set GWF=GetUnitTypeId(M7[i])
if M7[i]!=null and IsUnitEnemy(M7[i],p)and(QV7(GWF,GVF))then
set QG7=QG7+1
endif
set i=i+1
endloop
return QG7
endfunction
function GXF takes integer O5,unit it,integer GOF,integer i1 returns boolean
local integer i
local integer FHF=0
if(K07[432+O5]==2 and(IG4[O5]or Bz<K07[272+O5]))or(K27[224+O5]and K07[432+O5]!=2)then
return false
endif
if(not K27[112+O5])then
if GOF>=0 and(K07[240+O5]<=GOF)then
set K07[240+O5]=GOF
endif
if(not IsUnitType(it,UNIT_TYPE_HERO))then
set FHF=EV
endif
call SaveInteger(EE7,K07[352+O5],i1+FHF,LoadInteger(EE7,K07[352+O5],i1+FHF)+1)
return true
endif
if(K27[112+O5])and(GOF>=0)and(((not K27[48+O5])and(K07[32+O5]!=GOF))or((K27[48+O5])and(K07[48+O5]!=GOF)))then
return false
endif
if Bz<K07[272+O5]then
set i=R2I(Bz)+10
loop
call TriggerSleepAction(1)
exitwhen(Bz>i or Bz>K07[272+O5])
endloop
if Bz<K07[272+O5]then
return false
endif
endif
set i=GetHandleId(Q04[112+O5])
call TX7(i,"u",it)
call TT7(i,"i",GOF)
call TT7(i,"id",i1)
if(IsUnitType(it,UNIT_TYPE_HERO))then
set FHF=GetUnitTypeId(it)
if(US7(R44,VB7(it)+"|D"))then
if(i1==U1)then
call TT7(i,"id",R3)
endif
elseif(US7(R44,VB7(it)+"|Xb"))then
if(i1==DT4)and GUF(it,FD7)<3 and((FHF==1164799855)or(FHF==1212365106)or(FHF==1164799603)or(FHF==1160785973)or(FHF==1315007329)or(FHF==1164207469)or(FHF==1429221443)or(FHF==1215722344)or(FHF==1429221456)or(FHF==1211117643)or(FHF==1162032181)or(FHF==1160785972)or(FHF==1211119409))then
call TT7(i,"id",S6)
elseif(i1==J1)and GUF(it,F97)<3 and((FHF==1162032181)or(FHF==1328558160)or(FHF==1211117617))then
call TT7(i,"id",P1)
endif
endif
endif
set K07[272+O5]=R2I(Bz)+15
set K27[208+O5]=false
call TriggerExecute(Q04[112+O5])
if(K07[432+O5]!=2)then
loop
call TriggerSleepAction(0.2)
exitwhen Bz>K07[272+O5]
endloop
endif
return K27[208+O5]
endfunction
function GYF takes integer O5,unit it,integer i1,boolean GZF returns boolean
local boolean GAF=SU7(it,ZU[i1])or SU7(KU4[32+O5],ZU[i1])or((KU4[32+O5]!=KU4[O5])and SU7(KU4[O5],ZU[i1]))
if US7(1129146739,I2S(GetHandleId(it))+"|"+I2S(i1))then
set GZF=false
endif
if GZF and(IsItemOwned(bj_lastCreatedItem)or(not SV7(it)))then
if not((K07[O5]==i1 or K07[16+O5]==i1)and GAF)then
if K07[O5]==0 and K07[16+O5]!=i1 then
set K07[O5]=i1
elseif K07[16+O5]==0 and K07[O5]!=i1 then
set K07[16+O5]=i1
endif
if not GAF then
return GKF(O5,it,i1,true)
endif
endif
else
if GAF then
if(K07[O5]==i1)then
set K07[O5]=0
elseif(K07[16+O5]==i1)then
set K07[16+O5]=0
endif
endif
endif
return false
endfunction
function GBF takes integer O5 returns nothing
local integer i=0
local item R37=null
local integer i1
loop
exitwhen i>5
set R37=UnitItemInSlot(KU4[32+O5],i)
if R37!=null then
set bj_forLoopAIndex=GetItemTypeId(R37)
set i1=-1
if(bj_forLoopAIndex==ZU[K07[O5]])then
set i1=K07[O5]
set K07[O5]=0
elseif(bj_forLoopAIndex==ZU[K07[16+O5]])then
set i1=K07[16+O5]
set K07[16+O5]=0
elseif(bj_forLoopAIndex==ZU[YC])then
call F4F(O5,M7[O5],R37,YC)
endif
if i1!=-1 then
call TW7(1129146739,I2S(GetHandleId(M7[O5]))+"|"+I2S(i1),true)
call F4F(O5,M7[O5],R37,i1)
endif
endif
set i=i+1
endloop
set R37=null
endfunction
function GCF takes integer O5 returns boolean
local integer OL7=GetHandleId(KU4[16+O5])
local integer i=0
local boolean G3F=false
if(Bz<hq[896+O5])or(not US7(OL7,"aiCrow|Alive"))then
return false
endif
if(RH7(M7[O5],h9[16+O5])<1200)then
return false
endif
if(US7(OL7,"aiCrow|Active"))and(RH7(KU4[16+O5],h9[16+O5])<800)and(Bz>UR7(OL7,"aiCrow|Move"))then
call KY9(KU4[16+O5])
set G3F=true
endif
set i=UQ7(OL7,"aiCrow|CurrentOwner")
if(US7(OL7,"aiCrow|Active"))then
if(i==O5)then
if US7(OL7,"aiCrow|Away")then
call IssueNeutralImmediateOrderById(Player(O5),KU4[16+O5],1747990581)
else
call IssueImmediateOrderById(KU4[16+O5],852247)
endif
endif
return false
endif
if(i!=O5)and((not MU7)or((ZL7(Player(O5))and(i!=GetPlayerId(Z7[0])))or(Z17(Player(O5))and(i!=GetPlayerId(A7[0])))))then
return false
endif
if(not G3F)then
call KY9(KU4[16+O5])
set G3F=true
endif
if(MU7)and(GetOwningPlayer(KU4[16+O5])!=Player(O5))then
call SetUnitOwner(KU4[16+O5],Player(O5),false)
endif
if IssueNeutralImmediateOrderById(Player(O5),KU4[16+O5],1747990581)then
call TT7(OL7,"aiCrow|CurrentOwner",O5)
call TW7(OL7,"aiCrow|Active",true)
call TU7(OL7,"aiCrow|Move",Bz+15)
call TW7(OL7,"aiCrow|Away",true)
set K27[224+O5]=true
set i=0
set EQ7=null
call DisableTrigger(H94)
loop
exitwhen i>5
set EQ7=UnitItemInSlot(KU4[O5],i)
if EQ7!=null then
call UnitAddItem(KU4[16+O5],EQ7)
endif
set i=i+1
endloop
call EnableTrigger(H94)
return true
endif
return false
endfunction
function G6F takes integer O5,boolean GLF returns boolean
return(MS7 and(KU4[16+O5]!=null)and K07[432+O5]==0 and GLF and(K27[128+O5]or K27[144+O5]))
endfunction
function G1F takes integer O5,unit it,boolean GLF returns nothing
local integer i1=GetUnitTypeId(it)
local integer array G0F
local boolean S37=false
local boolean G5F=false
local boolean G2F=false
local boolean J4=false
local string G_F
local integer i
local integer EAF
local integer j
local integer Q67
local integer H4F
local integer k
local integer EBF
local unit u
if GTF(O5)then
return
endif
if(K07[432+O5]==2)then
if UQ7(GetHandleId(KU4[16+O5]),"aiCrow|CurrentOwner")!=O5 then
return
endif
set KU4[32+O5]=KU4[16+O5]
else
set KU4[32+O5]=KU4[O5]
endif
if(not K27[112+O5])then
set K07[144+O5]=M97
else
set K07[160+O5]=R2I(Bz)+MF7
call EGF(O5,it)
endif
set K27[48+O5]=GLF
set K27[160+O5]=(GLF and K27[176+O5])
set i=K07[144+O5]
if(K07[144+O5]==M87)and(not GLF)then
if(PY4)then
else
call GYF(O5,it,QC,true)
endif
call GKF(O5,it,TC,true)
endif
set EAF=UQ7(GetHandleId(Player(O5)),"AI|Class")
if(K07[144+O5]==M87)and(not GLF)then
set Q67=CQ7(it)
if EAF==F77 then
call GXF(O5,it,-2,TC)
else
if IsUnitType(it,UNIT_TYPE_MELEE_ATTACKER)then
call GKF(O5,it,EZ,false)
if i1!=1211119187 then
call GKF(O5,it,BA,false)
endif
else
call GKF(O5,it,AX,false)
if Q67==1 then
call GXF(O5,it,-2,HL)
elseif Q67==2 then
call GXF(O5,it,-2,DL)
else
call GXF(O5,it,-2,A6)
endif
endif
endif
set K07[144+O5]=M97
set K07[112+O5]=0
endif
if(i1==1211117636)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,H6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,VB)
call GXF(O5,it,3,D84)
call GXF(O5,it,4,FR4)
call GXF(O5,it,5,T5)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=T2
endif
elseif(i1==1211122767)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,N6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DY4)
call GXF(O5,it,3,FC)
call GXF(O5,it,4,F5)
call GXF(O5,it,5,DU4)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=DP4
set G0F[1]=D74
set G0F[2]=N5
endif
elseif((i1==1311781174)or(i1==1311781175)or(i1==1311781442))then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,G6)
call GXF(O5,it,1,VB)
call GXF(O5,it,2,J1)
call GXF(O5,it,3,C0)
call GXF(O5,it,4,A1)
call GXF(O5,it,5,U1)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=L5
set G0F[1]=T2
endif
elseif(i1==1214345830)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,F74)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,T1)
call GXF(O5,it,3,DY4)
call GXF(O5,it,4,VB)
call GXF(O5,it,5,Q1)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=DP4
set G0F[1]=D74
set G0F[2]=U1
endif
elseif(i1==1315007329)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,G6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,NC)
call GXF(O5,it,3,U1)
call GXF(O5,it,4,VB)
call GXF(O5,it,5,E2)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=Z2
set G0F[1]=T2
set G0F[2]=L5
endif
elseif(i1==1429221456)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,N6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DU4)
call GXF(O5,it,3,FR4)
call GXF(O5,it,4,N3)
call GXF(O5,it,5,DR4)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=D74
endif
elseif(i1==1316252014)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,N6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DU4)
call GXF(O5,it,3,DI4)
call GXF(O5,it,4,DP4)
call GXF(O5,it,5,F5)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=N5
set G0F[1]=D74
endif
elseif(i1==1432646245)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,H6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DY4)
call GXF(O5,it,3,DM4)
call GXF(O5,it,4,FR4)
call GXF(O5,it,5,J1)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=T2
set G0F[1]=L5
set G0F[2]=D0
endif
elseif(i1==1160785972)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,G6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,NC)
call GXF(O5,it,3,DR4)
call GXF(O5,it,4,W5)
call GXF(O5,it,5,E2)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=L5
set G0F[1]=D0
endif
elseif(i1==1429221443)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,H6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DM4)
call GXF(O5,it,3,WL)
call GXF(O5,it,4,U1)
call GXF(O5,it,5,V1)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=DH4
set G0F[1]=U3
endif
elseif(i1==1311781185)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,H6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DU4)
call GXF(O5,it,3,FC)
call GXF(O5,it,4,DR4)
call GXF(O5,it,5,W5)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=D74
endif
elseif(i1==1215657064)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,H6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DG4)
call GXF(O5,it,3,RW)
call GXF(O5,it,4,C0)
call GXF(O5,it,5,WL)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=DH4
set G0F[1]=U3
endif
elseif(i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,G6)
call GXF(O5,it,1,NC)
call GXF(O5,it,2,DT4)
call GXF(O5,it,3,VB)
call GXF(O5,it,4,U1)
call GXF(O5,it,5,Y0)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=E2
set G0F[1]=T2
endif
elseif(i1==1211117651)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,N6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,W5)
call GXF(O5,it,3,DR4)
call GXF(O5,it,4,FC)
call GXF(O5,it,5,DI4)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=D74
endif
elseif(i1==1430466609)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,N6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DR4)
call GXF(O5,it,3,FR4)
call GXF(O5,it,4,W5)
call GXF(O5,it,5,DP4)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=D74
endif
elseif(i1==1164799855)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,N6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,VB)
call GXF(O5,it,3,DR4)
call GXF(O5,it,4,FR4)
call GXF(O5,it,5,DP4)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=D74
endif
elseif(i1==1211117620)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,N6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DU4)
call GXF(O5,it,3,F5)
call GXF(O5,it,4,FR4)
call GXF(O5,it,5,N3)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=X2
set G0F[1]=N5
endif
elseif(i1==1160786520)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,H6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DU4)
call GXF(O5,it,3,F5)
call GXF(O5,it,4,R5)
call GXF(O5,it,5,FC)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=T5
set G0F[1]=X2
set G0F[2]=N5
endif
elseif(i1==1311787088)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,H6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DY4)
call GXF(O5,it,3,F5)
call GXF(O5,it,4,DU4)
call GXF(O5,it,5,FC)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=D74
set G0F[1]=DP4
set G0F[2]=N5
endif
elseif(i1==1315334514)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,G6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,NC)
call GXF(O5,it,3,C0)
call GXF(O5,it,4,W5)
call GXF(O5,it,5,B0)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=T2
set G0F[1]=Z2
endif
elseif(i1==1315074670)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,G6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,NC)
call GXF(O5,it,3,C0)
call GXF(O5,it,4,J1)
call GXF(O5,it,5,B0)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=T2
set G0F[1]=L5
set G0F[2]=Z2
endif
elseif(i1==1311780946)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,F74)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DY4)
call GXF(O5,it,3,VB)
call GXF(O5,it,4,D84)
call GXF(O5,it,5,DP4)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=H2
set G0F[1]=D74
endif
elseif(i1==1429221451)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,H6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DU4)
call GXF(O5,it,3,RW)
call GXF(O5,it,4,FR4)
call GXF(O5,it,5,N3)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=DP4
endif
elseif(i1==1430466865)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,H6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DY4)
call GXF(O5,it,3,J1)
call GXF(O5,it,4,VB)
call GXF(O5,it,5,RW)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=L5
set G0F[1]=T2
set G0F[2]=R2
endif
elseif(i1==1211117650)or(i1==1211119433)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,F74)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,VB)
call GXF(O5,it,3,D84)
call GXF(O5,it,4,FR4)
call GXF(O5,it,5,H2)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=DP4
endif
elseif(i1==1215723364)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,G6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,NC)
call GXF(O5,it,3,VB)
call GXF(O5,it,4,DU4)
call GXF(O5,it,5,FR4)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=C0
set G0F[1]=B0
endif
elseif(i1==1332109682)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,F74)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DU4)
call GXF(O5,it,3,VB)
call GXF(O5,it,4,RW)
call GXF(O5,it,5,DJ4)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=D44
set G0F[1]=DV4
endif
elseif(i1==1211117641)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,G6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,T1)
call GXF(O5,it,3,DJ4)
call GXF(O5,it,4,VB)
call GXF(O5,it,5,DG4)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=DV4
set G0F[1]=FR4
endif
elseif(i1==1432642913)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,H6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,VB)
call GXF(O5,it,3,DG4)
call GXF(O5,it,4,FR4)
call GXF(O5,it,5,Y0)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=DP4
endif
elseif(i1==1429221432)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,H6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DG4)
call GXF(O5,it,3,VB)
call GXF(O5,it,4,WL)
call GXF(O5,it,5,U1)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=R2
set G0F[1]=U3
endif
elseif(i1==1429221430)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,H6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DG4)
call GXF(O5,it,3,D0)
call GXF(O5,it,4,DR4)
call GXF(O5,it,5,Z2)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=E2
endif
elseif(i1==1215128178)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,F74)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DY4)
call GXF(O5,it,3,DU4)
call GXF(O5,it,4,F5)
call GXF(O5,it,5,FR4)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=DP4
set G0F[1]=Q1
set G0F[2]=N5
endif
elseif(i1==1328558160)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,G6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,W5)
call GXF(O5,it,3,J1)
call GXF(O5,it,4,B0)
call GXF(O5,it,5,E24)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=T2
set G0F[1]=X2
endif
elseif(i1==1214931305)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,LB)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DU4)
call GXF(O5,it,3,F5)
call GXF(O5,it,4,Q1)
call GXF(O5,it,5,FR4)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=DP4
set G0F[1]=N5
endif
elseif(i1==1211117617)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,H6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DY4)
call GXF(O5,it,3,VB)
call GXF(O5,it,4,J1)
call GXF(O5,it,5,D0)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=R2
set G0F[1]=T2
set G0F[2]=L5
endif
elseif(i1==1212363833)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,G6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DG4)
call GXF(O5,it,3,VB)
call GXF(O5,it,4,D1)
call GXF(O5,it,5,Y0)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=E1
set G0F[1]=E2
endif
elseif(i1==1212365106)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,G6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DG4)
call GXF(O5,it,3,D1)
call GXF(O5,it,4,OL)
call GXF(O5,it,5,WL)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=E1
set G0F[1]=Y0
set G0F[2]=Z2
set G0F[3]=U3
endif
elseif(i1==1333027688)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,F74)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DY4)
call GXF(O5,it,3,RW)
call GXF(O5,it,4,DU4)
call GXF(O5,it,5,FR4)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=DP4
set G0F[1]=D44
endif
elseif(i1==1332179560)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,G6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DG4)
call GXF(O5,it,3,D1)
call GXF(O5,it,4,Y0)
call GXF(O5,it,5,WL)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=E1
set G0F[1]=H2
set G0F[2]=U3
endif
elseif(i1==1315070563)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,G6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,NC)
call GXF(O5,it,3,J1)
call GXF(O5,it,4,C0)
call GXF(O5,it,5,FR4)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=Y0
set G0F[1]=T2
set G0F[2]=Z2
endif
elseif(i1==1214344551)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,H6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,VB)
call GXF(O5,it,3,R5)
call GXF(O5,it,4,H2)
call GXF(O5,it,5,DP4)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=T5
set G0F[1]=D44
endif
elseif(i1==1160785973)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,G6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,J1)
call GXF(O5,it,3,C0)
call GXF(O5,it,4,B0)
call GXF(O5,it,5,FR4)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=T2
set G0F[1]=L5
endif
elseif(i1==1433631084)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,G6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,J1)
call GXF(O5,it,3,C0)
call GXF(O5,it,4,B0)
call GXF(O5,it,5,L5)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=T2
set G0F[1]=X2
endif
elseif(i1==1215130471)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,F74)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DU4)
call GXF(O5,it,3,DI4)
call GXF(O5,it,4,FR4)
call GXF(O5,it,5,F5)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=D74
set G0F[1]=N5
endif
elseif(i1==1164799603)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,N6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,C0)
call GXF(O5,it,3,R5)
call GXF(O5,it,4,FR4)
call GXF(O5,it,5,V1)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=T5
set G0F[1]=B0
endif
elseif(i1==1432580716)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,N6)
call GXF(O5,it,1,VB)
call GXF(O5,it,2,C0)
call GXF(O5,it,3,FR4)
call GXF(O5,it,4,OL)
call GXF(O5,it,5,A1)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=L5
set G0F[1]=Y0
endif
elseif(i1==1214409837)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,LB)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,VB)
call GXF(O5,it,3,C0)
call GXF(O5,it,4,F5)
call GXF(O5,it,5,R5)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=T5
set G0F[1]=N5
set G0F[2]=D74
endif
elseif(i1==1433105516)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,F74)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DY4)
call GXF(O5,it,3,RW)
call GXF(O5,it,4,DU4)
call GXF(O5,it,5,W5)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=DP4
set G0F[1]=H2
endif
elseif(i1==1211117643)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,F74)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DY4)
call GXF(O5,it,3,DU4)
call GXF(O5,it,4,FR4)
call GXF(O5,it,5,Q1)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=DP4
set G0F[1]=D74
endif
elseif(i1==1211117633)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,N6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,T1)
call GXF(O5,it,3,DU4)
call GXF(O5,it,4,FR4)
call GXF(O5,it,5,R5)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=T5
set G0F[1]=Q1
endif
elseif(i1==1332898670)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,F74)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,Q1)
call GXF(O5,it,3,DU4)
call GXF(O5,it,4,FR4)
call GXF(O5,it,5,R5)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=D44
set G0F[1]=T5
endif
elseif(i1==1211117624)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,F74)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,D84)
call GXF(O5,it,3,DU4)
call GXF(O5,it,4,U1)
call GXF(O5,it,5,H2)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=DP4
endif
elseif(i1==1315988077)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,H6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,VB)
call GXF(O5,it,3,RW)
call GXF(O5,it,4,FR4)
call GXF(O5,it,5,H2)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=Y0
endif
elseif(i1==1211117616)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,DS4)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,D84)
call GXF(O5,it,3,RW)
call GXF(O5,it,4,H2)
call GXF(O5,it,5,DJ4)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=DV4
set G0F[1]=DH4
endif
elseif(i1==1215063922)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,H6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,VB)
call GXF(O5,it,3,J1)
call GXF(O5,it,4,U1)
call GXF(O5,it,5,H2)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=L5
set G0F[1]=T2
endif
elseif(i1==1164207469)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,G6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DG4)
call GXF(O5,it,3,Y0)
call GXF(O5,it,4,WL)
call GXF(O5,it,5,A1)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=L5
set G0F[1]=Z2
set G0F[2]=U3
endif
elseif(i1==1160786000)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,F74)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DU4)
call GXF(O5,it,3,FR4)
call GXF(O5,it,4,F5)
call GXF(O5,it,5,R5)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=T5
set G0F[1]=N5
set G0F[2]=DP4
endif
elseif(i1==1311781206)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,G6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,B0)
call GXF(O5,it,3,D1)
call GXF(O5,it,4,U1)
call GXF(O5,it,5,E2)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=E1
set G0F[1]=Z2
endif
elseif(i1==1311781193)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,H6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,VB)
call GXF(O5,it,3,C0)
call GXF(O5,it,4,X1)
call GXF(O5,it,5,U1)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=T2
endif
elseif(i1==1162032439)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,G6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,NC)
call GXF(O5,it,3,C0)
call GXF(O5,it,4,FR4)
call GXF(O5,it,5,B0)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=DP4
set G0F[1]=D74
endif
elseif(i1==1430466872)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,F74)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DU4)
call GXF(O5,it,3,F5)
call GXF(O5,it,4,FR4)
call GXF(O5,it,5,DI4)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=DP4
set G0F[1]=N5
endif
elseif(i1==1430468406)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,F74)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DU4)
call GXF(O5,it,3,DI4)
call GXF(O5,it,4,DJ4)
call GXF(O5,it,5,DP4)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=DV4
set G0F[1]=R2
endif
elseif(i1==1164666213)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,F74)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DU4)
call GXF(O5,it,3,DI4)
call GXF(O5,it,4,FR4)
call GXF(O5,it,5,DP4)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=R2
endif
elseif(i1==1433168227)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,LB)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DU4)
call GXF(O5,it,3,FR4)
call GXF(O5,it,4,DI4)
call GXF(O5,it,5,D44)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=D74
endif
elseif(i1==1311786311)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,N6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DU4)
call GXF(O5,it,3,DR4)
call GXF(O5,it,4,FR4)
call GXF(O5,it,5,D1)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=E1
set G0F[1]=E2
endif
elseif(i1==1160786265)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,G6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,JC)
call GXF(O5,it,3,RW)
call GXF(O5,it,4,D94)
call GXF(O5,it,5,V1)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=DH4
set G0F[1]=L5
endif
elseif(i1==1311780930)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,N6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DY4)
call GXF(O5,it,3,RW)
call GXF(O5,it,4,FR4)
call GXF(O5,it,5,DP4)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=D74
set G0F[1]=W5
endif
elseif(i1==1211117649)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,H6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DY4)
call GXF(O5,it,3,DM4)
call GXF(O5,it,4,J1)
call GXF(O5,it,5,FR4)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=T2
set G0F[1]=DH4
set G0F[2]=D0
endif
elseif(i1==1211119187)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,H6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DY4)
call GXF(O5,it,3,C0)
call GXF(O5,it,4,X1)
call GXF(O5,it,5,V1)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=R2
set G0F[1]=DH4
endif
elseif(i1==1429221446)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,H6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DU4)
call GXF(O5,it,3,D84)
call GXF(O5,it,4,DJ4)
call GXF(O5,it,5,FR4)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=DV4
set G0F[1]=DP4
endif
elseif(i1==1211117652)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,H6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DY4)
call GXF(O5,it,3,D84)
call GXF(O5,it,4,FR4)
call GXF(O5,it,5,H2)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=DP4
set G0F[1]=DH4
endif
elseif(i1==1313026096)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,H6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DU4)
call GXF(O5,it,3,DM4)
call GXF(O5,it,4,V1)
call GXF(O5,it,5,H2)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=DH4
endif
elseif(i1==1328558154)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,H6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,VB)
call GXF(O5,it,3,DM4)
call GXF(O5,it,4,J1)
call GXF(O5,it,5,U1)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=T2
set G0F[1]=FR4
endif
elseif(i1==1429221441)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,H6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DG4)
call GXF(O5,it,3,D1)
call GXF(O5,it,4,Y0)
call GXF(O5,it,5,WL)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=E1
set G0F[1]=DH4
set G0F[2]=U3
endif
elseif(i1==1211117654)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,G6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,J1)
call GXF(O5,it,3,B0)
call GXF(O5,it,4,X2)
call GXF(O5,it,5,E2)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=T2
set G0F[1]=Z2
endif
elseif(i1==1162032951)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,G6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,C0)
call GXF(O5,it,3,B0)
call GXF(O5,it,4,FR4)
call GXF(O5,it,5,E24)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=Z2
endif
elseif(i1==1160785970)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,G6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,C0)
call GXF(O5,it,3,J1)
call GXF(O5,it,4,FR4)
call GXF(O5,it,5,A1)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=DH4
set G0F[1]=T2
set G0F[2]=L5
endif
elseif(i1==1160786510)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,G6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,C0)
call GXF(O5,it,3,FR4)
call GXF(O5,it,4,D1)
call GXF(O5,it,5,B0)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=E1
set G0F[1]=Z2
endif
elseif(i1==1432510828)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,G6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,W5)
call GXF(O5,it,3,B0)
call GXF(O5,it,4,H2)
call GXF(O5,it,5,Z2)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=X2
endif
elseif(i1==1165451634)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,G6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,J1)
call GXF(O5,it,3,X1)
call GXF(O5,it,4,Y0)
call GXF(O5,it,5,WL)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=T2
set G0F[1]=E2
set G0F[2]=U3
endif
elseif(i1==1162032181)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,G6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,J1)
call GXF(O5,it,3,Y0)
call GXF(O5,it,4,A1)
call GXF(O5,it,5,FR4)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=T2
set G0F[1]=X1
set G0F[2]=L5
endif
elseif(i1==1215722344)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,G6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,C0)
call GXF(O5,it,3,U1)
call GXF(O5,it,4,J1)
call GXF(O5,it,5,A1)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=T2
set G0F[1]=L5
set G0F[2]=H2
endif
elseif(i1==1160786242)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,G6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,D84)
call GXF(O5,it,3,D1)
call GXF(O5,it,4,Y0)
call GXF(O5,it,5,H2)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=E1
set G0F[1]=Z2
endif
elseif(i1==1311788336)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,G6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,NC)
call GXF(O5,it,3,U1)
call GXF(O5,it,4,X1)
call GXF(O5,it,5,H2)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=DH4
set G0F[1]=R2
endif
elseif(i1==1211119409)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,G6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,D84)
call GXF(O5,it,3,J1)
call GXF(O5,it,4,U1)
call GXF(O5,it,5,WL)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=T2
set G0F[1]=DH4
set G0F[2]=U3
endif
elseif(i1==1332766568)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,DS4)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,D84)
call GXF(O5,it,3,RW)
call GXF(O5,it,4,AL)
call GXF(O5,it,5,FR4)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=DH4
endif
elseif(i1==1160786738)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,H6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,VB)
call GXF(O5,it,3,D84)
call GXF(O5,it,4,X1)
call GXF(O5,it,5,DP4)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=DV4
endif
elseif(i1==1160786507)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,H6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,VB)
call GXF(O5,it,3,U1)
call GXF(O5,it,4,X1)
call GXF(O5,it,5,WL)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=R2
set G0F[1]=U3
endif
elseif(i1==1430467634)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,H6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,D84)
call GXF(O5,it,3,DU4)
call GXF(O5,it,4,FR4)
call GXF(O5,it,5,DP4)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=DH4
endif
elseif(i1==1160786505)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,H6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,D84)
call GXF(O5,it,3,C0)
call GXF(O5,it,4,U1)
call GXF(O5,it,5,X1)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=DP4
endif
elseif(i1==1430468913)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,H6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,VB)
call GXF(O5,it,3,RW)
call GXF(O5,it,4,U1)
call GXF(O5,it,5,V1)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=R2
endif
elseif(i1==1328558389)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,H6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,VB)
call GXF(O5,it,3,DU4)
call GXF(O5,it,4,V1)
call GXF(O5,it,5,DP4)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=D74
endif
elseif(i1==1211117646)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,F74)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,D84)
call GXF(O5,it,3,FR4)
call GXF(O5,it,4,H2)
call GXF(O5,it,5,DP4)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=DH4
endif
elseif(i1==1429221424)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,F74)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,F5)
call GXF(O5,it,3,R5)
call GXF(O5,it,4,U1)
call GXF(O5,it,5,DP4)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=D74
set G0F[1]=T5
set G0F[2]=N5
endif
elseif(i1==1160786502)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,F74)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,D84)
call GXF(O5,it,3,F5)
call GXF(O5,it,4,R5)
call GXF(O5,it,5,DP4)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=D74
set G0F[1]=T5
set G0F[2]=N5
endif
elseif(i1==1328558406)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,F74)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,D84)
call GXF(O5,it,3,DJ4)
call GXF(O5,it,4,F5)
call GXF(O5,it,5,DP4)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=D74
set G0F[1]=DV4
set G0F[2]=N5
endif
elseif(i1==1429221445)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,F74)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,D84)
call GXF(O5,it,3,DJ4)
call GXF(O5,it,4,F5)
call GXF(O5,it,5,FR4)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=H2
set G0F[1]=DV4
set G0F[2]=N5
endif
elseif(i1==1211117640)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,F74)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DU4)
call GXF(O5,it,3,F5)
call GXF(O5,it,4,FR4)
call GXF(O5,it,5,R5)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=D74
set G0F[1]=T5
set G0F[2]=N5
endif
elseif(i1==1311781207)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,F74)
call GXF(O5,it,1,T1)
call GXF(O5,it,2,DU4)
call GXF(O5,it,3,FR4)
call GXF(O5,it,4,FC)
call GXF(O5,it,5,DJ4)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=DV4
endif
elseif(i1==1160786241)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,F74)
call GXF(O5,it,1,DU4)
call GXF(O5,it,2,F5)
call GXF(O5,it,3,C0)
call GXF(O5,it,4,FR4)
call GXF(O5,it,5,D0)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=N5
endif
elseif(i1==1160786243)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,N6)
call GXF(O5,it,1,DU4)
call GXF(O5,it,2,FR4)
call GXF(O5,it,3,R5)
call GXF(O5,it,4,D44)
call GXF(O5,it,5,DP4)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=T5
endif
elseif(i1==1332963428)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,N6)
call GXF(O5,it,1,DU4)
call GXF(O5,it,2,R5)
call GXF(O5,it,3,FR4)
call GXF(O5,it,4,F5)
call GXF(O5,it,5,D74)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=N5
set G0F[1]=T5
endif
elseif(i1==1430468144)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,N6)
call GXF(O5,it,1,DY4)
call GXF(O5,it,2,D94)
call GXF(O5,it,3,FR4)
call GXF(O5,it,4,H2)
call GXF(O5,it,5,DP4)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=DV4
endif
elseif(i1==1160786506)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,N6)
call GXF(O5,it,1,DY4)
call GXF(O5,it,2,DU4)
call GXF(O5,it,3,F5)
call GXF(O5,it,4,FC)
call GXF(O5,it,5,D74)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=X2
set G0F[1]=N5
endif
elseif(i1==1160786504)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,N6)
call GXF(O5,it,1,DY4)
call GXF(O5,it,2,DU4)
call GXF(O5,it,3,F5)
call GXF(O5,it,4,FC)
call GXF(O5,it,5,V1)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=D74
set G0F[1]=N5
endif
elseif(i1==1328558390)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,N6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DY4)
call GXF(O5,it,3,RW)
call GXF(O5,it,4,D94)
call GXF(O5,it,5,F5)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=DV4
set G0F[1]=D74
set G0F[2]=N5
endif
elseif(i1==1211117653)then
if NU[O5]==1 then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,N6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DU4)
call GXF(O5,it,3,FR4)
call GXF(O5,it,4,DR4)
call GXF(O5,it,5,D74)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=D0
endif
else
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,N6)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DU4)
call GXF(O5,it,3,FR4)
call GXF(O5,it,4,R5)
call GXF(O5,it,5,OL)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=T5
set G0F[1]=B0
endif
endif
elseif(i1==1311781199 or i1==1311781171 or i1==1311781172 or i1==1311781173)then
if K27[112+O5]then
set u=ETF(O5,it,(not GLF))
set K27[192+O5]=true
else
set u=null
endif
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,G6)
call GXF(O5,u,1,DS4)
call GXF(O5,it,2,DT4)
call GXF(O5,u,3,H2)
call GXF(O5,it,4,D84)
call GXF(O5,it,5,WL)
call GXF(O5,u,6,DG4)
call GXF(O5,u,7,DH4)
call GXF(O5,it,8,U1)
call GXF(O5,u,9,U1)
call GXF(O5,u,10,E2)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=V1
set G0F[1]=U3
endif
set u=null
elseif(i1==1311788363)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,F74)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,S6)
call GXF(O5,it,3,DU4)
call GXF(O5,it,4,R5)
call GXF(O5,it,5,F5)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=D74
set G0F[1]=T5
set G0F[2]=N5
set G0F[3]=FC
endif
elseif(i1==1311788343)then
if(K07[144+O5]==M97)and(not K27[160+O5])then
call GXF(O5,it,0,F74)
call GXF(O5,it,1,DT4)
call GXF(O5,it,2,DY4)
call GXF(O5,it,3,DU4)
call GXF(O5,it,4,Q1)
call GXF(O5,it,5,R5)
endif
if(K07[144+O5]==MD7)or(K27[160+O5])then
set G0F[0]=T5
set G0F[1]=U1
set G0F[2]=N5
endif
else
set J4=true
endif
if(not K27[112+O5])then
set K27[112+O5]=true
set K07[32+O5]=0
set K07[144+O5]=M87
set Q04[112+O5]=CreateTrigger()
call TriggerAddAction(Q04[112+O5],function GSF)
call TT7(GetHandleId(Q04[112+O5]),"p",O5)
return
endif
if(not J4)and((K07[144+O5]==MD7)or(K27[160+O5]))and(SE7(it))then
if GLF then
set K27[176+O5]=true
else
if not K27[80+O5]then
call GMF(O5)
set K27[80+O5]=true
set K27[176+O5]=true
endif
endif
set S37=true
if K07[112+O5]!=0 and K07[432+O5]!=2 then
set EAF=-1
else
set EAF=0
endif
if(K07[464+O5]<K07[480+O5]+EAF)and(not K27[48+O5])then
loop
exitwhen(K07[464+O5]>=K07[480+O5]+EAF)
set S37=false
set EBF=LoadInteger(EE7,K07[448+O5],K07[464+O5])
set i=0
loop
exitwhen(i>23)or S37
if(K57[O5*24+i]==EBF)then
set S37=true
elseif SA7(EBF,K57[O5*24+i],false)then
set S37=true
endif
if S37 then
exitwhen true
endif
set i=i+1
endloop
if S37 then
set S37=GJF(O5,it,EBF,K17[O5*24+i],true)
else
set S37=GXF(O5,it,-2,EBF)
endif
if(S37)then
set K07[464+O5]=K07[464+O5]+1
else
exitwhen true
endif
endloop
endif
if K07[112+O5]==0 and S37 then
if IsPlayerAlly(Player(O5),Z7[0])then
set G_F="Sent|"
else
set G_F="Scrg|"
endif
set G2F=false
loop
set G5F=false
set EAF=1
if K27[64+O5]then
set EAF=0
endif
set S37=true
loop
set i=EHF(O5)
exitwhen((i<=EAF)or(S37==false))
set k=0
set i=0
set Q67=0
set H4F=0
loop
exitwhen i>9
if G0F[i]!=0 then
set Q67=i+1
endif
if G0F[10+i]!=0 then
set H4F=i+1
endif
set i=i+1
endloop
set i=0
set S37=false
loop
exitwhen(((not K27[64+O5])and(i>=Q67+Q67))or(i>=Q67+Q67+H4F+H4F))
if i<Q67 then
set j=GetRandomInt(0,Q67)
elseif i<Q67+Q67 then
set j=i-Q67
elseif i<Q67+Q67+H4F then
set j=10+GetRandomInt(0,H4F)
else
set j=10+(i-(Q67+Q67+H4F))
endif
if G0F[j]!=0 then
if(G0F[j]==T2 and(US7(R44,VB7(it)+"|Xb")))then
set G0F[j]=0
else
set k=UQ7(1128887405,G_F+I2S(G0F[j]))
set EBF=UQ7(1128877176,I2S(GetHandleId(it))+"|"+I2S(G0F[j]))
if(k>=1)or(((not EPF(G0F[j]))and(EBF>0))or(EBF>1))or(EKF(O5,it,G0F[j])==false and(G0F[j]==T2 and SU7(it,J1))==false)then
set G0F[j]=0
else
set S37=GXF(O5,it,-2,G0F[j])
call SaveInteger(EE7,K07[448+O5],K07[480+O5],G0F[j])
set K07[480+O5]=K07[480+O5]+1
exitwhen true
endif
endif
endif
set i=i+1
endloop
endloop
call GMF(O5)
if K07[112+O5]==0 and(not G2F)then
set G2F=true
set S37=true
loop
exitwhen S37==false
set i=0
set j=0
set Q67=0
set k=0
set EBF=-1
set S37=false
loop
exitwhen(i>5)
set bj_lastCreatedItem=UnitItemInSlot(it,i)
set EAF=RB7(bj_lastCreatedItem)
set j=0
if(LoadInteger(EE7,K07[224+O5],GetHandleId(bj_lastCreatedItem))!=0)or(US7(1129085013,I2S(GetHandleId(it))+"|"+I2S(EAF)))then
elseif(EAF==RX)then
set j=10
elseif(EAF==DJ4)then
if(UQ7(1128887405,G_F+I2S(DV4))<=1)then
set j=10
else
set j=1
endif
elseif(EAF==J1)then
set j=8
elseif((EAF==VB or EAF==WB)and(not SU7(it,ZU[DH4]))and(UQ7(1128887405,G_F+I2S(DH4))<=1))then
set j=8
elseif(EAF==R5 or EAF==S5)then
set j=7
elseif(EAF==F5 or EAF==G5 or EAF==J5 or EAF==M5)then
set j=6
elseif((EAF==D1 and GetItemCharges(bj_lastCreatedItem)<=3)or EAF==F1)or(EAF==DK4 or EAF==DM4)or(EAF==D84 or EAF==D94)then
set j=5
elseif(EAF==A1)then
set j=4
elseif(EAF==WL)then
set j=4
elseif(EAF==FV or EAF==G6 or EAF==H6 or EAF==N6 or EAF==DS4 or EAF==LB or EAF==EC or EAF==F74)and(not K27[64+O5])then
set j=3
endif
if j>Q67 then
set Q67=j
set k=i
set EBF=EAF
endif
set i=i+1
endloop
if Q67!=0 then
if GLF then
call SaveInteger(EE7,K07[224+O5],GetHandleId(bj_lastCreatedItem),K07[48+O5])
endif
call TW7(1129085013,I2S(GetHandleId(it))+"|"+I2S(EBF),true)
call EGF(O5,it)
if(EBF==RX)then
set S37=GXF(O5,it,-2,DJ4)
set EBF=DJ4
elseif(EBF==DJ4)and(UQ7(1128887405,G_F+I2S(DV4))<=1)then
set S37=GXF(O5,it,-2,DV4)
set EBF=DV4
elseif(EBF==J1)then
set S37=GXF(O5,it,-2,T2)
set EBF=T2
elseif(EBF==R5 or EBF==S5)then
set S37=GXF(O5,it,-2,T5)
set EBF=T5
elseif(EBF==F5 or EBF==G5 or EBF==J5 or EBF==M5)then
set S37=GXF(O5,it,-2,N5)
set EBF=N5
elseif(EBF==D1 or EBF==F1)then
set S37=GXF(O5,it,-2,E1)
set EBF=E1
elseif(EBF==A1)then
set S37=GXF(O5,it,-2,L5)
set EBF=L5
elseif(EBF==WL)then
set S37=GXF(O5,it,-2,U3)
set EBF=U3
elseif(EBF==FV or EBF==G6 or EBF==H6 or EBF==N6 or EBF==DS4 or EBF==LB or EBF==EC or EBF==F74)then
set S37=GXF(O5,it,-2,F6)
if S37 then
set G5F=true
endif
set EBF=F6
elseif(EBF==DJ4)then
set S37=GXF(O5,it,-2,DV4)
set EBF=DV4
elseif(EBF==VB or EBF==WB)then
set K07[336+O5]=EBF
set S37=GXF(O5,it,-2,DH4)
set EBF=DH4
elseif(EBF==DK4 or EBF==DM4)or(EAF==D84 or EAF==D94)then
set K07[336+O5]=EBF
set S37=GXF(O5,it,-2,R2)
set EBF=R2
endif
call SaveInteger(EE7,K07[448+O5],K07[480+O5],EBF)
set K07[480+O5]=K07[480+O5]+1
endif
endloop
endif
exitwhen(not G5F)
endloop
endif
endif
if(not J4)and(i!=M87)and(not K27[64+O5])and(not GLF)and(not SU7(it,ZU[YC]))and(GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)>=HK4[YC])then
set EAF=ECF(O5,false)-5
if EAF>0 then
set j=EXF(O5,false,false)
if j!=-1 then
call F4F(O5,it,K17[O5*24+j],K57[O5*24+j])
endif
endif
endif
if(not J4)and(i==M87)then
call GMF(O5)
set EAF=D_F(O5,it,false)
if GetHeroLevel(it)>=6 and K27[64+O5]==false then
set EAF=EAF-1
endif
if EAF>0 and MG7 then
call SetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)+HK4[GY])
call GKF(O5,it,GY,false)
set EAF=EAF-1
endif
if SU7(it,ZU[TC])then
call GKF(O5,it,TC,false)
endif
set K07[320+O5]=EAF
loop
exitwhen(EAF<=0)
call GKF(O5,it,QW,false)
set EAF=EAF-1
endloop
endif
set K27[48+O5]=false
if not GLF then
if K07[48+O5]<K07[32+O5]then
set K07[48+O5]=K07[32+O5]
endif
if K27[192+O5]then
call EWF(O5,null)
endif
call FlushChildHashtable(EE7,K07[224+O5])
endif
call FlushChildHashtable(EE7,K07[208+O5])
call FlushChildHashtable(EE7,K07[368+O5])
set K07[160+O5]=0
if G6F(O5,GLF)then
call GCF(O5)
elseif K07[432+O5]==2 then
call GMF(O5)
set K07[192+O5]=0
set K27[128+O5]=false
set K27[144+O5]=false
set KU4[32+O5]=KU4[O5]
endif
if((i1==1164277353)or(i1==1164277357))or((i1==1311781174)or(i1==1311781175)or(i1==1311781442))then
call DCF(it)
endif
endfunction
function H7F takes unit it returns nothing
local integer i1=GetUnitTypeId(it)
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer UP
local integer i
local integer j
local item R37=null
local boolean S37=true
local boolean H8F=false
local boolean H9F=(not GTF(O5))
if(not((Bz>=QD4-ME7)and(Bz>K07[176+O5])and(i1!=1211117642)))or K27[224+O5]then
return
endif
set K07[176+O5]=R2I(Bz)+MF7
set hq[592+O5]=Bz+FU7
set G0[320+O5]=false
if(GetUnitState(it,UNIT_STATE_LIFE)>1000. or GetUnitState(it,UNIT_STATE_LIFE)/GetUnitState(it,UNIT_STATE_MAX_LIFE)>0.8)==false and K07[96+O5]!=0 then
if(GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)>=HK4[K07[96+O5]])then
call G1F(O5,it,true)
endif
endif
loop
exitwhen GetUnitState(it,UNIT_STATE_LIFE)>1000. or GetUnitState(it,UNIT_STATE_LIFE)/GetUnitState(it,UNIT_STATE_MAX_LIFE)>0.8
if GetUnitState(it,UNIT_STATE_LIFE)<=.405 or IG4[O5]then
set K07[176+O5]=0
return
endif
call TriggerSleepAction(1.)
endloop
if(TL4 and T24[O5]==true)then
if(UnitHasItem(it,U44[O5]))then
call DisableTrigger(H94)
call UnitRemoveItem(it,U44[O5])
call RemoveItem(U44[O5])
call SetItemVisible(U44[O5],MH7)
call EnableTrigger(H94)
endif
if(T_4[O5]!=null)then
call R97(0.2)
call UnitAddItem(it,T_4[O5])
endif
set U44[O5]=null
set T_4[O5]=null
endif
if(U94[O5]==true)then
if(SU7(it,ZU[YC]))then
set U84[O5]=bj_lastCreatedItem
call DisableTrigger(H94)
call UnitRemoveItem(it,U84[O5])
call SetItemPosition(U84[O5],9999,-9999)
call SetItemVisible(U84[O5],MH7)
call EnableTrigger(H94)
set U84[O5]=null
endif
if(U74[O5]!=null)then
call R97(0.2)
call UnitAddItem(it,U74[O5])
endif
set U94[O5]=false
set U74[O5]=null
endif
if(SU7(it,ZU[DK4])and(UX7(it,"ArmletOfMordigan|Active")==true))then
call UnitUseItem(it,bj_lastCreatedItem)
endif
loop
call TriggerSleepAction(0.1)
exitwhen Bz>K07[160+O5]
if GetWidgetLife(it)<.405 then
set R37=null
set K07[176+O5]=0
return
endif
endloop
if((R4)and(hG[128+O5]>0))then
set UP=GetPlayerState(GetOwningPlayer(it),PLAYER_STATE_RESOURCE_GOLD)
if(UP>=hG[128+O5])then
call SetPlayerStateBJ(GetOwningPlayer(it),PLAYER_STATE_RESOURCE_GOLD,UP-hG[128+O5])
set hG[128+O5]=0
else
call SetPlayerStateBJ(GetOwningPlayer(it),PLAYER_STATE_RESOURCE_GOLD,0)
set hG[128+O5]=hG[128+O5]-UP
endif
endif
set UP=0
set EP7=null
loop
set R37=UnitItemInSlot(it,UP)
set i=GetPlayerId(GetItemPlayer(R37))
if((R37!=null)and((i!=O5))and(i!=15))then
if IsUnitEnemy(it,Player(i))then
set i=O5
else
if EP7==null then
set EP7=CreateForce()
call ForceEnumAllies(EP7,Player(O5),null)
endif
set bj_forLoopAIndex=GetPlayerId(GetItemPlayer(R37))
call VT7(it,EP7,GetObjectName(1496331312)+Q[bj_forLoopAIndex]+GetPlayerName(Player(bj_forLoopAIndex))+GetObjectName(1496331313)+GetItemName(R37)+GetObjectName(1496331314))
endif
set j=RB7(R37)
set EQ7=CreateItem(SU[j],GetUnitX(KU4[i]),GetUnitY(KU4[i]))
call SetItemPlayer(EQ7,GetItemPlayer(R37),false)
call SetItemCharges(EQ7,GetItemCharges(R37))
call RemoveItem(R37)
set R37=null
endif
set UP=UP+1
exitwhen(UP>=bj_MAX_INVENTORY)
endloop
if EP7!=null then
call DestroyForce(EP7)
set EP7=null
endif
call TriggerSleepAction(0.1)
set K27[48+O5]=false
set K17[304+O5]=null
if S37 and H9F and(K07[32+O5]<K07[48+O5])then
loop
set UP=UQ7(1128887405,I2S(GetHandleId(it))+"|s"+I2S(K07[32+O5]))
if UP!=0 then
if K07[32+O5]>K07[240+O5]then
set i=-2
else
set i=K07[32+O5]
endif
set S37=GXF(O5,it,i,UP)
endif
exitwhen K07[32+O5]==K07[48+O5]or UP==0 or(not S37)
endloop
elseif(not H9F)then
set S37=false
endif
call EDF(O5)
set K07[320+O5]=0
if S37 and K07[96+O5]!=0 and(not K27[144+O5])then
set S37=(GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)>=HK4[K07[96+O5]])
endif
if S37 and K07[112+O5]!=0 and K07[144+O5]!=M97 and(not GTF(O5))then
set S37=GXF(O5,it,-2,K07[112+O5])
call GMF(O5)
endif
if H9F then
if(not MX7)and((US7(R44,VB7(it)+"|W"))and(GetHeroLevel(it)>6))and(not D0F(O5,it))then
if((SU7(it,ZU[F6]))or(i1==1164799603)or(i1==1160786242)or(i1==1211117641)or(i1==1311780946)or(DWF(it)))then
if(US7(R44,VB7(it)+"|G"))and(GetHeroLevel(it)>11)and(GetUnitState(it,UNIT_STATE_MAX_LIFE)>1500.)and(Bz>=UR7(R44,VB7(it)+"|GTimer"))and(GYF(O5,it,EW,true))then
call TU7(R44,VB7(it)+"|GTimer",Bz+480.)
elseif((i1!=1315007329)and(i1!=1215722344)and(i1!=1430468913)and(i1!=1311781185))then
if(QT7(i1)<=2 or GetRandomInt(1,3)==1)and(UQ7(R44,VB7(it)+"|DustCount")<R2I(NX7*I2R(UQ7(R44,VB7(it)+"|SentryCount"))))then
if GYF(O5,it,CC,true)then
call TT7(R44,VB7(it)+"|DustCount",UQ7(R44,VB7(it)+"|DustCount")+1)
endif
else
if GYF(O5,it,WC,true)then
call TT7(R44,VB7(it)+"|SentryCount",UQ7(R44,VB7(it)+"|SentryCount")+1)
endif
endif
endif
endif
endif
if(not H8F)and((not K27[64+O5])and((GetHeroLevel(it)>8)or(GetUnitState(it,UNIT_STATE_MAX_LIFE)>1000))and(i1!=1164799603)and(i1!=1160786242)and(i1!=1211117641)and(i1!=1311780946))then
if not(SU7(it,ZU[YC])or SU7(KU4[O5],ZU[YC]))and(not SV7(it))then
call GKF(O5,it,YC,true)
set H8F=true
endif
endif
call GYF(O5,it,RX,(((GetHeroLevel(it)<17)and(US7(R44,VB7(it)+"|X"))and(i1!=1429221446)and(i1!=1164207469)and(i1!=1162032951))and((not SU7(it,ZU[DJ4]))and(not SU7(it,ZU[DV4])))))
if S37 or(K07[32+O5]<K07[48+O5])then
call G1F(O5,it,false)
endif
set K07[192+O5]=0
set K27[128+O5]=false
set K27[144+O5]=false
set K27[320+O5]=true
call GMF(O5)
set K17[304+O5]=null
if(not H8F)and((not K27[64+O5])and((GetHeroLevel(it)>10)or(GetUnitState(it,UNIT_STATE_MAX_LIFE)>1000))and(i1!=1164799603)and(i1!=1160786242)and(i1!=1211117641)and(i1!=1311780946))and(not SV7(it))then
if not(SU7(it,ZU[YC])or SU7(KU4[O5],ZU[YC]))and(not SV7(it))then
call GKF(O5,it,YC,true)
set H8F=true
endif
endif
if(PY4)then
call GYF(O5,it,TC,(GetHeroLevel(it)<8)and(GetUnitState(it,UNIT_STATE_MAX_LIFE)<1000))
else
call GYF(O5,it,QC,(GetHeroLevel(it)<8)and(GetUnitState(it,UNIT_STATE_MAX_LIFE)<1000))
endif
call EEF(O5,1)
if SU7(it,ZU[YC])and GetItemCharges(bj_lastCreatedItem)==1 then
call GKF(O5,it,YC,false)
endif
if SU7(it,ZU[WC])and GetItemCharges(bj_lastCreatedItem)==1 then
call GKF(O5,it,WC,false)
endif
if SU7(it,ZU[TC])and GetItemCharges(bj_lastCreatedItem)==1 then
call GKF(O5,it,TC,false)
endif
if SU7(it,ZU[QC])and GetItemCharges(bj_lastCreatedItem)==1 then
call GKF(O5,it,QC,false)
endif
if SU7(it,ZU[WB])then
call GKF(O5,it,F84,false)
endif
call EEF(O5,0)
call EDF(O5)
call GBF(O5)
call EGF(O5,it)
call EWF(O5,null)
endif
set K07[176+O5]=0
set it=null
set R37=null
endfunction
function HDF takes nothing returns nothing
local unit u
local integer j
local integer Q67
local integer k
local integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)then
call H7F(GetTriggerUnit())
elseif false and(Bz>=K07[160+O5])and(Bz>K07[176+O5])and(F08(GetTriggerUnit()))then
set u=GetTriggerUnit()
set K07[160+O5]=R2I(Bz)+MF7
call EGF(O5,u)
set j=6
set k=K07[128+O5]-1
loop
exitwhen j>k
if K17[O5*24+j]!=null and(LoadBoolean(EE7,K07[256+O5],GetHandleId(K17[O5*24+j])))then
set Q67=E1F(O5,u,K57[O5*24+j],K17[O5*24+j],false,true,false)
if Q67!=-1 and Q67<6 then
set K17[O5*24+Q67]=K17[O5*24+j]
set K57[O5*24+Q67]=K57[O5*24+j]
endif
call SetItemVisible(K17[O5*24+j],MH7)
set K17[O5*24+j]=null
endif
set j=j+1
endloop
set u=null
set K07[160+O5]=0
endif
endfunction
function HEF takes nothing returns nothing
local integer O5=1
local integer HFF=11
local boolean S37=false
local boolean J4=true
local integer i=R2I(Bz)+MF7
loop
exitwhen O5>HFF
if O5==6 then
set O5=7
endif
set S37=true
set J4=false
if Z27(Player(O5))and M7[O5]!=null and(Bz>K07[160+O5])and(Bz>K07[176+O5])and(RH7(M7[O5],h9[16+O5])>1200)then
if S37 and K07[96+O5]!=0 then
set S37=(GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)>=HK4[K07[96+O5]])
endif
if((S37)and(K07[96+O5]!=0)and(K07[144+O5]==M97)and(eY[O5]==1)and(eY[80+O5]==1 or eY[80+O5]==2)and(K07[32+O5]==K07[48+O5])and(D1F(K07[96+O5]))and(not GZ[160+O5])and((not SV7(M7[O5]))or(K07[320+O5]>0)))and(not K27[288+O5])then
set K27[240+O5]=true
set S37=false
elseif K27[240+O5]then
set K27[240+O5]=false
set bj_forLoopAIndex=GetUnitUserData(h8[O5])
if bj_forLoopAIndex>100 then
call AA7(M7[O5])
endif
endif
if S37 and K07[112+O5]!=0 and K07[144+O5]!=M97 and(not GTF(O5))then
set K07[160+O5]=i
set K07[176+O5]=i
set K27[48+O5]=true
set S37=GXF(O5,M7[O5],-2,K07[112+O5])
if S37 then
set K07[112+O5]=0
endif
set K07[160+O5]=0
set K07[176+O5]=0
set K27[48+O5]=false
set J4=true
endif
if S37 then
set K07[176+O5]=i
call G1F(O5,M7[O5],true)
set K07[176+O5]=0
elseif J4 then
call FlushChildHashtable(EE7,K07[208+O5])
endif
if(K07[192+O5]>M77)and(K27[144+O5])then
set K27[128+O5]=true
endif
if G6F(O5,true)then
call GCF(O5)
endif
endif
set O5=O5+1
endloop
endfunction
function HGF takes nothing returns nothing
if(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))!=MAP_CONTROL_USER and QY4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]==false)then
if((GetItemPlayer(GetManipulatedItem())!=null)and(GetItemPlayer(GetManipulatedItem())!=Player(15))and(GetItemPlayer(GetManipulatedItem())!=GetOwningPlayer(GetTriggerUnit()))and((GetItemType(GetManipulatedItem())==ITEM_TYPE_POWERUP)or(RH7(GetTriggerUnit(),TJ7(GetTriggerUnit()))<=2000.)))then
call UnitAddItem(M7[GetPlayerId(GetItemPlayer(GetManipulatedItem()))],GetManipulatedItem())
elseif((GetItemPlayer(GetManipulatedItem())==null)or(GetItemPlayer(GetManipulatedItem())==Player(15)))then
call SetItemPlayer(GetManipulatedItem(),GetOwningPlayer(GetTriggerUnit()),false)
endif
endif
endfunction
function HHF takes integer O5,real x,real y returns nothing
local unit it=CreateUnit(Player(15),1697656899,x,y,270.)
local texttag t=null
call UnitAddAbility(it,1097625443)
call UnitAddAbility(it,1093678162)
call UnitAddAbility(it,1093685300)
call SetUnitUserData(it,O5)
set h7[O5]=it
call SetUnitX(it,x)
call SetUnitY(it,y)
if(((O5>10)and(O5<18))or((O5>30)and(O5<40))or((O5>50)and(O5<60)))then
call GroupAddUnit(ii,it)
endif
set it=null
endfunction
function HIF takes integer O5,integer AW7,integer AX7,real x,real y returns nothing
call HHF(O5,x,y)
set hj[O5]=AW7
set hj[256+O5]=AX7
endfunction
function HJF takes integer i,boolean QC7,real HKF returns integer
if i>5 and i<11 then
set i=11
elseif i>17 and i<25 then
set i=17
elseif i>25 and i<31 then
set i=31
elseif i>39 and i<45 then
set i=39
elseif i>45 and i<51 then
set i=51
elseif i>59 and i<100 then
set i=59
endif
if HKF>2000 then
return i
endif
if i>=11 and i<=17 then
if QC7 then
if i>15 and P14==0 then
set i=15
elseif i>16 and P14<=1 then
set i=16
endif
else
if i<13 and P34==0 then
set i=13
elseif i<12 and P34<=1 then
set i=12
endif
endif
elseif i>=31 and i<=39 then
if QC7 then
if i>35 and P04==0 then
set i=35
elseif i>37 and P04<=1 then
set i=37
endif
else
if i<34 and P64==0 then
set i=34
elseif i<33 and P64<=1 then
set i=33
endif
endif
elseif i>=51 and i<=59 then
if QC7 then
if i>57 and P54==0 then
set i=57
elseif i>58 and P54<=1 then
set i=58
endif
else
if i<55 and PL4==0 then
set i=55
elseif i<52 and PL4<=1 then
set i=52
endif
endif
endif
return i
endfunction
function HMF takes integer O5,integer i,integer k,boolean QC7 returns integer
if(i==31)or(i==32)then
return 334
elseif(i==33)then
return 328
elseif(i==34)then
if(h8[96+O5]==null or(GetUnitX(h7[35])-GetUnitY(h8[96+O5]))<=2100.)and G0[208+O5]then
return 329
else
set G0[208+O5]=false
return 326
endif
elseif(i==35)or(i==36)then
return 329
elseif(i==37)or(i==38)or(i==39)then
return 330
elseif(i==51)or(i==52)or(i==53)then
return 331
elseif(i==54)or(i==55)or(i==56)then
return 332
elseif(i==57)then
if(h8[96+O5]==null or(GetUnitY(h8[96+O5])-GetUnitX(h7[55]))<=2850.)and G0[208+O5]then
return 332
else
set G0[208+O5]=false
return 327
endif
elseif(i==58)or(i==59)then
return 333
elseif(k==1)then
if(i==11)or(i==12)then
return 334
elseif(i==13)then
return 335
elseif(i==14)then
if QC7 then
return 336
else
return 335
endif
elseif(i==15)then
return 336
elseif(i==16)or(i==17)then
return 337
endif
elseif(k==2)then
if(i==11)or(i==12)then
return 338
elseif(i==13)then
return 339
elseif(i==14)then
if QC7 then
return 341
else
return 340
endif
elseif(i==15)or(i==16)then
return 341
elseif(i==17)then
return 342
endif
endif
return 0
endfunction
function HNF takes integer O5,integer i,integer j returns boolean
if i==j then
return true
elseif(i==328 or i==334 or i==335 or i==326)and(j==328 or j==334 or j==335 or j==326)then
return true
elseif(i==329 or i==330 or i==326)and(j==329 or j==330 or j==326)then
return true
elseif(i==331 or i==332 or i==327)and(j==331 or j==332 or j==327)then
return true
elseif eY[272+O5]==0 then
if(i==338 or i==339 or i==340 or i==331 or i==332)and(j==338 or j==339 or j==340 or j==331 or j==332)then
return true
elseif(i==329 or i==330 or i==336 or i==337)and(j==329 or j==330 or j==336 or j==337)then
return true
endif
endif
return false
endfunction
function HOF takes unit PI7,integer O5 returns boolean
return((not GTF(O5))and(not K27[64+O5])and(GetUnitLevel(PI7)>5)and SU7(PI7,ZU[YC])==false and SV7(PI7)==false and K27[320+O5]and GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)>200)
endfunction
function HPF takes nothing returns nothing
local unit PI7=GetTriggerUnit()
local integer O5=GetPlayerId(GetOwningPlayer(PI7))
local integer UP=UQ7(GetHandleId(GetTriggeringTrigger()),"SentNum")
local integer i
local boolean HQF=false
if GetPlayerController(Player(O5))==MAP_CONTROL_USER and PI7==M7[O5]then
if(IsUnitAlly(PI7,Z7[0]))then
set UP=UQ7(GetHandleId(GetTriggeringTrigger()),"SentNum")
else
set UP=UQ7(GetHandleId(GetTriggeringTrigger()),"ScrgNum")
endif
set h8[O5]=h7[UP+1]
set h8[80+O5]=h7[UP]
set h9[O5]=h7[UP-1]
set h9[16+O5]=h7[hj[UP]]
set h8[16+O5]=h7[hj[256+UP]]
endif
if((GetPlayerController(Player(O5))==MAP_CONTROL_COMPUTER)and(IsUnitType(PI7,UNIT_TYPE_HERO)))then
if(IsUnitAlly(PI7,Z7[0]))then
set UP=UQ7(GetHandleId(GetTriggeringTrigger()),"SentNum")
else
set UP=UQ7(GetHandleId(GetTriggeringTrigger()),"ScrgNum")
endif
if(eY[O5]==9)then
if(not S97(PI7))then
set G0[176+O5]=true
endif
if((h8[128+O5]==h7[UP])and(eY[272+O5]==0))then
set h8[O5]=h7[UP]
set eY[O5]=1
elseif((h8[48+O5]==h7[UP]and(eY[272+O5]<=1))or((eY[272+O5]==1)and(G0[176+O5])))then
if eY[272+O5]==1 then
set h8[32+O5]=h7[HMF(O5,UQ7(GetHandleId(GetTriggeringTrigger()),"SentNum"),eY[304+O5],(IsUnitAlly(PI7,Z7[0])))]
endif
set h8[48+O5]=h8[32+O5]
set h9[O5]=TJ7(PI7)
if(iU(PI7))then
if S47(PI7)then
if G0[176+O5]then
call T47(PI7,851986,h8[48+O5])
else
if hq[640+O5]<=Bz then
call T47(PI7,851986,h9[O5])
else
call T47(PI7,851983,h9[O5])
endif
endif
endif
endif
elseif eY[272+O5]>=4 then
set EN7=true
if(h8[128+O5]==h7[UP])then
set eY[O5]=1
elseif(h8[48+O5]==h7[UP])and(eY[272+O5]==5)then
set h8[48+O5]=h8[128+O5]
elseif(h8[112+O5]==h7[UP])and(eY[272+O5]==4)then
set eY[272+O5]=5
set i=GetUnitUserData(h8[112+O5])
if IsUnitAlly(PI7,Z7[0])then
if(i>35 and i<40)then
set h8[48+O5]=h7[35]
elseif(i>55 and i<60)then
set h8[48+O5]=h7[55]
endif
else
if(i>30 and i<35)then
set h8[48+O5]=h7[35]
elseif(i>50 and i<55)then
set h8[48+O5]=h7[55]
endif
endif
set h8[32+O5]=h8[48+O5]
else
set EN7=false
endif
if EN7 then
if h8[96+O5]!=null then
call CYE(O5,h8[96+O5],true,true)
endif
if S47(PI7)then
if(h8[96+O5]!=null and S97(h8[96+O5]))then
call IssueTargetOrderById(PI7,851983,h8[96+O5])
else
call T47(PI7,851983,h8[48+O5])
endif
endif
endif
endif
elseif eY[O5]==1 and PI7==M7[O5]and(((UP==34 and P_4>4)or UP==35 or(UP==56 and Q44>6)or UP==57)or((UP==135 and P_4<=4)or UP==136 or(UP==153 and Q44<=6)or UP==154))and(K27[240+O5]or HOF(PI7,O5))then
set bj_lastLoadedUnit=PI7
set bj_lastLoadedUnit=SQ7(1200,S_7(PI7),Condition(function WU7))
if(bj_lastLoadedUnit==null)then
if UP==34 or UP==35 or UP==136 or UP==135 then
set h8[O5]=h7[353]
elseif UP==56 or UP==57 or UP==154 or UP==153 then
set h8[O5]=h7[354]
endif
set K27[256+O5]=true
call T47(PI7,851986,h8[O5])
endif
elseif eY[O5]==1 and is(PI7)and h4[O5]==null then
if((hj[256+UP]==18)or(hj[UP]==10))then
set i=UP-10
if(P24==i)then
set HQF=true
endif
elseif((hj[256+UP]==40)or(hj[UP]==30))then
set i=UP-30
if(P_4==i)then
set HQF=true
endif
elseif((hj[256+UP]==60)or(hj[UP]==50))then
set i=UP-50
if(Q44==i)then
set HQF=true
endif
endif
set bj_lastLoadedUnit=PI7
if HQF and SU7(PI7,ZU[WC])and SQ7(2000.,S_7(h7[UP]),Condition(function YY7))==null and SQ7(800.,S_7(h7[UP]),Condition(function ST7))==null then
call UnitUseItemPoint(PI7,bj_lastCreatedItem,GetUnitX(h7[UP]),GetUnitY(h7[UP]))
endif
endif
if((h8[O5]==h7[UP])or(h9[O5]==h7[UP])or((h8[16+O5]==h7[hj[256+UP]])and(h9[16+O5]==h7[hj[UP]]))or(h8[16+O5]==h7[hj[UP]])or(h9[16+O5]==h7[hj[256+UP]]))and(not K27[256+O5])then
call AY7(PI7,UP)
endif
if((SH7(PI7))and(not Id(O5))and(GetUnitCurrentOrder(PI7)==851986))then
if((UP==38)or(UP==37)or(UP==36))then
call AY7(PI7,32)
elseif((UP==138)or(UP==137)or(UP==136))then
call AY7(PI7,132)
elseif((UP==58)or(UP==57)or(UP==56))then
call AY7(PI7,52)
elseif((UP==158)or(UP==157)or(UP==156))then
call AY7(PI7,152)
endif
endif
elseif(O5==GetPlayerId(Z7[0]))then
if((hj[256+UP]==18)or(hj[UP]==10))then
set i=UP-10
if(P24+1==i)then
set P24=i
endif
elseif((hj[256+UP]==40)or(hj[UP]==30))then
set i=UP-30
if(P_4+1==i)then
set P_4=i
endif
elseif((hj[256+UP]==60)or(hj[UP]==50))then
set i=UP-50
if(Q44+1==i)then
set Q44=i
endif
endif
elseif(O5==GetPlayerId(A7[0]))then
if((hj[256+UP]==18)or(hj[UP]==10))then
set i=UP-10
if(P24-1==i)then
set P24=i
endif
elseif((hj[256+UP]==40)or(hj[UP]==30))then
set i=UP-30
if(P_4-1==i)then
set P_4=i
endif
elseif((hj[256+UP]==60)or(hj[UP]==50))then
set i=UP-50
if(Q44-1==i)then
set Q44=i
endif
endif
endif
set PI7=null
endfunction
function HRF takes nothing returns boolean
return((((GetOwningPlayer(GetTriggerUnit())==Z7[0])or(GetOwningPlayer(GetTriggerUnit())==A7[0]))and(not RZ7(GetTriggerUnit()))and(not IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)))or((not IsUnitIllusion(GetTriggerUnit()))and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))))
endfunction
function HSF takes nothing returns boolean
return((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetTriggerUnit()))and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)))
endfunction
function HTF takes integer HUF,integer HVF returns nothing
local trigger t
local integer i=HUF
local boolexpr Ig=Condition(function HRF)
loop
set t=CreateTrigger()
call TriggerRegisterUnitInRange(t,h7[i],400.,Q24)
call TT7(GetHandleId(t),"SentNum",i)
call TT7(GetHandleId(t),"ScrgNum",hj[512+i])
call TriggerAddCondition(t,Ig)
call TriggerAddAction(t,function HPF)
set i=i+1
exitwhen i>HVF
endloop
set t=null
set Ig=null
endfunction
function HWF takes integer O5,integer UP,integer i,boolean QC7 returns integer
local integer j
local integer k
if UP==326 then
if i==34 then
set j=34
else
set j=HMF(O5,i,1,QC7)
endif
elseif UP==327 then
if i==57 then
set j=57
else
set j=HMF(O5,i,2,QC7)
endif
else
set k=eY[304+O5]
set j=HMF(O5,i,k,QC7)
if(j!=0)and(UP!=j)then
if HNF(O5,UP,j)then
elseif(k==1)then
set j=326
elseif(k==2)then
set j=327
endif
else
set j=i
endif
endif
return j
endfunction
function HXF takes integer O5,boolean QC7,integer UP returns nothing
local integer i
local integer j
local boolexpr HYF=null
local unit PI7=null
if eY[272+O5]>3 then
return
endif
set eY[272+O5]=3
set i=1
set EN7=true
set bj_lastLoadedUnit=h7[PZ7(QC7,0,100)]
if h8[96+O5]!=null and SE7(h8[96+O5])then
set j=GetPlayerId(GetOwningPlayer(h8[96+O5]))
endif
if((hq[656+O5]<Bz)or((h8[96+O5]!=null)and(RH7(h8[96+O5],h8[j])+400<RH7(h8[96+O5],h9[j]))))then
loop
exitwhen i>5
if QC7 then
set j=GetPlayerId(Z7[i])
else
set j=GetPlayerId(A7[i])
endif
if((M7[j]!=null)and(GetWidgetLife(M7[j])>.405)and(eY[272+j]!=0)and(eY[j]==9)and(eY[288+j]==eY[288+O5])and(SH7(M7[j])==false))then
if eY[272+j]<3 then
set EN7=false
endif
endif
set i=i+1
endloop
endif
if EN7 then
if(h8[96+O5]!=null and GetWidgetLife(h8[96+O5])>.405 and(eY[32+GetPlayerId(GetOwningPlayer(h8[96+O5]))]>0))then
set bj_lastLoadedUnit=h8[96+O5]
else
set bj_lastLoadedUnit=h8[112+O5]
endif
set HYF=Condition(function X77)
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(M7[O5]),GetUnitY(M7[O5]),1800.,HYF)
call GroupClear(H8)
call GroupEnumUnitsInRange(H8,GetUnitX(bj_lastLoadedUnit),GetUnitY(bj_lastLoadedUnit),1800.,HYF)
call DestroyBoolExpr(HYF)
call GroupAddGroup(H8,iA)
set HYF=null
set j=0
loop
set PI7=FirstOfGroup(iA)
exitwhen PI7==null
call GroupRemoveUnit(iA,PI7)
if GetUnitTypeId(PI7)!=1211117642 and GetUnitLifePercent(PI7)>50 then
if IsUnitAlly(PI7,Player(O5))then
set j=j+1
elseif eY[32+GetPlayerId(GetOwningPlayer(PI7))]>0 then
set j=j-1
endif
endif
endloop
if QC7 then
set EP7=X7
else
set EP7=Y7
endif
if j>=0 then
if QC7 then
set bj_lastLoadedUnit=null
if(h8[96+O5]!=null and GetWidgetLife(h8[96+O5])>.405 and IsUnitVisible(h8[96+O5],Z7[0]))then
set bj_lastLoadedUnit=h8[96+O5]
else
set bj_lastLoadedUnit=h8[112+O5]
endif
else
if(h8[96+O5]!=null and GetWidgetLife(h8[96+O5])>.405 and IsUnitVisible(h8[96+O5],A7[0]))then
set bj_lastLoadedUnit=h8[96+O5]
else
set bj_lastLoadedUnit=h8[112+O5]
endif
endif
call VX7(EP7,GetUnitX(bj_lastLoadedUnit),GetUnitY(bj_lastLoadedUnit),O5)
set h8[48+O5]=h8[112+O5]
set h8[32+O5]=h8[48+O5]
set bj_forLoopAIndex=GetPlayerId(GetOwningPlayer(h8[96+O5]))
set i=1
loop
exitwhen i>5
if QC7 then
set j=GetPlayerId(Z7[i])
else
set j=GetPlayerId(A7[i])
endif
if(eY[272+j]!=0)and(eY[j]==9)and(eY[288+j]==eY[288+O5])then
set h8[96+j]=h8[96+O5]
if GetWidgetLife(h8[96+O5])>.405 and IsUnitVisible(h8[96+O5],Player(O5))then
call CYE(j,h8[96+j],true,true)
endif
set h8[48+j]=h8[48+O5]
set h8[32+j]=h8[32+O5]
if not S47(M7[j])then
if h4[j]!=null then
call IssueTargetOrderById(M7[j],851983,h4[j])
else
call T47(M7[j],851983,h8[48+j])
endif
endif
set eY[272+j]=4
set hq[624+j]=Bz+FL7
set GZ[128+j]=true
set G0[128+j]=true
set G0[256+j]=true
call VY7(M7[j],EP7)
if h8[96+O5]!=null then
call VT7(M7[j],EP7,GetObjectName(1496330544)+Q[bj_forLoopAIndex]+GetUnitName(h8[96+O5])+"|r")
else
call VT7(M7[j],EP7,GetObjectName(1496330297)+QY7(eY[288+O5],false)+"|r")
endif
endif
set i=i+1
endloop
else
set bj_lastLoadedUnit=h7[HWF(O5,GetUnitUserData(h8[32+O5]),GetUnitUserData(h8[128+O5]),QC7)]
if h8[32+O5]==bj_lastLoadedUnit then
set h8[32+O5]=h8[128+O5]
else
set h8[32+O5]=bj_lastLoadedUnit
endif
set i=1
loop
exitwhen i>5
if QC7 then
set j=GetPlayerId(Z7[i])
else
set j=GetPlayerId(A7[i])
endif
if(eY[272+j]!=0)and(eY[j]==9)and(eY[288+j]==eY[288+O5])then
set eY[272+j]=0
set h8[128+j]=h8[128+O5]
set h8[32+j]=h8[32+O5]
set h8[48+j]=h8[32+j]
if S47(M7[O5])then
call T47(M7[O5],851986,h8[32+j])
endif
call VY7(M7[j],EP7)
call VT7(M7[j],EP7,GetObjectName(1496330296))
endif
set i=i+1
endloop
endif
else
if not G0[192+O5]then
set hq[656+O5]=Bz+F67
set G0[192+O5]=true
endif
set h8[48+O5]=h7[UP]
if S47(M7[O5])then
call IssueImmediateOrderById(M7[O5],851993)
endif
endif
set PI7=null
endfunction
function HZF takes boolean QC7,integer O5,unit m5 returns nothing
local integer i=0
local integer j=0
local real HAF=RH7(M7[O5],m5)
local real C07
set i=1
loop
exitwhen i>11
if QC7 then
set j=GetPlayerId(Z7[i])
else
set j=GetPlayerId(A7[i])
endif
if((M7[j]!=null)and(GetWidgetLife(M7[j])>.405)and(h4[j]!=null)and(eY[j]==1 or eY[j]>9)and(eY[64+j]==eY[288+O5]or eY[80+j]==eY[288+O5])and(SH7(M7[j])==false))then
set C07=RH7(M7[j],m5)
if C07>HAF-400 then
set h4[j]=m5
set hq[624+j]=Bz+FL7
if is(M7[j])then
call IssueTargetOrderById(M7[j],851983,m5)
endif
endif
endif
set i=i+1
endloop
endfunction
function HBF takes nothing returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
return((GetTriggerUnit()==M7[O5])and(eY[O5]==9)and(Z27(Player(O5))))
endfunction
function HCF takes nothing returns nothing
local unit PI7=GetTriggerUnit()
local integer O5=GetPlayerId(GetOwningPlayer(PI7))
local integer UP
local integer i
local integer j
local integer k
local boolean QC7
set UP=UQ7(GetHandleId(GetTriggeringTrigger()),"Num")
set QC7=IsUnitAlly(PI7,Z7[0])
if(eY[272+O5]==0)or((eY[272+O5]<=3)and(h8[48+O5]==h7[UP]))then
if eY[272+O5]==0 then
set i=GetUnitUserData(h8[128+O5])
else
set i=GetUnitUserData(h8[112+O5])
endif
set j=HWF(O5,UP,i,QC7)
if(eY[272+O5]==0)then
set h8[48+O5]=h7[j]
set h8[32+O5]=h8[48+O5]
if S47(M7[O5])then
call T47(M7[O5],851983,h8[48+O5])
endif
else
if j<100 then
call HXF(O5,QC7,UP)
else
set eY[272+O5]=2
set h8[48+O5]=h7[j]
set h8[32+O5]=h8[48+O5]
if is(M7[O5])then
call T47(M7[O5],851983,h8[48+O5])
endif
endif
endif
endif
set PI7=null
endfunction
function H3F takes integer k,integer j returns nothing
local trigger t
local integer i=k
local boolexpr H6F=Condition(function HBF)
loop
exitwhen i>j
set t=CreateTrigger()
call TriggerRegisterUnitInRange(t,h7[i],400.,Q24)
call TT7(GetHandleId(t),"Num",i)
call TriggerAddCondition(t,H6F)
call TriggerAddAction(t,function HCF)
set i=i+1
endloop
set H6F=null
set t=null
endfunction
function HLF takes nothing returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
return((GetTriggerUnit()==M7[O5])and(Z27(Player(O5))))
endfunction
function H1F takes nothing returns nothing
local unit it=GetTriggerUnit()
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer UP=UQ7(GetHandleId(GetTriggeringTrigger()),"Num")
if ZL7(Player(O5))then
if UP==353 then
call AY7(it,34)
elseif UP==354 then
call AY7(it,56)
endif
else
if UP==353 then
call AY7(it,135)
elseif UP==354 then
call AY7(it,153)
endif
endif
if(is(it))then
set bj_lastLoadedUnit=it
set bj_lastLoadedUnit=SQ7(700,S_7(h8[O5]),Condition(function WU7))
if(bj_lastLoadedUnit!=null)then
call T47(it,851986,h9[O5])
else
call T47(it,851983,h8[O5])
endif
endif
if(HOF(it,O5))then
set K27[320+O5]=GYF(O5,it,YC,true)
endif
if(K27[240+O5])then
if(K07[144+O5]==M97)and(K27[224+O5]==false)then
set K07[432+O5]=1
set K07[176+O5]=R2I(Bz)+MF7
call G1F(O5,it,false)
set K07[176+O5]=0
set K07[432+O5]=0
endif
set K27[240+O5]=false
set K27[256+O5]=false
endif
set it=null
endfunction
function H0F takes integer k,integer j returns nothing
local trigger t
local integer i=k
local boolexpr H6F=Condition(function HLF)
loop
exitwhen i>j
set t=CreateTrigger()
call TriggerRegisterUnitInRange(t,h7[i],200.,Q24)
call TT7(GetHandleId(t),"Num",i)
call TriggerAddCondition(t,H6F)
call TriggerAddAction(t,function H1F)
set i=i+1
endloop
set H6F=null
set t=null
endfunction
function H5F takes nothing returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
local integer UP=UQ7(GetHandleId(GetTriggeringTrigger()),"Num")
if(((UP==311)or(UP==312))and(eY[O5]==1))then
if(IsUnitAlly(GetTriggerUnit(),Z7[0]))then
if(h8[O5]==h7[36])then
call AY7(GetTriggerUnit(),34)
endif
else
if(h8[O5]==h7[136])then
call AY7(GetTriggerUnit(),134)
endif
endif
elseif(UP==313)then
if(IsUnitAlly(GetTriggerUnit(),A7[0]))then
if(h8[O5]==h7[136])then
set h9[O5]=h7[135]
endif
endif
elseif(UP==314)then
if(IsUnitAlly(GetTriggerUnit(),Z7[0]))then
if(h8[O5]==h7[36])then
set h9[O5]=h7[35]
endif
else
if(h8[O5]==h7[136])then
call AY7(GetTriggerUnit(),135)
endif
endif
elseif(((UP==321)or(UP==322))and(eY[O5]==1))then
if(IsUnitAlly(GetTriggerUnit(),Z7[0]))then
if(h8[O5]==h7[56])then
call AY7(GetTriggerUnit(),54)
endif
else
if(h8[O5]==h7[156])then
call AY7(GetTriggerUnit(),154)
endif
endif
elseif((UP==315)and(h8[32+O5]==h7[315])and(eY[O5]==10))then
set h8[32+O5]=h9[32+O5]
call T47(GetTriggerUnit(),851986,h8[32+O5])
elseif((UP==325)and(h8[32+O5]==h7[325])and(eY[O5]==10))then
set h8[32+O5]=h9[32+O5]
call T47(GetTriggerUnit(),851986,h8[32+O5])
endif
endfunction
function H2F takes integer HUF returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterUnitInRange(t,h7[HUF],400.,Q24)
call TT7(GetHandleId(t),"Num",HUF)
call TriggerAddCondition(t,Condition(function HSF))
call TriggerAddAction(t,function H5F)
endfunction
function H_F takes nothing returns nothing
call HHF(0,-7100,-6985)
call HHF(100,6644,6239)
call HHF(1,-5088.,-6426.)
call HHF(101,4826.,4177.)
call HHF(2,-4290.,-4302.)
call HHF(3,-3288.,-6529.)
call HHF(4,-6238.,-3594.)
call HHF(102,3493.,3180.)
call HHF(103,3041.,5967.)
call HHF(104,6041.,2585.)
set h7[10]=h7[0]
set h7[118]=h7[1]
call HIF(11,10,14,-4166.,-4124.)
call HIF(12,10,14,-2897.,-2633.)
call HIF(13,10,14,-1363.,-1425.)
call HIF(14,10,18,-594.,-602.)
call HIF(15,14,18,553.,-55.)
call HIF(16,14,18,1858.,1109.)
call HIF(17,14,18,3207.,2741.)
call AV7(111,17,110,114)
call AV7(112,16,110,114)
call AV7(113,15,110,114)
call AV7(114,14,110,118)
call AV7(115,13,114,118)
call AV7(116,12,114,118)
call AV7(117,11,114,118)
set h7[18]=h7[101]
set h7[110]=h7[100]
set h7[30]=h7[0]
set h7[140]=h7[1]
call HIF(31,30,35,-6267.,-3320.)
call HIF(32,30,35,-6377.,-1771.)
call HIF(33,30,35,-6066.,273.)
call HIF(34,30,35,-6241.,2786.)
call HIF(35,30,40,-6056.,5347.)
call HIF(36,35,40,-3254.,5752.)
call HIF(37,35,40,-819.,5859.)
call HIF(38,35,40,1086.,5572.)
call HIF(39,35,40,2675.,6207.)
call AV7(131,39,130,135)
call AV7(132,38,130,135)
call AV7(133,37,130,135)
call AV7(134,36,130,135)
call AV7(135,35,130,140)
call AV7(136,34,135,140)
call AV7(137,33,135,140)
call AV7(138,32,135,140)
call AV7(139,31,135,140)
set h7[40]=h7[101]
set h7[130]=h7[100]
set h7[50]=h7[0]
set h7[160]=h7[1]
call HIF(51,50,55,-3196.,-6567.)
call HIF(52,50,55,-237.,-6939.)
call HIF(53,50,55,1811.,-6860.)
call HIF(54,50,55,3727.,-6784.)
call HIF(55,50,60,5532.,-6495.)
call HIF(56,55,60,5943.,-5216.)
call HIF(57,55,60,6186.,-3270.)
call HIF(58,55,60,6040.,-646.)
call HIF(59,55,60,6018.,2213.)
call AV7(151,59,150,155)
call AV7(152,58,150,155)
call AV7(153,57,150,155)
call AV7(154,56,150,155)
call AV7(155,55,150,160)
call AV7(156,54,155,160)
call AV7(157,53,155,160)
call AV7(158,52,155,160)
call AV7(159,51,155,160)
set h7[60]=h7[101]
set h7[150]=h7[100]
set h7[211]=h7[12]
set h7[212]=h7[13]
set h7[213]=h7[16]
call HHF(221,-6220.,3550.)
set h7[222]=h7[36]
set h7[223]=h7[37]
set h7[231]=h7[53]
set h7[232]=h7[54]
set h7[233]=h7[56]
call HHF(234,6070.,-3550.)
set h7[235]=h7[58]
call HHF(250,GetRectCenterX(ND),GetRectCenterY(ND))
call HHF(251,GetRectCenterX(Br),GetRectCenterY(Br))
call HHF(252,GetRectCenterX(cr),GetRectCenterY(cr))
call HHF(253,GetRectCenterX(Cr),GetRectCenterY(Cr))
call HHF(254,GetRectCenterX(fr),GetRectCenterY(fr))
call HHF(255,GetRectCenterX(Fr),GetRectCenterY(Fr))
call HHF(256,GetRectCenterX(Hr),GetRectCenterY(Hr))
call HHF(257,GetRectCenterX(jr),GetRectCenterY(jr))
call HHF(258,GetRectCenterX(Jr),GetRectCenterY(Jr))
call HHF(259,GetRectCenterX(lr),GetRectCenterY(lr))
call HHF(260,GetRectCenterX(mr),GetRectCenterY(mr))
call HHF(261,GetRectCenterX(Ni),GetRectCenterY(Ni))
call HHF(262,GetRectCenterX(Bi),GetRectCenterY(Bi))
call HHF(311,-5232.,3757.)
call HHF(312,-3490.,4685.)
call HHF(313,-6209.,4324.)
call HHF(314,-5024.,5571.)
call HHF(315,-1717.,894.)
call HHF(321,3995.,-5720.)
call HHF(322,4976.,-5129.)
call HHF(325,2222.,-2405.)
call HHF(326,-2300.,1600.)
call HHF(327,3000.,-1820.)
call HHF(328,-4250.,-110.)
call HHF(329,-3950.,4100.)
call HHF(330,150.,2460.)
call HHF(331,2100.,-5600.)
call HHF(332,4350.,-4750.)
call HHF(333,4650.,-1050.)
call HHF(334,-3300.,-1450.)
call HHF(335,-1750.,-100.)
call HHF(336,-250.,700.)
call HHF(337,890.,2100.)
call HHF(338,-2100.,-4200.)
call HHF(339,-310.,-2900.)
call HHF(340,800.,-2200.)
call HHF(341,1900.,-1300.)
call HHF(342,3600.,-100.)
call HHF(351,-5210,5660)
call HHF(352,5260,-6470)
call HHF(353,-7080,4280)
call HHF(354,7210,-4230)
endfunction
function I4F takes nothing returns nothing
local trigger t
call HTF(11,17)
if(not PE4)then
call HTF(31,39)
call HTF(51,59)
endif
call H2F(311)
call H2F(312)
call H2F(313)
call H2F(314)
call H2F(315)
call H2F(321)
call H2F(322)
call H2F(325)
call H3F(326,342)
call H0F(353,354)
endfunction
function I7F takes integer o6,integer DEF,integer n6 returns integer
if(DEF<o6)then
return o6
elseif(DEF>n6)then
return n6
endif
return DEF
endfunction
function I8F takes unit it,integer o6 returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer UP=GetUnitUserData(h8[O5])
local integer I9F
if(IsUnitAlly(it,Z7[0]))then
if(((o6==-1)and((hj[256+UP]==18)or(hj[UP]==10)))or(o6==0))then
set I9F=9+P24
call AY7(it,I7F(11,I9F,17))
elseif(((o6==-1)and((hj[256+UP]==40)or(hj[UP]==30)))or(o6==1))then
set I9F=29+P_4
call AY7(it,I7F(31,I9F,39))
elseif(((o6==-1)and((hj[256+UP]==60)or(hj[UP]==50)))or(o6==2))then
set I9F=49+Q44
call AY7(it,I7F(51,I9F,59))
endif
else
set UP=hj[512+UP]
if(((o6==-1)and((hj[256+UP]==118)or(hj[UP]==110)))or(o6==0))then
set I9F=117-P24
call AY7(it,I7F(111,I9F,117))
elseif(((o6==-1)and((hj[256+UP]==140)or(hj[UP]==130)))or(o6==1))then
set I9F=139-P_4
call AY7(it,I7F(131,I9F,139))
elseif(((o6==-1)and((hj[256+UP]==160)or(hj[UP]==150)))or(o6==2))then
set I9F=159-Q44
call AY7(it,I7F(151,I9F,159))
endif
endif
endfunction
function IDF takes unit it,unit IEF returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer i1=GetUnitTypeId(it)
local real QH7=Bz+10
if(i1!=1211117642)then
set h9[16+O5]=TJ7(it)
set h9[O5]=TJ7(it)
call Q17(it,O5)
set G0[32+O5]=true
set GZ[O5]=false
set G0[48+O5]=false
set G0[O5]=false
set GZ[160+O5]=false
set hq[864+O5]=GetRandomReal(-EV7,EV7)
call SaveBoolean(L7,GetHandleId(it),1145131595,false)
call RemoveSavedHandle(L7,GetHandleId(it),1145131595)
if Bz>QD4 then
call EnableTrigger(Q04[128+O5])
endif
endif
call RemoveGuardPosition(it)
loop
exitwhen((GetUnitLifePercent(it)>95.)and(GetUnitManaPercent(it)>95.)and(Bz>QH7 or(Bz>K07[160+O5])))
if(((PU4)and(IsUnitAlly(it,Z7[0])))or((PV4)and(IsUnitAlly(it,A7[0]))))then
exitwhen((GetUnitLifePercent(it)>75.)and(GetUnitManaPercent(it)>25.))
endif
if(not SE7(it))then
set eY[O5]=1
exitwhen true
endif
if(IsUnitInRange(it,IEF,600.))then
call SetUnitLifePercentBJ(it,RMinBJ(GetUnitLifePercent(it)+5.,100.))
call SetUnitManaPercentBJ(it,RMinBJ(GetUnitManaPercent(it)+5.,100.))
if(is(it))then
call IssueTargetOrderById(it,851971,IEF)
endif
elseif(not SE7(IEF))then
exitwhen true
endif
call TriggerSleepAction(1.)
endloop
endfunction
function IFF takes integer O5,unit IGF,unit IHF,unit IIF returns boolean
local integer i=0
local boolean S37=false
set bj_lastReplacedUnit=null
if(O5==0)then
set bj_lastReplacedUnit=IGF
elseif(O5==1)then
set bj_lastReplacedUnit=IHF
elseif(O5==2)then
set bj_lastReplacedUnit=IIF
else
return false
endif
set i=UQ7(GetHandleId(bj_lastReplacedUnit),"AI|TowerDef_Require")
if(i>0)then
call TT7(GetHandleId(bj_lastReplacedUnit),"AI|TowerDef_Require",i-1)
return true
endif
return false
endfunction
function IJF takes unit AX7 returns boolean
call MoveLocation(Ha,GetUnitX(AX7),GetUnitY(AX7))
return((SR7(1800.,Ha,Condition(function WA7))-(SR7(1400.,Ha,Condition(function WZ7))*4))>5)
endfunction
function IKF takes nothing returns nothing
local integer i=1
local integer j=0
loop
exitwhen j>10
if(EC7[112+j]!=0)then
set EC7[144+j]=R2I(Bz)+FC7
endif
set EC7[112+j]=0
set EC7[128+j]=0
set j=j+1
endloop
set i=1
loop
exitwhen i>11
if(M7[i]!=null)then
call RM7(i)
endif
set i=i+1
endloop
set i=1
loop
exitwhen i>5
set j=GetPlayerId(Z7[i])
if((eY[80+j]==3)and(eY[64+j]<3))or(eY[64+j]==5)then
set EC7[112+eY[64+j]]=EC7[112+eY[64+j]]+1
else
set EC7[112+eY[80+j]]=EC7[112+eY[80+j]]+1
endif
if eY[32+j]>0 then
set EC7[128+eY[80+j]]=EC7[128+eY[80+j]]+1
endif
set j=GetPlayerId(A7[i])
if((eY[80+j]==4)and(eY[64+j]<3))or(eY[64+j]==5)then
set EC7[112+6+eY[64+j]]=EC7[112+6+eY[64+j]]+1
else
set EC7[112+6+eY[80+j]]=EC7[112+6+eY[80+j]]+1
endif
if eY[32+j]>0 then
set EC7[128+6+eY[80+j]]=EC7[128+6+eY[80+j]]+1
endif
set i=i+1
endloop
endfunction
function IMF takes unit it returns integer
local integer j=3
local integer O5=GetPlayerId(GetOwningPlayer(it))
if(G3>=0)then
set j=G3
elseif(GetHeroLevel(it)<6)then
set j=eY[64+O5]
elseif(GetHeroLevel(it)>=PC4)then
if(PV4 and EC7[64+O5]>=0)then
set j=PZ7(EC7[64+O5]==3,0,EC7[64+O5])
elseif(G1>=0)then
set j=G1
endif
endif
if(j==3)then
set bj_lastLoadedUnit=it
if(IFF(P14,JL4,J54,K44))then
set j=0
elseif(IFF(P54,J14,J24,K74))then
set j=2
elseif(IFF(P04,J64,J04,J_4))then
set j=1
elseif(IC(O5))then
if(EC7[112+6+0]==1)then
set j=0
elseif(EC7[112+6+1]==1)then
if((EC7[112+6+2]==0)or(GetRandomInt(1,2)==1))then
set j=1
else
set j=2
endif
endif
elseif(((EC7[112+6+0]==0)and(EC7[128+0]>0))or((EC7[128+0]-EC7[112+6+0])>1))then
set j=0
elseif((EC7[128+1]-EC7[112+6+1])>1)then
set j=1
elseif((EC7[128+2]-EC7[112+6+2])>1)then
set j=2
elseif((EC7[112+6+1]==0)and(EC7[128+1]>0))then
if((EC7[112+6+2]>0)or(EC7[128+2]==0)or(GetRandomInt(1,2)==1))then
set j=1
else
set j=2
endif
elseif((EC7[112+6+2]==0)and(EC7[128+2]>0))then
set j=2
elseif(EC7[112+6+0]==0)then
set j=0
elseif(EC7[112+6+1]==0)then
if((EC7[112+6+2]>0)or(GetRandomInt(1,2)==1))then
set j=1
else
set j=2
endif
elseif(EC7[112+6+2]==0)then
set j=2
endif
elseif((GetHeroLevel(it)>13)and(G3<0)and(G1>=0)and(j==G1)and((EC7[128+j])-EC7[112+6+j]>=0))then
if((j!=0)and(P14>=2)and(IJF(h7[17])))then
set j=0
elseif((j!=1)and(P04>=2)and(IJF(h7[39])))then
set j=1
elseif((j!=2)and(P54>=2)and(IJF(h7[59])))then
set j=2
endif
endif
if(j>=3)then
set j=eY[64+O5]
if(j>=3)then
set j=GetRandomInt(0,2)
endif
endif
return j
endfunction
function INF takes unit PI7 returns nothing
local unit SG7=null
local integer O5=GetPlayerId(GetOwningPlayer(PI7))
local integer i
local boolean J4=false
local integer Q37=PZ7(IsUnitAlly(PI7,Z7[0]),0,24)
set hq[528+O5]=Bz+5.
if((is(PI7))and(not SH7(PI7))and(not G0[32+O5]))and(h4[O5]==null)then
call GroupClear(H8)
set bj_lastLoadedUnit=PI7
call GroupEnumUnitsInRange(H8,GetUnitX(PI7),GetUnitY(PI7),700.,EL7)
set i=(U27(H8))
if G0[48+O5]and Bz>hq[768+O5]then
set J4=(i>2)
if not J4 then
set G0[48+O5]=false
endif
if not J4 then
else
endif
endif
if(not J4)and S47(PI7)then
set bj_lastLoadedUnit=PV7(IsUnitAlly(PI7,Z7[0]),IZ4,JA4)
set EJ7=RH7(PI7,bj_lastLoadedUnit)
if G0[240+O5]then
if(EJ7>3500.)then
call T47(PI7,851986,h9[O5])
set J4=true
else
set G0[240+O5]=false
endif
endif
if(not J4)then
if(EJ7>6000.)then
call T47(PI7,851986,h9[O5])
elseif EJ7<700. and i>0 then
set J4=T47(PI7,851983,h8[64+O5])
else
if(not J4)and(E37[Q37+EC7[64+O5]]==E37[Q37+4+EC7[64+O5]])then
set SG7=E37[Q37+4+EC7[64+O5]]
if SG7!=null and GetWidgetLife(SG7)>.405 then
set J4=IssueTargetOrderById(PI7,851983,SG7)
endif
endif
if(not J4)and G0[224+O5]then
set SG7=E37[48+O5]
if SG7!=null and GetWidgetLife(SG7)>.405 then
set J4=IssueTargetOrderById(PI7,851983,SG7)
endif
if not J4 then
set G0[224+O5]=false
endif
endif
if not J4 then
set SG7=E37[Q37+EC7[64+O5]]
if SG7!=null and GetWidgetLife(SG7)>.405 then
set J4=IssueTargetOrderById(PI7,851983,SG7)
endif
endif
if not J4 then
set SG7=E37[Q37+16+EC7[64+O5]]
if SG7==null or GetWidgetLife(SG7)<.405 then
set SG7=FirstOfGroup(H8)
if SG7!=null then
set E37[Q37+16+EC7[64+O5]]=SG7
else
set SG7=E37[Q37+12+EC7[64+O5]]
if SG7==null or GetWidgetLife(SG7)<.405 then
set SG7=h8[64+O5]
endif
endif
endif
if(RH7(PI7,SG7)>FR7)then
set J4=T47(PI7,851986,SG7)
elseif GetUnitCurrentOrder(PI7)!=851983 then
set J4=T47(PI7,851983,SG7)
endif
endif
endif
endif
endif
endif
set PI7=null
set SG7=null
endfunction
function IOF takes unit IPF,integer O5,boolean IQF returns nothing
local integer j
local integer Q37
set G0[32+O5]=false
set G0[352+O5]=false
if(IQF)then
set Q37=PZ7(IsUnitAlly(IPF,Z7[0]),0,24)
if EC7[64+O5]>=0 and EC7[Q37+EC7[64+O5]]>FG7 then
set eY[O5]=PZ7((not GZ[480+O5]),3,4)
else
set j=QB7(IsUnitAlly(IPF,Z7[0]))
if j!=-1 then
set EC7[64+O5]=j
set EC7[Q37+8+j]=EC7[Q37+8+j]-1
set EC7[Q37+12+j]=EC7[Q37+12+j]+1
call Q17(IPF,O5)
set eY[O5]=PZ7((not GZ[480+O5]),3,4)
endif
endif
endif
if(eY[O5]==3 or eY[O5]==4)then
call INF(IPF)
else
if(Bz>QD4)and(is(IPF))then
call T47(IPF,851983,h8[O5])
endif
set eY[O5]=1
endif
endfunction
function IRF takes integer ISF,integer ITF returns integer
if((PE4)or((PH4)and(PF4)))then
return 0
elseif((PG4)and(PF4))then
return 1
elseif((PG4)and(PH4))then
return 2
elseif((ITF>15)or((ISF==0)and(not PG4))or((ISF==1)and(not PH4))or((ISF==2)and(not PF4)))then
return ISF
elseif((not PG4)and(((PH4)and(PF4))or(GetRandomInt(1,2)==1)))then
return 0
elseif((not PH4)and((PF4)or(GetRandomInt(1,2)==1)))then
return 1
elseif(not PF4)then
return 2
endif
return GetRandomInt(0,2)
endfunction
function IUF takes unit it returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer j=0
if(GetUnitTypeId(it)!=1211117642)then
if(eY[O5]==2)then
set it=null
return
else
set eY[O5]=2
set h8[O5]=h7[111]
endif
endif
call IDF(it,JA4)
if(GetUnitTypeId(it)!=1211117642)then
if Bz>QD4 then
set j=eY[64+O5]
set eY[64+O5]=5
call IKF()
endif
set eY[64+O5]=j
set j=IRF(IMF(it),GetHeroLevel(it))
if(j==0)then
set h8[O5]=h7[111]
set h8[16+O5]=h7[114]
elseif(j==1)then
set h8[O5]=h7[131]
set h8[16+O5]=h7[135]
else
set h8[O5]=h7[151]
set h8[16+O5]=h7[155]
endif
set eY[64+O5]=j
set hq[576+O5]=Bz+FA7
call IOF(it,O5,PV4)
endif
set it=null
endfunction
function IVF takes nothing returns nothing
call IUF(GetTriggerUnit())
endfunction
function IWF takes unit it returns integer
local integer j=3
local integer O5=GetPlayerId(GetOwningPlayer(it))
if(G4>=0)then
set j=G4
elseif(GetHeroLevel(it)<6)then
set j=eY[64+O5]
elseif(GetHeroLevel(it)>=PB4)then
if(PU4 and EC7[64+O5]>=0)then
set j=PZ7(EC7[64+O5]==3,0,EC7[64+O5])
elseif(G1>=0)then
set j=G2
endif
endif
if(j==3)then
set bj_lastLoadedUnit=it
if(IFF(P34,JH4,JK4,JO4))then
set j=0
elseif(IFF(P64,JG4,JJ4,JN4))then
set j=1
elseif(IFF(PL4,JI4,JM4,JP4))then
set j=2
elseif(IC(O5))then
if(EC7[112+0]==1)then
set j=0
elseif(EC7[112+1]==1)then
if((EC7[112+2]==0)or(GetRandomInt(1,2)==1))then
set j=1
else
set j=2
endif
endif
elseif(((EC7[112+0]==0)and(EC7[128+6+0]>0))or((EC7[128+6+0]-EC7[112+0])>1))then
set j=0
elseif((EC7[128+6+1]-EC7[112+1])>1)then
set j=1
elseif((EC7[128+6+2]-EC7[112+2])>1)then
set j=2
elseif((EC7[112+1]==0)and(EC7[128+6+1]>0))then
if((EC7[112+2]>0)or(EC7[128+6+2]==0)or(GetRandomInt(1,2)==1))then
set j=1
else
set j=2
endif
elseif((EC7[112+2]==0)and(EC7[128+6+2]>0))then
set j=2
elseif(EC7[112+0]==0)then
set j=0
elseif(EC7[112+1]==0)then
if((EC7[112+2]>0)or(GetRandomInt(1,2)==1))then
set j=1
else
set j=2
endif
elseif(EC7[112+2]==0)then
set j=2
endif
elseif((GetHeroLevel(it)>13)and(G4<0)and(G2>=0)and(j==G2)and((EC7[128+6+j]-EC7[112+j])>=0))then
if((j!=0)and(P34>=2)and(IJF(h7[11])))then
set j=0
elseif((j!=1)and(P64>=2)and(IJF(h7[31])))then
set j=1
elseif((j!=2)and(PL4>=2)and(IJF(h7[51])))then
set j=2
endif
endif
if(j>=3)then
set j=eY[64+O5]
if(j>=3)then
set j=GetRandomInt(0,2)
endif
endif
return j
endfunction
function IXF takes unit it returns nothing
local integer j=0
local integer O5=GetPlayerId(GetOwningPlayer(it))
if(GetUnitTypeId(it)!=1211117642)then
if(eY[O5]==2)then
set it=null
return
else
set eY[O5]=2
set h8[O5]=h7[11]
endif
endif
call IDF(it,IZ4)
if(GetUnitTypeId(it)!=1211117642)then
if Bz>QD4 then
set j=eY[64+O5]
set eY[64+O5]=5
call IKF()
endif
set eY[64+O5]=j
set j=IRF(IWF(it),GetHeroLevel(it))
if(j==0)then
set h8[O5]=h7[11]
set h8[16+O5]=h7[14]
elseif(j==1)then
set h8[O5]=h7[31]
set h8[16+O5]=h7[35]
else
set h8[O5]=h7[51]
set h8[16+O5]=h7[55]
endif
set eY[64+O5]=j
set hq[576+O5]=Bz+FA7
call IOF(it,O5,PU4)
endif
set it=null
endfunction
function IYF takes nothing returns nothing
call IXF(GetTriggerUnit())
endfunction
function IZF takes nothing returns nothing
local unit it=UE7(GetHandleId(GetTriggeringTrigger()),"u")
call DisableTrigger(GetTriggeringTrigger())
if IsUnitAlly(it,Z7[0])then
if(RH7(it,IZ4)<700)then
call IXF(it)
endif
else
if(RH7(it,JA4)<700)then
call IUF(it)
endif
endif
set it=null
endfunction
function IAF takes integer O5,boolean QC7 returns nothing
local integer i=1
local integer IBF=PZ7(QC7,0,6)
local integer Q37=PZ7(QC7,0,24)
if(eY[O5]==3 and Z27(Player(O5))and GetWidgetLife(M7[O5])>.405)then
set G0[48+O5]=false
if GetUnitLifePercent(M7[O5])<70. or GetUnitManaPercent(M7[O5])<50. then
set eY[O5]=1
set G0[352+O5]=true
call VA7(M7[O5],true)
call TX7(R44,"OB|U",M7[O5])
call ExecuteFunc("ICF")
else
if(RI7(GetUnitX(M7[O5]),GetUnitY(M7[O5]),E67[Q37],E67[Q37+1])<12000.)then
if(h9[16+O5]==h7[35])then
set h8[16+O5]=h7[35]
set h8[O5]=h7[35]
elseif(h9[16+O5]==h7[55])then
set h8[16+O5]=h7[55]
set h8[O5]=h7[55]
elseif(h9[16+O5]==h7[14])then
set h8[16+O5]=h7[14]
set h8[O5]=h7[14]
elseif(RI7(GetUnitX(M7[O5]),GetUnitY(M7[O5]),E67[Q37],E67[Q37+1])>5000.)then
if(eY[80+O5]==0)then
set h8[16+O5]=h7[14]
set h8[O5]=h7[14]
elseif(eY[80+O5]==1)then
set h8[16+O5]=h7[35]
set h8[O5]=h7[35]
elseif(eY[80+O5]==2)then
set h8[16+O5]=h7[55]
set h8[O5]=h7[55]
endif
endif
set h9[16+O5]=TJ7(M7[O5])
set h9[O5]=TJ7(M7[O5])
endif
if(is(M7[O5]))then
call T47(M7[O5],851983,h8[O5])
endif
set eY[O5]=1
endif
endif
endfunction
function I3F takes boolean QC7 returns boolean
local group g=CreateGroup()
local unit PI7=null
local integer O5=0
local integer IBF=PZ7(QC7,0,6)
local integer Q37=PZ7(QC7,0,24)
local integer i
local integer j
local boolean bIsDef=false
set i=0
loop
exitwhen i>18
set EC7[Q37+i]=0
set i=i+1
endloop
set EC7[Q37+19]=-1
set EC7[Q37+20]=-1
set EC7[Q37+21]=-1
set EC7[Q37+22]=-1
set EC7[Q37+23]=-1
call GroupEnumUnitsInRange(g,E67[Q37],E67[Q37+1],6000.,Q24)
loop
set PI7=FirstOfGroup(g)
exitwhen PI7==null
call GroupRemoveUnit(g,PI7)
set O5=GetPlayerId(GetOwningPlayer(PI7))
set i=GetUnitTypeId(PI7)
if((GetUnitAbilityLevel(PI7,1093678162)!=0 and((i==1970107511 or i==1966092370)or(i==1700946284 or i==1697657398))==false)or GetUnitAbilityLevel(PI7,1097625443)!=0 or GetWidgetLife(PI7)<50.)then
elseif(IsUnitAlly(PI7,Z7[0])==QC7)or O5==12 or O5>14 then
elseif not(IsUnitType(PI7,UNIT_TYPE_MELEE_ATTACKER)or IsUnitType(PI7,UNIT_TYPE_RANGED_ATTACKER))then
else
set j=-1
if(QC7 and(PW4==false or PL4>2 or P34>2 or P64>2))or(QC7==false and(PX4==false or P54>2 or P14>2 or P04>2))then
if RI7(GetUnitX(PI7),GetUnitY(PI7),E67[Q37+2],E67[Q37+3])<=1400. then
set j=3
endif
endif
if j==-1 then
set i=R2I(Atan2(GetUnitY(PI7)-E67[Q37+1],GetUnitX(PI7)-E67[Q37])*bj_RADTODEG)
if i>360 then
set i=i-360
elseif i<0 then
set i=i+360
endif
if QC7 then
if i<25 and PL4>=2 then
set j=2
elseif i>65 and P64>=2 then
set j=1
elseif P34>=2 then
set j=0
endif
else
if i>245 and P54>=2 then
set j=2
elseif i<205 and P04>=2 then
set j=1
elseif P14>=2 then
set j=0
endif
endif
endif
if j!=-1 and((j!=0 or(not PG4))and(j!=1 or(not PH4))and(j!=2 or(not PF4)))then
set i=GetUnitTypeId(PI7)
if IsUnitType(PI7,UNIT_TYPE_HERO)and i!=1211117642 then
set EC7[Q37+4+j]=EC7[Q37+4+j]+1
set EC7[Q37+19+O5-IBF-1]=j
set EC7[Q37+j]=EC7[Q37+j]+FF7
if(E37[Q37+12+j]==null or GetWidgetLife(E37[Q37+12+j])<.405)or(GetWidgetLife(PI7)<GetWidgetLife(E37[Q37+12+j]))then
set E37[Q37+12+j]=PI7
endif
elseif O5!=GetPlayerId(Z7[0])and O5!=GetPlayerId(A7[0])then
set EC7[Q37+j]=EC7[Q37+j]+3
else
if(i==1969711215 or i==1970169187)or(i==1966092337 or i==1966092338)or(i==1702061422 or i==1701081721)or(i==1697656918 or i==1697656919)then
set EC7[Q37+j]=EC7[Q37+j]+1
if E37[Q37+16+j]==null or GetWidgetLife(E37[Q37+16+j])<.405 then
set E37[Q37+16+j]=PI7
endif
elseif(i==1970107511 or i==1966092370)or(i==1700946284 or i==1697657398)then
set EC7[Q37+j]=EC7[Q37+j]+3
if E37[Q37+4+j]==null or GetWidgetLife(E37[Q37+4+j])<.405 then
set E37[Q37+4+j]=PI7
endif
else
set EC7[Q37+j]=EC7[Q37+j]+5
if E37[Q37+8+j]==null or GetWidgetLife(E37[Q37+8+j])<.405 then
set E37[Q37+8+j]=PI7
endif
endif
endif
endif
endif
endloop
call DestroyGroup(g)
set g=null
if((QC7 and PU4)or((not QC7)and PV4))then
if EC7[Q37+0]<=FG7 and EC7[Q37+1]<=FG7 and EC7[Q37+2]<=FG7 and EC7[Q37+3]<=FG7 then
return false
endif
endif
if QC7 then
if PL4>2 and EC7[Q37+2]>FG7 then
set EC7[Q37+2]=EC7[Q37+2]+FH7
endif
if P64>2 and EC7[Q37+1]>FG7 then
set EC7[Q37+1]=EC7[Q37+1]+FH7
endif
if P34>2 and EC7[Q37+0]>FG7 then
set EC7[Q37+0]=EC7[Q37+0]+FH7
endif
if GetWidgetLife(JQ4)<.405 and EC7[Q37+3]>FG7 then
set EC7[Q37+3]=EC7[Q37+3]+FH7
endif
if GetWidgetLife(JR4)<.405 and EC7[Q37+3]>FG7 then
set EC7[Q37+3]=EC7[Q37+3]+FH7
endif
else
if P54>2 and EC7[Q37+2]>FG7 then
set EC7[Q37+2]=EC7[Q37+2]+FH7
endif
if P04>2 and EC7[Q37+1]>FG7 then
set EC7[Q37+1]=EC7[Q37+1]+FH7
endif
if P14>2 and EC7[Q37+0]>FG7 then
set EC7[Q37+0]=EC7[Q37+0]+FH7
endif
if GetWidgetLife(K84)<.405 and EC7[Q37+3]>FG7 then
set EC7[Q37+3]=EC7[Q37+3]+FH7
endif
if GetWidgetLife(K94)<.405 and EC7[Q37+3]>FG7 then
set EC7[Q37+3]=EC7[Q37+3]+FH7
endif
endif
if EC7[Q37+0]<=FE7 and EC7[Q37+1]<=FE7 and EC7[Q37+2]<=FE7 and EC7[Q37+3]<=FE7 then
return false
endif
set j=0
set i=0
loop
exitwhen j>4
set EC7[Q37+8+j]=EC7[Q37+4+j]
if GetWidgetLife(E37[Q37+12+j])>.405 then
elseif GetWidgetLife(E37[Q37+4+j])>.405 then
set E37[Q37+j]=E37[Q37+4+j]
elseif GetWidgetLife(E37[Q37+8+j])>.405 then
set E37[Q37+j]=E37[Q37+8+j]
else
if GetWidgetLife(E37[Q37+12+j])>.405 then
set E37[Q37+j]=E37[Q37+12+j]
else
set E37[Q37+j]=null
endif
endif
set j=j+1
endloop
if QC7 then
if EC7[Q37+1]>FG7 and EC7[Q37+9]==0 then
set EC7[Q37+9]=1
endif
if EC7[Q37+0]>FG7 and EC7[Q37+8]==0 then
set EC7[Q37+8]=1
endif
if EC7[Q37+2]>FG7 and EC7[Q37+10]==0 then
set EC7[Q37+10]=1
endif
set hD=IMaxBJ(1,EC7[Q37+4]+EC7[Q37+5]+EC7[Q37+6]+EC7[Q37+7])
else
if EC7[Q37+1]>FG7 and EC7[Q37+9]==0 then
set EC7[Q37+9]=1
endif
if EC7[Q37+0]>FG7 and EC7[Q37+8]==0 then
set EC7[Q37+8]=1
endif
if EC7[Q37+2]>FG7 and EC7[Q37+10]==0 then
set EC7[Q37+10]=1
endif
set hE=IMaxBJ(1,EC7[Q37+4]+EC7[Q37+5]+EC7[Q37+6]+EC7[Q37+7])
endif
if EC7[Q37+3]>FG7 and EC7[Q37+11]==0 then
set EC7[Q37+11]=1
endif
set i=1
loop
exitwhen i>5
set O5=EC7[80+IBF+i]
if(O5!=-1)and(eY[O5]==2 or eY[O5]==3 or eY[O5]==4)==false and(SH7(M7[O5])or GetWidgetLife(M7[O5])<.405)==false then
set EC7[48+IBF+i]=EC7[80+IBF+i]
else
set EC7[48+IBF+i]=-1
endif
set EC7[96+O5]=0
set i=i+1
endloop
set i=1
loop
exitwhen i>5
set O5=EC7[80+IBF+i]
if(O5!=-1)and M7[O5]!=null then
if(eY[O5]==3 or eY[O5]==4)and EC7[64+O5]!=-1 and(SH7(M7[O5])or GetWidgetLife(M7[O5])<.405)==false then
if EC7[Q37+8+EC7[64+O5]]>0 then
set EC7[48+IBF+i]=-1
set EC7[Q37+8+EC7[64+O5]]=EC7[Q37+8+EC7[64+O5]]-1
set EC7[Q37+12+EC7[64+O5]]=EC7[Q37+12+EC7[64+O5]]+1
else
set EC7[48+IBF+i]=O5
endif
endif
endif
set i=i+1
endloop
if EC7[Q37+11]>0 and EC7[Q37+15]==0 then
set i=1
loop
exitwhen i>10
if i>5 then
set j=j-5
else
set j=i
endif
set O5=EC7[80+IBF+j]
if(O5!=-1)and(EC7[48+IBF+j]==-1)then
if(eY[O5]==3 or eY[O5]==4)and((EC7[48+IBF+j]!=-1)or(EC7[64+O5]==-1)or(EC7[Q37+8+EC7[64+O5]]<=0)or((EC7[Q37+12+EC7[64+O5]]>1)or(i>5)))then
set EC7[64+O5]=3
set EC7[Q37+11]=EC7[Q37+11]-1
set EC7[Q37+15]=EC7[Q37+15]+1
set EC7[96+O5]=1
endif
endif
set EC7[96+O5]=0
set i=i+1
endloop
endif
set i=1
loop
exitwhen i>5
set O5=EC7[48+IBF+i]
if O5!=-1 and(eY[O5]==3 or eY[O5]==4)then
set j=QB7(QC7)
if j==-1 then
set bj_forLoopAIndex=0
set bj_forLoopBIndex=FG7
loop
exitwhen bj_forLoopAIndex>3
if EC7[Q37+bj_forLoopAIndex]>bj_forLoopBIndex and EC7[Q37+8+j]>-1 then
set bj_forLoopBIndex=EC7[Q37+bj_forLoopAIndex]
set j=bj_forLoopAIndex
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endif
if j!=-1 then
if j!=EC7[64+O5]then
set G0[240+O5]=true
set EC7[96+O5]=1
set EC7[64+O5]=j
endif
set EC7[Q37+8+j]=EC7[Q37+8+j]-1
set EC7[Q37+12+j]=EC7[Q37+12+j]+1
set EC7[48+IBF+i]=-1
else
call IAF(O5,QC7)
endif
endif
set i=i+1
endloop
if EC7[Q37+8]<=0 and EC7[Q37+9]<=0 and EC7[Q37+10]<=0 and EC7[Q37+11]<=0 then
return true
endif
set i=1
loop
exitwhen i>5
set O5=EC7[48+IBF+i]
if(O5!=-1)then
set j=RK7(M7[O5])
if EC7[Q37+8+j]+EC7[Q37+12+j]>0 then
set EC7[Q37+8+j]=EC7[Q37+8+j]-1
set EC7[Q37+12+j]=EC7[Q37+12+j]+1
set EC7[64+O5]=j
set EC7[96+O5]=1
set EC7[48+IBF+i]=-1
endif
endif
set i=i+1
endloop
set i=1
loop
exitwhen i>5 or(EC7[Q37+8]<=0 and EC7[Q37+9]<=0 and EC7[Q37+10]<=0 and EC7[Q37+11]<=0)
set O5=EC7[48+IBF+i]
if(O5!=-1)then
if Bz>hq[528+O5]then
set EJ7=RI7(GetUnitX(M7[O5]),GetUnitY(M7[O5]),E67[Q37],E67[Q37+1])
if EJ7<=12000 then
set j=QB7(QC7)
if j!=-1 then
if EJ7>5000 then
set G0[240+O5]=true
endif
set EC7[Q37+8+j]=EC7[Q37+8+j]-1
set EC7[Q37+12+j]=EC7[Q37+12+j]+1
set EC7[64+O5]=j
set EC7[96+O5]=1
set EC7[48+IBF+i]=-1
endif
endif
endif
endif
set i=i+1
endloop
set i=1
loop
exitwhen i>5 or(EC7[Q37+8]<=0 and EC7[Q37+9]<=0 and EC7[Q37+10]<=0 and EC7[Q37+11]<=0)
set O5=EC7[48+IBF+i]
if(O5!=-1)then
if true and RI7(GetUnitX(M7[O5]),GetUnitY(M7[O5]),E67[PZ7(QC7,24,0)],E67[PZ7(QC7,25,1)])>6000 then
set j=QB7(QC7)
if j!=-1 then
set EC7[Q37+8+j]=EC7[Q37+8+j]-1
set EC7[Q37+12+j]=EC7[Q37+12+j]+1
set EC7[64+O5]=j
set EC7[96+O5]=1
set EC7[48+IBF+i]=-1
endif
endif
endif
set i=i+1
endloop
set bj_forLoopAIndex=EC7[Q37+4]+EC7[Q37+5]+EC7[Q37+6]+EC7[Q37+7]
if(bj_forLoopAIndex>=PZ7(QC7,HC4,HB4)-1 and bj_forLoopAIndex>=3)then
set i=1
loop
exitwhen i>5
set O5=EC7[80+IBF+i]
if(O5!=-1)and M7[O5]!=null then
if GetWidgetLife(M7[O5])<.405 then
if((TimerGetRemaining(U[O5])>20.)and(TimerGetElapsed(U[O5])>4.))then
set j=0
loop
exitwhen NM4[j]==GetEnumUnit()or j>NP4
set j=j+1
endloop
if NM4[j]!=null and GetUnitAbilityLevel(KU4[O5],1093808213)==0 then
if IssueImmediateOrderById(KU4[O5],W9[O5])then
set j=QB7(QC7)
if j!=-1 then
set EC7[Q37+8+j]=EC7[Q37+8+j]-1
set EC7[Q37+12+j]=EC7[Q37+12+j]+1
set EC7[64+O5]=j
set EC7[96+O5]=1
endif
endif
endif
endif
endif
endif
set i=i+1
endloop
endif
if QC7 then
set EP7=X7
else
set EP7=Y7
endif
set i=1
loop
exitwhen i>5
if QC7 then
set O5=GetPlayerId(Z7[i])
else
set O5=GetPlayerId(A7[i])
endif
if Z27(Player(O5))and EC7[96+O5]!=0 then
call Q17(M7[O5],O5)
call J3(M7[O5],S47(M7[O5]))
call VY7(M7[O5],EP7)
if eY[O5]==3 or eY[O5]==4 then
call VT7(M7[O5],EP7,GetObjectName(1496330549)+QY7(EC7[64+O5],true))
else
call VT7(M7[O5],EP7,GetObjectName(1496330548)+QY7(EC7[64+O5],true))
endif
set eY[O5]=3
set EC7[96+O5]=0
endif
set i=i+1
endloop
set PI7=null
set EP7=null
return true
endfunction
function I6F takes boolean QC7 returns boolean
local unit PI7=GetTriggerUnit()
local integer O5=GetPlayerId(GetOwningPlayer(PI7))
local integer IBF=PZ7(QC7,0,6)
local integer Q37=PZ7(QC7,0,24)
local integer i
local integer j
if((QC7 and P64<2 and P34<2 and PL4<2)or(QC7==false and P04<2 and P14<2 and P54<2))then
return false
elseif O5!=GetPlayerId(Z7[0])and O5!=GetPlayerId(A7[0])then
return false
elseif(IsUnitAlly(PI7,Z7[0])==QC7)or WG7(PI7)==false then
return false
endif
set i=R2I(Atan2(GetUnitY(PI7)-E67[Q37+1],GetUnitX(PI7)-E67[Q37])*bj_RADTODEG)
set j=-1
if i>360 then
set i=i-360
elseif i<0 then
set i=i+360
endif
if QC7 then
if i<25 and PL4>=2 then
set j=2
elseif i>65 and P64>=2 then
set j=1
elseif P34>=2 then
set j=0
endif
else
if i>245 and P54>=2 then
set j=2
elseif i<205 and P04>=2 then
set j=1
elseif P14>=2 then
set j=0
endif
endif
if j==-1 then
return false
endif
return I3F(QC7)
endfunction
function ILF takes boolean QC7 returns nothing
local integer i=1
local integer O5
loop
exitwhen i>5
if QC7 then
set O5=GetPlayerId(Z7[i])
else
set O5=GetPlayerId(A7[i])
endif
call IAF(O5,QC7)
set i=i+1
endloop
endfunction
function I1F takes nothing returns boolean
if I6F(false)then
call DisableTrigger(Q64)
call EnableTrigger(Q14)
set PV4=true
endif
return false
endfunction
function I0F takes nothing returns boolean
if not I3F(false)then
call EnableTrigger(Q64)
call DisableTrigger(Q14)
set PV4=false
call ILF(false)
endif
return false
endfunction
function I5F takes nothing returns boolean
if I6F(true)then
call DisableTrigger(Q34)
call EnableTrigger(QL4)
set PU4=true
endif
return false
endfunction
function I2F takes nothing returns boolean
if not I3F(true)then
call EnableTrigger(Q34)
call DisableTrigger(QL4)
set PU4=false
call ILF(true)
endif
return false
endfunction
function TRv takes nothing returns boolean
if((IsUnitEnemy(GetFilterUnit(),Z7[0]))and(WH7(GetFilterUnit()))and((IsUnitVisible(GetFilterUnit(),Z7[0]))or(GetOwningPlayer(GetFilterUnit())==A7[0]))and(GetWidgetLife(GetFilterUnit())>.405))then
if(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and(GetUnitLifePercent(GetFilterUnit())>30.))then
set hD=hD+1
endif
return true
endif
return false
endfunction
function I_F takes nothing returns boolean
return((not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(GetWidgetLife(GetFilterUnit())>.405)and(WG7(GetFilterUnit())))
endfunction
function J4F takes real K1,unit u returns unit
local unit AU7=null
local unit J7F=null
local boolexpr Ig=Condition(function I_F)
local real IW=RH7(u,h9[16+GetPlayerId(GetOwningPlayer(u))])
local real J8F
call GroupClear(iE)
call GroupEnumUnitsInRange(iE,GetUnitX(u),GetUnitY(u),K1,Ig)
loop
set AU7=FirstOfGroup(iE)
exitwhen(AU7==null)
if((IsUnitVisible(AU7,GetOwningPlayer(u)))and(AU7!=u))then
set J8F=RH7(AU7,h9[16+GetPlayerId(GetOwningPlayer(u))])
if(J8F<IW)then
set J7F=AU7
set IW=J8F
endif
endif
call GroupRemoveUnit(iE,AU7)
endloop
call DestroyBoolExpr(Ig)
set Ig=null
set AU7=null
set hr=J7F
set J7F=null
return hr
endfunction
function J9F takes nothing returns boolean
return((IsHeroUnitId(GetUnitTypeId(GetFilterUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetFilterUnit()!=GetEnumUnit()))
endfunction
function JDF takes unit it returns integer
local integer i1=GetUnitTypeId(it)
if((i1==1164207469)or(i1==1332766568)or(i1==1328558160)or(i1==1211117616)or(i1==1212363833)or(i1==1315988077)or(i1==1332179560)or(i1==1429221441)or(SU7(it,ZU[R2]))or(SU7(it,ZU[Y0])))then
return 3
elseif(kq(i1))then
return 2
else
return 1
endif
endfunction
function JEF takes real K1,unit u returns unit
local unit AU7=null
local unit J7F=null
local boolexpr Ig=Condition(function J9F)
local real JFF=0
local real JGF=0
call GroupClear(iE)
call GroupEnumUnitsInRange(iE,GetUnitX(u),GetUnitY(u),K1,Ig)
loop
set AU7=FirstOfGroup(iE)
exitwhen(AU7==null)
set JFF=GetUnitState(AU7,UNIT_STATE_LIFE)
if(GetUnitLifePercent(AU7)<60.)then
elseif((J7F==null)or(JDF(AU7)>JDF(J7F)))then
set J7F=AU7
set JGF=JFF
elseif((JDF(AU7)==JDF(J7F))and(JGF<JFF))then
set J7F=AU7
set JGF=JFF
endif
call GroupRemoveUnit(iE,AU7)
endloop
call DestroyBoolExpr(Ig)
set Ig=null
set AU7=null
set hr=J7F
set J7F=null
return hr
endfunction
function JHF takes unit it,boolean J2 returns boolean
local integer kt=GetUnitAbilityLevel(it,1093684302)
local real kl=GetUnitFacing(it)*bj_DEGTORAD
local real JIF=GetUnitX(it)+(350.+I2R(50*kt))*Cos(kl)
local real JJF=GetUnitY(it)+(350.+I2R(50*kt))*Sin(kl)
if((kJ(JIF,JJF))and((J2)or(RI7(JIF,JJF,GetUnitX(h9[16+GetPlayerId(GetOwningPlayer(it))]),GetUnitY(h9[16+GetPlayerId(GetOwningPlayer(it))]))<RH7(it,h9[16+GetPlayerId(GetOwningPlayer(it))]))))then
set GZ[GetPlayerId(GetOwningPlayer(it))]=true
return J8(GetPlayerId(GetOwningPlayer(it)),TG7(it,852129,1093684302))
endif
return false
endfunction
function JKF takes unit it,boolean J2 returns boolean
local integer kt=GetUnitAbilityLevel(it,1093749303)
local real kl=GetUnitFacing(it)*bj_DEGTORAD
local real JIF=GetUnitX(it)+(300.+I2R(100*kt))*Cos(kl)
local real JJF=GetUnitY(it)+(300.+I2R(100*kt))*Sin(kl)
if((kJ(JIF,JJF))and((J2)or(RI7(JIF,JJF,GetUnitX(h9[16+GetPlayerId(GetOwningPlayer(it))]),GetUnitY(h9[16+GetPlayerId(GetOwningPlayer(it))]))<RH7(it,h9[16+GetPlayerId(GetOwningPlayer(it))]))))then
set GZ[GetPlayerId(GetOwningPlayer(it))]=true
return J8(GetPlayerId(GetOwningPlayer(it)),IssueImmediateOrderById(it,852600))
endif
return false
endfunction
function JMF takes unit it returns boolean
local integer i1=GetUnitTypeId(it)
local boolean J4=false
local location b5=null
local unit m5=null
local integer O5=GetPlayerId(GetOwningPlayer(it))
if(RH7(it,h9[16+O5])<600)or(GetUnitLifePercent(it)>80 and G0[144+O5])then
return false
endif
if G0[288+O5]then
set G0[288+O5]=false
set i1=eY[400+O5]
set G0[304+O5]=true
endif
if(i1==1162032181)then
set b5=kk(it,I2R(400+(200*GetUnitAbilityLevel(it,1093684299))),h9[16+O5])
set J4=(b5!=null)and(IssuePointOrderByIdLoc(it,852218,b5))
elseif((i1==1430466609)or(i1==1164207469))then
set b5=kk(it,800.,h9[16+O5])
set J4=(b5!=null)and(IssuePointOrderByIdLoc(it,852525,b5))
elseif((i1==1165451634)or(i1==1212365106))then
if(i1==1165451634)then
set EJ7=600+GetUnitAbilityLevel(it,1093685324)*100
else
set EJ7=700.
endif
set m5=J4F(EJ7,it)
if((m5!=null)and(it!=m5))then
set J4=(kJ(GetUnitX(m5),GetUnitY(m5)))and(not IsUnitInRange(m5,it,400.))and(IssueTargetOrderById(it,852600,m5))
endif
elseif(i1==1429221451)then
set b5=kk(it,I2R(280+(100*GetUnitAbilityLevel(it,1093678671))),h9[16+O5])
set J4=(b5!=null)and(IssuePointOrderByIdLoc(it,852218,b5))
elseif(i1==1328558160)then
set b5=kk(it,600.,h9[16+O5])
if(b5!=null)then
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093682766,true)
set GZ[O5]=true
if(GetUnitLifePercent(it)<48.)then
set J4=J8(O5,IssuePointOrderByIdLoc(it,852218,b5))
endif
endif
elseif(i1==1430466865)then
set b5=kk(it,800.,h9[16+O5])
if(b5!=null)and(Bz>TC4[32+O5])then
set J4=T87(it,852218,1093751364,b5)
endif
elseif(i1==1311781206)then
set J4=JHF(it,false)
elseif(i1==1160786502)then
set b5=kk(it,550.,h9[16+O5])
if(b5!=null)then
if(GetUnitLifePercent(it)<35.)then
set GZ[O5]=true
set J4=J8(O5,IssuePointOrderByIdLoc(it,852600,b5))
endif
endif
if((not J4)and(GetUnitLifePercent(it)<35.))then
set J4=IssueImmediateOrderById(it,852662)
endif
elseif(i1==1211117651)then
if(GetUnitManaPercent(it)>15.)then
set b5=kk(it,1200.,h9[16+O5])
if(b5!=null)then
set J4=T87(it,852218,1093743695,b5)
endif
if not J4 then
set b5=kk(it,600.,h9[16+O5])
if(b5!=null)then
set J4=T87(it,852218,1093743695,b5)
endif
endif
if J4 then
set h9[O5]=h9[16+O5]
endif
endif
elseif(i1==1311788336)then
if(GetUnitState(it,UNIT_STATE_MANA)>100.)and(LoadInteger(L7,GetHandleId(it),(747))>0)and(not UX7(it,"AI|EmberEscape"))then
set b5=kk(it,1500.,h9[16+O5])
if(b5!=null)then
set J4=IssuePointOrderByIdLoc(it,852490,b5)
endif
if not J4 then
set b5=kk(it,600.,h9[16+O5])
if(b5!=null)then
set J4=IssuePointOrderByIdLoc(it,852490,b5)
endif
endif
if J4 then
set h9[O5]=h9[16+O5]
call UZ7(it,"AI|EmberEscape")
endif
endif
elseif(i1==1160786738)then
if GetUnitAbilityLevel(it,1093813555)!=0 then
set b5=kk(it,600+200*GetUnitAbilityLevel(it,1093813555),h9[16+O5])
if(b5!=null)and(ZV7(b5,300))then
set J4=IssuePointOrderById(it,852662,GetDestructableX(WW4),GetDestructableY(WW4))
endif
if(not J4)then
set b5=kk(it,800.,h9[16+O5])
if(b5!=null)and(ZV7(b5,300))then
set J4=IssuePointOrderById(it,852662,GetDestructableX(WW4),GetDestructableY(WW4))
endif
endif
endif
elseif(i1==1211119409)then
set J4=JKF(it,false)
elseif(i1==1328558406)then
set m5=J4F(1800.,it)
if((m5!=null)and(it!=m5))then
set J4=(kJ(GetUnitX(m5),GetUnitY(m5)))and(not IsUnitInRange(m5,it,1000.))and(T77(it,852119,1093751873,m5))
endif
endif
if(i1==1160786520)and(not J4)and(hq[816+O5]>Bz)then
set G0[288+O5]=true
set J4=JMF(it)
set G0[304+O5]=false
endif
if(not J4)and(not G0[304+O5])then
set bj_lastLoadedUnit=it
if(not J4)and((SU7(it,ZU[Y0]))and(SH7(it))and(SS7(800.,it,Condition(function WU7))>0))then
set GZ[224+O5]=true
set J4=(i1!=1164277357)and(UnitUseItem(it,bj_lastCreatedItem))
set GZ[224+O5]=false
endif
if(not J4)and(SU7(it,ZU[RW]))then
set b5=kk(it,700.,h9[16+O5])
set J4=(b5!=null)and(UnitUseItemPointLoc(it,bj_lastCreatedItem,b5))
endif
if(not J4)and(SU7(it,ZU[DU4]))then
if RF7(it,h9[16+O5],20)then
set b5=kk(it,600.,h9[16+O5])
set J4=(b5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,it))
if J4 then
set h9[O5]=h9[16+O5]
endif
elseif(RF7(it,h9[O5],20))and(h9[O5]!=h9[16+O5])then
set b5=kk(it,600.,h9[O5])
set J4=(b5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,it))
endif
endif
endif
set b5=null
set m5=null
return J4
endfunction
function JNF takes nothing returns boolean
if(((GetOwningPlayer(GetFilterUnit())==Z7[0])or(GetOwningPlayer(GetFilterUnit())==A7[0]))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(hr)))and(GetWidgetLife(GetFilterUnit())>.405))then
if(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)and(true))then
set hF=hF+1
endif
return true
endif
return false
endfunction
function JOF takes real JPF,unit it,boolean JQF,boolean JRF returns integer
local real JSF
local real JTF
local real JIF=GetUnitX(it)
local real JJF=GetUnitY(it)
local integer kc=0
local integer UP=0
local integer O5=GetPlayerId(GetOwningPlayer(it))
if(JPF>0)then
set JSF=Bz+JPF
loop
set JTF=JSF-Bz
exitwhen JTF<=0
call TriggerSleepAction(0.5)
set hr=it
if((GetWidgetLife(it)<=.405)or(GetUnitCurrentOrder(it)==851983)or(not is(it)))then
set JSF=Bz
elseif(not JRF)then
set GT7=LoadUnitHandle(L7,(GetHandleId(it)),(652))
set GU7=UE7((GetHandleId(it)),"AI|TetherSource")
if S47(it)and(not SH7(it))then
if(GT7!=null)and(not IsUnitInRange(it,GT7,700)and(IsUnitType(GT7,UNIT_TYPE_HERO)))then
call T47(it,851986,GT7)
elseif(GU7!=null)and(not IsUnitInRange(it,GU7,700))then
call T47(it,851986,GU7)
else
call T47(it,851986,h9[O5])
endif
endif
set hF=0
set UP=SS7(700.,it,Condition(function JNF))
if((JPF-JTF>1.)and(hF>0))then
set JSF=Bz
set kc=2
elseif((JQF)and(JPF-JTF>1.)and(UP>1))then
set JSF=Bz
set kc=1
elseif(((JPF-JTF>2.)or((JPF-JTF>1.)and(JQF))))then
call MoveLocation(Ha,JIF,JJF)
if(SR7(700.,Ha,Condition(function JNF))>1)then
set JSF=Bz
set kc=3
endif
elseif((JPF-JTF>=2.)and(iy(it)))then
set JSF=Bz
set kc=1
endif
endif
endloop
endif
return kc
endfunction
function JUF takes nothing returns nothing
local unit it=UE7(GetHandleId(GetTriggeringTrigger()),"Unit")
local integer O5=GetPlayerId(GetOwningPlayer(it))
local boolean CWE=GZ[512+O5]
local integer JVF
if SI7(O5)then
return
endif
set G0[48+O5]=true
if(S47(it))then
call T47(it,851986,h9[O5])
endif
if(GetUnitTypeId(it)==1211117642)then
call TriggerSleepAction(1.)
set JVF=0
elseif eY[O5]==11 then
set JVF=JOF(1.,it,true,false)
elseif(CWE)then
set JVF=JOF(5.,it,true,false)
else
set JVF=JOF(3.,it,false,false)
endif
set G0[48+O5]=false
if((GetWidgetLife(it)<=.405)or(not is(it)))then
elseif(not S47(it))then
elseif((JVF==2)and(not SH7(it))and(not G0[32+O5]))then
call IssueImmediateOrderById(it,851993)
elseif((CWE)or(JVF==3))then
if((not SH7(it))and(not G0[32+O5])and(G0[128+O5]))then
call T47(it,851983,h8[O5])
else
call VA7(it,false)
endif
endif
set it=null
endfunction
function JWF takes unit it returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer UP=GetUnitUserData(h8[O5])
local integer I9F=0
local real AT7=0.
if(IsUnitAlly(it,Z7[0]))then
if((hj[256+UP]==18)or(hj[UP]==10))then
set I9F=11+P24
if(UP>I9F)then
call I8F(it,0)
endif
elseif((hj[256+UP]==40)or(hj[UP]==30))then
set I9F=31+P_4
if(UP>I9F)then
call I8F(it,1)
endif
elseif((hj[256+UP]==60)or(hj[UP]==50))then
set I9F=51+Q44
if(UP>I9F)then
call I8F(it,2)
endif
endif
else
set UP=hj[512+UP]
if((hj[256+UP]==118)or(hj[UP]==110))then
set I9F=119-P24
if(UP>I9F)then
call I8F(it,0)
endif
elseif((hj[256+UP]==140)or(hj[UP]==130))then
set I9F=141-P_4
if(UP>I9F)then
call I8F(it,1)
endif
elseif((hj[256+UP]==160)or(hj[UP]==150))then
set I9F=161-Q44
if(UP>I9F)then
call I8F(it,2)
endif
endif
endif
if false and((eY[O5]==1)and(h4[O5]!=null)and((not Id(O5))and(GetUnitLifePercent(it)<70.)))then
set AT7=RH7(it,h8[O5])
if(((AT7>2000.)and(RH7(it,TJ7(it))>RH7(h8[O5],TJ7(it))))or((AT7>1400.)and((GZ[400+O5])and(Bz>hq[544+O5]))))then
call CBE(O5,true)
call T47(it,851986,h9[O5])
call CVE(it,true)
endif
endif
endfunction
function JXF takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetTriggerUnit()))and(GetIssuedOrderId()>852000))
endfunction
function JYF takes nothing returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
set GZ[16+O5]=true
set eY[256+O5]=GetIssuedOrderId()
set hq[448+O5]=Bz+3.
endfunction
function JZF takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetFilterUnit()))and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function JAF takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitIllusion(GetFilterUnit()))and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function JBF takes unit PI7,unit SG7 returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(PI7))
local integer UP
local integer j
local integer k
local integer ISF=RJ7(GetUnitUserData(SG7))
local boolean QC7=IsUnitAlly(PI7,Z7[0])
set h4[144+O5]=null
set G0[32+O5]=false
set G0[160+O5]=false
set G0[176+O5]=false
set h4[O5]=null
set GZ[128+O5]=false
set eY[272+O5]=0
set UP=GetUnitUserData(SG7)
if IsUnitAlly(PI7,Z7[0])then
set UP=UP-1
else
set UP=UP+1
endif
set UP=HJF(UP,IsUnitAlly(PI7,Z7[0]),PH7(PI7))
set k=RK7(PI7)
if(RH7(PI7,TJ7(PI7))<5000.)then
if(ISF==0)then
set h8[O5]=h7[14]
set h8[16+O5]=h7[14]
elseif(ISF==1)then
set h8[O5]=h7[35]
set h8[16+O5]=h7[35]
else
set h8[O5]=h7[55]
set h8[16+O5]=h7[55]
endif
set eY[O5]=1
set h9[O5]=TJ7(PI7)
set h9[16+O5]=TJ7(PI7)
set hq[576+O5]=Bz+GE7
if S47(PI7)then
call T47(PI7,851983,h8[O5])
endif
return
endif
set h8[128+O5]=h7[UP]
set eY[288+O5]=ISF
if eY[288+O5]!=0 then
set eY[304+O5]=eY[288+O5]
else
set eY[304+O5]=k
if eY[304+O5]==0 then
set eY[304+O5]=GetRandomInt(1,2)
endif
endif
set UP=HJF(GetUnitUserData(h9[O5]),IsUnitAlly(PI7,Z7[0]),PH7(PI7))
set h8[48+O5]=h7[UP]
set UP=HMF(O5,UP,eY[304+O5],QC7)
set h8[32+O5]=h7[UP]
set eY[O5]=9
set hq[576+O5]=Bz+GE7
set hq[592+O5]=Bz+FU7
set G0[176+O5]=((not S97(PI7))and(h8[48+O5]==h8[32+O5]))
set eY[208+O5]=GetUnitUserData(SG7)
set h8[144+O5]=SG7
if S47(PI7)then
if h8[48+O5]!=h8[32+O5]or G0[176+O5]then
call T47(PI7,851983,h8[48+O5])
else
call T47(PI7,851983,h9[O5])
endif
endif
endfunction
function JCF takes unit PI7,unit SG7 returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(PI7))
local integer V37=GetPlayerId(GetOwningPlayer(SG7))
local boolean QC7=IsUnitAlly(PI7,Z7[0])
local integer UP
local integer J3F
local integer ISF=RJ7(GetUnitUserData(SG7))
local integer i
call CVE(M7[O5],false)
set G0[160+O5]=true
set h4[144+O5]=M7[V37]
set G0[32+O5]=false
set h4[O5]=null
set GZ[128+O5]=false
set G0[192+O5]=false
set G0[208+O5]=true
set hq[640+O5]=Bz+FS7
set h8[96+O5]=SG7
set h8[160+O5]=h8[80+V37]
set eY[288+O5]=RK7(SG7)
if eY[288+O5]!=0 then
set eY[304+O5]=eY[288+O5]
else
set eY[304+O5]=RK7(PI7)
if eY[304+O5]==0 then
set eY[304+O5]=GetRandomInt(1,2)
endif
endif
set eY[272+O5]=1
set J3F=HJF(GetUnitUserData(h8[80+V37])+PZ7(QC7,1,-1),QC7,PH7(PI7))
set h8[112+O5]=h7[J3F]
set UP=GetUnitUserData(h8[80+O5])
set J3F=HMF(O5,UP,eY[304+O5],QC7)
set h8[32+O5]=h7[J3F]
set h8[48+O5]=h8[32+O5]
set UP=RK7(PI7)
set i=PZ7(IsUnitAlly(PI7,Z7[0]),-1,1)
if(UP==0)then
if(RH7(PI7,TJ7(PI7))>RH7(h7[14],TJ7(PI7)))then
set h8[48+O5]=h7[14+i]
endif
elseif(UP==1)then
if(RH7(PI7,TJ7(PI7))>RH7(h7[34],TJ7(PI7)))then
set h8[48+O5]=h7[34+i]
endif
elseif(UP==2)then
if(RH7(PI7,TJ7(PI7))>RH7(h7[57],TJ7(PI7)))then
set h8[48+O5]=h7[57+i]
endif
endif
set UP=GetUnitUserData(h8[112+O5])
if(QC7)then
if((hj[256+UP]==18)or(hj[UP]==10))then
set i=IMaxBJ(10+P24,11)
elseif((hj[256+UP]==40)or(hj[UP]==30))then
set i=IMaxBJ(30+P_4,31)
else
set i=IMaxBJ(50+Q44,51)
endif
else
set UP=hj[512+UP]
if((hj[256+UP]==118)or(hj[UP]==110))then
set i=IMaxBJ(118-P24,111)
elseif((hj[256+UP]==140)or(hj[UP]==130))then
set i=IMaxBJ(140-P_4,131)
else
set i=IMaxBJ(160-Q44,151)
endif
endif
set h8[128+O5]=h7[i]
set eY[O5]=9
set hq[576+O5]=Bz+GE7
set hq[592+O5]=Bz+FU7
set G0[176+O5]=((not S97(PI7))and(h8[48+O5]==h8[32+O5]))
if S47(PI7)and GetUnitCurrentOrder(PI7)==851983 then
if h8[48+O5]!=h8[32+O5]or G0[176+O5]then
call T47(PI7,851983,h8[48+O5])
else
call T47(PI7,851983,h9[O5])
endif
endif
endfunction
function J6F takes nothing returns nothing
local unit it=GetEnumUnit()
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer i1=GetUnitTypeId(it)
local real JLF=GetUnitX(it)
local real J1F=GetUnitY(it)
if(i1==1211117642)then
if(GetPlayerController(GetOwningPlayer(it))==MAP_CONTROL_COMPUTER)then
call J3(it,false)
endif
return
endif
if(GetPlayerController(GetOwningPlayer(it))==MAP_CONTROL_COMPUTER)then
if((GetHeroSkillPoints(it)>0)and(Bz>QD4)and(S47(it)))then
call ExecuteFunc("DOF")
endif
if((RH7(it,h8[O5])<150.)and(h8[O5]!=h7[1])and(h8[O5]!=h7[101]))then
if(IsUnitAlly(it,Z7[0]))then
set hF=GetUnitUserData(h8[O5])
else
set hF=hj[512+GetUnitUserData(h8[O5])]
endif
if(hF>0)then
call AY7(it,hF)
elseif(h8[O5]!=h9[O5])then
set h8[O5]=h9[O5]
else
set h8[O5]=TJ7(it)
endif
elseif(eY[O5]==1)then
call JWF(it)
endif
if(PE4)then
set hF=GetUnitUserData(h8[O5])
if(((hF>30)and(hF<40))or((hF>50)and(hF<60)))then
call I8F(it,0)
endif
endif
if((h4[80+O5]!=null)and(GetWidgetLife(h4[80+O5])<=.405))then
set h4[80+O5]=null
endif
if((h4[96+O5]!=null)and(GetWidgetLife(h4[96+O5])<=.405))then
set h4[96+O5]=null
endif
if((h4[128+O5]!=null)and((GetWidgetLife(h4[128+O5])<=.405)))then
set h4[128+O5]=null
endif
if((h4[160+O5]!=null)and((GetWidgetLife(h4[160+O5])<=.405)or(not IsUnitInRange(it,h4[160+O5],1000.))))then
set h4[160+O5]=null
endif
if((h4[48+O5]!=null)and(((eY[O5]!=3)and(eY[O5]!=4))or(GetWidgetLife(h4[48+O5])<=.405)))then
set h4[48+O5]=null
endif
if((RI7(JLF,J1F,GetLocationX(HC[32+O5]),GetLocationY(HC[32+O5]))<20.)and(Bz>QD4))then
set G0[48+O5]=false
if(eY[O5]!=2)then
if((GZ[144+O5])and(S47(it))and(SS7(700.,it,Condition(function KX))==0)and(((eY[O5]!=9 or eY[272+O5]!=3)and eY[O5]!=10 and eY[O5]!=11)or(SS7(700.,it,Condition(function KA))==0)))then
call ExecuteFunc("J0F")
else
set GZ[144+O5]=true
if((eY[O5]==3)or(eY[O5]==4))then
call Q17(it,O5)
endif
if(iU(it))then
call J3(it,true)
endif
endif
elseif((GetUnitLifePercent(it)>90)and(GetUnitManaPercent(it)>90))then
if(GZ[144+O5])then
if(IsUnitAlly(it,Z7[0]))then
call IOF(it,O5,PU4)
else
call IOF(it,O5,PV4)
endif
else
set GZ[144+O5]=true
endif
endif
elseif(GZ[144+O5])then
set GZ[144+O5]=false
endif
call MoveLocation(HC[32+O5],JLF,J1F)
if((eY[O5]==10)and(hq[432+O5]<Bz))then
set eY[O5]=1
set h4[64+O5]=null
endif
if((GZ[480+O5])and(eY[O5]!=4)and(eY[O5]!=2))then
set GZ[480+O5]=false
endif
if((GZ[16+O5])and(hq[448+O5]<Bz)and(eY[256+O5]==GetUnitCurrentOrder(it)))then
call J3(it,true)
set GZ[16+O5]=false
endif
elseif((GetPlayerController(GetOwningPlayer(it))==MAP_CONTROL_NONE)and(IsUnitInForce(it,QX4)))then
if((is(it))and(GetUnitCurrentOrder(it)!=851983))then
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1097690998,true)
call SetPlayerController(GetOwningPlayer(it),MAP_CONTROL_COMPUTER)
call J3(it,true)
endif
endif
set GZ[32+O5]=false
set GZ[400+O5]=false
endfunction
function J5F takes nothing returns nothing
local integer O5=1
local integer V87
local integer i=0
local integer j=0
local real J2F
local real J_F
local boolean K4F=false
local string K7F=""
local boolean K8F=(Bz>QD4)
local boolean K9F=(Bz>QD4)
set O5=1
loop
exitwhen O5>11
if O5==6 then
set O5=7
endif
if(GetPlayerSlotState(Player(O5))==PLAYER_SLOT_STATE_PLAYING)then
call GroupClear(iE)
call GroupEnumUnitsOfPlayer(iE,Player(O5),ip)
call ForGroup(iE,function J6F)
if M7[O5]!=null then
set J2F=2+GetHeroAgi(M7[O5],true)*0.14
set J_F=1
set i=0
loop
exitwhen i>5
set j=GetItemTypeId(UnitItemInSlot(M7[O5],i))
if((j==ZU[UV])or(j==ZU[AL])or(j==ZU[B3])or(j==ZU[T1])or(j==ZU[NW])or(j==ZU[N3])or(j==ZU[J1])or(j==ZU[T2])or(j==ZU[DK4])or(j==ZU[DM4]))then
set J2F=J2F+5
elseif((j==ZU[SX])or(j==ZU[DH4])or(j==ZU[DP4]))then
set J2F=J2F+10
elseif(j==ZU[JB])then
set J_F=J_F+0.25
elseif(j==ZU[Z2])then
set J_F=J_F+0.3
endif
set i=i+1
endloop
set J2F=(0.06*J2F)/(1.+0.06*J2F)
set hq[752+O5]=(1/(1-J2F))*(J_F)
endif
if M7[O5]!=null and GetHeroLevel(M7[O5])<11 then
if IsPlayerAlly(Player(O5),Z7[0])then
set K9F=false
else
set K8F=false
endif
endif
endif
set O5=O5+1
endloop
if K8F and(not DR7)then
set DR7=true
set EN7=false
set O5=1
loop
exitwhen O5>5
if Z27(Z7[O5])then
set EN7=true
endif
set O5=O5+1
endloop
if EN7 then
set O5=1
loop
exitwhen O5>5
set V87=GetPlayerId(Z7[O5])
if DQ7[16+V87]then
set DQ7[16+V87]=false
call V97(IZ4,GetObjectName(1496331829)+"
"+GetObjectName(1497445941)+F57+GetObjectName(1496331830),Z7[O5])
endif
set O5=O5+1
endloop
endif
endif
if K9F and(not DS7)then
set DS7=true
set EN7=false
set O5=1
loop
exitwhen O5>5
if Z27(A7[O5])then
set EN7=true
endif
set O5=O5+1
endloop
if EN7 then
set O5=1
loop
exitwhen O5>5
set V87=GetPlayerId(A7[O5])
if DQ7[16+V87]then
set DQ7[16+V87]=false
call V97(JA4,GetObjectName(1496331829)+"
"+GetObjectName(1497445941)+F57+GetObjectName(1496331830),A7[O5])
endif
set O5=O5+1
endloop
endif
endif
if((G1==0)and(not Ev)and(not Av))then
set G1=GetRandomInt(1,2)
elseif((G1==1)and(not Rv)and(not av))then
if((Nv)or(Ov))then
set G1=2
else
set G1=-1
endif
elseif((G1==2)and(not Nv)and(not Ov))then
if((Rv)or(av))then
set G1=1
else
set G1=-1
endif
endif
if((G2==0)and(not Bv)and(not Dv))then
set G2=GetRandomInt(1,2)
elseif((G2==1)and(not bv)and(not Cv))then
if((cv)or(fv))then
set G2=2
else
set G2=-1
endif
elseif((G2==2)and(not cv)and(not fv))then
if((bv)or(Cv))then
set G2=1
else
set G2=-1
endif
endif
set GE7=FX7-FY7*Bz
if GE7<FZ7 then
set GE7=FZ7
endif
call IKF()
if PZ4 and G4==-1 then
set EP7=X7
set i=1
loop
exitwhen i>5
set O5=EC7[80+i]
if O5!=-1 and M7[O5]!=null and GetUnitLifePercent(M7[O5])>70. and eY[O5]==1 and h4[O5]==null and(eY[544+O5]==0 and Bz>hq[576+O5])and(GetHeroLevel(M7[O5])<PB4)and(GetHeroLevel(M7[O5])>=NW7)then
set j=IRF(IWF(M7[O5]),GetHeroLevel(M7[O5]))
if(j!=eY[64+O5])and(j==0 or eY[64+O5]==0)and((EC7[112+j]!=0)or(EC7[144+j]<Bz))then
set EC7[112+eY[64+O5]]=EC7[112+eY[64+O5]]-1
if(j==1)then
call JBF(M7[O5],h7[29+P_4])
call VT7(M7[O5],EP7,GetObjectName(1496330293))
elseif(j==2)then
call JBF(M7[O5],h7[49+Q44])
call VT7(M7[O5],EP7,GetObjectName(1496330294))
else
call JBF(M7[O5],h7[9+P24])
call VT7(M7[O5],EP7,GetObjectName(1496330292))
endif
call VY7(M7[O5],EP7)
set EC7[112+j]=EC7[112+j]+1
set eY[64+O5]=j
endif
endif
set i=i+1
endloop
endif
if PA4 and G3==-1 then
set EP7=Y7
set i=1
loop
exitwhen i>5
set O5=EC7[86+i]
if O5!=-1 and M7[O5]!=null and GetUnitLifePercent(M7[O5])>70. and eY[O5]==1 and h4[O5]==null and(eY[544+O5]==0 and Bz>hq[576+O5])and(GetHeroLevel(M7[O5])<PB4)and(GetHeroLevel(M7[O5])>=NW7)then
set j=IRF(IMF(M7[O5]),GetHeroLevel(M7[O5]))
if(j!=eY[64+O5])and(j==0 or eY[64+O5]==0)and((EC7[118+j]!=0)or(EC7[144+j]<Bz))then
set EC7[118+eY[64+O5]]=EC7[118+eY[64+O5]]-1
if(j==1)then
call JBF(M7[O5],h7[139-P_4])
call VT7(M7[O5],EP7,GetObjectName(1496330293))
elseif(j==2)then
call JBF(M7[O5],h7[159-Q44])
call VT7(M7[O5],EP7,GetObjectName(1496330294))
else
call JBF(M7[O5],h7[117-P24])
call VT7(M7[O5],EP7,GetObjectName(1496330292))
endif
call VY7(M7[O5],EP7)
set EC7[118+j]=EC7[118+j]+1
set eY[64+O5]=j
endif
endif
set i=i+1
endloop
endif
set O5=1
loop
exitwhen O5>11
if O5==6 then
set O5=7
endif
if(GetPlayerSlotState(Player(O5))==PLAYER_SLOT_STATE_PLAYING)then
set K4F=false
if M7[O5]!=null and GetWidgetLife(M7[O5])>.405 then
if S97(M7[O5])then
if h4[176+O5]==null or RH7(M7[O5],h4[176+O5])>3000. or GetWidgetLife(h4[176+O5])>0 then
set FW7=null
set i=1
loop
exitwhen FW7!=null or i>5
if IsPlayerAlly(Player(O5),Z7[0])then
set V87=GetPlayerId(A7[i])
else
set V87=GetPlayerId(Z7[i])
endif
if M7[V87]!=null and GetWidgetLife(M7[V87])>.405 and Z27(Player(V87))then
if RH7(M7[V87],M7[O5])<1800. then
set FW7=M7[V87]
endif
endif
set i=i+1
endloop
if FW7!=null then
set h4[176+O5]=FW7
endif
endif
set E67[48+O5]=GetUnitX(M7[O5])
set E67[64+O5]=GetUnitY(M7[O5])
set eY[336+O5]=eY[80+O5]
if eY[240+O5]<R2I(Bz)then
set FW7=h4[176+O5]
if FW7==null then
set FW7=h4[192+O5]
endif
if FW7!=null then
set V87=GetPlayerId(GetOwningPlayer(FW7))
set K4F=true
set K7F="|r"+Q[V87]+KZ4[V87]+GetObjectName(1496331064)+QY7(eY[80+O5],true)+" - "+Q[O5]+GetUnitName(M7[O5])+"|r"
set h4[192+O5]=null
endif
endif
set eY[240+O5]=R2I(Bz)+FV7
elseif eY[240+O5]<R2I(Bz)and h4[176+O5]!=null then
set V87=GetPlayerId(GetOwningPlayer(h4[176+O5]))
set K4F=true
set K7F="|r"+Q[V87]+KZ4[V87]+GetObjectName(1496331065)+QY7(eY[336+V87],true)+" - "+Q[O5]+GetUnitName(M7[O5])+"|r"
set h4[192+O5]=h4[176+O5]
set h4[176+O5]=null
endif
else
set h4[176+O5]=null
endif
if K4F then
call TriggerSleepAction(0.4)
if IsPlayerAlly(Player(O5),Z7[0])then
set EP7=Y7
else
set EP7=X7
endif
if DQ7[16+GetPlayerId(GetLocalPlayer())]and IsPlayerInForce(GetLocalPlayer(),EP7)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,10.,K7F)
call VX7(EP7,E67[48+O5],E67[64+O5],V87)
endif
endif
endif
set O5=O5+1
endloop
set EP7=null
endfunction
function KDF takes integer O5,unit PI7,unit KEF,boolean KFF returns boolean
local boolean S37=false
if(not S37)and((GetUnitAbilityLevel(PI7,1093677391)>0)and(Bz>TC4[32+O5]))then
set S37=IssuePointOrderById(PI7,852525,GetUnitX(KEF)+GetRandomReal(-200.,200.),GetUnitY(KEF)+GetRandomReal(-200.,200.))
endif
if(not S37)and KFF and(GetUnitAbilityLevel(PI7,1093683257)>0 and(Bz>TC4[O5]))then
set bj_lastLoadedUnit=KEF
set bj_lastReplacedUnit=SQ7(800.,S_7(KEF),Condition(function WU7))
if(bj_lastReplacedUnit!=null)then
set S37=IssueImmediateOrderById(PI7,852490)
endif
endif
if(not S37)and KFF and(GetUnitAbilityLevel(PI7,1093685808)>0 and(Bz>TC4[O5]))then
set S37=IssuePointOrderById(PI7,852600,GetUnitX(KEF),GetUnitY(KEF))
endif
if(not S37)and KFF and(GetUnitAbilityLevel(PI7,1093751874)>0 and(Bz>TC4[O5]))then
if(Bz>TC4[16+O5])then
set bj_lastReplacedUnit=YA7(1800.,PI7,false)
if bj_lastReplacedUnit!=null then
set S37=T77(PI7,852119,1093751873,bj_lastReplacedUnit)
set h8[160+O5]=KEF
endif
endif
if(not S37)then
set S37=IssuePointOrderById(PI7,852662,GetUnitX(KEF)+GetRandomReal(-200.,200.),GetUnitY(KEF)+GetRandomReal(-200.,200.))
endif
endif
set bj_lastLoadedUnit=KEF
if(not S37)and KFF and(GetPlayerController(GetOwningPlayer(KEF))==MAP_CONTROL_COMPUTER)and((GetUnitTypeId(KEF)==1214409837 and TG7(KEF,852180,1093742932))or((GetUnitAbilityLevel(KEF,1093742938)+GetUnitAbilityLevel(KEF,1093742677)+GetUnitAbilityLevel(KEF,1093742937))>0))and(SS7(800.,PI7,Condition(function WU7))==0)and(S47(KEF))and(S47(PI7))then
if(IssueTargetOrderById(KEF,852248,PI7))then
set S37=true
call CVE(PI7,true)
endif
endif
if(not S37)and(eY[224+O5]<R2I(Bz)and GetUnitState(PI7,UNIT_STATE_MANA)>EY7)then
set S37=V17(PI7,KEF)
endif
return S37
endfunction
function KGF takes unit PI7,boolean QC7,integer QZ7 returns integer
local unit KHF=null
local integer O5=0
local integer UP=0
local integer i=0
local integer EBF=0
local integer k=0
local real HAF=0
if UR7(GetHandleId(PI7),"AI|TowerDef_CountCD")>R2I(Bz)then
return UQ7(GetHandleId(PI7),"AI|TowerDef_Require")
endif
set EN7=false
set bj_lastLoadedUnit=null
set HAF=9999999
call GroupClear(H8)
call GroupEnumUnitsInRange(H8,GetUnitX(PI7),GetUnitY(PI7),1800.,Q24)
loop
set KHF=FirstOfGroup(H8)
exitwhen KHF==null
call GroupRemoveUnit(H8,KHF)
set O5=GetPlayerId(GetOwningPlayer(KHF))
set i=GetUnitTypeId(KHF)
if((GetUnitAbilityLevel(KHF,1093678162)!=0 and((i==1970107511 or i==1966092370)or(i==1700946284 or i==1697657398))==false)or GetUnitAbilityLevel(KHF,1097625443)!=0 or GetWidgetLife(KHF)<50.)then
elseif O5==12 or O5>14 then
elseif not(IsUnitType(KHF,UNIT_TYPE_MELEE_ATTACKER)or IsUnitType(KHF,UNIT_TYPE_RANGED_ATTACKER))then
else
set i=GetUnitTypeId(KHF)
set UP=0
if IsUnitType(KHF,UNIT_TYPE_HERO)and i!=1211117642 then
if(IsUnitAlly(KHF,Z7[0])==QC7)then
set EN7=true
set EJ7=RH7(PI7,KHF)
if EJ7<HAF and Z27(Player(O5))then
set bj_lastLoadedUnit=KHF
set HAF=EJ7
endif
else
set k=k+1
endif
elseif O5!=GetPlayerId(Z7[0])and O5!=GetPlayerId(A7[0])then
set UP=3
else
if(i==1969711215 or i==1970169187)or(i==1966092337 or i==1966092338)or(i==1702061422 or i==1701081721)or(i==1697656918 or i==1697656919)then
set UP=1
elseif(i==1970107511 or i==1966092370)or(i==1700946284 or i==1697657398)then
set UP=3
else
set UP=5
endif
endif
if(IsUnitAlly(KHF,Z7[0])==QC7)then
set EBF=EBF-UP
else
set EBF=EBF+UP
endif
endif
endloop
if QC7 then
set k=R2I(EH7*I2R(k))
else
set k=R2I(EG7*I2R(k))
endif
set EBF=EBF+IMaxBJ(600-R2I(GetWidgetLife(PI7)),0)/30
if(not EN7)and(k==0)and(EBF>FE7)then
set k=k+1
endif
call IKF()
set k=k-EC7[112+PZ7(QC7,0,6)+QZ7]
call TT7(GetHandleId(PI7),"AI|TowerDef_Require",k)
call TU7(GetHandleId(PI7),"AI|TowerDef_CountCD",Bz+1)
return k
endfunction
function KIF takes nothing returns nothing
local unit PI7=UE7(GetHandleId(GetTriggeringTrigger()),"Unit")
local unit KHF=null
local boolean QC7=IsUnitAlly(PI7,Z7[0])
local integer O5=0
local integer j=0
local integer i=0
local integer k=0
local integer EBF=0
local integer UP
local boolean S37=false
if(GetWidgetLife(PI7)<.405 or D19(PI7))or((not((QC7 and PZ4)or((not QC7)and PA4))))or(PE4)or(PI7==null)or(UR7(GetHandleId(PI7),"DefCD")>Bz)then
set PI7=null
return
endif
set j=UQ7(GetHandleId(PI7),"AI|Lane")
set k=KGF(PI7,QC7,j)
call TU7(GetHandleId(PI7),"DefCD",Bz+1.)
if k<=0 then
set PI7=null
return
endif
if bj_lastLoadedUnit!=null and GetWidgetLife(PI7)<FP7 then
if Bz>UR7(GetHandleId(PI7),"PingCD")then
call TU7(GetHandleId(PI7),"PingCD",Bz+30.)
if QC7 then
call VX7(X7,GetUnitX(PI7),GetUnitY(PI7),GetPlayerId(GetOwningPlayer(bj_lastLoadedUnit)))
else
call VX7(Y7,GetUnitX(PI7),GetUnitY(PI7),GetPlayerId(GetOwningPlayer(bj_lastLoadedUnit)))
endif
endif
endif
set KHF=h7[UQ7(GetHandleId(PI7),"AI|Wpt")]
set i=1
set EBF=PZ7(QC7,0,6)
set S37=false
loop
exitwhen(i>5)
set O5=EC7[80+EBF+i]
if O5!=-1 and GetPlayerController(Player(O5))==MAP_CONTROL_COMPUTER then
set EC7[96+O5]=0
set EC7[176+O5]=0
set UP=RK7(M7[O5])
set bj_lastLoadedUnit=M7[O5]
if(M7[O5]==null)or((eY[O5]!=1 or(GetUnitCurrentOrder(M7[O5])==851986 and G0[48+O5]==false))and eY[O5]!=10)or(IG4[O5])or(SH7(M7[O5]))then
elseif(UP==j)then
set eY[544+O5]=1
set h9[64+O5]=PI7
set hq[320+O5]=Bz+20.
elseif(eY[544+O5]!=0)or(eY[O5]==3 or eY[O5]==4)or(Bz<hq[528+O5])or(h4[O5]!=null)or(Z84[O5]==ZD4)or(GetHeroLevel(M7[O5])<FI7)or(GetUnitLifePercent(M7[O5])<50.)then
else
set EC7[96+O5]=1
endif
endif
set i=i+1
endloop
set i=1
loop
exitwhen(i>15 or k<=0)
if i>10 then
set O5=EC7[80+EBF+i-10]
elseif i>5 then
set O5=EC7[80+EBF+i-5]
else
set O5=EC7[80+EBF+i]
endif
if O5!=-1 and EC7[96+O5]==1 and GetPlayerController(Player(O5))==MAP_CONTROL_COMPUTER then
set UP=RK7(M7[O5])
if(i<5)and(Bz>hq[576+O5])then
elseif(i<=10)and((QC7 and((EC7[112+UP]-EC7[118+UP]<0)or(EC7[112+UP]<=1)))or((not QC7)and((EC7[118+UP]-EC7[112+UP]<0)or(EC7[118+UP]<=1))))then
elseif(EC7[176+O5]==0)then
set EC7[176+O5]=1
set bj_lastCreatedUnit=SQ7(1200.,S_7(M7[O5]),Condition(function ST7))
if((bj_lastCreatedUnit==null)or(GetWidgetLife(bj_lastCreatedUnit)>200.))then
set EN7=false
if(i<=10)and(eY[224+O5]<R2I(Bz)and GetUnitState(PI7,UNIT_STATE_MANA)>EY7)and SU7(PI7,YC)then
if(SS7(1500.,M7[O5],Condition(function WU7))==0)and(V17(M7[O5],PI7))then
call JBF(M7[O5],KHF)
else
call CVE(M7[O5],true)
set h8[144+O5]=PI7
endif
set EN7=true
endif
if(not EN7)and(i>10)then
set EN7=((j!=UP)and(j==0 or UP==0))
if(EN7)then
call JBF(M7[O5],KHF)
set h4[144+O5]=PI7
set h8[144+O5]=PI7
endif
endif
if(EN7)then
set k=k-1
set hq[528+O5]=Bz+10.
set eY[544+O5]=1
set h9[64+O5]=PI7
set EC7[112+EBF+UP]=EC7[112+EBF+UP]-1
if eY[O5]!=9 then
set eY[O5]=1
endif
set S37=true
endif
endif
endif
endif
set i=i+1
endloop
if S37 then
call TU7(GetHandleId(PI7),"DefCD",Bz+10.)
endif
set PI7=null
set KHF=null
endfunction
function KJF takes nothing returns boolean
return((GetWidgetLife(GetTriggerUnit())>50.)and(WG7(GetTriggerUnit()))and(IsUnitEnemy(GetTriggerUnit(),Z7[0])))
endfunction
function KKF takes nothing returns boolean
return((GetWidgetLife(GetTriggerUnit())>50.)and(WG7(GetTriggerUnit()))and(IsUnitEnemy(GetTriggerUnit(),A7[0])))
endfunction
function KMF takes unit PI7,integer KNF,integer QZ7 returns trigger
local trigger t=CreateTrigger()
if GetOwningPlayer(PI7)==Z7[0]then
call TriggerRegisterUnitInRange(t,PI7,1200.,Condition(function KJF))
call TT7(GetHandleId(PI7),"AI|WptClear",KNF+1)
else
call TriggerRegisterUnitInRange(t,PI7,1200.,Condition(function KKF))
call TT7(GetHandleId(PI7),"AI|WptClear",KNF-1)
endif
call TriggerAddAction(t,function KIF)
call TX7(GetHandleId(t),"Unit",PI7)
call TT7(GetHandleId(PI7),"AI|Wpt",KNF)
call TT7(GetHandleId(PI7),"AI|Lane",QZ7)
return t
endfunction
function KOF takes unit it returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer k=0
local integer EBF=0
local integer i=0
local integer j=0
local boolean KPF=false
local unit PI7=null
local player pl=GetOwningPlayer(it)
local boolean KQF=false
local integer KRF
local boolean KSF=false
local boolean S37=false
local boolean KTF=IsUnitInRange(it,TJ7(it),5000.)
local boolean KUF=false
set i=GetUnitTypeId(it)
if Z27(pl)and((i==1211117650)or(i==1211119433)or(i==1429221430)or(i==1433105516))then
set KUF=true
set GZ[O5]=true
endif
set i=0
set GZ[320+O5]=false
call GroupClear(H8)
call GroupClear(iA)
call GroupClear(H9)
call GroupEnumUnitsInRange(iA,GetUnitX(it),GetUnitY(it),1800.,null)
loop
set PI7=FirstOfGroup(iA)
exitwhen PI7==null
call GroupRemoveUnit(iA,PI7)
if not IsUnitIllusion(PI7)then
call GroupAddUnit(H8,PI7)
endif
if(not KQF)and IsUnitType(PI7,UNIT_TYPE_HERO)and IsUnitEnemy(PI7,pl)and GetWidgetLife(PI7)>.405 and eY[32+GetPlayerId(GetOwningPlayer(PI7))]>0 then
set KQF=true
call GroupEnumUnitsInRange(H9,GetUnitX(PI7),GetUnitY(PI7),1200.,null)
call GroupAddGroup(H9,H8)
endif
endloop
set h4[304+O5]=null
loop
set PI7=FirstOfGroup(H8)
exitwhen(PI7==null)
if(GetWidgetLife(PI7)<=.405)then
elseif SH7(PI7)then
elseif(IsUnitType(PI7,UNIT_TYPE_HERO))then
if(IsUnitEnemy(PI7,pl))then
if((not IsUnitInRange(it,PI7,600.))or(kD(PI7)))and(eY[32+GetPlayerId(GetOwningPlayer(PI7))]==0)then
elseif(GetUnitTypeId(PI7)!=1211117642)then
set EBF=EBF-1
set S37=true
if(KUF)and(GetUnitTypeId(PI7)==1333027688)then
set GZ[O5]=false
endif
elseif(not KSF)then
set KSF=true
endif
elseif IsUnitInRange(PI7,it,1200.)or KTF then
if((GetUnitTypeId(PI7)!=1211117642)and(not SH7(PI7)))then
set k=k+1
set i=i+1
endif
if IsUnitInRange(PI7,it,800)then
set GZ[320+O5]=true
endif
endif
elseif((IsUnitType(PI7,UNIT_TYPE_STRUCTURE)and IsUnitType(PI7,UNIT_TYPE_RANGED_ATTACKER))and(RH7(PI7,it)<800.)and(PH7(it)<2000.))then
if(IsUnitEnemy(PI7,pl))then
set j=j-1
set h4[304+O5]=PI7
elseif IsUnitAlly(PI7,pl)then
set j=j+1
endif
endif
call GroupRemoveUnit(H8,PI7)
endloop
if(KSF)then
set EBF=EBF-1
set KPF=true
endif
if not S37 then
set h4[304+O5]=null
endif
if IsPlayerAlly(pl,Z7[0])then
set eY[320+O5]=R2I(k*EG7+EBF*EH7)+j
set GZ[208+O5]=((R2I(i*EG7)>=3)and(k<=0))
else
set eY[320+O5]=R2I(k*EH7+EBF*EG7)+j
set GZ[208+O5]=((R2I(i*EH7)>=3)and(k<=0))
endif
return KPF
endfunction
function KVF takes unit it returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer kc=0
local boolean J4=false
local boolean KPF=false
local player pl=GetOwningPlayer(it)
local integer UP
set KPF=KOF(it)
if SI7(O5)then
set pl=null
return false
endif
if(RH7(it,TJ7(it))<600.)then
set kc=0
else
set kc=-eY[320+O5]
if(not G0[128+O5])then
set kc=kc+1
endif
if((GetUnitLifePercent(it)<70.)or(IC(O5)))then
set kc=kc+1
endif
if(eY[O5]==3 or eY[O5]==4)then
set kc=kc-1
endif
endif
set G0[144+O5]=KPF
if(kc>2)and(eY[O5]<9)and(h4[O5]==null or(not SF7(h4[O5],it)))then
set h4[O5]=null
set GZ[128+O5]=false
set G0[128+O5]=false
set G0[256+O5]=false
if h4[304+O5]==null or kc>=3 then
set hq[496+O5]=Bz+3.
else
set hq[496+O5]=Bz+1.
endif
if(is(it))then
call T47(it,851986,h9[O5])
endif
set J4=true
elseif kc>1 then
set G0[256+O5]=false
else
set G0[128+O5]=true
set G0[256+O5]=true
endif
set pl=null
return J4
endfunction
function KWF takes nothing returns boolean
return((not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(WG7(GetFilterUnit())))
endfunction
function KXF takes nothing returns nothing
local unit it=UE7(GetHandleId(GetTriggeringTrigger()),"Unit")
local unit m5=GetTriggerUnit()
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer UP
local string K7F
if(IsUnitType(m5,UNIT_TYPE_STRUCTURE))then
set UP=SS7(1250.,m5,Condition(function KWF))
if(eY[O5]==9)then
call AA7(it)
endif
if((GetHeroLevel(it)<6)or((PH7(it)<500)and(not Id(O5))and(Bz>hq[512+O5])))then
if((R2I(GetUnitState(it,UNIT_STATE_LIFE))<(400+(GetHeroLevel(it)*40)))and(UP<3))then
call CBE(O5,false)
set GZ[128+O5]=false
call CVE(it,false)
elseif((GetUnitLifePercent(m5)>20.)and((UP<1)or(((WI7(it))or(GetHeroLevel(it)<10))and(UP<2))))then
call CVE(it,true)
endif
elseif(SH7(it))then
call CBE(O5,false)
set GZ[128+O5]=false
call CVE(it,false)
endif
if(GetUnitAbilityLevel(m5,1098282348)>0)then
call I8F(it,-1)
else
set h4[128+O5]=m5
endif
elseif(IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitVisible(m5,Player(O5)))then
call KVF(it)
if(iy(it))then
set h4[160+O5]=m5
endif
set UP=GetPlayerId(GetOwningPlayer(m5))
if(Z27(Player(O5)))and(eY[240+UP]<R2I(Bz))then
set K7F="|r"+Q[O5]+KZ4[O5]+GetObjectName(1496331064)+QY7(RM7(O5),true)+" - "+Q[UP]+GetUnitName(m5)+"|r"
set h4[192+UP]=null
set eY[240+UP]=R2I(Bz)+FV7
call TriggerSleepAction(0.4)
if IsUnitAlly(it,Z7[0])then
set EP7=X7
else
set EP7=Y7
endif
if DQ7[16+GetPlayerId(GetLocalPlayer())]and IsPlayerInForce(GetLocalPlayer(),EP7)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,10.,K7F)
call VX7(EP7,GetUnitX(m5),GetUnitY(m5),O5)
endif
endif
endif
set it=null
set m5=null
endfunction
function KYF takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(SE7(GetTriggerUnit()))and(IsUnitAlly(GetTriggerUnit(),Z7[0])))
endfunction
function KZF takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(SE7(GetTriggerUnit()))and(IsUnitAlly(GetTriggerUnit(),A7[0])))
endfunction
function KAF takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE))and(SE7(GetTriggerUnit()))and(GetOwningPlayer(GetTriggerUnit())==Z7[0])and((GetUnitTypeId(GetTriggerUnit())==1697656914)or(GetUnitTypeId(GetTriggerUnit())==1697657137)or(GetUnitTypeId(GetTriggerUnit())==1697656915)or(GetUnitTypeId(GetTriggerUnit())==1697657145)))
endfunction
function KBF takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE))and(SE7(GetTriggerUnit()))and(GetOwningPlayer(GetTriggerUnit())==A7[0])and((GetUnitTypeId(GetTriggerUnit())==1966092365)or(GetUnitTypeId(GetTriggerUnit())==1966092356)or(GetUnitTypeId(GetTriggerUnit())==1966092366)or(GetUnitTypeId(GetTriggerUnit())==1966092372)))
endfunction
function KCF takes unit it returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(it))
if(Q04[32+O5]!=null)then
call TQ7(GetHandleId(Q04[32+O5]))
call DestroyTrigger(Q04[32+O5])
endif
set Q04[32+O5]=CreateTrigger()
call TX7(GetHandleId(Q04[32+O5]),"Unit",it)
if(IsUnitAlly(it,Z7[0]))then
call TriggerRegisterUnitInRange(Q04[32+O5],it,1000.,Condition(function KZF))
call TriggerRegisterUnitInRange(Q04[32+O5],it,1000.,Condition(function KBF))
else
call TriggerRegisterUnitInRange(Q04[32+O5],it,1000.,Condition(function KYF))
call TriggerRegisterUnitInRange(Q04[32+O5],it,1000.,Condition(function KAF))
endif
call TriggerAddAction(Q04[32+O5],function KXF)
if(Q04[64+O5]!=null)then
call TQ7(GetHandleId(Q04[64+O5]))
call DestroyTrigger(Q04[64+O5])
endif
set Q04[64+O5]=CreateTrigger()
call TX7(GetHandleId(Q04[64+O5]),"Unit",it)
call TriggerAddAction(Q04[64+O5],function JUF)
set Q04[128+O5]=CreateTrigger()
call TriggerRegisterTimerEvent(Q04[128+O5],30.,true)
call TriggerAddAction(Q04[128+O5],function IZF)
call TX7(GetHandleId(Q04[128+O5]),"u",it)
call DisableTrigger(Q04[128+O5])
endfunction
function K3F takes nothing returns nothing
call KOF(UE7(GetHandleId(GetTriggeringTrigger()),"Unit"))
endfunction
function L0E takes nothing returns nothing
local unit PI7=GetTriggerUnit()
local integer O5=GetPlayerId(GetOwningPlayer(PI7))
if(Q04[32+O5]!=null)then
call TQ7(GetHandleId(Q04[32+O5]))
call DestroyTrigger(Q04[32+O5])
endif
set Q04[32+O5]=CreateTrigger()
call TX7(GetHandleId(Q04[32+O5]),"Unit",PI7)
if(IsUnitAlly(PI7,Z7[0]))then
call TriggerRegisterUnitInRange(Q04[32+O5],PI7,1000.,Condition(function KZF))
else
call TriggerRegisterUnitInRange(Q04[32+O5],PI7,1000.,Condition(function KYF))
endif
call TriggerAddAction(Q04[32+O5],function K3F)
set PI7=null
endfunction
function xh takes nothing returns nothing
local trigger t=CreateTrigger()
local unit it=GetTriggerUnit()
call TX7(GetHandleId(t),"Unit",it)
if(IsUnitAlly(it,Z7[0]))then
call TriggerRegisterUnitInRange(t,it,1000.,Condition(function KZF))
call TriggerRegisterUnitInRange(t,it,1000.,Condition(function KBF))
else
call TriggerRegisterUnitInRange(t,it,1000.,Condition(function KYF))
call TriggerRegisterUnitInRange(t,it,1000.,Condition(function KAF))
endif
call TriggerAddAction(t,function KXF)
set it=null
endfunction
function K6F takes player KLF,string kf returns nothing
if(UI7(GetHandleId(KLF),kf)!=null)then
call TQ7(GetHandleId(UI7(GetHandleId(KLF),kf)))
call DestroyTrigger(UI7(GetHandleId(KLF),kf))
call TX7(GetHandleId(KLF),kf,null)
endif
endfunction
function K1F takes unit it returns nothing
local player pl=GetOwningPlayer(it)
local integer kg=1
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer i1=GetUnitTypeId(it)
local integer K0F=0
local boolean K5F=false
call LLE(O5,it,i1)
if(i1==1211117654)or(i1==1162032951)or(i1==1160785972)or(i1==1429221456)or(i1==1315074670)or(i1==1164799855)or(i1==1311781185)or(i1==1211117649)then
call ExecuteFunc("K2F")
elseif(i1==1160786242)then
call TL7(GetHandleId(GetOwningPlayer(it)),"MGrp",CreateGroup())
elseif(i1==1211117641)then
call ExecuteFunc("K_F")
elseif(i1==1214409837)then
call ExecuteFunc("M4F")
elseif(i1==1328558160)then
call ExecuteFunc("M7F")
elseif(i1==1211117633)then
call ExecuteFunc("M8F")
elseif(i1==1214344551)then
set HC[240+O5]=Location(0.,0.)
elseif((i1==1311781199)or(i1==1311781171)or(i1==1311781172)or(i1==1311781173))then
set hG[256+O5]=0
call ExecuteFunc("M9F")
elseif(i1==1212365106)then
call D98("MDF",GetPlayerController(pl)==MAP_CONTROL_COMPUTER)
endif
if false then
if(i1==1333027688)then
call DJ8(it,1093686091)
endif
if(i1==1214409837)then
call DJ8(it,1093679157)
endif
if(i1==1164799603)then
call DJ8(it,1093752632)
endif
if(i1==1430466872)then
call DJ8(it,1093687349)
endif
if(i1==1429221424)then
call DJ8(it,1093687351)
endif
if(i1==1160785970)then
call DJ8(it,1093747792)
endif
if(i1==1429221446)then
call DJ8(it,1093678665)
endif
if(i1==1429221451)then
call DJ8(it,1093678671)
endif
if(i1==1160786242)then
call DJ8(it,1093683287)
endif
if(i1==1211117641)then
call DJ8(it,1093684792)
endif
if(i1==1311780946)then
call DJ8(it,1093685808)
endif
endif
call TT7(GetHandleId(Player(O5)),"AI|Class",QT7(i1))
set K27[O5]=true
set K27[112+O5]=false
call G1F(O5,it,false)
if(MS7 and Z84[O5]==ZF4)then
if(MU7)then
if(ZL7(Player(O5)))then
if(MV7==null)then
set MV7=CreateUnit(Z7[0],KV9(Player(O5)),GetUnitX(IZ4)-NY7,GetUnitY(IZ4)-NY7,0)
call KC9(GetPlayerId(Z7[0]),MV7)
endif
set KU4[16+O5]=MV7
else
if(MW7==null)then
set MW7=CreateUnit(A7[0],KV9(Player(O5)),GetUnitX(JA4)+NY7,GetUnitY(JA4)+NY7,0)
call KC9(GetPlayerId(A7[0]),MW7)
endif
set KU4[16+O5]=MW7
endif
else
set KU4[16+O5]=CreateUnit(Player(O5),KV9(Player(O5)),GetUnitX(KU4[O5]),GetUnitY(KU4[O5]),0)
call KC9(O5,KU4[16+O5])
endif
endif
if((not D4)and GetUnitName(it)!="Bloodrune")then
if(T64==false)then
if(not LO4)then
set KZ4[GetPlayerId(pl)]=I2S(i5(pl))+PT7(pl)+CJ7(it)
call SetPlayerName(pl,B37(pl))
endif
else
if(SubString(KZ4[GetPlayerId(pl)],3,11)=="Computer" or SubString(KZ4[GetPlayerId(pl)],4,12)=="Computer")then
loop
if(L6E(it))then
set K0F=GetRandomInt(1,25)
else
set K0F=GetRandomInt(26,119)
endif
if(T34[K0F]!="")then
set KZ4[GetPlayerId(pl)]="+"+T34[K0F]
call SetPlayerName(pl,B37(pl)+" ("+CI7(it)+")")
set T34[K0F]=""
set K5F=true
endif
exitwhen(K5F)
endloop
endif
endif
elseif(Bz<150.)and GetUnitName(it)!="Bloodrune" then
set KZ4[GetPlayerId(pl)]=I2S(i5(pl))+PT7(pl)+" Computer"
call SetPlayerName(pl,B37(pl)+" ("+CI7(M7[GetPlayerId(pl)])+")")
else
set pl=null
return
endif
if(ZL7(pl))then
loop
exitwhen(O7[kg]==pl)or(kg>5)
set kg=kg+1
endloop
call MultiboardSetItemValueBJ(T4,1,(kg+2),(Q[GetPlayerId(pl)]+(B37(pl)+"|r")))
else
loop
exitwhen(P7[kg]==pl)or(kg>5)
set kg=kg+1
endloop
call MultiboardSetItemValueBJ(T4,1,(kg+3+HB4),(Q[GetPlayerId(pl)]+(B37(pl)+"|r")))
endif
set pl=null
endfunction
function UD takes nothing returns nothing
local unit AU7=GetTriggerUnit()
call K6F(GetOwningPlayer(AU7),"HasAtkM")
call K6F(GetOwningPlayer(AU7),"HasMM")
call K6F(GetOwningPlayer(AU7),"HasAM")
call K6F(GetOwningPlayer(AU7),"HasOrb")
call K1F(AU7)
call KCF(AU7)
set AU7=null
endfunction
function Uf takes nothing returns nothing
local unit AU7=UE7(R44,"AIHSwap|U")
call K6F(GetOwningPlayer(AU7),"HasAtkM")
call K6F(GetOwningPlayer(AU7),"HasMM")
call K6F(GetOwningPlayer(AU7),"HasAM")
call K6F(GetOwningPlayer(AU7),"HasOrb")
call K1F(AU7)
call KCF(AU7)
set AU7=null
endfunction
function MEF takes nothing returns boolean
local integer O5=1
local unit m5=null
if not IsUnitType(GetDyingUnit(),UNIT_TYPE_HERO)then
return false
endif
set m5=GetDyingUnit()
loop
exitwhen O5>11
if O5==6 then
set O5=7
endif
if Z27(Player(O5))then
if h4[O5]==m5 then
set h4[O5]=null
call IssueImmediateOrderById(M7[O5],851972)
if GZ[208+O5]or G0[256+O5]then
call CYE(O5,Z47(800.,M7[O5]),false,false)
endif
call J3(M7[O5],false)
endif
endif
set O5=O5+1
endloop
set m5=null
return false
endfunction
function MFF takes nothing returns boolean
return((IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE))and(QY4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])and(GetUnitTypeId(GetAttacker())!=1970107511)and(GetUnitTypeId(GetAttacker())!=1700946284)and(GetUnitTypeId(GetAttacker())!=1966092370)and(GetUnitTypeId(GetAttacker())!=1697657398)and(WG7(GetTriggerUnit())))
endfunction
function MGF takes nothing returns nothing
local unit m5=GetTriggerUnit()
local unit MHF=GetAttacker()
local integer O5=GetPlayerId(GetOwningPlayer(m5))
local integer i1=GetUnitTypeId(m5)
if SI7(O5)then
set m5=null
set MHF=null
return
endif
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(not G0[O5])and(i1!=1211117642))then
if(((GetUnitLifePercent(MHF)>10.)or(SS7(800.,MHF,Condition(function k0))>1)or(R2I(GetWidgetLife(m5))<(500+(GetHeroLevel(m5)*30)))or(not Id(O5)))and(not SI7(O5)))then
set bj_lastLoadedUnit=m5
if((eY[320+O5]>=0)and(hq[720+O5]>-0.05))then
elseif((not S47(m5))and(((i1!=1214409837)and(i1!=1332898670))or(GetUnitCurrentOrder(m5)!=852600))and((i1!=1160786243)or(GetUnitCurrentOrder(m5)!=852089))and((i1!=1430466872)or(GetUnitCurrentOrder(m5)!=852487)))then
elseif(((PH7(m5)>1500.)and(hq[720+O5]>-0.05)and(GetHeroLevel(m5)>10))or(((i1==1162032181)or(i1==1429221451))and(GZ[384+O5])and(not SH7(m5)))or(GZ[256+O5]))then
elseif((GetHeroLevel(m5)>6)and(GetUnitAbilityLevel(MHF,1098282348)==0)and(Id(O5))and(GetUnitState(m5,UNIT_STATE_LIFE)>500+(GetHeroLevel(m5)*30)))then
elseif(h4[O5]!=null and SH7(h4[O5])and G0[128+O5]and PH7(m5)>300. and hq[944+O5]<Bz and SS7(600.,m5,Condition(function WZ7))>0)then
else
call T47(m5,851986,h9[O5])
if((h4[O5]!=null)and((GetHeroLevel(m5)<6)or(SH7(m5))or(not Id(O5))))then
call CBE(O5,false)
endif
set G0[O5]=true
call TriggerSleepAction(1.)
if((SE7(m5))and(SE7(MHF))and(IsUnitInRange(m5,MHF,1200.))and(G0[O5]))then
call TriggerSleepAction(1.)
endif
set G0[O5]=false
if((SE7(m5))and(SE7(MHF))and(GetUnitCurrentOrder(m5)==851986)and(not IsUnitInRange(m5,MHF,1300.))and(SS7(800.,MHF,Condition(function k5))>1))then
call J3(m5,true)
endif
endif
elseif((not Id(O5))and(S47(m5)))then
call IssueTargetOrderById(m5,851983,MHF)
endif
elseif((i1==1211117642)or(i1==1966092596)or(i1==1966092597)or(i1==1966092598)or(i1==1966092612)or(i1==1966092613)or(i1==1966092614)or(i1==1966092626)or(i1==1966092627)or(i1==1966092628)or(i1==1697656907)or(i1==1697656905)or(i1==1697656908)or(i1==1848652343)or((GetUnitTypeId(M7[O5])==1211117633)and(i1!=1211117633)))then
call T47(m5,851986,h9[16+O5])
set G0[16+O5]=true
call R97(1.)
if((SE7(m5))and(SE7(MHF))and(IsUnitInRange(m5,MHF,1300.)))then
call T47(m5,851986,h9[16+O5])
endif
set G0[16+O5]=false
endif
set m5=null
set MHF=null
endfunction
function MIF takes nothing returns boolean
return((QY4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])and(IsUnitAlly(GetTriggerUnit(),Z7[0]))and(WG7(GetTriggerUnit())))
endfunction
function MJF takes nothing returns boolean
return((QY4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])and(IsUnitAlly(GetTriggerUnit(),A7[0]))and(WG7(GetTriggerUnit())))
endfunction
function MKF takes unit IEF returns nothing
loop
call T47(GetTriggerUnit(),851986,h9[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call TriggerSleepAction(0.3)
exitwhen((not SE7(GetTriggerUnit()))or(not SE7(IEF))or(not IsUnitInRange(GetTriggerUnit(),IEF,1200.)))
endloop
endfunction
function MMF takes nothing returns nothing
if((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(not IsUnitIllusion(GetTriggerUnit())))then
set GZ[128+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=false
set h4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=null
if(IsUnitAlly(GetTriggerUnit(),A7[0]))then
call MKF(IZ4)
else
call MKF(JA4)
endif
elseif(not IsUnitIllusion(GetTriggerUnit()))then
call T47(GetTriggerUnit(),851986,h9[16+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endif
endfunction
function MNF takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)and(GetUnitCurrentOrder(GetTriggerUnit())!=851986)and(not IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetAttacker(),UNIT_TYPE_HERO)))
endfunction
function MOF takes nothing returns nothing
local unit it=GetTriggerUnit()
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer UP
if((Bz<hq[288+O5])or(not is(it))or((G0[224+O5]or Bz<hq[672+O5])and SH7(it)==false))then
set it=null
return
elseif SI7(O5)then
set it=null
return
endif
set hq[288+O5]=Bz+1.
set hq[496+O5]=Bz+1.5
call MoveLocation(Ha,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()))
set bj_lastLoadedUnit=PV7(IsUnitAlly(it,Z7[0]),IZ4,JA4)
set EJ7=RH7(it,bj_lastLoadedUnit)
if SR7(150.,Ha,Condition(function k0))>6 then
call CVE(it,true)
elseif(EJ7<900. and EJ7+QL7(it)>650.)and(IsUnitType(GetAttacker(),UNIT_TYPE_MELEE_ATTACKER))then
call T47(it,851986,bj_lastLoadedUnit)
else
if(((eY[O5]==3)or(eY[O5]==4))and(IsUnitType(GetAttacker(),UNIT_TYPE_MELEE_ATTACKER))and(not GZ[128+O5])and(h4[O5]==null)and(GetUnitCurrentOrder(it)==851983)and(not GZ[48+O5])and(RH7(it,TJ7(it))<6500.))then
if((Bz<hq[784+O5])or(hq[720+O5]<-F07)or((SR7(1000.,Ha,Condition(function WS7))==0)and(SR7(700.,Ha,Condition(function k5))==0)and(SR7(600.,Ha,Condition(function k0))>3)))then
call T47(it,851986,bj_lastLoadedUnit)
set G0[48+O5]=true
set hq[768+O5]=Bz+1.
set hq[784+O5]=Bz+5.
endif
endif
if((not(IsUnitType(it,UNIT_TYPE_MELEE_ATTACKER)))and(not GZ[128+O5])and(h4[O5]==null)and(iU(it))and(hq[512+O5]<Bz))then
if(not SH7(it))then
if((eY[O5]<10)and((R2I(GetUnitState(it,UNIT_STATE_LIFE))<(550+(GetHeroLevel(it)*40)))or((GetHeroLevel(it)<10)and(IsUnitType(GetAttacker(),UNIT_TYPE_MELEE_ATTACKER)))))then
call CVE(it,true)
endif
else
call VA7(it,false)
endif
elseif((IsUnitType(it,UNIT_TYPE_MELEE_ATTACKER))and(not GZ[128+O5])and(h4[O5]==null)and(iU(it))and(hq[512+O5]<Bz))then
if(not SH7(it))then
if((eY[O5]<10)and(GetUnitLifePercent(it)<60.)and((SS7(300.,GetTriggerUnit(),Condition(function k5))<3)))then
if(not(SU7(it,ZU[T2]))and(not(SU7(it,ZU[J1])))and(not(SU7(it,ZU[P1])))and((GetUnitAbilityLevel(it,1112891766)==0)or(GetUnitAbilityLevel(it,1110454838)==0)or(GetUnitAbilityLevel(it,1110454597)==0))and((SS7(1000.,it,Condition(function WS7))>0)or(SS7(900.,it,Condition(function WB7))>0)))then
call CVE(it,true)
endif
endif
else
call VA7(it,false)
endif
elseif((SH7(it))and(not Id(O5)))then
call VA7(it,true)
elseif((GetHeroLevel(it)<6)or((GetUnitLifePercent(it)<60.)and(R2I(GetUnitState(it,UNIT_STATE_LIFE))<(400+(GetHeroLevel(it)*50)))and((h4[O5]==null)or(GetUnitState(h4[O5],UNIT_STATE_LIFE)>(GetUnitState(it,UNIT_STATE_LIFE)+(15.*GetHeroLevel(it)))))))then
if((GetHeroLevel(it)<3)or(SS7(500.,GetTriggerUnit(),Condition(function k0))>2))then
set GZ[128+O5]=false
call CVE(it,true)
endif
elseif(GetUnitTypeId(it)==1211117643)and(h4[O5]==null)and(RH7(it,h9[48+O5])>700)then
set UP=GetUnitCurrentOrder(it)
if(UP==852278 or UP==852114 or UP==852504)then
call CVE(it,true)
endif
endif
endif
set it=null
endfunction
function MPF takes nothing returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(GetAttacker()))
if(Z27(Player(O5)))and(GetUnitAbilityLevel(GetAttacker(),1110455884)>0)and(Bz>TC4[64+O5])and(h4[O5]==GetTriggerUnit())then
call IssuePointOrderById(M7[O5],852185,GetUnitX(GetAttacker()),GetUnitY(GetAttacker()))
endif
endfunction
function MQF takes nothing returns boolean
if not((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))))then
return false
else
if IsUnitIllusion(GetAttacker())then
call MPF()
return false
endif
endif
return(IsUnitType(GetAttacker(),UNIT_TYPE_HERO))
endfunction
function MRF takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(hz)))and(hZ!=GetFilterUnit())and(hz!=GetFilterUnit())and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(not SH7(GetFilterUnit())))
endfunction
function MSF takes nothing returns nothing
if((not IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO))and(WH7(GetEnumUnit()))and(GetUnitCurrentOrder(GetEnumUnit())!=851986)and(IsUnitInRange(GetEnumUnit(),hz,1200.)))then
call IssueTargetOrderById(GetEnumUnit(),851983,hz)
endif
endfunction
function MTF takes unit PI7,unit MUF returns nothing
local integer V87=GetPlayerId(GetOwningPlayer(PI7))
local integer O5
local unit KHF=null
local boolean J4=false
local integer i=0
local integer IBF=0
local integer j=0
local integer k=0
local boolean MVF=false
local unit MWF=null
local boolean S37=false
local boolean QC7
if((GetWidgetLife(MUF)>1.)and(PI7!=null)and(Bz>hq[416+V87]or(Bz+2.>hq[416+V87]and(SH7(PI7)or SI7(V87)))))then
set hq[416+V87]=Bz+5.
set k=GetRandomInt(-1,1)
if k<0 then
set k=0
endif
if SH7(PI7)then
set k=k+1
endif
set QC7=IsUnitAlly(PI7,Z7[0])
set IBF=PZ7(QC7,0,6)
set MWF=PV7(QC7,IZ4,JA4)
set MVF=IsUnitInRange(PI7,MWF,6000.)
set i=1
loop
exitwhen(i>5)
set O5=EC7[80+IBF+i]
if(O5!=-1)and(GetPlayerController(Player(O5))==MAP_CONTROL_COMPUTER)then
set KHF=M7[O5]
set bj_lastLoadedUnit=KHF
set hq[416+O5]=Bz+2.
set J4=false
set S37=false
if(KHF==null)or(SH7(KHF))or(IG4[O5])or(eY[544+O5]!=0)then
elseif(hq[480+O5]>Bz)or(h4[O5]!=null and h4[O5]!=MUF and(RH7(PI7,h4[O5])+300<RH7(PI7,MUF)))then
elseif(not MVF)and(eY[O5]==3 or eY[O5]==4 or Bz<hq[528+O5])then
elseif(MVF and eY[O5]!=2 and IsUnitInRange(KHF,MWF,6000.))then
set J4=true
elseif((IsUnitInRange(PI7,KHF,3600.))or(eY[80+O5]==eY[80+V87]))and((hq[624+V87]>Bz)or(GetUnitLifePercent(PI7)<80.)or(eY[320+V87]+j<=k))then
set J4=true
elseif(Bz>hq[320+O5]and(eY[O5]!=9 or(GetUnitLifePercent(PI7)<70.)))and(eY[320+V87]+j<=k)and(GetHeroLevel(KHF)>=6)and(RH7(PI7,KHF)>3000)and(GetUnitLifePercent(KHF)>70.)and(GetUnitManaPercent(KHF)>30.)and((Z84[O5]==ZE4 and GetRandomInt(1,3)==1)or(Z84[O5]==ZF4))then
set S37=KDF(O5,KHF,PI7,true)
endif
if J4 then
if(h4[O5]==MUF)then
if((GetUnitAbilityLevel(MUF,1110454854)==0)and(is(KHF))and(GetUnitCurrentOrder(KHF)!=851983))then
call IssueTargetOrderById(KHF,851983,MUF)
set S37=true
endif
elseif((h4[O5]==null)or(hq[464+GetPlayerId(GetOwningPlayer(PI7))]>Bz)or((GetUnitLifePercent(MUF)+10.)<GetUnitLifePercent(h4[O5])and(GetWidgetLife(MUF)<GetWidgetLife(h4[O5]))))then
set h4[O5]=MUF
if((is(KHF))and(GetUnitAbilityLevel(MUF,1110454854)==0))then
call IssueTargetOrderById(KHF,851983,MUF)
set S37=true
endif
endif
if(hq[624+V87]>Bz)then
set hq[624+O5]=Bz+FL7
endif
endif
if S37 then
set eY[544+O5]=2
set h9[64+O5]=PI7
set h4[O5]=MUF
set j=j+1
set hq[576+O5]=Bz+FA7
if eY[O5]==9 or eY[O5]==10 then
call AZ7(KHF,PI7)
set eY[O5]=1
endif
endif
endif
set i=i+1
endloop
if(IsUnitInForce(PI7,QX4))then
call GroupClear(iH)
call GroupEnumUnitsOfPlayer(iH,GetOwningPlayer(PI7),Q24)
call ForGroup(iH,function MSF)
endif
if eY[320+V87]+j<0 and Bz>hq[800+V87]and Z27(Player(V87))and SH7(PI7)then
if QC7 then
set EP7=X7
else
set EP7=Y7
endif
call VX7(EP7,GetUnitX(PI7),GetUnitY(PI7),GetPlayerId(GetOwningPlayer(PI7)))
set hq[800+V87]=Bz+15.
endif
endif
set EP7=null
endfunction
function MXF takes nothing returns nothing
local unit O27=GetAttacker()
local unit it=GetTriggerUnit()
local integer O5=0
local real QH7=0.
if GetPlayerController(GetOwningPlayer(it))==MAP_CONTROL_COMPUTER and S47(it)then
set O5=GetPlayerId(GetOwningPlayer(it))
if h4[O5]!=null then
if O27!=h4[O5]then
set hq[944+O5]=Bz+NZ7
endif
set QH7=QL7(it)
if SH7(h4[O5])then
set QH7=QH7+200.
endif
if(RH7(it,h4[O5])>QH7-100.)then
call CBE(O5,true)
endif
endif
endif
if(not IsUnitInForce(O27,QX4))then
call TriggerSleepAction(0.2)
call MTF(O27,it)
endif
if(not IsUnitInForce(it,QX4))then
call TriggerSleepAction(0.2)
call MTF(it,O27)
endif
set O27=null
set it=null
endfunction
function MYF takes nothing returns boolean
return((GetSpellTargetUnit()!=null)and(IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO))and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetSpellTargetUnit())))and(not IsUnitInForce(GetSpellTargetUnit(),QX4)))
endfunction
function MZF takes nothing returns nothing
call MTF(GetSpellTargetUnit(),GetTriggerUnit())
endfunction
function MAF takes nothing returns nothing
local unit PI7=GetTriggerUnit()
local unit MUF=GetAttacker()
local unit KHF=null
local player pl=null
local integer V87
local integer i=0
local integer j
local integer k=0
local real MBF
local integer O5
set V87=GetPlayerId(GetOwningPlayer(MUF))
if V87==GetPlayerId(Z7[0])or V87==GetPlayerId(A7[0])then
set j=-1
if((PI7==JN4)or(PI7==JS4)or(PI7==JV4))or((PI7==J_4)or(PI7==KD4)or(PI7==KG4))then
set j=1
elseif((PI7==JO4)or(PI7==JT4)or(PI7==JW4))or((PI7==K44)or(PI7==KE4)or(PI7==KH4))then
set j=0
elseif((PI7==JP4)or(PI7==JU4)or(PI7==JX4))or((PI7==K74)or(PI7==KF4)or(PI7==KI4))then
set j=2
elseif((PI7==JQ4)or(PI7==JQ4)or(PI7==JF4))or((PI7==K84)or(PI7==K84)or(PI7==J34))then
set j=3
endif
if(j!=-1 or GetWidgetLife(PI7)<=FQ7)then
set EN7=IsUnitAlly(PI7,Z7[0])
set pl=Player(V87)
if(UR7(GetHandleId(PI7),"AI|Glyph|CD")>Bz)then
elseif(Bz>UR7(R44,"AI|Glyph|"+PC7(EN7,"Sent","Scrg")))then
call GroupClear(H8)
call GroupEnumUnitsInRange(H8,GetUnitX(PI7),GetUnitY(PI7),900.,null)
loop
set KHF=FirstOfGroup(H8)
exitwhen KHF==null
call GroupRemoveUnit(H8,KHF)
if GetWidgetLife(KHF)<.405 then
elseif IsUnitType(KHF,UNIT_TYPE_HERO)and GetUnitTypeId(KHF)!=1211117642 then
if IsUnitAlly(KHF,pl)then
set k=k+1
else
set k=k-1
endif
elseif PI7!=KHF and WG7(KHF)and IsUnitInRange(KHF,PI7,300.)then
if IsUnitAlly(KHF,pl)then
set k=GetUnitTypeId(KHF)
if(k==1969711215 or k==1970169187)or(k==1966092337 or k==1966092338)or(k==1702061422 or k==1701081721)or(k==1697656918 or k==1697656919)then
set i=i+1
elseif(k==1970107511 or k==1966092370)or(k==1700946284 or k==1697657398)then
set i=i+2
else
set i=i+2
endif
else
set i=-99999
endif
endif
endloop
if((EN7 and FM7)or((not EN7)and FN7))then
set bj_forLoopAIndex=FP7
else
set bj_forLoopAIndex=FQ7
endif
if(i>0 and i+k*3>FK7-IMaxBJ(bj_forLoopAIndex-R2I(GetWidgetLife(PI7)),-100)/25)then
if EN7 then
set EP7=X7
else
set EP7=Y7
endif
set i=1
set k=-1
set MBF=99999.
loop
exitwhen i>5
if EN7 then
set O5=GetPlayerId(Z7[i])
else
set O5=GetPlayerId(A7[i])
endif
if Z27(Player(O5))then
if((EN7 and FM7)or((not EN7)and FN7))then
call IssueImmediateOrder(KU4[O5],"coldarrows")
exitwhen true
else
if k==-1 then
set k=O5
if M7[O5]!=null and GetWidgetLife(M7[O5])>.405 then
set MBF=RH7(PI7,M7[O5])
endif
else
if M7[O5]!=null and GetWidgetLife(M7[O5])>.405 then
set EJ7=RH7(PI7,M7[O5])
if EJ7<MBF then
set k=O5
set MBF=EJ7
endif
elseif MBF==99999. and GetRandomInt(1,i)==1 then
set k=O5
endif
endif
endif
endif
set i=i+1
endloop
if k!=-1 then
call VT7(M7[k],EP7,GetObjectName(1496330547))
call VX7(EP7,GetUnitX(PI7),GetUnitY(PI7),k)
call TU7(GetHandleId(PI7),"AI|Glyph|CD",Bz+FJ7)
endif
endif
endif
endif
set O5=GetUnitTypeId(MUF)
if j!=-1 and((O5==1969711215 or O5==1970169187)or(O5==1966092337 or O5==1966092338)or(O5==1702061422 or O5==1701081721)or(O5==1697656918 or O5==1697656919))then
set i=1
set EJ7=99999.
set bj_forLoopAIndex=-1
loop
exitwhen i>5
if V87==GetPlayerId(Z7[0])then
set O5=GetPlayerId(A7[i])
else
set O5=GetPlayerId(Z7[i])
endif
if((M7[O5]!=null)and(not SH7(M7[O5]))and(GetWidgetLife(M7[O5])>400.)and(eY[O5]==3 or eY[O5]==4)and(EC7[64+O5]==j)and(Bz>hq[672+O5]))then
set MBF=RH7(M7[O5],PI7)
if MBF<EJ7 then
set EJ7=MBF
set bj_forLoopAIndex=O5
endif
endif
set i=i+1
endloop
if bj_forLoopAIndex!=-1 then
set O5=bj_forLoopAIndex
set G0[224+O5]=true
set E37[48+O5]=GetAttacker()
if S47(M7[O5])then
call IssueTargetOrderById(M7[O5],851983,E37[48+O5])
endif
endif
endif
endif
set PI7=null
set MUF=null
set KHF=null
set pl=null
endfunction
function MCF takes nothing returns boolean
local real M3F=0.
local integer O5
if IsUnitType(GetAttacker(),UNIT_TYPE_HERO)then
set O5=GetPlayerId(GetOwningPlayer(GetAttacker()))
if G0[224+O5]and GetTriggerUnit()==E37[48+O5]then
set G0[224+O5]=false
set hq[672+O5]=Bz+2.
endif
elseif IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)and Bz>FO7 then
set FO7=Bz+1.
call MAF()
endif
if(Bz<600.)then
set M3F=130.
elseif(Bz<1200.)then
set M3F=140.
elseif(Bz>1200.)then
set M3F=150.
endif
if(not GZ[320+O5])then
set M3F=M3F/2+15
endif
return((not IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetTriggerUnit())<M3F))
endfunction
function M6F takes nothing returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))
set h4[96+O5]=GetTriggerUnit()
call DisableTrigger(Q04[O5])
call IssueTargetOrderById(GetEnumUnit(),851983,GetTriggerUnit())
call EnableTrigger(Q04[O5])
endfunction
function MLF takes nothing returns boolean
local integer O5
if((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetFilterUnit()))and(GetWidgetLife(GetFilterUnit())>.405))then
set O5=GetPlayerId(GetOwningPlayer(GetFilterUnit()))
if((SI7(O5))or((h4[304+O5]!=null)and(QL7(GetFilterUnit())+RH7(GetTriggerUnit(),h4[304+O5])<RH7(GetFilterUnit(),h4[304+O5]))))then
elseif((iU(GetFilterUnit()))and(not Id(O5))and(not SH7(GetFilterUnit()))and((h4[96+O5]==null)or(not SE7(h4[96+O5]))or((h4[96+O5]!=null)and(SE7(h4[96+O5]))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(h4[96+O5]))))))then
return((Jw(GetFilterUnit()))and(G0[128+O5])and(not G0[O5])and(not G0[48+O5])and(not G0[64+O5])and(Bz>hq[496+O5])and((not WI7(GetFilterUnit()))or(IsUnitInRange(GetFilterUnit(),GetTriggerUnit(),500.)))and((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))or(GetHeroLevel(GetFilterUnit())<15)))
endif
endif
return false
endfunction
function M1F takes nothing returns nothing
call GroupClear(iG)
call GroupEnumUnitsInRange(iG,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),800.,Q_4)
call ForGroup(iG,function M6F)
endfunction
function M0F takes nothing returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(GetKillingUnit()))
if GetKillingUnit()==M7[O5]and(eY[O5]==3 or eY[O5]==4)then
call INF(M7[O5])
endif
return false
endfunction
function M5F takes nothing returns boolean
return((GetOwningPlayer(GetFilterUnit())==Player(12))and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function M2F takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
return((GetOwningPlayer(GetFilterUnit())==Player(12))and(GetWidgetLife(GetFilterUnit())>.405)and(i1==1852010091))
endfunction
function M_F takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
return((GetOwningPlayer(GetFilterUnit())==Player(12))and(GetWidgetLife(GetFilterUnit())>.405)and(i1==1852534636))
endfunction
function N4F takes nothing returns nothing
if((h0==null)or(GetUnitLevel(GetEnumUnit())>GetUnitLevel(h0))or((GetUnitLevel(GetEnumUnit())==GetUnitLevel(h0))and(GetUnitState(h0,UNIT_STATE_LIFE)<GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE))))then
set h0=GetEnumUnit()
endif
endfunction
function N7F takes unit AX7 returns unit
local boolexpr Ig=Condition(function M5F)
set h0=null
call GroupClear(H8)
call GroupEnumUnitsInRange(H8,GetUnitX(AX7),GetUnitY(AX7),600.,Ig)
call ForGroup(H8,function N4F)
call DestroyBoolExpr(Ig)
set Ig=null
return h0
endfunction
function N8F takes unit AX7,integer Q27,integer N9F returns unit
local boolexpr Ig=null
if(N9F==1852010091)then
set Ig=Condition(function M2F)
elseif(N9F==1852534636)then
set Ig=Condition(function M_F)
else
set Ig=Condition(function M2F)
endif
set h0=null
call GroupClear(H8)
call GroupEnumUnitsInRange(H8,GetUnitX(AX7),GetUnitY(AX7),600.,Ig)
call ForGroup(H8,function N4F)
call DestroyBoolExpr(Ig)
set Ig=null
return h0
endfunction
function NDF takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)and(eY[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]==1)and(GetHeroLevel(GetTriggerUnit())>3)and(not SH7(GetTriggerUnit()))and(not IsUnitIllusion(GetTriggerUnit()))and(GetUnitAbilityLevel(GetTriggerUnit(),1110454874)==0))
endfunction
function NEF takes unit AX7 returns boolean
local integer O5=1
local boolean O6=IsUnitAlly(GetTriggerUnit(),Z7[0])
local boolean NFF=false
local integer NGF=0
local integer NHF=0
if((O6)and(GetHeroLevel(GetTriggerUnit())>15)and(G2>=0))then
set NHF=SS7(1200.,GetTriggerUnit(),Condition(function W37))
set NFF=NHF>0
elseif((not O6)and(GetHeroLevel(GetTriggerUnit())>15)and(G1>=0))then
set NHF=SS7(1200.,GetTriggerUnit(),Condition(function W37))
set NFF=NHF>0
endif
loop
if((eY[GetPlayerId(Z7[O5])]==10)and(h8[48+GetPlayerId(Z7[O5])]==AX7))then
return true
endif
if((eY[GetPlayerId(A7[O5])]==10)and(h8[48+GetPlayerId(A7[O5])]==AX7))then
return true
endif
if((NFF)and(eY[80+GetPlayerId(TN7(O5,not O6))]==eY[80+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]))then
set NGF=NGF+1
endif
set O5=O5+1
exitwhen O5>5
endloop
if(NFF)then
return NGF>=NHF
endif
return false
endfunction
function NIF takes unit it returns boolean
local integer NJF=0
local boolean J4=true
local unit AU7=null
local player pl=GetOwningPlayer(it)
call GroupClear(H8)
call GroupEnumUnitsInRange(H8,GetUnitX(it),GetUnitY(it),1600.,Q24)
loop
set AU7=FirstOfGroup(H8)
exitwhen((AU7==null)or(not J4))
if((not SE7(AU7))or(not WH7(AU7)))then
elseif(IsUnitEnemy(AU7,pl))then
if((IsUnitType(AU7,UNIT_TYPE_HERO))or(IsUnitType(AU7,UNIT_TYPE_STRUCTURE)))then
set J4=false
elseif(((GetOwningPlayer(AU7)==Z7[0])or(GetOwningPlayer(AU7)==A7[0]))and(IsUnitInRange(AU7,it,1200.)))then
set NJF=NJF+1
set J4=NJF<=3
endif
endif
call GroupRemoveUnit(H8,AU7)
endloop
set pl=null
return J4
endfunction
function NKF takes unit NMF,unit A87 returns unit
local integer O5=GetPlayerId(GetOwningPlayer(A87))
if(NMF==h7[211]or NMF==h7[212])then
if(GetHeroLevel(A87)>7)then
if(N8F(h7[262],O5,1852010091)!=null)then
return h7[262]
elseif(N8F(h7[260],O5,1852010091)!=null)then
return h7[260]
elseif(N8F(h7[253],O5,1852010091)!=null)then
return h7[253]
elseif(N8F(h7[258],O5,1852010091)!=null)then
return h7[258]
elseif(N8F(h7[256],O5,1852010091)!=null)then
return h7[256]
else
return h7[262]
endif
else
if(N8F(h7[262],O5,1852534636)!=null)then
return h7[262]
elseif(N8F(h7[260],O5,1852534636)!=null)then
return h7[260]
elseif(N8F(h7[253],O5,1852534636)!=null)then
return h7[253]
elseif(N8F(h7[258],O5,1852534636)!=null)then
return h7[258]
elseif(N8F(h7[256],O5,1852534636)!=null)then
return h7[256]
else
return h7[260]
endif
endif
elseif(NMF==h7[213])then
if(GetHeroLevel(A87)>7)then
if(N8F(h7[257],O5,1852010091)!=null)then
return h7[257]
elseif(N8F(h7[259],O5,1852010091)!=null)then
return h7[259]
elseif(N8F(h7[261],O5,1852010091)!=null)then
return h7[261]
else
return h7[257]
endif
else
if(N8F(h7[261],O5,1852534636)!=null)then
return h7[261]
elseif(N8F(h7[259],O5,1852534636)!=null)then
return h7[259]
else
return h7[261]
endif
endif
elseif((NMF==h7[221])or(NMF==h7[222]))then
if(GetHeroLevel(A87)>7)then
if(N8F(h7[254],O5,1852010091)!=null)then
return h7[254]
elseif(N8F(h7[255],O5,1852010091)!=null)then
return h7[255]
else
return h7[254]
endif
else
if(N8F(h7[254],O5,1852534636)!=null)then
return h7[254]
elseif(N8F(h7[255],O5,1852534636)!=null)then
return h7[255]
else
return h7[254]
endif
endif
elseif(NMF==h7[223])then
if(GetHeroLevel(A87)>7)then
if((IsUnitAlly(A87,A7[0])))then
if(N8F(h7[254],O5,1852010091)!=null)then
return h7[254]
elseif(N8F(h7[255],O5,1852010091)!=null)then
return h7[255]
else
return h7[255]
endif
endif
else
if((IsUnitAlly(A87,A7[0])))then
if(N8F(h7[254],O5,1852534636)!=null)then
return h7[254]
elseif(N8F(h7[255],O5,1852534636)!=null)then
return h7[255]
else
return h7[255]
endif
endif
endif
elseif(NMF==h7[231])then
if(GetHeroLevel(A87)>7)then
if((IsUnitAlly(A87,Z7[0])))then
if(N8F(h7[253],O5,1852010091)!=null)then
return h7[253]
elseif(N8F(h7[258],O5,1852010091)!=null)then
return h7[258]
elseif(N8F(h7[256],O5,1852010091)!=null)then
return h7[256]
else
return h7[253]
endif
endif
else
if((IsUnitAlly(A87,Z7[0])))then
if(N8F(h7[253],O5,1852534636)!=null)then
return h7[253]
elseif(N8F(h7[258],O5,1852534636)!=null)then
return h7[258]
elseif(N8F(h7[256],O5,1852534636)!=null)then
return h7[256]
else
return h7[253]
endif
endif
endif
elseif((NMF==h7[232])or(NMF==h7[233]))then
if(GetHeroLevel(A87)>7)then
if((IsUnitAlly(A87,Z7[0])))then
if(N8F(h7[256],O5,1852010091)!=null)then
return h7[256]
elseif(N8F(h7[258],O5,1852010091)!=null)then
return h7[258]
else
return h7[256]
endif
endif
else
if((IsUnitAlly(A87,Z7[0])))then
if(N8F(h7[256],O5,1852534636)!=null)then
return h7[256]
elseif(N8F(h7[258],O5,1852534636)!=null)then
return h7[258]
else
return h7[256]
endif
endif
endif
elseif(NMF==h7[234])then
if(GetHeroLevel(A87)>7)then
if(N8F(h7[258],O5,1852010091)!=null)then
return h7[258]
elseif(N8F(h7[256],O5,1852010091)!=null)then
return h7[256]
else
return h7[258]
endif
else
if(N8F(h7[258],O5,1852534636)!=null)then
return h7[258]
elseif(N8F(h7[256],O5,1852534636)!=null)then
return h7[256]
else
return h7[258]
endif
endif
endif
return null
endfunction
function NNF takes unit it,unit NOF,integer j returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer i1=GetUnitTypeId(it)
local integer UP
local unit NPF=null
local unit m5=null
local boolean NQF=false
local boolean NRF=false
local boolean NSF=(i1==1211117633)or(i1==1429221443)or(i1==1332766568)or(i1==1311781193)or(i1==1311781192)or(i1==1311781204)or(i1==1311781194)or(i1==1430467634)
if SH7(it)or((Bz>hq[528+O5]and Bz>hq[320+O5]and Bz>hq[480+O5]and Bz>hq[576+O5]))==false then
return false
endif
call MoveLocation(Ha,GetUnitX(it),GetUnitY(it))
if((not iy(it))or(not NIF(it))or((GetHeroLevel(it)<7)and(i1!=1429221443)and(i1!=1332766568)and(i1!=1164277353)and(i1!=1164277357)and(i1!=1160786518)and(i1!=1160786519)and(i1!=1160786517)and(i1!=1430467634)))then
set NQF=false
elseif(i1==1211117633)then
set UP=IH(GetOwningPlayer(it),Condition(function L49))
set NQF=(Bz>hq[O5])and(GetUnitManaPercent(it)>20.)and(UP<(GetUnitAbilityLevel(it,1093810260)-1))
set NRF=(UP>0)and(GetHeroLevel(it)>12)and(GetUnitLifePercent(it)>75.)
elseif(((IsUnitAlly(it,Z7[0]))and(not Gv))or((IsUnitAlly(it,A7[0]))and(not Gw))or(Bz<hq[528+O5]))then
set NQF=false
elseif(i1==1429221443)then
if(GetHeroLevel(it)<18)then
set NQF=true
else
set NQF=(GetRandomInt(1,6)==1 or(j!=0))
endif
set NRF=GetHeroLevel(it)>10
elseif((i1==1432646245)and(not D88()))then
set NQF=false
elseif((i1==1311781193)or(i1==1311781192)or(i1==1311781204)or(i1==1311781194))then
set NQF=(GetUnitManaPercent(it)>50.)and(Bz>hq[O5])
elseif(SU7(it,ZU[S6]))then
set NQF=(Bz>hq[144+O5])and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>75.)
if((not NQF)and(i1==1164799855))then
if(GetHeroLevel(it)<18)then
set NQF=(GetRandomInt(1,2)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>75.)and(Bz>hq[O5])
else
set NQF=(GetRandomInt(1,8)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>75.)and(Bz>hq[O5])
endif
endif
elseif((i1==1160786241)or(i1==1211117643)or(i1==1332963428)or(i1==1433105516)or(Z84[GetPlayerId(GetOwningPlayer(it))]==ZD4)or((GetHeroLevel(it)>20)and(Bz>2700.))or(GetHeroLevel(it)>=25))then
set NQF=false
elseif(i1==1164799855)then
if(GetHeroLevel(it)<18)then
set NQF=(GetRandomInt(1,2)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>75.)and(Bz>hq[O5])
else
set NQF=(GetRandomInt(1,10)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>75.)and(Bz>hq[O5])
endif
elseif(i1==1430467634)then
if(((GetUnitAbilityLevel(it,1093750832)==0)and(GetHeroLevel(it)>7))or(((GetUnitAbilityLevel(it,1395667021)==0)and(GetHeroLevel(it)<8))))then
set NQF=true
else
if(GetHeroLevel(it)<13)then
set NQF=(GetRandomInt(1,3)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>75.)
elseif(GetHeroLevel(it)<16)then
set NQF=(GetRandomInt(1,5)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>75.)
else
set NQF=(GetRandomInt(1,10)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>75.)
endif
endif
if((NQF)and(Bz<TC4[16+O5])or((TC4[16+O5]-Bz)>5))then
set NQF=false
endif
elseif(i1==1214409837)then
set NQF=(GetHeroLevel(it)<15)and(GetRandomInt(1,2)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(Bz>hq[O5])and(GetUnitLifePercent(it)>85.)
elseif(i1==1164666213)then
if(GetHeroLevel(it)<18)then
set NQF=(GetRandomInt(1,2)==1 or(j!=0))and(GetHeroLevel(it)>10)and(GetUnitManaPercent(it)>60.)and(GetUnitLifePercent(it)>70.)and(Bz>hq[O5])
else
set NQF=(GetRandomInt(1,10)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>70.)and(Bz>hq[O5])
endif
elseif((i1==1215722344)or(i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517)or(i1==1215657064)or((i1==1313026096)and(GetHeroLevel(it)>11))or(SU7(it,ZU[J1]))or(SU7(it,ZU[T2]))or(SU7(it,ZU[P1]))or(SU7(it,ZU[DG4])))then
if(GetHeroLevel(it)<18)then
set NQF=(GetRandomInt(1,2)==1 or(j!=0))
else
set NQF=(GetRandomInt(1,6)==1 or(j!=0))
endif
set NRF=(GetHeroLevel(it)>10)and(i1!=1164277353)and(i1!=1164277357)and(i1!=1160786518)and(i1!=1160786519)and(i1!=1160786517)
elseif((GetHeroLevel(it)>8)and(GetUnitLifePercent(it)>90.)and(GetUnitManaPercent(it)>50.))then
if(GetHeroLevel(it)>=18)then
set NQF=false
elseif(((kq(i1))and(i1!=1160786242)and(i1!=1433631084)and(i1!=1212365106)and(i1!=1332179560))or(i1==1211117640)or(i1==1429221445))then
set NQF=(GetRandomInt(1,3)==1 or(j!=0))
else
set NQF=(GetHeroLevel(it)>11)and(GetRandomInt(1,5)==1 or(j!=0))
endif
endif
if(NQF)then
if(j!=0)then
set NPF=h7[j]
elseif(NOF==h7[211])then
if((IsUnitAlly(it,Z7[0]))or(NSF))then
set NPF=h7[262]
endif
elseif(NOF==h7[212])then
if(((NRF)and(GetHeroLevel(it)>15))or((GetHeroLevel(it)>20)and(GetUnitLifePercent(it)>80.)))then
set NRF=true
set NPF=h7[252]
set m5=N7F(NPF)
if(m5==null)then
set NPF=h7[260]
endif
elseif((IsUnitAlly(it,Z7[0]))or(NSF))then
set NPF=h7[260]
endif
elseif(NOF==h7[213])then
if((IsUnitAlly(it,A7[0]))or(NSF))then
set NPF=h7[261]
set m5=N7F(NPF)
if(m5==null)then
set NPF=h7[259]
endif
endif
elseif((NOF==h7[221])or(NOF==h7[222]))then
set NPF=h7[254]
elseif(NOF==h7[223])then
if((IsUnitAlly(it,A7[0]))or(NSF))then
set NPF=h7[257]
set m5=N7F(NPF)
if((m5==null)or((not NRF)and((IsUnitType(m5,UNIT_TYPE_ANCIENT))or(IsUnitType(m5,UNIT_TYPE_MAGIC_IMMUNE)))))then
set NPF=h7[255]
endif
endif
elseif(NOF==h7[231])then
if((IsUnitAlly(it,Z7[0]))or(NSF))then
set NPF=h7[253]
endif
elseif((NOF==h7[232])or(NOF==h7[233]))then
set NPF=h7[256]
elseif(NOF==h7[234])then
if((IsUnitAlly(it,A7[0]))or(NSF))then
set NPF=h7[258]
endif
elseif(NOF==h7[235])then
set NPF=h7[251]
set NRF=((NRF)and(GetHeroLevel(it)>15))or((GetHeroLevel(it)>20)and(GetUnitLifePercent(it)>80.))
else
set NPF=null
endif
if((i1==1430467634)and(((GetHeroLevel(it)>7)and(GetUnitAbilityLevel(it,1093750832)==0))or((GetHeroLevel(it)<8)and(GetUnitAbilityLevel(it,1395667021)==0))))then
set NPF=NKF(NOF,it)
endif
set m5=N7F(NPF)
if((m5==null)or(NEF(NPF)))then
set NQF=false
elseif((IsUnitType(m5,UNIT_TYPE_ANCIENT))or(IsUnitType(m5,UNIT_TYPE_MAGIC_IMMUNE)))then
set NQF=NRF
endif
set NQF=((NPF!=null)and(NQF))
if NQF then
set h8[48+O5]=NPF
set h8[32+O5]=NOF
set h4[64+O5]=m5
call VZ7(it,"Jungling")
set eY[O5]=10
set hq[432+O5]=Bz+40.
if j==0 then
if GetRandomInt(0,1)==0 then
set eY[384+O5]=-1
else
set eY[384+O5]=1
endif
endif
endif
endif
set it=null
set NOF=null
set m5=null
set NPF=null
return NQF
endfunction
function NTF takes nothing returns nothing
call NNF(GetTriggerUnit(),UE7(GetHandleId(GetTriggeringTrigger()),"CrpRect"),0)
endfunction
function NUF takes integer HUF returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterUnitInRange(t,h7[HUF],400.,Q24)
call TX7(GetHandleId(t),"CrpRect",h7[HUF])
call TriggerAddCondition(t,Condition(function NDF))
call TriggerAddAction(t,function NTF)
endfunction
function NVF takes nothing returns nothing
call NUF(211)
call NUF(212)
call NUF(213)
call NUF(221)
call NUF(222)
call NUF(223)
call NUF(231)
call NUF(232)
call NUF(233)
call NUF(234)
call NUF(235)
endfunction
function NWF takes nothing returns boolean
return(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and((FG8(GetFilterUnit()))or(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true))and IsUnitIllusion(GetFilterUnit())==false
endfunction
function NXF takes unit AX7 returns unit
local boolexpr Ig=Condition(function M5F)
set h0=null
call GroupClear(H8)
call GroupEnumUnitsInRange(H8,GetUnitX(AX7),GetUnitY(AX7),500.,Ig)
call ForGroup(H8,function N4F)
call DestroyBoolExpr(Ig)
set Ig=null
return h0
endfunction
function NYF takes nothing returns boolean
local integer NZF=GetHandleId(GetTriggeringTrigger())
local unit u
local unit m5
local boolean J4
local real dT
local integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
if eY[O5]!=10 then
return false
else
set u=GetTriggerUnit()
set m5=PV7(h4[64+O5]!=null and IsUnitInRange(u,h4[64+O5],600),h4[64+O5],NXF(h7[E17[NZF-NO7]]))
if m5==null then
call NNF(u,h7[E17[NZF-NO7]],0)
set m5=h4[64+O5]
endif
set J4=(m5!=null)and IssueTargetOrderById(u,851983,m5)
if J4 and(not IsUnitVisible(m5,GetOwningPlayer(u)))then
set dT=TimerGetElapsed(W)
loop
exitwhen(TimerGetElapsed(W)-dT)>=4+PL7(FY8(u)==false,2,6)or eY[O5]!=10 or(IssueTargetOrderById(u,851983,m5)and FY8(u)==false and IsUnitVisible(m5,GetOwningPlayer(u)))
call TriggerSleepAction(1)
set J4=IssueTargetOrderById(u,852600,m5)or IssueTargetOrderById(u,851983,m5)
if GetUnitAbilityLevel(u,1093677130)>0 or GetUnitTypeId(u)==1212365106 then
endif
endloop
endif
set u=null
set m5=null
endif
return false
endfunction
function NAF takes nothing returns nothing
local integer i=0
loop
exitwhen i>9
call TriggerAddCondition(NN7[i],Condition(function NYF))
call TriggerRegisterUnitInRange(NN7[i],h7[E17[i]],225,Condition(function NWF))
set i=i+1
endloop
endfunction
function NBF takes nothing returns nothing
local item R37=GetEnumItem()
local integer i1
if(GetWidgetLife(R37)<=.405)then
else
set EO7=GetItemPlayer(R37)
set i1=RB7(R37)
if(not IsVisibleToPlayer(GetItemX(R37),GetItemY(R37),Player(MK7)))and(i1!=X0 and i1!=B5 and i1!=C5 and i1!=EW)then
elseif IsPlayerAlly(EO7,Player(MK7))and((IsUnitInRangeLoc(h9[16+MK7],S_7(R37),700)and(i1!=B5 and i1!=C5 and i1!=EW))or(IsUnitInRangeLoc(KU4[GetPlayerId(EO7)],S_7(R37),100))or((EO7!=Player(MK7))and(not IG4[GetPlayerId(EO7)])and(IsUnitInRangeXY(M7[GetPlayerId(EO7)],GetItemX(R37),GetItemY(R37),700))))then
elseif IsUnitInRangeLoc(MI7,S_7(R37),700)and(IsUnitType(bj_lastCreatedUnit,UNIT_TYPE_MELEE_ATTACKER))then
else
set EK7=RH7(M7[MK7],R37)
if(Hu==null)or(i1==X0 or i1==B5 or i1==C5)or(EK7<EJ7 and(MJ7!=X0 and MJ7!=B5 and MJ7!=C5))then
set Hu=R37
set MJ7=i1
set EJ7=EK7
endif
endif
endif
set R37=null
endfunction
function NCF takes unit it returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(it))
local boolean J4=false
local boolean N3F=false
local integer i1=0
local integer FHF=0
if eY[528+O5]>3 or Bz<K07[160+O5]then
set K17[336+O5]=null
set eY[528+O5]=0
return false
elseif((K17[336+O5]!=null)and((not IsItemVisible(K17[336+O5]))or(GetWidgetLife(K17[336+O5])<=.405)or(not IsUnitInRangeXY(it,GetItemX(K17[336+O5]),GetItemY(K17[336+O5]),800.))))then
set K17[336+O5]=null
endif
if K17[320+O5]!=null and GetWidgetLife(K17[320+O5])<=0 then
set K17[320+O5]=null
endif
if(K17[336+O5]==null)then
set eY[528+O5]=1
if K17[320+O5]==null then
call SetRect(He,GetUnitX(it)-600.,GetUnitY(it)-600.,GetUnitX(it)+600.,GetUnitY(it)+600.)
set Hu=null
set bj_lastCreatedUnit=it
set MK7=O5
set MJ7=0
set EJ7=999999
if IsUnitAlly(it,Z7[0])then
set MI7=JA4
else
set MI7=IZ4
endif
call EnumItemsInRect(He,Q24,function NBF)
set K17[336+O5]=Hu
else
set Hu=K17[320+O5]
endif
else
set Hu=K17[336+O5]
set eY[528+O5]=eY[528+O5]+1
endif
if((Hu!=null)and(iU(it)))then
set i1=MJ7
set FHF=GetItemTypeId(Hu)
set EO7=GetItemPlayer(Hu)
if((FHF==1227894859)or(FHF==1227894838)or(FHF==1227894840)or(FHF==1227894858)or(FHF==1227894839))then
elseif Hu==K17[320+O5]then
set N3F=true
elseif(i1==X0 or i1==B5 or i1==C5)and(E6F(O5,it)!=-1 and bj_forLoopBIndexEnd<100)then
elseif IsPlayerEnemy(Player(O5),EO7)and(not EN9(i1))and(i1!=EW and i1!=HW)then
set N3F=true
elseif EO7!=Player(O5)and(not EN9(i1))and(not D6F(i1))and(HK4[i1]<500)then
set N3F=true
elseif(i1==EW or i1==HW)and(SC7(it,ZU[EW]))then
set N3F=true
elseif(not SV7(it))then
elseif(E6F(O5,it)!=-1)then
if(D5F(O5,null,Hu,i1,false)<D5F(O5,null,bj_lastCreatedItem,RB7(bj_lastCreatedItem),false))then
set N3F=true
endif
elseif ELF(O5,it)then
else
set N3F=true
endif
if(not N3F)then
if IsUnitInRangeLoc(MI7,S_7(Hu),700)then
else
set J4=(IssueTargetOrderById(it,851971,Hu))
set K07[288+O5]=i1
endif
else
if IsUnitInRangeLoc(MI7,S_7(Hu),700)and(IsUnitType(it,UNIT_TYPE_MELEE_ATTACKER))then
else
set J4=(IssueTargetOrderById(it,851983,Hu))
endif
endif
if J4 then
set hq[832+O5]=Bz+(RI7(GetUnitX(it),GetUnitY(it),GetItemX(Hu),GetItemY(Hu))/GetUnitMoveSpeed(it))+1.
endif
if(not J4)then
set K17[336+O5]=null
endif
endif
set Hu=null
return J4
endfunction
function N6F takes nothing returns nothing
set EK7=RH7(GetEnumDestructable(),EM7)
if((H0==null or EK7<EJ7)and(GetWidgetLife(GetEnumDestructable())>0.5))then
set H0=GetEnumDestructable()
set EJ7=EK7
endif
endfunction
function NLF takes unit it returns boolean
set H0=null
set EM7=it
set EJ7=999999
call SetRect(He,GetUnitX(it)-450.,GetUnitY(it)-450.,GetUnitX(it)+450.,GetUnitY(it)+450.)
call EnumDestructablesInRect(He,Condition(function K8),function N6F)
return((H0!=null)and(UnitUseItemTarget(it,SY7(it,ZU[TC]),H0)))
endfunction
function N1F takes integer O5,boolean O6 returns nothing
if(not O6)then
if(h8[32+O5]==h7[213])then
set h8[32+O5]=h7[17]
elseif(h8[32+O5]==h7[212])then
if(h8[48+O5]==h7[252])then
set h8[32+O5]=h7[315]
set h9[32+O5]=h7[15]
else
set h8[32+O5]=h7[325]
set h9[32+O5]=h7[15]
endif
elseif(h8[32+O5]==h7[211])then
set h8[32+O5]=h7[13]
elseif(h8[32+O5]==h7[223])then
set h8[32+O5]=h7[38]
elseif(h8[32+O5]==h7[222])then
set h8[32+O5]=h7[37]
elseif(h8[32+O5]==h7[221])then
set h8[32+O5]=h7[36]
call AY7(GetEnumUnit(),135)
elseif(h8[32+O5]==h7[235])then
set h8[32+O5]=h7[59]
elseif(h8[32+O5]==h7[234])then
set h8[32+O5]=h7[325]
set h9[32+O5]=h7[58]
elseif(h8[32+O5]==h7[233])then
set h8[32+O5]=h7[234]
elseif(h8[32+O5]==h7[232])then
set h8[32+O5]=h7[56]
call AY7(GetEnumUnit(),155)
elseif(h8[32+O5]==h7[231])then
set h8[32+O5]=h7[54]
endif
elseif(O6)then
if(h8[32+O5]==h7[213])then
set h8[32+O5]=h7[315]
set h9[32+O5]=h7[13]
elseif(h8[32+O5]==h7[212])then
set h8[32+O5]=h7[12]
elseif(h8[32+O5]==h7[211])then
set h8[32+O5]=h7[11]
elseif(h8[32+O5]==h7[223])then
set h8[32+O5]=h7[36]
elseif(h8[32+O5]==h7[222])then
set h8[32+O5]=h7[221]
call AY7(GetEnumUnit(),35)
elseif(h8[32+O5]==h7[221])then
set h8[32+O5]=h7[315]
set h9[32+O5]=h7[33]
elseif(h8[32+O5]==h7[235])then
set h8[32+O5]=h7[325]
set h9[32+O5]=h7[56]
elseif(h8[32+O5]==h7[234])then
set h9[32+O5]=h7[56]
elseif(h8[32+O5]==h7[233])then
set h8[32+O5]=h7[54]
call AY7(GetEnumUnit(),55)
elseif(h8[32+O5]==h7[232])then
set h8[32+O5]=h7[53]
elseif(h8[32+O5]==h7[231])then
set h8[32+O5]=h7[52]
endif
endif
endfunction
function N0F takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not kD(GetFilterUnit()))and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function N5F takes location b5 returns nothing
local unit it=GetEnumUnit()
local integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))
local unit m5=h4[64+O5]
local integer i1
local boolean J4=false
local integer N2F=0
local integer i
local integer j
local integer k
local integer N_F
if(SS7(900.,h8[32+O5],Condition(function N0F))>0)then
call N1F(O5,IsUnitAlly(it,Z7[0]))
endif
if((SH7(it))or(SR7(900.,b5,Condition(function k6))>0))then
set eY[O5]=1
set hq[544+O5]=Bz+30.
set h4[64+O5]=null
call N1F(O5,IsUnitAlly(it,Z7[0]))
call J3(it,false)
if((not SH7(it))and(h4[O5]==null)and(G0[256+O5]))then
set ET7=SQ7(900.,b5,Condition(function k6))
if(ET7!=null)then
call CYE(O5,ET7,true,false)
call IssueTargetOrderById(it,851983,h4[O5])
endif
endif
set it=null
set m5=null
return
endif
set N2F=SS7(600.,h8[48+O5],Condition(function M5F))
if N2F==0 then
set i1=GetUnitTypeId(it)
set j=GetHeroLevel(it)
if QV7(i1,E27)or QV7(i1,E_7)then
if j<12 then
set i=0
else
set i=GetRandomInt(0,(j-12)/2)
endif
elseif QV7(i1,F47)then
set i=GetRandomInt(0,2)
else
set i=GetRandomInt(0,3)
endif
if i==0 then
set i=0
loop
exitwhen(i>9)or(h8[48+O5]==h7[E17[i]])
set i=i+1
endloop
set N_F=i
set j=0
set k=eY[384+O5]
loop
if i==0 or i==4 or i==5 or i==9 then
set k=-k
set eY[384+O5]=k
set i=N_F
endif
set i=i+k
exitwhen(j>5)or(NNF(it,h8[48+O5],E17[i]))
set j=j+1
endloop
set N2F=SS7(600.,h8[48+O5],Condition(function M5F))
endif
endif
if(N2F==0)then
set GZ[336+O5]=false
if(h8[48+O5]!=h8[32+O5])then
set h8[48+O5]=h8[32+O5]
call J3(it,false)
endif
if(RH7(h8[32+O5],it)<400.)then
set eY[O5]=1
set h4[64+O5]=null
call J3(it,false)
endif
elseif(h8[48+O5]!=h8[32+O5])and(RH7(h8[48+O5],it)<400.)then
set bj_lastLoadedUnit=SQ7(600.,S_7(h8[48+O5]),Condition(function M5F))
if(not GZ[336+O5])and is(it)then
set GZ[336+O5]=IssueTargetOrderById(it,851983,bj_lastLoadedUnit)
endif
set J4=true
endif
if(N2F==0)or J4 then
elseif((m5!=null)and(SE7(m5))and(GetOwningPlayer(m5)==GetOwningPlayer(it)))then
if(is(it))then
call T47(it,851983,h8[48+O5])
endif
call T47(m5,851983,h8[48+O5])
elseif(GetUnitTypeId(GetEnumUnit())==1211117633)then
if((m5==null)or(not SE7(m5)))then
call T47(it,851983,h8[48+O5])
elseif(GetOwningPlayer(m5)!=GetOwningPlayer(it))then
set J4=((not IsUnitInRange(it,m5,800.))and(IssueTargetOrderById(it,851971,m5)))or(T77(it,852131,1093810260,m5))or(T47(it,851983,h8[48+O5]))
endif
elseif(GetUnitTypeId(GetEnumUnit())==1164799855)then
if((m5==null)or(not SE7(m5)))then
call T47(it,851983,h8[48+O5])
elseif(GetOwningPlayer(m5)!=GetOwningPlayer(it))then
set J4=((not IsUnitInRange(it,m5,800.))and(IssueTargetOrderById(it,851971,m5)))or(T77(it,852075,1093682264,m5)or(T47(it,851983,h8[48+O5])))
endif
elseif(is(it))then
if((h4[64+O5]==null)or(not SE7(h4[64+O5]))or(not IsUnitInRange(it,h4[64+O5],800.)))then
set h4[64+O5]=SO7(800.,b5,Condition(function M5F))
endif
set m5=h4[64+O5]
if((m5!=null)and(GetWidgetLife(m5)>.405)and(SU7(it,ZU[J1])))then
set i1=GetUnitTypeId(m5)
set J4=(((i1==1852796263)or(i1==1852207203)or(i1==1853060200)or(i1==1852010091))and(UnitUseItemTarget(it,SY7(it,ZU[J1]),m5)))
elseif((m5!=null)and(GetWidgetLife(m5)>.405)and(SU7(it,ZU[S6])))then
set i1=GetUnitTypeId(m5)
set J4=((i1!=1852534626)and(i1!=1852272243)and(i1!=1852534644)and(UnitUseItemTarget(it,SY7(it,ZU[S6]),m5)))
endif
if(not J4)then
set J4=((m5!=null)and(IssueTargetOrderById(it,851983,m5)))or(T47(it,851983,h8[48+O5]))
endif
endif
set it=null
set m5=null
endfunction
function O4F takes unit u returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(u))
local integer UP=0
if(SH7(u))then
if S47(u)then
call T47(u,851986,h9[O5])
endif
else
if(RH7(u,TJ7(u))<12000.)then
if(not IsUnitAlly(u,Z7[0]))then
set UP=100
endif
if(h9[16+O5]==h7[35])then
set h8[16+O5]=h7[35+UP]
set h8[O5]=h7[35+UP]
elseif(h9[16+O5]==h7[55])then
set h8[16+O5]=h7[55+UP]
set h8[O5]=h7[55+UP]
elseif(h9[16+O5]==h7[14])then
set h8[16+O5]=h7[14+UP]
set h8[O5]=h7[14+UP]
endif
set h9[O5]=TJ7(u)
set h9[16+O5]=TJ7(u)
endif
if S47(u)then
call T47(u,851983,h8[O5])
endif
set eY[O5]=1
set G0[32+O5]=false
set hq[528+O5]=Bz+60.
set hq[592+O5]=Bz+FU7
endif
endfunction
function O7F takes nothing returns nothing
if(GetItemTypeId(GetEnumItem())==SU[X0])and(GetWidgetLife(GetEnumItem())>.405)then
set Hu=GetEnumItem()
endif
endfunction
function O8F takes nothing returns nothing
local real QH7=Bz+3.
local unit m5=null
local integer i=1
local integer j
local integer Q67
local integer k
local integer O5=0
local unit PI7=null
local unit KHF=null
local item R37=null
local player pl=null
local boolean S37=true
local boolean J4=true
if not(GetUnitTypeId(GetDyingUnit())==1848651852)then
return
endif
set PI7=GetKillingUnit()
set pl=GetOwningPlayer(PI7)
set m5=GetDyingUnit()
loop
set i=1
loop
exitwhen i>10
if i<=5 then
set O5=GetPlayerId(Z7[i])
else
set O5=GetPlayerId(A7[i-5])
endif
if(M7[O5]!=null)and(GetWidgetLife(M7[O5])>.405)and(IsUnitInRange(M7[O5],m5,1200.))then
if(IsUnitEnemy(M7[O5],pl))and(IsUnitVisible(M7[O5],pl))then
set QH7=0.1
exitwhen true
endif
endif
set i=i+1
endloop
exitwhen Bz>QH7
call TriggerSleepAction(0.3)
endloop
call SetRect(He,GetUnitX(m5)-600.,GetUnitY(m5)-600.,GetUnitX(m5)+600.,GetUnitY(m5)+600.)
set Hu=null
call EnumItemsInRect(He,Q24,function O7F)
if Hu!=null then
set PI7=null
set KHF=null
set j=0
set Q67=0
set k=0
set i=1
loop
exitwhen i>10
if i<=5 then
set O5=GetPlayerId(Z7[i])
else
set O5=GetPlayerId(A7[i-5])
endif
if(M7[O5]!=null)and(GetWidgetLife(M7[O5])>.405)and(Z27(Player(O5)))and(IsUnitInRange(M7[O5],m5,1000.)and(IsVisibleToPlayer(GetItemX(Hu),GetItemY(Hu),Player(O5))))then
set Q67=T[O5]+IU[O5]
if(IsUnitAlly(M7[O5],pl))then
if PI7==null or(j<Q67)then
if(not SV7(M7[O5]))or(ELF(O5,M7[O5]))then
set S37=false
set PI7=M7[O5]
set j=Q67
elseif S37 then
set PI7=M7[O5]
set j=Q67
endif
endif
else
if KHF==null or(k<Q67)then
if(not SV7(M7[O5]))or(ELF(O5,M7[O5]))then
set J4=false
set KHF=M7[O5]
set k=Q67
elseif J4 then
set KHF=M7[O5]
set k=Q67
endif
endif
endif
endif
set i=i+1
endloop
endif
set i=1
loop
exitwhen i>10
if i<=5 then
set O5=GetPlayerId(Z7[i])
else
set O5=GetPlayerId(A7[i-5])
endif
if eY[O5]==11 then
call O4F(M7[O5])
endif
set i=i+1
endloop
if Hu!=null then
set K17[336+GetPlayerId(GetOwningPlayer(PI7))]=Hu
set K17[336+GetPlayerId(GetOwningPlayer(KHF))]=Hu
set GV7=Bz+3.
loop
exitwhen IsItemOwned(Hu)or GetWidgetLife(Hu)<.405 or((PI7!=null and GetWidgetLife(PI7)<.405)and(KHF!=null and GetWidgetLife(KHF)<.405))
if PI7!=null and GetWidgetLife(PI7)>.405 then
if S37 then
call IssueTargetOrderById(PI7,851983,Hu)
else
call IssueTargetOrderById(PI7,851971,Hu)
endif
endif
if KHF!=null and GetWidgetLife(KHF)>.405 then
if J4 then
call IssueTargetOrderById(KHF,851983,Hu)
else
call IssueTargetOrderById(KHF,851971,Hu)
endif
endif
call TriggerSleepAction(0.5)
endloop
endif
set m5=null
set PI7=null
set KHF=null
set R37=null
set pl=null
endfunction
function O9F takes location b5 returns nothing
local unit it=GetEnumUnit()
local integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))
set hq[544+O5]=Bz+30.
if((SH7(it))or(SR7(900.,b5,Condition(function k6))>0))then
set eY[O5]=1
set h4[64+O5]=null
call J3(it,false)
if((not SH7(it))and(h4[O5]==null)and(G0[256+O5]))then
set ET7=SQ7(900.,b5,Condition(function k6))
if(ET7!=null)then
call CYE(O5,h4[O5],true,false)
call IssueTargetOrderById(it,851983,ET7)
endif
endif
elseif GetWidgetLife(V4)<.405 and Bz>GV7 then
set eY[O5]=1
set h4[64+O5]=null
call J3(it,false)
elseif((j1(it,ND)>2000.)or(G0[O5]))then
if((IsUnitAlly(it,A7[0]))or(GetUnitX(it)>2300.))then
call T47(it,851986,h7[250])
else
call IssuePointOrderById(it,851986,2736.,-2656.)
endif
else
if G0[48+O5]then
elseif hq[704+O5]<-0.05 then
call CVE(it,false)
elseif not IsUnitInRegion(ow,it)then
call T47(it,851986,h7[250])
elseif IsUnitInRange(it,V4,700.)then
call IssueTargetOrderById(it,851983,V4)
else
call T47(it,851983,h7[250])
endif
endif
set it=null
endfunction
function ODF takes nothing returns boolean
set EO7=GetOwningPlayer(GetFilterUnit())
return(EO7==Z7[0]or EO7==A7[0])and IsUnitEnemy(bj_lastLoadedUnit,EO7)and GetWidgetLife(GetFilterUnit())>.405 and((GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0)and(GetUnitAbilityLevel(GetFilterUnit(),1097625443)==0))
endfunction
function OEF takes nothing returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))
if((G0[32+O5])or(not G0[128+O5])or(G0[O5])or(GT))then
elseif(h4[O5]==null)then
call CYE(O5,hz,false,false)
if(S47(GetEnumUnit()))then
set GT=CTE(GetEnumUnit(),hz,true)
endif
elseif(S47(GetEnumUnit()))then
set GT=CTE(GetEnumUnit(),hz,true)
endif
endfunction
function OFF takes unit OGF,unit OHF returns nothing
set hZ=OGF
set hz=OHF
if(GetWidgetLife(OHF)>1.)then
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(OGF),GetUnitY(OGF),1200.,iP)
set GT=false
call ForGroup(iA,function OEF)
endif
endfunction
function OIF takes unit PI7 returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(PI7))
local boolean OJF=h8[32+O5]==h8[128+O5]
local boolean OKF=true
local integer UP
local integer V37
local integer i
local integer EAF
local integer j
local integer k
local boolean QC7=IsUnitAlly(PI7,Z7[0])
if SH7(PI7)then
set eY[O5]=1
call AA7(PI7)
call VA7(PI7,true)
endif
set hq[544+O5]=Bz+30.
if(eY[272+O5]!=0)then
set UP=GetUnitUserData(h8[112+O5])
else
set UP=GetUnitUserData(h8[128+O5])
endif
if(QC7)then
if((hj[256+UP]==18)or(hj[UP]==10))then
set EAF=IMaxBJ(10+P24-1,11)
elseif((hj[256+UP]==40)or(hj[UP]==30))then
set EAF=IMaxBJ(30+P_4-1,31)
else
set EAF=IMaxBJ(50+Q44-1,51)
endif
else
set UP=hj[512+UP]
if((hj[256+UP]==118)or(hj[UP]==110))then
set EAF=IMaxBJ(118-P24-1,111)
elseif((hj[256+UP]==140)or(hj[UP]==130))then
set EAF=IMaxBJ(140-P_4-1,131)
else
set EAF=IMaxBJ(160-Q44-1,151)
endif
endif
set i=EAF
if eY[272+O5]==0 then
if(QC7)then
if(UP>i)then
set h8[128+O5]=h7[i]
else
set OKF=false
endif
if((h8[128+O5]==h7[15])and(SE7(JL4)))then
set h8[128+O5]=h7[14]
endif
else
if(UP>i)then
set h8[128+O5]=h7[i]
else
set OKF=false
endif
if((h8[128+O5]==h7[13])and(SE7(JH4)))then
set h8[128+O5]=h7[14]
endif
endif
else
if(QC7)then
set h8[128+O5]=h7[i]
if((h8[128+O5]==h7[15])and(SE7(JL4)))then
set h8[128+O5]=h7[14]
endif
else
set h8[128+O5]=h7[i]
if((h8[128+O5]==h7[13])and(SE7(JH4)))then
set h8[128+O5]=h7[14]
endif
endif
set j=eY[288+O5]
if(h8[96+O5]!=null)then
set V37=GetPlayerId(GetOwningPlayer(h8[96+O5]))
set j=RJ7(GetUnitUserData(h8[80+V37]))
endif
if((h8[96+O5]==null)or(GetWidgetLife(h8[96+O5])<.405)or(j!=eY[288+O5])or(eY[32+GetPlayerId(GetOwningPlayer(h8[96+O5]))]<=0)or(not IsUnitInRange(h8[96+O5],h8[160+O5],2000.)))then
set MR7=h8[96+O5]
set MQ7=PI7
set bj_lastLoadedUnit=PI7
set bj_forLoopBIndex=eY[288+O5]
set h8[96+O5]=null
if eY[272+O5]>=4 then
set h8[96+O5]=Z97(3000.,PI7,Condition(function WT7))
endif
if h8[96+O5]==null then
set h8[96+O5]=Z97(3000.,h7[i],Condition(function WT7))
endif
if(MR7!=null and h8[96+O5]!=MR7)then
set V37=GetPlayerId(GetOwningPlayer(h8[96+O5]))
set k=1
loop
exitwhen k>11
if((IsPlayerAlly(Player(k),Player(O5)))and(eY[k]==9)and(eY[272+k]!=0)and(h8[96+k]==MR7))then
set h8[96+k]=h8[96+O5]
endif
set k=k+1
endloop
endif
endif
if(h8[96+O5]!=null and eY[32+V37]>0)then
set h8[160+O5]=h8[80+V37]
set i=GetUnitUserData(h8[80+V37])
if(RH7(h8[96+O5],h9[V37])<RH7(h8[80+V37],h9[V37]))or(RH7(h8[96+O5],h8[80+V37])<300)then
if QC7 then
set i=i+1
else
set i=i-1
endif
endif
set i=HJF(i,QC7,PH7(PI7))
set j=GetUnitUserData(h8[112+O5])
if(((QC7)and(i>j or j-i>1))or((not QC7)and(i<j or i-j>1)))and(RH7(PI7,h8[112+O5])>2000)then
set h8[112+O5]=h7[i]
endif
else
if(QC7)then
if(UP<i)then
set MQ7=h8[112+O5]
set h8[112+O5]=h7[i]
endif
if((h8[112+O5]==h7[15])and(SE7(JL4)))then
set h8[112+O5]=h7[14]
endif
else
if(UP<i)then
set MQ7=h8[112+O5]
set h8[112+O5]=h7[i-1]
endif
if((h8[112+O5]==h7[13])and(SE7(JH4)))then
set h8[112+O5]=h7[14]
endif
endif
if h8[32+O5]==MQ7 then
set h8[32+O5]=h8[112+O5]
endif
if h8[48+O5]==MQ7 then
set h8[48+O5]=h8[112+O5]
endif
endif
if eY[272+O5]==2 or eY[272+O5]==3 then
set i=GetUnitUserData(h8[112+O5])
set k=RJ7(GetUnitUserData(h8[80+O5]))
if k==0 then
set k=RJ7(GetUnitUserData(h8[112+O5]))
endif
set UP=GetUnitUserData(h8[48+O5])
set j=HMF(O5,i,k,QC7)
if(j!=0)and(UP!=j)then
if HNF(O5,UP,j)then
elseif(k==1)then
set j=326
elseif(k==2)then
set j=327
endif
set MQ7=h8[48+O5]
set h8[48+O5]=h7[j]
set h8[32+O5]=h8[48+O5]
set eY[272+O5]=2
endif
endif
endif
if((OJF)and(OKF))then
set h8[32+O5]=h8[128+O5]
set h8[48+O5]=h8[128+O5]
endif
if((h4[144+O5]!=null)and((Bz+4.)>hq[512+O5]))then
set hq[512+O5]=Bz+4.
endif
set MQ7=SQ7(700.,S_7(PI7),Condition(function k6))
if((not G0[160+O5])and((MQ7!=null)or((h4[O5]!=null)and(eY[272+O5]!=4))))then
set eY[O5]=1
if(eY[272+O5]>=4)then
set h8[96+O5]=MQ7
call CYE(O5,h4[O5],true,true)
call AA7(PI7)
set hq[624+O5]=Bz+FL7
set hq[416+O5]=0
call MTF(PI7,h8[96+O5])
else
if((h4[144+O5]!=null)and((Bz+6.)>hq[512+O5]))then
set hq[512+O5]=Bz+6.
endif
if(h8[128+O5]==h8[48+O5])then
if(RH7(PI7,h8[128+O5])<RH7(PI7,h8[O5]))then
if(IsUnitAlly(PI7,Z7[0]))then
call AY7(PI7,GetUnitUserData(h8[128+O5]))
else
call AY7(PI7,hj[512+GetUnitUserData(h8[128+O5])])
endif
endif
else
if(RH7(PI7,h8[128+O5])<RH7(PI7,h8[48+O5]))then
set i=GetUnitUserData(h8[128+O5])
else
set i=GetUnitUserData(h8[48+O5])
endif
if i>100 then
set i=EAF
elseif(not QC7)then
set i=hj[512+i]
endif
call AY7(PI7,i)
endif
if((h4[O5]==null)and(G0[128+O5]))then
set ET7=SP7(1000.,PI7,Condition(function k6))
if(ET7!=null)then
call CYE(O5,ET7,true,true)
call IssueTargetOrderById(PI7,851983,h4[O5])
endif
endif
endif
elseif eY[272+O5]==3 then
call HXF(O5,QC7,UP)
elseif(eY[272+O5]>=4)then
if(not G0[336+O5])and(h8[96+O5]!=null and IsUnitVisible(h8[96+O5],Player(O5)))then
call HZF(QC7,O5,h8[96+O5])
endif
if(h8[96+O5]!=null and RH7(PI7,h8[96+O5])<1000. and IsUnitVisible(h8[96+O5],Player(O5)))then
set eY[O5]=1
call AA7(PI7)
set hq[624+O5]=Bz+FL7
set hq[416+O5]=0
call CYE(O5,h8[96+O5],true,true)
call OFF(PI7,h8[96+O5])
elseif(RH7(PI7,h8[128+O5])<500.)then
set eY[O5]=1
call AA7(PI7)
elseif(RH7(PI7,h8[48+O5])<500.)and(eY[272+O5]==5)then
set h8[48+O5]=h8[128+O5]
elseif(RH7(PI7,h8[112+O5])<800.)and(eY[272+O5]==4)then
set eY[272+O5]=5
call AA7(PI7)
set h8[48+O5]=h8[128+O5]
set i=GetUnitUserData(h8[112+O5])
if QC7 then
if(i>35 and i<40)then
set h8[48+O5]=h7[35]
elseif(i>55 and i<60)then
set h8[48+O5]=h7[55]
endif
else
if(i>30 and i<35)then
set h8[48+O5]=h7[35]
elseif(i>50 and i<55)then
set h8[48+O5]=h7[55]
endif
endif
set h8[32+O5]=h8[48+O5]
endif
if S47(PI7)then
if(h8[96+O5]!=null and S97(h8[96+O5])and RH7(PI7,h8[96+O5])<1200.)then
call IssueTargetOrderById(PI7,851983,h8[96+O5])
elseif eY[272+O5]==4 then
call T47(PI7,851983,h8[48+O5])
else
call T47(PI7,851986,h8[48+O5])
endif
endif
elseif(RH7(PI7,h8[128+O5])<1000.)and(eY[272+O5]==0)then
set eY[O5]=1
if S47(PI7)then
call T47(PI7,851983,h8[48+O5])
endif
call AA7(PI7)
elseif(h8[48+O5]!=h8[32+O5])and(RH7(PI7,h8[48+O5])<1000.)and(eY[272+O5]<=1)then
set h8[48+O5]=h8[32+O5]
if(RH7(PI7,h8[48+O5])<500. and(not S97(PI7)))then
set G0[176+O5]=true
endif
if S47(PI7)then
if G0[176+O5]then
call J3(PI7,false)
else
if hq[640+O5]<=Bz then
call T47(PI7,851986,h9[O5])
elseif GetUnitCurrentOrder(PI7)==851983 then
call T47(PI7,851983,h9[O5])
endif
endif
endif
elseif((not G0[176+O5])and(h8[48+O5]==h8[32+O5]))and(eY[272+O5]<=1)then
if S47(PI7)then
if hq[640+O5]<=Bz then
call T47(PI7,851986,h9[O5])
elseif GetUnitCurrentOrder(PI7)==851983 then
call T47(PI7,851983,h9[O5])
endif
endif
elseif((is(PI7))and((SS7(700.,PI7,Condition(function k6))==0)))then
call T47(PI7,851986,h8[48+O5])
endif
set hq[576+O5]=Bz+FZ7
set PI7=null
endfunction
function OMF takes real ONF,location b5 returns boolean
local boolean J4=false
local integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))
local integer UP=0
local integer I9F=0
local unit m5=null
local unit AU7=null
if(GetUnitCurrentOrder(GetEnumUnit())==851983)then
call GroupClear(H8)
call GroupEnumUnitsInRange(H8,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),RMaxBJ(ONF,500.),Q24)
loop
set AU7=FirstOfGroup(H8)
exitwhen(AU7==null)
if((not SE7(AU7))or(not WH7(AU7))or(IsUnitType(AU7,UNIT_TYPE_STRUCTURE)))then
elseif((GetOwningPlayer(AU7)==Z7[0])or(GetOwningPlayer(AU7)==A7[0]))then
if(IsUnitEnemy(AU7,GetOwningPlayer(GetEnumUnit())))then
set UP=UP+1
set I9F=I9F+1
else
set UP=UP-1
endif
elseif((m5==null)and(IsHeroUnitId(GetUnitTypeId(AU7)))and(IsUnitEnemy(AU7,GetOwningPlayer(GetEnumUnit())))and(IsUnitVisible(AU7,GetOwningPlayer(GetEnumUnit()))))then
set m5=AU7
endif
call GroupRemoveUnit(H8,AU7)
endloop
if((I9F<5)and(UP<0)and(m5!=null)and(IsHeroUnitId(GetUnitTypeId(m5))))then
set J4=IssueTargetOrderById(GetEnumUnit(),851983,m5)
set GZ[48+O5]=false
endif
set m5=null
endif
return J4
endfunction
function OOF takes real j4,real Ja,location b5 returns boolean
local unit OPF=null
local unit OQF=null
local unit AU7=null
local integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))
local boolean J4=false
local unit PI7=null
if(SI7(O5))then
return false
elseif((Id(O5))or((GZ[128+O5])and(SR7(800.,b5,Condition(function k6))>0)))then
return false
elseif((h4[96+O5]!=null)and(GetWidgetLife(h4[96+O5])>.405)and(IsUnitInRange(GetEnumUnit(),h4[96+O5],800.)))then
call IssueTargetOrderById(GetEnumUnit(),851983,h4[96+O5])
return true
endif
set PI7=GetEnumUnit()
if(GetUnitLifePercent(PI7)<70.)then
set j4=j4-150.
set Ja=Ja-150.
endif
call GroupClear(H8)
call GroupEnumUnitsInRange(H8,GetUnitX(PI7),GetUnitY(PI7),RMaxBJ(j4,Ja),Q24)
loop
set AU7=FirstOfGroup(H8)
exitwhen((AU7==null)or((OPF!=null)and(OQF!=null)))
if((not SE7(AU7))or(not WH7(AU7)))then
elseif((GetOwningPlayer(AU7)==Z7[0])or(GetOwningPlayer(AU7)==A7[0]))then
if((h4[304+O5]!=null)and(QL7(PI7)+RH7(AU7,h4[304+O5])<RH7(PI7,h4[304+O5])))then
elseif(IsUnitEnemy(AU7,GetOwningPlayer(PI7)))then
if((OQF==null)and(GetUnitState(AU7,UNIT_STATE_LIFE)<150.)and(GetUnitLifePercent(AU7)<25.)and(IsUnitInRange(AU7,PI7,Ja)))then
set OQF=AU7
endif
else
if((OPF==null)and(GetUnitState(AU7,UNIT_STATE_LIFE)<150.)and(((not IsUnitType(AU7,UNIT_TYPE_STRUCTURE))and(GetUnitLifePercent(AU7)<25.))or(GetUnitLifePercent(AU7)<5.)))then
set OPF=AU7
if IsUnitType(OPF,UNIT_TYPE_STRUCTURE)and(ZT==true or IsUnitType(OPF,UNIT_TYPE_RANGED_ATTACKER)==false)then
if SS7(1800.,OPF,Condition(function k6))==0 then
set OPF=null
endif
endif
endif
endif
endif
call GroupRemoveUnit(H8,AU7)
endloop
set AU7=null
if((OPF!=null)and((IsUnitType(OPF,UNIT_TYPE_STRUCTURE))or(GetHeroLevel(PI7)<=20)or(GetUnitAbilityLevel(PI7,1093686064)>0)))then
set h4[96+O5]=OPF
call DisableTrigger(Q04[O5])
set J4=IssueTargetOrderById(PI7,851983,OPF)
call EnableTrigger(Q04[O5])
elseif(OQF!=null)then
set h4[96+O5]=OQF
call DisableTrigger(Q04[O5])
set J4=IssueTargetOrderById(PI7,851983,OQF)
call EnableTrigger(Q04[O5])
endif
set PI7=null
set OPF=null
set OQF=null
return J4
endfunction
function ORF takes integer O5,location b5 returns boolean
local unit AU7=null
local integer kc=0
local real j4=RH7(GetEnumUnit(),h8[16+GetPlayerId(GetOwningPlayer(GetEnumUnit()))])
local boolean OSF=false
local boolean OTF=false
if(ke(GetEnumUnit()))then
return true
endif
call GroupClear(H8)
call GroupEnumUnitsInRange(H8,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),1500.,Q24)
loop
set AU7=FirstOfGroup(H8)
exitwhen(AU7==null)
if((not SE7(AU7))or(not WH7(AU7)))then
elseif(IsUnitEnemy(AU7,GetOwningPlayer(GetEnumUnit())))then
if((not OSF)and(GetOwningPlayer(AU7)!=Player(12)))then
if((IsUnitVisible(AU7,GetOwningPlayer(GetEnumUnit())))or(GetOwningPlayer(AU7)==Z7[0])or(GetOwningPlayer(AU7)==A7[0]))then
set OSF=true
elseif((IsUnitType(AU7,UNIT_TYPE_HERO))and(eY[32+GetPlayerId(GetOwningPlayer(AU7))]>0)or((not kD(AU7))and(IsUnitInRange(AU7,GetEnumUnit(),600.))))then
set OSF=true
endif
endif
elseif((GetOwningPlayer(AU7)==Z7[0])or(GetOwningPlayer(AU7)==A7[0]))then
if(RH7(AU7,h8[16+GetPlayerId(GetOwningPlayer(GetEnumUnit()))])<j4)then
if(IsUnitInRange(AU7,GetEnumUnit(),700.))then
set kc=kc+1
endif
set OTF=true
elseif((IsUnitType(AU7,UNIT_TYPE_STRUCTURE))and(IsUnitInRange(AU7,GetEnumUnit(),900.)))then
set OTF=true
if G0[128+O5]then
set kc=kc+2
endif
endif
endif
call GroupRemoveUnit(H8,AU7)
endloop
return((kc>1)or((not OSF)and(OTF)))
endfunction
function OUF takes location b5 returns nothing
local unit OVF=GetEnumUnit()
local integer O5=GetPlayerId(GetOwningPlayer(OVF))
local real kl
local boolean S37=false
if SI7(O5)then
return
endif
set S37=((US7(GetHandleId(OVF),"WaterSword|Active"))and(SR7(1200.,S_7(OVF),Condition(function k6))>=1)and(G0[256+O5]))
if((eY[O5]==1)and((GetHeroLevel(OVF)<9)or(GetUnitLifePercent(OVF)<75.))and(GetUnitCurrentOrder(OVF)==851983)and(not G0[48+O5])and(not G0[O5])and(not GZ[128+O5])and(not G0[32+O5]))then
if S37 then
elseif((not GZ[48+O5])and(SR7(300.,b5,Condition(function Kv))==0)and(SR7(600.,b5,Condition(function Kv))>1))then
call IssueImmediateOrderById(OVF,851993)
endif
endif
if((GetHeroLevel(OVF)>8)and(GetUnitLifePercent(OVF)>65.))then
if((not SH7(OVF))and(not G0[O5])and(not G0[48+O5])and(not G0[64+O5])and(iU(OVF))and(not OMF(300.,b5))and(not OOF(650.,650.,b5))and((GetUnitCurrentOrder(OVF)==851986)or(GetUnitCurrentOrder(OVF)==851993))and(not G0[32+O5])and(not G0[48+O5])and(Bz>hq[496+O5])and(ORF(O5,b5)))then
call T47(OVF,851983,h8[O5])
endif
elseif((not SH7(OVF))and(not G0[O5])and(not G0[48+O5])and(not G0[64+O5])and(iU(OVF))and(not OOF(650.,550.,b5)))then
if((GetUnitCurrentOrder(OVF)==851983)and(not GZ[48+O5])and(not S37))then
if((GetHeroLevel(OVF)<8)and((SR7(300.,b5,Condition(function Kv))>0)or(SR7(500.,b5,Condition(function Kw))>0)))then
set kl=Atan2(GetUnitY(h9[O5])-GetUnitY(OVF),GetUnitX(h9[O5])-GetUnitX(OVF))
call IssuePointOrderById(OVF,851986,GetUnitX(OVF)+200.*Cos(kl),GetUnitY(OVF)+200.*Sin(kl))
elseif(SR7(400.,b5,Condition(function Kv))>1)then
set kl=Atan2(GetUnitY(h9[O5])-GetUnitY(OVF),GetUnitX(h9[O5])-GetUnitX(OVF))
call IssuePointOrderById(OVF,851986,GetUnitX(OVF)+250.*Cos(kl),GetUnitY(OVF)+250.*Sin(kl))
endif
elseif(((GetUnitCurrentOrder(OVF)==851986)or(GetUnitCurrentOrder(OVF)==851993))and(not G0[32+O5])and(not G0[48+O5])and(not G0[48+O5])and(Bz>hq[496+O5])and(ORF(O5,b5)))then
call T47(OVF,851983,h8[O5])
endif
endif
set OVF=null
endfunction
function OWF takes location b5 returns nothing
local unit OXF=GetEnumUnit()
local integer O5=GetPlayerId(GetOwningPlayer(OXF))
local real kl
if((not SH7(OXF))and(not G0[O5])and(not G0[48+O5])and(not G0[64+O5])and(iU(OXF))and(not OMF(550.,b5))and(not OOF(900.,800.,b5)))then
if(((GetUnitCurrentOrder(OXF)==851986)or(GetUnitCurrentOrder(OXF)==851993))and(not G0[32+O5])and(Bz>hq[496+O5])and(ORF(O5,b5)))then
call T47(OXF,851983,h8[O5])
elseif((GetUnitCurrentOrder(OXF)==851983)and(not GZ[48+O5]))then
if eY[O5]==3 or eY[O5]==4 then
elseif(((GetHeroLevel(OXF)<6)or(GetUnitLifePercent(OXF)<75.))and(SR7(300.,b5,Condition(function Kv))>1))then
set kl=Atan2(GetUnitY(h9[O5])-GetUnitY(OXF),GetUnitX(h9[O5])-GetUnitX(OXF))
call IssuePointOrderById(OXF,851986,GetUnitX(OXF)+250.*Cos(kl),GetUnitY(OXF)+250.*Sin(kl))
elseif((GetHeroLevel(OXF)<7)and(Bz>hq[496+O5])and((h4[80+O5]==null)or(GetOwningPlayer(h4[80+O5])==Z7[0])or(GetOwningPlayer(h4[80+O5])==A7[0]))and(SR7(800.,b5,Condition(function Kv))>0))then
set kl=GetRandomReal(0.,360.)*bj_DEGTORAD
call IssuePointOrderById(OXF,851986,GetUnitX(OXF)+GetRandomReal(50.,90.)*Cos(kl),GetUnitY(OXF)+GetRandomReal(50.,90.)*Sin(kl))
set hq[864+O5]=GetRandomReal(-EV7,EV7)
endif
endif
endif
set OXF=null
endfunction
function OYF takes unit u,string s1 returns nothing
if GetUnitAbilityLevel(u,1093677130)>0 or GetUnitTypeId(u)==1212365106 then
else
return
endif
endfunction
function OZF takes location b5 returns nothing
local unit OAF=GetEnumUnit()
local integer O5=GetPlayerId(GetOwningPlayer(OAF))
local unit m5=null
call OYF(OAF,GetUnitName(OAF)+" CurrentOrder "+I2S(GetUnitCurrentOrder(OAF)))
if(not iU(OAF))then
call OYF(OAF,GetUnitName(OAF)+"Inside if not iU{UNv}")
elseif((IsUnitVisible(OAF,Z7[0]))and(IsUnitVisible(OAF,A7[0])))then
call OYF(OAF,GetUnitName(OAF)+"Inside if IsUnitVisible TO BOTH SIDE")
if(((SR7(1000.,b5,Condition(function YE7)))>0)and((SR7(1000.,b5,Condition(function k6)))>0)and((SR7(900.,b5,Condition(function Kd)))<3))then
call OYF(OAF,GetUnitName(OAF)+"Inside if AI_OrderToWaipoint to reTreate Riki:codeA")
call T47(OAF,851986,h9[O5])
else
call OYF(OAF,GetUnitName(OAF)+"Inside UXv")
call OUF(b5)
endif
elseif((SR7(1200.,b5,Condition(function k6)))==0)then
call OYF(OAF,GetUnitName(OAF)+" Prepare to attack")
if(GetUnitCurrentOrder(OAF)==851983)then
set m5=SO7(400.,b5,Condition(function KA))
if(m5==null)then
set m5=SO7(700.,b5,Condition(function Ka))
endif
if(m5!=null)then
call OYF(OAF,GetUnitName(OAF)+"  attack "+GetUnitName(m5))
call IssueTargetOrderById(OAF,851983,m5)
endif
endif
else
if(((SR7(1000.,b5,Condition(function Kd)))<2)and(SR7(1000.,b5,Condition(function k8))>1)and(SR7(500.,b5,Condition(function YW7))==0))then
call OYF(OAF,GetUnitName(OAF)+"Inside if AI_OrderToWaipoint to reTreate Riki:codeB")
call T47(OAF,851986,h9[O5])
elseif((not G0[O5])and(not G0[64+O5])and(iU(OAF))and(not OOF(750.,650.,b5)))then
if(SR7(250.,b5,Condition(function k8))==0 and GetUnitAbilityLevel(OAF,1093677130)==0)or(GetUnitAbilityLevel(OAF,1093677130)!=0 and(SR7(700.,b5,Condition(function XG7))==0)and SS7(800,OAF,Condition(function FZ8))==0 and FA8(OAF)==false)then
call IssueImmediateOrderById(OAF,851993)
else
call IssuePointOrderById(OAF,851986,GetUnitX(m5)+GetRandomReal(0,200.)-100.,GetUnitY(m5)+GetRandomReal(0,200.)-100.)
set hq[864+O5]=GetRandomReal(-EV7,EV7)
endif
endif
endif
set m5=null
set OAF=null
endfunction
function OBF takes unit it,integer O5,location b5 returns boolean
local unit m5=null
local real OCF=bj_RADTODEG*Atan2(GetUnitY(h9[16+O5])-GetUnitY(it),GetUnitX(h9[16+O5])-GetUnitX(it))
local real O3F
call MoveLocation(Ha,GetUnitX(it)+300.*Cos(OCF*bj_DEGTORAD),GetUnitY(it)+300.*Sin(OCF*bj_DEGTORAD))
if(SR7(500.,Ha,Condition(function Kd))>2)then
set m5=SQ7(500.,Ha,Condition(function Kd))
if(m5!=null)then
set O3F=bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it))
else
return false
endif
if(RAbsBJ(O3F-OCF)>20)then
set m5=null
return false
elseif(O3F>OCF)then
set OCF=OCF-20.
else
set OCF=OCF+20.
endif
call IssuePointOrderById(it,851986,GetUnitX(it)+600.*Cos(bj_DEGTORAD*OCF),GetUnitY(it)+600.*Sin(bj_DEGTORAD*OCF))
set m5=null
return true
else
return false
endif
endfunction
function O6F takes nothing returns nothing
call ExecuteFunc("OLF")
endfunction
function OLF takes nothing returns nothing
local unit it=GetEnumUnit()
local unit NOF=null
local integer O5=GetPlayerId(GetOwningPlayer(it))
local location b5
local integer UP
local real O1F=RH7(it,TJ7(it))
local boolean J4=false
if(GetUnitTypeId(it)!=1211117642)then
set b5=HC[16+O5]
else
if(UN7(GetHandleId(it),"MCSLoc")!=null)then
set b5=UN7(GetHandleId(it),"MCSLoc")
else
set b5=GetUnitLoc(it)
call T27(GetHandleId(it),"MCSLoc",b5)
endif
endif
call MoveLocation(b5,GetUnitX(it),GetUnitY(it))
if((SH7(it))and(is(it))and(not Id(O5))and(GetUnitAbilityLevel(it,1093685334)==0)and(GetUnitAbilityLevel(it,1110454874)==0))then
if(not OBF(it,O5,b5))then
if(O1F<1000)or(not JMF(it))then
if((O1F+100.)<RH7(h9[O5],TJ7(it)))then
call T47(it,851986,h9[16+O5])
else
call T47(it,851986,h9[O5])
endif
endif
endif
endif
set J4=KVF(it)
if false and(eY[O5]==1 or eY[O5]==9)and(not K27[240+O5])then
set UP=-1
if((RH7(it,h8[O5])<400)and(GetUnitCurrentOrder(it)==851983))then
set UP=GetUnitUserData(h8[O5])
elseif((RH7(it,h9[O5])<400)and(GetUnitCurrentOrder(it)==851986))then
set UP=GetUnitUserData(h9[O5])
endif
if(UP>=11 and UP<=17)or(UP>=31 and UP<=39)or(UP>=51 and UP<=59)then
if Z17(Player(O5))then
set UP=hj[512+UP]
endif
call AY7(it,UP)
endif
endif
if((eY[O5]==2)and(not J4)and(is(it))and(O1F>500.))then
if(IsUnitAlly(it,Z7[0]))then
call IOF(it,O5,PU4)
else
call IOF(it,O5,PV4)
endif
endif
if((eY[O5]==1)and(not J4)and(is(it))and(GetUnitAbilityLevel(it,1110459478)>0))then
set J4=T47(it,851986,h9[16+O5])
set G0[64+O5]=true
endif
if((not J4)and(O1F>4500.)and(is(it)))then
if(GetUnitAbilityLevel(it,1110459204)==0)then
if(not J4)and(SU7(it,ZU[TC]))then
set UP=R2I(((GetUnitState(it,UNIT_STATE_LIFE)+175.)/GetUnitState(it,UNIT_STATE_MAX_LIFE))*100.)
if((eY[O5]==1)and(UP<100)and(UP>50)and(Bz>hq[256+O5]))then
set J4=(h4[O5]==null)and(SR7(1000.,b5,Condition(function Y27))==0)and(SR7(1000.,b5,Condition(function YE7))==0)and(iy(it))and(NLF(it))
endif
endif
if(not J4)and(SU7(it,ZU[LB]))then
if(GetUnitState(it,UNIT_STATE_MAX_LIFE)<700.)then
set UP=R2I(((GetUnitState(it,UNIT_STATE_LIFE)+275.)/GetUnitState(it,UNIT_STATE_MAX_LIFE))*100.)
else
set UP=R2I(((GetUnitState(it,UNIT_STATE_LIFE)+375.)/GetUnitState(it,UNIT_STATE_MAX_LIFE))*100.)
endif
if(eY[O5]==1)and(UP<100)and(UP>45)then
set J4=(h4[O5]==null)and(iy(it))and(UnitCountBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,it,false,false)==0)and(SR7(1100.,b5,Condition(function KX))==0)and(SR7(700.,b5,Condition(function KA))==0)and(UnitUseItem(it,bj_lastCreatedItem))
endif
endif
if(not J4)and(SU7(it,ZU[QC]))then
if(GetUnitState(it,UNIT_STATE_MAX_LIFE)<700.)then
set UP=R2I(((GetUnitState(it,UNIT_STATE_LIFE)+275.)/GetUnitState(it,UNIT_STATE_MAX_LIFE))*100.)
else
set UP=R2I(((GetUnitState(it,UNIT_STATE_LIFE)+375.)/GetUnitState(it,UNIT_STATE_MAX_LIFE))*100.)
endif
if((eY[O5]==1)and(UP<100)and(UP>45)and(GetUnitAbilityLevel(it,1110454874)==0))then
set J4=(h4[O5]==null)and(iy(it))and(UnitCountBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,it,false,false)==0)and(SR7(1100.,b5,Condition(function KX))==0)and(SR7(700.,b5,Condition(function KA))==0)and(UnitUseItemTarget(it,bj_lastCreatedItem,it))
endif
endif
endif
if((not J4)and(O1F>6000.)and(not G0[O5]))then
if eY[208+O5]!=0 then
if eY[O5]!=1 or RH7(it,h7[eY[208+O5]])<3000. then
set eY[208+O5]=0
endif
endif
if(eY[O5]==1)then
if false and((Bz>hq[592+O5])and(K27[128+O5])and(GetHeroLevel(it)>5)and(h4[O5]==null)and((Bz>hq[592+O5]+60. and SQ7(800.,b5,Condition(function KX))==null)or(SQ7(1200.,b5,Condition(function KX))==null))and((GetHeroLevel(it)<12)or((RH7(it,JX(it))>6000.)and(SQ7(1200.,b5,Condition(function KX))==null))))then
set G0[320+O5]=true
call VA7(it,true)
if(IsUnitAlly(it,Z7[0]))then
set J4=V17(it,IZ4)
else
set J4=V17(it,JA4)
endif
elseif(eY[208+O5]!=0 and SR7(800.,b5,Condition(function k6))==0)then
if h8[144+O5]!=null then
set J4=V17(it,h8[144+O5])
else
set J4=V17(it,h7[eY[208+O5]])
endif
endif
elseif((eY[O5]==3)or(eY[O5]==4))then
if(SR7(800.,b5,Condition(function k6))>0)then
elseif(SH7(it))then
elseif(IsUnitAlly(it,Z7[0]))then
if(EC7[64+O5]==0)then
if(P34<3)then
set J4=V17(it,JO4)
elseif(GetWidgetLife(JT4)>.405)then
set J4=V17(it,JT4)
elseif(GetWidgetLife(JW4)>.405)then
set J4=V17(it,JW4)
elseif(GetWidgetLife(JQ4)>.405)then
set J4=V17(it,JQ4)
elseif(GetWidgetLife(JR4)>.405)then
set J4=V17(it,JR4)
elseif(GetWidgetLife(JF4)>.405)then
set J4=V17(it,JF4)
endif
elseif(EC7[64+O5]==1)then
if(P64<3)then
set J4=V17(it,JN4)
elseif(GetWidgetLife(JS4)>.405)then
set J4=V17(it,JS4)
elseif(GetWidgetLife(JV4)>.405)then
set J4=V17(it,JV4)
elseif(GetWidgetLife(JQ4)>.405)then
set J4=V17(it,JQ4)
elseif(GetWidgetLife(JR4)>.405)then
set J4=V17(it,JR4)
elseif(GetWidgetLife(JF4)>.405)then
set J4=V17(it,JF4)
endif
elseif(EC7[64+O5]==2)then
if(PL4<3)then
set J4=V17(it,JP4)
elseif(GetWidgetLife(JU4)>.405)then
set J4=V17(it,JU4)
elseif(GetWidgetLife(JX4)>.405)then
set J4=V17(it,JX4)
elseif(GetWidgetLife(JQ4)>.405)then
set J4=V17(it,JQ4)
elseif(GetWidgetLife(JR4)>.405)then
set J4=V17(it,JR4)
elseif(GetWidgetLife(JF4)>.405)then
set J4=V17(it,JF4)
endif
elseif(EC7[64+O5]==3)then
if(GetWidgetLife(JF4)>.405)then
set J4=V17(it,JF4)
endif
endif
if(not J4)then
set J4=V17(it,IZ4)
endif
else
if(EC7[64+O5]==0)then
if(P14<3)then
set J4=V17(it,K44)
elseif(GetWidgetLife(KE4)>.405)then
set J4=V17(it,KE4)
elseif(GetWidgetLife(KH4)>.405)then
set J4=V17(it,KH4)
elseif(GetWidgetLife(K84)>.405)then
set J4=V17(it,K84)
elseif(GetWidgetLife(K94)>.405)then
set J4=V17(it,K94)
elseif(GetWidgetLife(J34)>.405)then
set J4=V17(it,J34)
endif
elseif(EC7[64+O5]==1)then
if(P04<3)then
set J4=V17(it,J_4)
elseif(GetWidgetLife(KD4)>.405)then
set J4=V17(it,KD4)
elseif(GetWidgetLife(KG4)>.405)then
set J4=V17(it,KG4)
elseif(GetWidgetLife(K84)>.405)then
set J4=V17(it,K84)
elseif(GetWidgetLife(K94)>.405)then
set J4=V17(it,K94)
elseif(GetWidgetLife(J34)>.405)then
set J4=V17(it,J34)
endif
elseif(EC7[64+O5]==2)then
if(P54<3)then
set J4=V17(it,K74)
elseif(GetWidgetLife(KF4)>.405)then
set J4=V17(it,KF4)
elseif(GetWidgetLife(KI4)>.405)then
set J4=V17(it,KI4)
elseif(GetWidgetLife(K84)>.405)then
set J4=V17(it,K84)
elseif(GetWidgetLife(K94)>.405)then
set J4=V17(it,K94)
elseif(GetWidgetLife(J34)>.405)then
set J4=V17(it,J34)
endif
elseif(EC7[64+O5]==3)then
if(GetWidgetLife(J34)>.405)then
set J4=V17(it,J34)
endif
endif
if(not J4)then
set J4=V17(it,JA4)
endif
endif
endif
endif
if((not J4)and(O1F>8500.)and(eY[O5]!=11))then
set NOF=h4[128+O5]
if((NOF!=null)and(SE7(NOF))and(IsUnitInRange(it,NOF,1000.)))then
if((GetUnitTypeId(NOF)==1966092372)or(GetUnitTypeId(NOF)==1697657145))then
set UP=SS7(1000.,NOF,Condition(function KC))
if((UP==0)and(not Id(O5))and(GetUnitState(it,UNIT_STATE_LIFE)<1600.)and(Bz>hq[512+O5]))then
call CBE(O5,false)
set J4=T47(it,851986,h9[O5])
endif
elseif(((Id(O5))and(R2I(GetUnitState(it,UNIT_STATE_LIFE))>(400+(GetHeroLevel(it)*50)))and(GetHeroLevel(it)>=6))or(hq[512+O5]>Bz))then
if((RH7(it,JX(it)))<(RH7(NOF,JX(it))-200.))then
call CBE(O5,true)
set J4=T47(it,851986,h9[O5])
set hq[512+O5]=0.
endif
elseif((GetHeroLevel(it)<11)and((RH7(it,JX(it)))<(RH7(NOF,JX(it))+I2R(500-(GetHeroLevel(it)*20))))and(not iy(it))and(h4[80+O5]!=NOF))then
call CBE(O5,true)
set J4=T47(it,851986,h9[O5])
set hq[512+O5]=0.
elseif((Bz>hq[512+O5])and((h4[O5]==null)or((not Id(O5))and((GetHeroLevel(it)<16)or(GetUnitState(it,UNIT_STATE_LIFE)<1300.)))))then
set UP=SS7(1000.,NOF,Condition(function KC))
set J4=((RH7(it,JX(it))<(RH7(NOF,JX(it))-200.))or(UP==0)or((GetUnitState(it,UNIT_STATE_LIFE)<1300.)and(UP<2)))and(T47(it,851986,h9[O5]))
set hq[512+O5]=0.
endif
if((not J4)and(iy(it))and(eY[O5]==1)and(GetHeroLevel(it)>10)and(GetUnitCurrentOrder(it)==851983)and(not G0[O5]))then
set UP=SS7(900.,NOF,Condition(function KC))
if((UP>1)and(GetUnitLifePercent(it)>60.))then
call IssueTargetOrderById(it,851983,NOF)
endif
endif
if((not J4)and(GetUnitLifePercent(NOF)<20.)and(eY[O5]==1)and(GetHeroLevel(it)>10)and(h4[O5]==null)and(not G0[O5])and(iU(it))and((h4[80+O5]==null)or(not IsUnitType(h4[80+O5],UNIT_TYPE_STRUCTURE))))then
set J4=IssueTargetOrderById(it,851983,NOF)
endif
elseif((O1F>12000.)and(not G0[O5])and((h4[80+O5]==null)or(not IsUnitType(h4[80+O5],UNIT_TYPE_STRUCTURE))or(h4[O5]!=null)))then
set NOF=SQ7(1000.,b5,Condition(function KB))
if(NOF!=null)then
if((Id(O5))and(R2I(GetUnitState(it,UNIT_STATE_LIFE))>(500+(GetHeroLevel(it)*30)))and(GetHeroLevel(it)>=6))then
if((RH7(it,JX(it)))<(RH7(NOF,JX(it))-350.))then
call CBE(O5,true)
set J4=T47(it,851986,h9[O5])
endif
elseif(h4[O5]==null)then
set J4=(iU(it))and((GetUnitLifePercent(NOF)<10.)or(SR7(700.,b5,Condition(function KX))<4))and(IssueTargetOrderById(it,851983,NOF))
elseif((kA(it,h4[O5],200.))or((RH7(it,JX(it)))<(RH7(NOF,JX(it))-250.)))then
call CBE(O5,true)
set J4=((SR7(700.,b5,Condition(function KX))<4)and(IssueTargetOrderById(it,851983,NOF)))or(T47(it,851986,h9[O5]))
endif
endif
endif
endif
endif
if((eY[O5]!=2)and(not J4)and(is(it)))then
set UP=GetUnitCurrentOrder(it)
call OYF(it,"A: Inside Udv3  "+"CurrentOrder "+I2S(UP))
if(K27[256+O5])then
call OYF(it,"B: inside if (g_aiItemBool[256+O5]) and call AI_OrderToWaipoint(it,851986,h8[O5])  "+"CurrentOrder "+I2S(UP))
call T47(it,851986,h8[O5])
elseif((UP==0)or(UP==851972))then
call OYF(it,"C: inside if ((UP==0)or(UP==851972)) and call J3(it,true)  "+"CurrentOrder "+I2S(UP))
call J3(it,true)
elseif((G0[32+O5])and(eY[O5]==1)and(UP!=851986)and(GetUnitAbilityLevel(it,1110454874)==0)and(SR7(900.,b5,Condition(function k8))==0))then
call OYF(it,"D: elseif((G0[32+O5])and(eY[O5]==1)and(UP!=851986)and ,,, and call  call aiRetreat_J1(it,false) "+"CurrentOrder "+I2S(UP))
call VA7(it,false)
endif
if((h4[O5]==null)and(O1F>2800.))then
call OYF(it,"E: Inside if((h4[O5]==null)and(UDv>2800.))"+"CurrentOrder "+I2S(UP))
set J4=(j1(it,ED)>2000.)and(j1(it,L9)>2000.)and(NCF(it))
set ET7=SQ7(800.,b5,Condition(function K4))
if((not J4)and(ET7!=null)and(not SH7(it)))then
call OYF(it,"F:  if((not J4)and(b_KillTgt!=null)and(not AIIsHeroKillable(it))) "+I2S(UP))
call CYE(O5,ET7,false,false)
if h4[O5]!=null then
call OYF(it,"G: Inside  h4[O5]!=null "+I2S(UP))
call IssueTargetOrderById(it,851983,h4[O5])
endif
endif
endif
if((not J4)and(not Id(O5)))then
call OYF(it,"H: Inside (not J4)and(not Id(O5)) "+"CurrentOrder "+I2S(UP))
if((eY[O5]!=1)or(O1F<3000.)or(hq[512+O5]>Bz)or((GetHeroLevel(it)>15)and(GetWidgetLife(it)>1600.))or((h4[O5]!=null)and((GetUnitLifePercent(h4[O5])+15.)<GetUnitLifePercent(it))and(GetUnitState(it,UNIT_STATE_LIFE)>GetUnitState(h4[O5],UNIT_STATE_LIFE))))then
call OYF(it,"I: Inside Blank if((eY[O5]!=1)or(UDv<3000.)or(hq[512+O5]>Bz)or((GetHeroLevel(it)>15)... "+"CurrentOrder "+I2S(UP))
elseif(((UP==851983)or(UP==851993))and((not GZ[48+O5])or(GetHeroLevel(it)<6))and(SR7(700.,b5,Condition(function YW7))==0)and(O1F>3500.))then
call OYF(it,"J: Inside ((UP==851983)or(UP==851993))and((not GZ[48+O5])or(GetHeroLevel(it)<6))... "+"CurrentOrder "+I2S(UP))
if(GetHeroLevel(it)<10)then
set UP=SR7(900.,b5,Condition(function Kd))
else
set UP=SR7(900.,b5,Condition(function KC))
endif
if((iy(it))and(GetUnitLifePercent(it)>60.)and((h4[80+O5]==null)or(not IsUnitType(h4[80+O5],UNIT_TYPE_STRUCTURE))))then
call OYF(it,"K: Inside  if((iy(it))and(GetUnitLifePercent(it)>60.)and((h4[80+O5]==null)or(not IsUnitType(h4[80+O5],UNIT_TYPE_STRUCTURE)))) "+"CurrentOrder "+I2S(UP))
set J4=(UP==0)and(SR7(900.,b5,Condition(function Ky))>1)and(T47(it,851986,h9[O5]))
if((not J4)and(((h4[128+O5]==null)or(not IsUnitInRange(it,h4[128+O5],1800.)))and(((not WI7(it))and(GetHeroLevel(it)>9))or(GetHeroLevel(it)>14))))then
call OYF(it,"L: Inside ((not J4)and(((h4[128+O5]==null)or(not IsUnitInRange(it,h4[128+O5],1800.)))and(((not IsUnitTypeMeleeAttacker(it))and(GetHeroLevel(it)>9))))... "+"CurrentOrder "+I2S(UP))
set NOF=SQ7(600.,b5,Condition(function KV))
if((NOF!=null)and(h4[80+O5]!=NOF))then
call OYF(it,"M: Inside if((uSv!=null)and(h4[80+O5]!=uSv)) and Call 851983 "+"CurrentOrder "+I2S(UP))
call IssueTargetOrderById(it,851983,NOF)
endif
endif
else
call OYF(it,"N: Inside else of the ((iy(it))  and(GetUnitLifePercent(it)>60.)and((h4[80+O5]==null)or(not IsUnitType(h4[80+O5],UNIT_TYPE_STRUCTURE)))) "+"CurrentOrder "+I2S(UP))
set J4=(UP<=2)and(SR7(900.,b5,Condition(function Ky))>((UP*2)+1))and(T47(it,851986,h9[O5]))
endif
elseif((UP==851986)and(not G0[64+O5])and(S47(it)))then
call OYF(it,"O: Inside elseif((UP==851986)and(not G0[64+O5])and(AI_Not_Channeling(it)))then "+"CurrentOrder "+I2S(UP))
if((GetUnitAbilityLevel(it,1110454874)>0)and(GetUnitLifePercent(it)<95.))then
call OYF(it," Inside if((GetUnitAbilityLevel(it,'B02Z')>0)and(GetUnitLifePercent(it)<95.)) "+"CurrentOrder "+I2S(UP))
set NOF=SO7(400.,b5,Condition(function YW7))
if(NOF!=null)then
call OYF(it,"P: Inside if(uSv!=null)then of GetUnitAbilityLevel(it,'B02Z')`s branch "+"CurrentOrder "+I2S(UP))
set J4=((SS7(1200.,NOF,Condition(function k8))==0)and(RH7(h9[16+O5],NOF)>RH7(h9[16+O5],it)+500.)and(T47(it,851983,h8[O5])))
endif
elseif((not G0[32+O5])and(not SH7(it)))then
call OYF(it,"Q: Inside  elseif((not G0[32+O5])and(not AIIsHeroKillable(it)))then"+"CurrentOrder "+I2S(UP))
set NOF=SQ7(400.,b5,Condition(function YW7))
if(NOF!=null)then
call OYF(it,"R: Inside  if(uSv!=null)then of elseif((not G0[32+O5])and(not AIIsHeroKillable(it)))then "+"CurrentOrder "+I2S(UP))
set UP=SS7(1200.,NOF,Condition(function k8))
set J4=((UP<2)or((UP<4)and(SS7(1200.,NOF,Condition(function k6))==0))and(RH7(h9[16+O5],NOF)>RH7(h9[16+O5],it)+500.)and(T47(it,851983,h8[O5])))
endif
endif
endif
endif
call OYF(it,"Out")
if(eY[544+O5]==1)then
set bj_lastLoadedUnit=it
if GetWidgetLife(h9[64+O5])<.405 then
set eY[544+O5]=0
elseif SS7(1200,h9[64+O5],Condition(function WU7))==0 then
if(KGF(h9[64+O5],IsUnitAlly(it,Z7[0]),UQ7(GetHandleId(h9[64+O5]),"AI|Lane"))<0)then
set eY[544+O5]=0
endif
endif
elseif(eY[544+O5]==2)then
set bj_lastLoadedUnit=it
if GetWidgetLife(h9[64+O5])<.405 then
set eY[544+O5]=0
elseif SS7(1200,h9[64+O5],Condition(function WU7))==0 then
set eY[544+O5]=0
endif
endif
if eY[544+O5]!=0 and hq[848+O5]<Bz+FB7 then
set hq[848+O5]=Bz+FB7
endif
if((J4)or(not is(it)))then
elseif(eY[O5]==1)and(G0[128+O5])then
if K27[256+O5]and(h8[O5]!=h7[353])and(h8[O5]!=h7[354])then
set K27[256+O5]=false
endif
if(GetUnitAbilityLevel(it,1110459478)>0)then
call T47(it,851986,h9[O5])
set G0[64+O5]=true
elseif K27[256+O5]or SI7(O5)then
elseif(WI7(it))then
if((GetUnitAbilityLevel(it,1093677130)==0)or(h4[O5]!=null))then
call OUF(b5)
else
call OZF(b5)
endif
else
call OWF(b5)
endif
if h9[64+O5]!=null then
if(GetUnitState(h9[64+O5],UNIT_STATE_LIFE)<0.45)or(RH7(h9[64+O5],it)>3000)or(SQ7(3000.,S_7(h9[64+O5]),Condition(function k6))==null)then
set h9[64+O5]=null
else
set hq[320+O5]=Bz+10.
endif
endif
elseif((eY[O5]==3)or(eY[O5]==4))then
if(O1F<6000.)then
call INF(it)
else
set J4=JMF(it)
endif
elseif(eY[O5]==9)then
call OIF(it)
elseif(eY[O5]==10)then
call N5F(b5)
elseif(eY[O5]==11)then
call O9F(b5)
endif
endif
set it=null
set NOF=null
set b5=null
endfunction
function O0F takes unit it returns integer
local integer i1=GetUnitTypeId(it)
if(i1==1211117653)then
return 19
elseif(i1==1311787088)then
return 18
elseif(i1==1160785970)then
return 17
elseif(i1==1430467634)then
return 16
elseif(i1==1215128178)then
return 15
elseif(i1==1430468406)then
return 14
elseif(i1==1164666213)then
return 13
elseif(i1==1211117640)then
return 12
elseif(i1==1433168227)then
return 11
elseif(i1==1430466872)then
return 10
elseif(i1==1211117620)then
return 9
elseif(i1==1332898670)then
return 8
elseif(i1==1316252014)then
return 7
elseif(i1==1429221445)then
return 6
elseif(i1==1311780930)then
return 5
elseif(i1==1315334514)then
return 4
elseif(i1==1162032951)then
return 3
elseif(i1==1162032439)then
return 2
elseif(i1==1211117654)then
return 1
else
return 0
endif
endfunction
function O5F takes nothing returns boolean
return((not PE4)and(not PG4)and(not PH4)and(not PF4))
endfunction
function O2F takes nothing returns nothing
local integer iZ=1
local integer O_F=1
local integer P4F=1
local unit P7F=null
local unit P8F=null
loop
exitwhen iZ>5
if(Z27(Z7[iZ]))then
if((P7F==null)or(((O0F(M7[GetPlayerId(Z7[iZ])]))>(O0F(P7F)))or((O0F(P7F)==0)and((QL7(M7[GetPlayerId(Z7[iZ])])>QL7(P7F))or((QL7(M7[GetPlayerId(Z7[iZ])])==QL7(P7F))and(GetHeroStr(M7[GetPlayerId(Z7[iZ])],false)>=GetHeroAgi(M7[GetPlayerId(Z7[iZ])],false))and(GetHeroStr(M7[GetPlayerId(Z7[iZ])],false)>=GetHeroInt(M7[GetPlayerId(Z7[iZ])],false)))))))then
set P7F=M7[GetPlayerId(Z7[iZ])]
set eY[64+GetPlayerId(Z7[iZ])]=0
endif
endif
if(Z27(A7[iZ]))then
if((P8F==null)or(((O0F(M7[GetPlayerId(A7[iZ])]))>(O0F(P8F)))or((O0F(P8F)==0)and((QL7(M7[GetPlayerId(A7[iZ])])>QL7(P8F))or((QL7(M7[GetPlayerId(A7[iZ])])==QL7(P8F))and(GetHeroStr(M7[GetPlayerId(A7[iZ])],false)>=GetHeroAgi(M7[GetPlayerId(A7[iZ])],false))and(GetHeroStr(M7[GetPlayerId(A7[iZ])],false)>=GetHeroInt(M7[GetPlayerId(A7[iZ])],false)))))))then
set P8F=M7[GetPlayerId(A7[iZ])]
set eY[64+GetPlayerId(A7[iZ])]=0
endif
endif
set iZ=iZ+1
endloop
set iZ=1
loop
exitwhen iZ>5
if((Z27(Z7[iZ]))and(Z7[iZ]!=GetOwningPlayer(P7F)))then
if(O_F<3)then
set eY[64+GetPlayerId(Z7[iZ])]=O_F
else
set eY[64+GetPlayerId(Z7[iZ])]=O_F-2
endif
set O_F=O_F+1
endif
if((Z27(A7[iZ]))and(A7[iZ]!=GetOwningPlayer(P8F)))then
if(P4F<3)then
set eY[64+GetPlayerId(A7[iZ])]=P4F
else
set eY[64+GetPlayerId(A7[iZ])]=P4F-2
endif
set P4F=P4F+1
endif
set iZ=iZ+1
endloop
set iZ=1
loop
exitwhen iZ>5
set P4F=GetPlayerId(Z7[iZ])
if(eY[64+P4F]==0)then
set h8[P4F]=h7[11]
set h8[16+P4F]=h7[14]
elseif(eY[64+P4F]==1)then
set h8[P4F]=h7[31]
set h8[16+P4F]=h7[35]
else
set h8[P4F]=h7[51]
set h8[16+P4F]=h7[55]
endif
set P4F=GetPlayerId(A7[iZ])
if(eY[64+P4F]==0)then
set h8[P4F]=h7[111]
set h8[16+P4F]=h7[114]
elseif(eY[64+P4F]==1)then
set h8[P4F]=h7[131]
set h8[16+P4F]=h7[135]
else
set h8[P4F]=h7[151]
set h8[16+P4F]=h7[155]
endif
set iZ=iZ+1
endloop
set P7F=null
set P8F=null
endfunction
function P9F takes nothing returns nothing
local integer O5=1
if Bz<QD4 then
return
endif
loop
exitwhen O5>11
if(IsPlayerInForce(Player(O5),QX4))then
call GroupClear(iC)
call GroupEnumUnitsOfPlayer(iC,Player(O5),iL)
call ForGroup(iC,function O6F)
endif
if(IsPlayerInForce(Player(O5),X7))then
if((M7[O5]!=null)and(GetWidgetLife(M7[O5])>.405))then
if(IsUnitVisible(M7[O5],A7[0]))then
set eY[32+O5]=4
elseif(eY[32+O5]>0)then
set eY[32+O5]=eY[32+O5]-1
endif
endif
elseif(IsPlayerInForce(Player(O5),Y7))then
if((M7[O5]!=null)and(GetWidgetLife(M7[O5])>.405))then
if(IsUnitVisible(M7[O5],Z7[0]))then
set eY[32+O5]=4
elseif(eY[32+O5]>0)then
set eY[32+O5]=eY[32+O5]-1
endif
endif
endif
set O5=O5+1
endloop
endfunction
function PDF takes nothing returns nothing
local unit it=GetEnumUnit()
local integer O5=GetPlayerId(GetOwningPlayer(it))
if not S47(it)then
elseif(Bz<=QD4-23.)then
if RH7(it,TJ7(it))<600. and eY[O5]!=0 then
if iU(it)then
call IssueImmediateOrderById(it,851993)
endif
else
if IsUnitAlly(it,Z7[0])then
call IssuePointOrderById(it,851986,GetRectCenterX(ED),GetRectCenterY(ED))
else
call IssuePointOrderById(it,851986,GetRectCenterX(L9),GetRectCenterY(L9))
endif
endif
elseif(eY[O5]==2)or(not(Bz>K07[160+O5]))then
elseif(IsUnitAlly(it,A7[0]))then
if(h8[16+O5]==h7[14])then
call IssueTargetOrderById(it,851971,K44)
elseif(h8[16+O5]==h7[35])then
call IssueTargetOrderById(it,851971,J_4)
else
call IssueTargetOrderById(it,851971,K74)
endif
else
if(h8[16+O5]==h7[14])then
call IssueTargetOrderById(it,851971,JO4)
elseif(h8[16+O5]==h7[35])then
call IssueTargetOrderById(it,851971,JN4)
else
call IssueTargetOrderById(it,851971,JP4)
endif
endif
set it=null
endfunction
function PEF takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local integer O5=UQ7(GetHandleId(t),"pID")
call H7F(M7[O5])
set Q04[80+O5]=null
call TQ7(GetHandleId(t))
call DestroyTrigger(t)
set t=null
endfunction
function PFF takes nothing returns nothing
local integer O5
local integer i
local integer j
local integer k
if LO4 then
return
endif
if(Bz<(QD4+2.))then
if(Bz==QD4-ME7)then
if(O5F())then
call ExecuteFunc("O2F")
endif
if(not EF7)then
set EF7=true
set O5=1
set N54=true
loop
exitwhen O5>11
if O5==6 then
set O5=7
endif
if Z27(Player(O5))and M7[O5]!=null then
set Q04[80+O5]=CreateTrigger()
call TriggerRegisterTimerEvent(Q04[80+O5],0.1,false)
call TriggerAddAction(Q04[80+O5],function PEF)
call TT7(GetHandleId(Q04[80+O5]),"pID",O5)
endif
set O5=O5+1
endloop
endif
endif
call GroupClear(Q54)
call GroupEnumUnitsInRect(Q54,bj_mapInitialPlayableArea,iL)
call ForGroup(Q54,function PDF)
else
call DestroyTrigger(GetTriggeringTrigger())
call DestroyTrigger(QA4)
set QA4=null
call DestroyTrigger(Ho)
call EnableTrigger(QB4)
call EnableTrigger(EW7)
call EnableTrigger(Q64)
call EnableTrigger(Q34)
call EnableTrigger(QZ4)
if(QV4!=null)then
call DisplayTimedTextToPlayer(QT4,0,0,5.,"Picking for AI has ended.")
call SetUnitOwner(h4[512+GetPlayerId(QT4)],QT4,false)
call SetUnitOwner(h4[512+GetPlayerId(QV4)],QV4,false)
set QV4=null
endif
if(QW4!=null)then
call DisplayTimedTextToPlayer(QU4,0,0,5.,"Picking for AI has ended.")
call SetUnitOwner(h4[512+GetPlayerId(QU4)],QU4,false)
call SetUnitOwner(h4[512+GetPlayerId(QW4)],QW4,false)
set QW4=null
endif
set O5=1
loop
exitwhen O5>11
if O5==6 then
set O5=7
endif
set EN7=IsPlayerAlly(Player(O5),Z7[0])
set j=PZ7(EN7,0,6)
if Z27(Player(O5))and M7[O5]!=null then
set bj_forLoopBIndex=QX7(GetUnitTypeId(M7[O5]))
set i=1
loop
exitwhen i>5
if EC7[48+j+i]==-1 then
set EC7[48+j+i]=O5
exitwhen true
elseif QX7(GetUnitTypeId(M7[EC7[48+j+i]]))>bj_forLoopBIndex then
set k=5
loop
exitwhen k==i
set EC7[48+j+k]=EC7[48+j+k-1]
set k=k-1
endloop
set EC7[48+j+i]=O5
exitwhen true
endif
set i=i+1
endloop
endif
set O5=O5+1
endloop
set EI7=""
set i=1
loop
exitwhen i>5
set EC7[80+i]=EC7[48+i]
set EC7[86+i]=EC7[54+i]
set i=i+1
endloop
endif
endfunction
function PGF takes nothing returns nothing
local integer O5=1
local integer UP=0
local integer PHF=0
local integer PIF=0
local integer PJF=0
local integer i=0
loop
exitwhen O5>5
if((M7[GetPlayerId(Z7[O5])]==null)and(GetPlayerSlotState(Z7[O5])==PLAYER_SLOT_STATE_PLAYING))then
return
elseif(not Z_7(Z7[O5]))then
elseif(GetPlayerController(Z7[O5])==MAP_CONTROL_COMPUTER)then
if(h8[16+GetPlayerId(Z7[O5])]==h7[14])then
set PJF=PJF+1
elseif(h8[16+GetPlayerId(Z7[O5])]==h7[35])then
set PHF=PHF+1
else
set PIF=PIF+1
endif
else
set UP=GetPlayerId(Z7[O5])
if(IsUnitInRange(M7[UP],JO4,700.))then
set PJF=PJF+1
elseif(IsUnitInRange(M7[UP],JN4,700.))then
set PHF=PHF+1
elseif(IsUnitInRange(M7[UP],JP4,700.))then
set PIF=PIF+1
elseif((j1(M7[UP],ED)<4000.)or(RectContainsUnit(Cz,M7[UP])))then
elseif(RAbsBJ(GetUnitX(M7[UP])-GetUnitY(M7[UP]))<1500.)then
set PJF=PJF+1
elseif(((GetUnitY(M7[UP])>5000.)and(GetUnitY(M7[UP])<6700.))or((GetUnitX(M7[UP])>-7000.)and(GetUnitX(M7[UP])<-5500.)))then
set PHF=PHF+1
elseif(((GetUnitY(M7[UP])>-7500.)and(GetUnitY(M7[UP])<-6300.))or((GetUnitX(M7[UP])>5000.)and(GetUnitX(M7[UP])<6700.)))then
set PIF=PIF+1
endif
endif
set O5=O5+1
endloop
if(HB4<=3)then
set UP=1
else
set UP=2
endif
if((PE4)or((PG4)and(PH4))or((PG4)and(PF4))or((PH4)and(PF4)))then
set UP=5
endif
set i=1
loop
exitwhen i>5
if((Z_7(Z7[i]))and(GetPlayerController(Z7[i])==MAP_CONTROL_COMPUTER))then
set O5=GetPlayerId(Z7[i])
if(h8[16+O5]==h7[14])then
if(((PJF>1)and(O5F()))or((PJF>UP)and(not(O5F()))))then
if((not PH4)and(PHF<UP))then
set h8[16+O5]=h7[35]
set h8[O5]=h7[32]
set eY[64+O5]=1
set PHF=PHF+1
set PJF=PJF-1
elseif((not PF4)and(PIF<UP))then
set h8[16+O5]=h7[55]
set h8[O5]=h7[52]
set eY[64+O5]=2
set PIF=PIF+1
set PJF=PJF-1
endif
endif
elseif(h8[16+O5]==h7[35])then
if(PHF>UP)then
if((not PG4)and(((PJF<1)and(O5F()))or((PJF<UP)and(not(O5F())))))then
set h8[16+O5]=h7[14]
set h8[O5]=h7[12]
set eY[64+O5]=0
set PJF=PJF+1
set PHF=PHF-1
elseif((not PF4)and(PIF<UP))then
set h8[16+O5]=h7[55]
set h8[O5]=h7[52]
set eY[64+O5]=2
set PIF=PIF+1
set PHF=PHF-1
endif
endif
else
if(PIF>UP)then
if((not PG4)and(((PJF<1)and(O5F()))or((PJF<UP)and(not(O5F())))))then
set h8[16+O5]=h7[14]
set h8[O5]=h7[12]
set eY[64+O5]=0
set PJF=PJF+1
set PIF=PIF-1
elseif((not PH4)and(PHF<UP))then
set h8[16+O5]=h7[35]
set h8[O5]=h7[32]
set eY[64+O5]=1
set PHF=PHF+1
set PIF=PIF-1
endif
endif
endif
endif
set i=i+1
endloop
endfunction
function PKF takes nothing returns nothing
local integer O5=1
local integer UP=0
local integer PHF=0
local integer PIF=0
local integer PJF=0
local integer i=0
loop
exitwhen O5>5
if((M7[GetPlayerId(A7[O5])]==null)and(GetPlayerSlotState(A7[O5])==PLAYER_SLOT_STATE_PLAYING))then
return
elseif(not Z_7(A7[O5]))then
elseif(GetPlayerController(A7[O5])==MAP_CONTROL_COMPUTER)then
if(h8[16+GetPlayerId(A7[O5])]==h7[114])then
set PJF=PJF+1
elseif(h8[16+GetPlayerId(A7[O5])]==h7[135])then
set PHF=PHF+1
else
set PIF=PIF+1
endif
else
set UP=GetPlayerId(A7[O5])
if(IsUnitInRange(M7[UP],K44,700.))then
set PJF=PJF+1
elseif(IsUnitInRange(M7[UP],J_4,700.))then
set PHF=PHF+1
elseif(IsUnitInRange(M7[UP],K74,700.))then
set PIF=PIF+1
elseif((j1(M7[UP],L9)<4000.)or(RectContainsUnit(cz,M7[UP])))then
elseif(RAbsBJ(GetUnitX(M7[UP])-GetUnitY(M7[UP]))<1500.)then
set PJF=PJF+1
elseif(((GetUnitY(M7[UP])>5000.)and(GetUnitY(M7[UP])<6700.))or((GetUnitX(M7[UP])>-7000.)and(GetUnitX(M7[UP])<-5500.)))then
set PHF=PHF+1
elseif(((GetUnitY(M7[UP])>-7500.)and(GetUnitY(M7[UP])<-6300.))or((GetUnitX(M7[UP])>5000.)and(GetUnitX(M7[UP])<6700.)))then
set PIF=PIF+1
endif
endif
set O5=O5+1
endloop
if(HC4<=3)then
set UP=1
else
set UP=2
endif
if((PE4)or((PG4)and(PH4))or((PG4)and(PF4))or((PH4)and(PF4)))then
set UP=5
endif
set i=1
loop
exitwhen i>5
if((Z_7(A7[i]))and(GetPlayerController(A7[i])==MAP_CONTROL_COMPUTER))then
set O5=GetPlayerId(A7[i])
if(h8[16+O5]==h7[114])then
if(((PJF>1)and(O5F()))or((PJF>UP)and(not(O5F()))))then
if((not PF4)and(PIF<UP))then
set h8[16+O5]=h7[155]
set h8[O5]=h7[152]
set eY[64+O5]=2
set PIF=PIF+1
set PJF=PJF-1
elseif((not PH4)and(PHF<UP))then
set h8[16+O5]=h7[135]
set h8[O5]=h7[132]
set eY[64+O5]=1
set PHF=PHF+1
set PJF=PJF-1
endif
endif
elseif(h8[16+O5]==h7[135])then
if(PHF>UP)then
if((not PG4)and(((PJF<1)and(O5F()))or((PJF<UP)and(not(O5F())))))then
set h8[16+O5]=h7[114]
set h8[O5]=h7[112]
set eY[64+O5]=0
set PJF=PJF+1
set PHF=PHF-1
elseif((not PF4)and(PIF<UP))then
set h8[16+O5]=h7[155]
set h8[O5]=h7[152]
set eY[64+O5]=2
set PIF=PIF+1
set PHF=PHF-1
endif
endif
else
if(PIF>UP)then
if((not PG4)and(((PJF<1)and(O5F()))or((PJF<UP)and(not(O5F())))))then
set h8[16+O5]=h7[114]
set h8[O5]=h7[112]
set eY[64+O5]=0
set PJF=PJF+1
set PIF=PIF-1
elseif((not PH4)and(PHF<UP))then
set h8[16+O5]=h7[135]
set h8[O5]=h7[132]
set eY[64+O5]=1
set PHF=PHF+1
set PIF=PIF-1
endif
endif
endif
endif
set i=i+1
endloop
endfunction
function PMF takes nothing returns nothing
if((Bz>26.)and((not PE4)or((PG4)and(PH4))or((PG4)and(PF4))or((PH4)and(PF4)))and((Bz<=QD4-30)or(Bz>=QD4-18)))then
if(QT4!=null)then
call PGF()
endif
if(QU4!=null)then
call PKF()
endif
endif
endfunction
function PNF takes nothing returns nothing
local unit it=UE7(GetHandleId(GetTriggeringTrigger()),"Hero")
local integer ki
if((GetUnitAbilityLevel(it,1093684056)>0)and(GetUnitLifePercent(it)>90.)and(not IsUnitHidden(it))and(iU(it)))then
set ki=GetHandleId(GetOwningPlayer(it))
if((GetHeroStr(it,true)>(30+(4*GetHeroLevel(it))))and(GetHeroStr(it,false)>(15+GetHeroLevel(it))))then
if(IsTriggerEnabled(UI7(ki,"MorphStr")))then
call IssueImmediateOrderById(it,852547)
elseif(not IsTriggerEnabled(UI7(ki,"MorphAgi")))then
call IssueImmediateOrderById(it,852549)
endif
elseif((GetHeroStr(it,true)<(20+(2*GetHeroLevel(it)))))then
if(IsTriggerEnabled(UI7(ki,"MorphAgi")))then
call IssueImmediateOrderById(it,852550)
elseif(not IsTriggerEnabled(UI7(ki,"MorphStr")))then
call IssueImmediateOrderById(it,852546)
endif
elseif(IsTriggerEnabled(UI7(ki,"MorphStr")))then
call IssueImmediateOrderById(it,852547)
elseif(IsTriggerEnabled(UI7(ki,"MorphAgi")))then
call IssueImmediateOrderById(it,852550)
endif
endif
set it=null
endfunction
function M7F takes nothing returns nothing
local trigger t
if(UI7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAM")==null)then
set t=CreateTrigger()
call TZ7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAM",t)
call TX7(GetHandleId(t),"Hero",GetTriggerUnit())
call TriggerRegisterTimerEventPeriodic(t,1.)
call TriggerAddAction(t,function PNF)
else
set t=UI7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAM")
call TX7(GetHandleId(t),"Hero",GetTriggerUnit())
endif
endfunction
function POF takes unit it,integer X5 returns nothing
if((it!=null)and(is(it))and(IsUnitInRange(it,GetTriggerUnit(),800.))and(GetUnitLifePercent(it)>50.))then
call IssuePointOrderById(it,X5,GetOrderPointX(),GetOrderPointY())
endif
endfunction
function PPF takes nothing returns nothing
local integer X5=GetIssuedOrderId()
local integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
if((X5<852000)and(X5!=851973)and(X5!=851974)and((not G0[16+O5])or(X5==851986)))then
call POF(M7[16+O5],X5)
call POF(M7[32+O5],X5)
call POF(M7[48+O5],X5)
endif
endfunction
function K_F takes nothing returns nothing
local trigger t
if(UI7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasMM")==null)then
set t=CreateTrigger()
call TZ7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasMM",t)
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_ISSUED_POINT_ORDER)
call TriggerAddAction(t,function PPF)
endif
endfunction
function PQF takes nothing returns boolean
return(GetAttacker()==UE7(GetHandleId(GetTriggeringTrigger()),"Hero"))
endfunction
function PRF takes unit it,integer PSF,boolean PTF returns nothing
set GZ[304+GetPlayerId(GetOwningPlayer(it))]=PTF
call SetPlayerAbilityAvailable(GetOwningPlayer(it),PSF,PTF)
endfunction
function PUF takes nothing returns nothing
local unit IB=GetAttacker()
local unit m5=GetTriggerUnit()
local integer i1=GetUnitTypeId(IB)
local integer O5=GetPlayerId(GetOwningPlayer(IB))
local integer kt
local integer PSF
local real PVF=0.
local real PWF=0.
local integer UP
local boolean J4
local integer X5=0
if((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))then
if((IsUnitType(m5,UNIT_TYPE_HERO)or IsUnitType(m5,UNIT_TYPE_STRUCTURE)))then
set J4=(i1!=1211117654)and(TG7(IB,852139,1093747504))
else
set J4=(i1==1211117654)and(TG7(IB,852138,1093747504))
endif
elseif(i1==1162032951)then
set J4=((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitState(IB,UNIT_STATE_MANA)>hq[272+O5])or((Bz+30.)<hq[O5])))
call PRF(IB,1093679446,J4)
set X5=852255
set PSF=1093679446
elseif(i1==1160785972)then
set PVF=37+(GetHeroLevel(IB)*2.88)
set PWF=10+10*(GetUnitAbilityLevel(IB,1095263841))
call PRF(IB,1095263841,((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitState(IB,UNIT_STATE_MANA)>100.)or(SH7(m5))))or((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetHeroLevel(IB)>5)and(GetUnitState(IB,UNIT_STATE_MANA)>150.))or((GetHeroLevel(IB)>19)and(GetUnitManaPercent(IB)>75.))or((GetHeroLevel(IB)>5)and(GetUnitState(IB,UNIT_STATE_MANA)>150.)and(GetWidgetLife(m5)>PVF)and(GetWidgetLife(m5)<PVF+PWF)))
set X5=852174
set PSF=1095263841
elseif(i1==1429221456)then
set PVF=49+(GetHeroLevel(IB)*2.68)
set PWF=GetUnitState(IB,UNIT_STATE_MANA)*(0.05+0.01*(GetUnitAbilityLevel(IB,1093685065)))
call PRF(IB,1093685065,((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitState(IB,UNIT_STATE_MANA)>150.)or(SH7(m5))))or((GetHeroLevel(IB)>19)and(GetUnitManaPercent(IB)>70.))or((GetHeroLevel(IB)>5)and(GetUnitState(IB,UNIT_STATE_MANA)>150.)and(GetWidgetLife(m5)>PVF)and(GetWidgetLife(m5)<PVF+PWF)))
set X5=852255
set PSF=1093685065
elseif(i1==1315074670)then
call PRF(IB,1093677622,(IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitState(IB,UNIT_STATE_MANA)>150.)or(SH7(m5))))
set PSF=1093677622
set X5=852244
elseif(i1==1164799855)then
set PVF=47+(GetHeroLevel(IB)*2.68)
set UP=GetUnitAbilityLevel(IB,1093682265)
if(UP==0)then
set UP=GetUnitAbilityLevel(IB,1093752642)
if(UP>0)then
set PWF=DistanceBetweenPoints(GetUnitLoc(m5),GetUnitLoc(IB))*(0.1+0.05*(GetUnitAbilityLevel(IB,1093752642)))
call PRF(IB,1093752642,((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitState(IB,UNIT_STATE_MANA)>150.)or(SH7(m5))))or((GetHeroLevel(IB)>19)and(GetUnitManaPercent(IB)>68.))or((GetHeroLevel(IB)>5)and(GetUnitManaPercent(IB)>50.)and(GetWidgetLife(m5)>PVF)and(GetWidgetLife(m5)<PVF+PWF)))
set PSF=1093752642
endif
else
set PWF=DistanceBetweenPoints(GetUnitLoc(m5),GetUnitLoc(IB))*(0.1+0.05*(GetUnitAbilityLevel(IB,1093682265)))
call PRF(IB,1093682265,((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitState(IB,UNIT_STATE_MANA)>150.)or(SH7(m5))))or((GetHeroLevel(IB)>19)and(GetUnitManaPercent(IB)>75.))or((GetHeroLevel(IB)>5)and(GetUnitManaPercent(IB)>50.)and(GetWidgetLife(m5)>PVF)and(GetWidgetLife(m5)<PVF+PWF)))
set PSF=1093682265
endif
set X5=852255
elseif(i1==1311781185)then
set PWF=GetHeroInt(IB,true)*0.15*(GetUnitAbilityLevel(IB,1093684314))
call PRF(IB,1093684314,((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitState(IB,UNIT_STATE_MANA)>150.)or(SH7(m5))))or((GetHeroLevel(IB)>10)and(GetUnitManaPercent(IB)>70.))or((GetHeroLevel(IB)>5)and(GetUnitState(IB,UNIT_STATE_MANA)>150.)and(GetWidgetLife(m5)>PVF)and(GetWidgetLife(m5)<PVF+PWF)))
set PSF=1093684314
set X5=852255
elseif(i1==1211117649)then
call PRF(IB,1093685582,(GetUnitState(IB,UNIT_STATE_LIFE)>100.)and((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitLifePercent(IB)>60.)or(SH7(m5))))or((GetHeroLevel(IB)>14)and(GetUnitLifePercent(IB)>70.)))
set PSF=1093685582
set X5=852255
endif
if((GZ[304+O5])and(IsUnitType(m5,UNIT_TYPE_HERO)))then
set kt=GetUnitAbilityLevel(IB,PSF)
if((B77(IB))or(hq[32+O5]>Bz)or(kt==0)or(GetUnitAbilityLevel(IB,1110455638)>0))then
set GZ[304+O5]=false
elseif(i1==1162032951)then
if(kt<=2)then
set hq[32+O5]=Bz+5.-kt
endif
set GZ[304+O5]=GetUnitState(IB,UNIT_STATE_MANA)>20.
elseif(i1==1160785972)then
if(kt<=2)then
set hq[32+O5]=Bz+5.-kt
endif
set GZ[304+O5]=GetUnitState(IB,UNIT_STATE_MANA)>8.
elseif(i1==1429221456)then
if(kt<=3)then
set hq[32+O5]=Bz+8.-(2.*kt)
endif
set GZ[304+O5]=GetUnitState(IB,UNIT_STATE_MANA)>100.
elseif(i1==1315074670)then
set GZ[304+O5]=GetUnitState(IB,UNIT_STATE_MANA)>12.
elseif(i1==1164799855)then
if(kt<=3)then
set hq[32+O5]=Bz+7.-kt
endif
set GZ[304+O5]=GetUnitState(IB,UNIT_STATE_MANA)>35.+(5.*kt)
elseif(i1==1311781185)then
if(kt<=3)then
set hq[32+O5]=Bz+4.-kt
endif
set GZ[304+O5]=GetUnitState(IB,UNIT_STATE_MANA)>15.
elseif(i1==1211117649)then
set GZ[304+O5]=GetUnitState(IB,UNIT_STATE_LIFE)>101.
endif
endif
if IssueImmediateOrderById(IB,X5)then
call IssueTargetOrderById(IB,851983,m5)
endif
set IB=null
set m5=null
endfunction
function PXF takes nothing returns boolean
local integer OL7=GetHandleId(GetTriggeringTrigger())
local unit it=UE7(OL7,"Unit")
local integer O5=GetPlayerId(GetOwningPlayer(it))
if(not IG4[O5])and(GetUnitCurrentOrder(it)==851983)and(h4[336+O5]==null)and(Bz>hq[832+O5])then
if IsUnitEnemy(GetTriggerUnit(),Player(O5))and WH7(GetTriggerUnit())and GetWidgetLife(GetTriggerUnit())>.405 and IsUnitVisible(GetTriggerUnit(),Player(O5))then
call IssueTargetOrderById(it,851983,GetTriggerUnit())
endif
endif
return false
endfunction
function PYF takes nothing returns boolean
local trigger t=null
if(GetLearnedSkill()==1093677130)then
call DestroyTrigger(GetTriggeringTrigger())
set t=CreateTrigger()
call TriggerRegisterUnitInRange(t,GetTriggerUnit(),600.,null)
call TriggerAddCondition(t,Condition(function PXF))
call TX7(GetHandleId(t),"Unit",GetTriggerUnit())
set t=null
endif
return false
endfunction
function MDF takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_HERO_SKILL)
call TriggerAddCondition(t,Condition(function PYF))
set t=null
endfunction
function K2F takes nothing returns nothing
local trigger t
if(UI7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasOrb")==null)then
set t=CreateTrigger()
call TZ7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasOrb",t)
call TX7(GetHandleId(t),"Hero",GetTriggerUnit())
if(ZL7(GetOwningPlayer(GetTriggerUnit())))then
call TriggerRegisterPlayerUnitEvent(t,A7[0],EVENT_PLAYER_UNIT_ATTACKED,Q24)
call c6(t,EVENT_PLAYER_UNIT_ATTACKED)
else
call TriggerRegisterPlayerUnitEvent(t,Z7[0],EVENT_PLAYER_UNIT_ATTACKED,Q24)
call B6(t,EVENT_PLAYER_UNIT_ATTACKED)
endif
call TriggerRegisterPlayerUnitEvent(t,B7,EVENT_PLAYER_UNIT_ATTACKED,Q24)
call TriggerAddCondition(t,Condition(function PQF))
call TriggerAddAction(t,function PUF)
endif
endfunction
function PZF takes nothing returns boolean
return(((GetUnitTypeId(GetTriggerUnit())==1848652103)or(GetUnitTypeId(GetTriggerUnit())==1848652099)or(GetUnitTypeId(GetTriggerUnit())==1848652088)or(GetUnitTypeId(GetTriggerUnit())==1848651828))and(QY4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
endfunction
function PAF takes nothing returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
if((h4[O5]==null)and(not GZ[272+O5])and((GetUnitLifePercent(GetTriggerUnit())<50.)or((M7[O5]!=null)and(GetHeroLevel(M7[O5])<10))))then
set GZ[272+O5]=true
call TriggerSleepAction(0.2)
call T47(GetTriggerUnit(),851986,h9[O5])
call TriggerSleepAction(1.)
set GZ[272+O5]=false
endif
endfunction
function M9F takes nothing returns nothing
local trigger t
if(UI7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAtkM")==null)then
set t=CreateTrigger()
call TZ7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAtkM",t)
call TriggerRegisterPlayerUnitEvent(t,GetOwningPlayer(GetTriggerUnit()),EVENT_PLAYER_UNIT_ATTACKED,Q24)
call TriggerAddCondition(t,Condition(function PZF))
call TriggerAddAction(t,function PAF)
endif
endfunction
function PBF takes nothing returns boolean
return((GetUnitAbilityLevel(GetTriggerUnit(),1097167976)==1)and(not IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(QY4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
endfunction
function PCF takes nothing returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
if(((h4[O5]==null)or(GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)<400.)or(GetRandomInt(1,10)>4))and(GetUnitCurrentOrder(GetTriggerUnit())!=851986))then
call TriggerSleepAction(0.5)
call T47(GetTriggerUnit(),851986,h9[O5])
endif
endfunction
function M8F takes nothing returns nothing
local trigger t
if(UI7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAtkM")==null)then
set t=CreateTrigger()
call TZ7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAtkM",t)
call TriggerRegisterPlayerUnitEvent(t,GetOwningPlayer(GetTriggerUnit()),EVENT_PLAYER_UNIT_ATTACKED,Q24)
call TriggerAddCondition(t,Condition(function PBF))
call TriggerAddAction(t,function PCF)
endif
endfunction
function P3F takes nothing returns boolean
return(((GetUnitTypeId(GetTriggerUnit())==1697656907)or(GetUnitTypeId(GetTriggerUnit())==1697656905)or(GetUnitTypeId(GetTriggerUnit())==1697656908))and(QY4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
endfunction
function P6F takes nothing returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
call TriggerSleepAction(0.5)
call T47(GetTriggerUnit(),851986,h9[512+O5])
if(GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)<200.)then
call T47(GetTriggerUnit(),852525,TJ7(GetTriggerUnit()))
endif
endfunction
function M4F takes nothing returns nothing
local trigger t
if(UI7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAtkM")==null)then
set t=CreateTrigger()
call TZ7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAtkM",t)
call TriggerRegisterPlayerUnitEvent(t,GetOwningPlayer(GetTriggerUnit()),EVENT_PLAYER_UNIT_ATTACKED,Q24)
call TriggerAddCondition(t,Condition(function P3F))
call TriggerAddAction(t,function P6F)
endif
endfunction
function PLF takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetWidgetLife(GetFilterUnit())>.405)and((IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))or(GetUnitAbilityLevel(GetFilterUnit(),1110455378)>0))and(GetUnitAbilityLevel(GetFilterUnit(),1113815395)==0)and(GetUnitAbilityLevel(GetFilterUnit(),1113815346)==0))
endfunction
function P1F takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetWidgetLife(GetFilterUnit())>.405)and((IsUnitVisible(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))or(GetUnitAbilityLevel(GetFilterUnit(),1110455378)>0))and(GetUnitAbilityLevel(GetFilterUnit(),1113815395)==0)and(GetUnitAbilityLevel(GetFilterUnit(),1113815346)==0))
endfunction
function P0F takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
return((GetOwningPlayer(GetFilterUnit())==Player(bj_forLoopAIndexEnd))and((i1==1865429304)or(i1==1865429042)or(i1==1865429058)or(i1==1865429314))and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function P5F takes nothing returns nothing
call SetUnitUserData(GetEnumUnit(),GetUnitUserData(GetEnumUnit())+1)
call GroupAddUnit(iA,GetEnumUnit())
endfunction
function P2F takes nothing returns nothing
call SetUnitUserData(GetEnumUnit(),0)
endfunction
function P_F takes nothing returns nothing
local integer O5=1
local group jU=UJ7(GetHandleId(GetTriggeringTrigger()),"MGrp")
local boolexpr AU7=UV7(GetHandleId(GetTriggeringTrigger()),"MFilt")
local unit PI7=null
loop
if O5==6 then
set O5=7
endif
exitwhen O5>11
if(GetUnitTypeId(M7[O5])==1211117643)and(GetPlayerController(Player(O5))==MAP_CONTROL_COMPUTER)and((Z84[O5]!=ZD4)or(GetRandomInt(1,10)<=7))then
call GroupClear(jU)
call GroupClear(iA)
set bj_forLoopAIndexEnd=O5
set bj_lastLoadedUnit=M7[O5]
call GroupEnumUnitsOfPlayer(jU,Player(O5),AU7)
loop
set PI7=FirstOfGroup(jU)
exitwhen PI7==null
call GroupRemoveUnit(jU,PI7)
if(SS7(400.,PI7,Condition(function P1F))>0)then
call IssueImmediateOrderById(PI7,852556)
elseif((GetUnitUserData(GetEnumUnit())<2)and(SS7(400.,PI7,Condition(function XH7))>3)and(SS7(1200.,PI7,Condition(function P1F))==0))then
call IssueImmediateOrderById(PI7,852556)
call GroupClear(H9)
call GroupEnumUnitsInRange(H9,GetUnitX(PI7),GetUnitY(PI7),400.,AU7)
call ForGroup(H9,function P5F)
endif
endloop
call ForGroup(iA,function P2F)
endif
set O5=O5+1
endloop
set jU=null
set AU7=null
set PI7=null
endfunction
function Q4F takes nothing returns boolean
return(((GetLearnedSkill()==1093681483)or((GetLearnedSkill()==1093748313)))and(not IsUnitIllusion(GetTriggerUnit()))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))
endfunction
function Uzv takes nothing returns boolean
local integer i1=GetUnitTypeId(GetTriggerUnit())
return(((i1==1865429304)or(i1==1865429042)or(i1==1865429058)or(i1==1865429314))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))
endfunction
function UZv takes nothing returns nothing
if(hq[240+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]>Bz)then
call SetUnitUserData(GetTriggerUnit(),1)
endif
endfunction
function Q7F takes nothing returns nothing
local trigger t=CreateTrigger()
call DisableTrigger(GetTriggeringTrigger())
call TriggerRegisterTimerEventPeriodic(t,1.50)
call TriggerAddAction(t,function P_F)
set Hc=Location(0.,0.)
call TL7(GetHandleId(t),"MGrp",CreateGroup())
call T_7(GetHandleId(t),"MFilt",Condition(function P0F))
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function qg takes nothing returns nothing
local trigger t=CreateTrigger()
call ky(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function Q4F))
call TriggerAddAction(t,function Q7F)
endfunction
function Q8F takes nothing returns boolean
return((GetUnitTypeId(GetFilterUnit())==1697657392)and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function Q9F takes nothing returns nothing
if((GetPlayerController(GetOwningPlayer(GetEnumUnit()))!=MAP_CONTROL_USER)and((Z84[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]!=ZD4)or(GetRandomInt(1,10)<=7)))then
call MoveLocation(Hc,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()))
if((SR7(400.,Hc,Condition(function PLF))>0)and(SR7(1100.,Hc,Condition(function YP7))>0))then
call IssueImmediateOrderById(GetEnumUnit(),852556)
endif
endif
endfunction
function QDF takes nothing returns nothing
local integer O5=1
local group jU=UJ7(GetHandleId(GetTriggeringTrigger()),"MGrp")
local boolexpr AU7=UV7(GetHandleId(GetTriggeringTrigger()),"MFilt")
loop
if((GetPlayerController(Z7[O5])==MAP_CONTROL_COMPUTER)and(GetUnitTypeId(M7[GetPlayerId(Z7[O5])])==1160786265))then
call GroupClear(jU)
call GroupEnumUnitsOfPlayer(jU,Z7[O5],AU7)
call ForGroup(jU,function Q9F)
endif
if((GetPlayerController(A7[O5])==MAP_CONTROL_COMPUTER)and(GetUnitTypeId(M7[GetPlayerId(A7[O5])])==1160786265))then
call GroupClear(jU)
call GroupEnumUnitsOfPlayer(jU,A7[O5],AU7)
call ForGroup(jU,function Q9F)
endif
set O5=O5+1
endloop
set jU=null
set AU7=null
endfunction
function QEF takes nothing returns boolean
return((GetLearnedSkill()==1093685840)and(not IsUnitIllusion(GetTriggerUnit()))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))
endfunction
function QFF takes nothing returns nothing
local trigger t=CreateTrigger()
call DisableTrigger(GetTriggeringTrigger())
call TriggerRegisterTimerEventPeriodic(t,1.50)
call TriggerAddAction(t,function QDF)
set Hc=Location(0.,0.)
call TL7(GetHandleId(t),"MGrp",CreateGroup())
call T_7(GetHandleId(t),"MFilt",Condition(function Q8F))
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function SS8 takes nothing returns nothing
local trigger t=CreateTrigger()
call ky(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function QEF))
call TriggerAddAction(t,function QFF)
endfunction
function QGF takes unit O_7 returns location
call MoveLocation(HA,(LoadReal(L7,(GetHandleId(O_7)),(7400))),(LoadReal(L7,(GetHandleId(O_7)),(7500))))
return HA
endfunction
function QHF takes nothing returns boolean
if((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(SE7(GetFilterUnit()))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))))then
call QGF(GetFilterUnit())
return((RI7(GetLocationX(HA),GetLocationY(HA),GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit())))>3000.)
endif
return false
endfunction
function QIF takes nothing returns nothing
local unit QJF=GetTriggerUnit()
local player pl=GetOwningPlayer(QJF)
local integer O5=GetPlayerId(GetOwningPlayer(QJF))
local integer UP=0
call SetPlayerAbilityAvailable(pl,1093687351,false)
call SetPlayerAbilityAvailable(pl,1093748789,false)
set h4[80+GetPlayerId(pl)]=null
if(h4[288+O5]==null)then
set h4[288+O5]=Z47(1500.,QJF)
endif
if(SH7(QJF))then
call T47(QJF,851986,h9[O5])
elseif(h4[288+O5]!=null)then
call IssueTargetOrderById(QJF,851983,h4[288+O5])
set hq[512+O5]=Bz+5.+I2R(15*GetUnitAbilityLevel(QJF,1093679445))
else
call T47(QJF,851983,h8[O5])
set hq[512+O5]=Bz+5.+I2R(15*GetUnitAbilityLevel(QJF,1093679445))
endif
loop
call R97(0.5)
exitwhen(GetUnitAbilityLevel(QJF,1110454347)==0)
if(not G0[128+O5])then
set h4[288+O5]=null
elseif((h4[288+O5]==null)or(not SE7(h4[288+O5]))or(WF7(h4[288+O5]))or((kD(h4[288+O5]))and(not IsUnitVisible(h4[288+O5],pl))))then
set h4[288+O5]=Z47(1500.,QJF)
endif
if((SH7(QJF))or(not G0[128+O5])or(G0[64+O5])or(G0[O5]))then
call T47(QJF,851986,h9[O5])
elseif(h4[288+O5]!=null)then
call IssueTargetOrderById(QJF,851983,h4[288+O5])
else
call J3(QJF,true)
endif
endloop
if((h4[288+O5]!=null)and(SE7(h4[288+O5]))and(IsUnitInRange(QJF,h4[288+O5],1200.)))then
call CYE(O5,h4[288+O5],false,false)
endif
call SetPlayerAbilityAvailable(pl,1093687351,true)
set hq[512+O5]=Bz+3.
set h4[288+O5]=null
set QJF=null
set pl=null
endfunction
function QKF takes nothing returns boolean
return((WS7())and(GetUnitAbilityLevel(GetFilterUnit(),1113812327)==0))
endfunction
function QMF takes nothing returns boolean
return((k3())and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE))and(GetUnitAbilityLevel(GetFilterUnit(),1113812327)==0))
endfunction
function QNF takes nothing returns nothing
local unit QJF=GetTriggerUnit()
local unit QOF=null
local integer O5=GetPlayerId(GetOwningPlayer(QJF))
local real kl
if(SH7(QJF))then
call T47(QJF,851986,h9[O5])
elseif(h4[288+O5]!=null)then
call T47(QJF,851971,h4[288+O5])
set hq[512+O5]=Bz+5.
else
call T47(QJF,851983,h8[O5])
set hq[512+O5]=Bz+5.
endif
loop
call R97(0.3)
exitwhen(GetUnitAbilityLevel(QJF,1112041075)==0)
if(not G0[128+O5])then
set h4[288+O5]=null
elseif((h4[288+O5]==null)or(not SE7(h4[288+O5]))or(WF7(h4[288+O5]))or((kD(h4[288+O5]))and(not IsUnitVisible(h4[288+O5],GetOwningPlayer(QJF)))))then
set h4[288+O5]=SO7(1000.,S_7(QJF),Condition(function QKF))
endif
if((h4[288+O5]!=null)and(SS7(800.,h4[288+O5],Condition(function WB7))>0)and((not SH7(h4[288+O5]))or(not IsUnitInRange(h4[288+O5],QJF,400.))))then
set h4[288+O5]=null
endif
if((SH7(QJF))or(G0[O5])or(not G0[128+O5])or(G0[64+O5]))then
call T47(QJF,851986,h9[O5])
elseif(h4[288+O5]!=null)then
set QOF=null
if(GetUnitAbilityLevel(h4[288+O5],1113812327)==0)then
set kl=Atan2(GetUnitY(h4[288+O5])-GetUnitY(QJF),GetUnitX(h4[288+O5])-GetUnitX(QJF))
call IssuePointOrderById(QJF,851971,GetUnitX(h4[288+O5])+250.*Cos(kl),GetUnitY(h4[288+O5])+250.*Sin(kl))
elseif(GetUnitAbilityLevel(h4[288+O5],1113812327)>0)then
if((GetUnitLifePercent(h4[288+O5])<45.)or((GetHeroLevel(QJF)>10)and(h4[O5]==h4[288+O5])and(GetUnitLifePercent(h4[288+O5])<65.)))then
if(IsUnitInRange(QJF,h4[288+O5],200.))then
call UnitRemoveAbility(QJF,1112041075)
call IssueTargetOrderById(QJF,851983,h4[288+O5])
else
set kl=Atan2(GetUnitY(h4[288+O5])-GetUnitY(QJF),GetUnitX(h4[288+O5])-GetUnitX(QJF))
call IssuePointOrderById(QJF,851971,GetUnitX(h4[288+O5])+250.*Cos(kl),GetUnitY(h4[288+O5])+250.*Sin(kl))
endif
else
set h4[288+O5]=null
endif
endif
else
if((QOF!=null)and(GetUnitAbilityLevel(QOF,1113812327)>0))then
set QOF=null
endif
if((QOF==null)and(GetHeroLevel(QJF)>10)and(SS7(800.,QJF,Condition(function WS7))<=1))then
set QOF=SQ7(600.,S_7(QJF),Condition(function QMF))
endif
if(QOF!=null)then
call IssuePointOrderById(QJF,851986,GetUnitX(QOF),GetUnitY(QOF))
else
call T47(QJF,851986,h9[O5])
endif
endif
endloop
set hq[512+O5]=Bz+3.
set h4[288+O5]=null
set QJF=null
set QOF=null
endfunction
function QPF takes nothing returns nothing
local unit QJF=GetTriggerUnit()
local integer O5=GetPlayerId(GetOwningPlayer(QJF))
local real AT7
local boolean J4
if(GetUnitTypeId(QJF)==1315334514)then
set AT7=150.
elseif(GetUnitTypeId(QJF)==1162032439)then
set AT7=350.
endif
set h4[288+O5]=Z47(1500.,QJF)
if(h4[288+O5]!=null)then
call IssuePointOrderById(QJF,851971,GetUnitX(h4[288+O5])+5.,GetUnitY(h4[288+O5])+5.)
else
call T47(QJF,851983,h8[O5])
endif
set hq[512+O5]=Bz+30.
loop
call R97(0.4)
exitwhen((GetUnitAbilityLevel(QJF,1110456148)==0)or(SH7(QJF)))
if((h4[288+O5]!=null)and(IsUnitInRange(h4[288+O5],QJF,AT7)))then
if(GetUnitTypeId(QJF)==1315334514)then
if(GetUnitCurrentOrder(QJF)!=852273)then
call TG7(QJF,852273,1093810506)
endif
else
call SetPlayerAbilityAvailable(GetOwningPlayer(QJF),1093681462,true)
set GZ[O5]=true
call J8(O5,TG7(QJF,852594,1093677363))
endif
elseif(S47(QJF))then
set J4=(G0[O5])or(G0[64+O5])or(not G0[128+O5])
if((h4[288+O5]!=null)and((J4)or(not SE7(h4[288+O5]))or(WF7(h4[288+O5]))or((kD(h4[288+O5]))and(not IsUnitVisible(h4[288+O5],GetOwningPlayer(QJF))))))then
set h4[288+O5]=null
call T47(QJF,851986,h9[O5])
endif
if((h4[288+O5]==null)and(not J4))then
set h4[288+O5]=Z47(1200.,QJF)
endif
if((h4[288+O5]!=null)and(not J4)and(not SH7(QJF)))then
call IssuePointOrderById(QJF,851971,GetUnitX(h4[288+O5])+5.,GetUnitY(h4[288+O5])+5.)
elseif((SH7(QJF))or(J4))then
call T47(QJF,851986,h9[O5])
endif
endif
endloop
set hq[512+O5]=Bz+3.
set h4[288+O5]=null
set GZ[272+O5]=false
set QJF=null
endfunction
function QQF takes nothing returns nothing
local unit QJF=GetTriggerUnit()
local integer O5=GetPlayerId(GetOwningPlayer(QJF))
local integer QRF
local integer UP
if(SH7(QJF))then
call T47(QJF,851986,h9[O5])
set QJF=null
return
endif
if(GetUnitTypeId(QJF)==1315007329)then
set QRF=1110455864
call SetPlayerAbilityAvailable(GetOwningPlayer(QJF),1093677108,false)
elseif(GetUnitTypeId(QJF)==1160785972)then
set QRF=1110456118
else
set QRF=1110456148
endif
set h4[288+O5]=Z47(1500.,QJF)
if(h4[288+O5]!=null)then
call IssueTargetOrderById(QJF,851983,h4[288+O5])
else
call J3(QJF,true)
endif
set hq[512+O5]=Bz+30.
loop
call R97(0.5)
exitwhen((GetUnitAbilityLevel(QJF,QRF)==0)or(SH7(QJF)))
if((h4[288+O5]!=null)and((G0[O5])or(G0[64+O5])or(not G0[128+O5])or(not SE7(h4[288+O5]))or(WF7(h4[288+O5]))or((kD(h4[288+O5]))and(not IsUnitVisible(h4[288+O5],GetOwningPlayer(QJF))))))then
set h4[288+O5]=null
call T47(QJF,851986,h9[O5])
endif
if((h4[288+O5]!=null)and(not SH7(QJF)))then
if((QRF!=1110455864)and(IsUnitInRange(QJF,h4[288+O5],300.)))then
call UnitRemoveAbility(QJF,QRF)
set GZ[O5]=true
if((GetUnitTypeId(QJF)!=1160785972)or(not TG7(QJF,852100,1093677872)))then
call IssueTargetOrderById(QJF,851983,h4[288+O5])
endif
set GZ[O5]=false
elseif(QRF==1110455864)then
call IssueTargetOrderById(QJF,851983,h4[288+O5])
else
call IssuePointOrderById(QJF,851971,GetUnitX(h4[288+O5])+5.,GetUnitY(h4[288+O5])+5.)
endif
elseif((h4[288+O5]==null)and(not SH7(QJF))and(not G0[O5])and(not G0[64+O5])and(G0[128+O5]))then
set h4[288+O5]=Z47(1500.,QJF)
if(h4[288+O5]!=null)then
call IssuePointOrderById(QJF,851971,GetUnitX(h4[288+O5])+5.,GetUnitY(h4[288+O5])+5.)
endif
else
call T47(QJF,851986,h9[O5])
endif
endloop
if(GetTriggerEventId()==EVENT_PLAYER_UNIT_USE_ITEM)then
set GZ[272+O5]=false
endif
set hq[512+O5]=Bz+3.
set h4[288+O5]=null
set QJF=null
endfunction
function QSF takes nothing returns boolean
return((GetSpellAbilityId()==1093677391)and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))
endfunction
function QTF takes nothing returns nothing
local unit j5=GetTriggerUnit()
call SetPlayerController(GetOwningPlayer(j5),MAP_CONTROL_NONE)
call R97(0.5)
call SetPlayerController(GetOwningPlayer(j5),MAP_CONTROL_COMPUTER)
call R97(0.0)
call J3(j5,false)
call R97(1.)
if(RH7(j5,TJ7(j5))<1500.)then
set h9[GetPlayerId(GetOwningPlayer(j5))]=TJ7(j5)
call VA7(j5,true)
else
call AA7(j5)
endif
set j5=null
endfunction
function po takes nothing returns nothing
local trigger t=CreateTrigger()
call ky(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function QSF))
call TriggerAddAction(t,function QTF)
endfunction
function QUF takes nothing returns boolean
return((GetSpellAbilityId()==1093682764)and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))
endfunction
function QVF takes nothing returns nothing
local unit m5=GetSpellTargetUnit()
local unit j5=GetTriggerUnit()
local player pl=GetOwningPlayer(j5)
local real QWF=0.
call SetPlayerController(pl,MAP_CONTROL_NONE)
call MTF(j5,m5)
set QWF=Bz
loop
call R97(0.5)
exitwhen((GetUnitAbilityLevel(m5,1110455113)==0)or(IsUnitDeadBJ(m5))or(IsUnitDeadBJ(j5)))
endloop
call SetPlayerController(pl,MAP_CONTROL_COMPUTER)
set hq[GetPlayerId(pl)]=Bz+30.
if((IsUnitAliveBJ(m5))and(not SH7(j5)))then
call IssueTargetOrderById(j5,851983,m5)
else
call J3(j5,false)
endif
set m5=null
set j5=null
set pl=null
endfunction
function PZ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call ky(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function QUF))
call TriggerAddAction(t,function QVF)
endfunction
function QXF takes nothing returns boolean
return((GetSpellAbilityId()==1093677649 or GetSpellAbilityId()==1093747769)and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))
endfunction
function QYF takes nothing returns nothing
local unit m5=GetSpellTargetUnit()
local unit j5=GetTriggerUnit()
local player pl=GetOwningPlayer(j5)
local real QWF=0.
call SetPlayerController(pl,MAP_CONTROL_NONE)
call MTF(j5,m5)
set QWF=Bz
loop
call R97(0.5)
exitwhen((GetUnitAbilityLevel(m5,1110455362)==0)or(IsUnitDeadBJ(m5))or(IsUnitDeadBJ(j5)))
endloop
call SetPlayerController(pl,MAP_CONTROL_COMPUTER)
set hq[GetPlayerId(pl)]=Bz+120.
if((not IsUnitDeadBJ(m5))and(not SH7(j5))and(not T77(j5,852119,1093683019,m5)))then
call IssueTargetOrderById(j5,851983,m5)
else
call J3(j5,false)
endif
set m5=null
set j5=null
set pl=null
endfunction
function OO8 takes nothing returns nothing
local trigger t=CreateTrigger()
call ky(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function QXF))
call TriggerAddAction(t,function QYF)
endfunction
function QZF takes nothing returns boolean
return((GetSpellAbilityId()==1093747288)and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))
endfunction
function QAF takes nothing returns nothing
local unit j5=GetTriggerUnit()
local unit m5=null
local player pl=GetOwningPlayer(j5)
local real QWF=0.
call SetPlayerController(pl,MAP_CONTROL_NONE)
set QWF=Bz
set m5=K2(400.,HC[GetPlayerId(pl)])
if(m5!=null)then
call MTF(j5,m5)
endif
loop
call R97(0.5)
exitwhen((GetUnitCurrentOrder(j5)!=OrderId("cannibalize"))or(IsUnitDeadBJ(j5)))
endloop
call SetPlayerController(pl,MAP_CONTROL_COMPUTER)
set hq[GetPlayerId(pl)]=Bz+210.-(GetUnitAbilityLevel(j5,1093747288)*10.)
call J3(j5,false)
set j5=null
set m5=null
set pl=null
endfunction
function MQ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call ky(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function QZF))
call TriggerAddAction(t,function QAF)
endfunction
function QBF takes nothing returns boolean
return((GetSpellAbilityId()==1093678160)and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))
endfunction
function QCF takes nothing returns nothing
local unit j5=GetTriggerUnit()
call SetPlayerController(GetOwningPlayer(j5),MAP_CONTROL_NONE)
call R97(0.5)
call SetPlayerController(GetOwningPlayer(j5),MAP_CONTROL_COMPUTER)
call R97(0.0)
if(GetSpellTargetUnit()!=null)then
call MTF(j5,GetSpellTargetUnit())
endif
set j5=null
endfunction
function PV takes nothing returns nothing
local trigger t=CreateTrigger()
call ky(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function QBF))
call TriggerAddAction(t,function QCF)
endfunction
function Q3F takes nothing returns boolean
return((GetSpellAbilityId()==1093684561 or GetSpellAbilityId()==1093747254)and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))
endfunction
function Q6F takes unit it,integer O5 returns nothing
if(RH7(h9[O5],it)<400.)then
set h8[O5]=h9[O5]
set h9[O5]=TJ7(it)
elseif(RH7(h8[O5],it)<400.)then
set h9[O5]=h8[O5]
if(IsUnitAlly(it,Z7[0]))then
set h8[O5]=h7[18]
else
set h8[O5]=h7[118]
endif
endif
endfunction
function QLF takes unit it,integer O5,boolean J4 returns nothing
local unit m5=null
if(not J4)then
if((eY[O5]!=3)and(eY[O5]!=4))then
call T47(it,851983,h8[O5])
else
set m5=SO7(1200.,S_7(it),Condition(function k8))
set J4=((m5!=null)and(IssuePointOrderById(it,851983,GetUnitX(m5),GetUnitY(m5))))or(T47(it,851983,h8[O5]))
endif
endif
set m5=null
endfunction
function Q1F takes nothing returns nothing
local unit j5=GetTriggerUnit()
local integer O5=GetPlayerId(GetOwningPlayer(j5))
set GZ[O5]=false
set GZ[272+O5]=SH7(j5)
call SetPlayerController(GetOwningPlayer(j5),MAP_CONTROL_NONE)
call R97(0.5)
call SetPlayerController(GetOwningPlayer(j5),MAP_CONTROL_COMPUTER)
call R97(1.5)
set h8[512+O5]=h8[16+O5]
set h9[512+O5]=h9[16+O5]
set h8[528+O5]=h8[16+O5]
set h9[528+O5]=h9[16+O5]
loop
exitwhen(not IsUnitHidden(j5))
call R97(1.)
endloop
if(SE7(j5))then
call AA7(j5)
endif
set j5=null
endfunction
function U68 takes nothing returns nothing
local trigger t=CreateTrigger()
call ky(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function Q3F))
call TriggerAddAction(t,function Q1F)
endfunction
function Q0F takes nothing returns boolean
local integer X5=GetIssuedOrderId()
local integer i=GetUnitTypeId(GetTriggerUnit())
if(X5!=852557)and(X5!=851985)and(X5!=852558)and(not IsUnitInRange(GetTriggerUnit(),M7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))],50.))then
if i==1966092359 or i==1966092361 then
call DisableTrigger(GetTriggeringTrigger())
call IssueImmediateOrderById(GetTriggerUnit(),852557)
call EnableTrigger(GetTriggeringTrigger())
endif
endif
return false
endfunction
function aiExorcismFilter takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())==1966092359 and GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(bj_lastLoadedUnit))
endfunction
function Q5F takes nothing returns nothing
local unit PI7=GetEnumUnit()
local player pl=GetOwningPlayer(PI7)
local trigger t=UI7(GetHandleId(pl),"ExorTrig")
local integer i=GetUnitCurrentOrder(PI7)
if RH7(PI7,bj_lastLoadedUnit)>750. then
call DisableTrigger(t)
call IssuePointOrderById(PI7,851986,GetUnitX(bj_lastLoadedUnit),GetUnitY(bj_lastLoadedUnit))
call EnableTrigger(t)
elseif((i==0)or(i==851986 and RH7(PI7,bj_lastLoadedUnit)<450.))then
call IssueImmediateOrderById(PI7,852557)
endif
set PI7=null
set t=null
set pl=null
endfunction
function Q2F takes nothing returns nothing
local unit PI7=GetEnumUnit()
local player pl=GetOwningPlayer(PI7)
local trigger t=UI7(GetHandleId(pl),"NAttTrig")
local integer i=GetUnitCurrentOrder(PI7)
if RH7(PI7,bj_lastLoadedUnit)>350. then
call DisableTrigger(t)
call IssuePointOrderById(PI7,851986,GetUnitX(bj_lastLoadedUnit),GetUnitY(bj_lastLoadedUnit))
call EnableTrigger(t)
elseif((i==0)or(i==851986 and RH7(PI7,bj_lastLoadedUnit)<200.))then
call IssueImmediateOrderById(PI7,852557)
endif
set PI7=null
set t=null
set pl=null
endfunction
function Q_F takes nothing returns nothing
local unit j5=GetTriggerUnit()
local player pl=GetOwningPlayer(j5)
local real JSF=Bz+29.5
local trigger t=UI7(GetHandleId(pl),"ExorTrig")
local integer R4F=GetSpellAbilityId()
local group R7F=UJ7(GetHandleId(pl),"ExorG")
set hq[GetPlayerId(pl)]=Bz+120.
call RemoveGuardPosition(j5)
if(t==null)then
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,pl,EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER,null)
call TriggerRegisterPlayerUnitEvent(t,pl,EVENT_PLAYER_UNIT_ISSUED_ORDER,null)
call TriggerRegisterPlayerUnitEvent(t,pl,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER,null)
call TriggerAddCondition(t,Condition(function Q0F))
call TZ7(GetHandleId(pl),"ExorTrig",t)
set R7F=CreateGroup()
call TL7(GetHandleId(pl),"ExorG",R7F)
else
call EnableTrigger(t)
call GroupClear(R7F)
endif
loop
call TriggerSleepAction(0.5)
if((iU(j5))and(GetUnitCurrentOrder(j5)!=851983)and(SS7(750.,j5,Condition(function k0))==0)and(not SH7(j5))and((GetUnitLifePercent(j5)>90.)or(not G0[GetPlayerId(GetOwningPlayer(j5))])))then
call T47(j5,851983,h8[GetPlayerId(GetOwningPlayer(j5))])
endif
exitwhen((Bz>JSF)or(not SE7(j5)))
set bj_lastLoadedUnit=j5
call ForGroup(R7F,function Q5F)
endloop
call DisableTrigger(t)
set t=null
set j5=null
endfunction
function R8F takes nothing returns nothing
local unit j5=GetTriggerUnit()
local player pl=GetOwningPlayer(j5)
local real JSF=Bz+9.5
local trigger t=UI7(GetHandleId(pl),"NAttTrig")
local integer R4F=GetSpellAbilityId()
local group R7F=UJ7(GetHandleId(pl),"NAttG")
call RemoveGuardPosition(j5)
if(t==null)then
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,GetOwningPlayer(j5),EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER,null)
call TriggerRegisterPlayerUnitEvent(t,GetOwningPlayer(j5),EVENT_PLAYER_UNIT_ISSUED_ORDER,null)
call TriggerRegisterPlayerUnitEvent(t,GetOwningPlayer(j5),EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER,null)
call TriggerAddCondition(t,Condition(function Q0F))
call TZ7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"NAttTrig",t)
set R7F=CreateGroup()
call TL7(GetHandleId(pl),"NAttG",R7F)
else
call EnableTrigger(t)
call GroupClear(R7F)
endif
loop
call TriggerSleepAction(0.3)
exitwhen((Bz>JSF)or(not SE7(j5)))
set bj_lastLoadedUnit=j5
call ForGroup(R7F,function Q2F)
endloop
call DisableTrigger(t)
set t=null
set j5=null
endfunction
function R9F takes nothing returns boolean
return((GetSpellAbilityId()==1093685846)and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))
endfunction
function RDF takes nothing returns nothing
local unit j5=GetTriggerUnit()
local unit m5=null
local real JSF=Bz+.5
local integer O5=GetPlayerId(GetOwningPlayer(j5))
call SetPlayerController(GetOwningPlayer(j5),MAP_CONTROL_NONE)
call TriggerSleepAction(0.01)
loop
if((h4[O5]!=null)and(SE7(h4[O5]))and(IsUnitInRange(j5,h4[O5],145+(40*GetUnitAbilityLevel(j5,1093685839)))))then
set m5=h4[O5]
else
set m5=SQ7(I2R(145+(40*GetUnitAbilityLevel(j5,1093685839))),S_7(j5),Condition(function WS7))
endif
if(m5!=null)then
call UnitRemoveAbility(j5,1110456395)
call IssueTargetOrderById(j5,851983,m5)
endif
exitwhen((not G0[128+O5])or(GetUnitAbilityLevel(j5,1110456395)==0)or(not SE7(j5))or(Bz>=JSF))
call R97(.5)
endloop
call SetPlayerController(GetOwningPlayer(j5),MAP_CONTROL_COMPUTER)
call J3(j5,false)
set j5=null
set m5=null
endfunction
function ST8 takes nothing returns nothing
local trigger t=CreateTrigger()
call ky(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function R9F))
call TriggerAddAction(t,function RDF)
endfunction
function REF takes nothing returns boolean
return((GetSpellAbilityId()==1093677402)and(IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetSpellTargetUnit()))==MAP_CONTROL_COMPUTER))
endfunction
function RFF takes nothing returns nothing
local real IW
local real JD
local real Je
local integer O5=GetPlayerId(GetOwningPlayer(hr))
if((GetDestructableTypeId(GetEnumDestructable())==1465152372)or(GetDestructableTypeId(GetEnumDestructable())==1230271587)or(GetDestructableTypeId(GetEnumDestructable())==1230271607)or(GetDestructableTypeId(GetEnumDestructable())==1314157687)or(GetDestructableTypeId(GetEnumDestructable())==1096053874))then
set JD=GetUnitX(h9[16+O5])
set Je=GetUnitY(h9[16+O5])
set IW=RI7(GetDestructableX(GetEnumDestructable()),GetDestructableY(GetEnumDestructable()),JD,Je)
if(((RI7(GetUnitX(hr),GetUnitY(hr),JD,Je)-150.)>IW)and((GetLocationX(HC[240+O5])==0.)or(((RI7(GetLocationX(HC[240+O5]),GetLocationY(HC[240+O5]),JD,Je)-150.)>IW))and(RI7(GetLocationX(HC[240+O5]),GetLocationY(HC[240+O5]),GetDestructableX(GetEnumDestructable()),GetDestructableY(GetEnumDestructable()))>250.)))then
call MoveLocation(HC[240+O5],GetDestructableX(GetEnumDestructable()),GetDestructableY(GetEnumDestructable()))
endif
endif
endfunction
function RGF takes nothing returns nothing
local unit RHF=GetSpellTargetUnit()
local integer O5=GetPlayerId(GetOwningPlayer(RHF))
local integer ki=GetHandleId(GetOwningPlayer(GetSpellTargetUnit()))
local location RIF=null
call R97(0.5)
set GZ[272+O5]=false
if(HC[240+O5]==null)then
set HC[240+O5]=Location(0.,0.)
endif
loop
call SetRect(He,GetUnitX(RHF)-600.,GetUnitY(RHF)-600.,GetUnitX(RHF)+600.,GetUnitY(RHF)+600.)
set hr=RHF
call EnumDestructablesInRect(He,Q24,function RFF)
set RIF=HC[240+O5]
if(GetLocationX(RIF)!=0.)then
call IssuePointOrderByIdLoc(RHF,851986,RIF)
else
call T47(RHF,851986,h9[O5])
endif
call R97(0.8)
exitwhen((GetUnitAbilityLevel(RHF,1110454833)==0)or(GZ[272+O5])or((SS7(1200.,RHF,Condition(function WS7))==0)and(iy(RHF))))
if((GetLocationX(RIF)!=0.)and(IsUnitInRangeLoc(RHF,RIF,150.)))then
call MoveLocation(RIF,0.,0.)
endif
endloop
if(RIF!=null)then
call MoveLocation(RIF,0.,0.)
endif
set RIF=null
set RHF=null
endfunction
function Pr takes nothing returns nothing
local trigger t=CreateTrigger()
call ky(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function REF))
call TriggerAddAction(t,function RGF)
endfunction
function RJF takes real JIF,real JJF,boolean RKF returns boolean
local boolean J4=false
local unit RMF=null
local unit it=GetEnumUnit()
if RI7(GetUnitX(it),GetUnitY(it),JIF,JJF)>3000 then
if(RKF)then
call V67(it)
set J4=((GetUnitTypeId(it)==1164799603)and(IssuePointOrderById(it,852525,JIF,JJF)))or((GetUnitTypeId(it)==1311780946)and(((IsUnitAlly(it,Z7[0]))and(IssueTargetOrderById(it,852600,IZ4)))or((IsUnitAlly(it,A7[0]))and(IssueTargetOrderById(it,852600,JA4)))))
else
call MoveLocation(HB,JIF,JJF)
set RMF=SO7(1200.,HB,Condition(function Kd))
if((RMF!=null)and(SS7(1000.,RMF,Condition(function Kd))>3)and(SS7(1200.,RMF,Condition(function k6))<2)and(RH7(RMF,TJ7(it))>4000.)and(kJ(GetUnitX(RMF),GetUnitY(RMF))))then
call V67(it)
set J4=((GetUnitTypeId(it)==1164799603)and(IssuePointOrderById(it,852525,GetUnitX(RMF),GetUnitY(RMF))))or((GetUnitTypeId(it)==1311780946)and(IssueTargetOrderById(it,852600,RMF)))or((SU7(it,ZU[F6]))and(UnitUseItemTarget(it,bj_lastCreatedItem,RMF)))
endif
endif
endif
set RMF=null
set it=null
return J4
endfunction
function RNF takes integer ROF returns boolean
local unit u=GetEnumUnit()
local boolean J4=false
if(ROF==0)then
if(IsUnitAlly(u,A7[0]))then
set J4=(RJF(Tm,Um,false))or(RJF(Jm,lm,false))or(RJF(cm,Cm,false))or(RJF(Zq,vQ,false))
else
set J4=(RJF(bQ,BQ,false))or(RJF(aQ,EQ,false))or(RJF(Zq,vQ,false))or(RJF(cm,Cm,false))
endif
elseif(ROF==1)then
if(IsUnitAlly(u,A7[0]))then
set J4=(RJF(-6240.,-3808.,false))or(RJF(-6112.,-1312.,false))or(RJF(-6112.,1504.,false))or(RJF(3169.,5920.,false))
else
set J4=(RJF(-4704.,5920.,false))or(RJF(32.,5856.,false))or(RJF(3169.,5920.,false))or(RJF(-6112.,1504.,false))
endif
elseif(ROF==2)then
if(IsUnitAlly(u,A7[0]))then
set J4=(RJF(-3424.,-6560.,false))or(RJF(-544.,-6688.,false))or(RJF(4960.,-6752.,false))or(RJF(6044.,2874.,false))
else
set J4=(RJF(6048.,-2080.,false))or(RJF(6112.,-96.,false))or(RJF(6044.,2874.,false))or(RJF(4960.,-6752.,false))
endif
elseif(ROF==3)then
set J4=RJF(GetUnitX(TJ7(u)),GetUnitY(TJ7(u)),true)
endif
set u=null
return J4
endfunction
function RPF takes unit it returns integer
if(GetUnitAbilityLevel(it,1093810259)==0)then
return 150+(150*GetUnitAbilityLevel(it,1093810258))
else
return 160+(180*GetUnitAbilityLevel(it,1093810259))
endif
endfunction
function RQF takes unit it returns integer
local integer kt=GetHeroLevel(it)
if(D4 or RZ4)then
return(45*kt)
elseif(hG[GetPlayerId(GetOwningPlayer(it))]<5)then
return(30*kt)
elseif(hG[GetPlayerId(GetOwningPlayer(it))]<11)then
return(40*kt)
elseif(hG[GetPlayerId(GetOwningPlayer(it))]<15)then
return(55*kt)
else
return(70*kt)
endif
endfunction
function RRF takes unit it returns integer
local integer kc=GetUnitAbilityLevel(it,1093684565)
if((kc==0)and(GetUnitAbilityLevel(it,1093681458)>0))then
return GetUnitAbilityLevel(it,1093681458)
endif
return kc
endfunction
function RSF takes unit it returns integer
if(GetUnitAbilityLevel(it,1093679447)==0)then
return 236+(150*GetUnitAbilityLevel(it,1093679413))
else
return 350+(150*GetUnitAbilityLevel(it,1093679447))
endif
endfunction
function RTF takes unit it returns integer
if(GetUnitAbilityLevel(it,1093679450)==0)then
return 236+(150*GetUnitAbilityLevel(it,1093677392))
else
return 332+(150*GetUnitAbilityLevel(it,1093679450))
endif
endfunction
function RUF takes unit it returns real
if((it==JH4)or(it==JK4)or(it==JO4)or(it==JR4)or(it==JQ4)or(it==JI4))then
return 50.
elseif((it==JG4)or(it==JJ4)or(it==JN4))then
return 100.
elseif((it==JM4)or(it==JP4))then
return 10.
elseif((it==J54)or(it==K44)or(it==K84)or(it==K94))then
return 230.
elseif((it==J14)or(it==J24)or(it==K74))then
return 270.
elseif(it==J_4)then
return 150.
else
return 180.
endif
endfunction
function RVF takes unit it returns real
local real RWF=DU8(UR7(GetHandleId(it),"TLLife1"),1.)-GetUnitState(it,UNIT_STATE_LIFE)
local real RXF=GetUnitState(it,UNIT_STATE_MAX_LIFE)
if(RXF==0)then
return 0.00
else
return(RWF/RXF)*100.0
endif
endfunction
function RYF takes unit it,real ONF,integer X5,integer o6 returns boolean
call MoveLocation(Ha,GetUnitX(it)+ONF*Cos(GetUnitFacing(it)*bj_DEGTORAD),GetUnitY(it)+ONF*Sin(GetUnitFacing(it)*bj_DEGTORAD))
return((SR7(260.,Ha,Condition(function k6))>0)and(TG7(it,X5,o6)))
endfunction
function RZF takes unit it,real ONF,boolexpr Ig returns boolean
call MoveLocation(Ha,GetUnitX(it)+ONF*Cos(GetUnitFacing(it)*bj_DEGTORAD),GetUnitY(it)+ONF*Sin(GetUnitFacing(it)*bj_DEGTORAD))
return SR7(260.,Ha,Ig)>0
endfunction
function RAF takes unit j5,unit m5 returns boolean
local integer I8=0
local item ja
local boolean jR=false
loop
set ja=UnitItemInSlot(j5,I8)
if((ja!=null)and(WM7(GetItemTypeId(ja))))then
set jR=UnitUseItemTarget(j5,ja,m5)
set I8=bj_MAX_INVENTORY
endif
set I8=I8+1
exitwhen I8>=bj_MAX_INVENTORY
endloop
set ja=null
return jR
endfunction
function RBF takes unit it returns boolean
local integer I8=0
local item ja
loop
set ja=UnitItemInSlot(it,I8)
if((ja!=null)and(ks(GetItemTypeId(ja))))then
set ja=null
return true
endif
set I8=I8+1
exitwhen I8>=bj_MAX_INVENTORY
endloop
set ja=null
return false
endfunction
function RCF takes unit j5 returns boolean
local integer I8=0
local item ja
local boolean jR=false
loop
set ja=UnitItemInSlot(j5,I8)
if((ja!=null)and(ks(GetItemTypeId(ja))))then
set GZ[224+GetPlayerId(GetOwningPlayer(j5))]=true
set jR=UnitUseItem(j5,ja)
set GZ[224+GetPlayerId(GetOwningPlayer(j5))]=false
set I8=bj_MAX_INVENTORY
endif
set I8=I8+1
exitwhen I8>=bj_MAX_INVENTORY
endloop
set ja=null
return jR
endfunction
function R3F takes unit j5,unit m5 returns boolean
local integer I8=0
local item ja=null
local location R6F=null
local boolean jR=false
if(WF7(m5))then
return false
endif
loop
set ja=UnitItemInSlot(j5,I8)
if((ja!=null)and(GetItemTypeId(ja)==ZU[RW]))then
set R6F=kL(j5,m5,100.)
if(R6F!=null)then
set jR=UnitUseItemPointLoc(j5,ja,R6F)
if((jR)and(hq[512+GetPlayerId(GetOwningPlayer(j5))]<Bz))then
set hq[512+GetPlayerId(GetOwningPlayer(j5))]=Bz+1.
endif
endif
set I8=bj_MAX_INVENTORY
endif
set I8=I8+1
exitwhen I8>=bj_MAX_INVENTORY
endloop
set R6F=null
set ja=null
return jR
endfunction
function RLF takes nothing returns boolean
if((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))or(eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>0))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0))then
return(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<=EJ7)
endif
return false
endfunction
function R1F takes unit it,unit m5 returns nothing
if((it!=null)and(it!=GetTriggerUnit())and(is(it))and(IsUnitInRange(it,GetTriggerUnit(),1200.))and(GetUnitLifePercent(it)>50.))then
if(not IssuePointOrderById(it,852553,GetUnitX(m5)+5.,GetUnitY(m5)+5.))then
call IssueTargetOrderById(it,851983,m5)
endif
endif
endfunction
function R0F takes unit it,unit m5 returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(it))
if(hq[240+O5]<Bz)then
set GZ[O5]=true
if(C57(it,m5,30/0.035,0,(GetUnitAbilityLevel(it,1093684802)+1)*250)!=null)and(J8(O5,T87(it,852089,1093684802,GN7)))then
set hq[240+O5]=Bz+1.5
return true
endif
endif
return false
endfunction
function R5F takes nothing returns nothing
call AA7(GetEnumUnit())
endfunction
function R2F takes unit it,unit m5 returns boolean
local integer i1=GetUnitTypeId(it)
local integer O5=GetPlayerId(GetOwningPlayer(it))
local boolean J4=false
if(i1==1211117653)then
set J4=((Bz>TC4[16+O5])and AR7(it,LP4,LP4,LP4,1093686874)and(T77(it,852505,1093686874,m5)))or(((GetUnitState(it,UNIT_STATE_MANA))>400)and(Bz>TC4[112+O5])and AR7(it,LP4,LQ4,LR4,1093686861)and IssuePointOrderById(it,852215,GetUnitX(m5),GetUnitY(m5)))
elseif(i1==1160786505)then
set J4=(IssuePointOrderById(it,852662,GetUnitX(m5),GetUnitY(m5)))
elseif(i1==1160785970)then
set J4=(IsUnitInRange(it,m5,650.))and(GetUnitManaPercent(it)>60.)and(Bz>TC4[16+O5])and(TG7(it,852526,1093748023))
elseif(i1==1160786506)then
set J4=(IsUnitInRange(it,m5,795.))and(GetUnitAbilityLevel(it,1093751894)<3)and(GetUnitManaPercent(it)>70.)and(IssueTargetOrderById(it,852095,m5))
if(not J4)then
set J4=(IsUnitInRange(it,m5,795.))and(GetUnitAbilityLevel(it,1093752118)>0)and(GetUnitAbilityLevel(it,1093751894)>=3)and(((Bz>TC4[48+O5])and(GetUnitManaPercent(it)>55.)and(Q57(O5,it,1093751894,1093751637))and(IssueTargetOrderById(it,852095,m5)))or((GetUnitManaPercent(it)>20.)and(IssueTargetOrderById(it,852095,Z47(795.,it)))))
endif
elseif((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))then
set J4=T77(it,852119,1093682994,m5)
elseif(i1==1429221424)then
set J4=(T77(it,852555,1093687351,m5))or(T77(it,OrderId("creepheal"),1093748789,m5))
elseif(i1==1430466609)then
set J4=T77(it,852527,1093685559,m5)
elseif(i1==1162032439)then
set J4=T77(it,OrderId("volcano"),1093744435,m5)
elseif(i1==1165451634)then
set J4=T77(it,OrderId("acidbomb"),1093687629,m5)
elseif(i1==1433168227)then
set J4=T77(it,852226,1093678918,m5)
elseif(i1==1430466865)then
set J4=T77(it,852125,1093677651,m5)
elseif(i1==1432642913)then
set J4=IssueTargetOrderById(it,852662,m5)
elseif(i1==1429221445)then
set J4=(IsUnitInRange(it,m5,400.))and(TG7(it,852526,1093678422))
elseif(i1==1332963428)then
set J4=T77(it,852119,1093683019,m5)
elseif(i1==1332109682)then
set J4=T77(it,852662,1093678134,m5)
elseif(i1==1211117640)then
set J4=(IsUnitInRange(it,m5,500.))and(IssueTargetOrderById(it,852089,m5))
elseif(i1==1430468406)then
set J4=T77(it,852218,kT(it),m5)
elseif(i1==1215063922)then
set J4=(T77(it,852580,1093677894,m5))or(T77(it,852095,1093681490,m5))
elseif(i1==1160786242)then
set J4=IssueTargetOrderById(it,852662,m5)
elseif(i1==1311780946)then
set J4=T77(it,852238,1093677385,m5)
elseif((i1==1211117650)or(i1==1211119433))then
set IN4=it
set J4=(SS7(1000.,it,Condition(function ny))>3)and(IssueTargetOrderById(it,852699,m5))
elseif(i1==1211117646)then
set J4=T77(it,852238,1093685573,m5)
elseif(i1==1211117624)then
set J4=(IsUnitInRange(it,m5,400.))and(TG7(it,852526,1093683024))
elseif(i1==1211117616)then
set J4=((IsUnitInRange(it,m5,200.))and(TG7(it,852127,1093677139)))or(T77(it,852231,1093816142,m5))
elseif(i1==1433631084)then
set J4=IssueTargetOrderById(it,852089,m5)
elseif(i1==1332898670)then
set J4=T77(it,852587,1093677360,m5)
elseif(i1==1215128178)then
set J4=(T77(it,852095,1093683779,m5))or(T77(it,852119,1093677616,m5))
elseif(i1==1316252014)then
set J4=(TG7(it,852526,1093678405))or(T77(it,852585,1093678137,m5))
elseif(i1==1328558160)then
set J4=(T77(it,852218,1093682766,m5))or(IssueTargetOrderById(it,852662,m5))
elseif(i1==1214931305)then
set J4=T77(it,OrderId("blizzard"),1093748025,m5)
elseif(i1==1211117633)then
set J4=T77(it,852095,1093684310,m5)
elseif(i1==1211117620)then
set J4=(T77(it,852125,1093677382,m5))or(T87(it,852232,1093677623,C_7(it,m5,.95,600.)))
elseif(i1==1311781185)then
set J4=IssueTargetOrderById(it,852662,m5)
elseif(i1==1160786000)then
set J4=T77(it,852218,1093685047,m5)
elseif(i1==1311781206)then
set J4=(IsUnitInRange(it,m5,500.))and(IssueImmediateOrderById(it,852600))
elseif(i1==1311780930)then
set J4=((IsUnitInRange(it,m5,350.))and(IssueImmediateOrderById(it,852600)))or(IssuePointOrderById(it,852662,GetUnitX(m5),GetUnitY(m5)))
elseif(i1==1311781174)then
set J4=T77(it,852218,1093808461,m5)
elseif(i1==1311781175 or i1==1311781442)then
set J4=(IsUnitInRange(it,m5,400.)and(TG7(it,852096,1093808462)))
elseif(i1==1160786520)then
set J4=T77(it,852184,1093809991,m5)
else
set J4=CTE(it,m5,true)
endif
return J4
endfunction
function R_F takes nothing returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))
if((G0[32+O5])or(not G0[128+O5])or(G0[O5]))then
elseif(h4[O5]==null)then
call CYE(O5,hz,false,false)
if(S47(GetEnumUnit()))then
call R2F(GetEnumUnit(),hz)
endif
elseif(S47(GetEnumUnit()))then
call R2F(GetEnumUnit(),hz)
endif
endfunction
function S4F takes unit OGF,unit OHF returns nothing
set hZ=OGF
set hz=OHF
if(GetWidgetLife(OHF)>1.)then
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(OGF),GetUnitY(OGF),1200.,iP)
call ForGroup(iA,function R_F)
endif
endfunction
function S7F takes unit IB,unit m5,boolean S8F returns nothing
if((m5==null)or(not SE7(m5))or(not IsUnitType(m5,UNIT_TYPE_HERO))or(IsUnitAlly(m5,GetOwningPlayer(IB))))then
return
endif
set h4[GetPlayerId(GetOwningPlayer(IB))]=m5
call MTF(IB,m5)
if((not IsUnitInForce(IB,QX4))or(not S47(IB)))then
elseif((S8F)and(G0[128+GetPlayerId(GetOwningPlayer(IB))])and((not SH7(IB))or(SH7(m5))))then
call IssueTargetOrderById(IB,851983,m5)
elseif((SH7(IB))and(not SM7(m5,IB)))then
call T47(IB,851986,h9[GetPlayerId(GetOwningPlayer(IB))])
endif
endfunction
function S9F takes nothing returns nothing
local unit j5=GetTriggerUnit()
local unit m5=null
local integer O5=GetPlayerId(GetOwningPlayer(j5))
local real SDF=Bz
local real QH7=Bz+4.5
local real SEF=Bz+7.5
local real HAF=775
local boolean S37=false
local boolean SFF=Z27(Player(O5))
local real SGF=(80.+70.*GetUnitAbilityLevel(j5,1093750345))/5.
set hq[O5]=Bz+120.
if SFF then
call UZ7(j5,"AlcheBrew")
if h4[O5]!=null then
set HAF=RH7(j5,h4[O5])
endif
endif
loop
call TriggerSleepAction(0.1)
if SFF then
if h4[O5]!=null then
if(not IsUnitInRange(j5,h4[O5],600.))then
exitwhen true
elseif(GetWidgetLife(h4[O5])<SGF*(Bz-SDF)*0.7)then
exitwhen true
endif
else
set bj_lastLoadedUnit=j5
if SS7(600.,j5,Condition(function WU7))==0 then
exitwhen true
endif
endif
endif
exitwhen((not SE7(j5))or(Bz>QH7))
endloop
call OFF(j5,j5)
if not Z27(Player(O5))then
set j5=null
return
endif
if(SE7(j5))then
set m5=h4[O5]
if(m5==null)or(not SE7(m5))or(not IsUnitInRange(m5,j5,750.))or(IsUnitType(m5,UNIT_TYPE_MAGIC_IMMUNE))then
set m5=Z77(775.,j5)
endif
loop
exitwhen(Bz>SEF)
if(m5==null)or(not SE7(m5))or(not IsUnitInRange(m5,j5,750.))or(IsUnitType(m5,UNIT_TYPE_MAGIC_IMMUNE))then
set m5=Z77(775.,j5)
endif
if m5!=null and((GetWidgetLife(m5)<SGF*((Bz-SDF)/5)*0.7)or(Bz>QH7))and IssueTargetOrderById(j5,852600,m5)then
call CYE(O5,m5,false,false)
exitwhen true
endif
if m5==null and S37==false and Bz+2.>=SEF then
call CVE(j5,true)
set S37=true
endif
call TriggerSleepAction(0.25)
endloop
endif
call UB7(j5,"AlcheBrew")
set j5=null
set m5=null
endfunction
function SHF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer O17=GetHandleId(t)
local unit it=LoadUnitHandle(L7,O17,1397899609)
local integer O5=LoadInteger(L7,O17,1397899609)
local real XU7
local boolean SIF=false
if GetTriggerEvalCount(t)>=15 then
call U37(t)
call FlushChildHashtable(L7,O17)
else
if h4[O5]==null then
if h4[O5]==null then
endif
endif
set XU7=RH7(h4[O5],it)
if h4[O5]==null or(not IsUnitInRange(it,h4[O5],1400))or(((not RF7(it,h4[O5],AsinBJ(0.7*GetUnitMoveSpeed(h4[O5])/XU7)))and GetTriggerEvalCount(t)>12)or GetUnitLifePercent(it)<20.)then
set SIF=IssueImmediateOrderById(it,852217)
if SIF then
call U37(t)
call FlushChildHashtable(L7,O17)
set it=null
set t=null
return false
endif
else
if not(RF7(it,h4[O5],Asin(100/XU7)*bj_RADTODEG))then
set SIF=IssueTargetOrderById(it,851971,h4[O5])
endif
if XU7>950. then
call IssueImmediateOrderById(it,852177)
elseif XU7<=300. then
call IssueImmediateOrderById(it,852178)
endif
endif
endif
set it=null
set t=null
return false
endfunction
function SJF takes integer O5,unit j5 returns nothing
local trigger t=CreateTrigger()
local integer O17=GetHandleId(t)
call TriggerAddCondition(t,Condition(function SHF))
call TriggerRegisterTimerEvent(t,0.4,true)
call SaveInteger(L7,O17,1397899609,O5)
call SaveUnitHandle(L7,O17,1397899609,j5)
set t=null
endfunction
function SKF takes nothing returns boolean
local unit j5=GetTriggerUnit()
local unit m5=GetOrderTargetUnit()
local integer i1=GetUnitTypeId(GetTriggerUnit())
local location b5=null
local boolean J4=false
if((i1==1162032181)and(GetUnitLifePercent(m5)<55.)and(not IsUnitInRange(j5,m5,250.))and(IsUnitInRange(j5,m5,700.))and(not WF7(m5))and(SS7(800.,m5,Condition(function WS7))<2)and(SS7(800.,m5,Condition(function WB7))==0)and(not IC(GetPlayerId(GetOwningPlayer(j5)))))then
set b5=kL(j5,m5,150.)
set J4=(b5!=null)and(IssuePointOrderByIdLoc(j5,852218,b5))
elseif((i1==1164207469)and(GetUnitLifePercent(m5)<75.)and(not IsUnitInRange(j5,m5,250.))and(IsUnitInRange(j5,m5,800.))and(not WF7(m5))and(SS7(800.,m5,Condition(function WS7))<2)and(SS7(800.,m5,Condition(function WB7))==0)and(not IC(GetPlayerId(GetOwningPlayer(j5)))))then
set b5=kL(j5,m5,200.)
set J4=(b5!=null)and(IssuePointOrderByIdLoc(j5,852525,b5))
elseif(((i1==1429221441)or(i1==1165451634)or(i1==1212365106))and(GetUnitLifePercent(m5)<75.)and(not IsUnitInRange(j5,m5,250.))and(IsUnitInRange(j5,m5,700.))and(not WF7(m5))and(SS7(800.,m5,Condition(function WS7))<2)and(SS7(800.,m5,Condition(function WB7))==0)and(kJ(GetUnitX(m5),GetUnitY(m5)))and(not IC(GetPlayerId(GetOwningPlayer(j5)))))then
set J4=IssueTargetOrderById(j5,852600,m5)
elseif((i1==1328558154)and(not IsUnitInRange(m5,j5,700.))and(((SS7(900.,m5,Condition(function WS7))<=2)and(SU7(j5,ZU[J1]))or(SU7(j5,ZU[T2])))or((SS7(900.,m5,Condition(function WS7))<2)))and(GetUnitLifePercent(m5)<70.))then
set J4=T77(j5,OrderId("channel"),1093750840,m5)
elseif((i1==1429221446)and(GetUnitLifePercent(m5)<80.)and(not IsUnitInRange(j5,m5,300.)))then
set J4=(Bz>hq[16+GetPlayerId(GetOwningPlayer(j5))])and(CRE(j5,m5))
elseif((i1==1430466865)and(GetUnitAbilityLevel(j5,1110454357)==0)and((hq[416+GetPlayerId(GetOwningPlayer(j5))]>Bz)or(h4[GetPlayerId(GetOwningPlayer(j5))]==m5))and(not IsUnitInRange(j5,m5,200.)))then
set J4=T77(j5,852066,1093677879,j5)
endif
if((not J4)and(WI7(j5))and(SU7(j5,ZU[RW]))and(not IC(GetPlayerId(GetOwningPlayer(j5))))and(GetUnitLifePercent(m5)<50.)and(not IsUnitInRange(j5,m5,250.))and(IsUnitInRange(j5,m5,700.))and(SS7(800.,m5,Condition(function WS7))<2)and(SS7(800.,m5,Condition(function WB7))==0))then
set J4=R3F(j5,m5)
endif
set j5=null
set m5=null
set b5=null
return J4
endfunction
function SMF takes integer O5,unit j5,boolean SNF returns nothing
call DisableTrigger(Q04[O5])
call DisableTrigger(Q04[16+O5])
if(SNF)then
call PauseUnit(j5,true)
call IssueImmediateOrderById(j5,851972)
call PauseUnit(j5,false)
endif
set G0[272+O5]=true
call J3(j5,true)
set G0[272+O5]=false
call EnableTrigger(Q04[O5])
call EnableTrigger(Q04[16+O5])
endfunction
function SOF takes nothing returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
if O5==0 or O5==6 or O5>11 then
return false
endif
set eY[464+O5]=GetIssuedOrderId()
set h4[336+O5]=null
set eY[480+O5]=0
set eY[496+O5]=0
if GetTriggerEventId()==EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER then
set h4[336+O5]=GetOrderTargetUnit()
elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER then
set eY[480+O5]=R2I(GetOrderPointX())
set eY[496+O5]=R2I(GetOrderPointY())
endif
return false
endfunction
function SPF takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetTriggerUnit()))and((GetIssuedOrderId()>852000)or(GetIssuedOrderId()==851983)))
endfunction
function SQF takes nothing returns nothing
local unit j5=GetTriggerUnit()
local unit m5=null
local integer X5=GetIssuedOrderId()
local integer i1=GetUnitTypeId(j5)
local integer O5=GetPlayerId(GetOwningPlayer(j5))
local boolean SRF=false
local integer SSF
local boolean J4
if(GetTriggerEventId()==EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)then
set m5=GetOrderTargetUnit()
if(m5!=null)then
if(not SE7(m5))then
call SMF(O5,j5,false)
set SRF=true
elseif((X5==852125)or(X5==852555)or(X5==852089)or(X5==852218)or(X5==852652))then
if((GetUnitAbilityLevel(m5,1113815395)>0)or(GetUnitAbilityLevel(m5,1113815346)>0))then
call SMF(O5,j5,false)
set SRF=true
endif
elseif((X5==852600)and(IsUnitEnemy(m5,GetOwningPlayer(j5)))and(WF7(m5)))then
call SMF(O5,j5,false)
set SRF=true
elseif((X5==851983)and(GetUnitAbilityLevel(m5,1110454854)>0))then
call SMF(O5,j5,false)
set SRF=true
endif
if((not SRF)and(X5>=852000))then
if((GetUnitAbilityLevel(j5,1110455126)>0)and(GetUnitManaPercent(j5)>40.)and((h4[O5]==null)or(IsUnitAlly(m5,GetOwningPlayer(j5)))or(not IsUnitType(m5,UNIT_TYPE_HERO))))then
call SMF(O5,j5,false)
set SRF=true
elseif((GetUnitAbilityLevel(j5,1110454607)>0)and(SH7(j5)))then
call SMF(O5,j5,false)
set SRF=true
endif
endif
if((not SRF)and(X5==851983)and(IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitEnemy(m5,GetOwningPlayer(j5))))then
call MoveLocation(HC[48+O5],GetUnitX(m5),GetUnitY(m5))
call DisableTrigger(Q04[O5])
set SRF=(GetHeroLevel(j5)>5)and(G0[128+O5])and(GetUnitAbilityLevel(j5,1112045413)==0)and(SKF())
call EnableTrigger(Q04[O5])
endif
else
set SRF=true
endif
if((X5==851983)and(not SRF))then
set GZ[48+O5]=IsUnitType(m5,UNIT_TYPE_HERO)
set h4[80+O5]=m5
set SRF=true
endif
if(SRF)then
set m5=null
set j5=null
return
endif
call MoveLocation(HC[48+O5],GetUnitX(m5),GetUnitY(m5))
else
if((X5>=852008)and(X5<=852013))then
set SSF=GetItemTypeId(UnitItemInSlot(j5,X5-852008))
if((SSF==ZU[YC])or(SSF==ZU[XC])or(SSF==ZU[F6]))then
set SRF=true
endif
elseif(X5==851983)then
set SRF=true
set GZ[48+O5]=false
elseif(X5>=852000)then
if((GetUnitAbilityLevel(j5,1110455126)>0)and(GetUnitManaPercent(j5)>40.)and(h4[O5]==null))then
call SMF(O5,j5,false)
set SRF=true
elseif((GetUnitAbilityLevel(j5,1110454607)>0)and(SH7(j5)))then
call SMF(O5,j5,false)
set SRF=true
endif
endif
if(SRF)then
set m5=null
set j5=null
return
endif
call MoveLocation(HC[48+O5],GetOrderPointX(),GetOrderPointY())
endif
if((X5>=852008)and(X5<=852013))then
set X5=WJ7(j5)
set J4=true
if((X5==ZU[RW])or(X5==ZU[F6])or(X5==ZU[S6])or(X5==ZU[YC])or(X5==ZU[XC])or(X5==ZU[WC])or((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))))then
if((X5==ZU[Q1])and((not SH7(j5))or((UnitCountBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,m5,false,false)>0)))and(not i2(m5))and(GetUnitAbilityLevel(m5,1110454329)==0)and(GetUnitAbilityLevel(m5,1110454338)==0)and(GetUnitAbilityLevel(m5,1110454597)==0)and(GetUnitAbilityLevel(m5,1110454608)==0))then
set J4=false
elseif(WM7(X5))then
if((((i1!=1429221445)and(GetUnitLifePercent(m5)>50.))or(GetUnitLifePercent(m5)>75.))and(GetUnitAbilityLevel(m5,1110454606)==0)and(GetUnitAbilityLevel(m5,1110455624)==0))then
set J4=false
elseif((i1==1429221424)and(GetUnitAbilityLevel(j5,1110454347)>0))then
set J4=false
endif
elseif((X5==ZU[QC])and((GetUnitAbilityLevel(m5,1110454874)>0)or(m5!=j5)or(RH7(j5,TJ7(j5))<4500.)or(SS7(1200.,m5,Condition(function k0))>0)))then
set J4=false
elseif((X5==ZU[RW])and(GetUnitAbilityLevel(j5,1110455863)>0))then
set J4=false
endif
elseif((X5==ZU[D1]or X5==ZU[E1])or(X5==ZU[J1]))then
if((GetOwningPlayer(m5)==Z7[0])or(GetOwningPlayer(m5)==A7[0]))then
set J4=false
elseif(GetOwningPlayer(m5)==Player(12))then
set X5=GetUnitTypeId(m5)
if((X5!=1852796263)and(X5!=1852207203)and(X5!=1853060200)and(X5!=1852010091))then
set J4=false
endif
else
set X5=GetUnitTypeId(m5)
if((X5==1966092339)or(X5==1966092341)or(X5==1966092345))then
set J4=false
endif
endif
else
set J4=false
endif
if not J4 then
call PauseUnit(j5,true)
call IssueImmediateOrderById(j5,851972)
call PauseUnit(j5,false)
call WE7(O5,j5,0)
endif
elseif((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))then
if((X5==852111)and((GetUnitAbilityLevel(j5,1110455126)>0)or((not IsUnitType(m5,UNIT_TYPE_HERO))and(not IsUnitType(m5,UNIT_TYPE_SUMMONED)))))then
call WE7(O5,j5,1093747028)
endif
elseif(i1==1160786506)then
if((X5==852089)and(not GZ[O5]))then
call WE7(O5,j5,1093751637)
endif
elseif(i1==1429221443)then
if((X5==852119)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call WE7(O5,j5,1093744948)
elseif(X5==852600)then
endif
elseif(i1==1162032951)then
if((X5==852527)and((not IsUnitType(m5,UNIT_TYPE_HERO))or((not SH7(j5))and((R2I(GetUnitState(m5,UNIT_STATE_LIFE))>(400*GetUnitAbilityLevel(j5,1093679152)))or(R2I(GetUnitState(m5,UNIT_STATE_LIFE))>(460*GetUnitAbilityLevel(j5,1093752154)))))))then
call J6(O5,j5,1093679152,1093752154)
endif
elseif(i1==1162032181)then
if((X5==852652)and((not GZ[O5])or(SR7(380.,HC[48+O5],Condition(function WS7))==0)))then
call WE7(O5,j5,1093683761)
endif
elseif(i1==1429221424)then
if((X5==OrderId("creepheal"))and((not IsUnitType(m5,UNIT_TYPE_HERO))or((R2I(GetUnitState(j5,UNIT_STATE_MANA))<(200+(50*GetUnitAbilityLevel(j5,1093679445))))and(not SH7(m5)))or(GetUnitState(m5,UNIT_STATE_MANA)<100.)or(GetUnitAbilityLevel(j5,1110454347)>0)))then
call WE7(O5,j5,1093748789)
elseif(X5==852555)then
if(((not GZ[O5])or(GetUnitAbilityLevel(j5,1110454347)>0)or(not IsUnitType(m5,UNIT_TYPE_HERO)))and((SR7(1500.,HC[48+O5],Condition(function WS7))>0)or(GetUnitManaPercent(j5)<60.)or(GetHeroLevel(j5)<6)))then
call WE7(O5,j5,1093687351)
endif
endif
elseif(i1==1432646245)then
if((X5==852095)and((not IsUnitType(m5,UNIT_TYPE_HERO))or((D88())and(GetUnitLifePercent(m5)>80.))))then
call WE7(O5,j5,1093677640)
elseif((X5==852585)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call WE7(O5,j5,1093679171)
endif
elseif(i1==1430466609)then
if((X5==852125)and(not IsUnitType(m5,UNIT_TYPE_HERO))and(SR7(600.,HC[48+O5],Condition(function k3))<6))then
call J6(O5,j5,1093810258,1093810259)
elseif((X5==852527)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call WE7(O5,j5,1093685559)
elseif(X5==852525)then
if(hq[512+O5]<Bz)then
set hq[512+O5]=Bz+1.
endif
endif
elseif(i1==1430468913)then
if((X5==852149)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call WE7(O5,j5,1093677876)
endif
elseif(i1==1430467634)then
if((X5==852231)and((not IsUnitType(m5,UNIT_TYPE_HERO))or((R2I(GetUnitState(j5,UNIT_STATE_MANA))<(200+(50*RRF(j5))))and(not i2(m5))and(not SH7(m5)))))then
call WE7(O5,j5,1093679412)
elseif((X5==852583)and((not IsUnitType(m5,UNIT_TYPE_HERO))or((not SH7(j5))and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))>(350+(350*RRF(j5)))))))then
call J6(O5,j5,1093684565,1093681458)
elseif((X5==OrderId("channel"))and(GetUnitManaPercent(j5)<45.))then
call WE7(O5,j5,1093742674)
endif
elseif(i1==1313026096)then
if((X5==852095)and(not SH7(m5))and(not SH7(j5))and((GetUnitAbilityLevel(j5,1110455126)>0)or(not IsUnitType(m5,UNIT_TYPE_HERO))or(R2I(GetUnitState(j5,UNIT_STATE_MANA))<(250+(50*GetUnitAbilityLevel(j5,1093677401))))))then
call WE7(O5,j5,1095267426)
endif
elseif((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517))then
if((X5==852189)and(IsUnitEnemy(m5,GetOwningPlayer(j5)))and((not IsUnitType(m5,UNIT_TYPE_HERO))or(GetUnitLifePercent(j5)+10.>GetUnitLifePercent(m5))))then
call WE7(O5,j5,1093678929)
elseif(X5==852189)then
call RemoveGuardPosition(j5)
endif
elseif(i1==1164666213)then
if(X5==852224)then
call WE7(O5,j5,1093678679)
elseif(X5==852119)then
call WE7(O5,j5,1093678678)
endif
elseif(i1==1433168227)then
if((X5==852066)and((GetUnitLifePercent(m5)<50.)or(GetUnitManaPercent(j5)>80.)))then
call WE7(O5,j5,1093678387)
elseif((X5==852227)and((not IsUnitType(m5,UNIT_TYPE_HERO))or(not GZ[O5])))then
call J6(O5,j5,1093678420,1093679176)
elseif((X5==852225)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call WE7(O5,j5,1093679186)
endif
elseif(i1==1429221430)then
if(X5==852224)then
call WE7(O5,j5,1093681735)
elseif(X5==852601)then
call WE7(O5,j5,1093681736)
endif
elseif(i1==1430466872)then
if((X5==852502)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call WE7(O5,j5,1093684558)
elseif((X5==852119)and((not IsUnitType(m5,UNIT_TYPE_HERO))or(not GZ[O5])))then
call J6(O5,j5,1093679413,1093679447)
elseif((X5==852487)and((IsUnitType(m5,UNIT_TYPE_HERO))or(GetUnitManaPercent(j5)>70.)))then
call WE7(O5,j5,1093677646)
endif
elseif(i1==1162032439)then
if((X5==OrderId("volcano"))and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call WE7(O5,j5,1093744435)
endif
elseif(i1==1430466865)then
if((X5==852066)and(not kQ(j5))and((not IsUnitType(m5,UNIT_TYPE_HERO))or(GetUnitAbilityLevel(m5,1110454357)>0)or(SR7(800.,HC[48+O5],Condition(function k3))==0)or(R2I(GetUnitState(j5,UNIT_STATE_MANA))<(140+(GetUnitAbilityLevel(j5,1093810508)*100)))))then
call WE7(O5,j5,1093677879)
elseif(X5==852218)and(not GZ[O5])then
call WE7(O5,j5,1093751364)
endif
elseif(i1==1430468144)then
if((X5==852189)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call WE7(O5,j5,1093679192)
endif
elseif(i1==1429221441)then
if((X5==852231)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call WE7(O5,j5,1093678389)
elseif(X5==852600)then
if(hq[512+O5]<Bz)then
set hq[512+O5]=Bz+1.
endif
endif
elseif(i1==1165451634)then
if((X5==OrderId("acidbomb"))and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call WE7(O5,j5,1093687629)
elseif(X5==852600)then
if(hq[512+O5]<Bz)then
set hq[512+O5]=Bz+1.
endif
endif
elseif(i1==1215722344)then
if((X5==852668)and(j5!=m5)and(not(QV7(GetUnitTypeId(m5),F87))))then
call WE7(O5,j5,1093682499)
elseif((X5==852231)and((not IsUnitType(m5,UNIT_TYPE_HERO))or(not GZ[O5])))then
call WE7(O5,j5,1093684296)
endif
elseif(i1==1332766568)then
if((X5==852119)and((not IsUnitType(m5,UNIT_TYPE_HERO))or((R2I(GetUnitState(m5,UNIT_STATE_LIFE))>(150+(150*GetUnitAbilityLevel(j5,1093682482))))or(R2I(GetUnitState(m5,UNIT_STATE_LIFE))>(150+(150*GetUnitAbilityLevel(j5,1093750098)))))))then
call J6(O5,j5,1093682482,1093750098)
endif
elseif(i1==1328558154)then
if((X5==OrderId("channel")))then
set hq[O5]=Bz+41.
call R97(1.)
endif
elseif(i1==1160786502)then
if(X5==852600)then
set UH4[O5]=true
endif
elseif(i1==1429221446)then
if((X5==852480)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call J6(O5,j5,1093682764,1093747544)
endif
elseif(i1==1429221445)then
if((X5==852095)and((not IsUnitType(m5,UNIT_TYPE_HERO))or(GetUnitLifePercent(m5)>60.)))then
call J6(O5,j5,1093678647,1093679184)
endif
elseif(i1==1332963428)then
if((X5==852227)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call WE7(O5,j5,1093678169)
elseif((X5==852119)and(not kQ(j5))and(GetUnitLifePercent(j5)>70.)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
if((GetUnitLifePercent(j5)>90.)or(SR7(1200.,HC[48+O5],Condition(function WS7))>0)or(GetUnitManaPercent(j5)<70.))then
call WE7(O5,j5,1093683019)
endif
elseif((X5==852095)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call WE7(O5,j5,1093816137)
elseif((X5==852480)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call WE7(O5,j5,1093677649)
endif
elseif(i1==1332109682)then
if((X5==852662)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call WE7(O5,j5,1093678134)
endif
elseif(i1==1211117640)then
if((X5==852486)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call WE7(O5,j5,1093681989)
elseif((X5==852487)and(((not IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(j5)>70.))or(not IsUnitInRange(j5,m5,500.))))then
call J6(O5,j5,1093681987,1093677658)
endif
elseif(i1==1430468406)then
if((X5==852592)and(SR7(250.,HC[48+O5],Condition(function WS7))==0))then
call WE7(O5,j5,kS(j5))
endif
elseif(i1==1160786241)then
if((X5==852119)and(not IsUnitType(m5,UNIT_TYPE_HERO))and(SR7(200.,HC[48+O5],Condition(function WS7))==0))then
if((SR7(1200.,HC[48+O5],Condition(function WS7))>0)or(GetHeroLevel(j5)<6)or(GetUnitManaPercent(j5)<70.))then
call WE7(O5,j5,1093684813)
endif
elseif((X5==852089)and(SR7(100.,HC[48+O5],Condition(function WS7))==0))then
call WE7(O5,j5,1093684815)
elseif((X5==852597)and(not IsUnitType(m5,UNIT_TYPE_HERO))and(SR7(400.,HC[48+O5],Condition(function WS7))==0))then
call J6(O5,j5,1093684820,1093684824)
endif
elseif(i1==1429221456)then
if((X5==852119)and(not GZ[O5])and((not IsUnitType(m5,UNIT_TYPE_HERO))or((not SH7(j5))and(not i2(m5)))))then
call WE7(O5,j5,1093685066)
elseif((X5==852089)and(GetUnitAbilityLevel(j5,1093685067)>0)and(SR7(250+(100*GetUnitAbilityLevel(j5,1093685067)),HC[48+O5],Condition(function WS7))==0))then
call J6(O5,j5,1093685067,1093752407)
elseif((X5==852089)and(GetUnitAbilityLevel(j5,1093752407)>0)and(SR7(350+(100*GetUnitAbilityLevel(j5,1093685067)),HC[48+O5],Condition(function WS7))==0))then
call J6(O5,j5,1093685067,1093752407)
endif
elseif(i1==1160786243)then
if((X5==852089)and(not GZ[O5]))then
call WE7(O5,j5,1093678672)
elseif((X5==852224)and(not GZ[O5]))then
call WE7(O5,j5,1395667000)
endif
elseif((i1==1211117641)or(i1==1211117642))then
if(X5==852089)then
call WE7(O5,j5,1093684802)
endif
elseif(i1==1311781207)then
if((X5==852095)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call WE7(O5,j5,1093684817)
endif
elseif(i1==1311780946)then
if((X5==852488)and(not GZ[O5]))then
call WE7(O5,j5,1093685825)
elseif((X5==852526)and(not GZ[O5]))then
call WE7(O5,j5,1093810232)
endif
elseif(i1==1211117646)then
if((X5==852101)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call WE7(O5,j5,1093685815)
endif
elseif(i1==1160785973)then
if((X5==852231)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call WE7(O5,j5,1093678130)
endif
elseif(i1==1315988077)then
if((X5==852585)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call WE7(O5,j5,1097032808)
endif
elseif(i1==1211117616)then
if((X5==852231)and((not IsUnitType(m5,UNIT_TYPE_HERO))or(R2I(GetUnitState(m5,UNIT_STATE_LIFE))>(40+(125*(GetUnitAbilityLevel(j5,1093816142)))))))then
call WE7(O5,j5,1093816142)
endif
elseif(i1==1315074670)then
if((X5==852592)and(SR7(250.,HC[48+O5],Condition(function WS7))==0))then
call WE7(O5,j5,1093685570)
endif
elseif((i1==1215063922)or(i1==1211117638)or(i1==1211117637)or(i1==1211117639))then
if((X5==852095)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call WE7(O5,j5,1093681490)
endif
elseif(i1==1164207469)then
if((X5==852095)and((not IsUnitType(m5,UNIT_TYPE_HERO))or((GetUnitManaPercent(m5)>15.)and(GetUnitState(m5,UNIT_STATE_LIFE)>((GetUnitState(m5,UNIT_STATE_MAX_MANA)-GetUnitState(m5,UNIT_STATE_MANA))*(.35+(I2R(GetUnitAbilityLevel(j5,1093682483))*.25)))))))then
call WE7(O5,j5,1093682483)
elseif(X5==852525)then
if(hq[512+O5]<Bz)then
set hq[512+O5]=Bz+1.
endif
endif
elseif(i1==1433631084)then
if((X5==852095)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call WE7(O5,j5,1093678160)
endif
elseif(i1==1214345830)then
if((X5==852225)and((not IsUnitType(m5,UNIT_TYPE_HERO))or((GetUnitLifePercent(m5)>80.)and(not GZ[64+O5]))))then
if((GetUnitLifePercent(m5)>95.)or(SR7(1500.,HC[48+O5],Condition(function WS7))>0)or(GetUnitManaPercent(j5)<70.))then
call WE7(O5,j5,1093679182)
endif
elseif((X5==852186)and(not GZ[O5])and((GetUnitLifePercent(m5)>75.)or(not IsUnitType(m5,UNIT_TYPE_HERO))or(GetUnitState(m5,UNIT_STATE_LIFE)>GetUnitState(j5,UNIT_STATE_LIFE))))then
call WE7(O5,j5,1093679190)
endif
elseif((i1==1311781174)or(i1==1311781175)or(i1==1311781442))then
if(X5==852218)then
call WE7(O5,j5,1093808461)
endif
elseif(i1==1315007329)then
if((X5==852095)and((not IsUnitType(m5,UNIT_TYPE_HERO))or(GetUnitManaPercent(j5)<40.)))then
call WE7(O5,j5,1093677108)
elseif((X5==852149)and(GetUnitLifePercent(m5)>60.)and(not SH7(j5)))then
call WE7(O5,j5,1093681716)
endif
elseif(i1==1332898670)then
if((X5==852502)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call WE7(O5,j5,1093685848)
elseif((X5==852480)and((not IsUnitType(m5,UNIT_TYPE_HERO))or(not GZ[O5])))then
call WE7(O5,j5,1093677136)
elseif((X5==852504)and(not GZ[O5]))then
call J6(O5,j5,1093677128,1093681457)
endif
elseif(i1==1215723364)then
if((X5==852095)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call WE7(O5,j5,1093677633)
elseif((X5==852587)and((not GZ[O5])or(WF7(m5))))then
call J6(O5,j5,1093683534,1093747031)
endif
elseif(i1==1215128178)then
if((X5==852095)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call WE7(O5,j5,1093683779)
endif
elseif(i1==1164799855)then
if((X5==852075)and((GetOwningPlayer(m5)==Z7[0])or(GetOwningPlayer(m5)==A7[0])))then
call WE7(O5,j5,1093682264)
endif
elseif(i1==1433105516)then
if((X5==OrderId("cannibalize"))and(SR7(400.,HC[48+O5],Condition(function WS7))==0))then
call WE7(O5,j5,0)
endif
elseif((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))then
if((X5==OrderId("acidbomb"))and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call WE7(O5,j5,1093742680)
elseif((X5==OrderId("acolyteharvest"))and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call WE7(O5,j5,1093742898)
endif
elseif(i1==1316252014)then
if((X5==852585)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call WE7(O5,j5,1093678137)
endif
elseif(i1==1164799603)then
if((X5==OrderId("carrionswarm"))and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call WE7(O5,j5,1093808453)
elseif((X5==852119)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
if((SR7(1200.,HC[48+O5],Condition(function WS7))>0)or(GetUnitManaPercent(j5)<40.))then
call J6(O5,j5,1093752632,1093752633)
endif
endif
elseif(i1==1328558160)then
if((X5==852218)and(not GZ[O5])and(not SH7(j5))and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call WE7(O5,j5,1093682766)
elseif((X5==852274)and(((IsUnitEnemy(m5,GetOwningPlayer(j5)))and(m5!=h4[O5]))or(GetUnitAbilityLevel(j5,1093683011)>0)))then
call WE7(O5,j5,1093683000)
endif
elseif(i1==1212363833)then
if((X5==852095)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call J7(O5,j5,1093809220)
endif
elseif(i1==1315070563)then
if((X5==852095)and(not SH7(j5))and((not IsUnitType(m5,UNIT_TYPE_HERO))or((SR7(600.,HC[48+O5],Condition(function WS7))*2)<SR7(600.,HC[48+O5],Condition(function k3)))))then
call J6(O5,j5,1093684529,1093747032)
endif
elseif(i1==1214931305)then
if((X5==852171)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call WE7(O5,j5,1093678147)
endif
elseif(i1==1212365106)then
if((X5==852089)and(not GZ[64+O5])and(SR7(200+(50*GetUnitAbilityLevel(j5,1093685831)),HC[48+O5],Condition(function WS7))==0))then
if((GetUnitManaPercent(j5)<70.)or(GetHeroLevel(j5)<6)or(SR7(1500.,HC[48+O5],Condition(function WS7))>0))then
call WE7(O5,j5,1093685831)
endif
elseif(X5==852600)then
if(hq[512+O5]<Bz)then
set hq[512+O5]=Bz+1.
endif
endif
elseif(i1==1211117617)then
if((X5==OrderId("acidbomb"))and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call WE7(O5,j5,1093744944)
endif
elseif(i1==1211117633)then
if((X5==852095)and((GetOwningPlayer(m5)==Z7[0])or(GetOwningPlayer(m5)==A7[0])or((IsUnitAlly(m5,GetOwningPlayer(j5)))and(IsUnitType(m5,UNIT_TYPE_HERO)))))then
call WE7(O5,j5,1093684310)
elseif((X5==852131)and((GetOwningPlayer(m5)==Z7[0])or(GetOwningPlayer(m5)==A7[0])))then
if((GetHeroLevel(j5)<20)or(IH(GetOwningPlayer(j5),Condition(function L49))>0))then
call WE7(O5,j5,1093810260)
endif
elseif((X5==852585)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call WE7(O5,j5,1093684045)
endif
elseif(i1==1211117620)then
if((X5==852232)and(not GZ[64+O5])and(SR7(150.,HC[48+O5],Condition(function WS7))==0))then
call WE7(O5,j5,1093677623)
elseif((X5==852119)and((not IsUnitType(m5,UNIT_TYPE_HERO))or(GetUnitLifePercent(m5)>80.)))then
call J6(O5,j5,1093677392,1093679450)
endif
elseif(i1==1333027688)then
if((X5==OrderId("channel"))and((m5==null)or(not IsUnitType(m5,UNIT_TYPE_HERO)))and(SR7(200.,HC[48+O5],Condition(function WS7))==0))then
if((SR7(1500.,HC[48+O5],Condition(function WS7))>0)or(GetHeroLevel(j5)<6)or(GetUnitManaPercent(j5)<70.))then
call WE7(O5,j5,1093686091)
endif
endif
elseif(i1==1211117643)then
if(X5==852278)then
call WE7(O5,j5,1093678410)
elseif(X5==852114)then
call WE7(O5,j5,1093678664)
elseif(X5==852040)then
call WE7(O5,j5,1093678658)
elseif(X5==852504)then
call J6(O5,j5,1093681483,1093748313)
elseif(X5==852119)then
call WE7(O5,j5,1093752646)
endif
elseif(i1==1215130471)then
if((X5==852095)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call WE7(O5,j5,WO7(j5))
elseif((X5==852600)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call WE7(O5,j5,1093815121)
elseif((X5==852101)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call WE7(O5,j5,WQ7(j5))
endif
elseif(i1==1332179560)then
if((X5==OrderId("acidbomb"))and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call WE7(O5,j5,1093742660)
endif
elseif(i1==1214344551)then
if((X5==852095)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call WE7(O5,j5,1093809742)
endif
elseif(i1==1211117636)then
if((X5==852218)and(not GZ[O5])and((GetUnitManaPercent(j5)<30.)or(IsUnitInRangeLoc(j5,HC[48+O5],600.)))and((m5==null)or(not IsUnitType(m5,UNIT_TYPE_HERO))))then
call WE7(O5,j5,1093685041)
elseif((X5==852095)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call J6(O5,j5,1093685042,1093810233)
endif
elseif(i1==1160786000)then
if((X5==852218)and((GetUnitManaPercent(j5)<60.)or(GetHeroLevel(j5)<6))and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call WE7(O5,j5,1093685047)
elseif((X5==852580)and(not IsUnitType(m5,UNIT_TYPE_HERO))and(SR7(200.,HC[48+O5],Condition(function WS7))==0))then
call WE7(O5,j5,1093685046)
elseif((X5==852125)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call WE7(O5,j5,1093685045)
endif
elseif((i1==1311781193)or(i1==1311781192)or(i1==1311781204)or(i1==1311781194))then
if((X5==852089)and(GetUnitManaPercent(j5)<40.)and((m5==null)or(not IsUnitType(m5,UNIT_TYPE_HERO))))then
call WE7(O5,j5,1093683532)
endif
elseif(i1==1211117651)then
if((X5==852218))then
call WE7(O5,j5,1093743695)
elseif((X5==852119))then
call WE7(O5,j5,1093743698)
endif
elseif(i1==1311780930)then
if((X5==852089)and(not GZ[O5]))then
call J6(O5,j5,1093686072,1093751120)
endif
elseif(((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517)))then
if((X5==852119)and(not GZ[O5]))then
call WE7(O5,j5,1093815130)
endif
elseif((i1==1211117650)or(i1==1211119433))then
if(X5==852089)then
call WE7(O5,j5,1093743955)
endif
elseif(i1==1211119187)then
if(X5==852089)then
call WE7(O5,j5,1093743414)
elseif(X5==852662)then
call WE7(O5,j5,1093742923)
endif
elseif(i1==1311786311)then
if(X5==852119)then
call WE7(O5,j5,1093743178)
endif
elseif(i1==1328558390)then
if(X5==852089)then
call WE7(O5,j5,1093748044)
elseif(X5==852119)then
call WE7(O5,j5,1093744975)
elseif(X5==852218)then
call WE7(O5,j5,1093744982)
endif
elseif(i1==1160786510)then
if(X5==852119)then
call WE7(O5,j5,1093751633)
elseif(X5==852089)then
call J6(O5,j5,1093751861,1093808949)
endif
elseif(i1==1160786504)then
if(X5==852119)then
call WE7(O5,j5,1093751608)
elseif(X5==852089)then
call WE7(O5,j5,1093751618)
elseif(X5==852111)then
call WE7(O5,j5,1093751617)
endif
elseif(i1==1328558406)then
if(X5==852119)then
call WE7(O5,j5,1093751873)
endif
elseif(i1==1160786520)then
if((X5==852184)and((GetUnitManaPercent(j5)<60.)or(GetHeroLevel(j5)<6))and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call WE7(O5,j5,1093809991)
elseif((X5==852214)and(not IsUnitType(m5,UNIT_TYPE_HERO))and(SR7(200.,HC[48+O5],Condition(function WS7))==0))then
call WE7(O5,j5,1093809990)
endif
elseif(i1==1311781185)then
if(X5==852089)then
call WE7(O5,j5,1093743692)
endif
elseif(i1==1311788336)then
if(X5==852089)then
call WE7(O5,j5,1093814320)
endif
elseif(i1==1160786507)then
if(X5==852089)then
call WE7(O5,j5,1093814850)
endif
elseif(i1==1211122767)then
if(X5==852119)then
call WE7(O5,j5,1093812805)
elseif(X5==852668)then
call WE7(O5,j5,1093814350)
endif
endif
set j5=null
set m5=null
endfunction
function STF takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(not IsUnitIllusion(GetTriggerUnit()))and(GetIssuedOrderId()>852000))
endfunction
function SUF takes nothing returns nothing
local integer i=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
if(GetTriggerEventId()==EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)then
call MoveLocation(HC[i],GetUnitX(GetOrderTargetUnit()),GetUnitY(GetOrderTargetUnit()))
set i=GetIssuedOrderId()-852008
if((i>=0)and(i<6)and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_NONE)and(QY4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]))then
set i=GetItemTypeId(UnitItemInSlot(GetTriggerUnit(),i))
if((i==ZU[Q1])or(i==ZU[D1])or(i==ZU[E1])or(i==ZU[F1])or(i==ZU[H1]))then
call IssueTargetOrderById(GetTriggerUnit(),851983,GetOrderTargetUnit())
endif
endif
else
call MoveLocation(HC[i],GetOrderPointX(),GetOrderPointY())
endif
endfunction
function SVF takes nothing returns nothing
local unit j5=GetTriggerUnit()
local integer X5=GetIssuedOrderId()
local integer i1=GetUnitTypeId(j5)
local integer O5=GetPlayerId(GetOwningPlayer(j5))
if((X5>=852000)and(X5<854000))then
if((GetUnitAbilityLevel(j5,1110454607)>0)and(SH7(j5)))then
call J3(j5,true)
set j5=null
return
endif
endif
call MoveLocation(HC[48+O5],GetUnitX(j5),GetUnitY(j5))
if((X5>=852008)and(X5<=852013))then
set X5=WJ7(j5)
if((X5==ZU[P1])and(Bz>hq[64+O5])and(not GZ[224+O5]))then
call SMF(O5,j5,true)
elseif((X5==ZU[D44])and((Bz+20.)>hq[O5])and(Bz>hq[48+O5]))then
call SMF(O5,j5,true)
elseif((X5==ZU[T1])and(not GZ[64+O5])and((US7(GetHandleId(j5),"Mekansm"))or(GetUnitLifePercent(j5)>80.)))then
call SMF(O5,j5,true)
elseif((X5==ZU[DP4])and(SR7(900.,HC[48+O5],Condition(function WS7))==0))then
call SMF(O5,j5,true)
elseif((X5==ZU[AL])and(TA4==false))then
call SMF(O5,j5,true)
elseif((X5==ZU[DT4]or X5==ZU[ZA])and(GetUnitState(j5,UNIT_STATE_LIFE)>150)and(GetItemCharges(UnitItemInSlot(j5,GetIssuedOrderId()-852008))<8))then
call SMF(O5,j5,true)
elseif((X5==ZU[B3])and(not GZ[64+O5])and((GetUnitAbilityLevel(j5,1113875814)>0)or(GetUnitManaPercent(j5)<75.)or(GetHeroLevel(j5)<3)))then
call SMF(O5,j5,true)
elseif((SZ7(X5))and(not GZ[224+O5])and(G0[128+O5]))then
call SMF(O5,j5,true)
elseif(((X5==ZU[R5])or(X5==ZU[S5])or(X5==ZU[T5])or(X5==ZU[Y0])))then
if((i1==1429221424)and(GetUnitAbilityLevel(j5,1110454347)>0))then
call SMF(O5,j5,true)
elseif((not GZ[224+O5])and(GetHeroLevel(j5)<13)and(iy(j5))and(eY[O5]==1)and(not G0[32+O5]))then
call SMF(O5,j5,true)
endif
elseif((X5==ZU[DV4])and((TB4==false)and(h4[O5]==null)))then
call SMF(O5,j5,true)
endif
elseif(i1==1160785970)then
if((X5==852526)and((not GZ[O5])or(SR7(789.,HC[48+O5],Condition(function WS7))==0)))then
call J7(O5,j5,1093748023)
endif
elseif(i1==1429221443)then
if((X5==852273)and(SR7(800.,HC[48+O5],Condition(function WS7))==0))then
call J7(O5,j5,1093686322)
endif
elseif(i1==1162032951)then
if((X5==852100)and((not GZ[O5])or(GetUnitLifePercent(j5)<50.))and((SR7(1500.,HC[48+O5],Condition(function WS7))>0)or(GetUnitManaPercent(j5)<70.)or(GetUnitLifePercent(j5)<80.)))then
call J7(O5,j5,1093678404)
endif
elseif(i1==1429221424)then
if((X5==852129)and(not GZ[O5]))then
call J7(O5,j5,1093679445)
elseif(X5==852526)then
call J7(O5,j5,1093815119)
endif
elseif(i1==1430468913)then
if((X5==852100)and(not GZ[O5]))then
call J7(O5,j5,1093678403)
elseif(X5==852164)then
call J7(O5,j5,1093810507)
endif
elseif(i1==1164277353)then
if((X5==852663)and(not GZ[O5]))then
call J7(O5,j5,1093751369)
endif
elseif(i1==1164666213)then
if(X5==852100)then
call J6(O5,j5,1093808454,1093808455)
call J7(O5,j5,1093808456)
elseif(X5==852594)then
call J7(O5,j5,1093677877)
endif
elseif(i1==1429221430)then
if((X5==852164)and(not SH7(j5))and(SR7(400.,HC[48+O5],Condition(function WS7))==0))then
call J7(O5,j5,1093687121)
endif
elseif(i1==1162032439)then
if((X5==852594)and(not GZ[O5]))then
call J7(O5,j5,1093681462)
call SetPlayerAbilityAvailable(GetOwningPlayer(j5),1093677363,false)
endif
elseif(i1==1430466865)then
if((X5==852127)and(SR7(420.,HC[48+O5],Condition(function WS7))==0))then
call J7(O5,j5,1093810508)
endif
elseif((i1==1429221432)or(i1==1160786229))then
if((X5==852126)and(GetUnitManaPercent(j5)<65.)and(SR7(500.,HC[48+O5],Condition(function WS7))==0))then
call J7(O5,j5,1093677892)
elseif((X5==852180)and(SR7(800.,HC[48+O5],Condition(function WS7))==0))then
call J7(O5,j5,1093679411)
endif
elseif(i1==1429221441)then
if((X5==852123)and(SR7(350.,HC[48+O5],Condition(function WS7))==0))then
call J7(O5,j5,1093677903)
endif
elseif(i1==1315334514)then
if((X5==852164)and(not RZF(j5,200.,Condition(function k3))))then
call J7(O5,j5,1093682521)
elseif((X5==852588)and(not RZF(j5,450.,Condition(function k3))))then
call J7(O5,j5,1093682760)
elseif((X5==852599)and(not RZF(j5,700.,Condition(function k3))))then
call J7(O5,j5,1093682736)
elseif((X5==852273)and(SR7(350.,HC[48+O5],Condition(function WS7))==0))then
call J7(O5,j5,1093810506)
endif
elseif(i1==1429221446)then
if((X5==852177)and(((GetUnitLifePercent(j5)<50.)or(SR7(300.,HC[48+O5],Condition(function k3))==0)))and(not kQ(j5)))then
call J7(O5,j5,1093678667)
endif
elseif(i1==1332109682)then
if((X5==852588)and(SR7(650.,HC[48+O5],Condition(function WS7))==0))then
call J7(O5,j5,1093810505)
endif
elseif(i1==1211117640)then
if((X5==852594)and(not GZ[O5]))then
call J7(O5,j5,1093679428)
endif
elseif(i1==1315988077)then
if((X5==852586)and(SR7(800.,HC[48+O5],Condition(function WS7))==0)and(not GZ[O5]))then
call J7(O5,j5,1093684561)
endif
elseif((i1==1215063922)or(i1==1211117638)or(i1==1211117637)or(i1==1211117639))then
if((X5==852180)and(SR7(800.,HC[48+O5],Condition(function WS7))==0))then
call J7(O5,j5,1093677895)
endif
elseif((i1==1311781174)or(i1==1311781175)or(i1==1311781442))then
if((X5==852526)and(not GZ[O5]))then
call J7(O5,j5,1093748042)
endif
if((X5==852096)and((h4[O5]==null)or(not IsUnitInRange(j5,h4[O5],400.))))then
call J7(O5,j5,1093808462)
endif
if(X5==852138 or X5==852139)then
call J7(O5,j5,1093681733)
endif
elseif(i1==1215723364)then
if((X5==OrderId("volcano"))and(GetUnitManaPercent(j5)<60.)and(not GZ[64+O5]))then
call J7(O5,j5,1093744463)
endif
elseif(i1==1215128178)then
if((X5==852164)and(not GZ[O5]))then
call J7(O5,j5,1093810503)
call SetPlayerAbilityAvailable(GetOwningPlayer(j5),1093810504,false)
endif
elseif(i1==1164799855)then
if((X5==852556)and(GetUnitLifePercent(j5)>80.)and(not GZ[64+O5]))then
call J7(O5,j5,1093677378)
endif
elseif((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))then
if((X5==852180))then
call J7(O5,j5,1093742932)
endif
elseif(i1==1212363833)then
if((X5==852123)and(SR7(600.,HC[48+O5],Condition(function WS7))==0)and(GetUnitManaPercent(j5)<70.))then
call J7(O5,j5,1093678643)
elseif(X5==852526)then
call J7(O5,j5,1093815125)
endif
elseif(i1==1315070563)then
if((X5==852128)and((UX7(j5,"Omnislashing"))or((GZ[O5])or((GetUnitManaPercent(j5)<70.)and(SR7(600.,HC[48+O5],Condition(function WS7))==0)))))then
call J7(O5,j5,1093678407)
endif
elseif(i1==1211117617)then
if((X5==OrderId("chemicalrage"))and(SR7(400.,HC[48+O5],Condition(function WS7))==0))then
call J7(O5,j5,1093752648)
endif
elseif(i1==1211117620)then
if((X5==852164)and((GetUnitAbilityLevel(j5,1110454324)>0)or(GetUnitManaPercent(j5)<60.)or(SR7(800.,HC[48+O5],Condition(function k3))==0)))then
call J7(O5,j5,1093677105)
endif
elseif(i1==1333027688)then
if((X5==852164)and(SR7(200.,HC[48+O5],Condition(function k2))==0))then
call J7(O5,j5,1093682252)
elseif((X5==852526)and((SR7(400.,HC[48+O5],Condition(function WS7))==0)or(SR7(500.,HC[48+O5],Condition(function k3))<5)))then
call J7(O5,j5,1093682248)
call SetPlayerAbilityAvailable(GetOwningPlayer(j5),1093750594,true)
endif
elseif(i1==1215657064)then
if((X5==852600)and(SR7(500.,HC[48+O5],Condition(function WS7))==0))then
call J7(O5,j5,1093750841)
endif
elseif((i1==1311781199)or(i1==1311781171)or(i1==1311781172)or(i1==1311781173))then
if(X5==852138 or X5==852139)then
call J7(O5,j5,1093681479)
endif
elseif(i1==1311781193)then
if((X5==852663)and(GetUnitLifePercent(j5)>70.)and(GetUnitManaPercent(j5)<40.)and(SR7(500.,HC[48+O5],Condition(function WS7))==0))then
call J7(O5,j5,1095656306)
endif
elseif(i1==1311781206)then
if((X5==852129)and(not GZ[O5]))then
call J7(O5,j5,1093684302)
endif
elseif(i1==1211117651)then
if((X5==852526)and(not GZ[O5]))then
call J7(O5,j5,1093743696)
endif
elseif(i1==1313157191)then
if((X5==852526))then
call J7(O5,j5,1093743689)
endif
elseif((i1==1211117650)or(i1==1211119433))then
if(X5==852180)then
call WE7(O5,j5,1093743946)
elseif(X5==852662)then
call WE7(O5,j5,1093743958)
endif
elseif(i1==1328558390)then
if(X5==852180)then
call WE7(O5,j5,1093744986)
endif
elseif(i1==1160786510)then
if(X5==852600)then
call WE7(O5,j5,1093751631)
elseif(X5==852526)then
call WE7(O5,j5,1093808697)
endif
elseif(i1==1328558406)then
if(X5==852526)then
call WE7(O5,j5,1093751864)
elseif(X5==852589)and(not GZ[O5])then
call WE7(O5,j5,1093810257)
endif
elseif(i1==1211119409)then
if X5==852129 then
call WE7(O5,j5,1093749070)
endif
elseif(i1==1311780930)then
if X5==852514 and(not SH7(j5))then
call WE7(O5,j5,1093686082)
endif
elseif((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))then
if X5==852138 or X5==852139 then
call WE7(O5,j5,1093747504)
endif
endif
set j5=null
endfunction
function SWF takes nothing returns nothing
local unit x6=GetTriggerUnit()
local integer Iz=GetItemTypeId(GetManipulatedItem())
local integer i1=GetUnitTypeId(x6)
local integer O5=GetPlayerId(GetOwningPlayer(x6))
local unit m5=null
local boolean J4=false
if(Iz==ZU[TC])then
set hq[256+O5]=Bz+25.
call T47(x6,851986,h9[O5])
if(SH7(x6))then
set G0[32+O5]=true
loop
exitwhen((GetUnitLifePercent(x6)>50.)or(Bz>hq[256+O5]))
if(SS7(1000.,x6,Condition(function WS7))>0)then
call T47(x6,851986,h9[O5])
else
call IssueImmediateOrderById(x6,851993)
endif
call R97(1.)
endloop
set G0[32+O5]=false
call J3(x6,true)
endif
elseif(Iz==ZU[QC])then
call R97(0.5)
set G0[32+O5]=true
loop
exitwhen((GetUnitAbilityLevel(x6,1110454874)==0)or(GetUnitLifePercent(x6)>95.))
if(not S47(x6))then
elseif(SS7(1500.,x6,Condition(function k2))>0)then
call T47(x6,851986,h9[O5])
else
call IssueImmediateOrderById(x6,851993)
endif
call R97(0.5)
endloop
set G0[32+O5]=false
call J3(x6,true)
elseif(Iz==ZU[D44])then
set hq[O5]=Bz
set hq[48+O5]=Bz+160.
elseif(Iz==ZU[P1])then
set hq[64+O5]=Bz+30.
call R97(0.1)
set m5=h4[O5]
set J4=(m5!=null)and(not SH7(x6))and(IssueTargetOrderById(x6,851983,m5))
elseif(Iz==ZU[RW])then
set m5=null
set hq[512+O5]=Bz+3.
set hq[112+O5]=Bz+25.
call TriggerSleepAction(0.01)
if(not SH7(x6))then
if(i1==1430466865)then
set m5=Z47(350.,x6)
set J4=(m5!=null)and((((SS7(400.,x6,Condition(function k6))>1 and GZ[208+O5])or SH7(m5))and(TG7(x6,852164,1093810508)))or(T77(x6,852125,1093677651,m5)))
elseif(i1==1162032439)then
set GZ[O5]=true
set J4=J8(O5,(((h4[16+O5]!=null)and(IsUnitInRange(x6,h4[16+O5],350.)))or(SS7(600.,x6,Condition(function WS7))>1))and(TG7(x6,852594,1093677363)))
elseif(i1==1160785973)then
if(SC7(x6,ZU[D0]))then
set J4=(((h4[16+O5]!=null)and(IsUnitInRange(x6,h4[16+O5],350.)))or(SS7(400.,x6,Condition(function WS7))>1))and(SL7(x6,ZU[D0]))and(IssueImmediateOrderById(x6,852600))
if(not(J4))then
set J4=(((h4[16+O5]!=null)and(IsUnitInRange(x6,h4[16+O5],350.)))or(SS7(400.,x6,Condition(function WS7))>1))and(IssueImmediateOrderById(x6,852600))
endif
else
set J4=(((h4[16+O5]!=null)and(IsUnitInRange(x6,h4[16+O5],350.)))or(SS7(400.,x6,Condition(function WS7))>1))and(IssueImmediateOrderById(x6,852600))
endif
elseif(i1==1315988077)then
set m5=Z47(220.,x6)
set J4=(m5!=null)and(TG7(x6,852096,1093678669))
elseif(i1==1211117616)then
set m5=Z47(220.,x6)
set J4=(m5!=null)and(TG7(x6,852127,1093677139))
elseif(i1==1430468406)then
set J4=(((h4[16+O5]!=null)and(IsUnitInRange(x6,h4[16+O5],350.)))or(SS7(500.,x6,Condition(function WS7))>1))and(IssueImmediateOrderById(x6,852556))
elseif(i1==1214931305)then
set J4=(((h4[16+O5]!=null)and(IsUnitInRange(x6,h4[16+O5],350.)))or(SS7(400.,x6,Condition(function WS7))>1))and(((GetUnitState(x6,UNIT_STATE_MANA)>hq[272+O5]+50.)and(SL7(x6,ZU[D0])))or(T77(x6,852171,1093678147,h4[16+O5]))or(IssueImmediateOrderById(x6,852600)))
elseif(i1==1432580716)or(i1==1429221720)then
set m5=Z47(300.,x6)
set J4=(m5!=null)and(T77(x6,852089,1093684300,m5))
elseif(i1==1333027688)then
set m5=Z47(300.,x6)
set J4=(m5!=null)and(((SS7(500.,x6,Condition(function k0))>5)and(TG7(x6,852526,1093682248)or TG7(x6,852526,1093750594)))or(TG7(x6,852164,1093682252)))
elseif(i1==1332766568)then
set m5=Z47(250.,x6)
set J4=(m5!=null)and(IssueImmediateOrderById(x6,852600))
elseif(i1==1315334514)then
set m5=Z47(220.,x6)
set J4=(m5!=null)and(TG7(x6,852127,1093682521))
if(not J4)then
set m5=Z47(600.,x6)
set J4=(m5!=null)and(Bz>TC4[O5])and(G0[256+O5])and(TG7(x6,852273,1093810506))
endif
elseif(i1==1215657064)then
set m5=Z47(220.,x6)
set J4=(m5!=null)and(TG7(x6,852096,1093677913))
elseif(i1==1160786243)then
set m5=Z47(300.,x6)
if((m5!=null)and(SS7(700.,m5,Condition(function k5))>1))then
set GZ[O5]=true
set J4=J8(O5,T77(x6,852089,1093678672,m5))
endif
elseif(i1==1332109682)then
set m5=Z47(350.,x6)
set J4=(m5!=null)and(((SS7(500.,x6,Condition(function k0))>4)and(TG7(x6,852588,1093810505)))or(T77(x6,852662,1093678134,m5)))
elseif((i1==1311781193)or(i1==1311781192)or(i1==1311781204)or(i1==1311781194))then
set m5=Z47(300.,x6)
set J4=(m5!=null)and(T77(x6,852089,1093683532,m5))
elseif(i1==1430468913)then
set m5=Z47(300.,x6)
set J4=(m5!=null)and(TG7(x6,852127,1093810507))
endif
if((not J4)and(m5!=null))then
call IssueTargetOrderById(x6,851983,m5)
endif
endif
elseif(Iz==ZU[D74])then
set hq[96+O5]=Bz+13.
elseif(Iz==ZU[DR4])then
set TC4[240+O5]=Bz+18.
elseif(Iz==ZU[DP4])then
set TC4[176+O5]=Bz+30.
elseif(Iz==ZU[DY4])then
set TC4[224+O5]=Bz+10.
elseif(Iz==ZU[VB])then
set TC4[256+O5]=Bz+30.
elseif(Iz==ZU[DT4])or(Iz==ZU[ZA])then
set TC4[192+O5]=Bz+17.
elseif(Iz==ZU[E24])then
set TC4[208+O5]=Bz+30.
call R97(1.1)
set m5=h4[O5]
if(i1==1328558160)then
set J4=(m5!=null)and(IssueTargetOrderById(x6,852662,m5))
endif
elseif(Iz==ZU[AL])then
set TA4=false
elseif(Iz==ZU[T1])then
set hq[80+O5]=Bz+45.
elseif(Iz==ZU[F74])then
set hq[128+O5]=Bz+30.
elseif(Iz==ZU[S6])then
set hq[144+O5]=Bz+100.
elseif((Iz==ZU[YC])or(Iz==ZU[XC])or(Iz==ZU[F6]))then
set Iz=GetUnitCurrentOrder(x6)
call SetPlayerController(GetOwningPlayer(x6),MAP_CONTROL_NONE)
loop
exitwhen(Iz!=GetUnitCurrentOrder(x6))
call R97(0.1)
endloop
call R97(0.1)
call SetPlayerController(GetOwningPlayer(x6),MAP_CONTROL_COMPUTER)
call R97(0.5)
call J3(x6,true)
if(RH7(x6,TJ7(x6))<1500.)then
set h9[O5]=TJ7(x6)
call VA7(x6,true)
else
call AA7(x6)
endif
elseif(Iz==ZU[C0])then
if(GZ[272+O5])then
call R97(0.01)
if((i1==1315334514)or(i1==1162032439))then
call ExecuteFunc("QPF")
elseif((i1==1315074670)or(i1==1162032951))then
call ExecuteFunc("QQF")
endif
endif
elseif((Iz==ZU[Y0])or(Iz==ZU[B0]))then
if(not SH7(x6))then
call TriggerSleepAction(1.5)
if(i1==1212363833)then
set m5=Z47(400.,x6)
set J4=(m5!=null)and(T77(x6,852095,1093809220,m5))
elseif(i1==1429221441)then
set m5=Z47(400.,x6)
set J4=(m5!=null)and(T77(x6,852231,1093678389,m5))
elseif(i1==1211117653)then
set m5=Z47(400.,x6)
set J4=(m5!=null)and((Bz>TC4[64+O5])and AR7(x6,LR4,LR4,LP4,1093686863)and(IssueImmediateOrderById(x6,852132)))
if((not J4)and(m5!=null)and(Bz>TC4[64+O5]))then
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),BS[7],true)
set J4=IssueImmediateOrderById(x6,852132)
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),BS[7],false)
endif
elseif(i1==1160786242)then
set m5=Z47(400.,x6)
set J4=(m5!=null)and(IssueTargetOrderById(x6,852662,m5))
elseif(i1==1332963428)then
set m5=Z47(400.,x6)
set J4=(m5!=null)and(GetUnitState(x6,UNIT_STATE_MANA)>hq[272+O5])and(T77(x6,852480,1093677649,m5))
elseif(i1==1429221424)then
set m5=Z47(400.,x6)
set J4=(m5!=null)and(T77(x6,852555,1093687351,m5))
endif
endif
endif
set x6=null
set m5=null
endfunction
function SXF takes integer R4F,integer V37 returns integer
if R4F==eY[172+V37]or R4F==eY[188+V37]then
return 10
elseif GetUnitTypeId(M7[V37])==1211117653 then
return 5
elseif R4F==1093677391 or R4F==1093677633 or R4F==1093682264 or R4F==1093678147 or R4F==1093744944 or R4F==1093809220 or R4F==1093686091 or R4F==1093685831 or R4F==1093677623 or R4F==1093678135 or R4F==1093677378 or R4F==1093683511 or R4F==1093742680 or R4F==1093678167 or R4F==1093677361 or R4F==1093678137 or R4F==1093678405 or R4F==1093808453 or R4F==1093742660 or R4F==1093684300 or R4F==1093684045 or R4F==1093685848 or R4F==1093677136 or R4F==1093678669 or R4F==1093677139 or R4F==1093678913 or R4F==1093681490 or R4F==1093685570 or R4F==1093679182 or R4F==1093679190 or R4F==1093685071 or R4F==1093685046 or R4F==1093750345 or R4F==1093684280 or R4F==1093743698 or R4F==1093685584 or R4F==1093748033 or R4F==1093686083 or R4F==1093743414 or R4F==1093743178 or R4F==1093743689 or R4F==1093678679 or R4F==1093685302 or R4F==1093687349 or R4F==1093684558 or R4F==1093744435 or R4F==1093679192 or R4F==1093678389 or R4F==1093677892 or R4F==1093677640 or(R4F==1093679173 and D88()==false)or R4F==1095267426 or R4F==1093687351 or R4F==1093810507 or R4F==1093744948 or R4F==1093681989 or R4F==1093678134 or R4F==1093683019 or R4F==1093678169 or R4F==1093678422 or R4F==1093678665 or R4F==1093750840 or R4F==1093678671 or R4F==1093683510 or R4F==1093684550 or R4F==1093683287 or R4F==1093684813 or R4F==1093684815 or R4F==1093685066 or R4F==1093678672 or R4F==1093684802 or R4F==1093742668 or R4F==1093684817 or R4F==1093685074 or R4F==1093685825 or R4F==1093685813 or R4F==1093685573 or R4F==1093750087 or R4F==1093753167 or R4F==1093751607 or R4F==1093751633 or R4F==1093751637 or R4F==1093751608 then
return 2
endif
return 0
endfunction
function SYF takes unit SG7,integer LXE,integer R4F returns nothing
local integer O5=0
local integer i
local integer j
local boolean J4=false
if(not S97(SG7))then
return
endif
loop
exitwhen O5==AZ4
if R4F==AY4[O5]then
return
endif
set O5=O5+1
endloop
set i=GetPlayerId(GetOwningPlayer(SG7))
set j=SXF(R4F,i)
if j==0 then
return
endif
set O5=1
loop
exitwhen O5>11
if O5==6 then
set O5=7
endif
set J4=false
if Z27(Player(O5))and IsUnitEnemy(SG7,Player(O5))and M7[O5]!=null and GetUnitTypeId(M7[O5])==1160786520 and GetWidgetLife(M7[O5])>.405 and(not SH7(M7[O5]))and IsUnitInRange(M7[O5],SG7,950.)and Bz>TC4[160+O5]and eY[416+O5]!=R4F and((hq[816+O5]<Bz)or((Bz<TC4[O5]-10)and(j<=eY[432+O5]))or(j>eY[432+O5]))then
set eY[448+O5]=R4F
set h4[320+O5]=SG7
endif
set O5=O5+1
endloop
endfunction
function SZF takes unit PI7,integer R4F,unit SG7 returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(PI7))
local integer V87=GetPlayerId(GetOwningPlayer(SG7))
set eY[336+O5]=0
set eY[352+O5]=0
set eY[368+O5]=0
set eY[188+O5]=0
set TC4[O5]=0
set TC4[16+O5]=0
set TC4[32+O5]=0
set TC4[48+O5]=0
if R4F==eY[336+V87]then
set eY[336+O5]=R4F
elseif R4F==eY[352+V87]then
set eY[352+O5]=R4F
elseif R4F==eY[368+V87]then
set eY[368+O5]=R4F
elseif R4F==eY[172+V87]or R4F==eY[188+V87]then
set eY[188+O5]=R4F
endif
set eY[432+O5]=SXF(R4F,V87)
set eY[400+O5]=GetUnitTypeId(SG7)
set eY[416+O5]=R4F
set hq[816+O5]=Bz+(GetUnitAbilityLevel(PI7,1093809992)+2)*60
endfunction
function SAF takes unit it,unit m5 returns boolean
local boolean J4=false
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer i1
if(Z84[O5]==ZF4)or(Z84[O5]==ZE4 and GetRandomInt(1,3)==1)then
set i1=GetUnitTypeId(it)
set bj_lastLoadedUnit=it
if i1==1429221451 and(Bz>TC4[32+O5])and(SS7(900.,it,Condition(function ST7))==0)then
set J4=IssueImmediateOrderById(it,852503)
elseif i1==1311780930 and(Bz>TC4[48+O5])then
set J4=TG7(it,852514,1093686082)
elseif i1==1429221424 and(Bz>TC4[48+O5])then
set J4=TG7(it,852526,1093815119)
elseif i1==1160786265 and(Bz>TC4[16+O5])then
set J4=TG7(it,852526,1093748033)
endif
if(not J4)and((GetUnitLifePercent(it)<40)or(SH7(it))or(GetUnitMoveSpeed(it)<200))then
if(not J4)and(SU7(it,ZU[C0]))then
set J4=UnitUseItem(it,bj_lastCreatedItem)
endif
if(not J4)and(SU7(it,ZU[Q1]))then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,it)
endif
endif
if(not J4)and(h4[O5]!=null or SH7(it))then
if(not J4)and(SC7(it,ZU[D0]))then
set J4=UnitUseItem(it,bj_lastCreatedItem)
endif
if(not J4)and(SC7(it,ZU[Y0]))then
set J4=UnitUseItem(it,bj_lastCreatedItem)
endif
if(not J4)and(SC7(it,ZU[DV4]))then
set TB4=true
set J4=UnitUseItem(it,bj_lastCreatedItem)
set TB4=false
endif
endif
if J4 then
set h4[352+O5]=m5
endif
endif
return J4
endfunction
function SBF takes nothing returns nothing
local unit j5=GetTriggerUnit()
local integer O5=GetPlayerId(GetOwningPlayer(j5))
local integer PSF=GetSpellAbilityId()
local integer i1=GetUnitTypeId(j5)
local integer SCF=0
local unit m5=null
local boolean J4=false
local boolean S3F=GetPlayerController(GetOwningPlayer(j5))==MAP_CONTROL_COMPUTER
local location b5=null
local integer UP
set m5=GetSpellTargetUnit()
if m5!=null and Z27(GetOwningPlayer(m5))and(is(m5))then
set J4=SAF(m5,j5)
endif
set GZ[16+O5]=false
set h4[32+O5]=null
if(GetSpellTargetUnit()!=null)then
set h4[32+O5]=GetSpellTargetUnit()
set m5=GetSpellTargetUnit()
endif
if i1==1160786520 and PSF!=1093809990 and PSF!=1093809991 and PSF!=1093809992 and PSF!=1093810008 and hq[816+O5]>Bz then
set G0[288+O5]=false
set i1=eY[400+O5]
endif
if GP7 and i1!=1160786520 then
call SYF(j5,i1,PSF)
endif
if(PSF==1097163124)then
if(S3F)then
call R97(0.1)
call T47(j5,851986,h9[O5])
endif
elseif(i1==1162032181)then
if((S3F)and(PSF==1093684299))then
set hq[512+O5]=Bz+3.
if(m5!=null)then
call R97(((RI7(GetUnitX(j5),GetUnitX(j5),GetUnitX(m5),GetUnitY(m5))/40.)*.01)+.5)
else
call R97(((RI7(GetUnitX(j5),GetUnitX(j5),GetLocationX(HC[O5]),GetLocationY(HC[O5]))/40.)*.01)+.5)
endif
set m5=Z47(300.,j5)
if(((not SH7(j5))or(Id(O5)))and(m5!=null))then
set GZ[O5]=true
if((SH7(j5))or(not J8(O5,(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(RQF(j5)))and(GetUnitState(m5,UNIT_STATE_LIFE)>300.)and(T97(j5,852652,1093683761,0,m5)))))then
call S7F(j5,m5,true)
endif
elseif(SH7(j5))then
call T47(j5,851986,h9[O5])
else
call J3(j5,true)
endif
endif
elseif(i1==1429221424)then
if(PSF==1093748789)then
call TriggerSleepAction(0.05)
if((h4[O5]==m5)and(GetUnitLifePercent(m5)<70.))then
call MTF(j5,m5)
endif
set SCF=OrderId("creepheal")
endif
elseif(i1==1430466609)then
if(PSF==1093684549)then
set hq[512+O5]=Bz+3.
call TriggerSleepAction(0.05)
if(not SH7(j5))then
set m5=Z47(500.,j5)
if(not S3F)then
if((m5!=null)and(GetUnitLifePercent(m5)<60.))then
call MTF(j5,m5)
endif
elseif(m5!=null)then
set J4=(((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<RPF(j5))and(T97(j5,852125,1093810258,1093810259,m5)))or((IsUnitInRange(j5,m5,400.))and(TG7(j5,852526,1093678145)))or(T97(j5,852527,1093685559,0,m5)))
endif
else
set J4=(S3F)and(h4[O5]==null)and((eY[O5]==1)or(eY[O5]==3)or(eY[O5]==4))and(T47(j5,851986,h9[O5]))
endif
set SCF=852525
elseif(PSF==1093685559)then
call TriggerSleepAction(0.05)
call S7F(j5,m5,true)
set J4=(S3F)and(IsUnitInRange(j5,m5,400.))and((TG7(j5,852526,1093678145))or((SH7(m5))and(T97(j5,852125,1093810258,1093810259,m5))))
set SCF=852527
elseif(PSF==1093678145)then
call TriggerSleepAction(0.05)
set hq[16+O5]=Bz+10.
set m5=Z47(400.,j5)
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<50.))then
call MTF(j5,m5)
endif
if(S3F)then
set J4=(m5!=null)and(((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<RPF(j5))and(not ke(j5))and(T97(j5,852125,1093810258,1093810259,m5)))or(T97(j5,852527,1093685559,0,m5)))
endif
set SCF=852218
elseif((PSF==1093810258)or(PSF==1093810259))then
call TriggerSleepAction(0.05)
set SCF=GetUnitAbilityLevel(j5,PSF)
if(SCF!=3)then
set hq[O5]=Bz+140.-(SCF*20.)
else
set hq[O5]=Bz+75.
endif
set m5=K2(400.,HC[O5])
if(m5!=null)then
call S7F(j5,m5,true)
endif
set SCF=852125
endif
elseif((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517))then
if(PSF==1093678929)then
call TriggerSleepAction(.5)
if(IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(j5)))then
set G0[32+O5]=false
call S7F(j5,GetSpellTargetUnit(),true)
call OFF(j5,GetSpellTargetUnit())
endif
endif
elseif(i1==1433168227)then
if(PSF==1093678918)then
call TriggerSleepAction(0.05)
if((m5!=null)and(SH7(m5)))then
call S7F(j5,m5,true)
endif
set SCF=852226
elseif(PSF==1093678387)then
call TriggerSleepAction(0.05)
set SCF=852066
elseif(PSF==1093679186)then
call TriggerSleepAction(0.05)
set SCF=852225
endif
elseif(i1==1429221430)then
if(PSF==1093681736)then
call TriggerSleepAction(0.05)
set SCF=852601
elseif(PSF==1093687121)then
call TriggerSleepAction(0.05)
set hq[512+O5]=Bz+20.
call S7F(j5,Z47(500.,j5),true)
set SCF=OrderId("roar")
endif
elseif(i1==1430466872)then
if(PSF==1093684558)then
call TriggerSleepAction(0.05)
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call S7F(j5,m5,true)
if(S3F)then
call R97(1.)
set SCF=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
if((not ke(m5))and(SCF>200.)and(SCF<RSF(j5)))then
set GZ[O5]=true
set J4=J8(O5,T97(j5,852119,1093679413,1093679447,m5))
endif
endif
endif
set SCF=852502
endif
elseif(i1==1162032439)then
if(PSF==1093744435)then
call TriggerSleepAction(0.05)
set hq[O5]=Bz+22.
if(IsUnitType(m5,UNIT_TYPE_HERO))then
call S7F(j5,m5,true)
if((S3F)and(GetHeroLevel(j5)>5))then
set SCF=GetUnitAbilityLevel(j5,1093677363)
if(SCF==0)then
set SCF=GetUnitAbilityLevel(j5,1093681462)
endif
if((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(100+(300*SCF)))and(GetUnitState(m5,UNIT_STATE_LIFE)<200.))then
set GZ[O5]=true
call SetPlayerAbilityAvailable(GetOwningPlayer(j5),1093681462,true)
set J4=J8(O5,TG7(j5,852594,1093677363))
endif
endif
endif
set SCF=852527
endif
elseif(i1==1430466865)then
if(PSF==1093677651)then
call TriggerSleepAction(0.05)
if((m5==null)or(not IsUnitType(m5,UNIT_TYPE_HERO)))then
set m5=K2(350.,HC[O5])
endif
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<50.))then
call MTF(j5,m5)
endif
set J4=(S3F)and(m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<55.)and(IsUnitInRange(j5,m5,350.))and(R2I(GetUnitState(j5,UNIT_STATE_MANA))<(140+(GetUnitAbilityLevel(j5,1093810508)*100)))and(TG7(j5,852164,1093810508))
set SCF=852125
elseif(PSF==1093677879)then
call TriggerSleepAction(0.05)
set m5=h4[O5]
set J4=(S3F)and(m5!=null)and(SE7(m5))and(G0[128+O5])and(IsUnitInRange(j5,m5,800.))and(IssueTargetOrderById(j5,851983,m5))
set SCF=852066
endif
elseif(i1==1430468144)then
if(PSF==1093679192)then
call TriggerSleepAction(0.05)
call S7F(j5,m5,true)
set SCF=852189
endif
elseif(i1==1429221441)then
if((PSF==1093685847)and(IsUnitEnemy(m5,GetOwningPlayer(j5)))and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call TriggerSleepAction(1.)
if(S3F)then
if((GetUnitLifePercent(m5)>70.)or((Bz<hq[O5])and(GetUnitCurrentOrder(m5)==851973))or(not T97(j5,852231,1093678389,0,m5))or(not TG7(j5,852123,1093677903)))then
call S7F(j5,m5,true)
endif
else
call MTF(j5,m5)
endif
elseif(PSF==1093678389)then
call TriggerSleepAction(0.05)
set hq[O5]=Bz+10.
call S7F(j5,m5,true)
if((S3F)and(G0[128+O5]))then
set J4=((not IsUnitInRange(j5,m5,300.))and(GetUnitLifePercent(m5)<60.)and(GetUnitLifePercent(j5)>60.)and(IssueTargetOrderById(j5,852600,m5)))or((IsUnitInRange(j5,m5,250.))and(GetUnitLifePercent(m5)<65.)and(TG7(j5,852123,1093677903)))
endif
set SCF=852231
elseif(PSF==1093677903)then
set hq[16+O5]=Bz+180.
endif
elseif(i1==1165451634)then
if((PSF==1093685324)and(IsUnitEnemy(m5,GetOwningPlayer(j5)))and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call TriggerSleepAction(1.)
if(S3F)then
if(not T97(j5,OrderId("acidbomb"),1093687629,0,m5))then
call S7F(j5,GetSpellTargetUnit(),true)
endif
else
call MTF(j5,m5)
endif
elseif(PSF==1093687629)then
call TriggerSleepAction(0.05)
call S7F(j5,m5,true)
set J4=(S3F)and(not IsUnitInRange(j5,m5,300.))and(IssueTargetOrderById(j5,OrderId("acidbomb"),m5))
set SCF=OrderId("acidbomb")
endif
elseif(i1==1432642913)then
if(PSF==1093684550)then
call TriggerSleepAction(0.05)
set SCF=852119
elseif(PSF==1093683507)then
call TriggerSleepAction(0.05)
if((IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitEnemy(m5,GetOwningPlayer(j5)))and(GetUnitLifePercent(m5)<50.))then
call S7F(j5,m5,true)
endif
set SCF=852662
endif
elseif(i1==1432510828)then
if((S3F)and(PSF==1093681985))then
call ExecuteFunc("QNF")
elseif(PSF==1093682004)then
set G0[32+O5]=false
endif
elseif(i1==1429221446)then
if((PSF==1093682764)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call MTF(j5,m5)
if S3F and IsUnitInRange(j5,m5,225)then
call SetPlayerAbilityAvailable(Player(O5),1093678667,true)
call IssueImmediateOrderById(j5,852178)
endif
elseif((PSF==1093678667)and(S3F))then
set m5=Z47(250.,j5)
set J4=(m5!=null)and((h4[O5]==m5)or(GetUnitLifePercent(m5)<75.))and(T97(j5,852480,1093682764,1093747544,m5))
endif
elseif(i1==1332963428)then
if((PSF==1093677649)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call MTF(j5,m5)
endif
elseif(i1==1211117640)then
if(PSF==1093681989)then
call TriggerSleepAction(0.05)
if((IsUnitEnemy(m5,GetOwningPlayer(j5)))and(IsUnitType(m5,UNIT_TYPE_HERO)))then
set h4[16+O5]=m5
call S4F(j5,m5)
set J4=(S3F)and(not G0[32+O5])and((RAF(j5,m5))or(IssueTargetOrderById(j5,852089,m5)))
endif
set SCF=852486
elseif(PSF==1093684564)then
call TriggerSleepAction(0.05)
set hq[O5]=Bz+6.
set SCF=852089
elseif(PSF==1093679428)then
set hq[16+O5]=Bz+35.
elseif(((PSF==1093681987)or(PSF==1093677658))and(IsUnitType(m5,UNIT_TYPE_HERO)))then
if(GetUnitAbilityLevel(m5,1110454606)==0)then
call MTF(j5,m5)
else
call S4F(j5,m5)
endif
endif
elseif(i1==1430468406)then
if((PSF==1093677645)or(PSF==1093678670)or(PSF==1093678898)or(PSF==1093678900)or(PSF==1093678904))then
call TriggerSleepAction(0.05)
set SCF=852218
elseif((PSF==1093678899)or(PSF==1093677898)or(PSF==1093678154)or(PSF==1093678157)or(PSF==1093678158))and(S3F)then
call ExecuteFunc("Q_F")
endif
elseif(i1==1432642913)then
if(PSF==1093684819)then
if((S3F)and(GetUnitLifePercent(j5)<50.)and(not Id(O5)))then
call TriggerSleepAction(0.5)
call VA7(j5,false)
endif
endif
elseif(i1==1160786241)then
if((PSF==1093684820)or(PSF==1093684824))then
set m5=K2(500.,HC[O5])
if(m5!=null)then
call MTF(j5,m5)
call S4F(j5,m5)
endif
endif
elseif(i1==1160786243)then
if(PSF==1093678672)then
set m5=K2(500.,HC[O5])
if(m5!=null)then
call MTF(j5,m5)
endif
endif
elseif(i1==1328558154)then
if(PSF==1093750840)then
elseif(PSF==1093682996 or PSF==1093747768)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
call MTF(j5,m5)
endif
endif
elseif(i1==1315988077)then
if(PSF==1093684561)then
set m5=K2(500.,HC[O5])
if(m5!=null)then
call MTF(j5,m5)
call OFF(j5,m5)
endif
elseif(PSF==1093684561)then
call TriggerSleepAction(0.05)
if(GetUnitLifePercent(m5)<50.)then
call S7F(j5,m5,true)
endif
set SCF=852585
endif
elseif((i1==1215063922)or(i1==1211117638)or(i1==1211117637)or(i1==1211117639))then
if(PSF==1093677894)then
call TriggerSleepAction(0.05)
set SCF=852580
elseif(PSF==1093681490)then
call TriggerSleepAction(0.05)
call S7F(j5,m5,true)
set SCF=852095
endif
elseif(i1==1164207469)then
if(PSF==1095066220)then
set hq[512+O5]=Bz+3.
call TriggerSleepAction(0.05)
set m5=Z47(200.,j5)
if(m5!=null)then
call S7F(j5,m5,true)
endif
set J4=(S3F)and(h4[O5]==null)and(SH7(j5))and((eY[O5]==1)or(eY[O5]==3)or(eY[O5]==4))and(T47(j5,851986,h9[O5]))
set SCF=852525
endif
elseif(i1==1315007329)then
if(PSF==1093677108)then
call TriggerSleepAction(0.05)
if(GetUnitLifePercent(m5)<65.)then
call S7F(j5,m5,true)
endif
set SCF=852095
elseif(PSF==1093681716)then
call TriggerSleepAction(0.05)
call S7F(j5,m5,true)
set SCF=852149
endif
elseif(i1==1332898670)then
if((PSF==1093677136)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call MTF(j5,m5)
elseif(PSF==1093685848)then
call TriggerSleepAction(0.05)
call S7F(j5,m5,true)
if((S3F)and(IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitLifePercent(m5)<70.)or((Bz>hq[16+O5])and(GetUnitState(j5,UNIT_STATE_MANA)>(hq[272+O5]+80.+(30.*GetUnitAbilityLevel(j5,1093677136))))))and(GetHeroLevel(j5)>5)and(GetUnitAbilityLevel(m5,1110454344)>0))then
set GZ[O5]=true
set J4=J8(O5,T97(j5,852504,1093677128,1093681457,m5))
endif
set SCF=852149
elseif((PSF==1093677128)or(PSF==1093681457))then
call TriggerSleepAction(0.05)
set m5=K2(550.,HC[O5])
if(m5!=null)then
call OFF(j5,m5)
if((S3F)and(Bz>hq[16+O5]))then
set GZ[O5]=true
set J4=(((IsUnitInRange(j5,m5,400)or DA9(m5)))and J8(O5,T77(j5,852480,1093677136,m5)))or(T97(j5,852502,1093685848,0,m5))
endif
endif
set hq[O5]=Bz+120.
set SCF=852504
endif
elseif(i1==1215723364)then
if(PSF==1093683534)or(PSF==1093747031)then
call TriggerSleepAction(.3)
set hq[512+O5]=Bz+2.
set hq[O5]=Bz+45.
call S7F(j5,m5,true)
call OFF(j5,m5)
elseif(PSF==1093677633)then
call TriggerSleepAction(0.05)
call S7F(j5,m5,true)
set hq[16+O5]=Bz+10.
set SCF=852095
endif
elseif(i1==1433105516)then
if(PSF==1093747288)then
set m5=K2(400.,HC[O5])
if(m5!=null)then
call MTF(j5,m5)
call OFF(j5,m5)
endif
endif
elseif(i1==1164799603)then
if(PSF==1093808453)then
call TriggerSleepAction(0.05)
call S7F(j5,m5,true)
set SCF=OrderId("carrionswarm")
endif
elseif(i1==1328558160)then
if(PSF==1093682766)then
set hq[O5]=Bz+11.
if((not SH7(j5))or(Id(O5)))then
set hq[512+O5]=Bz+3.
if(GetSpellTargetUnit()!=null)then
call R97((RMaxBJ(RI7(GetUnitX(j5),GetUnitX(j5),GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()))/50.,1.)*.04)+.3)
else
call R97((RMaxBJ(RI7(GetUnitX(j5),GetUnitX(j5),GetLocationX(HC[O5]),GetLocationY(HC[O5]))/50.,1.)*.04)+.3)
endif
if(not IsUnitHidden(j5))then
call S7F(j5,Z47(300.,j5),true)
if((S3F)and(GetUnitCurrentOrder(j5)==0))then
call J3(j5,true)
endif
endif
endif
endif
elseif(i1==1212363833)then
if(PSF==1093678643)then
set hq[16+O5]=Bz+60.
endif
elseif(i1==1315070563)then
if(PSF==1093684529)then
set hq[O5]=Bz+140.-(GetUnitAbilityLevel(j5,PSF)*10.)
if(IsUnitType(m5,UNIT_TYPE_HERO))then
call MTF(j5,m5)
endif
endif
elseif(i1==1214931305)then
if(PSF==1093678147)then
call TriggerSleepAction(0.05)
if S3F then
call IssueTargetOrderById(j5,851983,m5)
endif
set hq[16+O5]=Bz+10.
if(IsUnitType(m5,UNIT_TYPE_HERO))then
if((GetUnitState(j5,UNIT_STATE_LIFE)>GetUnitState(m5,UNIT_STATE_LIFE))and((GetUnitState(j5,UNIT_STATE_LIFE)-GetUnitState(m5,UNIT_STATE_LIFE))>(40*GetHeroLevel(j5))))then
call MTF(j5,m5)
if((S3F)and(GetHeroLevel(j5)>5)and(Bz>hq[O5])and(GetUnitState(m5,UNIT_STATE_LIFE)>150.)and(G0[128+O5]))and(not IsUnitType(m5,UNIT_TYPE_MAGIC_IMMUNE))then
if(IsUnitInRange(j5,m5,450.))then
set J4=((GetUnitState(j5,UNIT_STATE_MANA)>hq[272+O5]+50.)and(SL7(j5,ZU[D0])))or(IssueImmediateOrderById(j5,852600))
endif
endif
if((not J4)and(S3F)and(not SH7(j5)))then
set J4=IssueTargetOrderById(j5,851983,m5)
endif
endif
endif
set SCF=852171
elseif(PSF==1093748025)then
call TriggerSleepAction(0.05)
if S3F then
call IssueTargetOrderById(j5,851983,m5)
endif
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(G0[128+O5]))then
if((GetUnitState(j5,UNIT_STATE_LIFE)>GetUnitState(m5,UNIT_STATE_LIFE))and((GetUnitState(j5,UNIT_STATE_LIFE)-GetUnitState(m5,UNIT_STATE_LIFE))>(40*GetHeroLevel(j5))))then
call S7F(j5,m5,true)
endif
endif
set SCF=OrderId("blizzard")
elseif((PSF==1093677906)or(PSF==1093681494))then
set m5=K2(600.,S_7(j5))
if(m5!=null)then
call MTF(j5,m5)
call OFF(j5,m5)
endif
set hq[O5]=Bz+180.-(GetUnitAbilityLevel(j5,PSF)*30.)
endif
elseif(i1==1212365106)then
if((PSF==1093684025)and(S3F)and(IsUnitEnemy(m5,GetOwningPlayer(j5)))and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call TriggerSleepAction(1.)
call T97(j5,852089,1093685831,0,m5)
endif
elseif(i1==1211117617)then
if(PSF==1093744944)then
call TriggerSleepAction(0.05)
set hq[O5]=Bz+8.
call S7F(j5,m5,true)
set J4=(S3F)and(IsUnitInRange(j5,m5,400.))and(GetUnitLifePercent(m5)<70.)and(TG7(j5,OrderId("chemicalrage"),1093752648))
set SCF=OrderId("acidbomb")
elseif(PSF==1093752648)then
call TriggerSleepAction(0.05)
set m5=Z47(800.,j5)
call S7F(j5,m5,true)
set hq[512+O5]=Bz+20.
if((S3F)and(m5!=null)and(IsUnitInRange(j5,m5,700.)))then
set J4=(T97(j5,OrderId("acidbomb"),1093744944,0,m5))or(IssueTargetOrderById(j5,851983,m5))
endif
set SCF=OrderId("chemicalrage")
endif
elseif(i1==1211117633)then
if(PSF==1093684045)then
call TriggerSleepAction(0.05)
call S7F(j5,m5,true)
call S4F(j5,m5)
if((S3F)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
set J4=T97(j5,852095,1093684310,0,m5)
set h4[16+O5]=m5
endif
set SCF=852585
endif
elseif(i1==1211117620)then
if(PSF==1093677623)then
call TriggerSleepAction(0.05)
set m5=K2(280.,HC[O5])
call S7F(j5,m5,true)
if((S3F)and(m5!=null))then
call IssueTargetOrderById(j5,851983,m5)
call R97(1.)
set J4=((not ke(m5))and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<RTF(j5))and(T97(j5,852119,1093677392,1093679450,m5)))or(((GetUnitLifePercent(m5)<50.)and(RAF(j5,m5))))or(T97(j5,852125,1093677382,0,m5))or(IssueTargetOrderById(j5,851983,m5))
endif
set SCF=852232
elseif(PSF==1093677382)then
call TriggerSleepAction(0.05)
set hq[16+O5]=Bz+8.5
if(m5==null)then
set m5=K2(300.,HC[O5])
endif
set J4=(S3F)and(m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(not ke(m5))and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<RTF(j5))and(GetUnitState(m5,UNIT_STATE_LIFE)>200.)and(T97(j5,852119,1093677392,1093679450,m5))
set SCF=852125
endif
elseif(i1==1215657064)then
if(PSF==1093677913)then
call TriggerSleepAction(0.05)
set hq[O5]=Bz+7.75
set m5=Z47(350.,j5)
if((m5!=null)and((not SH7(j5))or(SH7(m5))))then
call S7F(j5,m5,true)
set J4=(S3F)and(TG7(j5,852600,1093750841))
endif
set SCF=852096
elseif(PSF==1093750841)then
call TriggerSleepAction(0.05)
set m5=Z47(500.,j5)
if(m5!=null)then
call S7F(j5,m5,true)
endif
if(S3F)then
if((GetHeroLevel(j5)>5)and(G0[128+O5])and(GetUnitLifePercent(j5)>70.)and(not IC(O5)))then
set hq[512+O5]=Bz+6.
endif
if(m5==null)then
set m5=SQ7(500.,S_7(j5),Condition(function WB7))
endif
set J4=(m5!=null)and(not G0[O5])and(G0[128+O5])and((not SH7(j5))or(SM7(m5,j5)))and(IssueTargetOrderById(j5,851983,m5))
endif
set SCF=852561
endif
elseif(i1==1332179560)then
if(PSF==1093742660)then
call TriggerSleepAction(0.05)
call S7F(j5,m5,true)
set SCF=OrderId("acidbomb")
endif
elseif(i1==1429221443)then
if(PSF==1093744948)then
call TriggerSleepAction(0.05)
call S7F(j5,m5,true)
set SCF=OrderId("chainlightning")
endif
elseif(i1==1215130471)then
if((PSF==1093678167)or(PSF==1093679161)or(PSF==1093679169)or(PSF==1093679172)or(PSF==1093815121))then
call TriggerSleepAction(0.05)
if((GZ[O5])or(m5==h4[O5])or(GetUnitLifePercent(m5)<55.))then
call S7F(j5,m5,true)
elseif(IsUnitType(m5,UNIT_TYPE_HERO))then
call MTF(j5,m5)
endif
set SCF=852095
elseif((PSF==1093677361)or(PSF==1093677111)or(PSF==1093677396)or(PSF==1093677126))then
call TriggerSleepAction(0.05)
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))then
call S7F(j5,m5,true)
endif
set SCF=852662
endif
elseif((i1==1311781193)or(i1==1311781192)or(i1==1311781204)or(i1==1311781194))then
if(PSF==1093750345)then
call ExecuteFunc("S9F")
endif
elseif(i1==1311781206)then
if((S3F)and(PSF==1093684302))then
call TriggerSleepAction(1.)
if(((GetUnitManaPercent(j5)>55.)and(SS7(500.,j5,Condition(function k3))>2))or(SS7(500.,j5,Condition(function WS7))>0))then
call IssueImmediateOrderById(j5,852600)
endif
endif
elseif(i1==1164799855)then
if((PSF==1093677378)and(S3F))then
call ExecuteFunc("R8F")
endif
elseif(i1==1311787088)then
if(PSF==1093750089)and S3F then
call TriggerSleepAction(0.05)
call IssueImmediateOrderById(j5,851972)
endif
elseif(i1==1211117651)then
if(PSF==1093743698)and S3F then
call R97(0.01)
call IssueTargetOrderById(j5,851983,m5)
endif
elseif(i1==1328558406)then
if S3F then
if PSF==1093752114 then
call TW7(GetHandleId(j5),"AI|IoSpiritsFar",true)
elseif PSF==1093752115 then
call TW7(GetHandleId(j5),"AI|IoSpiritsFar",false)
elseif PSF==1093751864 then
call U07(j5,"AI|IoSpirits",19)
endif
endif
elseif(i1==1160786506)then
if PSF==1093751637 then
set b5=GetSpellTargetLoc()
if S3F then
call J3(j5,true)
endif
call R97(1.2)
set m5=Z87(300,j5,GetLocationX(b5),GetLocationY(b5))
call S7F(j5,m5,true)
if S3F and(m5!=null)then
if(h4[O5]==null or(not IsUnitInRangeLoc(h4[O5],b5,300)))then
call CYE(O5,m5,false,false)
endif
set J4=(IssuePointOrderById(j5,852662,GetLocationX(b5),GetLocationY(b5)))
endif
endif
elseif(i1==1211122767)then
if PSF==1093812807 then
call TriggerSleepAction(0.05)
set m5=K2(250.,HC[O5])
call S7F(j5,m5,true)
set SCF=852662
endif
endif
if((S3F)and(not J4)and(SCF!=0)and(GetUnitCurrentOrder(j5)==SCF))then
call J3(j5,true)
endif
set j5=null
set m5=null
set b5=null
endfunction
function S6F takes nothing returns nothing
local unit it=GetTriggerUnit()
local integer PSF=GetSpellAbilityId()
local integer i1=GetUnitTypeId(it)
local integer O5=GetPlayerId(GetOwningPlayer(it))
local unit m5=h4[32+O5]
local integer UP
local location b5=null
local boolean J4=false
local boolean S3F=GetPlayerController(GetOwningPlayer(it))==MAP_CONTROL_COMPUTER
local real SLF=0
local unit O37=null
call TriggerSleepAction(0.01)
if((not S3F)and(hq[464+O5]>Bz)and(m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitEnemy(m5,GetOwningPlayer(it))))then
call MTF(it,m5)
endif
if(m5!=null)and(not SE7(m5))then
set m5=null
endif
if(h4[O5]!=null)and(not SE7(h4[O5]))then
set h4[O5]=null
endif
if G0[288+O5]then
set G0[288+O5]=false
set i1=eY[400+O5]
endif
if((PSF==1093677647)or(PSF==1093679193)or(PSF==1093679194)or(PSF==1093679408)or(PSF==1093679410))then
if(S3F and T24[O5]==true)then
if(SU7(it,GetItemTypeId(U44[O5])))then
call R97(1.)
call DisableTrigger(H94)
call UnitRemoveItem(it,SY7(it,GetItemTypeId(U44[O5])))
call RemoveItem(U44[O5])
call EnableTrigger(H94)
endif
if(T_4[O5]!=null)then
call R97(0.2)
call UnitAddItem(it,T_4[O5])
endif
set T54[O5]=Bz+T04[UF4]
set T24[O5]=false
set U44[O5]=null
set T_4[O5]=null
endif
call S7F(it,m5,true)
set J4=(i1==1429221445)and(S3F)and(not ke(m5))and(T97(it,852095,1093678647,1093679184,m5))
elseif((PSF==1094936696)or(PSF==1095331943))then
call S7F(it,m5,true)
elseif(PSF==1095331188)then
if(S3F)then
call R97(1.)
call AA7(it)
endif
elseif(i1==1160785970)then
if(PSF==1093748023)then
call S7F(it,Z47(750.,it),true)
elseif(PSF==1093747792)then
call S7F(it,Z47(550.,it),true)
if(S3F)then
call R97(PL7(IsUnitInRange(it,m5,300),1.25,2.25))
set J4=(m5!=null)and(Bz>TC4[O5])and(((GetUnitAbilityLevel(it,1093747023)>0)and(TG7(it,852229,1093747023)))or((GetUnitAbilityLevel(it,1093752150)>0)and(TG7(it,852229,1093752150))))
endif
elseif((PSF==1093747023)or(PSF==1093752150))then
if(S3F)then
set J4=(IsUnitInRange(it,m5,440.))and(IssuePointOrderById(it,852662,GetUnitX(m5)+2,GetUnitY(m5)-2))
endif
endif
elseif((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))then
if(PSF==1093747028)then
elseif(PSF==1093682994)then
if(S3F)then
set J4=(m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<50.)and(IsUnitInRange(it,m5,400.))and(TG7(it,OrderId("charm"),1093747028))
else
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<50.))then
call MTF(it,m5)
endif
endif
endif
elseif(i1==1328558154)then
if((m5!=null)and(S3F)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call CYE(O5,m5,false,false)
call IssueTargetOrderById(it,851983,m5)
endif
elseif(i1==1429221443)then
if(PSF==1093686322)then
set hq[240+O5]=Bz+15
if((not SH7(it))or(Id(O5)))then
if(m5!=null)then
call S7F(it,m5,true)
set hq[512+O5]=Bz+6.+(GetUnitAbilityLevel(it,PSF)*5.)
else
call S7F(it,Z47(500.,it),true)
set hq[512+O5]=Bz+6.+(GetUnitAbilityLevel(it,PSF)*5.)
endif
endif
call TriggerSleepAction(1.)
if((S3F)and(IsUnitHidden(it)))then
call ShowUnitShow(it)
endif
endif
elseif(i1==1162032951)then
if(PSF==1093678404)then
call S7F(it,Z47(550.,it),true)
elseif((PSF==1093679152)or(PSF==1093752154))then
set UP=GetUnitAbilityLevel(it,1093679152)
if((UP==0)and(PSF==1093752154))then
set UP=GetUnitAbilityLevel(it,1093752154)
if(UP>0)then
set hq[O5]=Bz+12.
endif
elseif(PSF==1093679152)then
if(UP==1)then
set hq[O5]=Bz+80.
elseif(UP==2)then
set hq[O5]=Bz+50.
elseif(UP==3)then
set hq[O5]=Bz+30.
else
set hq[O5]=Bz+80.
endif
else
set hq[O5]=Bz+80.
endif
call S7F(it,m5,true)
elseif(PSF==1093679446)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))then
call MTF(it,m5)
endif
endif
elseif(i1==1162032181)then
if(PSF==1093683761)or(PSF==1093747767)then
set hq[O5]=Bz+180.
if S3F and G0[128+O5]then
set J4=P17(NJ7[NM7+O5])and IssuePointOrderByIdLoc(it,852218,NJ7[NM7+O5])
endif
endif
elseif(i1==1160786505)then
if(PSF==1093753167)then
set UP=GetUnitAbilityLevel(it,1093753167)
call MTF(it,m5)
call S7F(it,m5,true)
call TriggerSleepAction(.5)
set J4=(S3F)and(m5!=null)and(iU(it))and(((Bz>TC4[32+O5])and(IsUnitInRange(it,m5,1000.))and(SS7(900.,m5,Condition(function WB7))==0)and(IssueTargetOrderById(it,852185,m5)))or((Bz>TC4[48+O5])and(IsUnitInRange(it,m5,570.))and(IssueImmediateOrderById(it,852594)))or(IssueTargetOrderById(it,851983,m5)))
elseif(PSF==1093751607)then
if(m5!=null)then
call MTF(it,m5)
set J4=(S3F)and((Bz>TC4[O5])and(IsUnitInRange(it,m5,250.))and((GetUnitLifePercent(m5)<47.)or(GetRandomInt(1,3)==1))and(IssueImmediateOrderById(it,852526)))or(IssuePointOrderById(it,852662,GetUnitX(m5),GetUnitY(m5)))or(IssueTargetOrderById(it,851983,m5))
endif
elseif(PSF==1093753169)then
set UP=GetUnitAbilityLevel(it,1093753169)
if(h4[O5]!=null)then
call S7F(it,m5,true)
call TriggerSleepAction(.5)
set J4=(S3F)and(h4[O5]!=null)and(iU(it))and(IssueTargetOrderById(it,851983,h4[O5]))
endif
endif
elseif(i1==1211117653)then
if(PSF==1093687372)then
set TC4[80+O5]=Bz+60.
elseif(PSF==1093686862)then
set TC4[48+O5]=Bz+55.
if((S3F)and((GetUnitState(it,UNIT_STATE_MANA))>200)and(GetUnitLevel(it)>=10)and((Bz>TC4[O5])or(AG7(it,1093686861)))and(Bz>TC4[112+O5]))then
set J4=AR7(it,LP4,LQ4,LR4,1093686861)and IssuePointOrderById(it,852215,GetUnitX(h4[O5]),GetUnitY(h4[O5]))
endif
elseif(PSF==1093686863)then
if(S3F)then
set GZ[224+O5]=true
set J4=(h4[O5]!=null)and(IsUnitInRange(it,h4[O5],450.))and(IsUnitType(h4[O5],UNIT_TYPE_HERO))and(SU7(it,ZU[Y0]))and(UnitUseItem(it,SY7(it,ZU[Y0])))
set GZ[224+O5]=false
endif
set TC4[64+O5]=Bz+30.
elseif(PSF==1093686874)then
set TC4[16+O5]=Bz+20.
elseif(PSF==1093686855)then
set TC4[144+O5]=Bz+30.
elseif(PSF==1093686867)then
set TC4[32+O5]=Bz+30.
elseif(PSF==1093686859)then
set TC4[96+O5]=Bz+30.
if((S3F)and((GetUnitState(it,UNIT_STATE_MANA))>174)and((Bz>TC4[O5])or(AG7(it,1093686855)))and(Bz>TC4[144+O5])and(h4[O5]!=null))then
set UP=GetUnitAbilityLevel(it,1093808471)
if(UP>4)then
if(UP==5)then
call R97(0.6)
elseif(UP==6)then
call R97(0.9)
elseif(UP==7)then
call R97(1.1)
else
endif
endif
set J4=AR7(it,LR4,LR4,LR4,1093686855)and IssuePointOrderById(it,852089,GetUnitX(h4[O5]),GetUnitY(h4[O5]))
endif
elseif(PSF==1093686865)then
set TC4[128+O5]=Bz+15.
elseif(PSF==1093686861)then
set TC4[112+O5]=Bz+40.
if((S3F)and((GetUnitState(it,UNIT_STATE_MANA))>110)and((Bz>TC4[O5])or(AG7(it,1093686874)))and(Bz>TC4[16+O5])and(h4[O5]!=null))then
set J4=AR7(it,LP4,LP4,LP4,1093686874)and(T77(it,852505,1093686874,h4[O5]))
endif
if((not J4)and(S3F))then
set J4=S17(it,h4[O5])
endif
elseif(PSF==1093686864)then
set TC4[160+O5]=Bz+25.
elseif(PSF==1093808473 or PSF==1093748565)then
set UP=GetUnitAbilityLevel(it,1093808473)
if(UP>0)then
if(UP==1)then
set TC4[O5]=Bz+22.
elseif(UP==2)then
set TC4[O5]=Bz+17.
elseif(UP==3)then
set TC4[O5]=Bz+12.
else
set TC4[O5]=Bz+5.
endif
else
set UP=GetUnitAbilityLevel(it,1093748565)
if(UP>0)then
if(UP==1)then
set TC4[O5]=Bz+16.
elseif(UP==2)then
set TC4[O5]=Bz+8.
elseif(UP==3)then
set TC4[O5]=Bz+4.
else
set TC4[O5]=Bz+2.
endif
endif
endif
endif
elseif(i1==1160786502)then
if(PSF==1093751370)then
if(S3F)then
if((GetUnitLifePercent(it)<40.)or(UI4[O5]==true))then
call R97(0.7)
call TG7(it,852244,1093808206)
endif
set UH4[O5]=false
if((GetUnitLifePercent(it)<40.))then
set J4=IssueImmediateOrderById(it,852662)
else
set m5=Z47(600.,it)
if(m5!=null)then
call S7F(it,m5,true)
call TriggerSleepAction(.5)
set J4=(h4[O5]!=null)and(iU(it))and(IssueTargetOrderById(it,851983,h4[O5]))
endif
endif
set UI4[O5]=false
endif
elseif(PSF==1093753176)then
elseif(PSF==1093751371)then
set hq[O5]=Bz+110.
elseif(PSF==1093753177)then
if S3F and(h4[O5]!=null)then
call SJF(O5,it)
endif
endif
elseif(i1==1429221424)then
if(PSF==1093687351)then
if(m5==null)then
set m5=K3(600.,it,Condition(function Kr))
endif
if(not S3F)then
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitAbilityLevel(m5,1112560453)>0))then
call MTF(it,m5)
endif
elseif((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitAbilityLevel(m5,1112560453)>0))then
call S7F(it,m5,true)
set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
if((not SH7(it))and(SS7(1200.,m5,Condition(function WB7))==0)and(UP<(150+(300*GetUnitAbilityLevel(it,1093679445))))and(UP>200))then
set GZ[O5]=true
set h4[288+O5]=m5
set J4=J8(O5,(TG7(it,852129,1093679445)))
endif
if((not J4)and((not SH7(it))or(SM7(m5,it))))then
set J4=(T97(it,OrderId("creepheal"),1093748789,0,m5))or((UP>150)and(GetUnitLifePercent(m5)<40.)and(RAF(it,m5)))or(IssueTargetOrderById(it,851983,m5))or(IssueTargetOrderById(it,851986,m5))
endif
endif
elseif(PSF==1093679445)then
if(S3F)then
call ExecuteFunc("QIF")
set J4=true
endif
endif
elseif(i1==1160785972)then
if(PSF==1093677872)then
set m5=Z47(400.,it)
if(m5==null)then
set m5=Z47(700.,it)
endif
if(m5!=null)then
call S7F(it,m5,true)
call TriggerSleepAction(.5)
set J4=(S3F)and(h4[O5]!=null)and(iU(it))and(IssueTargetOrderById(it,851983,h4[O5]))
endif
elseif((S3F)and(PSF==1093677621))then
call ExecuteFunc("QQF")
set J4=true
elseif(PSF==1095263841)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))then
call MTF(it,m5)
endif
endif
elseif(i1==1432646245)then
if(PSF==1093679171)then
call S7F(it,m5,true)
elseif((PSF==1093677640)and((not D88())or(SH7(m5))))then
if(not D88())then
set hq[512+O5]=Bz+5.
endif
call S7F(it,m5,true)
elseif(PSF==1093677899)then
set UP=GetUnitAbilityLevel(it,PSF)
if(UP<3)then
set hq[O5]=Bz+300.-(UP*60.)
else
set hq[O5]=Bz+125.
endif
if(not SH7(it))then
set m5=Z47(500.,it)
call S7F(it,m5,true)
call TriggerSleepAction(.5)
set J4=(S3F)and(T97(it,852095,1093677640,0,m5))
endif
endif
elseif(i1==1430468913)then
if((PSF==1093810507)and(not SH7(it)))then
call S7F(it,Z47(320.,it),true)
elseif(PSF==1093678403)then
if(not S3F)then
elseif(SH7(it))then
call VA7(it,false)
else
set m5=h4[O5]
if(m5==null)then
set m5=Z47(500.,it)
endif
set J4=(m5!=null)and(GetUnitLifePercent(m5)<50.)and(IssueTargetOrderById(it,851983,m5))
endif
elseif(PSF==1093677876)then
call S7F(it,m5,IsUnitInRange(it,m5,400.))
call OFF(it,m5)
set J4=(S3F)and(IsUnitInRange(it,m5,300.))and(TG7(it,852127,1093810507))
endif
elseif(i1==1430467634)then
if(PSF==1093679412)then
if(GetUnitLifePercent(m5)<60.)then
call S7F(it,m5,true)
endif
elseif(PSF==1093750608)then
set m5=K2(600.,HC[O5])
if((m5!=null)and(GetUnitLifePercent(m5)<70.))then
call S7F(it,m5,true)
call OFF(it,m5)
endif
set J4=(S3F)and(GetUnitManaPercent(it)>40.)and(T97(it,852231,1093679412,0,m5))
elseif((PSF==1093684565)or(PSF==1093681458))then
set UP=GetUnitAbilityLevel(it,PSF)
if((PSF==1093681458)and(UP<3))then
set UP=UP+1
endif
set hq[O5]=Bz+210.-(30.*UP)
set J4=(not SH7(it))or(SH7(m5))
call S7F(it,m5,J4)
if((S3F)and(J4))then
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093750608,true)
set GZ[O5]=true
set J4=J8(O5,(T97(it,852231,1093679412,0,m5))or(IssueTargetOrderById(it,852488,m5)))
endif
elseif(PSF==1093742674)then
set UP=GetUnitAbilityLevel(it,PSF)
if(S3F)and(EA7)then
set UP=GetRandomInt(1,2)
if(UP==1)then
call DL8("YUMMY CREEP!!!",3.5,it,0.025,100,0,200,216)
elseif(UP==2)then
call DL8("MMM DELICIOUS!!!",3.5,it,0.025,100,0,200,216)
endif
endif
endif
elseif(i1==1313026096)then
if(PSF==1095267426)then
call S7F(it,m5,true)
elseif(PSF==1093677401)then
set GZ[128+O5]=false
set G0[32+O5]=false
endif
elseif((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517))then
if(PSF==1093751369)then
set UP=GetUnitAbilityLevel(it,PSF)
set hq[O5]=Bz+70.
if(S3F)then
set J4=(IssueImmediateOrderById(it,852600))
if not J4 then
set J4=((h4[O5]!=null)and(SF7(h4[O5],it))and(T77(it,852119,1093815130,h4[O5])))
if(SU7(it,ZU[W2]))then
call R97(0.2)
call RemoveItem(SY7(it,ZU[W2]))
call UnitAddItemByIdSwapped(ZU[X2],it)
endif
endif
endif
endif
elseif(i1==1164666213)then
if(PSF==1093678679)then
call S7F(it,K2(125.+(25.*GetUnitAbilityLevel(it,1093678679)),HC[O5]),true)
elseif(PSF==1093677877)then
set hq[O5]=Bz+32.-(2.*GetUnitAbilityLevel(it,1093677877))
set hq[240+O5]=Bz+7.
set m5=Z47(500.,it)
if(m5!=null)then
call OFF(it,m5)
endif
if(S3F)then
set J4=(m5!=null)and(IssueTargetOrderById(it,851983,m5))
loop
if((iU(it))and(not G0[O5])and(G0[128+O5])and(GetUnitLifePercent(it)>60.))then
if(SS7(450.,it,Condition(function k3))==0)then
set m5=SO7(800.,S_7(it),Condition(function k3))
set J4=((m5!=null)and(IssueTargetOrderById(it,851986,m5)))or(T47(it,851983,h8[O5]))
else
call T47(it,851983,h8[O5])
endif
endif
exitwhen((Bz>hq[240+O5])or(not SE7(it)))
call R97(1.)
endloop
else
if((m5!=null)and(GetUnitLifePercent(m5)<50.))then
call MTF(it,m5)
endif
endif
elseif((PSF==1093808454)or(PSF==1093808455))then
set m5=Z47(300.,it)
if(m5!=null)then
call S7F(it,m5,true)
call OFF(it,m5)
set J4=(S3F)and(IssueTargetOrderById(it,851986,m5))
endif
elseif(PSF==1093678678)and(S3F)and(m5!=null)then
if(GetHeroLevel(it)>6)or(GetUnitLifePercent(m5)<60.)then
call MoveLocation(HA,GetUnitX(m5)+(90.+(25*GetUnitAbilityLevel(it,1093678679)))*Cos(GetUnitFacing(m5)*bj_DEGTORAD),GetUnitY(m5)+(90.+(25*GetUnitAbilityLevel(it,1093678679)))*Sin(GetUnitFacing(m5)*bj_DEGTORAD))
if(RI7(GetUnitX(it),GetUnitY(it),GetLocationX(HA),GetLocationY(HA))<750)or(DA9(m5))then
set J4=T87(it,852224,1093678679,HA)
endif
endif
endif
elseif(i1==1433168227)then
if((PSF==1093678420)or(PSF==1093679176))then
set UP=GetUnitAbilityLevel(it,PSF)
if(UP!=3)then
set hq[O5]=Bz+175.-(UP*30.)
else
set hq[O5]=Bz+60.
endif
call S7F(it,Z47(750.,it),true)
endif
elseif(i1==1430466872)then
if(PSF==1093687349)then
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call S7F(it,m5,true)
if(S3F)then
set J4=(IssueTargetOrderById(it,851983,m5))or(IssueTargetOrderById(it,851986,m5))
call R97(1.)
set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
if((not ke(m5))and(UP>200.)and(UP<RSF(it)))then
set GZ[O5]=true
set J4=J8(O5,T97(it,852119,1093679413,1093679447,m5))
endif
endif
endif
elseif((PSF==1093679413)or(PSF==1093679447))then
set UP=GetUnitAbilityLevel(it,PSF)
if(UP!=3)then
set hq[O5]=Bz+210.-(UP*60.)
else
set hq[O5]=Bz+55.
endif
call S7F(it,m5,true)
endif
elseif(i1==1162032439)then
if((PSF==1093677363)or(PSF==1093681462))then
set hq[16+O5]=Bz+160.-(20.*GetUnitAbilityLevel(it,PSF))
set m5=Z47(600.,it)
if(m5!=null)then
set J4=(S3F)and(T97(it,OrderId("volcano"),1093744435,0,m5))
if(not J4)then
call S7F(it,m5,true)
endif
endif
endif
elseif(i1==1430466865)then
if(PSF==1093810508)then
call S7F(it,Z47(150.,it),true)
set hq[O5]=Bz+130.-(10.*GetUnitAbilityLevel(it,PSF))
endif
if(PSF==1093751364)then
if S3F then
if((not J4)and(GetHeroLevel(it)>5)and(Bz>hq[O5]))then
if((m5==null)and(G0[128+O5]))then
set m5=SO7(300.,b5,Condition(function k6))
endif
if((m5!=null)and(not IsUnitIllusion(m5))and(SH7(m5)or GZ[208+O5]))then
set J4=(Kz(400.,S_7(it))>1)and(IsUnitInRange(it,m5,300.))and(TG7(it,852164,1093810508))
endif
endif
endif
endif
elseif(i1==1211119409)then
if(PSF==1093749069)then
call S7F(it,Z47(150.,it),true)
elseif(PSF==1093749070)then
set m5=h4[O5]
if m5==null then
set m5=Z47(250.,it)
endif
if((S3F)and(m5!=null))then
set J4=(IsUnitInRange(it,m5,300.))and(IssueImmediateOrderById(it,852526))or(IssueTargetOrderById(it,851983,m5))
if h4[O5]==null then
call CYE(O5,m5,false,false)
endif
endif
endif
elseif((i1==1429221432)or(i1==1160786229))then
if(PSF==1093677892)then
set J4=(S3F)and((h4[O5]==null)or(GetUnitManaPercent(it)>50.))and(TG7(it,OrderId("channel"),1093687878))
elseif(PSF==1093679411)then
set hq[O5]=Bz+170.-(10.*GetUnitAbilityLevel(it,PSF))
set m5=h4[O5]
if((m5==null)or(not S3F))then
set m5=Z47(500.,it)
call CYE(O5,m5,false,false)
endif
if((m5!=null)and((not SH7(it))or(SH7(m5))))then
call S7F(it,m5,true)
call OFF(it,m5)
endif
endif
elseif(i1==1215722344)then
if(PSF==1093682499)then
if(m5==it)then
set m5=h4[O5]
if((m5==null)or(not S3F))then
set m5=Z47(600.,it)
endif
endif
if((m5!=null)and(IsUnitEnemy(m5,GetOwningPlayer(it))))then
call S7F(it,m5,true)
endif
elseif(PSF==1093684296)then
set hq[O5]=Bz+100.
set hq[512+O5]=Bz+6.
call S7F(it,m5,true)
call R97(1.)
if(SE7(m5))then
call S7F(it,m5,true)
set J4=(S3F)and(T97(it,852668,1093682499,0,it))
endif
endif
elseif(i1==1332766568)then
if(PSF==1093686065)then
call S7F(it,m5,true)
elseif(PSF==1093683510)then
set hq[O5]=Bz+14.
set m5=Z47(250.,it)
if(m5!=null)then
call S7F(it,m5,true)
set J4=(S3F)and(IssueTargetOrderById(it,852248,m5))
endif
endif
elseif(i1==1429221451)then
if(PSF==1093678674)then
set hq[O5]=Bz+160.-(20.*GetUnitAbilityLevel(it,1093678674))
set hq[512+O5]=Bz+3.
if(S3F)then
set m5=Z47(300.,it)
if((m5==null)and(SU7(it,ZU[RW])))then
set m5=Z47(900.,it)
if(m5==null)then
set m5=Z47(1200.,it)
endif
if(m5==null)and(Bz>TC4[16+O5])then
set m5=Z47(1300.+GetUnitAbilityLevel(it,1093678671)*100,it)
endif
set J4=(m5!=null)and(UnitUseItemPoint(it,SY7(it,ZU[RW]),GetUnitX(m5),GetUnitY(m5)))
call R97(0.1)
if(m5==null)then
set hq[240+O5]=Bz+100.
endif
endif
if((not J4)and(m5!=null)and(SE7(m5)))then
set J4=IssueTargetOrderById(it,851983,m5)
endif
endif
elseif(PSF==1093686067)then
set m5=Z47(180.,it)
if((S3F)and(m5!=null)and(IsUnitInRange(it,m5,200.))and(GetUnitAbilityLevel(m5,1112560453)>0))then
set J4=IssueImmediateOrderById(it,852581)
endif
elseif(PSF==1093678671)then
if(not SH7(it))then
set hq[512+O5]=Bz+3.
endif
if((m5==null)or(not IsUnitType(m5,UNIT_TYPE_HERO))or(not IsUnitInRange(it,m5,200.)))then
set m5=Z47(350.,it)
endif
if(m5!=null)then
call MTF(it,m5)
if(not S3F)then
elseif((IsUnitInRange(it,m5,200.))and(SE7(m5)))then
call CYE(O5,m5,false,false)
set J4=((GetUnitState(m5,UNIT_STATE_LIFE)<200.)and(IssueTargetOrderById(it,851983,m5)))or((Bz>hq[O5])and(SS7(600.,it,Condition(function WS7))>1)and(R2I(GetUnitState(it,UNIT_STATE_MANA))>150+(75*GetUnitAbilityLevel(it,1093678674)))and(SL7(it,ZU[D0])))or(IssueImmediateOrderById(it,852581))or(IssueTargetOrderById(it,851983,m5))
else
set J4=IssueTargetOrderById(it,851983,m5)
endif
endif
endif
elseif(i1==1315334514)then
if(PSF==1093810506)then
set hq[O5]=Bz+130.-(GetUnitAbilityLevel(it,PSF)*10.)
set m5=Z47(150.,it)
if(m5==null)then
set m5=Z47(300.,it)
if(m5==null)then
set m5=Z47(600.,it)
endif
endif
if(m5!=null)then
call S7F(it,m5,true)
endif
elseif((PSF==1093682521)or(PSF==1093682760)or(PSF==1093682736))then
set J4=(S3F)and(GetUnitAbilityLevel(it,1110456148)==0)and(GetUnitManaPercent(it)>30)and(GetHeroLevel(it)>3)and((RYF(it,200.,852164,1093682521))or(RYF(it,450.,852588,1093682760))or(RYF(it,700.,852599,1093682736)))
if(not J4)then
if(PSF==1093682521)then
set UP=200
elseif(PSF==1093682760)then
set UP=450
else
set UP=700
endif
call MoveLocation(Ha,GetUnitX(it)+UP*Cos(GetUnitFacing(it)*bj_DEGTORAD),GetUnitY(it)+UP*Sin(GetUnitFacing(it)*bj_DEGTORAD))
set m5=K2(250.,Ha)
set J4=(S3F)and(m5!=null)and(IssueTargetOrderById(it,851983,m5))
endif
if((m5!=null)and(GetUnitLifePercent(m5)<50.))then
call MTF(it,m5)
endif
endif
elseif(i1==1429221446)then
if(PSF==1093678665)then
set hq[16+O5]=Bz+14.
if S3F then
set m5=Z47(225,it)
if m5!=null then
call CYE(O5,m5,false,false)
set J4=T97(it,852480,1093682764,1093747544,m5)
endif
endif
elseif(PSF==1093682764)then
set hq[O5]=Bz+30.
if S3F and GetUnitLifePercent(m5)<30 then
set J4=CRE(it,m5)
endif
endif
elseif(i1==1429221445)then
if((PSF==1093678647)or(PSF==1093679184))then
call S7F(it,m5,true)
endif
elseif(i1==1332963428)then
if(PSF==1093678169)then
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitEnemy(m5,GetOwningPlayer(it))))then
call J3(it,false)
loop
exitwhen(GetUnitAbilityLevel(m5,1110454854)==0)
call R97(1.)
endloop
call S4F(it,m5)
set J4=(S3F)and(G0[128+O5])and(is(it))and(T97(it,852119,1093683019,0,m5))
endif
elseif(PSF==1093677649)then
set J4=(S3F)and(SE7(m5))and(not SH7(it))and((T97(it,852119,1093683019,0,m5))or(IssueTargetOrderById(it,851983,m5)))
set hq[O5]=Bz+120.
endif
elseif(i1==1332109682)then
if(PSF==1093678134)then
call S7F(it,m5,true)
set hq[O5]=Bz+12.
elseif(PSF==1093810505)then
call S7F(it,Z47(550.,it),true)
set hq[16+O5]=Bz+150.
endif
elseif(i1==1430468406)then
if((PSF==1093678899)or(PSF==1093677898)or(PSF==1093678154)or(PSF==1093678157)or(PSF==1093678158))then
if(not SH7(it))then
set m5=K2(600.,HC[O5])
if(m5!=null)then
call S7F(it,m5,true)
call OFF(it,m5)
endif
endif
endif
elseif(i1==1160786242)then
if(PSF==1093683287)then
if((m5==null)or(not IsUnitType(m5,UNIT_TYPE_HERO)))then
elseif(GetUnitLifePercent(m5)<60.)then
call S7F(it,m5,true)
if((SH7(m5))and(S3F))then
set J4=IssueImmediateOrderById(it,852490)
endif
else
call MTF(it,m5)
endif
elseif(PSF==1093683257)then
call S7F(it,Z47(1000.,it),true)
set hq[240+O5]=Bz+2.+(1.5*GetUnitAbilityLevel(it,1093683257))
set hq[16+O5]=Bz+180.-(30.*GetUnitAbilityLevel(it,1093683257))
elseif(PSF==1093683265)then
call S7F(it,Z47(500.,it),true)
if(S3F)then
call AA7(it)
endif
endif
elseif(i1==1160786241)then
if(PSF==1093684813)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
call S7F(it,m5,GetUnitLifePercent(it)>50.)
if((S3F)and((GetUnitLifePercent(it)>50.)or(GetUnitLifePercent(m5)<40.)))then
call R97(0.5)
set J4=T97(it,852089,1093684815,0,m5)
endif
endif
elseif(PSF==1093684815)then
set m5=K2(300.,HC[O5])
if(m5!=null)then
call S7F(it,m5,true)
set J4=(S3F)and(((not kr(it))and(T97(it,852597,1093684820,1093684824,m5)))or(T97(it,852119,1093684813,0,m5)))
endif
elseif((PSF==1093684820)or(PSF==1093684824))then
set hq[O5]=Bz+90.
endif
elseif(i1==1429221456)then
if(PSF==1093685066)then
call R97(GetUnitAbilityLevel(it,1093685066)+0.6)
if((m5!=null)and(SE7(m5))and(IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitVisible(m5,GetOwningPlayer(it))))then
call S7F(it,m5,GetUnitLifePercent(it)>50.)
endif
elseif((PSF==1093685067)or(PSF==1093752407))then
set hq[O5]=Bz+160.
call S7F(it,K2(500.,HC[O5]),true)
elseif(PSF==1093685065)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))then
call MTF(it,m5)
endif
endif
elseif(i1==1160786243)then
if(PSF==1093681491)then
if((IsUnitEnemy(m5,GetOwningPlayer(it)))and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call S7F(it,m5,true)
endif
elseif(PSF==1093683765)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
call MTF(it,m5)
call S4F(it,m5)
if(S3F)then
if((GetUnitLifePercent(m5)<80.)or(GZ[O5]))then
set GZ[O5]=true
set J4=J8(O5,T97(it,852224,1395667000,0,m5))
endif
set J4=(J4)or(IssueTargetOrderById(it,852248,m5))
endif
endif
elseif(PSF==1395667000)or(PSF==1395667029)then
set hq[O5]=Bz+165.
set m5=K2(500.,HC[O5])
if(m5!=null)then
call S7F(it,m5,true)
call TriggerSleepAction(0.7)
if((S3F)and(SU7(it,ZU[RW]))and(not IsUnitInRange(it,m5,250.))and(GetUnitLifePercent(it)>70.)and(GetUnitAbilityLevel(it,1093678672)>1)and(Bz>hq[16+O5]))then
set J4=(GetHeroLevel(it)>5)and(R3F(it,m5))
endif
call TriggerSleepAction(0.1)
if((S3F)and(PSF==1395667029)and(SU7(it,ZU[D44]))and(GetUnitState(it,UNIT_STATE_MANA)>525+50*GetUnitAbilityLevel(it,1395667029)))then
set J4=(UnitUseItem(it,bj_lastCreatedItem))
if J4 then
call TriggerSleepAction(0.1)
set J4=T97(it,852224,1395667000,0,m5)
endif
endif
endif
elseif(PSF==1093678672)then
set hq[16+O5]=Bz+20.
endif
elseif((i1==1211117641)or(i1==1211117642))then
if(PSF==1093684802)then
set m5=K2(200.,HC[O5])
if(m5!=null)then
call S7F(it,m5,true)
if(S3F)then
call R1F(M7[O5],m5)
call R1F(M7[16+O5],m5)
call R1F(M7[32+O5],m5)
call R1F(M7[48+O5],m5)
endif
endif
elseif(PSF==1093684792)then
set m5=Z47(400.,it)
if((S3F)and(not SH7(it))and(m5!=null))then
call R97(0.5)
set J4=(GetUnitAbilityLevel(m5,1110456120)==0)and(R0F(it,m5))
endif
endif
elseif(i1==1311781207)then
if(PSF==1093742673)then
if((IsUnitEnemy(m5,GetOwningPlayer(it)))and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call S7F(it,m5,true)
set J4=(S3F)and(T97(it,852095,1093684817,0,m5))
endif
elseif(PSF==1093684817)then
call S7F(it,m5,true)
set J4=(S3F)and(IsUnitType(m5,UNIT_TYPE_HERO))and(IssueTargetOrderById(it,852248,m5))
elseif(PSF==1093742668)then
set hq[O5]=Bz+300.-(GetUnitAbilityLevel(it,PSF)*50.)
endif
elseif(i1==1311780946)then
if(PSF==1093677385)then
set m5=K2(250.,HC[O5])
if((m5!=null)and(GetUnitLifePercent(m5)<60.))then
call S7F(it,m5,true)
call OFF(it,m5)
endif
elseif(PSF==1093685825)then
set m5=K2(250.,HC[O5])
if(m5!=null)then
call S7F(it,m5,true)
if((not SH7(it))and(S3F))then
set J4=T97(it,852238,1093677385,0,m5)
endif
endif
elseif(PSF==1093685808)then
call R97(1.)
call IV(GetUnitX(it),GetUnitY(it),1000.,Condition(function Kq),function R5F)
if(S3F)then
call AA7(it)
endif
endif
elseif((i1==1211117650)or(i1==1211119433))then
if(PSF==1093685590)then
set m5=Z47(550.,it)
if(m5!=null)then
if(GetUnitLifePercent(m5)<60.)then
call OFF(it,m5)
endif
if((S3F)and((GetUnitLifePercent(m5)<60.)or(GetUnitManaPercent(it)>60.)))then
set IN4=it
set J4=(SS7(1000.,it,Condition(function ny))>6)and(IssueTargetOrderById(it,852699,m5))
endif
endif
elseif((PSF==1093685813)or(PSF==1093685811))then
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitEnemy(m5,GetOwningPlayer(it)))and(GetUnitLifePercent(m5)<60))then
call S7F(it,m5,true)
if(PSF==1093685811)then
call S4F(it,m5)
set h4[16+O5]=m5
if((S3F)and(not SH7(it)))then
set IN4=it
set J4=(TG7(it,1093685590,851971))or((SS7(1000.,it,Condition(function ny))>4)and(IssueTargetOrderById(it,852699,m5)))
endif
endif
endif
endif
elseif(i1==1211117646)then
if(PSF==1093685573)then
set m5=K2(250.,HC[O5])
if((m5!=null)and(GetUnitLifePercent(m5)<60.))then
call S7F(it,m5,true)
call OFF(it,m5)
endif
elseif(PSF==1093685575)then
set UP=R2I(50.+(100.*GetUnitAbilityLevel(it,1093685573)))
if(m5!=null)then
set m5=Z47(I2R(UP),m5)
endif
if((S3F)and(m5!=null))then
set PSF=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093685573,true)
set J4=IssuePointOrderById(it,852089,GetUnitX(m5)+I2R(PSF)*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+I2R(PSF)*Sin(UP*bj_DEGTORAD))
endif
elseif(PSF==1093685579 or PSF==1093808465)then
set hq[O5]=Bz+100.
endif
elseif(i1==1211117624)then
if(PSF==1093682775)then
call S7F(it,m5,true)
elseif(PSF==1093683024)then
set m5=Z47(600.,it)
if((m5!=null)and(GetUnitLifePercent(m5)<65.))then
call S7F(it,m5,true)
endif
endif
elseif(i1==1160785973)then
if((PSF==1093678388)or(PSF==1093677141))then
set UP=GetUnitAbilityLevel(it,PSF)
call S7F(it,Z47(650.,it),true)
call R97(5.)
if(PSF==1093678388)then
set hq[O5]=Bz+155.-(UP*20.)
else
set hq[O5]=Bz+145.-(UP*20.)
endif
endif
elseif(i1==1315988077)then
if(PSF==1093678669)then
call S7F(it,Z47(250.,it),true)
set hq[O5]=Bz+12.
endif
elseif(i1==1211117616)then
if(PSF==1093677139)then
call S7F(it,Z47(300.,it),true)
set hq[O5]=Bz+15.
set J4=(S3F)and(IssueImmediateOrderById(it,852526))
endif
elseif(i1==1311788343 or i1==1311788355 or i1==1311788367 or i1==1311788353 or i1==1311788354)then
if S3F and(PSF==1093815877)then
set J4=(h4[O5]!=null)and IssueTargetOrderById(it,852119,YD7(h4[O5]))
if J4 then
call TriggerSleepAction(0.3)
endif
call IssueTargetOrderById(it,851983,h4[O5])
endif
if S3F and(PSF==1093687856)then
set O37=GetSpellTargetUnit()
if GetUnitTypeId(it)==1311788343 then
call IssueImmediateOrderById(it,852180)
call TriggerSleepAction(0.125)
endif
set J4=IssueTargetOrderById(it,852119,YD7(it))
if J4 then
call TriggerSleepAction(0.125)
endif
call IssueTargetOrderById(it,851983,O37)
set O37=null
endif
elseif(i1==1311788363 or i1==1311788365)then
if S3F and(PSF==1093815601)then
set h4[O5]=GetSpellTargetUnit()
set J4=IssuePointOrderByIdLoc(it,852600,C57(it,h4[O5],999999,3.3,0))
call TriggerSleepAction(.3)
call IssueTargetOrderById(it,851983,h4[O5])
elseif S3F and(PSF==1093815600)then
set m5=PV7((m5!=null)and(G0[128+O5]),m5,Z97((500+100*(GetUnitAbilityLevel(it,1093815601))),it,Condition(function k6)))
set J4=(m5!=null)and(G0[128+O5]and(GetUnitState(it,UNIT_STATE_MANA)>225. or SS7(600,it,Condition(function XM7))>=1))and IssueTargetOrderById(it,852095,m5)
set h4[O5]=PV7(h4[O5]!=null or(not J4),h4[O5],m5)
endif
elseif(i1==1315074670)then
if(PSF==1093677622)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))then
call MTF(it,m5)
endif
endif
elseif((i1==1215063922)or(i1==1211117638)or(i1==1211117637)or(i1==1211117639))then
if(PSF==1093677895)then
set hq[O5]=Bz+135.
set m5=h4[O5]
if((m5==null)or(not S3F))then
set m5=Z47(700.,it)
call CYE(O5,m5,false,false)
endif
if(m5!=null)then
call S7F(it,m5,true)
call OFF(it,m5)
set J4=(S3F)and(((IsUnitInRange(it,m5,350.))and(T77(it,852095,1093681490,m5)))or(IssueTargetOrderById(it,851983,m5)))
endif
endif
elseif(i1==1164207469)then
if(PSF==1093682483)then
call S7F(it,m5,true)
endif
elseif((i1==1311781174)or(i1==1311781175)or(i1==1311781442))then
set m5=h4[O5]
if(PSF==1093748042)then
if m5==null then
set m5=Z47(700.,it)
endif
if(m5!=null)then
call S7F(it,m5,true)
call OFF(it,m5)
endif
elseif(PSF==1093808461)and(m5!=null)and S3F then
if(m5!=null)and(IsUnitInRange(it,m5,200.))then
set J4=(i1==1311781174)and(TG7(it,852138,1093681733))
if J4 then
set i1=1311781175
endif
elseif(m5!=null)and((GetUnitLifePercent(m5)<15.)or((not G0[256+O5])and(PH7(it)<2000.)))then
elseif(GetHeroLevel(it)>=6 or h4[O5]!=null)and(SC7(it,ZU[D0]))then
set J4=(i1==1311781174)and(TG7(it,852138,1093681733))
endif
if(not J4)then
call IssueTargetOrderById(it,851983,m5)
endif
elseif(PSF==1093681733)and(m5!=null)and S3F then
call IssueTargetOrderById(it,851983,m5)
if(not J4)and(h4[O5]!=null)then
call TriggerSleepAction(0.1)
if(i1!=1311781174)then
set J4=T77(it,852218,1093808461,m5)
else
set J4=(IsUnitInRange(it,m5,400.)and(TG7(it,852096,1093808462)))
endif
endif
endif
elseif(i1==1433631084)then
if(PSF==1093678160)then
call MTF(it,m5)
set hq[O5]=Bz+40.-(10.*GetUnitAbilityLevel(it,1093678160))
endif
elseif(i1==1315007329)then
if(PSF==1093678913)then
set hq[O5]=Bz+20.
if(S3F)then
call ExecuteFunc("QQF")
set J4=true
endif
endif
elseif(i1==1332898670)then
if(PSF==1093677136)then
set J4=(S3F)and((T97(it,852502,1093685848,0,m5))or(IssueTargetOrderById(it,851983,m5)))
set hq[16+O5]=Bz+16.
endif
elseif(i1==1215128178)then
if(PSF==1093677616)then
set J4=(S3F)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.)and(T97(it,852095,1093683779,0,m5))
elseif(PSF==1093683779)then
set J4=(S3F)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.)and(T97(it,852119,1093677616,0,m5))
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))then
call MTF(it,m5)
endif
elseif((PSF==1093810503)or(PSF==1093810504))then
set hq[O5]=Bz+120.
call S7F(it,Z47(700.,it),true)
endif
elseif(i1==1164799855)then
if(PSF==1093682264)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
call S7F(it,m5,true)
endif
set hq[O5]=Bz+35.-(GetUnitAbilityLevel(it,PSF)*5.)
elseif(PSF==1093682265 or PSF==1093752642)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))then
call MTF(it,m5)
endif
endif
elseif(i1==1433105516)then
if(PSF==1093683511)then
set hq[16+O5]=Bz+15.
call S7F(it,m5,true)
if((S3F)and(IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(it)>5)or(SH7(m5))))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h8[16+O5])-GetUnitY(m5),GetUnitX(h8[16+O5])-GetUnitX(m5)))
set J4=IssuePointOrderById(it,852600,GetUnitX(m5)+100.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+100.*Sin(UP*bj_DEGTORAD))
endif
elseif(PSF==1093681713)then
set b5=HC[O5]
set m5=K2(400.,b5)
if(m5!=null)then
call OFF(it,m5)
endif
if((S3F)and(not kr(it)))then
set J4=(m5!=null)and(GetUnitLifePercent(m5)<75.)and((TK7(not IsUnitAlly(it,Z7[0]))<=2)or(GetHeroLevel(it)<11))and(IssuePointOrderByIdLoc(it,OrderId("cannibalize"),b5))
if(not J4)then
set UP=SR7(400.,b5,Condition(function WS7))
set J4=((UP>1)or(UP==TK7(not IsUnitAlly(it,Z7[0])))or((UP>0)and(SR7(700.,b5,Condition(function WS7))>1)and(SR7(700.,b5,Condition(function W37))>0)))and(IssuePointOrderByIdLoc(it,OrderId("cannibalize"),b5))
endif
endif
elseif(PSF==1093747288)then
set UP=GetUnitAbilityLevel(it,PSF)
set hq[O5]=Bz+210.-(UP*10.)
set m5=Z47(400.,it)
set J4=(S3F)and(m5!=null)and(IssueTargetOrderById(it,851983,m5))
endif
elseif(i1==1214409837)then
if(PSF==1093679157)then
set hq[O5]=Bz+10.
call MoveLocation(Ha,GetUnitX(it)+400*Cos(GetUnitFacing(it)*bj_DEGTORAD),GetUnitY(it)+400*Sin(GetUnitFacing(it)*bj_DEGTORAD))
set m5=K2(400.,Ha)
if(m5!=null)then
call OFF(it,m5)
endif
endif
elseif(i1==1316252014)then
if(PSF==1093678137)then
set hq[32+O5]=Bz+14.
if(GetUnitLifePercent(m5)<60.)then
call S7F(it,m5,true)
endif
elseif(PSF==1093678405)then
set hq[O5]=Bz+25.
elseif(PSF==1093681745)then
set hq[16+O5]=Bz+35.
set m5=K2(500.,HC[O5])
if(m5!=null)then
call OFF(it,m5)
endif
if((S3F)and(m5!=null)and(SU7(it,ZU[D74])))then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,m5)
endif
elseif(PSF==1093678645)then
set hq[O5]=Bz
set hq[16+O5]=Bz
set hq[32+O5]=Bz
set hq[80+O5]=Bz
set hq[96+O5]=Bz
endif
elseif(i1==1328558160)then
if(PSF==1093682998)then
if((S3F)and(GetHeroLevel(it)>5)and((not SH7(it))or(Id(O5))))then
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.)and(not IsUnitInRange(it,m5,300.)))then
set GZ[O5]=true
set J4=(J8(O5,T97(it,852218,1093682766,0,m5)))
endif
endif
elseif(PSF==1093683000)then
call S7F(it,Z47(700.,it),true)
elseif(PSF==1093683011)then
call S7F(it,Z47(500.,it),true)
endif
elseif(i1==1212363833)then
if(PSF==1093678933)then
set hq[32+O5]=Bz+120.
call R97(0.5)
set J4=(S3F)and(not SH7(it))and(TG7(it,852123,1093678643))
elseif(PSF==1093809220)then
set hq[O5]=Bz+14.
call S7F(it,m5,true)
set J4=(S3F)and(not SH7(it))and((TG7(it,852526,1093815125))or(TG7(it,852123,1093678643)))
elseif(PSF==1093678643)and(S3F and(h4[O5]!=null)and(not SH7(it)))then
set J4=(LI7(it,h4[O5]))and(TG7(it,852526,1093815125))
endif
elseif(i1==1315070563)then
if(PSF==1093678407)then
set hq[240+O5]=Bz+5.
set m5=Z47(600.,it)
if(m5!=null)then
call OFF(it,m5)
endif
if(S3F)then
loop
if((m5!=null)and(GetUnitLifePercent(m5)<GetUnitLifePercent(it)))then
call IssuePointOrderById(it,851986,GetUnitX(m5)+GetRandomReal(0,300.)-150.,GetUnitY(m5)+GetRandomReal(0,300.)-150.)
elseif((not G0[O5])and(G0[128+O5])and(not SH7(it)))then
if(SS7(200.,it,Condition(function k3))==0)then
call T47(it,851983,h8[O5])
endif
endif
if(not G0[128+O5])then
set m5=null
endif
exitwhen(Bz>=hq[240+O5])
call R97(0.5)
endloop
set m5=Z47(500.,it)
if((m5!=null)and(not ke(m5))and(GetUnitState(m5,UNIT_STATE_LIFE)<1200.)and(GetUnitAbilityLevel(m5,1113815395)==0)and(GetUnitAbilityLevel(m5,1113815346)==0))then
set UP=SS7(850.,m5,Condition(function WS7))
set J4=((UP-(SS7(850.,m5,Condition(function k3))))>=0)and(T97(it,852095,1093684529,1093747032,m5))
endif
else
call MTF(it,m5)
endif
endif
elseif(i1==1214931305)then
if(PSF==1093686067)then
set m5=Z47(450.,it)
if((S3F)and(m5!=null)and(not SH7(it)))then
set J4=IssueImmediateOrderById(it,852600)
endif
elseif((PSF==1093677906)or(PSF==1093681494))then
set hq[O5]=Bz+180.-(GetUnitAbilityLevel(it,PSF)*30.)
endif
elseif(i1==1212365106)then
if(PSF==1093685831)then
set hq[O5]=Bz+15.
set b5=HC[O5]
set m5=K2(I2R(250+(25*GetUnitAbilityLevel(it,1093685831))),b5)
if(m5!=null)then
call S7F(it,m5,true)
set J4=(S3F)and(not SH7(it))and(G0[128+O5])and(not IsUnitInRangeLoc(m5,b5,200.))and(IssueTargetOrderById(it,852600,m5))
endif
endif
elseif(i1==1211117617)then
if(PSF==1093686067)then
set m5=Z47(800.,it)
set J4=(S3F)and(m5!=null)and(TG7(it,OrderId("chemicalrage"),1093752648))
endif
elseif(i1==1211117633)then
if(PSF==1093684310)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitEnemy(m5,GetOwningPlayer(it)))and(GetUnitLifePercent(m5)<60.))then
call S7F(it,m5,true)
endif
elseif(PSF==1093810260)then
set hq[O5]=Bz+30.
elseif(PSF==1093684308 or PSF==1093747539)then
set hq[16+O5]=Bz+120.
endif
elseif(i1==1211117620)then
if((PSF==1093677392)or(PSF==1093679450))then
if(UP!=3)then
set hq[O5]=Bz+210.-(UP*60.)
else
set hq[O5]=Bz+55.
endif
call S7F(it,m5,true)
endif
elseif(i1==1432580716)or(i1==1429221720)then
if(PSF==1093684300)then
set b5=HC[O5]
set m5=K2(300.,b5)
if(m5!=null)then
call S7F(it,m5,true)
call TriggerSleepAction(1.)
set J4=(S3F)and(IsUnitInRange(it,m5,250.))and(SR7(300.,b5,Condition(function k0))<=2)and(IssueTargetOrderById(it,852600,m5))
endif
elseif(PSF==1093681754)then
set hq[O5]=Bz+15.
call R97(1.2)
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call S7F(it,m5,true)
endif
elseif(PSF==1093752391)then
set TC4[64+O5]=Bz+30
call R97(0.8)
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call S7F(it,m5,true)
endif
endif
elseif(i1==1333027688)then
if(PSF==1093682252)then
call S7F(it,Z47(250.,it),true)
elseif(PSF==1093682248 or PSF==1093750594)then
set hq[O5]=Bz+170.-(GetUnitAbilityLevel(it,PSF)*20.)
call S7F(it,Z47(500.,it),true)
elseif(PSF==1093686091)then
set m5=K3(900.,it,Condition(function Kr))
if(m5!=null)then
call S7F(it,m5,true)
set J4=(S3F)and(GetUnitLifePercent(it)>50.)and(GetUnitLifePercent(m5)<60.)and(G0[128+O5])and(SS7(700.,m5,Condition(function WS7))<=2)and(R3F(it,m5))
endif
endif
elseif(i1==1311781185)then
if(PSF==1093743692)then
if(GetUnitLifePercent(m5)<60.)or(GetUnitManaPercent(it)>60 or GetUnitState(it,UNIT_STATE_MANA)>400.)then
set J4=(S3F)and IssueTargetOrderById(it,852095,m5)
call S7F(it,m5,true)
endif
elseif(PSF==1093684275)then
set hq[O5]=Bz+160.
elseif(PSF==1093684314)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))then
call MTF(it,m5)
endif
endif
elseif(i1==1211117643)then
if(PSF==1093678658)then
call S7F(it,Z47(300.,it),true)
endif
if(PSF==1093678410 or PSF==1093678664 or PSF==1093681483 or PSF==1093748313)and S3F then
set b5=HC[O5]
if(h9[48+O5]!=null)and(IsUnitInRangeLoc(h9[48+O5],b5,600.))then
set EJ7=300
call MoveLocation(HA,GetUnitX(h9[48+O5]),GetUnitY(h9[48+O5]))
if GetUnitUserData(h9[48+O5])>100 then
set EJ7=150
endif
else
set EJ7=150
call MoveLocation(HA,GetLocationX(b5),GetLocationY(b5))
endif
if(not J4)and(Bz>TC4[16+O5])and(GetUnitState(it,UNIT_STATE_MANA)>LUE(it,1093678410,GS7)+LUE(it,1093678658,GS7))then
call MoveLocation(HA,GetLocationX(HA)+GetRandomReal(-EJ7,EJ7),GetLocationY(HA)+GetRandomReal(-EJ7,EJ7))
set J4=(T87(it,852278,1093678410,HA))
endif
set bj_lastLoadedUnit=it
if(not J4)and(Bz>TC4[32+O5])and(GetUnitState(it,UNIT_STATE_MANA)>LUE(it,1093678664,GS7)+LUE(it,1093678658,GS7))and(SR7(600.,HA,Condition(function YX7))==0)then
call MoveLocation(HA,GetLocationX(HA)+GetRandomReal(-100.,100.),GetLocationY(HA)+GetRandomReal(-100.,100.))
set J4=(T87(it,852114,1093678664,HA))
endif
if((not J4)and(GetHeroLevel(it)>5)and(Bz>TC4[O5])and(GetUnitState(it,UNIT_STATE_MANA)>LUE(it,1093681483,GS7)+LUE(it,1093748313,GS7)+LUE(it,1093678658,GS7))and(SR7(600.,HA,Condition(function KG))<8))then
set hq[240+O5]=Bz+5.
set J4=(TD7(it,852504,1093681483,1093748313,GetLocationX(HA)+GetRandomReal(-EJ7,EJ7),GetLocationY(HA)+GetRandomReal(-EJ7,EJ7)))
endif
if(not J4)and((PSF==1093678410)or(PSF==1093678664))and S3F then
call CVE(it,false)
endif
endif
elseif(i1==1215657064)then
if(PSF==1093684291)then
set m5=Z47(550.,it)
set J4=(S3F)and(m5!=null)and(((IsUnitInRange(it,m5,250.))and(TG7(it,852096,1093677913)))or(IssueTargetOrderById(it,851983,m5)))
endif
elseif(i1==1214344551)then
if(PSF==1093678938)then
set m5=Z47(700.,it)
call S7F(it,m5,true)
if((S3F)and(m5!=null))then
set J4=RCF(it)
call R97(1.)
call IssueTargetOrderById(it,851983,m5)
else
call R97(1.)
endif
call R97(7.)
set hq[O5]=Bz+152.
endif
elseif(i1==1211117636)then
if(PSF==1093685042 or PSF==1093810233)then
set hq[O5]=Bz+60.
call S7F(it,m5,true)
if(S3F)then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it)))
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093685041,true)
set GZ[O5]=true
set J4=J8(O5,IssuePointOrderById(it,852218,GetUnitX(it)+900.*Cos(UP*bj_DEGTORAD),GetUnitY(it)+900.*Sin(UP*bj_DEGTORAD)))
endif
elseif(PSF==1093685041)then
if(m5==null)then
set m5=K2(300.,HC[O5])
endif
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call S7F(it,m5,true)
endif
endif
elseif(i1==1160786000)then
if(PSF==1093685047)then
set m5=Z47(500.,it)
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))then
call S7F(it,m5,true)
set J4=(S3F)and(T87(it,852580,1093685046,C57(it,m5,2000.,0.65,1100.)))
endif
elseif(PSF==1093685046)then
set hq[O5]=Bz+16.
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call S7F(it,m5,true)
call R97(1.5)
set J4=(S3F)and(GetUnitLifePercent(m5)<65.)and(GetUnitState(m5,UNIT_STATE_LIFE)>150.)and(IsUnitType(m5,UNIT_TYPE_STUNNED))and(T97(it,852125,1093685045,0,m5))
endif
elseif(PSF==1093685045)then
if(m5==null)then
set m5=K2(650.,HC[O5])
endif
call S7F(it,m5,true)
if(m5!=null)then
call OFF(it,m5)
set J4=(S3F)and(T87(it,852580,1093685046,C57(it,m5,2000.,0.65,1100.)))
endif
endif
elseif((i1==1311781193)or(i1==1311781192)or(i1==1311781204)or(i1==1311781194))then
if(PSF==1093683532)then
set hq[O5]=Bz+22.
set m5=K2(600.,HC[O5])
if(m5!=null)then
call S7F(it,m5,true)
call OFF(it,m5)
endif
elseif(PSF==1093750345)then
if((SE7(m5))and(GetUnitLifePercent(m5)<65.))then
call MTF(it,m5)
endif
elseif(PSF==1095656306)then
set hq[512+O5]=Bz+6.
set m5=Z47(500.,it)
if(m5!=null)then
call OFF(it,m5)
set J4=(S3F)and(not SH7(it))and(IssueTargetOrderById(it,851983,m5))
endif
endif
elseif(i1==1311781206)then
if(PSF==1093684054)then
set hq[O5]=Bz+12.
set m5=Z47(400.,it)
if((m5!=null)and(GetUnitLifePercent(m5)<60.))then
call S7F(it,m5,true)
endif
elseif(PSF==1093684280)then
set hq[32+O5]=Bz+25.
call R97(0.1)
if(m5==null)then
set m5=K2(200.,HC[O5])
endif
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call S7F(it,m5,true)
endif
elseif(PSF==1093684053)then
set hq[16+O5]=Bz+160.
endif
elseif(i1==1211117651)then
elseif(i1==1211117649)then
if(PSF==1093685586)then
call S7F(it,m5,true)
elseif(PSF==1093685582)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))then
call MTF(it,m5)
endif
endif
elseif(i1==1160786265)then
if(PSF==1093748033)then
call S7F(it,Z47(300.,it),true)
endif
elseif(i1==1311780930)then
if(PSF==1093686083)then
set hq[16+O5]=Bz+20.
set m5=Z47(400.,it)
if(m5!=null)then
call S7F(it,m5,true)
if((S3F)and(GetUnitLifePercent(m5)<60.))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(TJ7(m5)),GetUnitX(m5)-GetUnitX(TJ7(m5))))
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093686072,true)
set GZ[O5]=true
set J4=J8(O5,IssuePointOrderById(it,852089,GetUnitX(m5)+250.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+250.*Sin(UP*bj_DEGTORAD)))
endif
endif
elseif((PSF==1093686072)or(PSF==1093751120))then
set hq[O5]=Bz+85.
set m5=K2(400.,HC[O5])
if(m5!=null)then
call S7F(it,m5,true)
set J4=(S3F)and(IsUnitInRange(it,m5,400.))and(IssueImmediateOrderById(it,852600))
endif
elseif(PSF==1093686081)then
set m5=Z47(400.,it)
if((m5!=null)and(not SH7(it)))then
call S7F(it,m5,true)
set J4=(S3F)and(IssueImmediateOrderById(it,852600))
if((not J4)and(S3F)and(GetUnitLifePercent(m5)<60.))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(TJ7(m5)),GetUnitX(m5)-GetUnitX(TJ7(m5))))
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093686072,true)
set GZ[O5]=true
set J4=J8(O5,IssuePointOrderById(it,852089,GetUnitX(m5)+250.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+250.*Sin(UP*bj_DEGTORAD)))
endif
endif
if(S3F)then
call R97(1.)
call AA7(it)
endif
endif
elseif(i1==1311786311)then
if(PSF==1093743178)then
if S3F and GetUnitAbilityLevel(GetSpellTargetUnit(),1112560453)>1 then
call CYE(O5,m5,false,false)
set J4=IssueTargetOrderById(it,852581,m5)
endif
endif
elseif(i1==1211117652)then
if(PSF==1093687864)or(PSF==1093747542)or(PSF==1093687861)and S3F then
set m5=h4[O5]
if(m5==null)or(not IsUnitInRange(it,m5,170))then
set m5=Z47(170.,it)
if m5!=null then
call CYE(O5,m5,false,false)
endif
endif
if(PSF==1093687861)then
if SH7(it)then
set bj_lastReplacedUnit=h9[16+O5]
set J4=true
elseif m5==null then
if h4[O5]!=null then
set bj_lastReplacedUnit=h4[O5]
else
set bj_lastReplacedUnit=h8[O5]
endif
set J4=true
endif
if J4 then
set m5=UE7(GetHandleId(it),"AI|Cog1")
set bj_lastLoadedUnit=UE7(GetHandleId(it),"AI|Cog2")
if RH7(m5,bj_lastReplacedUnit)>RH7(bj_lastLoadedUnit,bj_lastReplacedUnit)then
set m5=bj_lastLoadedUnit
endif
set bj_lastLoadedUnit=UE7(GetHandleId(it),"AI|Cog3")
if RH7(m5,bj_lastReplacedUnit)>RH7(bj_lastLoadedUnit,bj_lastReplacedUnit)then
set m5=bj_lastLoadedUnit
endif
set bj_lastLoadedUnit=UE7(GetHandleId(it),"AI|Cog4")
if RH7(m5,bj_lastReplacedUnit)>RH7(bj_lastLoadedUnit,bj_lastReplacedUnit)then
set m5=bj_lastLoadedUnit
endif
if m5!=null then
set h4[96+O5]=m5
set J4=IssueTargetOrderById(it,851983,m5)
if J4 then
set hq[832+O5]=Bz+1.
endif
loop
exitwhen GetWidgetLife(h4[96+O5])<.405
set J4=IssueTargetOrderById(it,851983,m5)
call R97(0.5)
endloop
call J3(it,false)
endif
endif
endif
if(not J4)and(m5!=null)then
if(not J4)and(Bz>TC4[32+O5])and(m5!=null)and(IsUnitInRange(it,m5,210))then
set J4=IssueImmediateOrderById(it,852581)
endif
if(not J4)and(Bz>TC4[16+O5])and(m5!=null)and(IsUnitInRange(it,m5,275))then
set J4=IssueImmediateOrderById(it,852600)
endif
endif
endif
elseif(i1==1211119187)then
set bj_forLoopAIndex=(GetUnitAbilityLevel(it,1093742926)-2)
if(PSF==1093742926)and(S3F)and(h4[O5]!=null)and(bj_forLoopAIndex>=0)and(Bz>TC4[16+O5])and(not SH7(it))then
set TC4[16+O5]=Bz+4.
set b5=HC[O5]
if bj_forLoopAIndex>0 then
call R97(bj_forLoopAIndex)
endif
call T87(it,852089,1093743414,b5)
endif
elseif(i1==1328558389)then
if PSF==1093747000 and S3F then
set m5=h4[O5]
set b5=HC[O5]
if m5==null or((not IsUnitInRange(it,m5,300))and(not IsUnitInRangeLoc(it,b5,300)))then
set m5=Z77(300.,it)
set bj_lastReplacedUnit=Z87(300.,it,GetLocationX(b5),GetLocationY(b5))
endif
if(Bz>TC4[16+O5])then
set J4=(h4[O5]!=null)
if GetUnitLifePercent(bj_lastReplacedUnit)<70. then
set J4=true
elseif GetUnitLifePercent(m5)<70. then
set J4=true
endif
set J4=((J4)and(IssueImmediateOrderById(it,852581)))
endif
if(not J4)then
set J4=IssueImmediateOrderById(it,852217)
endif
elseif PSF==1093747009 and S3F then
set m5=h4[O5]
set b5=S_7(it)
if(SK4[O5]!=null)and(GetWidgetLife(SK4[O5])>.405)then
call MoveLocation(b5,GetUnitX(SK4[O5]),GetUnitY(SK4[O5]))
endif
set J4=false
if((m5==null or((not IsUnitInRange(it,m5,475))and(not IsUnitInRangeLoc(m5,b5,475)))))then
if G0[256+O5]then
set m5=Z77(475.,it)
set bj_lastReplacedUnit=Z87(475.,it,GetLocationX(b5),GetLocationY(b5))
if GetUnitLifePercent(m5)<GetUnitLifePercent(bj_lastReplacedUnit)then
call CYE(O5,m5,false,false)
set J4=true
else
set h4[O5]=bj_lastReplacedUnit
set m5=bj_lastReplacedUnit
set J4=true
endif
endif
else
set J4=true
endif
if((J4)and(Bz>TC4[O5])and(not IsUnitIllusion(m5))and(GetUnitLevel(it)>=6)and(h4[O5]!=null)and(IsUnitInRange(it,m5,1200.)))then
set J4=(IssuePointOrderByIdLoc(it,852600,S_7(m5)))
else
set J4=false
endif
if(not J4)then
set J4=IssueImmediateOrderById(it,852217)
endif
endif
elseif(i1==1328558390)then
if PSF==1093744975 then
if S3F then
set J4=TG7(it,852180,1093744986)
if J4 then
call R97(0.1)
call T47(it,851986,h9[O5])
endif
endif
endif
elseif(i1==1160786504)then
if PSF==1093751608 and S3F then
if(SS7(450,m5,Condition(function X97))<=1)then
set J4=T77(it,852089,1093751618,m5)
endif
elseif PSF==1093751618 then
set m5=UE7(GetHandleId(it),"AI|SoulCatcherTgt")
if S3F then
if(h4[O5]==null)or(m5!=h4[O5]and GetUnitLifePercent(m5)<GetUnitLifePercent(h4[O5]))then
call CYE(O5,m5,false,false)
endif
endif
call S4F(it,m5)
endif
elseif(i1==1160786520)then
if(PSF==1093809991)then
set m5=Z47(500.,it)
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))then
call S7F(it,m5,true)
set J4=(S3F)and(T97(it,852214,1093809990,0,m5))
endif
elseif(PSF==1093809990)then
set hq[O5]=Bz+18.
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call S7F(it,m5,true)
endif
if(S3F)then
set DU7=m5
set bj_lastLoadedUnit=Z47(600.,m5)
set DU7=null
if bj_lastLoadedUnit==null then
if SH7(it)then
set SLF=Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it))
set J4=IssuePointOrderById(it,852598,GetUnitX(m5)+375*Cos(SLF),GetUnitY(m5)+375*Sin(SLF))
elseif SH7(m5)or(not IsUnitType(m5,UNIT_TYPE_MELEE_ATTACKER))then
set J4=T47(it,852598,it)
endif
else
set J4=T47(it,852598,bj_lastLoadedUnit)
endif
set bj_lastLoadedUnit=null
endif
elseif PSF!=1093809992 and PSF!=1093810008 and hq[816+O5]>Bz and S3F then
set G0[288+O5]=true
call S6F()
endif
elseif(i1==1160786507)then
if(PSF==1093813065)then
call S7F(it,m5,true)
call S7F(m5,it,true)
endif
elseif(i1==1311788336)then
if PSF==1093814860 and S3F then
call R97(0.2)
set m5=Z47(350.,it)
set bj_lastCreatedUnit=it
if(m5!=null)and(Bz>TC4[16+O5])and((h4[O5]!=null)or(GetUnitLifePercent(m5)<70))and(SS7(400.,it,Condition(function XD7))<=2)then
set J4=TG7(it,852526,1093814323)
endif
endif
elseif(i1==1211122767)then
if(m5==null)then
set m5=h4[O5]
endif
if(not J4)and(S3F)and(Bz>TC4[O5])and(DA9(m5))then
set J4=(m5!=null)and(IssueTargetOrderById(it,852662,m5))
endif
if(PSF==1093814350)then
if S3F and(not J4)and(Bz>TC4[16+O5])then
set J4=(m5!=null)and(T77(it,852119,1093812805,m5))
endif
endif
elseif(i1==1160786738)then
if(PSF==1093813557)then
set b5=HC[O5]
set m5=K2(300.,b5)
if(m5!=null)then
call OFF(it,m5)
endif
endif
endif
if((S3F)and(not J4)and(GetUnitCurrentOrder(it)==0))then
call J3(it,true)
endif
set it=null
set m5=null
set b5=null
endfunction
function S1F takes nothing returns nothing
local unit PI7=GetTriggerUnit()
local integer PSF=GetSpellAbilityId()
local integer i1=GetUnitTypeId(PI7)
local integer O5=GetPlayerId(GetOwningPlayer(PI7))
local integer i
local boolean J4=false
if G0[288+O5]then
set G0[288+O5]=false
set i1=eY[400+O5]
endif
if(PT4)then
set hq[O5]=0.
set hq[16+O5]=0.
set hq[32+O5]=0.
if i1==1211117653 then
set i=1
loop
exitwhen i>10
set TC4[i*16+O5]=0
set i=i+1
endloop
endif
endif
if(not PT4)and i1!=1211117653 then
if i1==1160786520 then
if(PSF==1093809990)then
set TC4[176+O5]=Bz+I2R(LoadInteger(EE7,PSF,-1+GetUnitAbilityLevel(PI7,PSF)))
elseif PSF==1093809991 then
set TC4[192+O5]=Bz+I2R(LoadInteger(EE7,PSF,-1+GetUnitAbilityLevel(PI7,PSF)))
elseif PSF==1093809992 then
set TC4[160+O5]=Bz+I2R(LoadInteger(EE7,PSF,-1+GetUnitAbilityLevel(PI7,PSF)))
elseif PSF!=1093810008 and hq[816+O5]>Bz then
set G0[288+O5]=true
call S1F()
endif
elseif(PSF==eY[336+O5])then
set TC4[16+O5]=Bz+I2R(LoadInteger(EE7,PSF,-1+GetUnitAbilityLevel(PI7,PSF)))
elseif PSF==eY[352+O5]then
set TC4[32+O5]=Bz+I2R(LoadInteger(EE7,PSF,-1+GetUnitAbilityLevel(PI7,PSF)))
elseif PSF==eY[368+O5]then
set TC4[48+O5]=Bz+I2R(LoadInteger(EE7,PSF,-1+GetUnitAbilityLevel(PI7,PSF)))
elseif PSF==eY[172+O5]or PSF==eY[188+O5]then
set bj_forLoopAIndex=0
if PSF==eY[188+O5]then
set bj_forLoopAIndex=LoadInteger(EE7,PSF,-1+GetUnitAbilityLevel(PI7,PSF))
endif
if bj_forLoopAIndex==0 then
set bj_forLoopAIndex=LoadInteger(EE7,eY[172+O5],-1+GetUnitAbilityLevel(PI7,PSF))
endif
set TC4[O5]=Bz+I2R(bj_forLoopAIndex)
elseif(PSF==1093682736)then
set TC4[64+O5]=Bz+I2R(LoadInteger(EE7,PSF,-1+GetUnitAbilityLevel(PI7,PSF)))
elseif(PSF==1093682760)then
set TC4[80+O5]=Bz+I2R(LoadInteger(EE7,PSF,-1+GetUnitAbilityLevel(PI7,PSF)))
elseif PSF==1093683265 then
set TC4[64+O5]=Bz+8.
if Z27(Player(O5))then
if h4[O5]!=null then
call TriggerSleepAction(0.5)
set J4=(IsUnitInRange(PI7,h4[O5],700))and((IssueTargetOrderById(PI7,852662,h4[O5]))or(IssueTargetOrderById(PI7,851983,h4[O5])))
endif
endif
endif
endif
endfunction
function S0F takes nothing returns boolean
return((IsUnitType(GetAttacker(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetAttacker()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetAttacker()))and(IsUnitEnemy(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))))
endfunction
function S5F takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(hr)))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(WG7(GetFilterUnit())))
endfunction
function S2F takes unit it returns integer
local integer kt=GetUnitAbilityLevel(it,1093682248)
local integer S_F
if(kt<1)then
set kt=GetUnitAbilityLevel(it,1093750594)
endif
if(kt>0)then
set hr=it
set S_F=SS7(500.,it,Condition(function S5F))-1
if(S_F<=2)then
return 0
endif
return 140+(50*kt)+((25+(10*kt))*S_F)
endif
return 0
endfunction
function T4F takes nothing returns nothing
call IssueTargetOrderById(GetEnumUnit(),851983,GetTriggerUnit())
endfunction
function T7F takes nothing returns nothing
local boolexpr Ig=Condition(function KH)
call GroupClear(iH)
call GroupEnumUnitsOfPlayer(iH,GetOwningPlayer(GetAttacker()),Ig)
call ForGroup(iH,function T4F)
call DestroyBoolExpr(Ig)
set Ig=null
endfunction
function T8F takes nothing returns nothing
local unit IB=GetAttacker()
local unit m5=GetTriggerUnit()
local integer i1=GetUnitTypeId(IB)
local integer O5=GetPlayerId(GetOwningPlayer(IB))
local location b5=null
local integer UP
local boolean T9F
local boolean J4=false
set GZ[48+O5]=IsUnitType(m5,UNIT_TYPE_HERO)
set h4[80+O5]=m5
if((not Jw(IB))or(GZ[32+O5]))then
set IB=null
set m5=null
return
else
set GZ[32+O5]=true
call TriggerSleepAction(.7)
if((not SE7(m5))or(not SE7(IB))or(not is(IB)))then
set GZ[32+O5]=false
set IB=null
set m5=null
return
endif
endif
if(IsUnitType(m5,UNIT_TYPE_HERO))then
if(((GetUnitCurrentOrder(m5)==851973)or(GetUnitLifePercent(m5)<60.))and(Bz>hq[480+O5]))then
call MTF(IB,m5)
if(h4[O5]==null)then
call CYE(O5,m5,false,false)
endif
endif
if(not J4)and(SU7(IB,ZU[D74]))then
set J4=(GetUnitLifePercent(m5)<50.)and(UnitUseItemTarget(IB,bj_lastCreatedItem,m5))
endif
if(not J4)and(SU7(IB,ZU[U3]))then
set J4=(GetUnitLifePercent(m5)<50.)and(UnitUseItemTarget(IB,bj_lastCreatedItem,m5))
endif
if(not J4)and(SU7(IB,ZU[FC]))then
set J4=(GetUnitLifePercent(m5)<50.)and(UnitUseItemTarget(IB,bj_lastCreatedItem,m5))
endif
if(not J4)and(SU7(IB,ZU[R3]))then
set J4=(GetUnitLifePercent(m5)<50.)and(CQ7(m5)!=1)and(UnitUseItemTarget(IB,bj_lastCreatedItem,m5))
endif
if(not J4)and(SU7(IB,ZU[DP4]))then
set J4=(GetUnitLifePercent(m5)<50.)and(UnitUseItem(IB,bj_lastCreatedItem))
endif
if(not J4)and(SU7(IB,ZU[DR4])and(Bz>TC4[240+O5])and(DY9(m5)==false)and(B77(m5)==false))then
set J4=(GetUnitLifePercent(m5)<50.)and(UnitUseItemTarget(IB,bj_lastCreatedItem,m5))
endif
if(not J4)and(SU7(IB,ZU[P1]))then
set J4=(GetUnitLifePercent(m5)<50.)and(GetUnitLifePercent(IB)>70.)and(Bz>hq[64+O5])and(G0[256+O5])and(SL7(IB,ZU[P1]))
endif
if(not J4)and(SU7(IB,ZU[T2]))then
set J4=(GetUnitLifePercent(m5)<70.)and(h4[O5]!=null)and(UnitUseItem(IB,bj_lastCreatedItem))
endif
if(not J4)and(SU7(m5,ZU[AL])and(GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(GetUnitLifePercent(m5)<90.)and(IsUnitType(IB,UNIT_TYPE_HERO)==true)and(DY9(IB)==false)and((IsUnitInRange(IB,m5,200.))==true or(IsUnitInRange(IB,m5,670.))==true)and(Z_7(GetOwningPlayer(IB))==true)and(Z_7(GetOwningPlayer(m5))==true)and((IsUnitType(IB,UNIT_TYPE_MELEE_ATTACKER)==true)or(IsUnitType(IB,UNIT_TYPE_RANGED_ATTACKER)==true)))then
set TA4=true
set J4=(UnitUseItem(m5,bj_lastCreatedItem))
endif
if(not J4)and(SU7(IB,ZU[D1])or SU7(IB,ZU[E1]))then
set J4=(GetUnitLifePercent(m5)<50. or SJ7(m5))and(UnitCountBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,m5,false,false)==0)and(UnitUseItemTarget(IB,bj_lastCreatedItem,m5))
endif
if(not J4)and(SC7(IB,ZU[Y0]))then
set GZ[224+O5]=true
set J4=(GetUnitLifePercent(m5)<70.)and(i1!=1164277357)and(UnitUseItem(IB,bj_lastCreatedItem))
set GZ[224+O5]=false
endif
if(not J4)and(SU7(IB,ZU[M3]))then
set J4=(m5!=null)and(UnitUseItemTarget(IB,bj_lastCreatedItem,m5))
endif
if(not J4)and(SU7(IB,ZU[DM4])and(UX7(IB,"ArmletOfMordigan|Active")==false)and(GetUnitLifePercent(IB)>90.)and(IsUnitInRange(IB,m5,150.)))then
set J4=(m5!=null)and(UnitUseItem(IB,bj_lastCreatedItem))
endif
if(not J4)and(SU7(IB,ZU[DK4])and(UX7(IB,"ArmletOfMordigan|Active")==true)and((not IsUnitInRange(IB,m5,150.))or(GetUnitLifePercent(IB)<60.)))then
set J4=(UnitUseItem(IB,bj_lastCreatedItem))
endif
if((h4[O5]!=null)and(RBF(IB)))then
set J4=RCF(IB)
endif
if(i1==1429221424)then
set J4=TG7(IB,852526,1093815119)
endif
elseif(IsUnitType(m5,UNIT_TYPE_STRUCTURE))then
if(SU7(IB,ZU[P1]))then
set J4=(GetUnitLifePercent(m5)<20.)and(GetUnitLifePercent(IB)>60.)and(Bz>hq[64+O5])and(iy(IB))and(SL7(IB,ZU[P1]))
elseif(SU7(IB,ZU[Y0]))then
set GZ[224+O5]=true
set J4=(GetUnitLifePercent(m5)<40.)and(i1!=1164277357)and(UnitUseItem(IB,bj_lastCreatedItem))
set GZ[224+O5]=false
endif
if(i1==1211117653 and(not J4))then
call CYE(O5,m5,false,false)
set J4=((Bz>TC4[64+O5])and(AR7(IB,LR4,LR4,LP4,1093686863)and(IssueImmediateOrderById(IB,852132))))or((Bz>TC4[128+O5])and(AR7(IB,LQ4,LQ4,LR4,1093686865))and T77(IB,852490,1093686865,IB))
endif
elseif((GetUnitTypeId(m5)==1848651861)or(GetUnitTypeId(m5)==1848651865)or(GetUnitTypeId(m5)==1848651866))then
if(SU7(IB,ZU[D1]))then
set J4=(GetUnitLifePercent(m5)>80.)and(UnitUseItemTarget(IB,bj_lastCreatedItem,m5))
endif
endif
set T9F=(m5==h4[O5])
if(J4)then
elseif((IsUnitType(m5,UNIT_TYPE_HERO))and((S17(IB,m5))or((GetUnitLifePercent(m5)<55.)and(GetRandomInt(1,3)==1)and(not T24[O5])and(RAF(IB,m5)))))then
if((TL4)and(T24[O5]))then
call RAF(IB,m5)
endif
elseif(i1==1160785970)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
if(IsUnitInRange(IB,m5,400.)and(IssuePointOrderById(IB,852662,GetUnitX(m5)+2,GetUnitY(m5)-2)))then
set J4=true
elseif((Bz>TC4[O5])and(IsUnitInRange(IB,m5,480.))and(GetUnitLifePercent(m5)<40.))then
set J4=(((GetUnitAbilityLevel(IB,1093747023)>0)and(TG7(IB,852229,1093747023)))or((GetUnitAbilityLevel(IB,1093752150)>0)and(TG7(IB,852229,1093752150))))
endif
endif
elseif(i1==1211117653)then
if((GetUnitLifePercent(IB)<35.)and(GetUnitAbilityLevel(IB,1110456408)==0))then
set J4=(Bz>TC4[80+O5])and AR7(IB,LP4,LP4,LQ4,1093687372)and(AM7(IB,LQ4,LQ4,LQ4,false))and(IssueImmediateOrderById(IB,852129))
if(not J4)then
set J4=(m5!=null)and(Bz>TC4[160+O5])and(AR7(IB,LP4,LP4,LR4,1093686864))and(IssueImmediateOrderById(IB,852134))
endif
else
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((Bz>TC4[128+O5])and(AR7(IB,LQ4,LQ4,LR4,1093686865))and T77(IB,852490,1093686865,IB))or((Bz>TC4[64+O5])and(AR7(IB,LR4,LR4,LP4,1093686863)and(IssueImmediateOrderById(IB,852132))))
endif
endif
elseif(i1==1160786505)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
if(IsUnitInRange(IB,m5,250.)and(Bz>TC4[O5])and(GetUnitLifePercent(m5)<47.))then
call CYE(O5,m5,false,false)
set J4=IssueImmediateOrderById(IB,852526)
elseif((Bz>TC4[48+O5])and(IsUnitInRange(IB,m5,570.)))then
set J4=IssueImmediateOrderById(IB,852594)
elseif((Bz>TC4[16+O5])and(IsUnitInRange(IB,m5,570.))and(not IsUnitInRange(IB,m5,200.)))then
set J4=(IssuePointOrderById(IB,852662,GetUnitX(m5),GetUnitY(m5)))or(IssueTargetOrderById(IB,852185,m5))
endif
endif
elseif(i1==1160786502)then
set J4=(GetUnitLifePercent(IB)>70.)and IssueImmediateOrderById(IB,852490)
elseif(i1==1160786506)then
if(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<30.)then
set GZ[O5]=true
set UP=GetUnitAbilityLevel(IB,1093751639)
set J4=(IsUnitInRange(IB,m5,840.))and(J8(O5,IssuePointOrderById(IB,852089,GetUnitX(m5)+2,GetUnitY(m5)-2)))
if((not(J4))and(Bz>TC4[32+O5]))then
set m5=Z47(2200.-(UP*400),IB)
if((m5!=null)and(GetUnitLifePercent(m5)<15.))then
set J4=(T77(IB,852119,1093751639,m5))
endif
endif
endif
elseif((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(60*GetUnitAbilityLevel(IB,1093682994)))and(T77(IB,852119,1093682994,m5)))or((GetHeroLevel(IB)>5)and(GetUnitAbilityLevel(m5,1114665575)==0)and((T9F)or((GetUnitLifePercent(m5)<60.)and(IsUnitInRange(IB,m5,500.))))and(TG7(IB,OrderId("charm"),1093747028)))
endif
elseif(i1==1429221443)then
set J4=(IsUnitType(m5,UNIT_TYPE_HERO))and(hq[240+O5]<=Bz)and((T9F)or(GetUnitLifePercent(m5)<50.))and(TG7(IB,852273,1093686322))
if((not J4)and((GetUnitLifePercent(m5)<40.)))then
call SetPlayerAbilityAvailable(GetOwningPlayer(IB),1093744948,true)
set GZ[O5]=true
set J4=(IssueTargetOrderById(IB,852119,m5))
set GZ[O5]=false
call SetPlayerAbilityAvailable(GetOwningPlayer(IB),1093744948,false)
endif
elseif(i1==1162032951)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetHeroLevel(IB)>5))then
set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
if((Bz>hq[O5])and(UP>200)and(UP<(400*GetUnitAbilityLevel(IB,1093679152))or UP<(460*GetUnitAbilityLevel(IB,1093752154)))and(T97(IB,852527,1093679152,1093752154,m5)))then
elseif((GetHeroLevel(IB)>20)and(GetUnitAbilityLevel(IB,1112893542)==0)and(GetUnitLifePercent(IB)>85.)and(GetUnitLifePercent(m5)<45.))then
set GZ[O5]=true
call J8(O5,TG7(IB,852100,1093678404))
endif
endif
elseif(i1==1162032181)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetHeroLevel(IB)>5)and(Bz>hq[O5]))then
set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
if((IsUnitInRange(IB,m5,250.))and(UP<RQF(IB))and(UP>300))then
set GZ[O5]=true
set J4=J8(O5,T77(IB,852652,1093683761,m5))
endif
endif
elseif(i1==1429221424)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>4)or(SH7(m5))))then
set J4=((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(60*GetUnitAbilityLevel(IB,1093748789)))and(T77(IB,OrderId("creepheal"),1093748789,m5)))or(T77(IB,852555,1093687351,m5))
endif
if(not J4)then
set J4=(IsUnitType(m5,UNIT_TYPE_HERO))and(S17(IB,m5))
endif
elseif(i1==1160785972)then
if(GetUnitAbilityLevel(IB,1110454355)>0)then
set J4=(IsUnitType(m5,UNIT_TYPE_HERO))and(T9F)and(GetUnitLifePercent(IB)>50.)and(IssueTargetOrderById(IB,851983,m5))
elseif(IsUnitType(m5,UNIT_TYPE_HERO))then
if((GetUnitLifePercent(m5)<65.)and(T9F))then
set GZ[O5]=true
set J4=J8(O5,TG7(IB,852100,1093677872))
endif
elseif((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetUnitLifePercent(m5)<30.))then
set GZ[O5]=true
set J4=J8(O5,TG7(IB,852100,1093677872))
endif
elseif(i1==1432646245)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>4)or(SH7(m5))))then
set J4=((not D88())and((T77(IB,852095,1093677640,m5))or((T9F)and(GetUnitLifePercent(IB)<60.)and(T77(IB,852585,1093679171,m5)))))or((D88())and(GetUnitLifePercent(m5)<50.)and((IssueImmediateOrderById(IB,852621))or(T77(IB,852095,1093677640,m5))))
endif
elseif(i1==1430466609)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
if((GetHeroLevel(IB)>4)or(SH7(m5)))then
call SetPlayerAbilityAvailable(GetOwningPlayer(IB),1093685559,true)
set J4=((IsUnitInRange(IB,m5,375.))and(TG7(IB,852526,1093678145)))or((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(70*GetUnitAbilityLevel(IB,1093685559)))and(IssueTargetOrderById(IB,852527,m5)))
endif
elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetHeroLevel(IB)>12)and(GetUnitManaPercent(IB)>60.)and(G0[128+O5]))then
set UP=SS7(400.,m5,Condition(function Ki))
set J4=(UP>5)and(Bz>hq[O5])and(T97(IB,852125,1093810258,1093810259,m5))
if((not J4)and(Bz>hq[16+O5])and((UP>2)or((eY[O5]==10)and(UP>1)))and(SS7(1000.,m5,Condition(function KI))<=1))then
if(not IsUnitInRange(IB,m5,400.))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(IB)-GetUnitY(m5),GetUnitX(IB)-GetUnitX(m5)))
set hq[240+O5]=Bz+3.
call IssuePointOrderById(IB,851986,GetUnitX(m5)+200.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+200.*Sin(UP*bj_DEGTORAD))
else
set J4=TG7(IB,852526,1093678145)
endif
endif
endif
elseif(i1==1430468913)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((GetUnitAbilityLevel(m5,1110454356)==0)and(GetUnitLevel(IB)>5)and(T77(IB,852149,1093677876,m5)))or(((GetUnitLifePercent(m5)<80.)or(T9F))and(GetHeroLevel(IB)>3)and(IsUnitInRange(IB,m5,300.))and(TG7(IB,852127,1093810507)))
endif
elseif(i1==1430467634)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(SH7(m5))))then
set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
set J4=((UP>200)and(UP<=(250+(300*RRF(IB))))and(T97(IB,852583,1093684565,1093681458,m5)))or(T77(IB,852231,1093679412,m5))
if((not J4)and(GetHeroLevel(IB)>7)and(GetUnitManaPercent(IB)>70.)and(T9F))then
set GZ[O5]=true
set J4=J8(O5,IssueTargetOrderById(IB,852488,m5))
endif
endif
elseif(i1==1313026096)then
set J4=(IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>4)or(SH7(m5)))and((GetUnitLifePercent(m5)<80.)or(T9F))and(T77(IB,852095,1095267426,m5))
elseif((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517))then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
call T7F()
set J4=((GetHeroLevel(IB)>5)and((GetUnitLifePercent(m5)-GetUnitLifePercent(IB))>25.)and(T77(IB,852189,1093678929,m5)))
if((not J4)and(i1==1164277353)and(GetUnitLifePercent(m5)<50.))then
set GZ[O5]=true
set J4=J8(O5,TG7(IB,852663,1093751369))
endif
elseif((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(i1==1164277353)and(GetUnitLifePercent(m5)<20.))then
set GZ[O5]=true
set J4=J8(O5,TG7(IB,852663,1093751369))
endif
elseif(i1==1164666213)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitAbilityLevel(IB,1110454836)>0))then
set J4=(G0[128+O5])and(GetUnitLifePercent(IB)>60.)and(SS7(300.,IB,Condition(function KI))==0)and(IssueTargetOrderById(IB,851986,m5))
endif
elseif(i1==1429221430)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
call T7F()
set J4=((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(55*GetUnitAbilityLevel(IB,1093681736)))and(T77(IB,852601,1093681736,m5)))or(((GetUnitLifePercent(m5)<60.)or(GetUnitLifePercent(IB)<65.))and(TG7(IB,OrderId("roar"),1093687121)))
if((not J4)and(GetUnitAbilityLevel(IB,1110454597)>0)and(T9F))then
call IssueTargetOrderById(IB,851983,m5)
endif
endif
elseif(i1==1430466872)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(SH7(m5))))then
set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
if((UP>150)and(UP<RSF(IB))and(not ke(m5)))then
set GZ[O5]=true
call J8(O5,(T97(IB,852119,1093679413,1093679447,m5))or(T77(IB,852502,1093684558,m5))or(T77(IB,852555,1093687349,m5)))
elseif(((GetUnitLifePercent(m5)<80.)or(T9F))and(GetUnitAbilityLevel(m5,1112560453)==0)and(GetUnitAbilityLevel(m5,1110454344)==0))then
set J4=(T77(IB,852555,1093687349,m5))or((Bz>hq[O5])and(T77(IB,852502,1093684558,m5)))
endif
endif
elseif(i1==1162032439)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetHeroLevel(IB)>5)and(Bz>hq[16+O5]))then
set UP=GetUnitAbilityLevel(IB,1093677363)
if(UP==0)then
set UP=GetUnitAbilityLevel(IB,1093681462)
endif
if((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(100+(300*UP)))and(GetUnitState(m5,UNIT_STATE_LIFE)>200.)and((Bz>hq[O5])or(GetUnitAbilityLevel(m5,1111847784)>0)))then
set GZ[O5]=true
call SetPlayerAbilityAvailable(GetOwningPlayer(IB),1093681462,true)
call J8(O5,(TG7(IB,852594,1093677363))or(T77(IB,OrderId("volcano"),1093744435,m5)))
else
call T77(IB,OrderId("volcano"),1093744435,m5)
endif
endif
elseif(i1==1430466865)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(SH7(m5))))then
set J4=((GetUnitAbilityLevel(IB,1110454357)==0)and(GetUnitLifePercent(IB)>45.)and(T77(IB,852066,1093677879,IB)))or((GetUnitLifePercent(m5)<60.)and(GetUnitLifePercent(m5)>10.)and(IsUnitInRange(IB,m5,400.))and(R2I(GetUnitState(IB,UNIT_STATE_MANA))<(140+(GetUnitAbilityLevel(IB,1093810508)*100)))and(TG7(IB,852127,1093810508)))or(T77(IB,852125,1093677651,m5))
elseif((GetHeroLevel(IB)>7)and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(iy(IB))and(GetUnitManaPercent(IB)>60.)and(GetUnitState(m5,UNIT_STATE_LIFE)<200.))then
set UP=SS7(450.,m5,Condition(function Ki))
set GZ[O5]=true
set J4=((UP>2)or((eY[O5]==10)and(UP>1)))and(T77(IB,852125,1093677651,m5))
set GZ[O5]=false
endif
elseif(i1==1430468144)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>4)or(SH7(m5))))then
if(GetUnitAbilityLevel(m5,1113813609)==0)then
call T77(IB,852189,1093679192,m5)
elseif(IsUnitInRange(IB,m5,860.)and(UQ7(GetHandleId(IB),"Level")>GetUnitAbilityLevel(IB,1093750337))and(GetUnitManaPercent(IB)>35.)and(GetHeroLevel(IB)>3))then
call IssueTargetOrderById(IB,852248,m5)
elseif(GetUnitLifePercent(IB)>75.)then
call IssueTargetOrderById(IB,851983,m5)
endif
endif
elseif((i1==1429221432)or(i1==1160786229))then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(SH7(m5))))then
call T7F()
set J4=((i1==1429221432)and((GetUnitLifePercent(m5)<60.)or(SH7(IB)))and(TG7(IB,852180,1093679411)))or(((i1==1160786229)or(R2I(GetUnitState(IB,UNIT_STATE_MANA))>(250+(25*(GetUnitAbilityLevel(IB,1093679411))))))and((TG7(IB,852126,1093677892))or(TG7(IB,OrderId("channel"),1093687878))))
endif
elseif(i1==1429221441)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(SH7(m5))))then
call T7F()
set J4=((GetUnitLifePercent(m5)<65.)and((Bz>hq[O5])or(GetUnitCurrentOrder(m5)==851973))and(TG7(IB,852123,1093677903)))or(T77(IB,852231,1093678389,m5))
endif
elseif(i1==1165451634)then
set J4=(IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(SH7(m5)))and((T9F)or(GetUnitLifePercent(m5)<70.))and(T77(IB,OrderId("acidbomb"),1093687629,m5))
elseif(i1==1432642913)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=(GetHeroLevel(IB)>3)and((GetUnitLifePercent(IB)>70.)or(GetUnitLifePercent(IB)>GetUnitLifePercent(m5)))and(IssueTargetOrderById(IB,852662,m5))
elseif((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetHeroLevel(IB)>2))then
call IssueTargetOrderById(IB,852119,IB)
endif
elseif(i1==1215722344)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((GetUnitLifePercent(IB)>70.)and(QV7(GetUnitTypeId(m5),F87))and(GetUnitLifePercent(m5)<50.)and(T77(IB,852668,1093682499,m5)))or((GetUnitLifePercent(m5)<60.)and(GetUnitLifePercent(IB)>60.)and(T77(IB,852668,1093682499,IB)))
endif
elseif(i1==1332766568)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(SH7(m5))))then
set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
if(((UP<(150+(150*GetUnitAbilityLevel(IB,1093682482))))or(UP<(150+(150*GetUnitAbilityLevel(IB,1093750098)))))and(UP>150))then
set J4=(T97(IB,852119,1093682482,1093750098,m5))or((IsUnitInRange(IB,m5,275.))and(IssueImmediateOrderById(IB,852600)))
elseif(R2I(GetUnitState(IB,UNIT_STATE_MANA))>(195+(40*GetUnitAbilityLevel(IB,1093682482)))or R2I(GetUnitState(IB,UNIT_STATE_MANA))>(195+(40*GetUnitAbilityLevel(IB,1093750098))))then
set J4=((SS7(400.,m5,Condition(function KJ))>0)and(IssueTargetOrderById(IB,852248,m5)))or(((QV7(GetUnitTypeId(m5),F87))or(GetUnitLifePercent(m5)<50.))and(IsUnitInRange(IB,m5,275.))and(IssueImmediateOrderById(IB,852600)))
elseif(SU7(IB,ZU[T2]))and(SU7(IB,ZU[AL]))then
set TA4=true
set J4=(GetUnitLifePercent(m5)<70.)and(h4[O5]!=null)and(IsUnitType(IB,UNIT_TYPE_HERO))and((IsUnitInRange(IB,m5,200.))or(i1==1315074670)or(i1==1160785972)or(i1==1211117654)or(i1==1433631084)or(i1==1164799855))and(UnitUseItem(m5,SY7(m5,ZU[AL])))and(UnitUseItem(m5,SY7(m5,ZU[T2])))
set TA4=false
endif
endif
elseif(i1==1315334514)then
if(GetHeroLevel(IB)>2)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=(IsUnitInRange(IB,m5,350.))and(GetUnitLifePercent(m5)>15.)and((GetUnitAbilityLevel(IB,1093682001))>(GetUnitAbilityLevel(IB,1093681746)*3))and(TG7(IB,852273,1093810506))
elseif((GetHeroLevel(IB)>9)and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetUnitManaPercent(IB)>65.)and(GetUnitLifePercent(m5)<50.))then
set J4=SS7(200.,m5,Condition(function Ki))<2
else
set J4=true
endif
if(not J4)then
set UP=R2I(RI7(GetUnitX(IB),GetUnitY(IB),GetUnitX(m5),GetUnitY(m5)))
if((UP>=75)and(UP<=325))then
set J4=(RZF(IB,200.,Condition(function Ki)))and(TG7(IB,852164,1093682521))
elseif((UP>=325)and(UP<=575))then
set J4=(RZF(IB,450.,Condition(function Ki)))and(TG7(IB,852588,1093682760))
elseif((UP>=575)and(UP<=825))then
set J4=(RZF(IB,700.,Condition(function Ki)))and(TG7(IB,852599,1093682736))
endif
endif
endif
elseif(i1==1328558154)then
set J4=(IsUnitType(m5,UNIT_TYPE_HERO))and(GetHeroLevel(IB)>5)and(GetUnitLifePercent(m5)<55.)and(GetUnitState(m5,UNIT_STATE_LIFE)>250.)and(not ke(m5))and(not IsUnitInRange(IB,m5,250.))and(((SS7(900.,m5,Condition(function Ki))<=2)and(SU7(IB,ZU[J1]))or(SU7(IB,ZU[T2])))or((SS7(900.,m5,Condition(function Ki))<2)))and(IssueTargetOrderById(IB,852600,m5))
elseif(i1==1429221446)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((GetUnitAbilityLevel(IB,1110454868)==0)and(GetUnitLifePercent(IB)>55.)and((GetHeroLevel(IB)>6)or(SH7(m5)))and(GetUnitState(IB,UNIT_STATE_LIFE)>GetUnitState(m5,UNIT_STATE_LIFE))and(TG7(IB,852177,1093678667)))or(((GetUnitLifePercent(m5)<60.)or(T9F))and(GetUnitState(m5,UNIT_STATE_LIFE)>250.)and(G0[128+O5])and(T97(IB,852480,1093682764,1093747544,m5)))
endif
elseif(i1==1429221445)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set UP=GetUnitAbilityLevel(IB,1093679184)+1
if(UP<=1)then
set UP=GetUnitAbilityLevel(IB,1093678647)
endif
set J4=((UP>0)and(not ke(m5))and(GetUnitState(m5,UNIT_STATE_LIFE)>200.)and(GetUnitState(m5,UNIT_STATE_LIFE)<((0.20+(I2R(UP)*0.20))*(GetUnitState(m5,UNIT_STATE_MAX_LIFE)-GetUnitState(m5,UNIT_STATE_LIFE))))and(T97(IB,852095,1093678647,1093679184,m5)))or((GetHeroLevel(IB)>2)and(IsUnitInRange(IB,m5,400.))and(TG7(IB,852526,1093678422)))
elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetHeroLevel(IB)>8)and(GetUnitManaPercent(IB)>60.)and(G0[128+O5]))then
set UP=SS7(400.,m5,Condition(function Ki))
if((UP>2)or((eY[O5]==10)and(UP>1)))then
if(not IsUnitInRange(IB,m5,400.))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(IB)-GetUnitY(m5),GetUnitX(IB)-GetUnitX(m5)))
set hq[240+O5]=Bz+3.
call IssuePointOrderById(IB,851986,GetUnitX(m5)+200.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+200.*Sin(UP*bj_DEGTORAD))
else
set J4=TG7(IB,852526,1093678422)
endif
endif
endif
elseif(i1==1332963428)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>3)or(SH7(m5))))then
set J4=((SH7(m5))and(GetUnitState(IB,UNIT_STATE_MANA)>hq[272+O5])and(T77(IB,852480,1093677649,m5)))or((GetUnitLifePercent(IB)<90.)and(T77(IB,852119,1093683019,m5)))
endif
elseif(i1==1332109682)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>3)or(SH7(m5))))then
set J4=((GetUnitLifePercent(m5)<50.)and(TG7(IB,852588,1093810505)))or((GetUnitManaPercent(IB)>30.)and(T77(IB,852662,1093678134,m5)))
endif
elseif(i1==1211117640)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((GetHeroLevel(IB)>4)and(GetUnitAbilityLevel(m5,1110454606)==0)and(GetUnitState(IB,UNIT_STATE_MANA)>250.)and(Bz>hq[O5])and(T77(IB,852486,1093681989,m5)))or((GetHeroLevel(IB)>2)and(T9F)and(IssueTargetOrderById(IB,852089,m5)))
elseif((GetHeroLevel(IB)>9)and(GetUnitManaPercent(IB)>50.))then
set J4=(SS7(400.,m5,Condition(function Ki))>2)and(SS7(300.,m5,Condition(function Kj))>0)and(IssueTargetOrderById(IB,852089,m5))
endif
elseif(i1==1429221456)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set UP=GetHeroInt(IB,true)-GetHeroInt(m5,true)
set J4=((GetHeroLevel(IB)>5)and(UP>9)and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(10*UP))and(T97(IB,852089,1093685067,1093752407,m5)))or((i2(m5))and(T77(IB,852119,1093685066,m5)))
if((not J4)and(GetUnitManaPercent(IB)>70.)and(GetUnitLifePercent(m5)>60.)and(GetUnitManaPercent(m5)>40.))then
set GZ[O5]=true
set J4=J8(O5,(SS7(700.,m5,Condition(function Kk))==0)and(T77(IB,852119,1093685066,m5)))
endif
endif
elseif(i1==1160786243)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=(GetHeroLevel(IB)>2)and((GetUnitManaPercent(IB)>50.)and(GetUnitLifePercent(m5)<65.))and(IssueTargetOrderById(IB,852248,m5))
if((not J4)and(GetUnitAbilityLevel(IB,1093683765)>2))then
set J4=(SS7(500.,m5,Condition(function Ki))>3)and((GetUnitManaPercent(IB)>60.)or(GetUnitLifePercent(m5)<65.)or(SS7(500.,m5,Condition(function KJ))>0))and(IssueTargetOrderById(IB,852095,m5))
endif
if((not J4)and(GetUnitLifePercent(m5)<75.)and(GetHeroLevel(IB)>5)and(Bz>hq[O5]))then
set GZ[O5]=true
set J4=J8(O5,T77(IB,852224,1395667000,m5))
endif
elseif(IsUnitType(m5,UNIT_TYPE_STRUCTURE))then
if((GetHeroLevel(IB)>10)and(GetUnitLifePercent(m5)<40.))then
set GZ[O5]=true
set J4=J8(O5,T77(IB,852224,1395667000,m5))
endif
elseif((not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetUnitAbilityLevel(IB,1093683765)>2)and(GetUnitManaPercent(IB)>60.))then
set J4=(SS7(400.,m5,Condition(function Ki))>3)and(IssueTargetOrderById(IB,852095,m5))
endif
elseif(i1==1430468406)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=(GetHeroLevel(m5)>5)and((GetUnitLifePercent(m5)<60.)or(GetUnitLifePercent(IB)<70.))and(T77(IB,852592,kS(IB),m5))
if((not J4)and((GetHeroLevel(IB)>5)or(SH7(m5))))then
set J4=((GetUnitLifePercent(m5)>10.)and(GetUnitLifePercent(m5)<50.)and(IssueImmediateOrderById(IB,852556)))or(T77(IB,852218,kT(IB),m5))
endif
elseif((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetUnitLifePercent(m5)<25.)and(GetUnitLifePercent(m5)>10.))then
set J4=(SS7(500.,m5,Condition(function Kj))>2)and(IssueImmediateOrderById(IB,852556))
endif
elseif(i1==1160786242)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(SH7(m5))))then
set J4=((GetUnitLifePercent(m5)<60.)and(IssueTargetOrderById(IB,852662,m5)))or((GetUnitLifePercent(m5)<45.)and(IssueImmediateOrderById(IB,852490)))
endif
elseif((i1==1211117641)or(i1==1211117642))then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
if((SH7(m5))and(GetUnitAbilityLevel(m5,1110456120)==0))then
call R0F(IB,m5)
endif
elseif((i1==1211117641)and(GetHeroLevel(IB)>11)and(GetUnitManaPercent(IB)>70.))then
set J4=(SS7(400.,IB,Condition(function Ki))>3)and(IssueTargetOrderById(IB,852553,IB))
endif
elseif(i1==1311781207)then
set J4=(IsUnitType(m5,UNIT_TYPE_HERO))and(T9F)and((GetHeroLevel(IB)>4)or(SH7(m5)))and(IssuePointOrder(IB,"blizzard",GetUnitX(m5),GetUnitY(m5)))
elseif((i1==1211117650)or(i1==1211119433))then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
call T7F()
endif
elseif(i1==1211117646)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=IssueTargetOrderById(IB,852095,IB)
elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(IsUnitType(m5,UNIT_TYPE_MELEE_ATTACKER))and(GetHeroLevel(IB)>5)and(GetUnitManaPercent(IB)>50.))then
set J4=(SS7(250.,IB,Condition(function Ki))>2)and(IssueTargetOrderById(IB,852095,IB))
endif
elseif(i1==1211117624)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((GetHeroLevel(IB)>3)or(SH7(m5)))and((TG7(IB,852526,1093683024))or(IssueTargetOrderById(IB,852600,m5)))
if((not J4)and(GetUnitAbilityLevel(IB,1110455373)>0)and((GetUnitLifePercent(IB)>75.)or(SH7(m5))))then
call IssueTargetOrderById(IB,851983,m5)
endif
elseif((GetHeroLevel(IB)>6)and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetUnitLifePercent(m5)<75.)and(GetUnitManaPercent(IB)>75.))then
set J4=(SS7(400.,m5,Condition(function Ki))>2)and(TG7(IB,852526,1093683024))
endif
elseif(i1==1160785973)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>4)or(SH7(m5))))then
set UP=SS7(700.,IB,Condition(function Ki))
set J4=((IsUnitInRange(m5,IB,400.))and(UP<2)and(GetUnitAbilityLevel(m5,1110454580)==0)and(IssueImmediateOrderById(IB,852600)))or((GetHeroLevel(IB)>20)and(GetUnitState(IB,UNIT_STATE_MANA)>450.)and(T77(IB,852231,1093678130,m5)))
endif
elseif(i1==1315988077)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
if(((GetUnitLifePercent(m5)<75.)or(T9F))and((GetHeroLevel(IB)>4)or(SH7(m5))))then
if(((not IsUnitInRange(IB,m5,200.))or(not TG7(IB,852096,1093678669)))and(GetUnitLifePercent(m5)<50.)and(GetUnitLifePercent(m5)>15.))then
call CYE(O5,m5,false,false)
call TG7(IB,852586,1093684561)
endif
endif
elseif((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetUnitLifePercent(m5)<20.))then
set GZ[O5]=true
call TG7(IB,852586,1093684561)
endif
elseif(i1==1211117616)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitLifePercent(m5)<80.)or(T9F))and((GetHeroLevel(IB)>4)or(SH7(m5))))then
set J4=((IsUnitInRange(IB,m5,250.))and(TG7(IB,852127,1093677139)))or((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(40+(125*(GetUnitAbilityLevel(IB,1093816142)))))and(T77(IB,852231,1093816142,m5)))
endif
elseif(i1==1315074670)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>3)or(SH7(m5))))then
set J4=((GetUnitLifePercent(m5)<60.)or(GetUnitLifePercent(IB)<70.))and(GetUnitLifePercent(m5)>20.)and(IsUnitInRange(IB,m5,400.))and(T77(IB,852592,1093685570,m5))
if((not J4)and(G0[128+O5])and(GetUnitAbilityLevel(m5,1113813860)>0)and(T9F)and((GetUnitLifePercent(IB)>70.)or(SH7(m5))))then
call IssueTargetOrderById(IB,851983,m5)
endif
endif
elseif((i1==1215063922)or(i1==1211117638)or(i1==1211117637)or(i1==1211117639))then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitLifePercent(m5)<80.)or(T9F))and((GetHeroLevel(IB)>4)or(SH7(m5))))then
set J4=((GetUnitLifePercent(m5)<60.)and(TG7(IB,852180,1093677895)))or((IsUnitInRange(IB,m5,350.))and(T77(IB,852095,1093681490,m5)))
endif
elseif(i1==1164207469)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetHeroLevel(IB)>5)and(GetUnitState(m5,UNIT_STATE_LIFE)>200.)and(not ke(m5)))then
set J4=(((GetUnitManaPercent(m5)<15.)and(GetUnitLifePercent(m5)<50.))or(GetUnitState(m5,UNIT_STATE_LIFE)<((GetUnitState(m5,UNIT_STATE_MAX_MANA)-GetUnitState(m5,UNIT_STATE_MANA))*(.35+(I2R(GetUnitAbilityLevel(IB,1093682483))*.25)))))and(T77(IB,852095,1093682483,m5))
endif
elseif(i1==1433631084)then
set J4=(IsUnitType(m5,UNIT_TYPE_HERO))and(not ke(m5))and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(180+(150*GetUnitAbilityLevel(IB,1093678160))))and(T77(IB,852095,1093678160,m5))
elseif(i1==1214345830)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=(GetHeroLevel(IB)>2)and(GetUnitLifePercent(IB)<85.)and(T77(IB,852225,1093679182,IB))
elseif((GetHeroLevel(IB)>7)and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetUnitLifePercent(IB)<90.)and(GetUnitManaPercent(IB)>60.))then
set J4=(SS7(400.,IB,Condition(function Ki))>2)and(SS7(800.,IB,Condition(function Kk))==0)and(T77(IB,852225,1093679182,IB))
endif
elseif((i1==1311781174)or(i1==1311781175)or(i1==1311781442))then
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetHeroLevel(IB)>5))then
if(GetUnitAbilityLevel(IB,1110454338)==0)then
if((GetUnitLifePercent(m5)<70.)or((T9F)and(GetUnitLifePercent(IB)<70.)))then
if((IsUnitInRange(IB,m5,280.)))then
set J4=IssueImmediateOrderById(IB,852138)
call IssueTargetOrderById(IB,851983,m5)
endif
set GZ[O5]=true
call J8(O5,TG7(IB,852100,1093748042))
endif
elseif((GetUnitLifePercent(IB)>70.)and(T9F))then
if((IsUnitInRange(IB,m5,280.)))then
set J4=IssueImmediateOrderById(IB,852138)
call IssueTargetOrderById(IB,851983,m5)
else
set J4=IssueImmediateOrderById(IB,852139)
call IssueTargetOrderById(IB,851983,m5)
endif
endif
endif
elseif(i1==1315007329)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(SH7(m5))))then
set J4=((GetUnitState(m5,UNIT_STATE_LIFE)<(hq[272+O5]))and(T77(IB,852095,1093677108,m5)))or((GetUnitLifePercent(m5)<75.)and(GetUnitAbilityLevel(m5,1110454348)==0)and(GetUnitCurrentOrder(m5)!=851973)and(T77(IB,852149,1093681716,m5)))
endif
elseif(i1==1332898670)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>3)or(SH7(m5))))then
if(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(50*GetUnitAbilityLevel(IB,1093677136)))then
if(IsUnitInRange(IB,m5,400)or DA9(m5))then
set GZ[O5]=true
call J8(O5,T77(IB,852480,1093677136,m5))
endif
elseif((GetHeroLevel(IB)>10)and(GetUnitLifePercent(m5)<70.))then
call T77(IB,852502,1093685848,m5)
elseif((GetUnitManaPercent(IB)>60.)or(SH7(m5)))then
call T77(IB,852587,1093677360,m5)
endif
elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetHeroLevel(IB)>9)and(GetUnitManaPercent(IB)>60.))then
set UP=SS7(450.,m5,Condition(function Ki))
set J4=((UP>2)or((eY[O5]==10)and(UP>1)))and(T77(IB,852587,1093677360,m5))
endif
elseif(i1==1215723364)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(SH7(m5))))then
if(((GetUnitLifePercent(m5)<70.)or(T9F))and(T77(IB,852095,1093677633,m5)))then
elseif((SH7(m5))and(kA(IB,m5,400.)))then
call T97(IB,852587,1093683534,1093747031,m5)
endif
endif
elseif(i1==1215128178)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitLifePercent(m5)<70.)or(T9F))and((GetHeroLevel(IB)>3)or(SH7(m5))))then
set J4=(T77(IB,852095,1093683779,m5))or(((GetUnitManaPercent(IB)>40.)or(SH7(m5)))and(T77(IB,852119,1093677616,m5)))
endif
elseif(i1==1164799855)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=(GetUnitManaPercent(IB)>50.)and((GetHeroLevel(IB)>3)or(SH7(m5)))and(GetUnitLifePercent(m5)<80.)and(T77(IB,852075,1093682264,m5))
elseif((GetOwningPlayer(m5)!=Z7[0])and(GetOwningPlayer(m5)!=A7[0])and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetUnitManaPercent(IB)>60.)and(Bz>hq[O5]))then
set UP=GetUnitTypeId(m5)
set J4=(UP!=1848652113)and(UP!=1848652114)and(UP!=1752654196)and(UP!=1752658994)and(UP!=1752658995)and(UP!=1747988534)and(UP!=1966092339)and(UP!=1966092341)and(UP!=1966092345)and(UP!=1969711215)and(UP!=1966092337)and(UP!=1970169187)and(UP!=1966092338)and(UP!=1702061422)and(UP!=1697656918)and(UP!=1701081721)and(UP!=1697656919)and(GetUnitLifePercent(m5)>60.)and(T77(IB,852075,1093682264,m5))
endif
elseif(i1==1433105516)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
call T7F()
if((GetHeroLevel(IB)>5)or(SH7(m5)))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h8[O5])-GetUnitY(IB),GetUnitX(h8[O5])-GetUnitX(IB)))
set J4=(IssuePointOrderById(IB,852600,GetUnitX(m5)+80.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+80.*Sin(UP*bj_DEGTORAD)))or((SH7(m5))and(GetUnitState(m5,UNIT_STATE_LIFE)>200.)and(GetUnitState(m5,UNIT_STATE_LIFE)<800.)and(not kr(IB))and(IssuePointOrderById(IB,OrderId("cannibalize"),GetUnitX(m5)+80.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+80.*Sin(UP*bj_DEGTORAD))))or(IssueTargetOrderById(IB,852662,m5))
endif
elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetHeroLevel(IB)>9)and(iy(IB))and(GetUnitManaPercent(IB)>60.)and(((h4[128+O5]!=null)and(IsUnitInRange(IB,h4[128+O5],1200.)))or(eY[O5]==10)))then
set UP=SS7(450.,m5,Condition(function Ki))
set J4=((UP>2)or((eY[O5]==10)and(UP>1)))and(IssuePointOrderById(IB,852600,GetUnitX(m5),GetUnitY(m5)))
endif
elseif((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))then
if((not IsUnitType(m5,UNIT_TYPE_HERO))and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetHeroLevel(IB)>4)and(Bz>hq[O5])and(GetUnitManaPercent(IB)>30.))then
set b5=HC[16+O5]
call MoveLocation(b5,GetUnitX(IB),GetUnitY(IB))
if((SS7(600.,m5,Condition(function Ki))>2)and(not IsUnitInRange(IB,m5,150.))and((SR7(600.,b5,Condition(function KI))==0)or(SR7(500.,b5,Condition(function KJ))>0)or(SR7(500.,b5,Condition(function Kk))>0)))then
set UP=IMaxBJ(R2I(RI7(GetUnitX(m5),GetUnitY(m5),GetUnitX(IB),GetUnitY(IB)))-(435+(120*GetUnitAbilityLevel(IB,1093679157))),0)
set i1=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(IB),GetUnitX(m5)-GetUnitX(IB)))
if((RAbsBJ(GetUnitFacing(IB)-I2R(i1))<25.)or(RAbsBJ(GetUnitFacing(IB)-360.-I2R(i1))<25.))then
call IssuePointOrderById(IB,852600,GetUnitX(IB)+I2R(150+UP)*Cos(i1*bj_DEGTORAD),GetUnitY(IB)+I2R(150+UP)*Sin(i1*bj_DEGTORAD))
endif
endif
endif
elseif(i1==1316252014)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((GetHeroLevel(IB)>4)or(SH7(m5)))and((T77(IB,852585,1093678137,m5))or(IssuePointOrderById(IB,852190,GetUnitX(IB)+70.*Cos((GetUnitFacing(IB)-180.)*bj_DEGTORAD),GetUnitY(IB)+70.*Sin((GetUnitFacing(IB)-180.)*bj_DEGTORAD))))
elseif((GetHeroLevel(IB)>10)and(GetUnitManaPercent(IB)>40.))then
set UP=SS7(400.,m5,Condition(function Ki))
set J4=((UP>2)or((eY[O5]==10)and(UP>1)))and(IssuePointOrderById(IB,852190,GetUnitX(IB)+70.*Cos((GetUnitFacing(IB)-180.)*bj_DEGTORAD),GetUnitY(IB)+70.*Sin((GetUnitFacing(IB)-180.)*bj_DEGTORAD)))
endif
elseif(i1==1164799603)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>3)or(SH7(m5))))then
call T7F()
set J4=((GetUnitLifePercent(m5)<70.)and(T97(IB,852119,1093752632,1093752633,m5)))or((not IsUnitInRange(IB,m5,200.))and(IsUnitInRange(IB,m5,600))and(T77(IB,OrderId("carrionswarm"),1093808453,m5)))
endif
elseif(i1==1328558160)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
if(GetUnitAbilityLevel(IB,1093683011)>0)then
call T7F()
endif
set J4=((GetHeroLevel(IB)>5)or(GetUnitLifePercent(m5)<60.))and(IssueTargetOrderById(IB,852662,m5))
if((not J4)and(G0[128+O5])and((GetHeroLevel(IB)>3)or(SH7(m5)))and(T9F)and(not IsUnitInRange(IB,m5,350.))and(SS7(600.,m5,Condition(function KI))<3)and(not IC(O5)))then
set b5=kL(IB,m5,200.)
if(b5!=null)then
if((GetUnitState(m5,UNIT_STATE_LIFE)<400.)and(GetUnitLifePercent(m5)<40.))then
call SetPlayerAbilityAvailable(GetOwningPlayer(IB),1093682766,true)
set GZ[O5]=true
set J4=J8(O5,IssuePointOrderByIdLoc(IB,852218,b5))
endif
endif
endif
elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetHeroLevel(IB)>10)and(GetUnitManaPercent(IB)>70.)and(not IsUnitInRange(IB,m5,350.)))then
if((SS7(400.,m5,Condition(function Ki))>2)and(SS7(500.,m5,Condition(function KI))==0)and(kJ(GetUnitX(m5),GetUnitY(m5))))then
call SetPlayerAbilityAvailable(GetOwningPlayer(IB),1093682766,true)
set GZ[O5]=true
set J4=J8(O5,IssuePointOrderById(IB,852218,GetUnitX(m5),GetUnitY(m5)))
endif
endif
elseif(i1==1212363833)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
call T7F()
set UP=R2I(hq[16+O5]-Bz)
set J4=((GetHeroLevel(IB)>4)or(SH7(m5)))and((GetUnitLifePercent(m5)<80.)or(T9F))and((((UP<=0)or(UP>50))and(T77(IB,852095,1093809220,m5)))or((Bz>hq[O5])and(TG7(IB,852123,1093678643))))
endif
elseif(i1==1315070563)then
if((not GZ[O5])and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE)))then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((not ke(m5))and(GetUnitState(m5,UNIT_STATE_LIFE)<1200.)and(GetUnitState(m5,UNIT_STATE_LIFE)>200.)and((SS7(900.,m5,Condition(function KI))*2)>=SS7(900.,m5,Condition(function Ki)))and(GetUnitAbilityLevel(m5,1113815395)==0)and(GetUnitAbilityLevel(m5,1113815346)==0)and(T97(IB,852095,1093684529,1093747032,m5)))or(((GetHeroLevel(IB)>4)or(SH7(m5)))and(not UX7(IB,"Omnislashing"))and(TG7(IB,852128,1093678407)))
elseif((GetHeroLevel(IB)>5)and(Bz>hq[O5])and((GetUnitState(IB,UNIT_STATE_MANA)>235.+(75*GetUnitAbilityLevel(IB,1093684529)))or(GetUnitState(IB,UNIT_STATE_MANA)>235.+(75*GetUnitAbilityLevel(IB,1093747032))))and(SS7(400.,m5,Condition(function KI))>0))then
set J4=(not UX7(IB,"Omnislashing"))and(TG7(IB,852128,1093678407))
endif
endif
elseif(i1==1212365106)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>4)or(SH7(m5))))then
set J4=(T77(IB,852089,1093685831,m5))
if((not J4)and(RAbsBJ((GetUnitFacing(m5)-GetUnitFacing(IB)))<=105.)and(GetUnitLifePercent(IB)>(GetUnitLifePercent(m5)+10.)))then
call IssueTargetOrderById(IB,851983,m5)
endif
endif
elseif(i1==1211117617)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>4)or(SH7(m5))))then
set J4=((GetUnitLifePercent(m5)<80.)or(T9F))and((((Bz>hq[O5])or(GetUnitCurrentOrder(m5)==851973))and(TG7(IB,OrderId("chemicalrage"),1093752648)))or(T77(IB,OrderId("acidbomb"),1093744944,m5))or(TG7(IB,852526,1093814611)))
if((not J4)and(GetUnitAbilityLevel(IB,1110454329)>0)and((not SH7(IB))or(SH7(m5))))then
call IssueTargetOrderById(IB,851983,m5)
endif
endif
elseif(i1==1211117633)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>4)or(SH7(m5))))then
call T7F()
set J4=(T77(IB,852585,1093684045,m5))or(((GetUnitAbilityLevel(IB,1110455624)>0)or(GetUnitLifePercent(m5)<60.))and(T77(IB,852095,1093684310,m5)))
endif
elseif(i1==1211117620)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
if((SH7(m5))or((GetHeroLevel(IB)>3)and((T9F)or(GetUnitLifePercent(m5)<70.))))then
set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
set J4=((UP>150)and(UP<RTF(IB))and(not ke(m5))and(T97(IB,852119,1093677392,1093679450,m5)))or(T77(IB,852125,1093677382,m5))
endif
elseif(eY[O5]==10)then
set J4=(GetUnitManaPercent(IB)>60.)and(T77(IB,852125,1093677382,m5))
endif
elseif(i1==1432580716)or(i1==1429221720)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=(T9F)and((GetHeroLevel(IB)>3)or(SH7(m5)))and(((Bz>hq[O5])and(T77(IB,852089,1093684300,m5)))or(IssueTargetOrderById(IB,852600,m5)))
elseif(GetHeroLevel(IB)>5)then
if(IsUnitType(m5,UNIT_TYPE_STRUCTURE))then
set J4=(GetUnitLifePercent(m5)<30.)and((SS7(275.,m5,Condition(function Ki))>0)or(SS7(275.,m5,Condition(function Kj))>0))and(IssueTargetOrderById(IB,852600,m5))
else
set J4=(GetUnitManaPercent(IB)>60.)and(SS7(400.,m5,Condition(function Ki))>2)and(IssueTargetOrderById(IB,852600,m5))
endif
endif
elseif(i1==1333027688)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=(T9F)and((GetHeroLevel(IB)>3)or(SH7(m5)))and(((IsUnitInRange(IB,m5,250.))and(TG7(IB,852164,1093682252)))or(T77(IB,OrderId("channel"),1093686091,m5))or((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<S2F(IB))and(GetUnitState(m5,UNIT_STATE_LIFE)>180.)and((TG7(IB,852526,1093682248))or(TG7(IB,852526,1093750594)))))
elseif((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetHeroLevel(IB)>10))then
set J4=((GetUnitLifePercent(m5)<40.)or(SS7(300.,IB,Condition(function Ki))>2))and(TG7(IB,852164,1093682252))
endif
elseif(i1==1311781185)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>3)or(SH7(m5))))then
set J4=(((GetUnitAbilityLevel(m5,1112437609)>0)or(GetUnitManaPercent(m5)<30.)or(GetUnitAbilityLevel(m5,1110454607)>0))and(IssueTargetOrderById(IB,852662,m5)))or((T9F)and(GetUnitAbilityLevel(m5,1112437609)==0)and((QV7(GetUnitTypeId(m5),F87))or(GetUnitLifePercent(m5)<60.)or(GetUnitLifePercent(IB)<60.))and(IssueImmediateOrderById(IB,852600)))
endif
elseif(i1==1211117643)then
if((not IsUnitType(m5,UNIT_TYPE_HERO))and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetHeroLevel(IB)>10))then
set UP=SS7(300.,m5,Condition(function Ki))
set J4=((UP>1)and(GetHeroLevel(IB)>4)and(SS7(800.,m5,Condition(function KI))==0)and(GetUnitManaPercent(IB)>35.)and(T87(IB,852278,1093678410,S_7(m5))))
elseif((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetHeroLevel(IB)>10)and(GetUnitLifePercent(IB)>70.))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(IB)-GetUnitY(m5),GetUnitX(IB)-GetUnitX(m5)))
call MoveLocation(HA,GetUnitX(m5)+70.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+70.*Sin(UP*bj_DEGTORAD))
if(IsUnitAlly(IB,Z7[0]))then
set EJ7=RH7(m5,h7[100])
else
set EJ7=RH7(m5,h7[0])
endif
set J4=(GetWidgetLife(m5)<450. or EJ7>6000)and(SS7(800.,m5,Condition(function KI))==0)and(SS7(300.,m5,Condition(function Kj))>1)and(T87(IB,852278,1093678410,HA))
endif
elseif(i1==1215130471)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((GetHeroLevel(IB)>3)or(SH7(m5)))and((T77(IB,852095,WO7(IB),m5))or((GetUnitLifePercent(m5)<60)and(US7(GetHandleId(IB),"AI|Magi2Blast")and T77(IB,852600,1093815121,m5)))or(T77(IB,852662,WP7(IB),m5)))
elseif((GetUnitManaPercent(IB)>50.)and(GetHeroLevel(IB)>10))then
set J4=((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(SS7(300.,m5,Condition(function Ki))>2)and(T77(IB,852662,WP7(IB),m5)))or((SS7(400.,m5,Condition(function Kj))>2)and(GetUnitAbilityLevel(IB,1113746543)==0)and(T77(IB,852101,WQ7(IB),IB)))
endif
elseif(i1==1215657064)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
if(GetUnitAbilityLevel(IB,1110454863)==0)then
set J4=((GetHeroLevel(IB)>5)or(SH7(m5)))and(((IsUnitInRange(IB,m5,300.))and(TG7(IB,852096,1093677913)))or(TG7(IB,852100,1093684291))or(TG7(IB,852600,1093750841)))
elseif(GetUnitLifePercent(IB)>50.)then
set J4=IssueTargetOrderById(IB,851983,m5)
endif
elseif(IsUnitType(m5,UNIT_TYPE_STRUCTURE))then
set J4=(GetUnitAbilityLevel(IB,1110454863)==0)and(GetUnitLifePercent(m5)<70.)and(TG7(IB,852600,1093750841))
endif
elseif(i1==1332179560)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(SH7(m5))))then
call T7F()
set J4=(GetUnitLifePercent(m5)<35.)and(T77(IB,OrderId("acidbomb"),1093742660,m5))
endif
elseif(i1==1214344551)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((GetUnitLifePercent(m5)<70.)and(GetUnitAbilityLevel(m5,1110459185)==0)and(IssueImmediateOrderById(IB,852600)))or((GetUnitAbilityLevel(m5,1110459185)>0)and(IssueTargetOrderById(IB,851983,m5)))
endif
elseif((i1==1311781199)or(i1==1311781171)or(i1==1311781172)or(i1==1311781173))then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
call T7F()
set hq[240+O5]=Bz+4.
set J4=(IssueTargetOrderById(IB,852101,IB))or(IssueImmediateOrderById(IB,852599))
elseif(IsUnitType(m5,UNIT_TYPE_STRUCTURE))then
set J4=(IssueTargetOrderById(IB,852101,IB))or(IssueImmediateOrderById(IB,852599))
endif
elseif(i1==1211117636)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
call T7F()
set J4=(GetUnitLifePercent(m5)<55.)and(GetUnitState(m5,UNIT_STATE_LIFE)>200.)and(T97(IB,852095,1093685042,1093810233,m5))
elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetHeroLevel(IB)>8)and(GetUnitManaPercent(IB)>45.)and(GetUnitLifePercent(m5)<75.))then
if(SS7(550.,m5,Condition(function Ki))>2)then
call SetPlayerAbilityAvailable(GetOwningPlayer(IB),1093685041,true)
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(IB),GetUnitX(m5)-GetUnitX(IB)))
set GZ[O5]=true
set J4=IssuePointOrderById(IB,852218,GetUnitX(IB)+1000.*Cos(UP*bj_DEGTORAD),GetUnitY(IB)+1000.*Sin(UP*bj_DEGTORAD))
set GZ[O5]=false
endif
endif
elseif(i1==1160786000)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((GetHeroLevel(IB)>3)or(SH7(m5)))and((T77(IB,852218,1093685047,m5))or((GetUnitLifePercent(m5)<60.)and(T87(IB,852580,1093685046,C57(IB,m5,2000.,0.65,1100.)))))
elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetHeroLevel(IB)>9)and(GetUnitManaPercent(IB)>60.)and(GetUnitLifePercent(m5)<75.))then
set J4=(SS7(400.,m5,Condition(function Ki))>2)and(T77(IB,852218,1093685047,m5))
endif
elseif((i1==1311781193)or(i1==1311781192)or(i1==1311781204)or(i1==1311781194))then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=(((GetHeroLevel(IB)>3)or(SH7(m5)))and(T77(IB,852089,1093683532,m5)))or(((GetUnitLifePercent(m5)<75.)or(GetUnitLifePercent(IB)<65.))and(i1==1311781193)and(TG7(IB,852663,1095656306)))
if((not J4)and(i1!=1311781193)and(GetUnitLifePercent(IB)>75.))then
call IssueTargetOrderById(IB,851983,m5)
endif
elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL)))then
if((Bz>hq[O5])and(GetHeroLevel(IB)>6)and(GetUnitManaPercent(IB)>50.))then
set UP=SS7(500.,m5,Condition(function Ki))
set J4=((UP>3)or((eY[O5]==10)and(UP>1)))and(T77(IB,852089,1093683532,m5))
endif
elseif((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(i1==1311781193)and(GetUnitManaPercent(IB)>50.)and(GetHeroLevel(IB)>10))then
set J4=(SS7(400.,m5,Condition(function Kj))>2)and(TG7(IB,852663,1095656306))
endif
elseif(i1==1311781206)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((GetHeroLevel(IB)>2)or(SH7(m5)))and(((IsUnitInRange(IB,m5,550.))and((GetUnitManaPercent(IB)>50.)or(GetUnitLifePercent(m5)<60.))and(IssueImmediateOrderById(IB,852600)))or(((GetUnitLifePercent(m5)<75.)or(T9F))and(CSE(IB,m5))))
elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetHeroLevel(IB)>6)and(GetUnitManaPercent(IB)>60.))then
set UP=SS7(500.,IB,Condition(function Ki))
set J4=((UP>2)or((eY[O5]==10)and(UP>1)))and(IssueImmediateOrderById(IB,852600))
endif
elseif(i1==1211117651)then
if(((GetHeroLevel(IB)>11)and(GetUnitState(IB,UNIT_STATE_MANA)>600.))or(IsUnitType(m5,UNIT_TYPE_HERO))or((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetUnitManaPercent(IB)>30.)and(GetUnitTypeId(m5)!=1700946284)and(GetUnitTypeId(m5)!=1970107511)and(GetUnitTypeId(m5)!=1697657398)and(GetUnitTypeId(m5)!=1966092370)))then
if(GetUnitAbilityLevel(IB,1093685594)>0)then
set hq[240+O5]=Bz+5.
else
set J4=IssueImmediateOrderById(IB,852177)
endif
endif
elseif(i1==1160786265)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((T9F)and((GetUnitLifePercent(m5)<80.)or(GetUnitLifePercent(IB)<60.))and(IssueImmediateOrderById(IB,852526)))or((IsUnitInRange(IB,m5,145+(40*GetUnitAbilityLevel(IB,1093685839))))and(TG7(IB,852129,1093685846)))
endif
elseif(i1==1311780930)then
if((GetHeroLevel(IB)>10)and(not IsUnitType(m5,UNIT_TYPE_HERO))and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(iy(IB)))then
if(SS7(550.,m5,Condition(function Ki))>2)then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(IB),GetUnitX(m5)-GetUnitX(IB)))
set J4=IssuePointOrderById(IB,852662,GetUnitX(IB)+200.*Cos(UP*bj_DEGTORAD),GetUnitY(IB)+200.*Sin(UP*bj_DEGTORAD))
set h4[16+O5]=null
endif
endif
elseif(i1==1311788615)then
if((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetUnitLifePercent(m5)<35.)and(GetUnitLevel(IB)>5)and(Bz>TC4[O5]))then
set J4=T97(IB,852581,1093743184,1093747766,m5)
endif
elseif(i1==1160786520)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((GetHeroLevel(IB)>3)or(SH7(m5)))and((T77(IB,852184,1093809991,m5))or((GetUnitLifePercent(m5)<60.)and(T77(IB,852214,1093809990,m5))))
elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetHeroLevel(IB)>9)and(GetUnitManaPercent(IB)>60.)and(GetUnitLifePercent(m5)<75.))then
set J4=(SS7(400.,m5,Condition(function Ki))>2)and(T77(IB,852184,1093809991,m5))
endif
endif
set GZ[32+O5]=false
set IB=null
set m5=null
set b5=null
endfunction
function TDF takes nothing returns boolean
return((GetSpellTargetUnit()!=null)and(IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO))and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetSpellTargetUnit())))and(GetPlayerController(GetOwningPlayer(GetSpellTargetUnit()))==MAP_CONTROL_COMPUTER))
endfunction
function TEF takes nothing returns boolean
return((IsUnitType(GetAttacker(),UNIT_TYPE_HERO))and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))
endfunction
function TFF takes nothing returns nothing
local unit it
local unit MUF
local integer i1
local integer O5
local boolean TGF
local boolean J4
local real kl
if(GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED)then
set it=GetTriggerUnit()
set MUF=GetAttacker()
elseif(GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT)then
set it=GetSpellTargetUnit()
set MUF=GetTriggerUnit()
else
set it=GetEnumUnit()
set MUF=GetTriggerUnit()
endif
set O5=GetPlayerId(GetOwningPlayer(it))
if((not Jw(it))or(Bz<hq[304+O5]))then
set it=null
set MUF=null
return
endif
if G0[288+O5]then
set G0[288+O5]=false
set i1=eY[400+O5]
set G0[304+O5]=true
else
set G0[304+O5]=false
endif
if not G0[304+O5]then
set hq[496+O5]=Bz+1.5
set hq[304+O5]=Bz+1.
set hq[416+O5]=Bz+5.
if((not IsUnitVisible(MUF,GetOwningPlayer(it)))or(eY[32+GetPlayerId(GetOwningPlayer(MUF))]<=2))then
call TriggerSleepAction(.8)
else
call TriggerSleepAction(.2)
endif
if(Bz>hq[480+O5])then
call MTF(it,MUF)
endif
set TGF=(SH7(it))
if(not G0[256+O5])and(not SF7(MUF,it))then
call CVE(it,false)
set it=null
set MUF=null
return
elseif((GetHeroLevel(it)>13)and(GetUnitLifePercent(it)>75.)and(GetUnitState(MUF,UNIT_STATE_LIFE)<GetUnitState(it,UNIT_STATE_LIFE))and(h4[O5]==null))then
call CYE(O5,MUF,false,false)
endif
if((SE7(it))and(not TGF)and((GetHeroLevel(it)<6)or((WI7(it))and(GetHeroLevel(it)<10)))and(iU(it))and(h4[O5]!=MUF))then
if((GetUnitCurrentOrder(it)!=851983)or((GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED)and(not WK7(GetSpellAbilityId())))or(GetUnitLifePercent(it)<70.))then
call CVE(it,false)
set it=null
set MUF=null
return
endif
endif
set i1=GetUnitTypeId(it)
endif
if((not is(it))or(not SE7(it)))then
if(SE7(it))then
elseif((i1==1214409837))then
set J4=(GetUnitCurrentOrder(it)==852600)and(GetUnitLifePercent(it)<80.)and(T47(it,851986,h9[O5]))
elseif(i1==1160786243)then
set J4=(GetUnitCurrentOrder(it)==852089)and(GetUnitLifePercent(it)<50.)and(T47(it,851986,h9[O5]))
elseif(i1==1430466872)then
set J4=(GetUnitCurrentOrder(it)==852487)and(GetUnitLifePercent(it)<80.)and(T47(it,851986,h9[O5]))
endif
set it=null
set MUF=null
return
endif
if((TGF)and((GetUnitState(MUF,UNIT_STATE_LIFE)+200.)>GetUnitState(it,UNIT_STATE_LIFE))and(IsUnitInRange(it,MUF,500.)))then
if(not J4)and((SU7(it,ZU[Q1])))and((GetUnitLifePercent(it)<40)or(h4[O5]!=MUF))then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,MUF)
endif
if(not J4)and(SU7(it,ZU[D74]))then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,MUF)
endif
if(not J4)and(SU7(it,ZU[U3]))and(GetUnitLifePercent(MUF)<40)then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,MUF)
endif
if(not J4)and(SU7(it,ZU[R3]))and(UQ7(GetHandleId(GetOwningPlayer(MUF)),"AI|Class")<=2)and(GetUnitLifePercent(it)<40)then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,MUF)
endif
if(not J4)and(SU7(it,ZU[DP4]))then
set J4=UnitUseItem(it,bj_lastCreatedItem)
endif
if(not J4)and(SU7(it,ZU[DR4])and(Bz>TC4[240+O5])and(DY9(MUF)==false)and(B77(MUF)==false))then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,MUF)
endif
if(not J4)and(SC7(it,ZU[F5]))then
set J4=(S17(it,MUF))
endif
if(not J4)and((SU7(it,ZU[D1])or SU7(it,ZU[E1]))and(GetItemCharges(bj_lastCreatedItem)>0))and(UnitCountBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,MUF,false,false)==0)then
set J4=(UnitUseItemTarget(it,bj_lastCreatedItem,MUF))
endif
if(not J4)and(SC7(it,ZU[Y0]))and(GetUnitTypeId(it)!=1164277357)then
set J4=(UnitUseItem(it,bj_lastCreatedItem))
endif
endif
if((not J4)and(IsUnitInRange(it,MUF,500.))and((GetUnitAbilityLevel(MUF,1110454329)>0)or(GetUnitAbilityLevel(MUF,1110454597)>0)or(GetUnitAbilityLevel(MUF,1110454338)>0)or(GetUnitAbilityLevel(MUF,1110454608)>0)))then
set J4=CTE(it,MUF,false)
if(not J4)then
if(not J4)and((SU7(it,ZU[Q1])))then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,MUF)
endif
if(not J4)and(SU7(it,ZU[D74]))then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,MUF)
endif
if(not J4)and(SU7(it,ZU[U3]))then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,MUF)
endif
if(not J4)and(SU7(it,ZU[DP4]))then
set J4=UnitUseItem(it,bj_lastCreatedItem)
endif
if(not J4)and(SC7(it,ZU[F5]))then
set J4=(S17(it,MUF))
endif
if(not J4)and((SU7(it,ZU[D1])or SU7(it,ZU[E1]))and(GetItemCharges(bj_lastCreatedItem)>0))then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,MUF)
endif
endif
endif
if(not J4)and(UQ7(GetHandleId(GetOwningPlayer(MUF)),"AI|Class")<=2)and(GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED)and(h4[O5]!=null or(GetUnitLifePercent(it)<30))then
if(not J4)and(SU7(it,ZU[DA4]))then
set J4=UnitUseItem(it,bj_lastCreatedItem)
endif
if(not J4)and(SU7(it,ZU[E24]))then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,MUF)
endif
if(not J4)and(SU7(it,ZU[AL]))then
set TA4=true
set J4=UnitUseItem(it,bj_lastCreatedItem)
endif
if(not J4)and(SU7(it,ZU[R3]))and((h4[O5]==MUF)or(GetUnitLifePercent(it)<70))then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,MUF)
endif
if(i1==1429221424)and(Bz>TC4[48+O5]+4.)then
set J4=TG7(it,852526,1093815119)
endif
endif
if(J4)then
elseif((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))then
set J4=((TGF)or(GetUnitAbilityLevel(MUF,1110454329)>0)or(GetUnitAbilityLevel(MUF,1110454597)>0)or(GetUnitAbilityLevel(MUF,1110454338)>0)or(GetUnitAbilityLevel(MUF,1112433522)>0)or(GetUnitAbilityLevel(MUF,1110454608)>0))and(IsUnitInRange(it,MUF,550.))and(TG7(it,OrderId("charm"),1093747028))
elseif(i1==1162032951)then
set J4=(TGF)and(((GetUnitAbilityLevel(it,1093679152)>0)and(IsUnitInRange(it,MUF,450.)))or((GetUnitAbilityLevel(it,1093752154)>0)and(IsUnitInRange(it,MUF,780.))))and(T97(it,852527,1093679152,1093752154,MUF))
elseif(i1==1160785972)then
set J4=(TGF)and(IssueImmediateOrderById(it,852129))
elseif((i1==1162032181)or(i1==1164207469)or(i1==1429221451)or(i1==1430466609))then
set J4=(TGF)and(JMF(it))
elseif(i1==1429221424)then
set J4=(TGF)and(IsUnitInRange(it,MUF,400.))and(T77(it,852555,1093687351,MUF))
if((not J4)and(TGF)and(GetHeroLevel(it)>15)and(GetUnitLifePercent(it)<20.))then
set GZ[O5]=true
set J4=J8(O5,TG7(it,852129,1093679445))
endif
elseif(i1==1430468913)then
if(TGF)then
set J4=(IsUnitInRange(MUF,it,300.))and(TG7(it,852127,1093810507))
else
set J4=((IsUnitInRange(it,MUF,500.))and(T77(it,852149,1093677876,MUF)))or((IsUnitInRange(MUF,it,300.))and(TG7(it,852127,1093810507)))
endif
elseif(i1==1430467634)then
set J4=(TGF)and(IsUnitInRange(it,MUF,500.))and(T97(it,852583,1093684565,1093681458,MUF))
elseif(i1==1313026096)then
set J4=(TGF)and(IsUnitInRange(it,MUF,450.))and(T77(it,852095,1095267426,MUF))
elseif((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517))then
if(GetUnitLifePercent(MUF)>(GetUnitLifePercent(it)+35.))then
set J4=(IsUnitInRange(it,MUF,350.))and(T77(it,852189,1093678929,MUF))
endif
elseif(i1==1164666213)then
set J4=((IsUnitInRange(MUF,it,300.))and(IssueImmediateOrderById(it,852177)))or((IsUnitInRange(MUF,it,500.))and(TG7(it,852594,1093677877)))
elseif(i1==1433168227)then
set J4=((TGF)and(IsUnitInRange(it,MUF,500.))and(T77(it,852226,1093678918,MUF)))or((GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED)and(T77(it,852225,1093679186,MUF)))
elseif(i1==1430466872)then
set J4=(TGF)and(((IsUnitInRange(it,MUF,450.))and(T77(it,852502,1093684558,MUF)))or((IsUnitInRange(it,MUF,350.))and(T77(it,852555,1093687349,MUF))))
elseif(i1==1162032439)then
set J4=(IsUnitInRange(it,MUF,350.))and(T77(it,OrderId("volcano"),1093744435,MUF))
elseif(i1==1430468144)then
set J4=(TGF)and((IsUnitInRange(it,MUF,500.))and(T77(it,852189,1093679192,MUF)))or((IsUnitInRange(it,MUF,860.))and(UQ7(GetHandleId(it),"Level")>GetUnitAbilityLevel(it,1093750337))and(GetUnitManaPercent(it)>35.)and(GetHeroLevel(it)>3)and(IssueTargetOrderById(it,852248,MUF)))
elseif((i1==1429221432)or(i1==1160786229))then
set J4=(TGF)and(IsUnitInRange(it,MUF,1000.))and(TG7(it,852180,1093679411))
elseif(i1==1429221441)then
set J4=(TGF)and(IsUnitInRange(it,MUF,450.))and(T77(it,852231,1093678389,MUF))
elseif(i1==1165451634)then
set J4=(TGF)and(((IsUnitInRange(it,MUF,350.))and(T77(it,OrderId("acidbomb"),1093687629,MUF)))or(JMF(it)))
elseif(i1==1432642913)then
set J4=((GetHeroLevel(it)>5)or(GetUnitLifePercent(it)<60.))and(IssueTargetOrderById(it,852119,it))
elseif(i1==1215722344)then
set J4=(TGF)and(IsUnitInRange(it,MUF,500.))and(GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED)and(QV7(GetUnitTypeId(MUF),F87))and(T77(it,852668,1093682499,MUF))
elseif(i1==1432510828)then
set J4=((RVF(it)>30.)and(TG7(it,852600,1093682004)))or((GetUnitState(it,UNIT_STATE_MANA)>350.)and(IsUnitType(MUF,UNIT_TYPE_HERO)==true)and(IssuePointOrderById(it,852662,GetUnitX(MUF),GetUnitY(MUF))))or((TGF)and(IssueImmediateOrderById(it,852129)))
if((not J4)and(not TGF)and(GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED))then
set h4[288+O5]=MUF
set J4=IssueImmediateOrderById(it,852129)
endif
elseif(i1==1429221446)then
set J4=(not TGF)and(CRE(it,MUF))
elseif(i1==1332963428)then
set J4=(IsUnitInRange(it,MUF,450.))and(((TGF)and(T77(it,852227,1093678169,MUF)))or((GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED)and(kq(GetUnitTypeId(MUF)))and(T77(it,852095,1093816137,MUF)))or((GetUnitLifePercent(it)<90.)and(T77(it,852119,1093683019,MUF))))
elseif(i1==1332109682)then
set J4=(TGF)and(IsUnitInRange(it,MUF,600.))and(TG7(it,852588,1093810505))
elseif(i1==1160786241)then
set J4=(TGF)and(IsUnitInRange(it,MUF,550.))and(T77(it,852119,1093684813,MUF))
elseif(i1==1429221456)then
set J4=(TGF)and(IsUnitInRange(it,MUF,500.))and(T77(it,852119,1093685066,MUF))
elseif(i1==1430468406)then
set J4=(TGF)and(IsUnitInRange(it,MUF,600.))and(IssueImmediateOrderById(it,852556))
elseif(i1==1160786242)then
if(TGF)then
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093683287,true)
set J4=(IsUnitInRange(it,MUF,500.))and(IssueTargetOrderById(it,852662,MUF))
endif
elseif((i1==1211117641)or(i1==1211117642))then
set J4=(TGF)and(IsUnitInRange(it,MUF,600.))and(R0F(it,MUF))
elseif(i1==1311781207)then
set J4=(((GetHeroLevel(it)>2)or(TGF))and(GetUnitLifePercent(it)<85.)and(IssueTargetOrderById(it,852229,it)))or((GetHeroLevel(it)>10)and(TGF)and(GetUnitAbilityLevel(it,1093685078)==0)and(IssueTargetOrderById(it,852536,it)))or((TGF)and(IsUnitInRange(it,MUF,500.))and(T77(it,852095,1093684817,MUF)))
elseif(i1==1311780946)then
set J4=(TGF)and(IsUnitInRange(it,MUF,550.))and(T77(it,852488,1093685825,MUF))
elseif(i1==1211117624)then
set J4=(TGF)and(IsUnitInRange(it,MUF,550.))and(IssueTargetOrderById(it,852600,MUF))
elseif(i1==1315988077)then
set J4=((TGF)and((TG7(it,852586,1093684561))or((IsUnitInRange(it,MUF,200.))and(TG7(it,852096,1093678669)))))or((not TGF)and(GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED)and(IsUnitInRange(it,MUF,500.))and(T77(it,852585,1097032808,MUF)))
elseif(i1==1211117616)then
set J4=(TGF)and(IsUnitInRange(MUF,it,220.))and(TG7(it,852127,1093677139))
elseif(i1==1315074670)then
set J4=(QV7(GetUnitTypeId(it),F87))and(GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED)and(TG7(it,852127,1093677139))
elseif(i1==1214345830)then
set J4=((GetUnitLifePercent(it)<70.)and((T77(it,852225,1093679182,it))or((GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED)and(T77(it,852186,1093679190,it)))))or((TGF)and(IssueImmediateOrderById(it,852599)))
elseif((i1==1311781174)or(i1==1311781175)or(i1==1311781442))then
set J4=(GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED)and((((IsUnitInRange(it,MUF,250.))and(IssueImmediateOrderById(it,852138))and(IssueTargetOrderById(it,851983,MUF)))or((IsUnitInRange(it,MUF,550.))and(IssueImmediateOrderById(it,852139))and(IssueTargetOrderById(it,851983,MUF)))))
elseif(i1==1315007329)then
set J4=(TGF)and((IssueImmediateOrderById(it,852129))or((IsUnitInRange(it,MUF,650.))and(IsUnitVisible(it,GetOwningPlayer(MUF)))and(T77(it,852149,1093681716,MUF))))
elseif(i1==1332898670)then
set J4=(TGF)and(IsUnitInRange(MUF,it,450.))and(T77(it,852502,1093685848,MUF))
elseif(i1==1215723364)then
set J4=(TGF)and((JMF(it))or((IsUnitInRange(MUF,it,450.))and(T77(it,852095,1093677633,MUF))))
elseif(i1==1164799855)then
set J4=((GetUnitLifePercent(it)<70.)and(TG7(it,852556,1093677378)))or((IsUnitInRange(MUF,it,600.))and(T77(it,852075,1093682264,MUF)))
elseif(i1==1433105516)then
set J4=(TGF)and(IsUnitInRange(it,MUF,500.))and(IssueTargetOrderById(it,852662,MUF))
elseif((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))then
set J4=(not TGF)and(GetUnitManaPercent(MUF)>30.)and(IsUnitInRange(it,MUF,600.))and(T77(it,OrderId("acidbomb"),1093742680,MUF))
elseif(i1==1164799603)then
set J4=(TGF)and(not IsUnitInRange(it,MUF,200.))and(IsUnitInRange(it,MUF,550.))and(T77(it,OrderId("carrionswarm"),1093808453,MUF))
elseif(i1==1328558160)then
set J4=(TGF)and((JMF(it))or((GetHeroAgi(it,true)<GetHeroStr(it,true))and(IssueTargetOrderById(it,852662,MUF))))
elseif(i1==1430466865)then
set J4=((TGF)and(JMF(it)))or(IsUnitInRange(it,MUF,350.)and(TG7(it,852127,1093810508)))
elseif(i1==1212363833)then
set J4=(TGF)and((IssueImmediateOrderById(it,852600))or((IsUnitInRange(it,MUF,550.))and(T77(it,852095,1093809220,MUF)))or(TG7(it,852123,1093678643)))
elseif(i1==1315070563)then
set J4=(TGF)and((((SU7(it,ZU[VW]))or(SU7(it,ZU[DG4])))and(not ke(MUF))and(T97(it,852095,1093684529,1093747032,MUF)))or((GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED)and(not GZ[O5])and(not UX7(it,"Omnislashing"))and(TG7(it,852128,1093678407))))
elseif(i1==1212365106)then
set J4=(TGF)and(((IsUnitInRange(it,MUF,300.))and(T77(it,852089,1093685831,MUF)))or(JMF(it)))
elseif(i1==1214931305)then
set J4=(TGF)and(IsUnitInRange(it,MUF,450.))and(T77(it,852171,1093678147,MUF))
elseif(i1==1311787088)then
elseif(i1==1211117617)then
set J4=(TGF)and(IsUnitInRange(it,MUF,450.))and((T77(it,OrderId("acidbomb"),1093744944,MUF))or(TG7(it,852526,1093814611)))
elseif(i1==1211117633)then
set J4=(TGF)and((IssueImmediateOrderById(it,852600))or((IsUnitInRange(it,MUF,550.))and(T77(it,852585,1093684045,MUF))))
elseif(i1==1432580716)or(i1==1429221720)then
set J4=(TGF)and(IsUnitInRange(it,MUF,550.))and(T77(it,852089,1093684300,MUF))
elseif(i1==1333027688)then
set J4=(TGF)and(IsUnitInRange(it,MUF,1000.))and(T77(it,OrderId("channel"),1093686091,MUF))
elseif(i1==1311781185)then
set J4=(GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED)and((not TGF)or(IsUnitInRange(it,MUF,550.)))and(IssueTargetOrderById(it,852662,MUF))
elseif(i1==1211117643)then
if((GetUnitLifePercent(it)<20.)or(GetUnitState(it,UNIT_STATE_LIFE)<150.))then
set GZ[O5]=true
set J4=J8(O5,(IsUnitInRange(it,MUF,400.))and(T77(it,852040,1093678658,MUF)))
endif
elseif(i1==1215130471)then
set J4=(TGF)and(IsUnitInRange(it,MUF,550.))and((T77(it,852095,WO7(it),MUF))or((GetUnitLifePercent(MUF)<60)and(US7(GetHandleId(it),"AI|Magi2Blast")and T77(it,852600,1093815121,MUF))))
elseif(i1==1214344551)then
if(GetUnitAbilityLevel(it,1110454833)>0)then
set GZ[272+O5]=true
endif
if(not TGF)then
set J4=(GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED)and(T77(it,852095,1093809742,it))
else
set J4=(K6(it))and(IssueTargetOrderById(it,852069,it))
endif
elseif((i1==1311781199)or(i1==1311781171)or(i1==1311781172)or(i1==1311781173))then
set h4[16+O5]=UE7(GetHandleId(GetOwningPlayer(it)),"MyBear")
if((h4[16+O5]!=null)and(GetUnitAbilityLevel(it,1093681461)>1)and(not IsUnitInRange(it,h4[16+O5],800.))and(not GZ[288+O5])and(GetUnitLifePercent(h4[16+O5])>30.))then
endif
elseif(i1==1160786000)then
set J4=(TGF)and(IsUnitInRange(it,MUF,1000.))and(T87(it,852580,1093685046,C57(it,MUF,2000.,0.65,1100.)))
elseif(i1==1311781206)then
set J4=((TGF)and(IssueImmediateOrderById(it,852493)))or((IsUnitInRange(it,MUF,400.))and(IssueImmediateOrderById(it,852600)))or(((GetUnitLifePercent(MUF)<70.)or(TGF))and(not IsUnitInRange(it,MUF,400.))and(CSE(it,MUF)))
elseif(i1==1160786520)then
set J4=(TGF)and(IsUnitInRange(it,MUF,1000.))and(T77(it,852214,1093809990,MUF))
if(not J4)and hq[816+O5]>Bz then
set G0[288+O5]=true
call TFF()
endif
set G0[304+O5]=false
endif
if not G0[304+O5]then
if((not J4)and(iU(it)))then
if((TGF)and(GetUnitLifePercent(MUF)>70.))then
call VA7(it,false)
elseif((GetHeroLevel(it)>5)and(G0[128+O5])and((GetUnitLifePercent(it)>80.)or(GetUnitState(it,UNIT_STATE_LIFE)>GetUnitState(MUF,UNIT_STATE_LIFE)))and(IsUnitInRange(it,MUF,800.))and(GetUnitCurrentOrder(it)!=851986))then
call IssueTargetOrderById(it,851983,MUF)
elseif((GetHeroLevel(it)<6)and(GetUnitLifePercent(MUF)>60.)and(((not IsUnitInRange(it,MUF,300.))and(WI7(it)))or((IsUnitInRange(it,MUF,300.))and(not WI7(it)))))then
set kl=Atan2(GetUnitY(h9[16+O5])-GetUnitY(it),GetUnitX(h9[16+O5])-GetUnitX(it))
call IssuePointOrderById(it,851986,GetUnitX(it)+300.*Cos(kl),GetUnitY(it)+300.*Sin(kl))
endif
endif
if((hq[656+O5]>Bz)and(GetUnitLifePercent(it)<65.))then
call VA7(it,false)
endif
if((J4)or(not is(it)))then
set hq[304+O5]=0.
endif
endif
set it=null
set MUF=null
endfunction
function J0F takes nothing returns nothing
local unit it=GetEnumUnit()
local integer i1=GetUnitTypeId(GetEnumUnit())
local integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))
local real kl=Atan2(GetUnitY(h9[O5])-GetUnitY(it),GetUnitX(h9[O5])-GetUnitX(it))
local real AT7
if(SU7(it,ZU[RW]))then
if(kJ(GetUnitX(it)+700.*Cos(kl),GetUnitY(it)+700.*Sin(kl)))then
call MoveLocation(HB,GetUnitX(it)+700.*Cos(kl),GetUnitY(it)+700.*Sin(kl))
else
set kl=GetRandomReal(0.,6.28)
call MoveLocation(HB,GetUnitX(it)+500.*Cos(kl),GetUnitY(it)+500.*Sin(kl))
endif
call UnitUseItemPointLoc(it,SY7(it,ZU[RW]),HB)
elseif(i1==1162032181)then
set AT7=I2R(350+(200*GetUnitAbilityLevel(it,1093684299)))
if(kJ(GetUnitX(it)+AT7*Cos(kl),GetUnitY(it)+AT7*Sin(kl)))then
call MoveLocation(HB,GetUnitX(it)+AT7*Cos(kl),GetUnitY(it)+AT7*Sin(kl))
else
set kl=GetRandomReal(0.,6.28)
call MoveLocation(HB,GetUnitX(it)+(AT7-100.)*Cos(kl),GetUnitY(it)+(AT7-100.)*Sin(kl))
endif
call IssuePointOrderByIdLoc(it,852218,HB)
elseif((i1==1430466609)or(i1==1164207469))then
if(kJ(GetUnitX(it)+800.*Cos(kl),GetUnitY(it)+800.*Sin(kl)))then
call MoveLocation(HB,GetUnitX(it)+800.*Cos(kl),GetUnitY(it)+800.*Sin(kl))
else
set kl=GetRandomReal(0.,6.28)
call MoveLocation(HB,GetUnitX(it)+550.*Cos(kl),GetUnitY(it)+550.*Sin(kl))
endif
call IssuePointOrderByIdLoc(it,852525,HB)
elseif(i1==1429221451)then
set AT7=I2R(280+(100*GetUnitAbilityLevel(it,1093678671)))
if(kJ(GetUnitX(it)+AT7*Cos(kl),GetUnitY(it)+AT7*Sin(kl)))then
call MoveLocation(HB,GetUnitX(it)+AT7*Cos(kl),GetUnitY(it)+AT7*Sin(kl))
else
set kl=GetRandomReal(0.,6.28)
call MoveLocation(HB,GetUnitX(it)+(AT7-100.)*Cos(kl),GetUnitY(it)+(AT7-100.)*Sin(kl))
endif
call IssuePointOrderByIdLoc(it,852218,HB)
elseif(i1==1328558160)then
if(kJ(GetUnitX(it)+550.*Cos(kl),GetUnitY(it)+550.*Sin(kl)))then
call MoveLocation(HB,GetUnitX(it)+550.*Cos(kl),GetUnitY(it)+550.*Sin(kl))
else
set kl=GetRandomReal(0.,6.28)
call MoveLocation(HB,GetUnitX(it)+450.*Cos(kl),GetUnitY(it)+450.*Sin(kl))
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093682766,true)
call IssuePointOrderByIdLoc(it,852218,HB)
elseif(i1==1311781206)then
set GZ[O5]=true
call J8(O5,TG7(it,852129,1093684302))
elseif(i1==1211119409)then
set GZ[O5]=true
call J8(O5,TG7(it,852600,1093749303))
elseif(i1==1211117651)then
if(kJ(GetUnitX(it)+700.*Cos(kl),GetUnitY(it)+700.*Sin(kl)))then
call MoveLocation(HB,GetUnitX(it)+700.*Cos(kl),GetUnitY(it)+700.*Sin(kl))
else
set kl=GetRandomReal(0.,6.28)
call MoveLocation(HB,GetUnitX(it)+550.*Cos(kl),GetUnitY(it)+550.*Sin(kl))
endif
call IssuePointOrderByIdLoc(it,852218,HB)
else
call JMF(it)
endif
call R97(1.)
if RH7(it,h9[O5])<400 then
call T47(it,851983,h8[O5])
else
call T47(it,851986,h9[O5])
endif
set it=null
endfunction
function THF takes nothing returns boolean
local unit it=GetEnumUnit()
local integer i1=GetUnitTypeId(GetEnumUnit())
local player pl=GetOwningPlayer(GetEnumUnit())
local location b5=HC[16+GetPlayerId(pl)]
local unit m5=null
local boolean J4=false
local integer TIF
local integer UP
local integer O5=GetPlayerId(pl)
if G0[288+O5]then
set G0[288+O5]=false
set i1=eY[400+O5]
set G0[304+O5]=true
else
set G0[304+O5]=false
endif
if(not S97(it))and(SD7(it))then
return true
endif
if((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))then
set m5=SQ7(700.,b5,Condition(function Kn))
set J4=(m5!=null)and(TG7(it,OrderId("charm"),1093747028))
elseif(i1==1160785972)then
set J4=IssueImmediateOrderById(it,852129)
if((not J4)and(GetHeroLevel(it)>6)and(GetUnitAbilityLevel(it,1110456148)==0)and(GetUnitState(it,UNIT_STATE_MANA)>350.))then
set m5=SQ7(500.,b5,Condition(function KD))
set J4=(m5!=null)and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(T77(it,852066,1093678161,m5))
endif
elseif((i1==1162032181)or(i1==1164207469)or(i1==1212365106)or(i1==1429221451)or(i1==1311781206))then
set J4=JMF(it)
elseif(i1==1429221424)then
if(not kD(it))then
set m5=SQ7(400.,b5,Condition(function Kn))
set J4=(m5!=null)and(T77(it,852555,1093687351,m5))
endif
if((GetHeroLevel(it)>10.)and(GetUnitLifePercent(it)<30.)and(SR7(700.,b5,Condition(function Kn))>0))then
set GZ[GetPlayerId(pl)]=true
set J4=J8(GetPlayerId(pl),TG7(it,852129,1093679445))
endif
elseif(i1==1432646245)then
if(not D88())then
set m5=SQ7(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(T77(it,852095,1093677640,m5))
endif
elseif(i1==1430466609)then
set J4=JMF(it)
if(not J4)then
set m5=SQ7(450.,b5,Condition(function Kn))
set J4=(m5!=null)and(T77(it,852527,1093685559,m5))
endif
elseif(i1==1160786502)then
set J4=JMF(it)
elseif(i1==1429221443)then
set UP=GetUnitAbilityLevel(it,1093686103)
if(UP==1)then
set m5=SQ7(250.,S_7(it),Condition(function YK7))
else
set m5=SQ7(250.,S_7(it),Condition(function YM7))
endif
set J4=(m5!=null)and(T47(it,851986,m5))and(T77(it,852600,1093686103,m5))
if(not J4)then
set J4=(hq[240+GetPlayerId(pl)]<=Bz)and(TG7(it,852273,1093686322))
endif
elseif(i1==1430468913)then
set J4=(SR7(300.,b5,Condition(function k6))>0)and(TG7(it,852127,1093810507))
if((not J4)and(SH7(it)))then
set GZ[GetPlayerId(pl)]=true
set J4=J8(GetPlayerId(pl),TG7(it,852100,1093678403))
endif
elseif(i1==1430467634)then
set b5=kk(it,400.,h9[GetPlayerId(pl)])
if(b5!=null)then
call SetPlayerAbilityAvailable(pl,1093750608,true)
set GZ[GetPlayerId(pl)]=true
set J4=J8(GetPlayerId(pl),IssuePointOrderByIdLoc(it,852488,b5))
endif
set b5=HC[16+GetPlayerId(pl)]
elseif(i1==1313026096)then
set m5=SQ7(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(T77(it,852095,1095267426,m5))
elseif((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517))then
set bj_lastLoadedUnit=it
set IN4=null
set IP4=null
set EJ7=GetUnitLifePercent(it)+10.
set EK7=GetUnitLifePercent(it)+10.
call SQ7(700.,b5,Condition(function XI7))
if IN4!=null then
set m5=IN4
else
set m5=IP4
endif
set J4=(m5!=null)and(T77(it,852189,1093678929,m5))
elseif(i1==1430466872)then
set m5=SQ7(400.,b5,Condition(function Kn))
set J4=(m5!=null)and((T77(it,852555,1093687349,m5))or(T77(it,852502,1093684558,m5))or(S17(it,m5)))
elseif(i1==1162032439)then
set m5=SQ7(450.,b5,Condition(function Kn))
set J4=(m5!=null)and(T77(it,OrderId("volcano"),1093744435,m5))
elseif(i1==1430468144)then
set m5=SQ7(600.,b5,Condition(function Kn))
if((m5!=null)and(SU7(it,ZU[DR4]))and(DY9(m5)==false)and(B77(m5)==false))then
set J4=UnitUseItemTarget(it,SY7(it,ZU[DR4]),m5)
endif
if(not J4)then
set J4=(m5!=null)and(T77(it,852189,1093679192,m5))or((IsUnitInRange(it,m5,860.))and(UQ7(GetHandleId(it),"Level")>GetUnitAbilityLevel(it,1093750337))and(IssueTargetOrderById(it,852248,m5)))
endif
elseif(i1==1429221441)then
if(not J4)then
set m5=SQ7(550.,b5,Condition(function Kn))
set J4=(m5!=null)and(T77(it,852231,1093678389,m5))
endif
elseif(i1==1165451634)then
set J4=JMF(it)
if(not J4)then
set m5=SQ7(450.,b5,Condition(function Kn))
set J4=(m5!=null)and(T77(it,OrderId("acidbomb"),1093687629,m5))
endif
elseif(i1==1432510828)then
if(GetUnitLifePercent(it)<25.)then
set J4=IssueImmediateOrderById(it,852129)
call T47(it,851986,TJ7(it))
endif
if(not J4)then
set m5=SQ7(1200.,b5,Condition(function k6))
set J4=((RVF(it)>30.)and(SR7(900.,b5,Condition(function Kn))>0)and(TG7(it,852600,1093682004)))or((m5!=null)and(GetUnitState(it,UNIT_STATE_MANA)>350.)and(IssuePointOrderById(it,852662,GetUnitX(m5),GetUnitY(m5))))or(IssueImmediateOrderById(it,852129))
endif
elseif(i1==1429221446)then
set J4=(GetUnitAbilityLevel(it,1110454868)>0)and(IssueImmediateOrderById(it,852178))
elseif(i1==1429221445)then
set J4=TG7(it,852526,1093678422)
elseif(i1==1332963428)then
set m5=SQ7(600.,b5,Condition(function k8))
set J4=(m5!=null)and(UnitCountBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,m5,false,false)==0)and(T77(it,852227,1093678169,m5))
if(not J4)then
if(m5==null)then
set m5=SQ7(500.,b5,Condition(function k8))
endif
set J4=(m5!=null)and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(T77(it,852119,1093683019,m5))
endif
elseif(i1==1332109682)then
set m5=SQ7(700.,b5,Condition(function Kn))
set J4=((m5!=null)and(T77(it,852662,1093678134,m5)))or((GetHeroLevel(it)>5)and(Bz>hq[16+GetPlayerId(pl)])and(Kz(600.,b5)>1)and(TG7(it,852588,1093810505)))
elseif(i1==1211117640)then
set m5=SQ7(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(T77(it,852486,1093681989,m5))
if(not J4)then
set J4=(IsUnitType(m5,UNIT_TYPE_HERO))and(S17(it,m5))
endif
elseif(i1==1160786241)then
call SetPlayerAbilityAvailable(pl,1093684805,true)
set m5=SQ7(700.,b5,Condition(function Kn))
set J4=((m5!=null)and(T77(it,852119,1093684813,m5)))or((GetUnitAbilityLevel(it,1110455882)==0)and(IssueImmediateOrderById(it,852177)))
elseif(i1==1429221456)then
set m5=SQ7(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(T77(it,852119,1093685066,m5))
elseif(i1==1160786243)then
set J4=IssueTargetOrderById(it,852248,it)
elseif(i1==1160786505)then
set J4=IssueImmediateOrderById(it,852594)
elseif(i1==1160786242)then
call SetPlayerAbilityAvailable(pl,1093683287,true)
set m5=SQ7(900.,b5,Condition(function Kn))
set J4=(m5!=null)and(IssueTargetOrderById(it,852662,m5))
elseif((i1==1211117641)or(i1==1211117642))then
set m5=SQ7(550.,b5,Condition(function Kn))
set J4=(m5!=null)and(R0F(it,m5))
elseif(i1==1311781207)then
set J4=(IssueTargetOrderById(it,852229,it))or((GetUnitAbilityLevel(it,1093685078)==0)and(IssueTargetOrderById(it,852536,it)))
elseif(i1==1311780946)then
set J4=(is(it))and(RH7(it,TJ7(it))>5000.)and(SR7(1200.,b5,Condition(function KX))==0)and(RNF(3))
if(not J4)then
set m5=SQ7(500.,b5,Condition(function Kn))
set J4=(m5!=null)and(T77(it,852488,1093685825,m5))
endif
elseif((i1==1211117650)or(i1==1211119433))then
set IN4=it
set J4=(SR7(1000.,b5,Condition(function ny))>3)and(IssueTargetOrderById(it,852699,it))
elseif(i1==1211117646)then
set J4=T77(it,852101,1093685815,it)
elseif(i1==1211117624)then
set m5=SQ7(600.,b5,Condition(function k6))
set J4=(m5!=null)and(IssueTargetOrderById(it,852600,m5))
elseif(i1==1160785973)then
if((GetHeroLevel(it)>5)and(Bz>hq[GetPlayerId(pl)]))then
set m5=SQ7(400.,b5,Condition(function k6))
set J4=(m5!=null)and(SK7(m5))and(GetUnitAbilityLevel(m5,1110454580)==0)and(SR7(700.,b5,Condition(function KA))<(SR7(700.,b5,Condition(function k6))+2))and(IssueImmediateOrderById(it,852600))
endif
elseif(i1==1315988077)then
set m5=SQ7(600.,b5,Condition(function k6))
if(m5!=null)then
set J4=((IsUnitInRange(it,m5,200.))and(TG7(it,852096,1093678669)))or((GetHeroLevel(it)>5)and(GetUnitLifePercent(it)<35.)and(TG7(it,852586,1093684561)))
endif
elseif(i1==1211117616)then
set J4=(SR7(280.,b5,Condition(function k6))>0)and(TG7(it,852127,1093677139))
elseif(i1==1211117617)then
set m5=SQ7(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(T77(it,OrderId("acidbomb"),1093744944,m5))
elseif((i1==1215063922)or(i1==1211117638)or(i1==1211117637)or(i1==1211117639))then
if(i1==1215063922)then
set UP=250
else
set UP=400
endif
set m5=SQ7(I2R(UP),b5,Condition(function Kn))
set J4=(m5!=null)and(T77(it,852095,1093681490,m5))
elseif(i1==1214345830)then
set J4=T77(it,852225,1093679182,it)
elseif((i1==1315007329)or(i1==1332179560))then
set J4=IssueImmediateOrderById(it,852129)
if((not J4)and(i1==1315007329)and(GetHeroLevel(it)>5)and(GetUnitAbilityLevel(it,1110455858)==0))then
set m5=SQ7(750.,b5,Condition(function k6))
set J4=(m5!=null)and(T77(it,852149,1093681716,m5))
endif
elseif(i1==1211117653)then
if((GetUnitAbilityLevel(it,1110456408)==0))then
set J4=((Bz>TC4[80+GetPlayerId(pl)])and AR7(it,LP4,LP4,LQ4,1093687372)and(AM7(it,LQ4,LQ4,LQ4,false))and(IssueImmediateOrderById(it,852129)))
if(not J4 and(Bz>TC4[80+GetPlayerId(pl)])and(GetUnitLevel(it)>5))then
call SetPlayerAbilityAvailable(GetOwningPlayer(it),BS[4],true)
set J4=(IssueImmediateOrderById(it,852129))
call SetPlayerAbilityAvailable(GetOwningPlayer(it),BS[4],false)
endif
if(not J4)then
set m5=SQ7(500.,b5,Condition(function k6))
set J4=(m5!=null)and(AR7(it,LP4,LP4,LR4,1093686864))and(IssueImmediateOrderById(it,852134))
endif
elseif((GetUnitAbilityLevel(it,1110456408)>0))then
set TIF=A77(1215128178,it)
if((TIF>0)and(SE7(M7[TIF]))and((Bz>hq[TIF])or((hq[TIF]-Bz)>0.)and((hq[TIF]-Bz)<60.))and((GetUnitAbilityLevel(M7[TIF],1093810503)>0)or(GetUnitAbilityLevel(M7[TIF],1093810504)>0)))then
set UP=GetUnitAbilityLevel(M7[TIF],1093810503)
if(UP==0)then
set UP=GetUnitAbilityLevel(M7[TIF],1093810504)
set TIF=350+(UP*100)
else
set TIF=170+(UP*100)
endif
if((GetUnitState(it,UNIT_STATE_LIFE)>TIF)and(GetUnitAbilityLevel(it,1093808472)<6))then
set J4=(RH7(it,TJ7(it))<5900.)and(SR7(1400.,b5,Condition(function KX))==0)and(IssueImmediateOrderById(it,LQ4))
endif
elseif(A77(1164799603,it)>0 or A77(1160786242,it)>0)then
else
set J4=(GetUnitAbilityLevel(it,1093808472)<6)and(SR7(1700.,b5,Condition(function KX))==0)and(IssueImmediateOrderById(it,LQ4))
endif
else
endif
elseif(i1==1332898670)then
set m5=SQ7(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(T77(it,852502,1093685848,m5))
elseif(i1==1215723364)then
set J4=JMF(it)
if(not J4)then
set m5=SQ7(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(T77(it,852095,1093677633,m5))
endif
elseif(i1==1164799855)then
set J4=TG7(it,852556,1093677378)
if(not J4)then
set m5=SQ7(700.,b5,Condition(function Kn))
set J4=(m5!=null)and(T77(it,852075,1093682264,m5))
endif
elseif(i1==1433105516)then
set m5=SQ7(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(IssueTargetOrderById(it,852662,m5))
elseif(i1==1164666213)then
set m5=SQ7(600.,b5,Condition(function Kn))
if(GetHeroLevel(it)>=6)then
set J4=(SR7(400.,b5,Condition(function Kn))>0)
if not UX7(it,"AI|PulseNova")then
if(J4)then
call SetPlayerAbilityAvailable(Player(O5),1093808455,true)
call TG7(it,852100,1093808454)
call TriggerSleepAction(0.1)
endif
else
if(not J4)then
call TG7(it,852100,1093808456)
call TriggerSleepAction(0.1)
endif
endif
endif
if(m5!=null)then
call MoveLocation(HA,GetUnitX(m5)+(90.+(25*GetUnitAbilityLevel(it,1093678679)))*Cos(GetUnitFacing(m5)*bj_DEGTORAD),GetUnitY(m5)+(90.+(25*GetUnitAbilityLevel(it,1093678679)))*Sin(GetUnitFacing(m5)*bj_DEGTORAD))
set J4=T87(it,852224,1093678679,HA)
endif
elseif(i1==1164799603)then
set J4=(is(it))and(RH7(it,TJ7(it))>5000.)and(SR7(1200.,b5,Condition(function KX))==0)and(RNF(3))
if(not J4)then
set m5=SQ7(650.,b5,Condition(function Kn))
set J4=(m5!=null)and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,600))and(T77(it,OrderId("carrionswarm"),1093808453,m5))
endif
elseif(i1==1328558160)then
if((GetUnitAbilityLevel(it,1093684056)>0))then
if(IsTriggerEnabled(UI7(GetHandleId(pl),"MorphAgi")))then
call IssueImmediateOrderById(it,852550)
elseif(not IsTriggerEnabled(UI7(GetHandleId(pl),"MorphStr")))then
call IssueImmediateOrderById(it,852546)
endif
set G0[32+GetPlayerId(pl)]=true
endif
set J4=JMF(it)
elseif(i1==1212363833)then
set m5=SQ7(750.,S_7(it),Condition(function k6))
set UP=U27(H9)
if(m5!=null and(UP>1 or GetUnitLifePercent(it)<30.))then
set J4=(GetHeroLevel(it)>5)and(IssueImmediateOrderById(it,852600))
endif
if(not J4)and(m5!=null and UP==1)then
set J4=T77(it,852095,1093809220,m5)
endif
elseif(i1==1214931305)then
set m5=SQ7(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(T77(it,852171,1093678147,m5))
elseif(i1==1429221430)then
set m5=SQ7(600.,b5,Condition(function Kn))
if(not J4)and(m5!=null)and(SR7(1500.,b5,Condition(function KR))==0)and(RH7(it,IZ4)>1500)and(RH7(it,JA4)>1500)then
set J4=T87(it,852224,1093681735,b5)
endif
elseif(i1==1328558389)then
set m5=SQ7(1600.,b5,Condition(function Kn))
if((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLevel(it)>=6)and(IsUnitInRange(it,m5,1600.))and(GetUnitLifePercent(m5)<33.))then
set J4=(IssuePointOrderByIdLoc(it,OrderId("channel"),GetUnitLoc(m5)))
endif
if((GetUnitLifePercent(it)<80.)or(GetUnitManaPercent(it)<60.))then
call T47(it,851986,TJ7(it))
call R97(2.)
call T47(it,851986,TJ7(it))
endif
elseif(i1==1160786506)then
set m5=SQ7(800.,b5,Condition(function Kn))
set TIF=GetPlayerId(GetOwningPlayer(it))
set UE4[TIF]=true
if(m5!=null)then
set J4=(R87(TIF))and(J8(TIF,IssuePointOrderByIdLoc(it,852089,C_7(it,m5,1.2,900))))
endif
if(not(J4))then
set UP=GetUnitAbilityLevel(it,1093751639)
set m5=SQ7(2200.-(UP*400),b5,Condition(function Kn))
set J4=(m5!=null)and(T77(it,852119,1093751639,m5))
endif
set UE4[TIF]=false
if((GetUnitLifePercent(it)<80.)or(GetUnitManaPercent(it)<60.))then
call T47(it,851986,TJ7(it))
call R97(2.)
call T47(it,851986,TJ7(it))
endif
elseif(i1==1311787088)then
set m5=SQ7(700.,b5,Condition(function Kn))
set J4=(m5!=null)and((GetUnitState(it,UNIT_STATE_LIFE))>(GetUnitState(it,UNIT_STATE_MAX_LIFE)/2.8))and(T77(it,OrderId("channel"),1093750087,m5))
elseif(i1==1211117633)then
set m5=SQ7(600.,b5,Condition(function Kn))
set J4=((m5!=null)and(T77(it,852585,1093684045,m5)))or((SQ7(900.,b5,Condition(function Kn))!=null)and(GetUnitLifePercent(it)<35.)and(IssueImmediateOrderById(it,852600)))
elseif(i1==1432580716)or(i1==1429221720)then
set m5=SQ7(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(T77(it,852089,1093684300,m5))
elseif(i1==1333027688)then
set m5=SQ7(1000.,b5,Condition(function Kn))
set J4=(m5!=null)and(T77(it,OrderId("channel"),1093686091,m5))
elseif(i1==1211117643)then
set m5=Z77(700.,it)
if(m5!=null)and(GetWidgetLife(it)<50.)then
set J4=T77(it,852040,1093678658,it)
elseif((m5!=null)and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,700.))and(GetUnitAbilityLevel(m5,1113815395)==0)and(GetUnitAbilityLevel(m5,1113815346)==0)and((GetUnitLifePercent(it)<50.)or(GetHeroLevel(it)<8))and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(300+(120*GetUnitAbilityLevel(it,1093678658)))))then
set J4=T77(it,852040,1093678658,it)
endif
if(not J4)and(GetUnitLifePercent(it)<35.)then
set m5=SQ7(350.,b5,Condition(function k6))
if((m5!=null)and((GetUnitLifePercent(it)<20.)or(SR7(350.,b5,Condition(function k6))>1)))then
set J4=T77(it,852040,1093678658,m5)
endif
if((not J4)and(GetUnitLifePercent(it)<20.)and(GetUnitState(it,UNIT_STATE_LIFE)<150.)and(SR7(600.,b5,Condition(function k6))>0))then
set J4=T77(it,852040,1093678658,it)
endif
endif
elseif(i1==1211119409)then
set TIF=GetPlayerId(GetOwningPlayer(it))
set UE4[TIF]=true
set J4=IssueImmediateOrderById(it,852129)or(TG7(it,852600,1093749303))
set UE4[TIF]=false
elseif(i1==1215657064)then
set J4=(SR7(320.,b5,Condition(function k6))>0)and(TG7(it,852096,1093677913))
elseif(i1==1215130471)then
set m5=SQ7(600.,b5,Condition(function Kn))
set J4=(m5!=null)and((T77(it,852101,WQ7(it),m5))or(T77(it,852662,WP7(it),m5))or(T77(it,852095,WO7(it),m5))or(US7(GetHandleId(it),"AI|Magi2Blast")and T77(it,852600,1093815121,m5)))
elseif(i1==1214344551)then
if((GetUnitAbilityLevel(it,1110454833)==0)and(SR7(900.,b5,Condition(function Y27))>0)and(S47(it)))then
if(not K6(it))then
call MoveLocation(HC[240+GetPlayerId(pl)],0.,0.)
call SetRect(He,GetUnitX(it)-600.,GetUnitY(it)-600.,GetUnitX(it)+600.,GetUnitY(it)+600.)
set hr=it
call EnumDestructablesInRect(He,Q24,function RFF)
if(GetLocationX(HC[240+GetPlayerId(pl)])!=0.)then
set J4=IssuePointOrderByIdLoc(it,851986,HC[240+GetPlayerId(pl)])
call MoveLocation(HC[240+GetPlayerId(pl)],0.,0.)
else
set J4=T47(it,851986,h9[GetPlayerId(pl)])
endif
else
set J4=IssueTargetOrderById(it,852069,it)
endif
endif
elseif(i1==1160786000)then
set m5=SQ7(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(T87(it,852580,1093685046,C57(it,m5,2000.,0.65,1100.)))
elseif(i1==1311781193)then
set J4=TG7(it,852663,1095656306)
elseif(i1==1211117651)then
set m5=SQ7(900.,b5,Condition(function k6))
set J4=(((m5==null)or(not IsUnitInRange(it,m5,250.)))and(JMF(it)))or((m5!=null)and(T77(it,852186,1093685814,it)))
elseif(i1==1211117649)then
set J4=IssueTargetOrderById(it,852095,it)
elseif(i1==1160786265)then
set J4=IssueImmediateOrderById(it,852526)
elseif(i1==1311780930)then
call SetPlayerAbilityAvailable(pl,1093686082,true)
if(PN4[GetPlayerId(pl)]==null)then
set i1=R2I(bj_RADTODEG*Atan2(GetUnitY(TJ7(it))-GetUnitY(it),GetUnitX(TJ7(it))-GetUnitX(it)))
set h4[16+GetPlayerId(pl)]=it
set J4=IssuePointOrderById(it,852662,GetUnitX(it)+150.*Cos(i1*bj_DEGTORAD),GetUnitY(it)+150.*Sin(i1*bj_DEGTORAD))
if J4 then
call R97(0.3)
call TG7(it,852514,1093686082)
endif
endif
elseif(i1==1211119187)then
set m5=SQ7(950.,b5,Condition(function Kn))
if(not J4)and(Bz>TC4[32+O5])and(m5!=null)and(RH7(it,m5)<350+GetUnitAbilityLevel(it,1093742926)*150)then
set J4=IssueTargetOrderById(it,852581,m5)
endif
if(not J4)and(Bz>TC4[16+O5])and(m5!=null)then
if C_7(it,m5,2.,1500.)!=null then
set J4=T87(it,852089,1093743414,GN7)
endif
endif
elseif((i1==1211117650)or(i1==1211119433))then
if(not J4)and(Bz>TC4[32+O5])then
set IN4=it
set UP=SR7(1000.,S_7(it),Condition(function ny))
set J4=(UP>=3)and(GetUnitLifePercent(it)<75.)and(IssueTargetOrderById(it,852669,it))
endif
elseif(i1==1311786311)then
if(not J4)and(Bz>TC4[48+O5])then
set J4=TG7(it,852526,1093743689)
endif
if(not J4)and(Bz>TC4[32+O5])then
set m5=SQ7(950.,b5,Condition(function Kn))
set J4=(m5!=null)and(T77(it,852119,1093743178,m5))
endif
elseif(i1==1211117643)then
if(Bz>TC4[16+O5])then
set m5=SQ7(400.,b5,Condition(function Kn))
if(m5!=null)and(GetUnitLifePercent(m5)<60.)and(eY[320+O5]>=0)then
set m5=SQ7(700.,b5,Condition(function Kn))
set J4=(m5!=null)and(T77(it,852278,1093678410,it))
endif
endif
elseif(i1==1211117652)then
set m5=SQ7(400.,b5,Condition(function Kn))
if(m5!=null)and(Bz>TC4[32+O5])and(RH7(it,m5)>200.)then
set J4=(m5!=null)and(IssueImmediateOrderById(it,852581))
endif
elseif(i1==1160786510)then
set m5=SQ7(700.,b5,Condition(function Kn))
if(not J4)and(Bz>TC4[O5])then
if((m5!=null))then
if(GetUnitLifePercent(m5)<50.)and(GetUnitLevel(it)>=6)and(not IsUnitIllusion(m5))then
if C_7(it,m5,2,1000.)!=null then
set J4=TD7(it,852089,1093751861,1093808949,GetLocationX(GN7),GetLocationY(GN7))
endif
endif
endif
endif
if(not J4)and(m5!=null)and(Bz>TC4[16+O5])and(IsUnitInRange(it,m5,400))then
set J4=TG7(it,852600,1093751631)
endif
if(not J4)and(m5!=null)and(Bz>TC4[32+O5])then
set J4=T77(it,852119,1093751633,m5)
endif
elseif(i1==1160786504)then
if(m5==null)then
set m5=SO7(600.,b5,Condition(function k6))
endif
if(not J4)and(m5!=null)and(Bz>TC4[16+O5])then
set J4=T77(it,852119,1093751608,m5)
endif
if(not J4)and(m5!=null)and(Bz>TC4[O5])and(GetUnitLifePercent(it)<25.)then
set J4=T77(it,852111,1093751617,m5)
endif
if(not J4)and(m5!=null)and(Bz>TC4[32+O5])then
set J4=T77(it,852089,1093751618,m5)
endif
elseif(i1==1328558390)then
if(m5==null)then
set m5=SO7(600.,b5,Condition(function k6))
endif
if(not J4)and(m5!=null)and(Bz>TC4[48+O5])then
call TG7(it,852180,1093744986)
call R97(0.1)
endif
if(not J4)and(m5!=null)and((h4[O5]!=null)or(GetUnitLifePercent(m5)<60)or(UQ7(GetHandleId(m5),"StickyNapalm|Count")>3))and(Bz>TC4[32+O5])then
if(C57(it,m5,900,0.2,1500)!=null)then
set J4=(T87(it,852218,1093744982,LD7(GN7,100,PR7(m5,it))))
endif
endif
elseif(i1==1328558406)then
set J4=JMF(it)
elseif((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))then
if(m5==null)then
set m5=SO7(600.,b5,Condition(function k6))
endif
if((not J4)and(m5!=null)and(Bz>TC4[32+O5]))then
set J4=T77(it,OrderId("acidbomb"),1093742680,m5)
endif
if((not J4)and(m5!=null)and(i1!=1214409837))then
set EJ7=PR7(m5,it)
set J4=IssuePointOrderById(it,852089,GetUnitX(m5)+200.*Cos(EJ7*bj_DEGTORAD),GetUnitY(m5)+200.*Sin(EJ7*bj_DEGTORAD))
endif
if((not J4)and(Bz>TC4[16+O5])and(i1!=1214409837))then
set EJ7=PR7(it,h9[O5])
set J4=IssuePointOrderById(it,852600,GetUnitX(it)+150.*Cos(EJ7*bj_DEGTORAD),GetUnitY(it)+150.*Sin(EJ7*bj_DEGTORAD))
endif
elseif(i1==1430466865)then
if(m5==null)then
set m5=SO7(400.,b5,Condition(function k6))
endif
if((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(it)<20 or GZ[208+O5]))then
set J4=(TG7(it,852164,1093810508))
endif
elseif(i1==1160786520)then
set m5=SQ7(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(T77(it,852214,1093809990,m5))
if(not J4)and hq[816+O5]>Bz then
set G0[288+O5]=true
call THF()
set G0[304+O5]=false
endif
elseif(i1==1311788336)then
set m5=SQ7(600.,b5,Condition(function Kn))
if(not J4)and(Bz>TC4[16+O5])and(m5!=null)and(SS7(400.,it,Condition(function X97))<=2)then
set J4=TG7(it,852526,1093814323)
endif
if(not J4)and(m5!=null)then
set J4=JMF(it)
endif
if(not J4)and(Bz>TC4[48+O5])and(m5!=null)then
set J4=IssueImmediateOrderById(it,852600)
endif
elseif(i1==1160786507)then
set m5=SQ7(600.,b5,Condition(function Kn))
if(not J4)and(Bz>TC4[32+O5])then
set J4=IssueTargetOrderById(it,852248,it)
endif
elseif(i1==1211122767)then
set m5=SQ7(600.,b5,Condition(function Kn))
if(not J4)and(m5!=null)and(Bz>TC4[32+O5])then
set J4=TG7(it,852526,1093814612)
endif
if(not J4)and(m5!=null)and(Bz>TC4[48+O5])then
set J4=T77(it,852668,1093814350,m5)
endif
elseif(i1==1160786738)then
set m5=SQ7(600.,b5,Condition(function Kn))
if(not J4)then
if GetUnitAbilityLevel(it,1093813848)==0 then
set EJ7=GetUnitFacing(it)
set J4=((m5!=null)and(IssuePointOrderById(it,852216,GetUnitX(it)+20*Cos(EJ7*bj_DEGTORAD),GetUnitY(it)+20*Sin(EJ7*bj_DEGTORAD))))
else
set bj_lastCreatedUnit=UE7(GetHandleId(it),"AI|ShredChakram")
if(m5==null)or(not IsUnitInRange(it,bj_lastCreatedUnit,400))then
set J4=IssueImmediateOrderById(it,852177)
endif
endif
endif
if(not J4)and(Bz>TC4[32+O5])then
set J4=JMF(it)
endif
if(not J4)and(m5!=null)and(Bz>TC4[16+O5])and(IsUnitInRange(it,m5,300))then
set J4=TG7(it,852526,1093813835)
endif
endif
if(not G0[304+O5])and(not J4)then
if(not J4)and((SU7(it,ZU[RW]))and(Bz>hq[112+GetPlayerId(pl)]))then
set J4=JMF(it)
endif
if(not J4)and(SU7(it,ZU[C0]))then
set J4=UnitUseItem(it,bj_lastCreatedItem)
endif
if(not J4)and((SU7(it,ZU[DS4]))and(SR7(1200.,b5,Condition(function k6))>0))then
set J4=UnitUseItem(it,bj_lastCreatedItem)
endif
if(not J4)and((SU7(it,ZU[Q1]))and(GetUnitLifePercent(it)<35.))then
set m5=SQ7(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if(not J4)and((SU7(it,ZU[D1])or SU7(it,ZU[E1]))and(GetItemCharges(bj_lastCreatedItem)>0)and(GetUnitLifePercent(it)<35.))then
set m5=SQ7(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if(not J4)and((SU7(it,ZU[D74]))and(Bz>hq[96+GetPlayerId(pl)]))then
set m5=SQ7(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if(not J4)and((SU7(it,ZU[U3])))then
set m5=SQ7(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if(not J4)and((SU7(it,ZU[R3])))then
set m5=SQ7(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if(not J4)and((SU7(it,ZU[FC])))then
set m5=SQ7(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if(not J4)and((SU7(it,ZU[DP4]))and(Bz>TC4[176+GetPlayerId(pl)]))then
set m5=SQ7(500.,b5,Condition(function Kn))
set J4=(m5!=null)and(UnitUseItem(it,bj_lastCreatedItem))
endif
if(not J4)and((SU7(it,ZU[T1]))and(not US7(GetHandleId(it),"Mekansm"))and(Bz>hq[80+GetPlayerId(pl)])and(SR7(800.,b5,Condition(function k6))>0))then
set J4=UnitUseItem(it,bj_lastCreatedItem)
endif
if(not J4)and((SU7(it,ZU[DY4]))and(GetItemCharges(bj_lastCreatedItem)>0)and(Bz>TC4[224+GetPlayerId(pl)])and(GetUnitLifePercent(it)<70.))then
set J4=(UnitUseItemTarget(it,bj_lastCreatedItem,it))
endif
if(not J4)and(SU7(it,ZU[DK4])and(UX7(it,"ArmletOfMordigan|Active")==true)and(GetUnitLifePercent(it)<50.))then
set J4=(UnitUseItem(it,bj_lastCreatedItem))
endif
if((not J4)and(S67(it))and(Bz>TC4[192+O5]))then
if(GetUnitState(it,UNIT_STATE_LIFE)<150)or((GetItemCharges(bj_lastCreatedItem)>=8)and(SR7(1000.,S_7(it),Condition(function k6))>0)and(GetUnitLifePercent(it)<50 or GetUnitManaPercent(it)<20)and(RH7(it,h9[16+O5])>600))then
set J4=UnitUseItem(it,bj_lastCreatedItem)
endif
endif
if(not J4)and(SU7(it,ZU[DR4])and(Bz>TC4[240+GetPlayerId(pl)])and(DY9(m5)==false)and(B77(m5)==false))then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,m5)
endif
if((not J4)and(is(it))and(GetUnitAbilityLevel(it,1110454874)==0)and(GetUnitAbilityLevel(it,1110456148)==0)and(GetUnitAbilityLevel(it,1110455864)==0)and(GetUnitAbilityLevel(it,1110454347)==0)and(RH7(it,TJ7(it))>6000.)and(SR7(1400.,b5,Condition(function KX))==0))then
if(IsUnitAlly(it,Z7[0]))then
set J4=V17(it,IZ4)
else
set J4=V17(it,JA4)
endif
endif
endif
set it=null
set pl=null
set b5=null
set m5=null
return J4
endfunction
function TJF takes nothing returns nothing
local unit it=GetEnumUnit()
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer i=1
if((IsUnitType(it,UNIT_TYPE_HERO))and(not IsUnitIllusion(it)))then
if((GetPlayerController(GetOwningPlayer(it))==MAP_CONTROL_COMPUTER)and(GetWidgetLife(it)>.405)and(IsUnitType(it,UNIT_TYPE_DEAD)==false))then
call ExecuteFunc("TKF")
elseif IG4[O5]then
set h4[O5]=null
if((TimerGetRemaining(U[O5])>20.)and(GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)>5000)and(TimerGetElapsed(U[O5])>4.))then
loop
exitwhen NM4[i]==GetEnumUnit()or i>NP4
set i=i+1
endloop
if NM4[i]!=null and GetUnitAbilityLevel(KU4[O5],1093808213)==0 then
call IssueImmediateOrderById(KU4[O5],W9[O5])
endif
endif
endif
elseif((WG7(it))and(GetUnitTypeId(it)!=1852010352)and(SE7(it)))then
set bj_lastLoadedUnit=GetEnumUnit()
call ExecuteFunc("TMF")
endif
set it=null
endfunction
function TNF takes nothing returns boolean
local unit PI7=GetEnteringUnit()
local integer i=GetUnitTypeId(PI7)
if(i==1966092359 or i==1966092361)and IsPlayerInForce(GetOwningPlayer(GetEnteringUnit()),QX4)then
call RemoveGuardPosition(PI7)
call GroupAddUnit(UJ7(GetHandleId(GetOwningPlayer(GetEnteringUnit())),PC7(i==1966092359,"ExorG","NAttG")),PI7)
call IssueImmediateOrderById(PI7,852557)
endif
if not(Z27(GetOwningPlayer(GetEnteringUnit())))then
set PI7=null
return false
endif
set bj_lastLoadedUnit=PI7
if(i==1966092594 or i==1966092595)then
call ExecuteFunc("TOF")
elseif(i==1865429059)or(i==1865429319)or(i==1865429320)or(i==1865429321)then
call IssueTargetOrderById(PI7,851986,M7[GetPlayerId(GetOwningPlayer(PI7))])
elseif(i==1747993683)then
call TX7(GetHandleId(M7[GetPlayerId(GetOwningPlayer(PI7))]),"AI|ShredChakram",PI7)
elseif(WG7(PI7)and IsUnitType(PI7,UNIT_TYPE_HERO)==false)then
call IssueTargetOrderById(PI7,851986,M7[GetPlayerId(GetOwningPlayer(PI7))])
set DT7=false
call ExecuteFunc("TMF")
endif
set PI7=null
return false
endfunction
function TPF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer B27=GetHandleId(t)
local integer O5=UQ7(B27,"OwnerPID")
local unit m5=M7[O5]
local unit TQF=null
local string TRF=I2S(UQ7(B27,"famID"))
local integer KRF
local unit it=UE7(B27,"unitFamiliar")
local boolean J4=false
local group g=null
local unit u=null
if(GetTriggerEventId()==EVENT_UNIT_DEATH)then
call UB7(M7[O5],"AIFamiliar"+TRF+"|Status")
call UZ7(M7[O5],"AIFamiliar"+TRF+"|Stone")
call FlushChildHashtable(L7,B27)
call U37(t)
call DestroyTrigger(t)
else
set KRF=GetUnitTypeId(it)
if TRF=="1" then
if(KRF==1966092596 or KRF==1966092597 or KRF==1966092598)then
call UB7(m5,"AIFamiliar"+TRF+"|Stone")
else
call UZ7(m5,"AIFamiliar"+TRF+"|Stone")
call UB7(m5,"AIFamiliar|CastStone")
endif
elseif TRF=="2" then
if(KRF==1966092612 or KRF==1966092613 or KRF==1966092614)then
call UB7(m5,"AIFamiliar"+TRF+"|Stone")
else
call UZ7(m5,"AIFamiliar"+TRF+"|Stone")
call UB7(m5,"AIFamiliar|CastStone")
endif
elseif TRF=="3" then
if(KRF==1966092626 or KRF==1966092627 or KRF==1966092628)then
call UB7(m5,"AIFamiliar"+TRF+"|Stone")
else
call UZ7(m5,"AIFamiliar"+TRF+"|Stone")
call UB7(m5,"AIFamiliar|CastStone")
endif
endif
if(GetUnitState(it,UNIT_STATE_LIFE)<0.55*(200+(GetUnitAbilityLevel(m5,1093750341)*100)))then
set J4=IssueImmediateOrderById(it,852138)or IssueImmediateOrderById(it,852155)or IssueImmediateOrderById(it,852656)or IssueImmediateOrderById(it,852139)or IssueImmediateOrderById(it,852156)or IssueImmediateOrderById(it,852657)
if not J4 then
set J4=T47(it,851986,h9[O5])
endif
elseif((RH7(it,TJ7(m5))<1000.)and(GetUnitLifePercent(it)<98.))then
set J4=(T47(it,851986,TJ7(m5)))
elseif(not SE7(m5))then
set J4=T47(it,851986,TJ7(m5))
elseif(not IsUnitInRange(it,m5,1200.))then
set J4=IssueTargetOrderById(it,851986,m5)
endif
if not J4 then
set m5=null
if GetUnitState(h4[O5],UNIT_STATE_LIFE)>0 then
set m5=h4[O5]
endif
if m5==null then
set g=CreateGroup()
call GroupClear(g)
call GroupEnumUnitsInRangeOfLoc(g,GetUnitLoc(M7[O5]),700,Condition(function W_7))
if(not Q07(g))then
loop
set u=FirstOfGroup(g)
call GroupRemoveUnit(g,u)
exitwhen(IsUnitEnemy(u,GetOwningPlayer(it))and(IsUnitVisible(u,GetOwningPlayer(it)))or u==null)
endloop
set m5=u
set u=null
endif
call DestroyGroup(g)
endif
set g=CreateGroup()
call GroupEnumUnitsInRangeOfLoc(g,GetUnitLoc(M7[O5]),700,Condition(function YH7))
if(not Q07(g))then
loop
set u=FirstOfGroup(g)
call GroupRemoveUnit(g,u)
exitwhen(IsUnitEnemy(u,GetOwningPlayer(it))or u==null)
endloop
set TQF=u
set u=null
endif
call DestroyGroup(g)
if TQF!=null and m5!=null then
if RH7(it,TQF)<RH7(it,m5)and m5!=h4[O5]then
set m5=null
endif
endif
if m5!=null then
if(IsUnitInRange(it,m5,250.)and DZ9(m5)==false and IsUnitType(m5,UNIT_TYPE_MAGIC_IMMUNE)==false and UX7(M7[O5],"AIFamiliar|CastStone")==false)then
set J4=IssueImmediateOrderById(it,852138)or IssueImmediateOrderById(it,852155)or IssueImmediateOrderById(it,852656)or IssueImmediateOrderById(it,852139)or IssueImmediateOrderById(it,852156)or IssueImmediateOrderById(it,852657)
if J4 then
call UZ7(M7[O5],"AIFamiliar|CastStone")
endif
else
set J4=IssueTargetOrderById(it,851983,m5)
endif
endif
if TQF!=null and J4==false then
if GetUnitCurrentOrder(M7[O5])==851986 then
set J4=IssueTargetOrderById(it,851986,M7[O5])
else
set J4=IssueTargetOrderById(it,851983,TQF)
endif
endif
endif
if(not J4)then
if(eY[O5]==10)then
set J4=T47(it,851983,M7[O5])
else
set J4=IssueTargetOrderById(it,851986,M7[O5])
endif
endif
endif
set t=null
set m5=null
set TQF=null
set it=null
set g=null
return false
endfunction
function TSF takes integer Q27,unit TTF returns nothing
local trigger t=null
local integer CD7=0
local string TRF
local integer i1=GetUnitTypeId(TTF)
if(not((GetPlayerController(GetOwningPlayer(TTF))==MAP_CONTROL_COMPUTER)and(SE7(TTF))))then
return
endif
if((i1==1966092596 or i1==1966092597 or i1==1966092598))then
set TRF="1"
elseif((i1==1966092612 or i1==1966092613 or i1==1966092614))then
set TRF="2"
elseif((i1==1966092626 or i1==1966092627 or i1==1966092628))then
set TRF="3"
else
return
endif
set t=CreateTrigger()
set CD7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,TTF,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,TTF,EVENT_UNIT_SPELL_FINISH)
call TriggerRegisterTimerEvent(t,1.4,true)
call TriggerRegisterTimerEvent(t,0.1,false)
call TriggerAddCondition(t,Condition(function TPF))
call UZ7(M7[Q27],"AIFamiliar"+TRF+"|Status")
call TX7(CD7,"unitFamiliar",TTF)
call TT7(CD7,"OwnerPID",Q27)
call TT7(CD7,"famID",S2I(TRF))
set t=null
endfunction
function TUF takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local integer B27=GetHandleId(t)
local unit C97=UE7(B27,"NinjaScarab")
local unit C87=UE7(B27,"NinjaSummoner")
local unit TVF=GetTriggerUnit()
if((IsUnitType(TVF,UNIT_TYPE_HERO))and(IsUnitEnemy(TVF,GetOwningPlayer(C87))==true)and(IsUnitVisible(TVF,GetOwningPlayer(C87))==true)and(not IsUnitIllusion(TVF)))then
call IssueImmediateOrderById(C97,852127)
call U37(t)
call DestroyTrigger(t)
endif
set t=null
set C97=null
set C87=null
set TVF=null
endfunction
function TWF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer B27=GetHandleId(t)
local unit C87=UE7(B27,"NAScarabOwner")
local unit C97=UE7(B27,"NAScarabUnit")
local unit TXF=null
local unit O37=null
local unit u=null
local group g=CreateGroup()
if((GetTriggerEventId()==EVENT_UNIT_DEATH)or(GetUnitState(C87,UNIT_STATE_LIFE)<=0))then
if((GetUnitState(C97,UNIT_STATE_LIFE)>0))then
call T47(C97,851986,TJ7(C87))
else
call FlushChildHashtable(L7,B27)
call U37(t)
call DestroyTrigger(t)
endif
else
call GroupClear(g)
call GroupEnumUnitsInRangeOfLoc(g,GetUnitLoc(C97),700,Condition(function X77))
if(not Q07(g))then
loop
set u=FirstOfGroup(g)
call GroupRemoveUnit(g,u)
exitwhen IsUnitEnemy(u,GetOwningPlayer(C87))
endloop
set O37=u
set u=null
endif
call DestroyGroup(g)
if(O37!=null)then
set g=CreateGroup()
call GroupClear(g)
call GroupEnumUnitsInRangeOfLoc(g,GetUnitLoc(C97),150,Condition(function X87))
if(not Q07(g))then
loop
set u=FirstOfGroup(g)
call GroupRemoveUnit(g,u)
exitwhen(GetUnitTypeId(u)==1966092594 or GetUnitTypeId(u)==1966092595)
endloop
set TXF=u
set u=null
endif
call DestroyGroup(g)
if(TXF==null)then
set g=CreateGroup()
call GroupClear(g)
call GroupEnumUnitsInRangeOfLoc(g,GetUnitLoc(C87),500,Condition(function X87))
if(not Q07(g))then
loop
set u=FirstOfGroup(g)
call GroupRemoveUnit(g,u)
exitwhen(GetUnitTypeId(u)==1966092594 or GetUnitTypeId(u)==1966092595)
endloop
set TXF=u
endif
endif
endif
if(O37!=null and TXF!=null and GetUnitState(O37,UNIT_STATE_LIFE)>0 and IsUnitVisible(O37,GetOwningPlayer(C87))==true)then
call IssueTargetOrderById(TXF,851986,O37)
call R97(3)
if((GetUnitState(C97,UNIT_STATE_LIFE)>0)and(GetUnitCurrentOrder(C97)!=851986))then
call IssueTargetOrderById(C97,851986,C87)
endif
else
call IssueTargetOrderById(C97,851986,C87)
endif
endif
call DestroyGroup(g)
set t=null
set TXF=null
set C87=null
set C97=null
set O37=null
set u=null
set g=null
return false
endfunction
function TOF takes nothing returns nothing
local trigger t=CreateTrigger()
local unit C97=bj_lastLoadedUnit
local unit C87=M7[GetPlayerId(GetOwningPlayer(C97))]
local unit O37=null
local unit u=null
local group g=CreateGroup()
local boolexpr b=Condition(function X77)
local boolean TYF=false
call GroupClear(g)
call GroupEnumUnitsInRangeOfLoc(g,GetUnitLoc(C97),700,Condition(function X77))
if(not Q07(g))then
loop
set u=FirstOfGroup(g)
call GroupRemoveUnit(g,u)
exitwhen IsUnitEnemy(u,GetOwningPlayer(C87))
endloop
set O37=u
endif
call DestroyGroup(g)
if(O37!=null and GetUnitState(O37,UNIT_STATE_LIFE)>0 and IsUnitVisible(O37,GetOwningPlayer(C87))==true)then
if(RH7(C97,O37)>250.)then
set TYF=true
call IssueTargetOrderById(C97,851986,C87)
else
call IssueImmediateOrderById(C97,852127)
call U37(t)
call DestroyTrigger(t)
endif
else
set TYF=true
call IssueTargetOrderById(C97,851986,C87)
endif
if(TYF==true)then
call TX7(GetHandleId(t),"NAScarabOwner",C87)
call TX7(GetHandleId(t),"NAScarabUnit",C97)
call TriggerRegisterUnitEvent(t,C97,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,2.1,true)
call TriggerAddCondition(t,Condition(function TWF))
set t=CreateTrigger()
call TX7(GetHandleId(t),"NinjaSummoner",C87)
call TX7(GetHandleId(t),"NinjaScarab",C97)
call TriggerRegisterUnitInRange(t,C97,70,b)
call TriggerAddAction(t,function TUF)
endif
call DestroyBoolExpr(b)
set t=null
set g=null
set u=null
set C97=null
set C87=null
set O37=null
endfunction
function TZF takes unit CR7,integer n5,integer G49 returns item
local real x=F09(CR7)
local real y=F29(CR7)
local item W18=CreateItem(n5,x,y)
local integer i=0
local boolean array G79
local item Z4
local boolean S37=false
set K_7=IR4
call SetItemPlayer(W18,IR4,false)
call SetItemUserData(W18,1)
if n5>0 then
loop
exitwhen i>(UnitInventorySize(CR7)-1)
if UnitItemInSlot(CR7,i)==null and i!=G49 then
set Z4=CreateItem(1227895373,x,y)
call UnitAddItem(CR7,Z4)
set G79[i]=true
else
set G79[i]=false
endif
if i==G49 then
set S37=UnitAddItem(CR7,W18)
endif
set i=i+1
endloop
set i=0
loop
exitwhen i>5
if G79[i]==true then
call RemoveItem(UnitItemInSlot(CR7,i))
endif
set i=i+1
endloop
endif
if(not S37)then
call RemoveItem(W18)
set W18=null
endif
set HA4=W18
set W18=null
set Z4=null
return HA4
endfunction
function TAF takes integer O5,unit it returns nothing
local integer i
local integer j
if(K07[384+O5]!=0)and(Bz>K07[160+O5])and(Bz>K07[176+O5])then
if GetUnitLifePercent(it)<30 then
set i=2
elseif GetUnitState(it,UNIT_STATE_MANA)<120 then
set i=3
if K07[400+O5]!=3 then
set K07[416+O5]=R2I(140./GetUnitState(it,UNIT_STATE_MAX_MANA)*100)
endif
elseif K07[400+O5]==3 and GetUnitManaPercent(it)<I2R(K07[416+O5])then
set i=3
else
set i=K07[384+O5]
endif
if K07[400+O5]!=i then
set K07[400+O5]=i
set i=0
set j=0
loop
set ER7=UnitItemInSlot(it,j)
set ES7=GetItemTypeId(ER7)
if ES7==ZU[G6]then
set i=1
elseif ES7==ZU[H6]then
set i=2
elseif ES7==ZU[N6]then
set i=3
endif
if i!=0 then
call DisableTrigger(H94)
call RemoveItem(ER7)
set IR4=Player(O5)
set ER7=TZF(it,ZU[G6+K07[400+O5]-1],j)
call EnableTrigger(H94)
exitwhen true
endif
set j=j+1
exitwhen j>=bj_MAX_INVENTORY
endloop
set ER7=null
endif
endif
endfunction
function TBF takes nothing returns boolean
local integer TCF=SS7(600,GetEnumUnit(),Condition(function YP7))
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(SE7(GetFilterUnit()))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0))and((GetUnitLifePercent(GetFilterUnit())<30.+7*SS7(600,GetEnumUnit(),Condition(function YP7))+7*(SS7(350,GetFilterUnit(),Condition(function k6)))+3*(SS7(350,GetFilterUnit(),Condition(function X97))))or TCF>=3 or 0.73*GetWidgetLife(GetFilterUnit())<=350+TCF*70)
endfunction
function TKF takes nothing returns nothing
local region T3F=null
local unit it=GetEnumUnit()
local unit m5=null
local integer i1=GetUnitTypeId(it)
local player pl=GetOwningPlayer(it)
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer UP
local location b5
local location T6F=null
local location TLF=null
local boolean J4=false
local item T1F=null
local boolean T0F=false
local integer T5F
local unit T2F=null
local unit X_7=null
local integer T_F=GetHandleId(it)
local integer U4F
local real U7F
local integer U8F
local boolean U9F=false
local real UDF
call TriggerSleepAction(0.1)
if G0[288+O5]then
set G0[288+O5]=false
set i1=eY[400+O5]
set G0[304+O5]=true
endif
set G0[64+O5]=false
if(i1!=1211117642)then
set b5=HC[16+O5]
else
if(UN7(GetHandleId(it),"MCSLoc")!=null)then
set b5=UN7(GetHandleId(it),"MCSLoc")
else
set b5=GetUnitLoc(it)
call T27(GetHandleId(it),"MCSLoc",b5)
endif
endif
call MoveLocation(b5,GetUnitX(it),GetUnitY(it))
if not G0[304+O5]then
if(i1!=1211117642)and(SE7(it))then
call TAF(O5,it)
endif
if(h4[O5]!=null)and((not SE7(h4[O5]))or(not IsHeroUnitId(GetUnitTypeId(h4[O5])))or((IsUnitIllusion(h4[O5]))and((SR7(800.,b5,Condition(function K7))>0)or(lA(h4[O5],IsUnitAlly(it,Z7[0])))))or(IsUnitAlly(h4[O5],pl)))then
call CBE(O5,true)
if(S47(it))then
call J3(it,true)
endif
endif
if(i1==1429221451)and(GetUnitCurrentOrder(it)==852503)and(SS7(GetUnitAbilityLevel(it,1093683248)*50+100,it,Condition(function X97))<=2)then
set G0[272+O5]=true
call IssueImmediateOrderById(it,851972)
call J3(it,false)
set G0[272+O5]=false
endif
if((G0[O5])or(not S47(it))or(GetUnitAbilityLevel(it,1110459478)>0))then
set J4=true
if(GetUnitAbilityLevel(it,1110459478)>0)then
set G0[64+O5]=true
endif
elseif(((SH7(it))and(not Id(O5)))or((G0[32+O5])and(h4[O5]==null)))then
if(h4[O5]!=null)then
call MTF(it,h4[O5])
endif
if(eY[O5]!=2)then
if(i1==1211117642)then
set J4=(SH7(it))and(is(it))and(not Id(O5))and(T47(it,851986,h9[O5]))
elseif(not G0[32+O5])then
call VA7(it,false)
elseif(Jw(it))then
if(SH7(it))then
set J4=THF()
endif
if(not J4)then
call JMF(it)
endif
endif
endif
set J4=true
elseif(h4[O5]==null)then
if((GetHeroLevel(it)>3)and(GetUnitLifePercent(it)>70.)and(G0[128+O5]))then
if((SR7(800.,b5,Condition(function K7))>0)or(lA(h4[O5],IsUnitAlly(it,Z7[0]))))then
set m5=SQ7(1100.,b5,Condition(function KK))
else
set m5=SQ7(1100.,b5,Condition(function Kl))
endif
if(m5!=null)then
if(iy(it))then
set h4[160+O5]=m5
endif
if((KY(750.,S_7(m5))<=2)and(not WF7(m5))and((SF7(m5,it))or(SS7(400.,m5,Condition(function YE7))==0)))then
call CYE(O5,m5,false,false)
endif
endif
endif
else
set m5=K3(600.,it,Condition(function k6))
if(m5!=h4[O5]and m5!=null)then
if(GetUnitLifePercent(m5)>50.)then
if((GetUnitState(m5,UNIT_STATE_LIFE)+(20.*GetHeroLevel(m5)))<GetUnitState(h4[O5],UNIT_STATE_LIFE))then
call CYE(O5,m5,false,false)
endif
elseif(GetUnitState(m5,UNIT_STATE_LIFE)<GetUnitState(h4[O5],UNIT_STATE_LIFE))then
call CYE(O5,m5,false,false)
endif
endif
if((GetUnitTypeId(h4[O5])==1211117641)and(GetUnitLifePercent(h4[O5])>50.))then
set m5=SQ7(700.,b5,Condition(function KL))
if(m5!=null)then
call CYE(O5,m5,false,false)
endif
endif
if((GetHeroLevel(it)<6)and(not SI7(O5)))then
if((not IsUnitInRange(it,h4[O5],750.))or((GetUnitLifePercent(it)-20.)<GetUnitLifePercent(h4[O5])and G0[144+O5]==false)or((not IsUnitVisible(h4[O5],pl))and(kD(h4[O5]))))then
call CBE(O5,false)
call J3(it,true)
endif
elseif(((not IsUnitInRange(it,h4[O5],1500.)or((GetUnitLifePercent(it)+20.)<GetUnitLifePercent(h4[O5])and G0[144+O5]==false))and(not SI7(O5)))or(WF7(h4[O5])))then
call CBE(O5,true)
call J3(it,true)
elseif((not IsUnitVisible(h4[O5],pl))and(((IsVisibleToPlayer(GetUnitX(h4[O5]),GetUnitY(h4[O5]),pl))and(not IsUnitHidden(h4[O5])))or((eY[32+GetPlayerId(GetOwningPlayer(h4[O5]))]<2)and(kD(h4[O5])))))then
if(not SH7(h4[O5]))then
if((GetUnitTypeId(h4[O5])==1212365106)and(SU7(it,ZU[WC]))and(GetItemCharges(bj_lastCreatedItem)>1))then
set J4=((GetUnitX(h4[O5])!=0)or(GetUnitY(h4[O5])!=0))and(UnitUseItemPoint(it,SY7(it,ZU[WC]),GetUnitX(h4[O5]),GetUnitY(h4[O5])))
elseif((GetUnitTypeId(h4[O5])==1211119409)and(SU7(it,ZU[WC]))and(GetItemCharges(bj_lastCreatedItem)>1))then
set J4=((GetUnitX(h4[O5])!=0)or(GetUnitY(h4[O5])!=0))and(UnitUseItemPoint(it,SY7(it,ZU[WC]),GetUnitX(h4[O5]),GetUnitY(h4[O5])))
else
set h4[O5]=null
call J3(it,true)
endif
elseif(i1==1311781185)then
set J4=IssueImmediateOrderById(it,852600)
elseif(SU7(it,ZU[T5]))then
set J4=UnitUseItem(it,bj_lastCreatedItem)
elseif(SU7(it,ZU[CC]))then
set J4=(RH7(it,h4[O5])<=600)and(UnitUseItem(it,bj_lastCreatedItem))
elseif(SU7(it,ZU[WC]))then
set J4=((GetUnitX(h4[O5])!=0)or(GetUnitY(h4[O5])!=0))and(UnitUseItemPoint(it,bj_lastCreatedItem,GetUnitX(h4[O5]),GetUnitY(h4[O5])))
else
if(not US7(R44,VB7(it)+"|W"))then
call TW7(R44,VB7(it)+"|W",true)
endif
call CBE(O5,true)
call J3(it,true)
endif
endif
endif
endif
if h4[O5]==null then
set hq[624+O5]=0
endif
set m5=h4[O5]
if((iy(it))and(m5!=null))then
set h4[160+O5]=m5
endif
set GZ[128+O5]=(m5!=null)and((GetHeroLevel(it)>5)or(SF7(m5,it)))
if((not J4)and(SU7(it,ZU[E24])))and(h4[O5]!=null)then
call UnitUseItemTarget(it,bj_lastCreatedItem,m5)
endif
if((not J4)and(SU7(it,ZU[N3])))and(h4[O5]!=null)then
call DisableTrigger(Q04[O5])
call UnitUseItemPoint(it,bj_lastCreatedItem,GetUnitX(m5),GetUnitY(m5))
call EnableTrigger(Q04[O5])
endif
if(J4)then
elseif(i1==1160785970)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3))then
set m5=SO7(700.,b5,Condition(function k6))
endif
set J4=(m5!=null)and((GetHeroLevel(it)>3)or(SF7(m5,it)))and(IsUnitInRange(it,m5,650.))and(GetUnitManaPercent(it)>25.)and(Bz>TC4[16+O5])and(TG7(it,852526,1093748023))
if((not J4)and(G0[256+O5])and(GetHeroLevel(it)>3))then
set G=E27
set X_7=SO7(700,b5,And(Condition(function k6),Condition(function YU7)))
if X_7==null then
set G=E_7
set X_7=SO7(700,b5,And(Condition(function k6),Condition(function YU7)))
endif
set X_7=PV7(X_7==null,SO7(700,b5,Condition(function k6)),X_7)
set m5=PV7(X_7!=null and(m5==null or PO7(m5,30,450,NU7)or PO7(it,30,400,NT7)),X_7,m5)
set J4=(m5!=null)and(IsUnitInRange(it,m5,PL7((GetUnitMoveSpeed(it)-GetUnitMoveSpeed(m5))>=-20,550+(GetUnitMoveSpeed(it)-GetUnitMoveSpeed(m5)),250)))and(IssueTargetOrderById(it,852662,m5))
endif
if((not J4)and(G0[128+O5])and(GetHeroLevel(it)>5))then
set m5=SO7(450.,b5,Condition(function k6))
set J4=(m5!=null)and(Bz>TC4[O5])and(((GetUnitAbilityLevel(it,1093747023)>0)and(TG7(it,852229,1093747023)))or((GetUnitAbilityLevel(it,1093752150)>0)and(TG7(it,852229,1093752150))))
endif
elseif(i1==1160786506)then
if(GetHeroLevel(it)>3)then
set m5=SQ7(800.,b5,Condition(function k6))
endif
set J4=(m5!=null)and(Bz>TC4[16+O5])and(IsUnitInRange(it,m5,795.))and(((GetUnitAbilityLevel(it,1093751894)<4)and(GetUnitManaPercent(it)>50.))or(GetUnitLifePercent(m5)<40.)or(h4[O5]!=null))and(T77(it,852095,1093751894,m5))
if(not J4)and(m5!=null)and(Bz>TC4[48+O5])and((GetUnitLifePercent(m5)<30.)or((h4[O5]!=null)and((GetUnitLifePercent(m5)<70.)or(eY[320+O5]>0))))then
if(D38(it,m5))or(not IsUnitInRange(m5,it,800))then
call C_7(it,m5,1.2,900)
else
call MoveLocation(GN7,GetUnitX(m5),GetUnitY(m5))
endif
set J4=(R87(O5)and(J8(O5,IssuePointOrderByIdLoc(it,852089,GN7))))
endif
if(not J4)and(m5!=null)and(Bz>TC4[32+O5])and(D38(it,m5))and(not IsUnitInRangeLoc(m5,QGF(m5),600))then
set J4=T77(it,852119,1093751639,m5)
endif
if(not J4)and(h4[O5]!=null)and(DA9(m5)or GetUnitLifePercent(it)<80 or GZ[208+O5])then
set J4=(m5!=null)and(IssuePointOrderById(it,852662,GetUnitX(m5),GetUnitY(m5)))
endif
if(not J4)and(Bz>TC4[32+O5])then
set m5=SQ7(1200.,b5,Condition(function QHF))
set J4=(m5!=null)and(T77(it,852119,1093751639,m5))
endif
elseif(i1==1160786502)then
if((m5==null)and(G0[128+O5]))then
set m5=Z97(900.,it,Condition(function k6))
endif
if((G0[128+O5])and(UE7(GetHandleId(it),"Bird4")!=null)and(LR7(UE7(GetHandleId(it),"Bird4"))==false))then
if m5==null then
set m5=SQ7(900.,b5,Condition(function X97))
endif
set T6F=C57(it,m5,900,0.01,1000)
if T6F!=null then
set J4=IssuePointOrderByIdLoc(it,852185,T6F)
else
set J4=IssuePointOrderById(it,852185,GetUnitX(m5)+GetRandomReal(-75,75)*GetRandomReal(0,1),GetUnitY(m5)+GetRandomReal(-75,75)*GetRandomReal(0,1))
endif
endif
if(not J4 and(Bz>TC4[16+O5]))then
set UI4[O5]=true
set J4=(m5!=null)and((GetUnitLifePercent(m5)>70.)or((GetUnitLifePercent(m5)<30. and SS7(900.,it,Condition(function Y27))>=1))or(GZ[208+O5]))and(IssuePointOrderByIdLoc(it,852600,GetUnitLoc(m5)))
endif
if(not J4)then
set J4=((GetUnitLifePercent(it)>30.)and(GetUnitState(it,UNIT_STATE_MANA)>300. and GetUnitManaPercent(it)>40))and(SS7(900.,it,Condition(function Y27))>=1)or(SS7(500.,it,Condition(function X97))>3)and IssueImmediateOrderById(it,852490)or((m5!=null)and(GetRandomInt(1,3)==1)and((GetUnitLevel(it)>5)or(GetUnitLifePercent(m5)<30.))and(IssuePointOrderByIdLoc(it,852600,GetUnitLoc(m5))))
endif
if((not J4)and(Bz>hq[O5])and(SS7(600.,it,Condition(function Y27))>=2))and(SS7(550.,it,Condition(function YP7))>=2 or GetUnitLifePercent(it)<25.)then
set J4=IssueImmediateOrderById(it,852662)
endif
set UI4[O5]=false
set IN4=it
if(not J4)then
set G=E27
set X_7=Z97(900,it,And(Condition(function YS7),Condition(function YU7)))
set G=F47
set X_7=PV7(X_7==null,Z97(900,it,And(Condition(function YS7),Condition(function YU7))),X_7)
set m5=PV7(X_7!=null,X_7,PV7(m5!=null,m5,Z97(1100,it,And(Condition(function k6),Condition(function W27)))))
if(m5!=null)and(GetUnitLifePercent(it)>40)and(G0[256+O5])and(not IsUnitInRange(it,m5,300))and(IsUnitInRange(it,m5,1300))then
set h4[O5]=m5
set J4=IssueTargetOrderById(it,852218,m5)
endif
endif
elseif((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))then
if(GetUnitAbilityLevel(it,1112436083)>0)then
if((GetUnitState(it,UNIT_STATE_MANA)<100.)and(not SH7(it)))then
call IssueImmediateOrderById(it,852590)
call SetPlayerAbilityAvailable(pl,1093684560,false)
endif
elseif((GetHeroLevel(it)>3)and((GetUnitState(it,UNIT_STATE_MANA)>250.)or(SH7(it))))then
call SetPlayerAbilityAvailable(pl,1093684560,true)
call IssueImmediateOrderById(it,852589)
endif
if((h4[16+O5]!=null)and(G0[128+O5]))then
if(GetUnitAbilityLevel(h4[16+O5],1114665575)==0)then
set J4=IssueTargetOrderById(it,851983,h4[16+O5])
else
set h4[16+O5]=null
endif
endif
call SetPlayerAbilityAvailable(pl,1093682994,(GetUnitManaPercent(it)>75.)and(GetHeroLevel(it)>8))
if((not J4)and(m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3))then
set m5=K3(800.,it,Condition(function k6))
endif
set J4=(m5!=null)and(((GetUnitLifePercent(m5)<60.)and(not IsUnitIllusion(m5))and(GetUnitAbilityLevel(m5,1114665575)==0)and(TG7(it,OrderId("charm"),1093747028)))or(((GetUnitManaPercent(it)>70.)or(GetUnitLifePercent(m5)<60.))and(T77(it,852119,1093682994,m5))))
elseif(i1==1429221443)then
if((m5==null)and(G0[128+O5]))then
set m5=SQ7(600.,b5,Condition(function k6))
endif
if((GetHeroLevel(it)>6)and(m5!=null)and(GetUnitLifePercent(it)>50.))then
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093744948,false)
if(SU7(it,ZU[DM4])and(UX7(it,"ArmletOfMordigan|Active")==false)and(GetUnitLifePercent(it)>90.)and(IsUnitInRange(it,m5,110.)))then
set J4=(m5!=null)and(UnitUseItem(it,SY7(it,ZU[DM4])))
elseif(SU7(it,ZU[DK4])and(UX7(it,"ArmletOfMordigan|Active")==true)and((not IsUnitInRange(it,m5,150.))or(GetUnitLifePercent(it)<60.)))then
set J4=(UnitUseItem(it,SY7(it,ZU[DK4])))
else
set J4=(Bz>hq[240+O5])and((hq[416+O5]>Bz)or(GetUnitLifePercent(m5)<60.))and((TG7(it,852273,1093686322))or(SL7(it,ZU[D0])))
endif
if((not J4)and((GetUnitLifePercent(m5)<50.)))then
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093744948,true)
set GZ[O5]=true
set J4=(IssueTargetOrderById(it,852119,m5))
set GZ[O5]=false
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093744948,false)
endif
endif
elseif(i1==1162032951)then
if((GetHeroLevel(it)>20)and(SR7(1500.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>70.))then
call SetPlayerAbilityAvailable(pl,1093678404,true)
endif
if((m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5)and(Bz>hq[O5]))then
set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
set J4=(UP>200)and(UP<(400*GetUnitAbilityLevel(it,1093679152))or UP<(460*GetUnitAbilityLevel(it,1093752154)))and(T97(it,852527,1093679152,1093752154,m5))
endif
if((not J4)and(SU7(it,ZU[C0]))and(GetHeroLevel(it)>10)and(GetUnitManaPercent(it)>50.)and(G0[128+O5]))then
if((m5==null)and(GetUnitLifePercent(it)>70.))then
set m5=SO7(1500.,b5,Condition(function KK))
endif
if((m5!=null)and(not IsUnitIllusion(m5))and(not SU7(m5,ZU[EW]))and(GetUnitTypeId(m5)!=1212365106)and(not IsUnitInRange(it,m5,800.))and(IsUnitInRange(it,m5,1500.)))then
if((SS7(600.,m5,Condition(function YW7))>0)or((GetUnitLifePercent(m5)<75.)and(SS7(800.,m5,Condition(function YE7))==0)))then
set GZ[272+O5]=true
set J4=UnitUseItem(it,SY7(it,ZU[C0]))
set GZ[272+O5]=J4
endif
endif
endif
elseif(i1==1162032181)then
set U8F=GetHeroLevel(it)
set U4F=PZ7(GetUnitAbilityLevel(it,1093683761)!=0,1093683761,1093747767)
if((GetHeroLevel(it)>5)and(Bz>hq[O5]))then
if((m5==null)and(G0[128+O5]))then
set m5=SO7(1000.,b5,Condition(function k6))
endif
set U7F=SR7(700.,b5,Condition(function YO7))
if((m5!=null)and(not IsUnitIllusion(m5))and((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(RQF(it))+U7F*100+PL7(U8F-GetHeroLevel(m5)>3 or U8F>=13.,100,PL7(U8F>=17,300,175)))or(PT4))and(GetUnitState(m5,UNIT_STATE_LIFE)>300.))then
set GZ[O5]=true
set J4=J8(O5,(IsUnitInRange(it,m5,512.5))and(T77(it,852652,U4F,m5)))
if J4 then
call P57(NJ7[NM7+O5],(m5))
elseif(IsUnitInRange(it,m5,700.))and(R2I(GetUnitState(it,UNIT_STATE_MANA))>270+(25*GetUnitAbilityLevel(it,U4F)))then
set TLF=kL(it,m5,200.)
set J4=(TLF!=null)and(SR7(800.,TLF,Condition(function Y27))<=2)and(IssuePointOrderByIdLoc(it,852218,TLF))
endif
endif
if((not J4)and(GetHeroLevel(it)>10)and(m5!=null)and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,600.))and(Kz(700.,b5)>=1)and(U7F>0))then
set GZ[O5]=true
set J4=J8(O5,T77(it,852652,U4F,m5))
if J4 then
call P57(NJ7[NM7+O5],(m5))
endif
endif
endif
if((not J4)and(m5!=null)and(SF7(m5,it))and(not IC(O5))and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,I2R(350+(200*GetUnitAbilityLevel(it,1093684299))))))then
set TLF=kL(it,m5,200.)
set J4=(TLF!=null)and(SR7(800.,TLF,Condition(function Y27))<=2)and(IssuePointOrderByIdLoc(it,852218,TLF))
endif
elseif(i1==1160785972)then
call SetPlayerAbilityAvailable(pl,1093678161,(GetUnitLifePercent(it)<70.)and(R2I(GetUnitState(it,UNIT_STATE_MANA))>(120+(80*GetUnitAbilityLevel(it,1093677621)))))
call SetPlayerAbilityAvailable(pl,1093677872,(GetHeroLevel(it)>10.)and(iy(it))and(SR7(800.,b5,Condition(function k8))>0)and(GetUnitState(it,UNIT_STATE_MANA)>225.))
if((m5==null)and(G0[128+O5]))then
set m5=SO7(800.,b5,Condition(function k6))
endif
set J4=(m5!=null)and(GetUnitManaPercent(it)>60.)and(GetRandomInt(1,3)==1)and(GetHeroLevel(it)>3)and((not IsUnitInRange(it,m5,550.))and(T77(it,852173,1095263841,m5)))
if((GetHeroLevel(it)>8)and(G0[128+O5])and(GetUnitAbilityLevel(it,1110456118)==0))then
if((m5==null)and(GetUnitLifePercent(it)>70.))then
if((eY[O5]==9)and(h4[144+O5]!=null)and(SE7(h4[144+O5]))and(IsUnitInRange(it,h4[144+O5],1500.))and(not IsUnitVisible(it,GetOwningPlayer(h4[144+O5]))))then
set m5=h4[144+O5]
else
set m5=SO7(1500.,b5,Condition(function KK))
endif
endif
if((m5!=null)and(not IsUnitIllusion(m5))and(not kD(m5))and(GetUnitTypeId(m5)!=1212365106)and(not IsUnitInRange(it,m5,800.))and(IsUnitInRange(it,m5,1500.))and((GetUnitLifePercent(m5)<70.)or(SS7(650.,m5,Condition(function YW7))>0)))then
set h4[288+O5]=m5
set J4=(SS7(800.,m5,Condition(function YE7))==0)and(IssueImmediateOrderById(it,852129))
endif
endif
elseif(i1==1429221424)then
if(GetUnitAbilityLevel(it,1110454347)==0)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3))then
set m5=SO7(800.,b5,Condition(function k6))
endif
else
set J4=true
endif
if((not J4)and(m5!=null)and(GetHeroLevel(it)>3))then
if((not J4)and(GetUnitLifePercent(m5)<70.))then
set GZ[O5]=true
set J4=J8(O5,(T77(it,852555,1093687351,m5)))
endif
if(not J4)then
set IN4=m5
if not(GetWidgetLife(m5)<0.75*RMinBJ(5.*GetHeroInt(m5,true),GetUnitState(m5,UNIT_STATE_MANA)))then
set IN4=ZR7(it)
endif
if(IN4!=null)then
set GZ[O5]=true
set J4=J8(O5,(T77(it,852248,1093748789,m5)))
endif
endif
endif
if((not J4)and(GetHeroLevel(it)>5)and(GetUnitLifePercent(it)>70.)and(G0[128+O5]))then
if(m5==null)then
if((eY[O5]==9)and(h4[144+O5]!=null)and(SE7(h4[144+O5]))and(IsUnitInRange(it,h4[144+O5],1500.))and(not IsUnitVisible(it,GetOwningPlayer(h4[144+O5]))))then
set m5=h4[144+O5]
else
set m5=SO7(1500.,b5,Condition(function KK))
endif
endif
if((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)<75.)and(not kD(m5))and(GetUnitTypeId(m5)!=1212365106)and((not IsUnitVisible(it,GetOwningPlayer(m5)))or(not IsUnitInRange(it,m5,800.)))and(IsUnitInRange(it,m5,1500.))and(not SU7(m5,ZU[EW])))then
if(SS7(1000.,m5,Condition(function YE7))==0)then
set GZ[O5]=true
set h4[288+O5]=h4[O5]
set J4=J8(O5,TG7(it,852129,1093679445))
endif
endif
endif
if((m5==null)and(GetUnitAbilityLevel(it,1110454347)==0)and(GetHeroLevel(it)>9)and(SR7(1500.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>60.))then
call SetPlayerAbilityAvailable(pl,1093687351,true)
endif
elseif(i1==1432646245)then
if(not D88())then
if((Bz>hq[O5])and(not(GetFloatGameState(GAME_STATE_TIME_OF_DAY)==0.0)))then
set J4=IssueImmediateOrderById(it,852621)
endif
if((m5==null)and(G0[128+O5]))then
set m5=K3(900.,it,Condition(function k6))
if((m5!=null)and(GetUnitState(m5,UNIT_STATE_LIFE)<GetUnitState(it,UNIT_STATE_LIFE)))then
call CYE(O5,m5,false,false)
endif
endif
set J4=((m5!=null)and((T77(it,852095,1093677640,m5))or((kP(GetUnitTypeId(m5)))and(T77(it,852585,1093679171,m5)))))
else
set J4=(m5!=null)and(GetHeroLevel(it)>5)and(GetUnitLifePercent(m5)<65.)and(T77(it,852095,1093677640,m5))
endif
if((not J4)and(GetHeroLevel(it)>10)and(hq[416+O5]>Bz)and(G0[128+O5]))then
set UP=SR7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==TK7(not IsUnitAlly(it,Z7[0]))))and((SR7(1000.,b5,Condition(function YP7))>0)or(TK7(IsUnitAlly(it,Z7[0]))==1)))then
set m5=SQ7(700.,b5,Condition(function KN))
if(m5==null)then
set m5=SQ7(500.,b5,Condition(function k6))
endif
set J4=((m5!=null)and(GetUnitManaPercent(m5)>20.)and(T77(it,852585,1093679171,m5)))or((m5!=null)and(GetUnitLifePercent(m5)<70.)and(D88())and(Bz>hq[O5])and(IssueImmediateOrderById(it,852621)))
endif
endif
elseif(i1==1430466609)then
call SetPlayerAbilityAvailable(pl,1093678145,(GetHeroLevel(it)>10)and(GetUnitManaPercent(it)>60.))
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>4))then
set m5=SO7(900.,b5,Condition(function k6))
endif
if(m5!=null)then
if((not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)<50.)and(GetHeroLevel(it)>5)and(Bz>hq[O5])and(not IC(O5))and(not IsUnitInRange(it,m5,400.))and(IsUnitInRange(it,m5,750.)))then
set TLF=kL(it,m5,200.)
set J4=(TLF!=null)and((SR7(800.,TLF,Condition(function Y27))-SR7(800.,TLF,Condition(function YP7)))<=1)and(SR7(700.,TLF,Condition(function YE7))==0)and(IssuePointOrderByIdLoc(it,852525,TLF))
endif
if((not J4)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5)and(Bz>hq[O5]))then
set J4=(((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<RPF(it))or(Kz(400.,S_7(m5))>1))and(T97(it,852125,1093810258,1093810259,m5)))
endif
if(not J4)then
set J4=(((GetUnitManaPercent(it)>60.)and(GetHeroLevel(it)>5))or(SF7(m5,it)))and(T77(it,852527,1093685559,m5))
endif
endif
if(not J4)then
set J4=((SR7(400.,b5,Condition(function k6))>0)or((hq[240+O5]>Bz)and(SR7(400.,b5,Condition(function KA))>1)))and(TG7(it,852526,1093678145))
endif
if((not J4)and(GetHeroLevel(it)>11.)and(GetUnitManaPercent(it)>70.)and(iy(it))and(SR7(1400.,b5,Condition(function Ky))==0)and(eY[O5]==1))then
set TLF=kk(it,800.,h8[O5])
set J4=(TLF!=null)and(IssuePointOrderByIdLoc(it,852525,TLF))
endif
elseif(i1==1430468913)then
if((not J4)and(m5!=null)and(GetHeroLevel(it)>5))then
set J4=(((GetUnitLifePercent(m5)<60.)or(h4[O5]!=null)or(SR7(800.,b5,Condition(function YP7))>0))and(GetUnitAbilityLevel(m5,1110454356)==0)and(T77(it,852149,1093677876,m5)))
endif
if((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5)and(GetUnitLifePercent(m5)<40.)and((GetUnitState(it,UNIT_STATE_LIFE)>1800.)or(SR7(1000.,b5,Condition(function k6))<=2))and(not IsUnitInRange(it,m5,350.)))then
set GZ[O5]=true
set J4=J8(O5,TG7(it,852100,1093678403))
endif
call SetPlayerAbilityAvailable(pl,1093810507,(GetHeroLevel(it)>13)and(SR7(1500.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>75.))
if((not J4)and(m5!=null))then
set J4=((IsUnitInRange(it,m5,275.))and(TG7(it,852164,1093810507)))
endif
if((not J4)and(GetHeroLevel(it)>10)and(hq[416+O5]>Bz))then
set UP=SR7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==TK7(not IsUnitAlly(it,Z7[0]))))and((SR7(1000.,b5,Condition(function YP7))>0)or(TK7(IsUnitAlly(it,Z7[0]))==1)))then
set m5=K3(1000.,it,Condition(function k6))
set J4=(m5!=null)and(GetUnitAbilityLevel(m5,1110454356)==0)and(T77(it,852149,1093677876,m5))
endif
endif
elseif(i1==1430467634)then
set UP=GetHeroLevel(it)
call SetPlayerAbilityAvailable(pl,1093742674,(GetUnitManaPercent(it)>40.)and(Bz>TC4[16+O5]))
call SetPlayerAbilityAvailable(pl,1093750608,(UP>10)and(GetUnitManaPercent(it)>55.))
if((m5==null)and(G0[128+O5])and(UP>4))then
set m5=SO7(900.,b5,Condition(function k6))
endif
if((m5!=null)and(UP>4))then
set J4=((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(250+(250*RRF(it))))and(not IsUnitIllusion(m5))and(T97(it,852583,1093684565,1093681458,m5)))or((((GetHeroLevel(m5)==25)or(ModuloInteger(GetHeroLevel(m5),7-GetUnitAbilityLevel(it,1093679412))==0))or(GetUnitManaPercent(it)>60.)or(SF7(m5,it)))and(T77(it,852231,1093679412,m5)))
if((not J4)and(GetUnitManaPercent(it)>60.))then
set GZ[O5]=true
set J4=J8(O5,TG7(it,OrderId("fanofknives"),1093750608))
endif
endif
if((not J4)and(GetHeroLevel(it)>10)and(hq[416+O5]>Bz))then
set UP=SR7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==TK7(not IsUnitAlly(it,Z7[0]))))and((SR7(1000.,b5,Condition(function YP7))>0)or(TK7(IsUnitAlly(it,Z7[0]))==1)))then
set m5=K3(1000.,it,Condition(function k6))
set J4=(m5!=null)and(T97(it,852583,1093684565,1093681458,m5))
endif
endif
if((not J4)and(IsUnitInRange(it,m5,200.)))then
set J4=(m5!=null)and IssueImmediateOrderById(it,852127)
endif
if((not J4)and Bz>TC4[16+O5])then
set m5=SO7(300.,S_7(it),Condition(function YJ7))
set J4=(m5!=null)and(T77(it,852600,1093742674,m5))
endif
elseif(i1==1313026096)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>10))then
set m5=SQ7(800.,b5,Condition(function k6))
endif
set J4=(m5!=null)and(((GetUnitManaPercent(it)>50.)and(GetHeroLevel(it)>4))or(SF7(m5,it)))and(T77(it,852095,1095267426,m5))
if((not J4)and(GetHeroLevel(it)>10)and(m5!=null)and(not IsUnitIllusion(m5))and(GetUnitCurrentOrder(m5)!=851973)and(SS7(600.,m5,Condition(function YP7))>1))then
set J4=T77(it,852095,1095267426,m5)
endif
elseif((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517))then
if((not J4)and(GetHeroLevel(it)>5)and(GetUnitLifePercent(it)<50.)and(Bz>TC4[O5]))then
set bj_lastLoadedUnit=it
set IN4=null
set IP4=null
set EJ7=GetUnitLifePercent(it)+20.
set EK7=GetUnitLifePercent(it)+30.
call SQ7(700.,S_7(it),Condition(function XI7))
if IN4!=null then
set m5=IN4
else
set m5=IP4
endif
set J4=(m5!=null)and(T77(it,852189,1093678929,m5))
if J4 then
call CYE(O5,m5,false,false)
endif
endif
if((not J4)and(GetHeroLevel(it)>5)and(GetUnitLifePercent(it)>75.)and(Bz>TC4[O5]))then
set m5=SO7(600.,b5,Condition(function YS7))
if((m5!=null)and(T[GetPlayerId(GetOwningPlayer(m5))]>V[GetPlayerId(GetOwningPlayer(m5))]+3))then
set J4=(SS7(800.,m5,Condition(function k6))>0)and(T77(it,852189,1093678929,m5))
endif
endif
set m5=h4[O5]
if((not J4)and(m5!=null)and(not IsUnitIllusion(m5)))then
if((not J4)and(i1==1164277353)and(GetUnitLifePercent(m5)<70.))then
set J4=TG7(it,852663,1093751369)
endif
if not J4 and(GetHeroLevel(it)>20 or(GetHeroLevel(it)-GetHeroLevel(m5)>3)or i1!=1164277353)then
set J4=IssueImmediateOrderById(it,852600)
endif
if((not J4)and((SF7(m5,it))or(GZ[208+O5])or(GetUnitLifePercent(m5)<70. and GetUnitManaPercent(it)>70.)))then
set J4=T77(it,852119,1093815130,m5)
endif
endif
elseif(i1==1164666213)then
if(GetHeroLevel(it)>=6)then
set J4=(IsUnitInRange(it,h4[O5],400))or((SR7(400.,b5,Condition(function k6))>0)or((GetHeroLevel(it)>18)and(GetUnitManaPercent(it)>70.)and(SR7(400.,b5,Condition(function X97))>2)))
if not UX7(it,"AI|PulseNova")then
if(J4)then
call SetPlayerAbilityAvailable(pl,1093808455,true)
call TG7(it,852100,1093808454)
call TriggerSleepAction(0.1)
endif
else
if(not J4)then
call TG7(it,852100,1093808456)
call TriggerSleepAction(0.1)
endif
endif
call TriggerSleepAction(0.1)
set J4=false
endif
if(not J4)and G0[128+O5]and(GetUnitAbilityLevel(it,1093677877)>0)and(GetUnitManaPercent(it)>30)and(Bz>TC4[32+O5])then
if(m5==null)and SS7(700,it,Condition(function WC7))==0 then
set m5=SO7(800.,b5,Condition(function YE7))
if(m5!=null)then
set EK7=RH7(it,m5)
if(EK7<500)then
if(TG7(it,852594,1093677877))then
call TriggerSleepAction(0.1)
endif
else
set EJ7=PR7(it,m5)
set EK7=EK7-516
call MoveLocation(HA,GetWidgetX(it)+EK7*Cos(EJ7*bj_DEGTORAD),GetWidgetY(it)+EK7*Sin(EJ7*bj_DEGTORAD))
call IssuePointOrderByIdLoc(it,851986,HA)
endif
endif
set m5=null
elseif SS7(800,it,Condition(function WC7))>=1 then
set X_7=Z97(600,it,Condition(function YE7))
if SS7(150.,it,Condition(function X97))<=2 then
if(TG7(it,852594,1093677877))then
call TriggerSleepAction(0.1)
endif
else
set T6F=QO7(X_7,500,Condition(function X97),true)
if P17(T6F)then
call P07(T6F,2*GetUnitX(X_7)-GetLocationX(T6F),2*GetUnitY(X_7)-GetLocationY(T6F))
if RI7(GetUnitX(it),GetUnitY(it),GetLocationX(T6F),GetLocationY(T6F))<=150 then
if(TG7(it,852594,1093677877))then
call TriggerSleepAction(0.5)
endif
endif
call IssuePointOrderByIdLoc(it,851986,T6F)
endif
endif
endif
endif
set UP=GetHeroLevel(it)
if(not J4)and(h4[O5]!=null)and(SR7(300.,b5,Condition(function k6))>0)then
if(TG7(it,852594,1093677877))then
call TriggerSleepAction(0.1)
endif
endif
if((m5==null)and(G0[128+O5])and(GetUnitManaPercent(it)>70.)and(UP>3))then
set m5=SO7(1000.,b5,Condition(function k6))
endif
if((not J4)and(m5!=null))then
set J4=(((UP>3)or(GetUnitLifePercent(m5)<60.))and(DA9(m5))and(T77(it,852224,1093678679,m5)))
endif
if((not J4)and(m5!=null))then
set J4=(((UP>3)or(GetUnitLifePercent(m5)<60.))and(T77(it,852119,1093678678,m5)))
endif
if(not J4)and(m5==null)then
set m5=SO7(1000.,b5,Condition(function X97))
if(not J4)and(m5!=null)and(UP>8)and(GetUnitManaPercent(it)>60.)then
set J4=(T77(it,852119,1093678678,m5))
endif
if(not J4)and(m5!=null)and(UP>14)and(GetUnitManaPercent(it)>60.)and(SS7(150.,it,Condition(function X97))>2)then
set J4=(T77(it,852224,1093678679,m5))
endif
if(not J4)and(m5!=null)and((UP>14)or((UP>10)and(eY[O5]>9)))and(GetUnitManaPercent(it)>40.)and(SS7(500.,it,Condition(function X97))>2)then
set J4=(TG7(it,852594,1093677877))
endif
endif
set bj_lastLoadedUnit=it
if(not J4)and(h4[O5]!=null)and(eY[320+O5]>=0)and(not IsUnitInRange(it,m5,300))and((GetUnitLifePercent(it)>80)or(GetUnitLifePercent(it)>(GetUnitLifePercent(m5)+30)))and(GetUnitManaPercent(it)>20)and(h4[304+O5]==null)and(SS7(900,m5,Condition(function ST7))==0)then
set J4=IssuePointOrderById(it,852686,GetUnitX(m5),GetUnitY(m5))
endif
elseif(i1==1433168227)then
call SetPlayerAbilityAvailable(pl,1093678918,(GetHeroLevel(it)>9)and((GetUnitManaPercent(it)>70.)or(m5!=null)or(SR7(900.,b5,Condition(function k6))>0)))
if GetUnitManaPercent(it)>60. then
call SetPlayerAbilityAvailable(pl,1093679186,true)
if IssueImmediateOrderById(it,852458)then
call TriggerSleepAction(0.1)
endif
else
call SetPlayerAbilityAvailable(pl,1093679186,false)
endif
if((m5==null)and(G0[128+O5])and(GetUnitManaPercent(it)>70.)and(GetHeroLevel(it)>2))then
set m5=SO7(1000.,b5,Condition(function k6))
endif
if((m5!=null)and(GetHeroLevel(it)>2))then
if((GetHeroLevel(it)>5)and(Bz>hq[O5])and(not IsUnitIllusion(m5))and(GetUnitState(m5,UNIT_STATE_LIFE)>200.))then
set UP=SS7(550.,m5,Condition(function KA))
if((UP>1)and(UP<6)and((UP<=(SS7(550.,m5,Condition(function k6))*2))or((SF7(m5,it))and(GetUnitState(m5,UNIT_STATE_LIFE)<450.))))then
set GZ[O5]=true
set J4=J8(O5,T97(it,852227,1093678420,1093679176,m5))
endif
endif
if(not J4)then
set J4=((GetUnitManaPercent(it)>60.)or(GetUnitLifePercent(m5)<50.))and(T77(it,852226,1093678918,m5))
endif
endif
if((not J4)and(GetUnitManaPercent(it)<75.))then
set m5=SO7(600.,b5,Condition(function KD))
set J4=(m5!=null)and(T77(it,852066,1093678387,m5))
endif
elseif(i1==1429221430)then
if(m5==null)then
set m5=SO7(700.,b5,Condition(function k6))
endif
if(not J4)and(m5!=null)and((GetUnitState(m5,UNIT_STATE_LIFE)<56.25*GetUnitAbilityLevel(it,1093681736))or(GetUnitState(m5,UNIT_STATE_LIFE)>500. and GetUnitState(it,UNIT_STATE_MANA)>300.)or(GZ[208+O5]))then
set J4=T77(it,852601,1093681736,m5)
endif
if(not J4)and(GetUnitAbilityLevel(it,1110454597)>0)then
if(h4[O5]==null)then
call CYE(O5,m5,false,false)
endif
if((GetUnitCurrentOrder(it)==851986)and(not G0[O5])and(hq[512+O5]>Bz)and(G0[128+O5])and(SR7(800.,b5,Condition(function KC))>1))then
call T47(it,851983,h8[O5])
endif
elseif(not J4)and((GetUnitAbilityLevel(it,1110454595)>0)and(GetUnitCurrentOrder(it)==851986)and((not IsUnitVisible(it,Z7[0]))or(not IsUnitVisible(it,A7[0])))and(((SR7(800.,b5,Condition(function k8))>0)or(SR7(800.,b5,Condition(function KC))>0))))then
call IssueImmediateOrderById(it,851993)
endif
if(not J4)and(m5!=null)and((SR7(1500.,b5,Condition(function KR))==0)and(SR7(400.,b5,Condition(function k6))==0)and(RH7(it,IZ4)>1500)and(RH7(it,JA4)>1500)and(GetUnitState(it,UNIT_STATE_MANA)>250.))then
set J4=T87(it,852224,1093681735,b5)
endif
if((not J4)and(GetHeroLevel(it)>13)and(hq[416+O5]>Bz)and(G0[128+O5])and(GetUnitAbilityLevel(it,1110454597)==0)and(GetUnitState(it,UNIT_STATE_MANA)>200.))then
set UP=SR7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==TK7(not IsUnitAlly(it,Z7[0]))))and((SR7(1000.,b5,Condition(function YP7))>0)or(TK7(IsUnitAlly(it,Z7[0]))==1)))then
if(((m5==null)or(not IsUnitInRange(it,m5,400.)))and(G0[128+O5]))then
set m5=SO7(400.,b5,Condition(function k6))
endif
set J4=(m5!=null)and(GetUnitLifePercent(m5)<80.)and(RH7(it,m5)<300)and(TG7(it,852164,1093687121))
endif
endif
if(not J4)and(h4[O5]==null)and GZ[O5]and((GetUnitState(it,UNIT_STATE_MANA)>300 and GetUnitManaPercent(it)>50))then
set EJ7=GetUnitAbilityLevel(it,1093681736)*75.
set m5=SO7(600.,b5,Condition(function YN7))
set J4=(m5!=null)and(T77(it,852601,1093681736,m5))
endif
elseif(i1==1430466872)then
call SetPlayerAbilityAvailable(pl,1093687349,(GetHeroLevel(it)>9)and(GetUnitManaPercent(it)>60.)and(SR7(1200.,b5,Condition(function k6))==0))
if(m5!=null)then
set GZ[O5]=true
set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
if((Bz>hq[O5])and(not IsUnitIllusion(m5))and(UP>200)and(UP<RSF(it)+100))then
set J4=J8(O5,(T77(it,852502,1093684558,m5))or(T77(it,852555,1093687349,m5))or((not ke(m5))and(T97(it,852119,1093679413,1093679447,m5))))
elseif((GetHeroLevel(it)>2)or(SF7(m5,it)))then
set J4=(T77(it,852555,1093687349,m5))or((GetUnitLifePercent(m5)<50.)and(not IsUnitIllusion(m5))and(T77(it,852502,1093684558,m5)))
endif
elseif((GetUnitManaPercent(it)>50.)and(G0[128+O5])and(GetHeroLevel(it)>2))then
set m5=SO7(1000.,b5,Condition(function k6))
set J4=(m5!=null)and(T77(it,852555,1093687349,m5))
endif
if((not J4)and(GetHeroLevel(it)>10)and((GetUnitState(it,UNIT_STATE_MAX_MANA)-GetUnitState(it,UNIT_STATE_MANA))>400.)and(iy(it))and(eY[O5]==1))then
set m5=SO7(700.,b5,Condition(function k9))
set J4=(m5!=null)and(T77(it,852066,1093678387,m5))
endif
if((not J4)and(GetHeroLevel(it)>15)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[128+O5]))then
set UP=SR7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==TK7(not IsUnitAlly(it,Z7[0]))))and((SR7(1000.,b5,Condition(function YP7))>0)or(TK7(IsUnitAlly(it,Z7[0]))==1)))then
set m5=K3(700.,it,Condition(function k6))
if(m5!=null)then
set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
set J4=(GetUnitLifePercent(m5)<60.)and(UP<1600)and(UP>500)and(not ke(m5))and(T97(it,852119,1093679413,1093679447,m5))
endif
endif
endif
if(not J4)and(GetUnitManaPercent(it)<70)then
set IJ4=RMinBJ(I2R(GetUnitAbilityLevel(it,1093677646)*80),160)
if(m5==null or GetUnitState(m5,UNIT_STATE_MANA)<IJ4)then
set m5=ZO7(it)
endif
set J4=(m5!=null)and(T77(it,852487,1093677646,m5))
endif
elseif(i1==1162032439)then
set J4=GetUnitAbilityLevel(it,1110456148)>0
if((not J4)and(m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3))then
set m5=SO7(900.,b5,Condition(function k6))
endif
if((not J4)and(m5!=null))then
set J4=(((GetUnitManaPercent(it)>50.)and(GetHeroLevel(it)>2))or(SF7(m5,it)))and(T77(it,OrderId("volcano"),1093744435,m5))
endif
if((not J4)and(m5!=null)and(GetUnitLifePercent(m5)<70.)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>10)and(Bz>hq[16+O5])and(G0[128+O5]))then
set UP=Kz(600.,b5)
if((UP>1)or((UP>0)and(SR7(800.,b5,Condition(function YP7))>0)))then
set GZ[O5]=true
call SetPlayerAbilityAvailable(pl,1093681462,true)
set J4=J8(O5,(TG7(it,852594,1093677363)))
endif
endif
if((not J4)and(G0[128+O5])and(SU7(it,ZU[RW]))and(m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>10)and(Bz>hq[16+O5])and(GetUnitLifePercent(it)>65.)and(GetUnitManaPercent(it)>50.)and(not IsUnitInRange(it,m5,300.))and(IsUnitInRange(it,m5,800.)))then
set h4[16+O5]=m5
set J4=R3F(it,m5)
endif
if(not J4)and(h4[O5]!=null)then
set J4=T77(it,852504,1093684563,m5)
endif
call SetPlayerAbilityAvailable(pl,1093684563,(not J4)and(((GetHeroLevel(it)>8)and(GetUnitManaPercent(it)>45.))or((GetHeroLevel(it)>15)and(GetUnitManaPercent(it)>30.))))
elseif(i1==1430466865)then
if(m5==null)then
set m5=SO7(800.,b5,Condition(function k6))
endif
call SetPlayerAbilityAvailable(pl,1093677651,(GetHeroLevel(it)>15)and(SR7(1500.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>75.))
if((G0[128+O5])and(not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)<65. or SF7(it,m5)or GZ[208+O5]or eY[320+O5]>=0)and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,700.))and((not IC(O5))or(PH7(it)>1600.))and(TC4[32+O5]>Bz))then
if(SU7(it,ZU[RW]))then
set J4=(((Bz>hq[O5])and(GetUnitState(it,UNIT_STATE_MANA)>175.+(GetUnitAbilityLevel(it,1093810508)*100)))or(eY[320+O5]>=1)or(SF7(it,m5)))and(GetUnitState(it,UNIT_STATE_MANA)>400.)and(R3F(it,m5))
endif
if not J4 then
set J4=((GetUnitState(it,UNIT_STATE_MANA)>180.+(GetUnitAbilityLevel(it,1093810508)*100))or(SF7(it,m5)))and(T77(it,852218,1093751364,m5))
endif
endif
if((not J4)and(GetHeroLevel(it)>5)and(Bz>hq[O5]))then
if((m5==null)and(G0[128+O5]))then
set m5=Z47(800.,it)
endif
if((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)<30 or GZ[208+O5]))then
if(Kz(400.,S_7(m5))>1 or GetUnitLifePercent(m5)<30)and(((not IsUnitInRange(it,m5,300.))and(R3F(it,m5)))or(IsUnitInRange(it,m5,300.)))then
if(not is(it))then
call R97(0.1)
endif
set J4=(TG7(it,852164,1093810508))
endif
endif
endif
if(not J4)and(IsUnitInRange(it,m5,200.))and(SR7(250.,b5,Condition(function k8))<=1)then
set EJ7=PR7(it,m5)
set EK7=PR7(it,h9[O5])
set EJ7=RAbsBJ(EJ7-EK7)
if EJ7<15 then
set EJ7=RAbsBJ(GetUnitFacing(it)-EK7)
if EJ7<15 then
set J4=((GetUnitState(it,UNIT_STATE_MANA)>180.+(GetUnitAbilityLevel(it,1093810508)*100))or(SF7(it,m5)))and(T77(it,852218,1093751364,m5))
endif
endif
endif
if((not J4)and(GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>60.))then
if((m5==null)and(G0[128+O5]))then
set m5=SO7(600.,b5,Condition(function k6))
endif
if((m5!=null)and(IsUnitInRange(it,m5,600.)))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it)))
call SetPlayerAbilityAvailable(pl,1093677651,true)
set GZ[O5]=true
set J4=J8(O5,IssuePointOrderById(it,852125,GetUnitX(it)+300.*Cos(UP*bj_DEGTORAD),GetUnitY(it)+300.*Sin(UP*bj_DEGTORAD)))
endif
endif
if((not J4)and(GetHeroLevel(it)>10)and(SR7(800.,b5,Condition(function k8))>0))then
set J4=(GetUnitAbilityLevel(it,1110454357)==0)and(GetUnitManaPercent(it)>65.)and(T77(it,852066,1093677879,it))
if((not J4)and(GetUnitAbilityLevel(it,1110454357)>0)and(GetUnitManaPercent(it)>75.))then
set m5=SO7(700.,b5,Condition(function YP7))
set J4=(m5!=null)and(kq(GetUnitTypeId(m5)))and(GetUnitAbilityLevel(m5,1110454357)==0)and(T77(it,852066,1093677879,m5))
endif
endif
elseif(i1==1430468144)then
if((m5==null)and(G0[128+O5]))then
set m5=SO7(800.,b5,Condition(function k6))
endif
set UP=UQ7(GetHandleId(it),"Level")
if((m5!=null)and(IsUnitInRange(it,m5,860.))and GetUnitState(m5,UNIT_STATE_LIFE)<20+(60*UP))then
set J4=(IssueTargetOrderById(it,852248,m5))
else
set J4=((IsUnitInRange(it,m5,860.))and(UP>GetUnitAbilityLevel(it,1093750337))and(GetUnitManaPercent(it)>35.)and(GetHeroLevel(it)>3)and(IssueTargetOrderById(it,852248,m5)))
endif
if((not J4)and(m5!=null)and(SU7(it,ZU[DR4]))and(Bz>TC4[240+O5])and(DY9(m5)==false)and(B77(m5)==false))then
set J4=UnitUseItemTarget(it,SY7(it,ZU[DR4]),m5)
endif
if(not J4 and m5!=null)then
set J4=(((GetUnitLifePercent(m5)<50.)or(SR7(500.,b5,Condition(function YP7))>0))and((GetHeroLevel(it)>10)and(T77(it,852189,1093679192,m5))))
endif
if((not J4)and(GetHeroLevel(it)>5)and(Bz>TC4[O5]))then
if(UX7(it,"AIFamiliar1|Status")==false or UX7(it,"AIFamiliar2|Status")==false or(GetUnitAbilityLevel(it,1093814599)!=0 and UX7(it,"AIFamiliar3|Status")==false))then
call SetPlayerAbilityAvailable(pl,1093750341,true)
set J4=IssueImmediateOrderById(it,852526)
elseif(UX7(it,"AIFamiliar1|Stone")and UX7(it,"AIFamiliar2|Stone")and(GetUnitAbilityLevel(it,1093814599)==0 or UX7(it,"AIFamiliar3|Stone")))then
call SetPlayerAbilityAvailable(pl,1093750341,true)
set J4=IssueImmediateOrderById(it,852526)
else
call SetPlayerAbilityAvailable(pl,1093750341,false)
endif
endif
elseif((i1==1429221432)or(i1==1160786229))then
call SetPlayerAbilityAvailable(pl,1093687878,(GetHeroLevel(it)>15)and(GetUnitManaPercent(it)>70.))
call SetPlayerAbilityAvailable(pl,1093677892,(GetHeroLevel(it)>10)and(GetUnitManaPercent(it)>60.))
if((m5==null)and(G0[128+O5]))then
if(i1==1160786229)then
set m5=SO7(1000.,b5,Condition(function k6))
elseif(Bz>hq[O5])then
set m5=SQ7(600.,b5,Condition(function k6))
endif
endif
if(m5!=null)then
set J4=(Bz>hq[O5])and(i1==1429221432)and(not IsUnitIllusion(m5))and((GetUnitLifePercent(m5)<60.)or((GetUnitLifePercent(m5)<75.)and(SR7(2000.,b5,Condition(function YE7))==0)))and(TG7(it,852180,1093679411))
if((i1==1160786229)or((not J4)and((GetHeroLevel(it)>4)or(GetUnitLifePercent(m5)<60.))and(R2I(GetUnitState(it,UNIT_STATE_MANA))>(250+(25*(GetUnitAbilityLevel(it,1093679411)))))))then
set J4=(TG7(it,OrderId("channel"),1093687878))or(TG7(it,852126,1093677892))
endif
endif
if((not J4)and(GetHeroLevel(it)>12)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[128+O5]))then
set UP=SR7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==TK7(not IsUnitAlly(it,Z7[0]))))and((SR7(1000.,b5,Condition(function YP7))>0)or(TK7(IsUnitAlly(it,Z7[0]))==1)))then
set m5=K3(700.,it,Condition(function k6))
set J4=(m5!=null)and(GetUnitLifePercent(m5)<80.)and(TG7(it,852180,1093679411))
endif
endif
elseif(i1==1429221441)then
set J4=(m5!=null)and(GetHeroLevel(it)>5)and(GetUnitLifePercent(m5)<70.)and(T77(it,852231,1093678389,m5))
if((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(((GetHeroLevel(it)>5)and(not IC(O5)))or(SM7(m5,it)))and(not IsUnitInRangeLoc(m5,b5,250.)))then
set J4=(kJ(GetUnitX(m5),GetUnitY(m5)))and((SS7(800.,m5,Condition(function Y27))-SS7(800.,m5,Condition(function YP7)))<=1)and(IssueTargetOrderById(it,852600,m5))
endif
if((not J4)and(GetHeroLevel(it)>14)and(hq[416+O5]>Bz)and(Bz>hq[16+O5])and(G0[128+O5]))then
set UP=SR7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==TK7(not IsUnitAlly(it,Z7[0]))))and((SR7(1000.,b5,Condition(function YP7))>0)or(TK7(IsUnitAlly(it,Z7[0]))==1)))then
set m5=K3(700.,it,Condition(function k6))
set J4=(m5!=null)and(GetUnitLifePercent(m5)<80.)and(TG7(it,852123,1093677903))
endif
endif
if((not J4)and(GetHeroLevel(it)>17)and(Bz>hq[16+O5]))then
set m5=SQ7(500.,b5,Condition(function YE7))
set J4=(m5!=null)and(GetUnitLifePercent(m5)<55.)and(GetUnitLifePercent(m5)>15.)and(SS7(800.,m5,Condition(function KC))>2)and(TG7(it,852123,1093677903))
endif
elseif(i1==1165451634)then
set J4=(m5!=null)and(((GetHeroLevel(it)>5)and(GetUnitLifePercent(m5)<70.))or(SM7(m5,it)))and(T77(it,OrderId("acidbomb"),1093687629,m5))
if((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(((GetHeroLevel(it)>5)and(not IC(O5)))or(SM7(m5,it)))and(not IsUnitInRangeLoc(m5,b5,250.)))then
set J4=(kJ(GetUnitX(m5),GetUnitY(m5)))and((SS7(800.,m5,Condition(function Y27))-SS7(800.,m5,Condition(function YP7)))<=1)and(IssueTargetOrderById(it,852600,m5))
endif
elseif(i1==1432642913)then
set J4=(m5!=null)and(GetHeroLevel(it)>5)and((GetUnitLifePercent(it)>75.)or((GetUnitLifePercent(it)-25.)>GetUnitLifePercent(m5)))and(IssueTargetOrderById(it,852662,m5))
if(not J4)then
set m5=SO7(800.,b5,Condition(function YS7))
if(m5!=null)then
set J4=((SS7(800.,m5,Condition(function k6))>0)and(IssueTargetOrderById(it,852119,m5)))or((GetUnitLifePercent(it)>60.)and(IssueTargetOrderById(it,852662,m5)))
endif
if((not J4)and(GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>50.)and(SR7(600.,b5,Condition(function KA))>0))then
set J4=IssueTargetOrderById(it,852119,it)
endif
endif
elseif(i1==1215722344)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>5)and(Bz>hq[O5]))then
set m5=SO7(800.,b5,Condition(function k6))
endif
if(m5!=null)then
if((GetHeroLevel(it)>5)and(GetUnitAbilityLevel(it,1110454616)==0)and(not IsUnitIllusion(m5))and(Bz>hq[O5])and(GetUnitState(m5,UNIT_STATE_LIFE)>300.))then
if(((IsUnitInRange(it,m5,500.))and(GetUnitLifePercent(m5)<60.))or((SS7(700.,m5,Condition(function YP7))>0)and(GetUnitLifePercent(m5)<80.))or((SS7(700.,m5,Condition(function YW7))>0)and(SS7(700.,m5,Condition(function k8))<4)))then
set GZ[O5]=true
set J4=J8(O5,T77(it,852231,1093684296,m5))
endif
else
set J4=(GetHeroLevel(it)>5)and(IsUnitInRange(it,m5,300.))and(GetUnitLifePercent(it)>70.)and(T77(it,852668,1093682499,it))
endif
elseif((GetHeroLevel(it)>5)and(GetUnitAbilityLevel(it,1110454616)==0)and(GetUnitManaPercent(it)>70.))then
set J4=(SR7(1200.,b5,Condition(function k6))==0)and(SR7(700.,b5,Condition(function KA))>0)and(T77(it,852668,1093682499,it))
else
call SetPlayerAbilityAvailable(pl,1093682499,false)
endif
elseif(i1==1432510828)then
set J4=(RVF(it)>35.)and((m5!=null)or(SR7(1000.,b5,Condition(function k6))>0))and(TG7(it,852600,1093682004))
if(not J4)then
set m5=SO7(1500.,b5,Condition(function k6))
if(m5!=null)then
set J4=IssuePointOrderById(it,852662,GetUnitX(m5),GetUnitY(m5))
set m5=null
endif
endif
if((not J4)and(G0[128+O5]))then
if(m5==null)then
set m5=SO7(700.,b5,Condition(function k6))
endif
if(m5!=null)then
if(SS7(900.,m5,Condition(function YE7))>0)then
if((SM7(m5,it))or((GetHeroLevel(it)>4)and(IsUnitInRange(it,m5,250.))and(not IC(O5))and(GetUnitLifePercent(it)>75.)))then
set h4[288+O5]=m5
set J4=IssueImmediateOrderById(it,852129)
endif
else
if((SM7(m5,it))or((GetHeroLevel(it)>4)and((GetUnitManaPercent(it)>50.)or(GetHeroLevel(it)>10.))and(SS7(800.,m5,Condition(function Y27))-SS7(800.,m5,Condition(function YP7))<=1)))then
set h4[288+O5]=m5
set J4=IssueImmediateOrderById(it,852129)
endif
endif
endif
endif
elseif(i1==1332766568)then
if((G0[128+O5])and(SU7(it,ZU[RW]))and(GetHeroLevel(it)>12)and(m5!=null)and(not IsUnitIllusion(m5))and(Bz>hq[O5])and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,700.)))then
set J4=((SS7(800.,m5,Condition(function Y27))-SS7(800.,m5,Condition(function YP7)))<=1)and(R3F(it,m5))
endif
if(m5!=null)then
set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
set J4=(GetHeroLevel(it)>5)and(not IsUnitIllusion(m5))and((UP<(150+(150*GetUnitAbilityLevel(it,1093682482))))or(UP<(150+(150*GetUnitAbilityLevel(it,1093750098)))))and(UP>150)and(T97(it,852119,1093682482,1093750098,m5))
if((not J4)and((GetHeroLevel(it)>3)or(SF7(m5,it)))and(R2I(GetUnitState(it,UNIT_STATE_MANA))>(195+(40*GetUnitAbilityLevel(it,1093682482)))))then
set J4=IssueTargetOrderById(it,852248,m5)
endif
endif
if((not J4)and(GetHeroLevel(it)>10)and(hq[416+O5]>Bz)and(G0[128+O5]))then
set UP=SR7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==TK7(not IsUnitAlly(it,Z7[0]))))and((SR7(1000.,b5,Condition(function YP7))>0)or(TK7(IsUnitAlly(it,Z7[0]))==1)))then
set J4=(GetUnitLifePercent(it)>70.)and(((UP>1)and(SR7(280.,b5,Condition(function k6))>1))or((UP<=2)and(SR7(280.,b5,Condition(function k6))>0)))and(IssueImmediateOrderById(it,852600))
endif
endif
if((not J4)and(GetHeroLevel(it)>3))then
if(m5==null)then
set m5=K3(800.,it,Condition(function k6))
endif
set J4=(m5!=null)and((GetUnitManaPercent(it)>60.)or(SM7(m5,it)))and(IssueTargetOrderById(it,852248,m5))
endif
if((not J4)and(SR7(800.,b5,Condition(function YS7))>0))then
set J4=(SR7(280.,b5,Condition(function k6))>0)and(IssueImmediateOrderById(it,852600))
endif
elseif(i1==1429221451)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>5))then
set m5=SO7(1000.,b5,Condition(function k6))
endif
if((m5!=null)and(not IsUnitInRange(it,m5,200.))and(GetUnitLifePercent(m5)<50.)and(GetUnitCurrentOrder(it)==851983))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it)))
set J4=IssuePointOrderById(it,852218,GetUnitX(m5)+100.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+100.*Sin(UP*bj_DEGTORAD))
endif
if((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5)and(R2I(GetUnitState(it,UNIT_STATE_MANA))>250+(75*GetUnitAbilityLevel(it,1093678674))))then
if((Bz>hq[O5])and(Bz>hq[112+O5])and(Bz>hq[240+O5])and(SU7(it,ZU[RW]))and(IsUnitInRange(it,m5,900.))and(not IsUnitInRange(it,m5,300.)))then
set UP=SR7(1000.,b5,Condition(function k6))
if((not IsUnitVisible(it,GetOwningPlayer(m5)))or((hq[416+O5]>Bz)and((UP>1)or(UP==TK7(not IsUnitAlly(it,Z7[0]))))and((SR7(800.,b5,Condition(function YP7))>0)or(TK7(IsUnitAlly(it,Z7[0]))==1))))then
set J4=(SR7(500.,b5,Condition(function k6))==0)and(IssueImmediateOrderById(it,852581))
endif
endif
if(not J4)then
set J4=(Bz>hq[O5])and(IssueTargetOrderById(it,852218,m5))
endif
if((not J4)and((hq[O5]-Bz)>20.)and(GetUnitLifePercent(it)>70.)and(not IC(O5))and(GetUnitState(it,UNIT_STATE_MANA)>500.)and(IsUnitInRange(it,m5,500.))and(SR7(500.,b5,Condition(function YP7))>0))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it)))
set J4=IssuePointOrderById(it,852218,GetUnitX(m5)+100.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+100.*Sin(UP*bj_DEGTORAD))
endif
endif
if(not J4)and(Bz>TC4[32+O5])and(GetUnitAbilityLevel(it,1093683248)>1)and(G0[256+O5])and(h4[304+O5]==null)and(SS7(GetUnitAbilityLevel(it,1093683248)*50+100,it,Condition(function X97))>4)then
set J4=IssueImmediateOrderById(it,852503)
endif
elseif(i1==1315334514)then
set J4=(GetUnitAbilityLevel(it,1110456148)==0)and(GetUnitManaPercent(it)>50.)and(GetHeroLevel(it)>3)and((RYF(it,200.,852164,1093682521))or(RYF(it,450.,852588,1093682760))or(RYF(it,700.,852599,1093682736)))
if((not G0[128+O5])or(J4))then
elseif((SU7(it,ZU[C0]))and(GetHeroLevel(it)>10)and(Bz>hq[O5])and(GetUnitManaPercent(it)>50.)and((GetUnitAbilityLevel(it,1093682001))>(GetUnitAbilityLevel(it,1093681746)*4)))then
if(m5==null)then
set m5=SO7(1200.,b5,Condition(function KK))
endif
if((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitTypeId(m5)!=1212365106)and(SS7(800.,m5,Condition(function YE7))==0)and((SS7(600.,m5,Condition(function YW7))>0)or(not IsUnitInRange(it,m5,800.))or(not IsUnitVisible(it,Z7[0]))or(not IsUnitVisible(it,A7[0]))))then
set GZ[272+O5]=true
set J4=UnitUseItem(it,SY7(it,ZU[C0]))
set GZ[272+O5]=J4
endif
elseif((SU7(it,ZU[RW]))and(m5!=null)and(not IsUnitIllusion(m5))and(not IC(O5))and(GetHeroLevel(it)>10)and(Bz>hq[O5])and(GetUnitLifePercent(it)>65.)and(GetUnitManaPercent(it)>50.)and((GetUnitAbilityLevel(it,1093682001))>(GetUnitAbilityLevel(it,1093681746)*4)))then
set J4=((SS7(800.,m5,Condition(function Y27))-SS7(800.,m5,Condition(function YP7)))<=1)and(R3F(it,m5))
endif
if((not J4)and(GetHeroLevel(it)>12)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[128+O5])and(GetRandomInt(1,3)==1))then
set UP=SR7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==TK7(not IsUnitAlly(it,Z7[0]))))and(SR7(1000.,b5,Condition(function YP7))>0))then
set UP=SR7(650.,b5,Condition(function k6))
set J4=((UP>1)or(UP==TK7(not IsUnitAlly(it,Z7[0]))))and(TG7(it,852273,1093810506))
endif
endif
elseif(i1==1328558154)then
if LoadBoolean(L7,GetHandleId(it),1145131595)then
set J4=true
if J4 then
if ZL7(GetOwningPlayer(it))then
set T3F=XH4
else
set T3F=XG4
endif
set X_7=LoadUnitHandle(L7,T_F,1145131595)
if IsPointInRegion(IU4,GetUnitX(it),GetUnitY(it))==false and not((SS7(700,X_7,Condition(function k6))<=IMinBJ(PZ7(IsUnitInRegion(T3F,X_7),2+R2I((GetHeroLevel(it)-GetHeroLevel(X_7))/4),999),PZ7(SS7(500,X_7,Condition(function YE7))>0,3+R2I(GetUnitLifePercent(it)-GetUnitLifePercent(X_7))/20,999)))or SS7(900,X_7,Condition(function XM7))>=2)then
call IssueImmediateOrderById(it,851972)
endif
endif
endif
if J4==false and SH7(it)and SS7(500,it,Condition(function k6))>=1 and PO7(it,30,400,NT7)then
set NV7=2500
set X_7=Z97(99999,it,And(Condition(function X97),Condition(function W17)))
if X_7==null then
set NV7=1500
set X_7=Z97(99999,it,And(Condition(function X97),Condition(function W17)))
endif
set J4=(X_7!=null)and IssueTargetOrderById(it,852600,X_7)
endif
if((m5!=null)and(not J4)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5)and(SF7(m5,it)or((GetUnitLifePercent(m5)<60.)and(not IsUnitInRange(it,m5,600.))))and(((SS7(900.,m5,Condition(function Y27))<=2)and(SU7(it,ZU[J1]))or(SU7(it,ZU[T2])))or((SS7(900.,m5,Condition(function Y27))<2))))then
set J4=((not ke(m5))and(SR7(700.,GetUnitLoc(m5),Condition(function YE7))==0)and(IssueTargetOrderById(it,852600,m5)))
endif
if((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5)and(GetUnitLifePercent(m5)<60.)and(IsUnitInRange(it,m5,TC4[64+O5])))then
set J4=(IssueTargetOrderById(it,852248,m5))
endif
if((not J4)and SU7(it,ZU[DM4])and(UX7(it,"ArmletOfMordigan|Active")==false)and(GetUnitLifePercent(it)>90.)and(IsUnitInRange(it,m5,110.)))then
set J4=(m5!=null)and(UnitUseItem(it,SY7(it,ZU[DM4])))
elseif((not J4)and SU7(it,ZU[DK4])and(UX7(it,"ArmletOfMordigan|Active")==true)and((not IsUnitInRange(it,m5,150.))or(GetUnitLifePercent(it)<60.)))then
set J4=(UnitUseItem(it,SY7(it,ZU[DK4])))
endif
if((not J4)and(GetHeroLevel(it)>10)and(hq[O5]>Bz))then
if((m5==null)or(IsUnitInRange(it,m5,500.)))then
set m5=K3(1500.,it,Condition(function k6))
endif
set J4=(m5!=null)and((GetUnitLifePercent(m5)<60.)and((GetUnitState(m5,UNIT_STATE_LIFE)+300.)<GetUnitState(it,UNIT_STATE_LIFE)))and(not IsUnitInRange(it,m5,600.))and(SS7(700.,m5,Condition(function Y27))<=2)and(not WF7(m5))and(SR7(700.,GetUnitLoc(m5),Condition(function YE7))==0)and(IssueTargetOrderById(it,852600,m5))
endif
if((not J4)and(not Id(O5))and(GetHeroLevel(it)>10)and(hq[O5]>Bz))then
set m5=SQ7(1300.,b5,Condition(function YS7))
if(m5!=null)then
set m5=SQ7(700.,S_7(m5),Condition(function k6))
set J4=(m5!=null)and(not IsUnitInRange(it,m5,300.))and(IssueTargetOrderById(it,852600,m5))
endif
endif
if(not J4 and Bz>TC4[O5])then
set m5=SQ7(TC4[64+O5],b5,Condition(function k6))
set J4=(m5!=null)and(GetUnitLifePercent(m5)<40.)and(IssueTargetOrderById(it,852248,m5))
endif
if(not J4 and(GetUnitAbilityLevel(it,1093747768)>0))then
set m5=SQ7(TC4[64+O5],b5,Condition(function k6))
set J4=(m5!=null)and(GetRandomInt(1,2)==1)and(((SS7(500.,m5,Condition(function Y27))<=2)and(SU7(it,ZU[J1]))or(SU7(it,ZU[T2])))or((SS7(500.,m5,Condition(function Y27))<2)))and(IssueTargetOrderById(it,852248,m5))
endif
if(not J4)and(GetHeroLevel(it)>10)then
set m5=SQ7(2000.,b5,Condition(function k6))
set J4=(m5!=null)and(Bz>TC4[16+O5])and(GetUnitLifePercent(it)>90.)and(not WF7(m5))and(not IsUnitInRange(it,m5,700.))and(((SS7(900.,m5,Condition(function Y27))<=1)and(SU7(it,ZU[J1]))or(SU7(it,ZU[T2])))or((SS7(900.,m5,Condition(function Y27))<2)))and(SS7(750.,m5,Condition(function YE7))==0)and(IssueTargetOrderById(it,852600,m5))
endif
elseif(i1==1429221446)then
if((GetUnitAbilityLevel(it,1110454868)>0)and(SR7(275.,b5,Condition(function Y27))==0))then
if((m5==null)or(not IsUnitInRange(it,m5,500.)))then
set m5=SQ7(500.,b5,Condition(function k6))
endif
if((m5!=null)and(G0[128+O5]))then
call IssueTargetOrderById(it,851983,m5)
else
call SetPlayerAbilityAvailable(pl,1093678667,true)
call IssueImmediateOrderById(it,852178)
endif
elseif(GetUnitAbilityLevel(it,1110454868)==0)then
if(SR7(225.,b5,Condition(function Y27))==0)then
call SetPlayerAbilityAvailable(pl,1093678667,false)
else
call SetPlayerAbilityAvailable(pl,1093678667,true)
call IssueImmediateOrderById(it,852177)
endif
endif
if(not J4)and(h4[O5]!=null)and(IsUnitInRange(it,m5,225))and(GetUnitLifePercent(m5)<70)then
set J4=T97(it,852480,1093682764,1093747544,m5)
endif
if(not J4)and(h4[O5]!=null)and(IsUnitInRange(it,m5,300))and(GetUnitLifePercent(m5)<30)then
set J4=CRE(it,m5)
endif
if((not J4)and(GetHeroLevel(it)>5)and(GetUnitState(it,UNIT_STATE_MANA)>=150.)and(Bz>hq[16+O5]))then
set UP=200+(200*GetUnitAbilityLevel(it,1093678665))
if((m5==null)or(IsUnitIllusion(m5))or(IsUnitInRange(it,m5,200.))or(not IsUnitInRange(it,m5,UP)))then
set m5=SO7(UP,b5,Condition(function Y27))
endif
set J4=(m5!=null)and(not IsUnitInRange(it,m5,200.))and((GetUnitLifePercent(m5)<80.)or(SR7(500.,b5,Condition(function YP7))>0)or(Bz>hq[O5]))and(CRE(it,m5))
if((not J4)and(m5!=null)and(not IsUnitInRange(it,m5,450.))and(iU(it))and(G0[128+O5])and(SR7(400.,S_7(it),Condition(function k8))==0))then
set UP=R2I(RI7(GetUnitX(it),GetUnitY(it),GetUnitX(m5),GetUnitY(m5)))
if(GetRandomInt(1,2)==1)then
set i1=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))-15
else
set i1=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))+15
endif
set J4=IssuePointOrderById(it,851986,GetUnitX(m5)+UP*Cos(i1*bj_DEGTORAD),GetUnitY(m5)+UP*Sin(i1*bj_DEGTORAD))
endif
endif
elseif(i1==1311788343 or i1==1311788355 or i1==1311788367 or i1==1311788353 or i1==1311788354)or(i1==1311788363 or i1==1311788365)then
if(i1==1311788343 or i1==1311788355 or i1==1311788367 or i1==1311788353 or i1==1311788354)then
set X_7=Y77(900,it)
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093815361,(X_7!=null)or(GetUnitState(it,UNIT_STATE_MANA)>600 or GetUnitManaPercent(it)>70.))
set J4=(X_7!=null)and IssueTargetOrderById(it,852119,X_7)
if not J4 and G0[128+O5]then
if MC7[O5]!=null and IsUnitInRange(it,MC7[O5],950)and SS7(350,MC7[O5],Condition(function k6))>=2 and(GetUnitLifePercent(MC7[O5])<=60. and(QT7(GetUnitTypeId(MC7[O5]))==E27 or QT7(GetUnitTypeId(MC7[O5]))==E_7))then
set m5=MC7[O5]
else
set m5=X57(800,it,0,Condition(function k6))
endif
set J4=(m5!=null)and(G0[256+O5]or(GetUnitLifePercent(m5)<30.+7*SS7(600,it,Condition(function YP7))+7*(SS7(350,m5,Condition(function k6)))+3*(SS7(350,m5,Condition(function X97))))or 0.73*GetWidgetLife(m5)<=350)or(SS7(600,it,Condition(function YP7))>=3)and IssueTargetOrderById(it,852581,m5)
if J4 then
set h4[O5]=PV7(J4,m5,h4[O5])
else
set m5=Z97(800,it,Condition(function TBF))
set J4=(m5!=null)and IssueTargetOrderById(it,852581,m5)
endif
endif
if not J4 then
if SS7(600,it,Condition(function YP7))>=4 and SS7(600+100*GetUnitAbilityLevel(it,1093815877),it,Condition(function k6))>=1 and G0[256+O5]or(GetUnitLifePercent(it)<20. and WF7(it)==false)then
set J4=IssueImmediateOrderById(it,852180)
endif
endif
if not J4 then
set m5=Z97(1200,it,Condition(function YT7))
set J4=(m5!=null)and((((not PE7(m5))or GetUnitLifePercent(m5)<=25.)or(GetUnitCurrentOrder(m5)!=851983 or(SS7(600,m5,Condition(function k6))>=1 and GetUnitLifePercent(m5)<=25.)))or GetUnitState(m5,UNIT_STATE_LIFE)<=225)and IssueTargetOrderById(it,852536,m5)
endif
else
if(i1==1311788363 or i1==1311788365)then
set X_7=Z97(500+100*GetUnitAbilityLevel(it,1093815601),it,Condition(function W57))
set m5=PV7(X_7!=null,X_7,m5)
set J4=(G0[256+O5])and(m5!=null)and(GetUnitManaPercent(it)>70 or GetUnitLifePercent(m5)<=30.)and IssueTargetOrderById(it,852095,m5)
if not J4 then
set m5=PV7(m5!=null,m5,Z97(2000,it,Condition(function k6)))
if(not RF7(it,m5,90))then
set J4=(m5!=null)and(G0[128+O5]or(GetUnitManaPercent(it)>65. or GetUnitLifePercent(m5)<80.))and IssuePointOrderById(it,852600,(GetUnitX(m5)+125*Cos(GetUnitFacing(m5)*bj_DEGTORAD+GetRandomReal(-.52,.52))),(GetUnitY(m5)+125*Sin(GetUnitFacing(m5)*bj_DEGTORAD+GetRandomReal(-.52,.52))))
else
set T6F=C57(it,m5,999999,3.3,0)
set J4=(m5!=null)and(G0[256+O5]or((GetUnitManaPercent(it)>35. or GetUnitState(it,UNIT_STATE_MANA)>=320)or GetUnitLifePercent(m5)<80.))and(T6F!=null)and IssuePointOrderByIdLoc(it,852600,T6F)
endif
endif
if not J4 then
set m5=Z97(700,it,Condition(function XK7))
set X_7=Z97(1100,it,Condition(function XJ7))
if m5!=null and X_7!=null then
if IsUnitInRange(X_7,m5,325)then
set J4=((GetUnitManaPercent(it)>=30. or GetUnitState(it,UNIT_STATE_MANA)>=225.)or(GetUnitState(m5,UNIT_STATE_LIFE)<=500 or GetUnitLifePercent(m5)<70.)or(GetUnitLifePercent(X_7)<=100.))and IssuePointOrderById(it,852662,0.5*(GetUnitX(m5)+GetUnitX(X_7)),0.5*(GetUnitY(m5)+GetUnitY(X_7)))
else
if SS7(600,X_7,Condition(function W67))>=3 and GetUnitLifePercent(m5)>75. then
set m5=X_7
endif
set J4=(m5!=null)and((IsUnitType(m5,UNIT_TYPE_HERO)==true and(GetUnitLifePercent(m5)<=40. or PD7(m5)==true))or(IsUnitType(m5,UNIT_TYPE_STRUCTURE)==true and SS7(600,X_7,Condition(function W67))>=2))and IssuePointOrderById(it,852662,GetUnitX(m5)+GetRandomReal(0,100),GetUnitY(m5)+GetRandomReal(0,100))
endif
else
set m5=PV7(m5==null,X_7,m5)
if m5==null then
set m5=Z97(1100,it,Condition(function YW7))
endif
set J4=(m5!=null)and((IsUnitType(m5,UNIT_TYPE_HERO)==true and(GetUnitLifePercent(m5)<=70. or PD7(m5)==true))or(IsUnitType(m5,UNIT_TYPE_STRUCTURE)==true and SS7(600,X_7,Condition(function W67))>=2))and IssuePointOrderById(it,852662,GetUnitX(m5)+GetRandomReal(0,100),GetUnitY(m5)+GetRandomReal(0,100))
endif
endif
if J4 then
endif
if not J4 then
set J4=(GetUnitTypeId(it)!=1311788365)and((G0[256+O5]and SS7(750,it,Condition(function k6))>=1)or eY[O5]==10 or((SU7(it,1227896388)and SS7(500,it,Condition(function X97))>=1)or(SU7(it,1227896916)and SS7(600,it,And(Condition(function W07),Condition(function W67)))>=1)))and GetUnitLifePercent(it)>20. and IssueImmediateOrderById(it,852594)
endif
endif
endif
elseif(i1==1429221445)then
call SetPlayerAbilityAvailable(pl,1093678422,(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>30.)or(SR7(400.,b5,Condition(function k6))>0))
if((m5!=null)and(not ke(m5))and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5)and(GetUnitState(m5,UNIT_STATE_LIFE)>200.))then
set UP=GetUnitAbilityLevel(it,1093678647)
if(UP==0)then
set UP=GetUnitAbilityLevel(it,1093679184)+1
endif
set J4=(GetUnitState(m5,UNIT_STATE_LIFE)<((0.20+(I2R(UP)*0.20))*(GetUnitState(m5,UNIT_STATE_MAX_LIFE)-GetUnitState(m5,UNIT_STATE_LIFE))))and(T97(it,852095,1093678647,1093679184,m5))
endif
if((not J4)and(GetHeroLevel(it)>6)and(GetUnitLifePercent(it)<85.)and(GetUnitManaPercent(it)>35.))then
set J4=((SR7(400.,b5,Condition(function KA))>0)or(SR7(400.,b5,Condition(function KC))>0))and(IssueImmediateOrderById(it,852526))
endif
if((not J4)and(hq[240+O5]>Bz))then
set J4=(SR7(400.,b5,Condition(function KA))>1)and(TG7(it,852526,1093678422))
endif
if((not J4)and(GetUnitManaPercent(it)>35.)and(GetUnitState(it,UNIT_STATE_MANA)>250.))then
set m5=SO7(400.,b5,Condition(function YO7))
set J4=(m5!=null)and(((GetUnitLevel(it)>4)and(GetUnitLifePercent(m5)<80.))or(GetUnitLifePercent(m5)<55.))and(TG7(it,852526,1093678422))
endif
elseif(i1==1332963428)then
if(GetHeroLevel(it)>2)then
if((m5==null)and(G0[128+O5]))then
set m5=SO7(900.,b5,Condition(function k6))
endif
if((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)>60.))then
set J4=((SS7(600.,m5,Condition(function YW7))>0)or((SS7(800.,m5,Condition(function YO7))==0)and(SS7(800.,m5,Condition(function Ko))==0)and(GetUnitManaPercent(it)>65.)))and(T77(it,852227,1093678169,m5))
endif
if((not J4)and(GetHeroLevel(it)>8)and(m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)<80.)and(IsUnitInRange(it,m5,600.)))then
set J4=(GetUnitState(it,UNIT_STATE_MANA)>hq[272+O5])and(SR7(600.,b5,Condition(function YP7))>0)and(T77(it,852480,1093677649,m5))
endif
if((not J4)and(GetHeroLevel(it)>11)and(m5!=null)and(kq(GetUnitTypeId(m5))))then
set J4=T77(it,852095,1093816137,m5)
endif
if(GetUnitLifePercent(it)<85.)then
if((m5==null)and(GetUnitManaPercent(it)>70.)and(SR7(1200.,b5,Condition(function k6))==0))then
set m5=SO7(600.,b5,Condition(function KA))
endif
set J4=(m5!=null)and(T77(it,852119,1093683019,m5))
endif
endif
elseif(i1==1332109682)then
if((G0[128+O5])and(SU7(it,ZU[RW]))and(m5!=null)and(not IsUnitIllusion(m5))and((GetUnitLifePercent(m5)<70.)or(GetUnitAbilityLevel(m5,1112432994)>0)or(Bz>hq[O5]))and(not IsUnitInRange(it,m5,300.))and(IsUnitInRange(it,m5,700.)))then
set J4=((SS7(800.,m5,Condition(function Y27))-SS7(800.,m5,Condition(function YP7)))<=1)and(R3F(it,m5))
endif
if(GetHeroLevel(it)>4)then
if((m5==null)and(G0[128+O5])and(GetUnitManaPercent(it)>40.))then
set m5=SO7(800.,b5,Condition(function k6))
endif
else
call SetPlayerAbilityAvailable(pl,1093678134,false)
endif
if((not J4)and(m5!=null)and((GetHeroLevel(it)>5)or(SH7(m5))))then
set J4=((GetUnitManaPercent(it)>30.)and(T77(it,852662,1093678134,m5)))or((GetUnitLifePercent(m5)<50.)and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,600.))and(TG7(it,852588,1093810505)))
endif
if((not J4)and(GetHeroLevel(it)>5)and(Bz>hq[16+O5]))then
set J4=(GetHeroLevel(it)>10)and(hq[416+O5]>Bz)and(SR7(600.,b5,Condition(function YO7))>0)and(Kz(600.,b5)>1)and(TG7(it,852588,1093810505))
if(not J4)then
set m5=SQ7(800.,b5,Condition(function YS7))
set J4=((m5!=null)and(SS7(600.,it,Condition(function k6))>0)and(TG7(it,852588,1093810505)))
endif
endif
if((not J4)and(m5!=null)and((h4[O5]!=null)or(GetUnitLifePercent(m5)<70.))and(IsUnitInRange(it,m5,300)))then
set J4=((GetUnitState(it,UNIT_STATE_MANA)>LUE(it,1093810505,GS7)+60)or(Bz+10<TC4[O5]))and(IssueImmediateOrderById(it,852164))
endif
if((not J4)and((GetUnitState(it,UNIT_STATE_MANA)>LUE(it,1093810505,GS7)+150))and(GetUnitAbilityLevel(it,1093808694)>1)and(SS7(400.,it,Condition(function X97))>3))then
set J4=(IssueImmediateOrderById(it,852164))
endif
elseif(i1==1211117640)then
if(h4[16+O5]!=null)then
if((SE7(h4[16+O5]))and(GetUnitAbilityLevel(h4[16+O5],1110454606)>0))then
set J4=(RAF(it,h4[16+O5]))or(IssueTargetOrderById(it,852089,h4[16+O5]))
call S4F(it,h4[16+O5])
else
set h4[16+O5]=null
endif
elseif((m5!=null)and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,500.))and((GetHeroLevel(it)>4)))then
set J4=(GetUnitAbilityLevel(m5,1110454606)==0)and(GetUnitState(it,UNIT_STATE_MANA)>250.)and(Bz>hq[O5])and(T77(it,852486,1093681989,m5))
endif
if((not J4)and(GetHeroLevel(it)>11)and(Bz>hq[16+O5])and(SR7(I2R(270+(250*GetUnitAbilityLevel(it,1093679428))),b5,Condition(function k6))>0))then
set GZ[O5]=true
set J4=J8(O5,TG7(it,852594,1093679428))
endif
if((not J4)and(GetHeroLevel(it)>5)and((m5!=null)or(GetUnitLifePercent(it)<70.)))then
if((m5==null)or(IsUnitIllusion(m5)))then
if(SR7(800.,b5,Condition(function k6))==0)then
set m5=SO7(500.,b5,Condition(function KA))
set J4=(m5!=null)and(GetUnitLifePercent(m5)>80.)and(T97(it,852487,1093681987,1093677658,m5))
endif
elseif((IsUnitInRange(it,m5,400.))and((GetUnitLifePercent(m5)<50.)or(GetUnitAbilityLevel(m5,1110454606)>0)))then
set J4=T97(it,852487,1093681987,1093677658,m5)
endif
if((not J4)and(iy(it)))then
call SetPlayerAbilityAvailable(pl,1093681987,true)
call SetPlayerAbilityAvailable(pl,1093677658,true)
endif
else
call SetPlayerAbilityAvailable(pl,1093681987,false)
call SetPlayerAbilityAvailable(pl,1093677658,false)
endif
elseif(i1==1430468406)then
call SetPlayerAbilityAvailable(pl,kT(it),(GetHeroLevel(it)>10)and((GetUnitManaPercent(it)>60.)or(m5!=null)))
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3))then
set m5=SO7(1000.,b5,Condition(function k6))
endif
if((m5!=null)and(((GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>40.))or(SF7(m5,it))))then
set J4=T77(it,852218,kT(it),m5)
endif
if((not J4)and(GetHeroLevel(it)>5)and(m5!=null)and(not IsUnitIllusion(m5))and(Bz>hq[O5])and(G0[128+O5]))then
set J4=(Kz(500.,b5)>1)and(hq[416+O5]>Bz)and(IssueImmediateOrderById(it,852556))
if((not J4)and(m5!=null)and(SU7(it,ZU[RW]))and(G0[128+O5])and(GetHeroLevel(it)>13)and(GetUnitLifePercent(it)>70.)and(GetUnitManaPercent(it)>30.))then
set h4[16+O5]=m5
set J4=R3F(it,m5)
endif
endif
elseif(i1==1160786241)then
if(GetUnitManaPercent(it)<50.)then
if(GetUnitAbilityLevel(it,1110455882)>0)then
call IssueImmediateOrderById(it,852178)
endif
call SetPlayerAbilityAvailable(pl,1093684805,false)
elseif((GetHeroLevel(it)>12)and(GetUnitManaPercent(it)>70.))then
call SetPlayerAbilityAvailable(pl,1093684805,true)
if((GetUnitAbilityLevel(it,1110455882)==0)and(hG[O5]>14)and(not D4 and not RZ4))then
call IssueImmediateOrderById(it,852177)
endif
endif
call SetPlayerAbilityAvailable(pl,1093684813,(m5==null)and(GetHeroLevel(it)>7)and(SR7(1500.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>70.))
if(m5!=null)then
set J4=((GetHeroLevel(it)>4)or(SF7(m5,it)))and((((GetUnitCurrentOrder(m5)==851973)or(IsUnitInRange(it,m5,200.)))and(not IsUnitIllusion(m5))and(T77(it,852089,1093684815,m5)))or((GetUnitLifePercent(m5)<70.)and(T77(it,852119,1093684813,m5))))
if((not J4)and(GetHeroLevel(it)>5)and(not IsUnitIllusion(m5))and(Bz>hq[O5])and(not kr(it)))then
set UP=Kz(700.,S_7(m5))
if((UP>2)or((UP>1)and(SR7(700.,b5,Condition(function YO7))>0)))then
set J4=((SR7(700.,b5,Condition(function YO7))>0)and(T77(it,852119,1093684813,m5)))or(T97(it,852597,1093684820,1093684824,m5))
endif
endif
endif
elseif(i1==1429221456)then
if((m5!=null)and(GetHeroLevel(it)>5)and(not IsUnitIllusion(m5))and(Bz>hq[O5]))then
set UP=Kz(700.,S_7(m5))
if((UP>2)or((UP>1)and(SR7(730.,b5,Condition(function YP7))>0)))then
set J4=T97(it,852089,1093685067,1093752407,m5)
endif
endif
elseif(i1==1160786243)then
call SetPlayerAbilityAvailable(pl,1093678672,GZ[O5])
set m5=SO7(600.,b5,Condition(function YS7))
if(m5==null)then
set m5=SO7(500.,b5,Condition(function YO7))
endif
set J4=(m5!=null)and(GetUnitLifePercent(m5)<60.)and(SR7(900.,b5,Condition(function k6))>0)and(IssueTargetOrderById(it,852248,m5))
set m5=h4[O5]
if((not J4)and(m5==null)and(G0[128+O5])and(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>60.)and(GetUnitLifePercent(it)>70.))then
set m5=SO7(800.,b5,Condition(function k6))
endif
if(not J4)then
set J4=((GetUnitLifePercent(it)<65.)and(IssueTargetOrderById(it,852248,it)))or((m5!=null)and(((GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>70.))or(SF7(m5,it)))and(IssueTargetOrderById(it,852248,m5)))
endif
if((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5))then
set UP=Kz(700.,S_7(m5))
if((UP>2)or(GetUnitLifePercent(m5)<50.)or((UP>1)and(SS7(700.,m5,Condition(function YP7))>0)))then
set GZ[O5]=true
set J4=J8(O5,T77(it,852224,1395667000,m5))
endif
if((not J4)and(SF7(m5,it))and(GetHeroLevel(it)>10)and(GetUnitLifePercent(it)>60.)and(SS7(700.,m5,Condition(function YP7))>0))then
if((not IsUnitInRange(it,m5,250.))and(SU7(it,ZU[RW]))and(G0[128+O5])and(Bz>hq[16+O5]))then
set J4=R3F(it,m5)
endif
if(not J4)then
set GZ[O5]=true
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h8[O5])-GetUnitY(it),GetUnitX(h8[O5])-GetUnitX(it)))
call SetPlayerAbilityAvailable(pl,1093678672,true)
set J4=J8(O5,IssuePointOrderById(it,852089,GetUnitX(m5)+200.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+200.*Sin(UP*bj_DEGTORAD)))
endif
endif
endif
elseif(i1==1160786242)then
call SetPlayerAbilityAvailable(pl,1093683287,(GetHeroLevel(it)>3)or((m5!=null)and(SF7(m5,it))))
set J4=(m5!=null)and(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>60.)and(IssueTargetOrderById(it,852662,m5))
if((not J4)and(GetHeroLevel(it)>5)and(Bz>hq[16+O5]))then
set m5=Ie(bj_mapInitialPlayableArea,Condition(function k7))
set J4=(m5!=null)and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<50+(15*GetHeroLevel(it)))and(IssueImmediateOrderById(it,852490))
endif
if((not J4)and(Bz<=hq[240+O5])and((hq[240+O5]-Bz)<2.5)and(not IC(O5))and(not Id(O5)))then
set m5=SQ7(2500.,b5,Condition(function k7))
set J4=(m5!=null)and(SM7(m5,it))and(not IsUnitInRange(m5,it,800.))and((SS7(800.,m5,Condition(function k6))-SS7(800.,m5,Condition(function YP7))<=1))and(SS7(1000.,m5,Condition(function YE7))==0)and(IssueTargetOrderById(it,852185,m5))
endif
elseif((i1==1211117641)or(i1==1211117642))then
if(i1==1211117642)then
set J4=((not IsUnitInRange(it,M7[O5],3000.))and(IssueTargetOrderById(it,852553,M7[O5])))or(((eY[O5]==2)or(G0[16+O5]))and(T47(it,851986,h9[O5])))
if((not J4)and(kA(it,M7[O5],800.)))then
call T47(it,851986,h9[O5])
endif
set UP=1
else
set UP=0
endif
if(not J4)and(h4[O5]!=null)and(not DA9(m5))then
set J4=R0F(it,m5)
endif
if(not J4)then
if(h4[O5]!=null)and(DA9(m5))and(IsUnitInRange(it,m5,300))then
set J4=IssuePointOrderByIdLoc(it,852553,S_7(m5))
endif
if not J4 then
set X_7=Z97(300,it,Condition(function X97))
set J4=(X_7!=null)and(GetUnitManaPercent(it)>=65.)and(GetHeroLevel(it)>=12)and(GetRandomReal(0,100)<=75 and IssuePointOrderByIdLoc(it,852553,S_7(m5)))
endif
endif
if((not J4)and(GetHeroLevel(it)>8)and(m5!=null)and(GetUnitAbilityLevel(m5,1110456120)==0))then
if((Kz(700.,S_7(m5))>1)or(SS7(500.,m5,Condition(function YP7))>UP))then
set J4=R0F(it,m5)
endif
endif
if((not J4)and(GetHeroLevel(it)>2)and(SR7(800.,b5,Condition(function YS7))>0))then
set m5=SO7(800.,b5,Condition(function k6))
set J4=(m5!=null)and(R0F(it,m5))
endif
if(not J4)and(i1==1211117641)and(GetUnitManaPercent(it)>70)and(SR7(300.,S_7(it),Condition(function X97))>2)then
set J4=IssuePointOrderByIdLoc(it,852553,S_7(m5))
endif
elseif(i1==1311781207)then
set J4=((GetUnitLifePercent(it)<80.)and(IssueTargetOrderById(it,852229,it)))or((m5!=null)and(GetHeroLevel(it)>5)and(GetUnitLifePercent(m5)<70.)and(T77(it,852095,1093684817,m5)))
if((not J4)and(GetHeroLevel(it)>3))then
set m5=SO7(800.,b5,Condition(function YS7))
if(m5==null)then
set m5=SO7(600.,b5,Condition(function YO7))
endif
if((m5!=null)and(not IsUnitIllusion(m5)))then
set UP=R2I(GetUnitLifePercent(m5))
if((UP<50)and(GetHeroLevel(it)>10)and(Bz>hq[O5]))then
set J4=(SS7(800.,m5,Condition(function k6))>0)and((IssueTargetOrderById(it,852536,m5))or(IssueTargetOrderById(it,852229,m5)))
elseif(UP<70)then
set J4=(m5!=null)and(IssueTargetOrderById(it,852229,m5))
endif
elseif((GetHeroLevel(it)>9)and(GetUnitManaPercent(it)>75.))then
set m5=SO7(600.,b5,Condition(function Kd))
set J4=(m5!=null)and(SS7(300.,m5,Condition(function k8))>1)and(IssueTargetOrderById(it,852229,m5))
endif
endif
elseif(i1==1311780946)then
call SetPlayerAbilityAvailable(pl,1093677385,(GetHeroLevel(it)>7)and(GetUnitManaPercent(it)>55.))
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>4))then
set m5=SO7(700.,b5,Condition(function k6))
endif
if(m5!=null)then
set J4=(((GetUnitLifePercent(m5)<50.)or(IsUnitInRange(it,m5,250.)))and(T77(it,852488,1093685825,m5)))or((SS7(300.,it,Condition(function GU8))>1)and(TG7(it,852526,1093810232)))
if((not J4)and((GetUnitCurrentOrder(m5)==851973)or(IsUnitInRange(it,m5,300.))or(GetUnitLifePercent(m5)<50.)))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h8[16+O5])-GetUnitY(m5),GetUnitX(h8[16+O5])-GetUnitX(m5)))
call SetPlayerAbilityAvailable(pl,1093677385,true)
set GZ[O5]=true
set J4=J8(O5,IssuePointOrderById(it,852238,GetUnitX(m5)+150.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+150.*Sin(UP*bj_DEGTORAD)))
endif
endif
if(not J4)then
set m5=SQ7(700.,b5,Condition(function YS7))
set J4=(m5!=null)and(SS7(400.,m5,Condition(function k6))>0)and(T77(it,852488,1093685825,m5))
endif
if((not J4)and(GetHeroLevel(it)>9)and((eY[O5]==3)or(eY[O5]==4)or(GetUnitManaPercent(it)>60.)))then
set m5=SQ7(700.,b5,Condition(function k8))
set J4=(m5!=null)and(SS7(300.,m5,Condition(function k8))>2)and(SS7(400.,it,Condition(function GU8))>2)and(TG7(it,852526,1093810232))
endif
if((not J4)and(is(it))and(GetHeroLevel(it)>9))then
set UP=R2I(RH7(it,TJ7(it)))
if((UP>2000)and(UP<3500)and(eY[O5]==1)and(GetUnitAbilityLevel(it,1093685808)>1))then
if(h8[16+O5]==h7[14])then
set J4=RNF(0)
elseif(h8[16+O5]==h7[35])then
set J4=RNF(1)
elseif(h8[16+O5]==h7[55])then
set J4=RNF(2)
endif
elseif(((eY[O5]==3)or(eY[O5]==4))and(UP>5000)and(SR7(1200.,b5,Condition(function k6))==0))then
set J4=RNF(3)
endif
endif
elseif((i1==1211117650)or(i1==1211119433))then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>4))then
set m5=SQ7(700.,b5,Condition(function k6))
endif
if((h4[O5]!=null)or SF7(it,m5))and(IsUnitInRange(it,m5,300.))then
set J4=(Bz>TC4[O5])and(TG7(it,852180,1093743946))
endif
if(not J4)and(Bz>TC4[48+O5])and((GZ[208+O5])or(GetUnitState(it,UNIT_STATE_MANA)>300.)or(h4[O5]!=null))then
set IN4=it
set X_7=(Z97(225+175*GetUnitAbilityLevel(it,1093743958),it,Condition(function k6)))
set NQ7=SS7(25+200+200*GetUnitAbilityLevel(it,1093743958),it,Condition(function k6))
set bj_forLoopAIndex=SR7(25+200+200*GetUnitAbilityLevel(it,1093743958),b5,Condition(function G78))
if((NQ7>=1+PZ7(SS7(800,it,Condition(function XM7))>=3,2,0)and(bj_forLoopAIndex>=R2I((10-0.1*GetUnitLifePercent(it)))or SS7(800,it,Condition(function XM7))>=3))and h4[O5]!=null)then
set J4=(SS7(800,it,Condition(function XM7))>=2 or(GetWidgetLife(X_7)<=400. or GetUnitLifePercent(X_7)<=30.))and T87(it,852662,1093743958,b5)
endif
endif
if(not J4)and(Bz>TC4[32+O5])then
set IN4=it
set UP=SR7(1000.,b5,Condition(function ny))
if((not J4)and(UP>=4)and(h4[O5]!=null)and(GetUnitLifePercent(it)>50.))then
set m5=h4[O5]
set J4=(((GetHeroLevel(it)>4)and(GetUnitLifePercent(m5)<70.))or(SF7(m5,it)))and(IssueTargetOrderById(it,852669,m5))
endif
if((not J4)and(UP>=4)and(GetUnitManaPercent(it)>40.))then
set m5=SO7(800.,b5,Condition(function YS7))
if(m5==null)then
set m5=SO7(600.,b5,Condition(function YO7))
endif
set J4=(m5!=null)and(((GetHeroLevel(it)>4)and(GetUnitLifePercent(m5)<70.))or(SH7(m5)))and(IssueTargetOrderById(it,852669,m5))
endif
if(not J4)then
set J4=(UP>=3)and(GetUnitLifePercent(it)<75.)and(IssueTargetOrderById(it,852669,it))
endif
endif
if(not J4)and((h4[O5]!=null)or(GetUnitState(it,UNIT_STATE_MANA)>400)or SH7(m5))and(GetUnitState(it,UNIT_STATE_MANA)>200)then
set J4=(Bz>TC4[16+O5])and(T77(it,852089,1093743955,h4[O5]))
endif
elseif(i1==1211119187)then
if(not J4)and(GetUnitLevel(it)>5)and(Bz>TC4[O5])and(h4[O5]!=null)then
if(not J4)and(C57(it,h4[O5],650.,0.5,1300.)!=null)then
if((SF7(it,h4[O5])or GetUnitLifePercent(h4[O5])<50.)and(RI7(GetUnitX(it),GetUnitY(it),GetLocationX(GN7),GetLocationY(GN7))>600.))then
set J4=T87(it,852662,1093742923,GN7)
endif
endif
if(not J4)then
set m5=ZM7(it)
if(m5!=null)and(C57(it,m5,650.,0.5,1300.)!=null)and(RI7(GetUnitX(it),GetUnitY(it),GetLocationX(GN7),GetLocationY(GN7))>600.)then
set J4=T87(it,852662,1093742923,GN7)
endif
endif
if(not J4)then
set m5=h4[O5]
if(m5==null)then
set m5=Z77(1500.,it)
endif
if(m5!=null)and(GZ[208+O5]or(GetUnitLifePercent(it)<50.)or((GetUnitLifePercent(m5)<50)and(C57(it,m5,650.,0.5,1300.)!=null)and(RI7(GetUnitX(it),GetUnitY(it),GetLocationX(GN7),GetLocationY(GN7))>600.)))then
set J4=T87(it,852662,1093742923,S_7(m5))
if J4 then
call CYE(O5,m5,false,false)
endif
endif
endif
endif
set m5=h4[O5]
if m5==null then
set m5=Z77(1300.,it)
endif
if(not J4)and(not IsUnitIllusion(m5))and(Bz>TC4[32+O5])and((Bz>TC4[16+O5])or(GetUnitAbilityLevel(it,1093742926)<=1)or(GetUnitState(it,UNIT_STATE_MANA)<=120.))and((h4[O5]!=null and GetUnitLifePercent(h4[O5])<50.)or((m5!=null)and(SH7(m5))))then
set J4=IssueTargetOrderById(it,852581,m5)
if J4 then
call CYE(O5,m5,false,false)
endif
endif
if(not J4)and(Bz>TC4[16+O5])and(TC4[32+O5]>Bz+2. or(GetUnitAbilityLevel(it,1093743414)>1 and h4[O5]==null)or(h4[O5]!=null and GetUnitLifePercent(h4[O5])>80.)or(GetUnitAbilityLevel(it,1093742926)<=1))and(m5!=null)and((h4[O5]!=null)or(SF7(m5,it))or((GetUnitManaPercent(it)>50.)and(GetUnitLifePercent(m5)<70. or GetUnitState(it,UNIT_STATE_MANA)>400.)))then
if C_7(it,m5,2.,1500.)!=null then
set J4=T87(it,852089,1093743414,GN7)
set h4[16+O5]=m5
endif
endif
elseif(i1==1211117646)then
call SetPlayerAbilityAvailable(pl,1093685573,(GetHeroLevel(it)>6)and(GetUnitManaPercent(it)>70.)and(SR7(700.,b5,Condition(function k6))==0))
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>4))then
set m5=SQ7(700.,b5,Condition(function k6))
endif
if((m5!=null)and((GetUnitLifePercent(m5)<60.)or((GetHeroLevel(it)>4)and((GetUnitManaPercent(it)>60.)or(SS7(600.,m5,Condition(function YO7))>0)))))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))
call SetPlayerAbilityAvailable(pl,1093685573,true)
set J4=IssuePointOrderById(it,852089,GetUnitX(m5)+(50.+100.*GetUnitAbilityLevel(it,1093685573))*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+(50.+100.*GetUnitAbilityLevel(it,1093685573))*Sin(UP*bj_DEGTORAD))
endif
if((not J4)and(GetHeroLevel(it)>6)and(GetUnitManaPercent(it)>50.)and(GetRandomInt(1,4)==1))then
set m5=SO7(700.,b5,Condition(function Kd))
set J4=(m5!=null)and(GetUnitLifePercent(m5)>65.)and(IsUnitType(m5,UNIT_TYPE_MELEE_ATTACKER))and(SS7(250.,m5,Condition(function k8))>2)and(IssueTargetOrderById(it,852095,m5))
endif
if(not J4)then
set m5=SQ7(700.,b5,Condition(function YS7))
set J4=(m5!=null)and(SS7(250.,m5,Condition(function k6))>0)and(T77(it,852101,1093685815,m5))
endif
if(not J4)then
set m5=SQ7(700.,b5,Condition(function k7))
if(m5!=null)then
set m5=SQ7(700.,S_7(m5),Condition(function YO7))
set J4=((m5!=null)and(IsUnitAlly(m5,GetOwningPlayer(it)))and(T77(it,852101,1093685815,m5)))or(T77(it,852101,1093685815,it))
endif
endif
if((not J4)and(GetHeroLevel(it)>14.)and(Bz>hq[O5])and(hq[416+O5]>Bz))then
set UP=SR7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==TK7(not IsUnitAlly(it,Z7[0]))))and((SR7(1000.,b5,Condition(function YP7))>0)or(TK7(IsUnitAlly(it,Z7[0]))==1)))then
set m5=SQ7(1000.,b5,Condition(function k7))
if(m5!=null)then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h8[16+O5])-GetUnitY(m5),GetUnitX(h8[16+O5])-GetUnitX(m5)))
set J4=IssuePointOrderById(it,852190,GetUnitX(m5)+300*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+300*Sin(UP*bj_DEGTORAD))
else
set m5=SQ7(1000.,b5,Condition(function k6))
if(m5!=null)then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h9[16+O5])-GetUnitY(m5),GetUnitX(h9[16+O5])-GetUnitX(m5)))
set J4=IssuePointOrderById(it,852190,GetUnitX(m5)+300*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+300*Sin(UP*bj_DEGTORAD))
endif
endif
endif
endif
elseif(i1==1211117624)then
call SetPlayerAbilityAvailable(pl,1093683024,(GetHeroLevel(it)>10)and((GetUnitManaPercent(it)>70.)or(m5!=null)))
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>4))then
set m5=SQ7(700.,b5,Condition(function k6))
endif
set J4=(m5!=null)and((IsUnitInRange(it,m5,600.))and((SF7(m5,it))or(GetUnitState(it,UNIT_STATE_MANA)>100 and GetUnitManaPercent(it)>40)or(GetUnitLifePercent(m5)<60))and(TG7(it,852526,1093683024)))
set J4=(m5!=null)and(((GetUnitLifePercent(m5)<40.)or((GetUnitAbilityLevel(m5,1110454869)==0)and(hq[416+O5]>Bz)))and(IssueTargetOrderById(it,852600,m5)))
elseif(i1==1160785973)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3))then
set m5=SO7(600.,b5,Condition(function k6))
if((m5==null)and(GetHeroLevel(it)>10)and(GetUnitManaPercent(it)>30.)and(SU7(it,ZU[RW])))then
set m5=SO7(1200.,b5,Condition(function k6))
endif
endif
if(m5!=null)then
if((GetHeroLevel(it)>5)and(not IsUnitIllusion(m5))and(Bz>hq[O5])and(G0[128+O5]))then
if(IsUnitInRange(m5,it,500.))then
set UP=SR7(700.,b5,Condition(function k8))-SR7(700.,b5,Condition(function k6))
set J4=(UP<2)and(GetUnitAbilityLevel(m5,1110454580)==0)and(IssueImmediateOrderById(it,852600))
if J4 then
call TriggerSleepAction(0)
call T77(it,852231,1093678130,m5)
endif
elseif((SU7(it,ZU[RW]))and(G0[128+O5])and(IsUnitInRange(m5,it,1000.))and(GetHeroLevel(it)>10)and(GetUnitManaPercent(it)>30.))then
set UP=SS7(700.,m5,Condition(function k8))-SS7(700.,m5,Condition(function k6))
set h4[16+O5]=m5
set J4=(UP<2)and(GetUnitAbilityLevel(m5,1110454580)==0)and(R3F(it,m5))
endif
endif
if((not J4)and(SF7(m5,it)))then
set J4=(T77(it,852231,1093678130,m5))
endif
if((not J4)and(GetHeroLevel(it)>20))then
set J4=(GetUnitState(it,UNIT_STATE_MANA)>450.)and(T77(it,852231,1093678130,m5))
endif
endif
elseif(i1==1315988077)then
if((G0[128+O5])and(SU7(it,ZU[RW]))and(m5!=null)and(not IsUnitIllusion(m5))and(Bz>hq[O5])and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,700.)))then
set J4=((SS7(800.,m5,Condition(function Y27))-SS7(800.,m5,Condition(function YP7)))<=1)and(R3F(it,m5))
endif
if((not J4)and(m5!=null)and(GetHeroLevel(it)>2))then
set J4=((SF7(m5,it))and(T77(it,852585,1097032808,m5)))or((IsUnitInRange(it,m5,200.))and(TG7(it,852096,1093678669)))
endif
call SetPlayerAbilityAvailable(pl,1093678669,(GetHeroLevel(it)>12)and(SR7(1500.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>75.))
if((not J4)and(GetHeroLevel(it)>12)and(hq[416+O5]>Bz)and(G0[128+O5]))then
set UP=SR7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==TK7(not IsUnitAlly(it,Z7[0]))))and((SR7(1000.,b5,Condition(function YP7))>0)or(TK7(IsUnitAlly(it,Z7[0]))==1)))then
set m5=SQ7(800.,b5,Condition(function k6))
if(m5!=null)then
set J4=((kq(GetUnitTypeId(m5)))and(T77(it,852585,1097032808,m5)))or((IsUnitInRange(it,m5,200.))and(TG7(it,852096,1093678669)))
endif
endif
endif
elseif(i1==1211117616)then
if((G0[128+O5])and(SU7(it,ZU[RW]))and(m5!=null)and(not IsUnitIllusion(m5))and(Bz>hq[O5])and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,700.)))then
set J4=((SS7(800.,m5,Condition(function Y27))-SS7(800.,m5,Condition(function YP7)))<=1)and(R3F(it,m5))
endif
if((not J4)and(m5!=null)and IsUnitInRange(it,m5,500))then
set J4=((GetHeroLevel(it)>5)and(GetUnitLifePercent(m5)<70.)and((GetUnitState(m5,UNIT_STATE_LIFE)+1000.)<GetUnitState(it,UNIT_STATE_LIFE))and(T77(it,852231,1093816142,m5)))or((IsUnitInRange(it,m5,200.))and(GetHeroLevel(it)>3)and(TG7(it,852127,1093677139)))
elseif(not J4)and(m5==null or(not IsUnitInRange(it,m5,800)))then
set X_7=XT7(300,190,it,0,Condition(function X97),Condition(function WL7))
set J4=(X_7!=null)and(GetUnitLifePercent(it)>=70. or GetWidgetLife(it)>950.)and(GetHeroLevel(it)>=4)and(GetRandomReal(0,100)<=40 and T77(it,852231,1093816142,X_7))
endif
call SetPlayerAbilityAvailable(pl,1093677139,(GetHeroLevel(it)>12)and(SR7(1500.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>75.))
if(not J4)then
set X_7=SQ7(800.,b5,Condition(function XF7))
if(GetUnitLifePercent(it)<20.)or(((G0[256+O5])and GetUnitState(it,UNIT_STATE_LIFE)>=300. and X_7!=null and GetUnitLifePercent(X_7)<=70.))then
set J4=IssueImmediateOrderById(it,852526)
if(h4[O5]==null or(not IsUnitInRange(it,h4[O5],1500)))and GetUnitLifePercent(it)>30. then
set h4[O5]=PV7(((m5!=null or X_7==null)and(IsUnitInRange(m5,it,1000))and(GetUnitState(m5,UNIT_STATE_LIFE)<GetUnitState(X_7,UNIT_STATE_LIFE))),m5,X_7)
endif
endif
endif
elseif(i1==1315074670)then
if((m5!=null)and(GetUnitManaPercent(it)>60.)and(kP(GetUnitTypeId(m5)))and(GetUnitCurrentOrder(it)!=851983))then
set J4=T77(it,852592,1093685570,m5)
endif
if((m5==null)and(not J4)and(G0[128+O5])and(GetHeroLevel(it)>3))then
set m5=SO7(800.,b5,Condition(function k6))
endif
set J4=(m5!=null)and(not IsUnitInRange(it,m5,550.))and(GetUnitManaPercent(it)>60.)and(GetRandomInt(1,3)==1)and(GetHeroLevel(it)>3)and(T77(it,852243,1093677622,m5))
if((not J4)and(SU7(it,ZU[C0]))and(GetHeroLevel(it)>10)and(GetUnitManaPercent(it)>50.)and(G0[128+O5]))then
if((m5==null)and(GetUnitLifePercent(it)>70.))then
if((eY[O5]==9)and(h4[144+O5]!=null)and(SE7(h4[144+O5]))and(IsUnitInRange(it,h4[144+O5],1500.))and(not IsUnitVisible(it,GetOwningPlayer(h4[144+O5]))))then
set m5=h4[144+O5]
else
set m5=SO7(1500.,b5,Condition(function KK))
endif
endif
if((m5!=null)and(not IsUnitIllusion(m5))and(not kD(m5))and(not SU7(m5,ZU[EW]))and(GetUnitTypeId(m5)!=1212365106)and(not IsUnitInRange(it,m5,800.))and(IsUnitInRange(it,m5,1500.))and(SS7(600.,m5,Condition(function YW7))>0)or((GetUnitLifePercent(m5)<75.)and(SS7(1000.,m5,Condition(function YE7))==0)))then
set h4[288+O5]=m5
set GZ[272+O5]=true
set J4=UnitUseItem(it,SY7(it,ZU[C0]))
set GZ[272+O5]=J4
endif
endif
elseif((i1==1215063922)or(i1==1211117638)or(i1==1211117637)or(i1==1211117639))then
call SetPlayerAbilityAvailable(pl,1093677894,(GetHeroLevel(it)>6)and(GetUnitManaPercent(it)>60.))
if((m5==null)and(G0[128+O5]))then
if(i1!=1215063922)then
set m5=SO7(1000.,b5,Condition(function k6))
call CYE(O5,m5,false,false)
elseif((GetHeroLevel(it)>3)and(GetUnitManaPercent(m5)>70.))then
set m5=SO7(700.,b5,Condition(function k6))
endif
endif
set J4=(m5!=null)and((GetUnitLifePercent(m5)<60)or(h4[O5]!=null))and(T77(it,852095,1093681490,m5))
set J4=(m5!=null)and(((GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>40.))or(SH7(m5)))and(T77(it,852580,1093677894,m5))
if((not J4)and(GetHeroLevel(it)>12)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[128+O5]))then
set UP=SR7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==TK7(not IsUnitAlly(it,Z7[0]))))and((SR7(1000.,b5,Condition(function YP7))>0)or(TK7(IsUnitAlly(it,Z7[0]))==1)))then
set m5=K3(900.,it,Condition(function k6))
set J4=(m5!=null)and(GetUnitLifePercent(m5)<80.)and(TG7(it,852180,1093677895))
endif
endif
elseif(i1==1164207469)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>5))then
set m5=SO7(800.,b5,Condition(function k6))
endif
if((m5!=null)and(GetHeroLevel(it)>5))then
set IJ4=0.35+0.25*GetUnitAbilityLevel(it,1093682483)
if(not IsUnitIllusion(m5))and(not IsUnitType(m5,UNIT_TYPE_MAGIC_IMMUNE))and(GetWidgetLife(m5)<0.75*IJ4*(GetUnitState(m5,UNIT_STATE_MAX_MANA)-GetUnitState(m5,UNIT_STATE_MANA)))then
set J4=(not ke(m5))and(T77(it,852095,1093682483,m5))
endif
if((not J4)and(GetUnitLifePercent(m5)<70.)and(G0[128+O5])and(not IsUnitInRange(m5,it,300.))and(GetUnitLifePercent(it)>70.)and(SS7(800.,m5,Condition(function YE7))==0)and((SS7(800.,m5,Condition(function Y27))-SS7(800.,m5,Condition(function YP7)))<=1))then
set TLF=kL(it,m5,200.)
set J4=(TLF!=null)and(IssuePointOrderByIdLoc(it,852525,TLF))
endif
endif
if((not J4)and(GetHeroLevel(it)>11.)and(GetUnitManaPercent(it)>70.)and(iy(it))and(SR7(1400.,b5,Condition(function Ky))==0)and(eY[O5]==1))then
set TLF=kk(it,800.,h8[O5])
set J4=(TLF!=null)and(IssuePointOrderByIdLoc(it,852525,TLF))
endif
elseif(i1==1433631084)then
call SetPlayerAbilityAvailable(pl,1093678644,(GetHeroLevel(it)>7)and(GetUnitManaPercent(it)>70.))
if((GetHeroLevel(it)>5)and(Bz>hq[O5]))then
if(m5==null)then
set m5=SO7(1200.+(500.*GetUnitAbilityLevel(it,1093678160)),b5,Condition(function k7))
endif
set J4=(m5!=null)and(not IsUnitIllusion(m5))and(not ke(m5))and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(200+(150*GetUnitAbilityLevel(it,1093678160))))and(T77(it,852095,1093678160,m5))
if((not J4)and(hq[416+O5]>Bz)and(GetHeroLevel(it)>10)and(SR7(800.,b5,Condition(function YP7))>0))then
if(m5==null)then
set m5=SO7(1200.,b5,Condition(function k6))
endif
set J4=(m5!=null)and(not IsUnitIllusion(m5))and(T77(it,852095,1093678160,m5))
endif
endif
elseif(i1==1214345830)then
call SetPlayerAbilityAvailable(pl,1093679190,SR7(1000.,b5,Condition(function k6))>0)
set m5=SO7(800.,b5,Condition(function YS7))
if(m5==null)then
set m5=SO7(600.,b5,Condition(function YO7))
endif
if((m5!=null)and(GetUnitLifePercent(m5)<70.))then
set J4=(((GetHeroLevel(it)>4)or(SF7(m5,it)))and(T77(it,852225,1093679182,m5)))or((GetUnitLifePercent(m5)<40.)and(SS7(600.,m5,Condition(function k6))>0)and(T77(it,852186,1093679190,m5)))
endif
if((not J4)and(GetHeroLevel(it)>12)and(hq[416+O5]>Bz)and(G0[128+O5]))then
set UP=SR7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==TK7(not IsUnitAlly(it,Z7[0]))))and((SR7(1000.,b5,Condition(function YP7))>0)or(TK7(IsUnitAlly(it,Z7[0]))==1)))then
set J4=(m5!=null)and(GetUnitLifePercent(m5)<60.)and(SS7(600.,m5,Condition(function k6))>0)and(IssueImmediateOrderById(it,852599))
endif
endif
if(not J4)then
set J4=(GetUnitLifePercent(it)<75.)and(T77(it,852225,1093679182,it))
endif
if((not J4)and(GetHeroLevel(it)>10))then
set m5=SO7(450.,b5,Condition(function YE7))
if((m5!=null)and(GetUnitLifePercent(m5)<30.)and(GetUnitLifePercent(m5)>10.))then
set J4=(SR7(600.,b5,Condition(function KC))>4)and(IssueImmediateOrderById(it,852599))
endif
endif
elseif((i1==1311781174)or(i1==1311781175)or(i1==1311781442))then
if((m5==null)and(G0[128+O5]))then
set m5=SO7(700.,b5,Condition(function k6))
if(GetUnitAbilityLevel(it,1110454338)>0 or SF7(it,m5))then
call CYE(O5,m5,false,false)
endif
endif
if(not J4)and(h4[O5]!=null)then
if(i1==1311781174)then
set J4=(IsUnitInRange(it,h4[O5],500.)and(TG7(it,852526,1093748042)))
else
set J4=(IsUnitInRange(it,h4[O5],200.)and(TG7(it,852526,1093748042)))
endif
endif
if(not J4)and(h4[O5]!=null)then
if(i1==1311781174)then
set J4=T77(it,852218,1093808461,m5)
else
set J4=(IsUnitInRange(it,h4[O5],400.)and(TG7(it,852096,1093808462)))
endif
endif
if(not J4)then
if(m5!=null)and(IsUnitInRange(it,m5,200.))then
if(i1==1311781174)then
set J4=(TG7(it,852138,1093681733))
if J4 then
set i1=1311781175
endif
endif
elseif(m5!=null)and((GetUnitLifePercent(m5)<15.)or((not G0[256+O5])and(PH7(it)<2000.)))then
if(i1!=1311781174)then
set J4=(TG7(it,852139,1093681733))
if J4 then
set i1=1311781174
endif
endif
elseif(h4[O5]!=null)and(not IsUnitInRange(it,m5,200.))and(Bz>TC4[32+O5])then
if(i1!=1311781174)then
set J4=(TG7(it,852139,1093681733))
if J4 then
set i1=1311781174
endif
endif
elseif(GetHeroLevel(it)>=6 or h4[O5]!=null)and(SC7(it,ZU[D0]))then
set J4=(i1==1311781174)and(TG7(it,852138,1093681733))
else
set J4=(i1!=1311781174)and(TG7(it,852139,1093681733))
endif
endif
elseif(i1==1315007329)then
set J4=GetUnitAbilityLevel(it,1110455864)>0
if((m5==null)or(GetUnitLifePercent(m5)>50.))then
set m5=K3(1000.,it,Condition(function k6))
endif
if((not J4)and(m5!=null))then
set J4=(((GetUnitState(m5,UNIT_STATE_LIFE)<hq[272+O5])or((GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>55.)))and(T77(it,852095,1093677108,m5)))or((GetUnitAbilityLevel(m5,1110454348)==0)and((GetUnitLifePercent(m5)<75.)or((GetHeroLevel(it)>11)and(GetUnitState(it,UNIT_STATE_MANA)>250.)))and(not IsUnitIllusion(m5))and(T77(it,852149,1093681716,m5)))
endif
if((not J4)and(GetHeroLevel(it)>8)and(G0[128+O5])and(Bz>hq[O5]))then
if((m5==null)and(GetUnitLifePercent(it)>70.))then
if((eY[O5]==9)and(h4[144+O5]!=null)and(SE7(h4[144+O5]))and(IsUnitInRange(it,h4[144+O5],1500.))and(not IsUnitVisible(it,GetOwningPlayer(h4[144+O5]))))then
set m5=h4[144+O5]
else
set m5=SQ7(1500.,b5,Condition(function KK))
endif
endif
if((m5!=null)and(not IsUnitIllusion(m5))and(not kD(m5))and(GetUnitTypeId(m5)!=1212365106)and((not IsUnitInRange(it,m5,600.))or(not IsUnitVisible(it,GetOwningPlayer(m5))))and(IsUnitInRange(it,m5,1500.))and((GetUnitLifePercent(m5)<70.)or(SS7(650.,m5,Condition(function YW7))>0)))then
set h4[288+O5]=m5
set J4=(SS7(800.,m5,Condition(function YE7))==0)and(IssueImmediateOrderById(it,852129))
endif
endif
elseif(i1==1332898670)then
call SetPlayerAbilityAvailable(pl,1093677360,(GetHeroLevel(it)>7)and(GetUnitManaPercent(it)>60.))
if((m5==null)and(G0[128+O5]))then
set m5=SO7(900.,b5,Condition(function k6))
endif
if((m5!=null)and((SF7(m5,it))or((GetUnitLifePercent(m5)<70.)and(SS7(500.,m5,Condition(function YO7))>0))))then
set J4=(IsUnitInRange(it,m5,400)or DA9(m5))and(T77(it,852480,1093677136,m5))
endif
if((not J4)and(m5!=null)and((GetHeroLevel(it)>3)or(SF7(m5,it))))then
set J4=((GetUnitLifePercent(m5)<70.)and(Bz>hq[O5])and(not IsUnitIllusion(m5))and(T77(it,852502,1093685848,m5)))or((GetUnitManaPercent(it)>60.)and(T77(it,852587,1093677360,m5)))
endif
if((not J4)and(GetHeroLevel(it)>5)and(Bz>hq[O5]))then
if((m5==null)or(GetUnitCurrentOrder(m5)!=851973)or(not IsUnitInRange(it,m5,500.)))then
set m5=SO7(900.,b5,Condition(function KM))
endif
if(m5!=null)then
set GZ[O5]=true
set J4=J8(O5,T97(it,852504,1093677128,1093681457,m5))
endif
endif
if((not J4)and(GetHeroLevel(it)>17)and(Bz>hq[O5]))then
set m5=SQ7(900.,b5,Condition(function YE7))
if((m5!=null)and(GetUnitLifePercent(m5)<55.)and(GetUnitLifePercent(m5)>15.)and(SS7(800.,m5,Condition(function KC))>2))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))
set GZ[O5]=true
call SetPlayerAbilityAvailable(pl,1093677128,true)
call SetPlayerAbilityAvailable(pl,1093681457,true)
set J4=IssuePointOrderById(it,852504,GetUnitX(m5)+300.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+300.*Sin(UP*bj_DEGTORAD))
set GZ[O5]=false
endif
endif
elseif(i1==1215723364)then
call SetPlayerAbilityAvailable(pl,1093744463,GetUnitManaPercent(it)>60.)
if((m5!=null)and((GetHeroLevel(it)>4)or(SF7(m5,it))))then
set J4=T77(it,852095,1093677633,m5)
if((not J4)and(GetUnitLifePercent(m5)<60.)and(not IsUnitIllusion(m5))and(kA(it,m5,600.)))then
set J4=T97(it,852587,1093683534,1093747031,m5)
endif
endif
if((not J4)and(Bz>hq[O5])and(Bz>hq[16+O5])and(G0[128+O5])and(GetHeroLevel(it)>10)and(GetUnitLifePercent(it)>80.)and(SR7(400.,b5,Condition(function YP7))>0))then
if(m5==null)then
set m5=K3(1000.,it,Condition(function k6))
endif
if((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)<70.)and(not IsUnitInRange(it,m5,500.)))then
if((SS7(500.,m5,Condition(function k6))<=2)and(SR7(500.,b5,Condition(function k6))==0))then
set J4=T97(it,852587,1093683534,1093747031,m5)
endif
endif
endif
if((not J4)and(GetHeroLevel(it)>12)and(GetUnitLifePercent(it)>60.))then
set J4=(SR7(700.,b5,Condition(function k6))>0)and(SR7(700.,b5,Condition(function YP7))>0)and(T77(it,OrderId("volcano"),1093744463,m5))
endif
elseif(i1==1215128178)then
set UDF=.03+.02*GetUnitAbilityLevel(it,1093684789)
set U8F=(GetHeroLevel(it))
set U4F=GetUnitAbilityLevel(it,1093677616)
set X_7=Z97(750,it,Condition(function X97))
set m5=Z97(850,it,Condition(function k6))
set U7F=UDF*GetWidgetLife(X_7)
if X_7==null or(GetWidgetLife(X_7)>70+U4F*15+PL7(U4F==4,15,0)+U7F+GetRandomReal(0,25))then
set X_7=PV7(m5!=null,m5,X_7)
endif
if U8F<=8 then
set U9F=PJ7(it,70.,200,NU7)and((X_7!=null and IsUnitType(X_7,UNIT_TYPE_HERO)==false and GetWidgetLife(X_7)<=125.)or(m5!=null and(GetUnitLifePercent(m5)<=30 or GetWidgetLife(m5)<300.)))
else
set U7F=UDF*GetWidgetLife(m5)
set U9F=(PJ7(it,50.,500,NU7)and(SS7(1000,it,Condition(function X97))>2 or SS7(800,it,Condition(function k6))>=1))or((m5!=null)and((GetUnitState(it,UNIT_STATE_MANA)>60+5*U4F and GetWidgetLife(m5)<=U7F+70+U4F*15+PL7(U4F==4,15,0)+GetRandomReal(200,400))or(GetUnitState(it,UNIT_STATE_MANA)>=60+5*U4F+55+20*GetUnitAbilityLevel(it,1093683779)and GetWidgetLife(m5)<=600)))
endif
call SetPlayerAbilityAvailable(pl,1093677616,(GetHeroLevel(it)>=3)and U9F)
if(GetUnitLifePercent(m5)<30. or GetWidgetLife(m5)<300.)and X_7!=m5 then
set X_7=m5
endif
if X_7==null then
set X_7=Z97(650,it,Condition(function X97))
endif
set J4=U9F and(X_7!=null)and IssueTargetOrderById(it,852119,X_7)
set m5=Z97(850,it,Condition(function k6))
set UP=GetUnitAbilityLevel(it,1093810503)
if(UP==0)then
set UP=GetUnitAbilityLevel(it,1093810504)+1
endif
set EJ7=90+(120*UP)
if((GetHeroLevel(it)>5)and(Bz>hq[O5])and((Ie(bj_mapInitialPlayableArea,Condition(function RLF))!=null)or(PT4)))then
set GZ[O5]=true
call SetPlayerAbilityAvailable(pl,1093810504,true)
set J4=(not J4)and J8(O5,TG7(it,852164,1093810503))
endif
if((not J4)and(GetHeroLevel(it)>4))then
if((m5==null)and(G0[128+O5]))then
set m5=SO7(1000.,b5,Condition(function k6))
endif
set J4=(m5!=null)and((GetUnitManaPercent(it)>60.)or(SF7(m5,it)))and(T77(it,852095,1093683779,m5))
endif
elseif(i1==1164799855)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3))then
set m5=SO7(800.,b5,Condition(function k6))
endif
set J4=((GetUnitLifePercent(it)<60.)and(TG7(it,852556,1093677378)))or((m5!=null)and(GetUnitLifePercent(m5)<50.)and(T77(it,852075,1093682264,m5)))or((m5!=null)and(GetUnitAbilityLevel(it,1093682265)>0)and(not IsUnitInRange(it,m5,550.))and(GetUnitManaPercent(it)>60.)and(GetRandomInt(1,3)==1)and(GetHeroLevel(it)>3)and(T77(it,852254,1093682265,m5)))or((m5!=null)and(GetUnitAbilityLevel(it,1093752642)>0)and(not IsUnitInRange(it,m5,700.))and(GetUnitManaPercent(it)>55.)and(GetRandomInt(1,2)==1)and(T77(it,852254,1093752642,m5)))
elseif(i1==1433105516)then
if((not J4)and(GetHeroLevel(it)>3))then
set J4=(m5!=null)and((GetUnitManaPercent(it)>60.)or(SF7(m5,it)))and(IssueTargetOrderById(it,852662,m5))
if((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>7)and(((GetUnitLifePercent(m5)<75.)and(Bz>hq[O5]))or((GetUnitLifePercent(m5)<50.)and(Bz>hq[16+O5])))and(not kr(it))and(G0[128+O5]))then
set J4=(Kz(400.,S_7(m5))>0)and(IssuePointOrderById(it,852600,GetUnitX(m5),GetUnitY(m5)))
endif
if((not J4)and(GetHeroLevel(it)>10.)and(Bz>hq[O5])and(hq[416+O5]>Bz))then
set UP=SR7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==TK7(not IsUnitAlly(it,Z7[0]))))and((SR7(1000.,b5,Condition(function YP7))>0)or(TK7(IsUnitAlly(it,Z7[0]))==1)))then
set m5=SQ7(800.,b5,Condition(function k6))
if(m5!=null)then
set UP=SS7(400.,m5,Condition(function k6))
set J4=((UP>1)or(UP==TK7(not IsUnitAlly(it,Z7[0]))))and(IssuePointOrderById(it,852600,GetUnitX(m5),GetUnitY(m5)))
endif
endif
endif
if((not J4)and(GetUnitAbilityLevel(it,1093744688)>0)and(GetUnitManaPercent(it)>50.)and GZ[O5])then
if(GetUnitAbilityLevel(it,1093744688)>1)then
set m5=SO7(600.,b5,Condition(function KD))
set J4=(m5!=null)and(IssueTargetOrderById(it,OrderId("thunderbolt"),m5))
elseif(GetUnitManaPercent(it)>70.)then
set m5=SO7(600.,b5,Condition(function KD))
set J4=(m5!=null)and(GetUnitState(m5,UNIT_STATE_LIFE)<150.)and(IssueTargetOrderById(it,OrderId("thunderbolt"),m5))
endif
endif
if((not J4)and(GetUnitAbilityLevel(it,1093681713)>0)and(GetUnitManaPercent(it)>50.))then
set m5=SQ7(500.,b5,Condition(function k6))
set J4=(m5!=null)and(T77(it,OrderId("channel"),1093681713,m5))
endif
endif
elseif((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))then
if(not J4)and((i1==1214409837)and(GetHeroLevel(it)>=6)and(Bz>TC4[O5])and(h4[O5]!=null))then
set J4=TG7(it,852180,1093742932)
if J4 then
set i1=1211119192
call R97(0.3)
set J4=false
endif
endif
if((not J4)and(GetHeroLevel(it)>5))then
set bj_lastLoadedUnit=m5
set m5=Ie(bj_mapInitialPlayableArea,Condition(function YS7))
if(m5!=null)and(GetUnitLifePercent(m5)<30)and(S47(m5))and(RH7(m5,TJ7(m5))>RH7(it,TJ7(it))+1500.)and(SS7(750.,m5,Condition(function k6))==0)and(not SU7(m5,ZU[QC]))then
set J4=(i1!=1214409837 or TG7(it,852180,1093742932))and(IssueTargetOrderById(it,852248,m5))
if J4 then
call R97(1.0)
call CVE(it,true)
endif
endif
set m5=bj_lastLoadedUnit
endif
if((not J4)and(h4[O5]!=null)and(Bz>TC4[32+O5]))then
set J4=(m5!=null)and(GetUnitAbilityLevel(m5,1110455126)==0)and(not RF7(m5,it,30)or SH7(m5))and(T77(it,852662,1093742680,m5))
endif
if((not J4)and(GetUnitManaPercent(it)>40.))then
set m5=SO7(700.,b5,Condition(function YO7))
set J4=(m5!=null)and(GetUnitManaPercent(m5)<75.)and(T77(it,OrderId("acolyteharvest"),1093742898,m5))
endif
if((not J4)and((GetUnitManaPercent(it)<50.)))then
set J4=T77(it,OrderId("acolyteharvest"),1093742898,it)
endif
if((not J4)and(G0[128+O5])and(GetUnitAbilityLevel(it,1093679157)>1)and((GetUnitManaPercent(it)>30.)or((SR7(1300.,b5,Condition(function k6))<=1)and((GetUnitState(it,UNIT_STATE_MANA)>150+LUE(it,1093742898,GS7))and(Bz>TC4[48+O5]))))and(Bz>TC4[16+O5])and((i1!=1214409837)or(((SR7(300.,b5,Condition(function k8))<=2)and(SR7(800.,b5,Condition(function XE7))>2))and((SR7(500.,b5,Condition(function k6))==0)or(SR7(400.,b5,Condition(function YW7))>0)))))then
set m5=h4[O5]
if m5==null then
set m5=SO7(1300.,S_7(it),Condition(function k6))
endif
if m5==null then
set m5=SO7(1300.,S_7(it),Condition(function X97))
endif
if m5!=null then
set EJ7=PR7(it,m5)
if(IsUnitType(m5,UNIT_TYPE_HERO)and((not S97(it))or DA9(m5))and GetUnitLifePercent(m5)>30)or(h4[O5]==null)then
set EJ7=PR7(it,m5)
if(not C67(it,m5,GetUnitX(it)+1300.*Cos(EJ7*bj_DEGTORAD),GetUnitY(it)+1300.*Sin(EJ7*bj_DEGTORAD),400,Condition(function k8)))and(bj_forLoopAIndex>2)then
set J4=IssuePointOrderById(it,852218,GetUnitX(it)+150.*Cos(EJ7*bj_DEGTORAD),GetUnitY(it)+150.*Sin(EJ7*bj_DEGTORAD))
endif
endif
endif
endif
if((not J4)and(h4[O5]!=null)and(i1!=1214409837))then
set EJ7=GetUnitFacing(m5)
set J4=(m5!=null)and(IssuePointOrderById(it,852089,GetUnitX(m5)+200.*Cos(EJ7*bj_DEGTORAD),GetUnitY(m5)+200.*Sin(EJ7*bj_DEGTORAD)))
endif
elseif(i1==1316252014)then
call SetPlayerAbilityAvailable(pl,1093678405,(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>60.)and((m5!=null)or(SR7(1500.,b5,Condition(function k6))>0)))
if(GetHeroLevel(it)>4)then
set J4=(m5!=null)and((GetUnitManaPercent(it)>60.)or(SF7(m5,it)))and(T77(it,852585,1093678137,m5))
if(not J4)then
if(m5==null)then
set m5=SO7(2400.,b5,Condition(function k7))
endif
set J4=(m5!=null)and(TG7(it,852526,1093678405))
endif
endif
if((not J4)and(GetHeroLevel(it)>10)and(GetUnitManaPercent(it)>50.))then
set UP=0
if((Bz+10.)<hq[O5])then
set UP=UP+1
endif
if((Bz+10.)<hq[16+O5])then
set UP=UP+1
endif
if((Bz+10.)<hq[32+O5])then
set UP=UP+1
endif
if(((Bz+10.)<hq[80+O5])or((Bz+10.)<hq[96+O5]))then
set UP=UP+1
endif
if(((UP>1)and(SR7(800.,b5,Condition(function k6))==0))or((UP>2)and(GetUnitLifePercent(it)>50.)))then
set J4=IssueImmediateOrderById(it,852600)
endif
endif
elseif(i1==1164799603)then
call SetPlayerAbilityAvailable(pl,1095067246,(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>30.))
if(not J4)and(Bz>TC4[O5])and(GetUnitLevel(it)>=6)then
if GetUnitAbilityLevel(it,1093752632)>0 then
set EJ7=105+GetUnitAbilityLevel(it,1093752632)*30
else
set EJ7=116.25+GetUnitAbilityLevel(it,1093752633)*41.25
endif
set EN7=true
set m5=Ie(bj_mapInitialPlayableArea,Condition(function RLF))
if m5==null then
set EN7=false
if h4[O5]!=null then
set DU7=h4[O5]
endif
set m5=Z47(99999.,it)
set DU7=null
if m5==null then
set m5=Ie(bj_mapInitialPlayableArea,Condition(function X97))
endif
endif
if((m5!=null))then
if(EN7)or((not IsUnitType(m5,UNIT_TYPE_HERO))and((Bz-20>TC4[O5])and(GetUnitState(it,UNIT_STATE_MANA)>300.)))or(IsUnitType(m5,UNIT_TYPE_HERO)and((GetUnitLifePercent(m5)<50. or(GZ[208+O5]and h4[O5]!=null)or((Bz-15>TC4[O5])and(GetUnitState(it,UNIT_STATE_MANA)>200.)))))then
set J4=T97(it,852119,1093752632,1093752633,m5)
endif
endif
endif
if(is(it))then
if((RH7(it,TJ7(it))<1500.)and(eY[O5]==1))then
if(h8[16+O5]==h7[14])then
set J4=RNF(0)
elseif(h8[16+O5]==h7[35])then
set J4=RNF(1)
elseif(h8[16+O5]==h7[55])then
set J4=RNF(2)
endif
elseif(((eY[O5]==3)or(eY[O5]==4))and(RH7(it,TJ7(it))>6000.)and(SR7(1200.,b5,Condition(function k6))==0))then
set J4=RNF(3)
endif
endif
if(not J4)then
if(((m5==null)or(not SF7(m5,it)))and(G0[128+O5]))then
set m5=K3(800.,it,Condition(function k7))
endif
set J4=(m5!=null)and(SF7(m5,it))and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,600))and(T77(it,OrderId("carrionswarm"),1093808453,m5))
endif
elseif(i1==1328558160)then
if(SU7(it,ZU[E24]))then
call SetPlayerAbilityAvailable(pl,1093682998,false)
endif
if((GetUnitAbilityLevel(it,1093684056)>0)and(RH7(it,TJ7(it))>2000.)and(GetUnitState(it,UNIT_STATE_MANA)>100.))then
if((GetHeroStr(it,true)>(30+(2*GetHeroLevel(it))))and(GetHeroStr(it,false)>(15+GetHeroLevel(it))))then
if(GetUnitLifePercent(it)>75.)then
set J4=IssueImmediateOrderById(it,852549)
else
set J4=T47(it,851986,h9[O5])
endif
elseif((GetHeroStr(it,true)<(20+(2*GetHeroLevel(it))))and(IsTriggerEnabled(UI7(GetHandleId(pl),"MorphAgi"))))then
set J4=IssueImmediateOrderById(it,852550)
endif
endif
if((not J4)and(m5!=null)and(GetHeroLevel(it)>9)and(Bz>TC4[32+O5])and(SU7(it,ZU[E24]))and(Bz>TC4[208+O5])and(GetUnitState(it,UNIT_STATE_MANA)>315.))then
call CYE(O5,m5,false,false)
call SetPlayerAbilityAvailable(pl,1093682998,true)
set J4=UnitUseItemTarget(it,SY7(it,ZU[E24]),m5)
endif
if((not J4)and(m5!=null)and(GetHeroLevel(it)>5))then
set J4=IssueTargetOrderById(it,852662,m5)
if((not J4)and(IsUnitInRange(it,m5,850.))and(not IsUnitInRange(it,m5,400.))and(GetUnitLifePercent(it)>75.)and((not IC(O5))or(GetUnitLifePercent(m5)<55.)))then
set TLF=kL(it,m5,200.)
if((TLF!=null)and((SR7(800.,TLF,Condition(function Y27))-SR7(800.,TLF,Condition(function YP7)))<=1)and(SR7(700.,TLF,Condition(function YE7))==0))then
call SetPlayerAbilityAvailable(pl,1093682766,true)
set GZ[O5]=true
set J4=J8(O5,IssuePointOrderByIdLoc(it,852218,TLF))
endif
endif
endif
if((not J4)and(GetHeroLevel(it)>15)and(m5!=null)and(GetUnitAbilityLevel(it,1093683011)==0)and((GetUnitLifePercent(m5)<60.)or((SR7(600.,b5,Condition(function k6))>=2)and(SR7(600.,b5,Condition(function YO7))>0))))then
set m5=JEF(800.,it)
set J4=(m5!=null)and(T77(it,852274,1093683000,m5))
endif
elseif(i1==1212363833)then
call SetPlayerAbilityAvailable(pl,1093678643,(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>70.))
set UP=R2I(hq[16+O5]-Bz)
set J4=(m5!=null)and((GetHeroLevel(it)>13)or((GetHeroLevel(it)>4)and(GetUnitLifePercent(m5)<70.)))and((UP<=0)or(UP>50))and(T77(it,852095,1093809220,m5))
if(not J4)then
set h4[O5]=PV7(h4[O5]==null,m5,h4[O5])
set bj_lastLoadedUnit=it
set X_7=PV7(h4[O5]!=null and SS7(450,h4[O5],Condition(function LG7))>0,h4[O5],Z97(99999,it,Condition(function LH7)))
set J4=((X_7!=null and(PO7(X_7,65,100+30*GetUnitAbilityLevel(it,1093815125)+300.,NT7)))or(SS7(450,it,Condition(function X97))>=3 and PJ7(it,70.,500.,NU7)))and TG7(it,852526,1093815125)
endif
if((not J4)and(GetHeroLevel(it)>10)and(Bz>hq[32+O5]))then
set m5=SQ7(800.,b5,Condition(function YS7))
set J4=(m5!=null)and(SS7(600.,m5,Condition(function k6))>0)and(IssueImmediateOrderById(it,852600))
endif
elseif(i1==1315070563)then
if(not GZ[O5])then
call SetPlayerAbilityAvailable(pl,1093678407,(GetHeroLevel(it)>4)and((not iy(it))or(GetHeroLevel(it)>11))and(GetUnitManaPercent(it)>70.))
endif
if((GetHeroLevel(it)>5)and(Bz>TC4[O5])and(G0[128+O5]))then
if(m5==null)then
set m5=SO7(700.,b5,Condition(function k6))
endif
if((m5!=null)and(not IsUnitIllusion(m5))and(not ke(m5)))then
set UP=SS7(600.,m5,Condition(function k6))+1
if(GetHeroLevel(it)<11)then
set J4=(GetUnitState(m5,UNIT_STATE_LIFE)<600.)and(UP>=SS7(700.,m5,Condition(function KA)))and(T97(it,852095,1093684529,1093747032,m5))
elseif((GetUnitState(m5,UNIT_STATE_LIFE)<1200.)or(UP>2)or((UP>1)and(SS7(600.,m5,Condition(function YO7))>0)))then
set J4=(UP>=SS7(700.,m5,Condition(function KA)))and(T97(it,852095,1093684529,1093747032,m5))
endif
endif
endif
elseif(i1==1214931305)then
set UP=GetHeroLevel(it)
call SetPlayerAbilityAvailable(pl,1093748025,(UP>9)and((GetUnitManaPercent(it)>55.)or(m5!=null)or(SR7(900.,b5,Condition(function k6))>0)))
set J4=(h4[O5]!=null)and(T77(it,852171,1093678147,m5))
if((m5==null)and(G0[128+O5])and(UP>3))then
set m5=SO7(1000.,b5,Condition(function k6))
endif
if(m5!=null)then
if((GetUnitState(it,UNIT_STATE_LIFE)>GetUnitState(m5,UNIT_STATE_LIFE))and((GetUnitState(it,UNIT_STATE_LIFE)-GetUnitState(m5,UNIT_STATE_LIFE))>(40*GetHeroLevel(it))))then
if((SU7(it,ZU[RW]))and(not IsUnitIllusion(m5))and(G0[128+O5])and(GetUnitLifePercent(it)>75.)and(GetHeroLevel(it)>10)and(GetUnitState(it,UNIT_STATE_MANA)>hq[272+O5]+120.)and(Bz>hq[O5]))then
set h4[16+O5]=m5
set J4=R3F(it,m5)
endif
if(not J4)then
set J4=((((UP>5)and(Bz>hq[O5])and(not IsUnitIllusion(m5))and(GetUnitState(it,UNIT_STATE_MANA)>hq[272+O5]+150.))or(GetUnitLifePercent(m5)<50.))and(T77(it,852171,1093678147,m5)))or((((GetUnitManaPercent(it)>55.)and(UP>3))or(SF7(m5,it)))and(GetUnitAbilityLevel(m5,1110454583)==0)and(T77(it,OrderId("blizzard"),1093748025,m5)))
endif
if((not J4)and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,600.))and(Bz>hq[O5]))then
set J4=(Kz(500.,b5)>1)and(GetUnitState(it,UNIT_STATE_MANA)>hq[272+O5]+100.)and((GetUnitAbilityLevel(m5,1110454583)>0)or(SR7(850.,b5,Condition(function YP7))>0))and((SL7(it,ZU[D0]))or(IssueImmediateOrderById(it,852600)))
endif
endif
endif
elseif(i1==1328558389)then
if((m5==null)and(G0[128+O5]))then
set m5=SO7(1500.,b5,Condition(function k6))
endif
if((not J4)and(Bz>TC4[O5])and(not IsUnitIllusion(m5))and(GetUnitLevel(it)>=6)and(h4[O5]!=null)and(IsUnitInRange(it,m5,1200.))and((GetUnitLifePercent(m5)<60.)or((DA9(m5)or GZ[208+O5])and(GetUnitLifePercent(m5)<80.))))then
if DA9(m5)or(RF7(it,m5,30))then
set J4=(IssuePointOrderByIdLoc(it,852600,S_7(m5)))
endif
endif
if((not J4)and(m5!=null)and(Bz>TC4[32+O5])and(not IsUnitIllusion(m5))and(GetUnitAbilityLevel(it,1093747000)>1)and(((((GetUnitState(it,UNIT_STATE_MANA)>LUE(it,1093747000,GS7)+LUE(it,1093747009,GS7))and(Bz+10<TC4[O5]))or(GetUnitState(it,UNIT_STATE_MANA)>430))and(GetUnitLifePercent(m5)>40.))or(GetWidgetLife(m5)<80*GetUnitAbilityLevel(it,1093747000))))then
set J4=(T77(it,OrderId("volcano"),1093747000,m5))
endif
if(not J4)and(m5!=null)and(Bz>TC4[16+O5])and(not G0[O5])and(IsUnitInRange(it,m5,300))and(GetUnitLifePercent(m5)<70.)and((GetUnitState(it,UNIT_STATE_MANA)>LUE(it,1093747009,GS7)+LUE(it,1093746993,GS7))or(Bz+10<TC4[O5]))then
set J4=(IssueImmediateOrderById(it,852581))
endif
elseif(i1==1328558390)then
if((m5==null))then
set m5=SO7(1200.,b5,Condition(function k6))
endif
if(not J4)and(h4[O5]!=null)and(Bz>TC4[O5])and(GetUnitLevel(it)>=6)and(GetUnitLifePercent(m5)<60.)then
set J4=(T77(it,852119,1093744975,m5))
endif
if(not J4)and(h4[O5]!=null)and(Bz>TC4[48+O5])and(SH7(m5))and(not IsUnitInRange(it,m5,400.))and(GetUnitState(it,UNIT_STATE_MANA)>LUE(it,1093744982,GS7)+100)then
call TG7(it,852180,1093744986)
call R97(0.1)
endif
if(not J4)and(Bz>TC4[16+O5])and(GetUnitLevel(it)>=4)and((GetUnitState(it,UNIT_STATE_MANA)>390.)or((h4[O5]!=null)and(GetUnitState(it,UNIT_STATE_MANA)>100+LUE(it,1093744982,GS7)))or(GetUnitLifePercent(m5)<70.))then
set J4=(T77(it,852089,1093748044,m5))
endif
if(not J4)and(Bz>TC4[32+O5])and(m5!=null)and((h4[O5]!=null)or(GetUnitLifePercent(m5)<70.)or(GetUnitState(it,UNIT_STATE_MANA)>=400.))then
if(C57(it,m5,750,0.2,1500)!=null)then
set J4=(T87(it,852218,1093744982,GN7))
endif
endif
if(not J4)and(Bz>TC4[32+O5])and(h4[O5]==null)and(GetUnitAbilityLevel(it,1093744982)>1)and((GetUnitState(it,UNIT_STATE_MANA)>=400.)or(GetUnitLifePercent(m5)<70.))then
if((not J4)and(m5!=null)and(not IsUnitInRange(it,m5,450.))and(iU(it))and(G0[128+O5])and(not G0[48+O5])and(SR7(400.,b5,Condition(function k8))==0))then
set UP=R2I(RI7(GetUnitX(it),GetUnitY(it),GetUnitX(m5),GetUnitY(m5)))
if(GetRandomInt(1,2)==1)then
set i1=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))-25
else
set i1=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))+25
endif
set J4=IssuePointOrderById(it,851986,GetUnitX(m5)+UP*Cos(i1*bj_DEGTORAD),GetUnitY(m5)+UP*Sin(i1*bj_DEGTORAD))
endif
endif
elseif(i1==1160786510)then
if(not J4)and(Bz>TC4[O5])and(GetUnitLevel(it)>=6)then
if GetUnitAbilityLevel(it,1093808949)>0 then
set EJ7=150+GetUnitAbilityLevel(it,1093808949)*37.5
set UP=99999
elseif GetUnitAbilityLevel(it,1093751861)>0 then
set EJ7=150+GetUnitAbilityLevel(it,1093751861)*37.5
set UP=1000
else
set UP=0
endif
if UP!=0 then
set EN7=true
set m5=SO7(UP,GetUnitLoc(it),Condition(function RLF))
if m5==null then
set EN7=false
if h4[O5]==null then
set m5=SO7(UP,GetUnitLoc(it),Condition(function k6))
else
set m5=h4[O5]
endif
endif
if((m5!=null))then
if(EN7)or((GetUnitLifePercent(m5)<50. or(GZ[208+O5]and h4[O5]!=null)or((Bz-20>TC4[O5])and(GetUnitState(it,UNIT_STATE_MANA)>300.))and(not IsUnitIllusion(m5))))then
if SH7(m5)or(D38(it,m5))then
if C_7(it,m5,2,UP)!=null then
set J4=TD7(it,852089,1093751861,1093808949,GetLocationX(GN7),GetLocationY(GN7))
endif
else
set J4=TD7(it,852089,1093751861,1093808949,GetUnitX(m5),GetUnitY(m5))
endif
endif
if J4 then
call R97(0.1)
set J4=false
endif
endif
endif
endif
set m5=h4[O5]
if((m5==null))then
set m5=SO7(800.,b5,Condition(function k6))
endif
if(not J4)and(Bz>TC4[16+O5])and(h4[O5]!=null or GetUnitLifePercent(m5)<70.)and(IsUnitInRange(it,m5,400))then
set J4=TG7(it,852600,1093751631)
endif
if(not J4)and(Bz>TC4[32+O5])and(h4[O5]!=null or GetUnitLifePercent(m5)<70. or SF7(m5,it))then
set J4=T77(it,852119,1093751633,m5)
endif
set UP=SS7(800.,it,Condition(function k6))
if(not J4)and(Bz>TC4[48+O5])and((h4[O5]!=null and UP>1 and IsUnitInRange(it,m5,500))or(UP>2 and GetUnitState(it,UNIT_STATE_MANA)>350)or(GetUnitState(it,UNIT_STATE_MANA)>450 and SS7(800,it,Condition(function X97))>5))then
set J4=TG7(it,852526,1093808697)
endif
elseif(i1==1328558406)then
if(not J4)and(h4[O5]!=null)and(is(it))and(Bz>TC4[16+O5])then
set m5=YA7(900.,it,false)
if m5!=null then
set J4=T77(it,852119,1093751873,m5)
endif
endif
if(not J4)and(is(it))and(h8[160+O5]!=null)then
set GZ[224+O5]=(LoadUnitHandle(L7,(GetHandleId(it)),(652))!=null)
set J4=IssuePointOrderById(it,852662,GetUnitX(h8[160+O5])+GetRandomReal(-200.,200.),GetUnitY(h8[160+O5])+GetRandomReal(-200.,200.))
set h8[160+O5]=null
endif
if(not J4)then
set m5=h4[O5]
if(m5==null)then
set m5=SO7(800.,b5,Condition(function k6))
endif
if(h4[O5]!=null)and(GetUnitLifePercent(it)+10.>GetUnitLifePercent(m5))then
call SetPlayerAbilityAvailable(Player(O5),1093810257,true)
set GZ[O5]=true
set J4=(GetUnitAbilityLevel(it,1110456385)==0)and(IssueImmediateOrderById(it,852589))
else
set GZ[O5]=false
set J4=(GetUnitAbilityLevel(it,1110456385)!=0)and(TG7(it,852590,1093810257))
endif
if J4 then
call R97(0.1)
set J4=false
endif
if(not J4)and(m5!=null)and(h4[O5]!=null or GetUnitManaPercent(it)>90 or(GetUnitLifePercent(m5)<70 and GetUnitManaPercent(it)>60))then
if UX7(it,"AI|IoSpirits")then
set UP=R2I(RH7(it,m5))
if UP<425 then
set J4=(US7(GetHandleId(it),"AI|IoSpiritsFar"))and(IssueImmediateOrderById(it,852217))
else
set J4=(not US7(GetHandleId(it),"AI|IoSpiritsFar"))and(IssueImmediateOrderById(it,852490))
endif
else
if(Bz>TC4[32+O5])then
set J4=TG7(it,852526,1093751864)and(IssueImmediateOrderById(it,852490))
endif
endif
endif
endif
elseif(i1==1160786504)then
if(m5==null)then
set m5=SO7(800.,b5,Condition(function k6))
endif
if(not J4)and(m5!=null)and(Bz>TC4[O5])and((GetUnitLifePercent(m5)<50. and(UnitCountBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,m5,false,false)==0))or SJ7(m5))then
set J4=T77(it,852111,1093751617,m5)
if J4 then
call CYE(O5,m5,false,false)
endif
endif
if(not J4)and(m5!=null)and(Bz>TC4[32+O5])and(IsUnitInRange(it,m5,600))and(h4[O5]!=null or GetUnitLifePercent(m5)<70. or SF7(m5,it))then
if SR7(450,S_7(m5),Condition(function X97))<=1 then
set J4=T77(it,852089,1093751618,m5)
endif
endif
if(not J4)and(m5!=null)and(Bz>TC4[16+O5])and(h4[O5]!=null or GetUnitLifePercent(m5)<70. or SF7(m5,it))and(SS7(450,m5,Condition(function X97))<=1)then
set J4=T77(it,852119,1093751608,m5)
endif
if(not J4)then
if(m5==null)then
set m5=SO7(1200.,b5,Condition(function k6))
endif
if(m5!=null)and(Bz>TC4[48+O5])and(h4[O5]!=null or GetUnitLifePercent(m5)<70. or SF7(m5,it)or GetUnitManaPercent(it)>50.)and(IsUnitVisible(m5,Player(O5)))then
set J4=IssuePointOrderByIdLoc(it,852600,S_7(m5))
call R97(0.5)
endif
endif
elseif i1==1211119409 then
if((m5==null)and(G0[128+O5]))then
set m5=SO7(800.,b5,Condition(function k6))
endif
if((not J4)and(Bz>TC4[32+O5])and(m5!=null)and(GetUnitLifePercent(m5)<60.)and((not IsUnitInRange(it,m5,200.))or(SH7(m5))))then
if(C57(it,m5,28/0.03,0,(GetUnitAbilityLevel(it,1093749303)+3)*100)!=null)and(C67(it,m5,GetLocationX(GN7),GetLocationY(GN7),120,Condition(function GG8)))then
set J4=(RF7(it,m5,15))and(IssueImmediateOrderById(it,852600))
call CYE(O5,m5,false,false)
endif
endif
if((not J4)and(Bz>TC4[16+O5])and(m5!=null)and(IsUnitInRange(it,m5,300.))and(GetUnitLifePercent(it)>GetUnitLifePercent(m5)+20.)and(G0[256+O5])and((GetUnitState(it,UNIT_STATE_MANA)>200.)or SH7(m5)))then
set J4=IssueImmediateOrderById(it,852526)
endif
if(not J4)and(h4[O5]!=null)and(Bz>TC4[O5])and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,200.))then
set J4=TG7(it,852129,1093749070)
endif
if(not J4)and(h4[O5]==null)and(Bz>TC4[16+O5])and(SS7(325.,it,Condition(function YI7))>3)and(GetUnitState(it,UNIT_STATE_MANA)>400.)then
set J4=IssueImmediateOrderById(it,852526)
endif
elseif(i1==1211117653)then
if(m5==null and(G0[128+O5]))then
set m5=SO7(800.,b5,Condition(function k6))
endif
set UP=(SR7(1200.,b5,Condition(function KX)))
set J4=(GetUnitAbilityLevel(it,1110456408)>0)and(UP>0)and(GetUnitLifePercent(it)<70.)
if((not J4)and((GetUnitState(it,UNIT_STATE_MANA))>175)and((Bz>TC4[O5])or(AG7(it,1093686855)))and(Bz>TC4[144+O5]))then
set EJ7=(37.5+(46.87*GetUnitAbilityLevel(it,1093808470)))
set T2F=Ie(bj_mapInitialPlayableArea,Condition(function RLF))
set J4=(T2F!=null)and AR7(it,LR4,LR4,LR4,1093686855)and IssuePointOrderByIdLoc(it,852089,C_7(it,T2F,1.7,99999))
elseif((not J4)and((GetUnitState(it,UNIT_STATE_MANA))>175)and(Bz>TC4[144+O5]))then
set EJ7=(37.5+(46.87*GetUnitAbilityLevel(it,1093808470)))
set T2F=Ie(bj_mapInitialPlayableArea,Condition(function RLF))
if(T2F!=null)then
call SetPlayerAbilityAvailable(GetOwningPlayer(it),BS[9],true)
set J4=IssuePointOrderByIdLoc(it,852089,C_7(it,T2F,1.7,99999))
call SetPlayerAbilityAvailable(GetOwningPlayer(it),BS[9],false)
endif
endif
if((not J4)and(m5!=null)and(not IsUnitIllusion(m5)))then
call CYE(O5,m5,false,false)
if(((GetUnitState(it,UNIT_STATE_MANA))>410)and(GetUnitLevel(it)>=10)and(Bz>TC4[O5])and(Bz>TC4[48+O5])and(Bz>TC4[112+O5])and((AG7(it,1093686862))or(AG7(it,1093686861))))then
set J4=AR7(it,LR4,LR4,LQ4,1093686862)and(AM7(it,LR4,LR4,LR4,false))and IssuePointOrderById(it,852216,GetUnitX(m5),GetUnitY(m5))
endif
if((not J4)and((GetUnitState(it,UNIT_STATE_MANA))>350)and(GetUnitLevel(it)>=14)and(Bz>TC4[O5])and(Bz>TC4[96+O5])and(Bz>TC4[144+O5])and((AG7(it,1093686859))or(AG7(it,1093686855))))then
set J4=AR7(it,LQ4,LQ4,LP4,1093686859)and IssuePointOrderById(it,852491,GetUnitX(m5),GetUnitY(m5))
endif
if(not J4 and(GetUnitLevel(it)<14)and((GetUnitState(it,UNIT_STATE_MANA))>290)and(AG7(it,1093686861)or(Bz>TC4[O5])))then
set J4=(AR7(it,LP4,LQ4,LR4,1093686861)and IssuePointOrderById(it,852215,GetUnitX(m5),GetUnitY(m5)))
endif
if(not J4)then
set J4=(((Bz>TC4[64+O5])and AR7(it,LR4,LR4,LP4,1093686863)and(IssueImmediateOrderById(it,852132)))or((Bz>TC4[16+O5])and AR7(it,LP4,LP4,LP4,1093686874)and(T77(it,852505,1093686874,m5)))or(((GetUnitState(it,UNIT_STATE_MANA))>350)and(Bz>TC4[112+O5])and AR7(it,LP4,LQ4,LR4,1093686861)and IssuePointOrderById(it,852215,GetUnitX(m5),GetUnitY(m5))))
endif
if((not J4)and((GetUnitState(it,UNIT_STATE_MANA))>120))then
set J4=((Bz>TC4[160+O5])and(IsUnitInRange(it,m5,106.))and AR7(it,LP4,LP4,LR4,1093686864)and(IssueImmediateOrderById(it,852134)))or((Bz>TC4[48+O5])and AR7(it,LR4,LR4,LQ4,1093686862)and IssuePointOrderById(it,852216,GetUnitX(m5),GetUnitY(m5)))or((Bz>TC4[32+O5])and AR7(it,LQ4,LQ4,LQ4,1093686867)and(AM7(it,LR4,LR4,LR4,false))and(IssuePointOrderByIdLoc(it,852217,GetUnitLoc(m5))))
endif
endif
if((GetUnitAbilityLevel(it,1110456408)==0))then
if(not J4 and(Bz>TC4[O5])and(Bz>TC4[48+O5])and(not AG7(it,1093686862))and(GetRandomInt(1,2)==1))then
call AR7(it,LR4,LR4,LQ4,1093686862)
elseif(not J4 and(GetUnitLevel(it)<14)and(Bz>TC4[O5])and(Bz>TC4[112+O5])and(not AG7(it,1093686861)))then
call AR7(it,LP4,LQ4,LR4,1093686861)
elseif(not J4 and(GetUnitLevel(it)>=14)and(Bz>TC4[O5])and(Bz>TC4[96+O5])and(not AG7(it,1093686859))and(GetRandomInt(1,2)==1))then
call AR7(it,LQ4,LQ4,LP4,1093686859)
elseif(not J4 and(Bz>TC4[O5])and(Bz>TC4[16+O5])and(not AG7(it,1093686874)))then
call AR7(it,LP4,LP4,LP4,1093686874)
else
endif
set UP=SS7(1500.,it,Condition(function k8))
if((m5!=null and(AF7(it)<3))or((GetUnitLevel(it)<5)and(AF7(it)<3))or((AF7(it)<3)and(UP>1)))then
call AM7(it,LR4,LR4,LR4,false)
elseif(m5==null and(not J4)and(GetUnitLevel(it)>5)and(GetUnitAbilityLevel(it,1093808472)>0)and(GetUnitLifePercent(it)>80.)and(A97(it)<3)and(UP<2))then
call AM7(it,LQ4,LQ4,LQ4,false)
elseif(m5==null and(not J4)and(GetUnitAbilityLevel(it,1093808471)>0)and(GetUnitLifePercent(it)<58.)and(AE7(it)<3))then
call AM7(it,LP4,LP4,LP4,false)
else
endif
if(not J4)then
set m5=null
set m5=SO7(700.,b5,Condition(function YV7))
set J4=(m5!=null)and(GetUnitCurrentOrder(m5)==851983)and AR7(it,LQ4,LQ4,LR4,1093686865)and T77(it,852490,1093686865,m5)
endif
endif
elseif(i1==1311787088)then
if(not J4)and(Bz>TC4[O5])and(GetUnitLevel(it)>=6)then
set EJ7=100+GetUnitAbilityLevel(it,1093750089)*150
set EN7=true
set m5=Ie(bj_mapInitialPlayableArea,Condition(function RLF))
if m5==null then
set EN7=false
if h4[O5]==null then
set m5=SO7(99999.,GetUnitLoc(it),Condition(function k6))
else
set m5=h4[O5]
endif
endif
if((m5!=null))then
if(EN7)or((GetUnitLifePercent(m5)<50. or(GZ[208+O5]and h4[O5]!=null)or((Bz-20>TC4[O5])and(GetUnitState(it,UNIT_STATE_MANA)>300.))and(not IsUnitIllusion(m5))))then
if SH7(m5)or(D38(it,m5))then
if C57(it,m5,500.,0.02,1500.)!=null then
set J4=IssuePointOrderByIdLoc(it,852662,GN7)
if J4 then
call TT7(GetHandleId(it),"AI|IBClose",1)
endif
elseif C57(it,m5,1500.,2.02,99999.)!=null then
set J4=IssuePointOrderByIdLoc(it,852662,GN7)
if J4 then
call TT7(GetHandleId(it),"AI|IBClose",0)
endif
endif
else
set J4=IssuePointOrderById(it,852662,GetUnitX(m5),GetUnitY(m5))
if J4 then
call TT7(GetHandleId(it),"AI|IBClose",2)
endif
endif
endif
if J4 then
call TX7(GetHandleId(it),"AI|IBTgt",m5)
call TriggerSleepAction(0.1)
set J4=false
endif
endif
endif
if(m5==null)then
set m5=SO7(800.,b5,Condition(function k6))
endif
if(not J4)and(not IsUnitIllusion(m5)and(IsUnitInRange(it,m5,750.))and((GetUnitState(it,UNIT_STATE_MANA))>(GetUnitState(it,UNIT_STATE_MAX_MANA)/2.5)))then
set J4=(m5!=null)and(T77(it,OrderId("channel"),1093750087,m5))
endif
if((not J4)and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,1500.))and((GetUnitState(it,UNIT_STATE_MANA))>(GetUnitState(it,UNIT_STATE_MAX_MANA)/2.5))and((GetUnitLevel(it)>10)or(GetUnitManaPercent(it)>65.)))then
set J4=(m5!=null)and(T77(it,OrderId("blizzard"),1093748819,m5))
endif
if((not J4)and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,600.))and(GetUnitManaPercent(it)>30.))then
set J4=(m5!=null)and(T77(it,OrderId("berserk"),1093748817,it))
endif
if(not J4)then
set J4=(IsUnitType(m5,UNIT_TYPE_HERO))and(S17(it,m5))
endif
elseif(i1==1160786505)then
if(m5==null and(G0[128+O5]))then
set m5=SO7(1100.,b5,Condition(function k6))
endif
if((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)<60.))then
set J4=(IssuePointOrderById(it,852662,GetUnitX(m5),GetUnitY(m5)))or(IssueTargetOrderById(it,852185,m5))
endif
if((not J4)and(G0[128+O5])and(Bz>TC4[32+O5])and(Bz>TC4[16+O5])and(GetUnitLevel(it)>6))then
set J4=(m5!=null)and(GetUnitLevel(it)>3)and((GetUnitLifePercent(it)>75.)or(IsUnitInRange(it,m5,300.)))and(not IsUnitIllusion(m5))and((SS7(800.,m5,Condition(function Y27))-SS7(800.,m5,Condition(function YP7)))<=2)and((SR7(750.,GetUnitLoc(m5),Condition(function YE7))==0)or(GetRandomInt(1,2)==1))and(GetUnitState(it,UNIT_STATE_MANA)>300.)and(IssueTargetOrderById(it,852185,m5))
endif
if(not J4 and(m5!=null))then
set J4=(not IsUnitIllusion(m5))and(Bz>TC4[O5])and(GetUnitLifePercent(m5)<48.)and(IsUnitInRange(it,m5,200.))and(IssueImmediateOrderById(it,852526))
endif
if(not J4 and(m5!=null))then
set UP=SR7(780.,GetUnitLoc(m5),Condition(function YE7))
set T5F=SS7(800.,m5,Condition(function Y27))
set J4=((Bz>TC4[32+O5])and(GetUnitLevel(it)>3)and(IsUnitInRange(it,m5,800.))and((T5F-SS7(800.,m5,Condition(function YP7)))<=2)and((UP>0)and(T5F<2)or(UP==0)and(T5F<=2))and(IssueTargetOrderById(it,852185,m5)))or((Bz>TC4[16+O5])and(GetUnitLevel(it)>3)and(GetUnitState(it,UNIT_STATE_MANA)>150)and(GetUnitLifePercent(m5)<90.)and(IssuePointOrderById(it,852662,GetUnitX(m5),GetUnitY(m5))))
endif
elseif(i1==1212365106)then
call SetPlayerAbilityAvailable(pl,1093685831,(GetHeroLevel(it)>13)and(SR7(1200.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>70.))
if((m5!=null)and(not IsUnitIllusion(m5))and(((GetHeroLevel(it)>5)and(not IC(O5)))or(SM7(m5,it)))and(not IsUnitInRangeLoc(m5,b5,250.)))then
set J4=(kJ(GetUnitX(m5),GetUnitY(m5)))and((SS7(800.,m5,Condition(function Y27))-SS7(800.,m5,Condition(function YP7)))<=1)and(IssueTargetOrderById(it,852600,m5))
endif
if((not J4)and(GetHeroLevel(it)>14)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[128+O5]))then
set UP=SR7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==TK7(not IsUnitAlly(it,Z7[0]))))and((SR7(1000.,b5,Condition(function YP7))>0)or(TK7(IsUnitAlly(it,Z7[0]))==1)))then
set m5=K3(700.,it,Condition(function k6))
set J4=(m5!=null)and((SS7(I2R(225+(25*GetUnitAbilityLevel(it,1093685831))),m5,Condition(function k6))>1)or(GetUnitLifePercent(m5)<80.))and(T77(it,852089,1093685831,m5))
endif
endif
elseif(i1==1211117617)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>10))then
set m5=SO7(800.,b5,Condition(function k6))
endif
set J4=(m5!=null)and(((GetHeroLevel(it)>4)and(not IsUnitInRange(it,m5,300.)))or(SF7(m5,it)))and(T77(it,OrderId("acidbomb"),1093744944,m5))
if((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>10)and(hq[416+O5]>Bz)and(G0[128+O5])and(GetUnitAbilityLevel(it,1110454329)==0)and(GetUnitState(it,UNIT_STATE_MANA)>200.))then
set UP=SR7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==TK7(not IsUnitAlly(it,Z7[0]))))and((SR7(1000.,b5,Condition(function YP7))>0)or(TK7(IsUnitAlly(it,Z7[0]))==1)))then
set J4=((((Bz>hq[O5])or(GetUnitCurrentOrder(m5)==851973))and(IsUnitInRange(it,m5,600.)))or(IsUnitInRange(it,m5,300.)))and((TG7(it,852526,1093814611))or(SL7(it,ZU[D0]))or(TG7(it,OrderId("chemicalrage"),1093752648)))
endif
endif
if(GetUnitAbilityLevel(it,1110454329)>0)and(GetUnitLifePercent(it)>70)then
if(h4[O5]==null)then
set ET7=SO7(700.,b5,Condition(function k6))
call CYE(O5,ET7,false,false)
endif
if((GetUnitCurrentOrder(it)==851986)and(G0[128+O5])and(hq[512+O5]>Bz)and(not G0[O5])and(SR7(800.,b5,Condition(function KC))>1))then
call T47(it,851983,h8[O5])
endif
endif
elseif(i1==1211117633)then
set J4=(m5!=null)and(GetUnitLifePercent(m5)<60.)and((not IsUnitIllusion(m5))or(GetUnitLifePercent(m5)>35.))and(T77(it,852585,1093684045,m5))
if((not J4)and(GetHeroLevel(it)>5)and(Bz>hq[16+O5]))then
set m5=Ie(bj_mapInitialPlayableArea,Condition(function YS7))
set J4=(m5!=null)and(SS7(800.,m5,Condition(function k6))>0)and(IssueImmediateOrderById(it,852600))
if((not J4)and(m5!=null)and(IsUnitInRange(it,m5,800.)))then
set J4=(GetUnitLifePercent(m5)<25.)and(not Id(GetPlayerId(GetOwningPlayer(m5))))and(T77(it,852096,1093815619,m5))
endif
endif
if((not J4)and(h4[16+O5]!=null))then
if((SE7(h4[16+O5]))and(GetUnitAbilityLevel(h4[16+O5],1110455624)>0))then
set J4=T77(it,852095,1093684310,h4[16+O5])
call S4F(it,h4[16+O5])
else
set h4[16+O5]=null
endif
endif
if((RH7(it,TJ7(it))<1500.)and(eY[O5]==1)and(GetHeroLevel(it)>5)and(IH(pl,Condition(function L49))<2))then
if(IsUnitAlly(it,Z7[0]))then
if((h8[16+O5]==h7[35])and(G2!=1)and(G4!=1))then
set h8[16+O5]=h7[55]
set h8[O5]=h7[51]
endif
else
if((h8[16+O5]==h7[155])and(G1!=2)and(G3!=2))then
set h8[16+O5]=h7[135]
set h8[O5]=h7[131]
endif
endif
endif
if((not J4)and(GetHeroLevel(it)>21)and(IH(pl,Condition(function L49))==0))then
set m5=SO7(600.,b5,Condition(function k8))
set J4=(m5!=null)and(GetUnitState(m5,UNIT_STATE_LIFE)>800.)and(T77(it,852131,1093810260,m5))
endif
elseif(i1==1211117620)then
call SetPlayerAbilityAvailable(pl,1093677382,(GetHeroLevel(it)>10)and(iy(it))and(GetUnitManaPercent(it)>60.))
call SetPlayerAbilityAvailable(pl,1093677105,(GetUnitManaPercent(it)>70.)and(GetUnitAbilityLevel(it,1110454324)==0))
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3))then
set m5=SO7(1000.,b5,Condition(function k6))
endif
if(m5!=null)then
if((GetHeroLevel(it)>5)and(not IsUnitIllusion(m5))and(not ke(m5))and(Bz>hq[O5]))then
set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
set J4=(UP<RTF(it))and(UP>150)and(T97(it,852119,1093677392,1093679450,m5))
endif
if((not J4)and((GetUnitManaPercent(it)>40.)or(SF7(m5,it))))then
if(((Bz>hq[16+O5])and(GetHeroLevel(it)>3))or(GetUnitLifePercent(m5)<55.))then
set GZ[64+O5]=true
set J4=T87(it,852232,1093677623,C_7(it,m5,.95,600.))
set GZ[64+O5]=false
endif
if(not J4)then
set J4=(Bz>hq[16+O5])and(GetHeroLevel(it)>3)and(GetRandomInt(1,2)==1)and(T77(it,852125,1093677382,m5))
endif
endif
endif
if((not J4)and(GetHeroLevel(it)>15)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[128+O5]))then
set UP=SR7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==TK7(not IsUnitAlly(it,Z7[0]))))and((SR7(1000.,b5,Condition(function YP7))>0)or(TK7(IsUnitAlly(it,Z7[0]))==1)))then
if(m5==null)then
set m5=K3(700.,it,Condition(function k6))
endif
if(m5!=null)then
set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
set J4=(GetUnitLifePercent(m5)<60.)and(UP<1600)and(UP>500)and(not ke(m5))and(T97(it,852119,1093677392,1093679450,m5))
endif
endif
endif
elseif(i1==1432580716)or(i1==1429221720)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>5)and(GetUnitManaPercent(it)>60.))then
set m5=SO7(600.,b5,Condition(function k6))
endif
if((G0[128+O5])and(SU7(it,ZU[RW]))and(GetHeroLevel(it)>8)and(m5!=null)and(not IsUnitIllusion(m5))and(Bz>hq[O5])and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,600.)))then
set J4=((SS7(800.,m5,Condition(function Y27))-SS7(800.,m5,Condition(function YP7)))<=1)and(R3F(it,m5))
endif
call SetPlayerAbilityAvailable(pl,1093684300,(GetHeroLevel(it)>9)and(GetUnitManaPercent(it)>60.))
if(not J4)then
set J4=(m5!=null)and((SF7(m5,it))or((GetHeroLevel(it)>7)and(GetUnitState(it,UNIT_STATE_MANA)>350.)and(Bz>hq[O5])and(IsUnitInRange(it,m5,220.))))and(T77(it,852089,1093684300,m5))
endif
elseif(i1==1333027688)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>60.))then
set m5=SO7(1000.,b5,Condition(function k6))
endif
if(m5!=null)then
if((G0[128+O5])and(SU7(it,ZU[RW]))and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>10)and(Bz>hq[O5])and(SS7(500.,m5,Condition(function k8))>5))then
set J4=R3F(it,m5)
endif
if((not J4)and(Bz>hq[O5])and(IsUnitInRange(it,m5,400.))and(GetUnitState(m5,UNIT_STATE_LIFE)>180.))then
set UP=S2F(it)
if((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<UP)or((UP>100)and((R2I(GetUnitState(m5,UNIT_STATE_LIFE))-UP)<GetHeroLevel(it)*30)))then
set J4=TG7(it,852526,1093682248)or(TG7(it,852526,1093750594))
endif
endif
if((not J4)and(GetUnitCurrentOrder(m5)==851986)and(GetUnitLifePercent(m5)<50.))then
set J4=T77(it,OrderId("channel"),1093686091,m5)
endif
if((not J4)and(GetHeroLevel(it)>3))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h8[16+O5])-GetUnitY(m5),GetUnitX(h8[16+O5])-GetUnitX(m5)))
call SetPlayerAbilityAvailable(pl,1093686091,true)
set J4=IssuePointOrderById(it,OrderId("channel"),GetUnitX(m5)+50.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+50.*Sin(UP*bj_DEGTORAD))
endif
endif
set m5=SQ7(400.,b5,Condition(function k6))
if((not J4)and(Bz>hq[O5])and(m5!=null))then
set hr=it
set UP=SR7(500.,b5,Condition(function S5F))
set J4=(((UP>3)and(SR7(400.,b5,Condition(function k6))>1))or((UP>4)and(GetUnitLifePercent(m5)<60.)))and((TG7(it,852526,1093682248))or(TG7(it,852526,1093750594)))
endif
if(not J4)then
call SetPlayerAbilityAvailable(pl,1093686091,(GetHeroLevel(it)>5)and(GetUnitManaPercent(it)>70.))
set J4=(GetHeroLevel(it)>10)and(Bz>hq[O5])and(SR7(500.,b5,Condition(function KA))>8)and((TG7(it,852526,1093682248))or(TG7(it,852526,1093750594)))
endif
elseif(i1==1311781185)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3))then
set m5=SO7(800.,b5,Condition(function k6))
endif
if(m5!=null)then
set J4=((GetHeroLevel(it)>15)and((SF7(m5,it))or(GetUnitManaPercent(m5)<35.)or(GetUnitAbilityLevel(m5,1110454607)>0))and(IssueTargetOrderById(it,852662,m5)))or((m5!=null)and(not IsUnitInRange(it,m5,550.))and(GetUnitManaPercent(it)>60.)and(GetRandomInt(1,3)==1)and(GetHeroLevel(it)>3)and(T77(it,852254,1093684314,m5)))
endif
if(not J4)and(m5!=null)and((h4[O5]!=null)or(GetUnitManaPercent(it)>70))then
set J4=T77(it,852089,1093743692,m5)
endif
if(not J4)then
if h4[O5]!=null and IsUnitInRange(h4[O5],it,850)and GetUnitLifePercent(h4[O5])<GetUnitLifePercent(m5)or GetUnitManaPercent(h4[O5])<GetUnitManaPercent(m5)then
set m5=h4[O5]
endif
if m5==null then
set G=E27
set m5=Z97(900,it,Condition(function YU7))
endif
set G=F87
set X_7=Z97(900,it,Condition(function YU7))
set m5=PV7((m5!=null)and(((GetHeroLevel(m5)>11 and GetHeroLevel(m5)>GetHeroLevel(X_7))or GetUnitManaPercent(X_7)<30.)or X_7==null),m5,X_7)
if m5==null then
set m5=PV7(GetUnitManaPercent(it)>40.or GetUnitState(it,UNIT_STATE_MANA)>700.,Z97(700,it,Condition(function k6)),null)
endif
set J4=(m5!=null)and(G0[128+O5]and(GetUnitLifePercent(m5)<=50)or GetUnitManaPercent(it)>50.)and IssueTargetOrderById(it,852095,m5)
if h4[O5]==null then
set h4[O5]=m5
endif
endif
if((not J4)and(GetHeroLevel(it)>5)and(Bz>hq[O5]))then
set m5=Ie(bj_mapInitialPlayableArea,Condition(function YS7))
set J4=(m5!=null)and(SS7(700.,m5,Condition(function k6))>0)and(IssueImmediateOrderById(it,852600))
endif
elseif(i1==1211117643)then
if m5==null then
set m5=Z77(700.,it)
endif
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,400.))and(GetUnitAbilityLevel(m5,1113815395)==0)and(GetUnitAbilityLevel(m5,1113815346)==0)and((GetUnitLifePercent(it)<50.)or(GetHeroLevel(it)<8))and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(300+(120*GetUnitAbilityLevel(it,1093678658)))))then
set J4=T77(it,852040,1093678658,m5)
endif
if(not J4)and(is(it))then
if(h4[O5]!=null)then
if(not J4)and(Bz>TC4[O5])then
set J4=T97(it,852504,1093681483,1093748313,m5)
endif
if(not J4)and(Bz>TC4[32+O5])and(SS7(600.,it,Condition(function YX7))==0)then
set J4=T77(it,852114,1093678664,it)
endif
if(not J4)then
set EJ7=Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5))
call MoveLocation(HA,GetUnitX(m5)+Cos(EJ7)*200,GetUnitY(m5)+Sin(EJ7)*200)
if(not J4)and(Bz>TC4[16+O5])and(GetUnitLifePercent(it)>60.)then
set J4=T87(it,852278,1093678410,HA)
endif
if(not J4)and(Bz>TC4[32+O5])and(GetUnitLifePercent(it)>60.)and(SS7(600.,m5,Condition(function YX7))==0)then
set J4=T87(it,852114,1093678664,HA)
endif
endif
elseif(eY[O5]==1 or eY[O5]==3 or eY[O5]==4)then
if((not J4)and(is(it))and(eY[O5]==1)and((SR7(400.,b5,Condition(function Ka))>1)or((h4[128+O5]!=null)and(SE7(h4[128+O5]))and(IsUnitInRange(it,h4[128+O5],400.)))))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h9[O5])-GetUnitY(it),GetUnitX(h9[O5])-GetUnitX(it)))
call IssuePointOrderById(it,851986,GetUnitX(it)+350.*Cos(UP*bj_DEGTORAD),GetUnitY(it)+350.*Sin(UP*bj_DEGTORAD))
endif
if((not J4)and(is(it))and(not WF7(it))and(SR7(1200.,b5,Condition(function YE7))==0)and(not S97(it)))then
set UP=GetUnitUserData(h8[32+O5])
set EJ7=300
if((eY[O5]==3)or(eY[O5]==4))and(h8[64+O5]!=null)then
set h9[48+O5]=h8[64+O5]
if SS7(600.,it,Condition(function k6))>0 or SS7(600.,h9[48+O5],Condition(function k6))>0 then
set EJ7=-1
endif
elseif(h9[48+O5]==null)or(not IsUnitInRange(it,h9[48+O5],1800.))then
set EN7=IsUnitAlly(it,Z7[O5])
set UP=HJF(GetUnitUserData(h8[80+O5]),(not EN7),0)
if UP==35 then
set UP=351
elseif UP==55 then
set UP=352
endif
if UP!=0 and(SS7(900.,h7[UP],Condition(function YE7))==0)and((EN7 and(not IsVisibleToPlayer(GetUnitX(h7[UP]),GetUnitY(h7[UP]),A7[0])))or((not EN7)and(not IsVisibleToPlayer(GetUnitX(h7[UP]),GetUnitY(h7[UP]),Z7[0]))))then
set h9[48+O5]=h7[UP]
endif
endif
if EJ7!=-1 then
if(not J4)and(h9[48+O5]!=null)and(Bz>TC4[16+O5])and(GetUnitState(it,UNIT_STATE_MANA)>LUE(it,1093678410,GS7)+LUE(it,1093678658,GS7))then
call MoveLocation(HA,GetUnitX(h9[48+O5])+GetRandomReal(-EJ7,EJ7),GetUnitY(h9[48+O5])+GetRandomReal(-EJ7,EJ7))
set J4=(T87(it,852278,1093678410,HA))
endif
set bj_lastLoadedUnit=it
if(not J4)and(h9[48+O5]!=null)and(Bz>TC4[32+O5])and(GetUnitState(it,UNIT_STATE_MANA)>LUE(it,1093678664,GS7)+LUE(it,1093678658,GS7))and(SS7(600.,h9[48+O5],Condition(function YX7))==0)then
call MoveLocation(HA,GetUnitX(h9[48+O5])+GetRandomReal(-100.,100.),GetUnitY(h9[48+O5])+GetRandomReal(-100.,100.))
set J4=(T87(it,852114,1093678664,HA))
endif
if((not J4)and(GetHeroLevel(it)>5)and(Bz>TC4[O5]))then
set m5=SO7(1800.,b5,Condition(function YW7))
set bj_forLoopAIndex=(SS7(600.,m5,Condition(function KG)))
if((m5!=null)and(not D19(m5))and(bj_forLoopAIndex<4))then
set UP=R2I(RUF(m5))
set GZ[272+O5]=false
if(bj_forLoopAIndex>0)then
set hq[240+O5]=Bz+5.
else
set hq[240+O5]=0.
endif
set J4=TD7(it,852504,1093681483,1093748313,GetUnitX(m5)+GetRandomReal(400.,450.)*Cos(UP*bj_DEGTORAD)+GetRandomReal(-300.,300.),GetUnitY(m5)+GetRandomReal(400.,450.)*Sin(UP*bj_DEGTORAD)+GetRandomReal(-300.,300.))
endif
set bj_forLoopAIndex=(SS7(600.,h8[64+O5],Condition(function KG)))
if((not J4)and((eY[O5]==3)or(eY[O5]==4))and(h8[64+O5]!=null)and(IsUnitInRange(it,h8[64+O5],900.))and(bj_forLoopAIndex<6))then
set GZ[272+O5]=false
if(bj_forLoopAIndex>0)then
set hq[240+O5]=Bz+5.
else
set hq[240+O5]=0.
endif
set J4=TD7(it,852504,1093681483,1093748313,GetUnitX(h8[64+O5])+GetRandomReal(-300,300),GetUnitY(h8[64+O5])+GetRandomReal(-300.,300.))
endif
if(not J4)then
set GZ[272+O5]=true
set m5=SO7(1800.,b5,Condition(function KG))
set bj_forLoopAIndex=(SS7(600.,h9[48+O5],Condition(function KG)))
if(m5!=null)then
set hq[240+O5]=Bz+5.
set J4=TD7(it,852504,1093681483,1093748313,GetUnitX(m5)+GetRandomReal(-100.,100.),GetUnitY(m5)+GetRandomReal(-100.,100.))
elseif(h9[48+O5]!=null)and(GetUnitState(it,UNIT_STATE_MANA)>LUE(it,1093681483,GS7)+LUE(it,1093748313,GS7)+LUE(it,1093678658,GS7))and(bj_forLoopAIndex<8)then
set hq[240+O5]=Bz+5.
set J4=(TD7(it,852504,1093681483,1093748313,GetUnitX(h9[48+O5])+GetRandomReal(-EJ7,EJ7),GetUnitY(h9[48+O5])+GetRandomReal(-EJ7,EJ7)))
endif
endif
endif
endif
endif
if((not J4)and(Bz>TC4[O5])and(G0[256+O5])and(GetUnitManaPercent(it)>50.))then
set m5=SO7(700.,b5,Condition(function k8))
set J4=(m5!=null)and(not IsUnitType(m5,UNIT_TYPE_HERO))and(SS7(400.,m5,Condition(function k8))>2)and(T97(it,852504,1093681483,1093748313,m5))
endif
if((not J4)and(Bz>TC4[16+O5])and(G0[256+O5])and(GetUnitAbilityLevel(it,1093678410)>1)and(GetUnitManaPercent(it)>50.))then
set m5=SO7(700.,b5,Condition(function X97))
set J4=(m5!=null)and(SS7(500.,m5,Condition(function X97))>2)and(T87(it,852278,1093678410,S_7(m5)))
endif
endif
endif
elseif(i1==1215657064)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>10))then
set m5=SO7(800.,b5,Condition(function k6))
endif
call SetPlayerAbilityAvailable(pl,1093677913,(GetHeroLevel(it)>14)and(SR7(1500.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>75.))
call SetPlayerAbilityAvailable(pl,1093750841,false)
if(m5!=null)then
set UP=R2I(RI7(GetUnitX(it),GetUnitY(it),GetUnitX(m5),GetUnitY(m5)))
endif
if((G0[128+O5])and(SU7(it,ZU[RW]))and(m5!=null)and(not IsUnitIllusion(m5))and(Bz>hq[O5]))then
set J4=(GetHeroLevel(it)>5)and(UP>250)and(UP<700)and((SS7(800.,m5,Condition(function Y27))-SS7(800.,m5,Condition(function YP7)))<=1)and(R3F(it,m5))
endif
call SetPlayerAbilityAvailable(pl,1093684291,(GetUnitAbilityLevel(it,1110454856)>0)or(m5!=null))
if((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5))then
set J4=((UP<300)and(GetUnitAbilityLevel(it,1110454856)==0)and(TG7(it,852100,1093684291)))or((UP<200)and(TG7(it,852600,1093750841)))or((UP<280)and(TG7(it,852096,1093677913)))
endif
elseif(i1==1332179560)then
set J4=(m5!=null)and((GetUnitLifePercent(m5)<50.)or(i2(m5)))and(T77(it,OrderId("acidbomb"),1093742660,m5))
if((not J4)and(GetUnitManaPercent(it)>70.)and(GetHeroLevel(it)>4)and(SR7(800.,b5,Condition(function YW7))>0))then
if((m5==null)or(not IsUnitInRange(it,m5,800.)))then
set m5=SO7(800.,b5,Condition(function k6))
endif
set J4=(m5!=null)and(T77(it,OrderId("acidbomb"),1093742660,m5))
endif
elseif(i1==1214344551)then
if((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)<70.)and(SR7(700.,b5,Condition(function k6))>1)and(SR7(700.,b5,Condition(function YP7))>0))then
set J4=IssueImmediateOrderById(it,852600)
endif
if(m5!=null)then
set J4=T77(it,852095,1093809742,m5)
endif
if(not J4)then
set m5=ZD7(99999,it)
set X_7=Z97(99999,it,Condition(function FV8))
set m5=PV7(((m5!=null and GetUnitLifePercent(m5)<=45.)or(X_7==null and m5!=null and GetUnitLifePercent(m5)<=70)),m5,X_7)
set J4=((m5!=null)and IssueTargetOrderById(it,852248,m5))
endif
if((not J4)and(GetUnitManaPercent(it)>50.)and(GetHeroLevel(it)>2))then
set m5=SO7(1500.,b5,Condition(function YW7))
if((not J4)and(m5!=null)and(GetUnitLifePercent(m5)<40.)and(GetUnitCurrentOrder(m5)==851986))then
set J4=(K6(m5))and(IssueTargetOrderById(it,852069,m5))
endif
endif
if((not J4)and(GetHeroLevel(it)>10)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[128+O5]))then
set UP=SR7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==TK7(not IsUnitAlly(it,Z7[0]))))and(SR7(1000.,b5,Condition(function YP7))>0))then
set m5=SQ7(500.,b5,Condition(function k6))
if(m5!=null)and(GetUnitLifePercent(m5)<70.)then
set UP=SR7(700.,b5,Condition(function k6))
set J4=((UP>1)or(UP==TK7(not IsUnitAlly(it,Z7[0]))))and(IssueImmediateOrderById(it,852600))
endif
endif
endif
elseif((i1==1311781199)or(i1==1311781171)or(i1==1311781172)or(i1==1311781173))then
if((GetHeroLevel(it)>15)and(GetUnitTypeId(it)==1311781199)and(GetUnitAbilityLevel(it,1093681479)>2)and(RH7(it,TJ7(it))<2000.))then
set J4=TG7(it,852138,1093681479)
endif
if((GetUnitTypeId(it)==1311781199)and(GetUnitAbilityLevel(it,1093681479)>1))then
set J4=TG7(it,852138,1093681479)
endif
if((SR7(700.,b5,Condition(function X47))==0)and(((GetUnitTypeId(it)==1311781171)and(GetUnitAbilityLevel(it,1093681479)>1))or((GetUnitTypeId(it)==1311781172)and(GetUnitAbilityLevel(it,1093681479)>2))))then
set J4=TG7(it,852139,1093681479)
endif
set m5=UE7(GetHandleId(pl),"MyBear")
if((m5==null)or(not SE7(m5))or(GetUnitLifePercent(m5)<20 and Bz>TC4[16+O5]))then
set J4=IssueImmediateOrderById(it,852594)
endif
if((not J4)and(IsUnitInRange(it,m5,600.))and(GetUnitAbilityLevel(m5,1110454582)==0)and((h4[O5]!=null)or((GetUnitManaPercent(it)>50.)and(SR7(700.,b5,Condition(function KA))>0))))then
set J4=IssueImmediateOrderById(it,852526)
endif
if((not J4)and(GetUnitAbilityLevel(it,1110454582)==0)and((h4[O5]!=null)or((GetUnitManaPercent(it)>30.)and(SR7(700.,b5,Condition(function KA))>0))))then
set J4=IssueImmediateOrderById(it,852526)
endif
if(SR7(700.,b5,Condition(function YW7))>0)then
set hq[240+O5]=Bz+4.
endif
if((not J4)and(GetUnitTypeId(it)!=1311781199)and(m5!=null)and(IsUnitInRange(it,m5,600.))and(hq[416+O5]>Bz))then
set J4=IssueImmediateOrderById(it,852599)
endif
elseif(i1==1215130471)then
call SetPlayerAbilityAvailable(pl,WO7(it),(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>40.))
call SetPlayerAbilityAvailable(pl,WP7(it),(GetHeroLevel(it)>12)and(GetUnitManaPercent(it)>70.))
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>2))then
set m5=SO7(1000.,b5,Condition(function k6))
endif
set J4=(m5!=null)and(((((GetUnitManaPercent(it)>40.)and(GetHeroLevel(it)>2))or(SF7(m5,it)))and(T77(it,852095,WO7(it),m5)))or((SF7(m5,it))and(T77(it,852662,WP7(it),m5))))
if((not J4)and(GetUnitManaPercent(it)>70.)and(GetHeroLevel(it)>12))then
set J4=(SR7(700.,b5,Condition(function k6))==0)and(SR7(700.,b5,Condition(function k8))>0)and(GetUnitAbilityLevel(it,1113746543)==0)and(T77(it,852101,WQ7(it),it))
if(not J4)then
set m5=SO7(700.,b5,Condition(function YP7))
set J4=(m5!=null)and(kq(GetUnitTypeId(m5)))and(SR7(700.,b5,Condition(function KA))>0)and(GetUnitAbilityLevel(m5,1113746543)==0)and(T77(it,852101,WQ7(it),m5))
endif
endif
if(not J4)and(m5!=null)and((h4[O5]!=null)or(GetUnitLifePercent(m5)<60))then
set J4=(US7(GetHandleId(it),"AI|Magi2Blast")and T77(it,852600,1093815121,m5))
endif
elseif(i1==1211117636)then
set UP=GetHeroLevel(it)
if(UP>7)then
call SetPlayerAbilityAvailable(pl,1093685041,(m5==null)and(GetUnitManaPercent(it)>50.))
else
call SetPlayerAbilityAvailable(pl,1093685041,false)
endif
if((h4[16+O5]!=null)and(not SE7(h4[16+O5])))then
set h4[16+O5]=null
endif
call SetPlayerAbilityAvailable(pl,1093685071,(UP>9)and(h4[16+O5]==null)and(GetUnitManaPercent(it)>60.))
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>70.))then
set m5=SO7(800.,b5,Condition(function k6))
endif
if((m5!=null)and(UP>2)and(GetUnitManaPercent(it)>30.)and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,900.)))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it)))
call SetPlayerAbilityAvailable(pl,1093685041,true)
set GZ[O5]=true
set J4=J8(O5,IssuePointOrderById(it,852218,GetUnitX(it)+1100.*Cos(UP*bj_DEGTORAD),GetUnitY(it)+1100.*Sin(UP*bj_DEGTORAD)))
endif
if((not J4)and(m5!=null)and(GetHeroLevel(it)>10)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[128+O5]))then
set UP=SR7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==TK7(not IsUnitAlly(it,Z7[0]))))and(SR7(1000.,b5,Condition(function YP7))>0))then
set J4=(GetUnitLifePercent(m5)<75.)and(T97(it,852095,1093685042,1093810233,m5))
endif
endif
elseif(i1==1160786000)then
call SetPlayerAbilityAvailable(pl,1093685047,(GetHeroLevel(it)>9)and(GetUnitManaPercent(it)>70.))
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>70.))then
set m5=SO7(700.,b5,Condition(function k6))
endif
set J4=(m5!=null)and(GetHeroLevel(it)>3)and((GetUnitManaPercent(it)>40.)or(SF7(m5,it)))and(T77(it,852218,1093685047,m5))
if((not J4)and(m5!=null)and(GetHeroLevel(it)>5))then
set J4=(Kz(700.,S_7(m5))>1)and((Bz>hq[O5])or(SS7(700.,m5,Condition(function YO7))>0))and(T77(it,852125,1093685045,m5))
endif
elseif((i1==1311781193)or(i1==1311781192)or(i1==1311781204)or(i1==1311781194))then
if(i1==1311781193)then
set J4=(((GetHeroLevel(it)>=6)and(h4[O5]!=null))or((GetHeroLevel(it)>10)and(GetUnitLifePercent(it)<80.)and(SR7(700.,b5,Condition(function k8))>0)))and(IssueImmediateOrderById(it,852663))
elseif((m5==null)and(G0[128+O5])and(i1!=1311781193))then
set m5=SO7(700.,b5,Condition(function k6))
call CYE(O5,m5,false,false)
endif
if((not J4)and(G0[128+O5])and(eY[320+O5]>=-1)and(h4[O5]!=null or GetUnitManaPercent(it)>70)and(GetUnitAbilityLevel(it,1093750345)>1))then
if m5==null then
if((eY[O5]==9)and(h4[144+O5]!=null)and(SE7(h4[144+O5]))and(IsUnitInRange(it,h4[144+O5],1000.))and(not IsUnitVisible(it,GetOwningPlayer(h4[144+O5])))and(IsUnitVisible(h4[144+O5],GetOwningPlayer(it))))then
set m5=h4[144+O5]
else
set m5=SO7(800.,b5,Condition(function k6))
endif
endif
set J4=(m5!=null)and(IsUnitInRange(it,m5,300))and(IssueImmediateOrderById(it,852526))
endif
if((not J4)and(m5!=null)and(GetHeroLevel(it)>5))then
set J4=(SS7(700.,m5,Condition(function k6))>1)and(SS7(700.,m5,Condition(function YO7))>0)and(T77(it,852089,1093683532,m5))
endif
if((not J4)and(GetHeroLevel(it)>11)and(GetUnitManaPercent(it)>55.)and(SR7(500.,b5,Condition(function KA))>2)and(Bz>hq[O5]))then
call SetPlayerAbilityAvailable(pl,1093683532,true)
set J4=IssuePointOrderById(it,852089,GetUnitX(it)+GetRandomReal(0,200.)-100.,GetUnitY(it)+GetRandomReal(0,200.)-100.)
else
call SetPlayerAbilityAvailable(pl,1093683532,(GetHeroLevel(it)>11)and(GetUnitManaPercent(it)>50.))
endif
elseif(i1==1311781206)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>4))then
if((eY[O5]==9)and(h4[144+O5]!=null)and(SE7(h4[144+O5]))and(IsUnitInRange(it,h4[144+O5],1200.))and(not IsUnitVisible(it,GetOwningPlayer(h4[144+O5]))))then
set m5=h4[144+O5]
else
set m5=SO7(800.,b5,Condition(function k6))
endif
endif
if((m5!=null)and(GetHeroLevel(it)>4))then
if(not IsUnitInRange(it,m5,800.))then
set J4=((eY[O5]==9)or(not IsUnitVisible(it,GetOwningPlayer(m5))))and(CSE(it,m5))
elseif(not IsUnitInRange(it,m5,300.))then
set UP=R2I(RAbsBJ((bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it)))-GetUnitFacing(it)))
set J4=((GetUnitLifePercent(m5)<60.)or(SS7(600.,m5,Condition(function YO7))>0))and((CSE(it,m5))or((Bz>hq[O5])and(UP<50)and(GetUnitState(it,UNIT_STATE_MANA)>230.)and(JHF(it,true))))
elseif(GetUnitLifePercent(m5)<40. and IsUnitInRange(it,m5,300.))then
set J4=CSE(it,m5)
endif
if(not J4)and((GetUnitManaPercent(it)>50.)or(GetUnitLifePercent(m5)<60.))then
set J4=IssueImmediateOrderById(it,852600)
endif
endif
if((not J4)and(GetHeroLevel(it)>5)and(Bz>hq[16+O5]))then
set bj_lastLoadedUnit=m5
set m5=Ie(bj_mapInitialPlayableArea,Condition(function YS7))
set J4=(m5!=null)and(SS7(800.,m5,Condition(function k6))>0)and(IssueImmediateOrderById(it,852493))
set m5=bj_lastLoadedUnit
endif
if(not J4)and(Bz>TC4[32+O5])and(h4[O5]==null)and(GetUnitAbilityLevel(it,1093684280)>1)and(GetUnitState(it,UNIT_STATE_MANA)>=230.)then
if((not J4)and(m5!=null)and(not IsUnitInRange(it,m5,450.))and(iU(it))and(G0[128+O5])and(not G0[48+O5])and(SR7(400.,b5,Condition(function k8))==0))then
set UP=R2I(RI7(GetUnitX(it),GetUnitY(it),GetUnitX(m5),GetUnitY(m5)))
if(GetRandomInt(1,2)==1)then
set i1=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))-25
else
set i1=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))+25
endif
set J4=IssuePointOrderById(it,851986,GetUnitX(m5)+UP*Cos(i1*bj_DEGTORAD),GetUnitY(m5)+UP*Sin(i1*bj_DEGTORAD))
endif
endif
elseif(i1==1211117651)then
if m5==null then
set m5=Z77(450.,it)
if m5==null then
set m5=Z77(1000.,it)
endif
endif
if UX7(it,"OverloadActive")then
if(h4[O5]!=null)and(GetUnitLevel(it)>5)and(not IsUnitInRange(it,h4[O5],450.))and(SF7(m5,it))then
call C57(it,m5,625*(GetUnitAbilityLevel(it,1093743695)+1),1.,99999)
if GN7!=null then
set J4=T87(it,852218,1093743695,GN7)
endif
endif
if(not J4)then
set J4=IssueTargetOrderById(it,851983,m5)
endif
elseif m5!=null and(GetUnitLevel(it)>3)then
if(not J4)and((h4[O5]!=null)or(GetUnitState(it,UNIT_STATE_MANA)>200.))and((IsUnitInRange(it,m5,300.)or G0[256+O5]))then
set J4=(T77(it,852119,1093743698,m5))
endif
if(not J4)and(IsUnitInRange(it,m5,200.))then
set J4=(TG7(it,852526,1093743696))
endif
if(not J4)and(h4[O5]!=null)then
if(not IsUnitInRange(it,h4[O5],450.))and((SF7(m5,it))or(G0[256+O5]))then
call C57(it,m5,625*(GetUnitAbilityLevel(it,1093743695)+1),1.,99999)
if GN7!=null then
set J4=T87(it,852218,1093743695,GN7)
endif
elseif GetUnitState(it,UNIT_STATE_MANA)>300. then
set EJ7=Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it))
call MoveLocation(HB,GetUnitX(it)+150*Cos(EJ7),GetUnitY(it)+150*Sin(EJ7))
set J4=T87(it,852218,1093743695,HB)
endif
endif
if(not J4)then
if SS7(200.,it,Condition(function X97))>2 and(GetUnitState(it,UNIT_STATE_MANA)>500. or GetUnitManaPercent(it)>90.)then
set J4=(TG7(it,852526,1093743696))
endif
endif
endif
elseif(i1==1211117649)then
if(GetHeroLevel(it)>6)then
set m5=K3(700.,it,Condition(function k6))
set J4=(m5!=null)and((GetUnitState(it,UNIT_STATE_LIFE)*.5)>GetUnitState(m5,UNIT_STATE_LIFE))and(IssueTargetOrderById(it,852231,m5))
endif
if(not J4)then
set m5=SO7(800.,b5,Condition(function YS7))
if(m5==null)then
set m5=SO7(600.,b5,Condition(function YO7))
endif
set J4=((m5!=null)and(GetUnitLifePercent(m5)<70.)and((GetHeroLevel(it)>4)or(SF7(m5,it)))and(IssueTargetOrderById(it,852095,m5)))or((GetUnitLifePercent(it)<70.)and(IssueTargetOrderById(it,852095,it)))
endif
elseif(i1==1160786265)then
call SetPlayerAbilityAvailable(pl,1093685844,false)
call SetPlayerAbilityAvailable(pl,1093685846,false)
set J4=(m5!=null)and(IsUnitInRange(it,m5,145+(40*GetUnitAbilityLevel(it,1093685839))))and(TG7(it,852129,1093685846))
if((not J4)and(GetHeroLevel(it)>5)and(SR7(900.,b5,Condition(function YE7))==0))then
if((not J4)and(m5!=null)and(GetUnitAbilityLevel(m5,1110456397)==0))then
set J4=((GetUnitLifePercent(m5)<40. or hq[624+O5]>Bz)and(SS7(450.,m5,Condition(function Kh))==0))and(IssuePointOrderById(it,852190,GetUnitX(m5),GetUnitY(m5)))
endif
set J4=(not J4)and(UQ7(GetHandleId(it),"TrapMax")<GetUnitAbilityLevel(it,1093685840)*3+2)and(GetRandomInt(1,3)==1)and(GetUnitManaPercent(it)>60.)and(SR7(800.,b5,Condition(function k8))>2)and(SR7(800.,b5,Condition(function Kh))==0)and(not WF7(it))and(IssuePointOrderById(it,852190,GetUnitX(it)+GetRandomReal(-100.,100.),GetUnitY(it)+GetRandomReal(-100.,100.)))
endif
elseif(i1==1311780930)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>70.))then
set m5=SO7(1100.,b5,Condition(function k6))
endif
if((m5!=null)and(((GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>50.))or(GetUnitLifePercent(m5)<60.)))then
set J4=IssuePointOrderById(it,852662,GetUnitX(m5)+150.*Cos(GetUnitFacing(m5)*bj_DEGTORAD),GetUnitY(m5)+150.*Sin(GetUnitFacing(m5)*bj_DEGTORAD))
if((GetUnitLifePercent(it)>70.)and((Bz>hq[16+O5])or(SM7(m5,it)))and(G0[128+O5])and(GetUnitLifePercent(m5)<60.)and(GetUnitState(it,UNIT_STATE_LIFE)>(GetUnitState(m5,UNIT_STATE_LIFE)+(15.*GetHeroLevel(m5))))and((SS7(800.,m5,Condition(function Y27))-SS7(800.,m5,Condition(function YP7)))<=1))then
set h4[16+O5]=m5
else
set h4[16+O5]=null
endif
set hq[240+O5]=Bz+3.
endif
if((not J4)and(m5!=null)and(GetUnitLifePercent(m5)<60.)and(IsUnitInRange(it,m5,700.)))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(TJ7(m5)),GetUnitX(m5)-GetUnitX(TJ7(m5))))
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093686072,true)
set GZ[O5]=true
call J8(O5,IssuePointOrderById(it,852089,GetUnitX(m5)+250.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+250.*Sin(UP*bj_DEGTORAD)))
endif
if(not J4)then
set m5=K3(400.,it,Condition(function k6))
set J4=(m5!=null)and(IssueImmediateOrderById(it,852600))
endif
if((not J4)and(GetHeroLevel(it)>13)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[128+O5]))then
set UP=SR7(1000.,b5,Condition(function k6))
if((UP>1)and((SR7(1000.,b5,Condition(function YP7))>0)or(TK7(IsUnitAlly(it,Z7[0]))==1)))then
set m5=SO7(800.,b5,Condition(function k6))
if(SS7(375.,m5,Condition(function k6))>0)then
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093686072,true)
set GZ[O5]=true
call J8(O5,IssuePointOrderById(it,852089,GetUnitX(m5),GetUnitY(m5)))
endif
endif
endif
elseif(i1==1311786311)then
if m5==null then
set m5=SO7(700.,b5,Condition(function k6))
endif
if(not J4)and(m5!=null)and(Bz>TC4[16+O5])and((GetUnitLifePercent(m5)<60)or(h4[O5]!=null))then
set EJ7=Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it))
if(H78(it,m5,EJ7)!=null)or(G58(it,m5,EJ7)!=null)then
set J4=T77(it,852119,1093743178,m5)
if J4 then
call CYE(O5,m5,false,false)
endif
endif
if(not J4)and(not C67(it,m5,GetUnitX(m5),GetUnitY(m5),64,Condition(function G88)))and(IsUnitInRange(it,bj_lastLoadedUnit,550.))then
set J4=T77(it,852119,1093743178,bj_lastLoadedUnit)
if J4 then
call CYE(O5,m5,false,false)
endif
endif
if(not J4)and(h4[O5]!=null)and(GetUnitLifePercent(m5)<20.)then
set J4=T77(it,852119,1093743178,m5)
endif
endif
if(not J4)and(Bz>TC4[O5])and(m5!=null)and(DA9(m5)or GetUnitMoveSpeed(m5)<300.)and(IsUnitInRange(it,m5,700.))and((m5==h4[O5])or(GetUnitLifePercent(m5)<70))then
set J4=T97(it,852581,1093743184,1093747766,m5)
if J4 then
call CYE(O5,m5,false,false)
endif
endif
if m5==null then
set m5=SO7(1200.,b5,Condition(function k6))
endif
set UP=GetUnitAbilityLevel(it,1093743184)
if UP==0 then
set UP=GetUnitAbilityLevel(it,1093747766)
endif
if(not J4)and(m5!=null)and(Bz>TC4[32+O5])and(GetUnitAbilityLevel(it,1093743179)>1)and((GetUnitState(it,UNIT_STATE_MANA)>200.+UP*100.)or(h4[O5]!=null))and((GetUnitLifePercent(m5)>40.)or(GetWidgetLife(m5)<GetUnitAbilityLevel(it,1093743179)*70))and(C57(it,m5,3000.,1.,1800.)!=null)then
set J4=IssuePointOrderByIdLoc(it,852662,GN7)
endif
if(not J4)and(Bz>TC4[48+O5])and(((hq[704+O5]<-0.1)and(m5!=null))or((hq[704+O5]<-0.8)and(GetUnitLifePercent(it)<60.)))then
set J4=TG7(it,852526,1093743689)
endif
if(not J4)and(Bz>TC4[32+O5])and(GetUnitAbilityLevel(it,1093743179)>1)and(GetUnitState(it,UNIT_STATE_MANA)>300.+UP*100.)then
set m5=K3(1500.,it,Condition(function YG7))
if(m5!=null)then
set IN4=it
call C67(it,m5,GetUnitX(m5),GetUnitY(m5),175,Condition(function FW8))
if bj_forLoopAIndex>2 then
set J4=IssuePointOrderById(it,852662,GetUnitX(m5),GetUnitY(m5))
endif
endif
endif
if(not J4)and(Bz>TC4[16+O5])and(h4[O5]==null)and(GetUnitAbilityLevel(it,1093743178)>1)and(GetUnitState(it,UNIT_STATE_MANA)>=250.)then
if m5==null or(not IsUnitInRange(m5,it,700))then
set m5=SO7(700.,b5,Condition(function k6))
endif
if((not J4)and(m5!=null)and(not IsUnitInRange(it,m5,450.))and(iU(it))and(G0[128+O5])and(not G0[48+O5])and(SR7(400.,b5,Condition(function k8))==0))then
set UP=R2I(RI7(GetUnitX(it),GetUnitY(it),GetUnitX(m5),GetUnitY(m5)))
if(GetRandomInt(1,2)==1)then
set i1=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))-25
else
set i1=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))+25
endif
set J4=IssuePointOrderById(it,851986,GetUnitX(m5)+UP*Cos(i1*bj_DEGTORAD),GetUnitY(m5)+UP*Sin(i1*bj_DEGTORAD))
endif
endif
elseif(i1==1211117652)then
if(m5==null)then
set m5=SO7(1200.,b5,Condition(function k6))
endif
if(not J4)and(GetUnitLevel(it)>5)and(Bz>TC4[O5])and(not IsUnitInRange(it,m5,300))and(h4[O5]!=null)and(GZ[208+O5]or((SS7(700.,m5,Condition(function ST7))==0)and(GetUnitLifePercent(m5)<70. or SI7(O5))))then
set UP=GetUnitAbilityLevel(it,1093687864)
if UP==0 then
set UP=GetUnitAbilityLevel(it,1093747542)
endif
if(C_7(it,m5,0.5,(UP+3)*500)!=null)then
if(C67(it,m5,GetLocationX(GN7),GetLocationY(GN7),125,Condition(function F28)))or(IsUnitInRange(bj_lastReplacedUnit,m5,175)and(IsUnitEnemy(bj_lastReplacedUnit,Player(O5))or SU7(it,ZU[G44])))then
set J4=(TD7(it,852652,1093687864,1093747542,GetLocationX(GN7),GetLocationY(GN7)))
endif
endif
if J4 then
call R97(0.1)
set J4=false
endif
endif
if(not J4)and(Bz>TC4[48+O5])and(GetUnitAbilityLevel(it,1093687862)>1)then
if(m5==null)then
set m5=SO7(99999.,GetUnitLoc(it),Condition(function k6))
endif
if((m5!=null))then
if(GetUnitLifePercent(m5)<50. or GetUnitState(it,UNIT_STATE_MANA)>300.)then
if SF7(m5,it)or GZ[208+O5]or h4[O5]!=null then
if C57(it,m5,1200.,0,99999.)!=null then
set J4=T87(it,852089,1093687862,GN7)
endif
else
set J4=T87(it,852089,1093687862,S_7(m5))
endif
endif
endif
endif
if(not J4)and(Bz>TC4[32+O5])and(m5!=null)and(PH7(it)>1000.)and(G0[256+O5])and(GetUnitState(it,UNIT_STATE_MANA)>200.)and(IsUnitInRange(it,m5,210))then
set J4=IssueImmediateOrderById(it,852581)
endif
if(not J4)and(Bz>TC4[16+O5])and(h4[O5]!=null)and(IsUnitInRange(it,m5,275))then
set J4=IssueImmediateOrderById(it,852600)
endif
elseif(i1==1160786520)then
call SetPlayerAbilityAvailable(pl,1093809991,(GetHeroLevel(it)>9)and(GetUnitManaPercent(it)>70.))
if eY[448+O5]!=0 and S47(it)then
if(IsUnitInRange(it,h4[320+O5],950.))and(LoadInteger(L7,(GetHandleId(h4[320+O5])),(705))==eY[448+O5])then
set J4=IssueTargetOrderById(it,852665,h4[320+O5])
else
set eY[448+O5]=0
endif
endif
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>70.))then
set m5=SO7(700.,b5,Condition(function k6))
endif
if not J4 then
set J4=(m5!=null)and(GetHeroLevel(it)>3)and((GetUnitManaPercent(it)>40.)or(SF7(m5,it)))and(T77(it,852184,1093809991,m5))
endif
if(not J4)and hq[816+O5]>Bz then
set G0[288+O5]=true
call TKF()
endif
set G0[304+O5]=false
elseif(i1==1311788336)then
if m5==null then
set m5=SO7(700.,b5,Condition(function k6))
endif
if(not J4)and(m5!=null)and((h4[O5]!=null)or(GetUnitLifePercent(m5)<60))and(GetUnitState(it,UNIT_STATE_MANA)>100)then
set UP=1
loop
exitwhen UP>3
set bj_lastCreatedUnit=(LoadUnitHandle(L7,GetHandleId(it),(1450+UP)))
exitwhen bj_lastCreatedUnit==null
if(GetWidgetLife(bj_lastCreatedUnit)>0)and(IsUnitInRange(bj_lastCreatedUnit,m5,300))then
set J4=IssuePointOrderById(it,852185,GetUnitX(bj_lastCreatedUnit),GetUnitY(bj_lastCreatedUnit))
exitwhen true
endif
set UP=UP+1
endloop
if(not J4)and(not IsUnitInRange(it,m5,400))and(LoadInteger(L7,GetHandleId(it),(747))>0)and(C57(it,m5,GetUnitMoveSpeed(it)*2.5,0.2,1500.)!=null)then
set J4=IssuePointOrderByIdLoc(it,852490,GN7)
endif
if J4 then
call CYE(O5,m5,false,false)
endif
endif
if(not J4)and(m5!=null)and(Bz>TC4[16+O5])and((h4[O5]!=null)or(GetUnitLifePercent(m5)<70))and(IsUnitInRange(it,m5,350))and(SS7(400.,it,Condition(function X97))<=2)then
set J4=TG7(it,852526,1093814323)
endif
if(not J4)and(m5!=null)and(Bz>TC4[32+O5])and((h4[O5]!=null)or(GetUnitManaPercent(it)>50 and GetUnitState(it,UNIT_STATE_MANA)>220))then
set J4=T77(it,852089,1093814320,m5)
endif
if(not J4)and(m5!=null)and(Bz>TC4[48+O5])and(h4[O5]!=null)then
set J4=IssueImmediateOrderById(it,852600)
endif
if(not J4)and(Bz>TC4[32+O5])and(GetUnitManaPercent(it)>50 and GetUnitState(it,UNIT_STATE_MANA)>400)then
set m5=SO7(700.,b5,Condition(function X97))
if(m5!=null)then
set J4=T77(it,852089,1093814320,m5)
endif
endif
elseif(i1==1160786507)then
if m5==null then
set m5=SO7(700.,b5,Condition(function k6))
endif
if(not J4)and(m5!=null)and(Bz>TC4[16+O5])and((GetUnitLifePercent(m5)<70.)or(h4[O5]!=null))then
set UP=SR7(315.,S_7(m5),Condition(function k8))
if(not J4)then
set J4=(UP>=3)and(T77(it,852089,1093814850,m5))
endif
endif
if(not J4)and(Bz>TC4[32+O5])and((GetUnitLifePercent(it)<60)or((h4[O5]!=null)and((GetUnitLifePercent(it)<80)or(UnitCountBuffsEx(it,false,true,true,true,false,false,false)>=0))))then
set J4=IssueTargetOrderById(it,852248,it)
endif
if(not J4)and(Bz>TC4[O5])and(G0[256+O5])and((GetUnitLifePercent(m5)<30 and GetUnitLifePercent(it)>GetUnitLifePercent(m5)+25)or(GZ[208+O5]and GetUnitLifePercent(m5)<60))then
set J4=IssueTargetOrderById(it,852095,m5)
endif
if(not J4)and(Bz>TC4[32+O5])then
set m5=SO7(800.,b5,Condition(function YS7))
set J4=(m5!=null)and(IssueTargetOrderById(it,852248,m5))
endif
elseif(i1==1211122767)then
if m5==null then
set m5=SO7(800.,b5,Condition(function k6))
endif
if(not J4)and(m5!=null)and(Bz>TC4[48+O5])and((h4[O5]!=null)or(GetUnitManaPercent(m5)>60 and GetUnitLifePercent(m5)<70))and((Bz<TC4[O5])or(GetUnitState(it,UNIT_STATE_MANA)>LUE(it,1093812807,GS7)+100))then
set J4=T77(it,852668,1093814350,m5)
endif
if(not J4)and(m5!=null)and(Bz>TC4[O5])and((GetUnitLifePercent(m5)<30)or(DA9(m5))or(GetUnitAbilityLevel(m5,1110459993)!=0))then
set J4=(C_7(it,m5,0.5,1200)!=null)and(IssuePointOrderByIdLoc(it,852662,GN7))
endif
if(not J4)and(m5!=null)and(Bz>TC4[32+O5])and((GetUnitLifePercent(m5)<70)or(h4[O5]!=null))and(SS7(RH7(it,m5),it,Condition(function k6))<=1)then
set J4=TG7(it,852526,1093814612)
endif
if(not J4)and(m5!=null)and(Bz>TC4[16+O5])and((GetUnitLifePercent(m5)<70)or(h4[O5]!=null)or(GetUnitManaPercent(m5)>80))and((Bz<TC4[O5])or(GetUnitState(it,UNIT_STATE_MANA)>LUE(it,1093812807,GS7)+100))then
set J4=T77(it,852119,1093812805,m5)
endif
elseif(i1==1160786738)then
if m5==null then
set m5=SO7(700.,b5,Condition(function k6))
endif
if(not J4)then
if GetUnitAbilityLevel(it,1093813848)==0 then
if(h4[O5]!=null)and(not IsUnitInRange(it,m5,400))then
if C57(it,m5,1000,0.1,1200)!=null then
call IssuePointOrderByIdLoc(it,852216,GN7)
endif
endif
else
if(h4[O5]==null)or(IsUnitInRange(it,m5,400))or(SS7(225,UE7(GetHandleId(it),"AI|ShredChakram"),Condition(function k6))==0)then
call IssueImmediateOrderById(it,852177)
endif
endif
call TriggerSleepAction(0.1)
endif
if(not J4)and(m5!=null)and(Bz>TC4[32+O5])and((h4[O5]!=null)or(GetUnitLifePercent(it)<70))then
set UP=600+200*GetUnitAbilityLevel(it,1093813555)
if C57(it,m5,2*UP,0.8,UP)!=null then
if ZX7(it,UP)or((WW4!=null)and(bj_enumDestructableRadius==0)and(RH7(WW4,it)>400.))then
set J4=IssuePointOrderByIdLoc(it,852662,GN7)
endif
endif
if(not J4)and(GetUnitLifePercent(m5)<30)then
if ZV7(S_7(m5),300)and(RH7(WW4,it)>400.)then
set J4=IssuePointOrderById(it,852662,GetDestructableX(WW4),GetDestructableY(WW4))
endif
endif
endif
if(not J4)and(m5!=null)and(Bz>TC4[16+O5])and(IsUnitInRange(it,m5,300))then
set J4=TG7(it,852526,1093813835)
endif
endif
if not G0[304+O5]then
if((not J4)and(is(it)))then
if(GetUnitAbilityLevel(it,1110454609)>0)then
set m5=SO7(250.,b5,Condition(function k6))
if(m5!=null)then
call UnitRemoveAbility(it,1110454609)
set J4=IssueTargetOrderById(it,851983,m5)
else
set m5=SO7(800.,b5,Condition(function k6))
set J4=(m5!=null)and(not IsUnitVisible(it,GetOwningPlayer(m5)))and(IssueTargetOrderById(it,851986,m5))
endif
elseif((RH7(it,TJ7(it))<1000.)and(eY[O5]==1))then
if(SU7(it,ZU[F6]))then
if(h8[16+O5]==h7[14])then
set J4=RNF(0)
elseif(h8[16+O5]==h7[35])then
set J4=RNF(1)
elseif(h8[16+O5]==h7[55])then
set J4=RNF(2)
endif
elseif((GetHeroLevel(it)<11)and(not SV7(it)))then
set m5=null
if(((i1==1211117641)and(GetHeroLevel(it)>5))or(i1==1211117642))then
elseif((IsPlayerAlly(pl,A7[0]))and(h8[16+O5]==h7[14])and(P14<1))then
set m5=JL4
elseif((IsPlayerAlly(pl,Z7[0]))and(h8[16+O5]==h7[14])and(P34<1))then
set m5=JH4
elseif((IsPlayerAlly(pl,A7[0]))and(h8[16+O5]==h7[35])and(P04<1))then
set m5=J64
elseif((IsPlayerAlly(pl,Z7[0]))and(h8[16+O5]==h7[35])and(P64<1))then
set m5=JG4
elseif((IsPlayerAlly(pl,A7[0]))and(h8[16+O5]==h7[55])and(P54<1))then
set m5=J14
elseif((IsPlayerAlly(pl,Z7[0]))and(h8[16+O5]==h7[55])and(PL4<1))then
set m5=JI4
endif
if(m5!=null)then
loop
call TriggerSleepAction(0.5)
exitwhen(Bz>K07[160+O5])
endloop
set J4=V17(it,m5)
if(not J4 or not T0F)then
call DisableTrigger(H94)
call RemoveItem(T1F)
call EnableTrigger(H94)
else
call SetPlayerStateBJ(pl,PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(pl,PLAYER_STATE_RESOURCE_GOLD)-0))
call TT7(StringHash("Stats"+I2S(O5)),"NumOfConsumables",UQ7(StringHash("Stats"+I2S(O5)),"NumOfConsumables")+1)
endif
endif
endif
endif
if((not J4)and(SU7(it,ZU[DP4])))then
set m5=SO7(700.,b5,Condition(function KA))
if((m5!=null)and(GetUnitState(m5,UNIT_STATE_LIFE)>100.)and(GetUnitState(m5,UNIT_STATE_LIFE)<400.))then
if(not(IsUnitInRange(m5,it,550)))then
call IssuePointOrderById(it,851986,GetUnitX(m5),GetUnitY(m5))
call R97(.5)
endif
set J4=(SS7(600.,it,Condition(function KA))>3)and(UnitUseItem(it,bj_lastCreatedItem))
endif
set m5=null
set J4=false
endif
if((not J4)and(SU7(it,ZU[S6])))then
if((GetRandomInt(1,10)<=4)and(Bz>hq[144+O5]))then
set m5=SO7(700.,b5,Condition(function k8))
set J4=(m5!=null)and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(not IsUnitType(m5,UNIT_TYPE_HERO))and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
endif
if((not J4)and SU7(it,ZU[M3]))then
set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if((not J4)and SU7(it,ZU[DM4])and(UX7(it,"ArmletOfMordigan|Active")==false)and(GetUnitLifePercent(it)>90.)and(IsUnitInRange(it,m5,150.)))then
set J4=(m5!=null)and(UnitUseItem(it,bj_lastCreatedItem))
elseif(SU7(it,ZU[DK4])and(UX7(it,"ArmletOfMordigan|Active")==true)and((not IsUnitInRange(it,m5,150.))or(GetUnitLifePercent(it)<60.)))then
set J4=(UnitUseItem(it,bj_lastCreatedItem))
endif
if((not J4)and SU7(it,ZU[FC]))then
set J4=(m5!=null)and(GetUnitLifePercent(m5)<40)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if((not J4)and(SU7(it,ZU[DU4])))then
set J4=(m5!=null)and(GetUnitLifePercent(m5)<30)and(G0[256+O5]or GZ[208+O5])and(RF7(m5,it,30))and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if((not J4)and(SU7(it,ZU[DY4]))and(GetItemCharges(bj_lastCreatedItem)>0)and(Bz>TC4[224+O5])and(GetUnitState(m5,UNIT_STATE_LIFE)<120))then
set J4=(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if((not J4)and(SU7(it,ZU[VB]))and(GetItemCharges(bj_lastCreatedItem)>0)and(Bz>TC4[256+O5]))then
set J4=((SS7(900.,it,Condition(function Y27)))>2)and((SS7(900.,it,Condition(function YP7)))>1)and(UnitUseItem(it,bj_lastCreatedItem))
endif
if((not J4)and(S67(it))and(Bz>TC4[192+O5]))then
if(GetUnitState(it,UNIT_STATE_LIFE)<150)or((GetItemCharges(bj_lastCreatedItem)>=8)and(GetUnitLifePercent(it)<50 or GetUnitManaPercent(it)<20)and(RH7(it,h9[16+O5])>600))then
set J4=UnitUseItem(it,bj_lastCreatedItem)
endif
endif
if((not J4)and(SU7(it,ZU[F74])))then
set J4=(Bz>hq[128+O5])and((GetUnitState(it,UNIT_STATE_MAX_MANA)-GetUnitState(it,UNIT_STATE_MANA))>150.)and(UnitUseItem(it,bj_lastCreatedItem))
endif
if((not J4)and(SU7(it,ZU[D44])))then
set J4=((Bz+20.)<hq[O5]or(Bz+20.)<TC4[O5])and(UnitUseItem(it,bj_lastCreatedItem))
endif
if((not J4)and(SU7(it,ZU[T2])))then
set J4=(GetUnitLifePercent(it)<50)and((h4[O5]!=null)or(G0[256+O5])or(GZ[208+O5]))and(UnitUseItem(it,bj_lastCreatedItem))
endif
if((not J4)and(SU7(it,ZU[WC])))then
if(US7(R44,VB7(it)+"|G"))then
set m5=SQ7(700.,b5,Condition(function Km))
set J4=(m5!=null)and(GetRandomInt(1,8)==1)and(UnitUseItemPoint(it,bj_lastCreatedItem,GetUnitX(m5)+GetRandomReal(0.,200.)-100.,GetUnitY(m5)+GetRandomReal(0.,200.)-100.))
if((not J4)and(GetRandomInt(1,4)==1)and(SQ7(1000.,b5,Condition(function YE7))==null)and(SQ7(1200.,b5,Condition(function Km))!=null))then
set J4=(UnitUseItemPoint(it,bj_lastCreatedItem,GetUnitX(it)+GetRandomReal(0.,200.)-100.,GetUnitY(it)+GetRandomReal(0.,200.)-100.))
endif
endif
if((not J4)and(GetRandomInt(1,5)==1)and(RH7(it,TJ7(it))>5000.)and(GetItemCharges(bj_lastCreatedItem)>1)and(SQ7(800.,b5,Condition(function k8))!=null)and(SQ7(1000.,b5,Condition(function YE7))==null)and(SQ7(1100.,b5,Condition(function K7))==null))then
set J4=(UnitUseItemPoint(it,bj_lastCreatedItem,GetUnitX(it)+GetRandomReal(0.,200.)-100.,GetUnitY(it)+GetRandomReal(0.,200.)-100.))
endif
endif
if((not J4)and(SU7(it,ZU[W6])))then
if(m5!=null)and(GetUnitLifePercent(m5)<30)then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,m5)
else
set m5=ZH7(500.,it)
set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
endif
if((not J4)and(SU7(it,ZU[DE4])))then
if not((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitEnemy(m5,Player(O5))))then
set m5=SQ7(900.,b5,Condition(function k6))
endif
if(m5!=null)then
set m5=ZF7(900.,it)
set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
endif
if((not J4)and(SU7(it,ZU[R3])))and(h4[O5]!=null)then
set m5=ZJ7(600,it)
set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if((not J4)and(SU7(it,ZU[DU4])))then
set m5=ZE7(800,it)
if(SH7(m5))then
set bj_forLoopAIndexEnd=GetPlayerId(GetOwningPlayer(m5))
if RF7(m5,h9[16+bj_forLoopAIndexEnd],20)then
set b5=kk(m5,600.,h9[16+bj_forLoopAIndexEnd])
set J4=(b5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
if J4 then
set h9[bj_forLoopAIndexEnd]=h9[16+bj_forLoopAIndexEnd]
endif
elseif(RF7(m5,h9[bj_forLoopAIndexEnd],20))and(h9[bj_forLoopAIndexEnd]!=h9[16+bj_forLoopAIndexEnd])then
set b5=kk(m5,600.,h9[bj_forLoopAIndexEnd])
set J4=(b5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
endif
endif
endif
if((not J4)and(h4[O5]!=null)and(G0[128+O5])and(GetHeroLevel(it)>5))then
set UP=GetUnitCurrentOrder(it)
set m5=h4[O5]
if(((UP==851983)or(UP==851993))and(IsUnitVisible(m5,pl))and(GetUnitAbilityLevel(m5,1110454854)==0)and(not IC(O5))and((GetUnitLifePercent(it)+15.)>GetUnitLifePercent(m5))and(not G0[48+O5]))then
call IssueTargetOrderById(it,851983,m5)
elseif((UP==851986)and(IsUnitInRange(it,m5,600.)))then
call MTF(it,m5)
endif
endif
endif
set it=null
set pl=null
set b5=null
set TLF=null
set m5=null
set T2F=null
set X_7=null
set T6F=null
set T3F=null
endfunction
function TMF takes nothing returns nothing
local unit it=bj_lastLoadedUnit
local unit m5=null
local integer i1=GetUnitTypeId(it)
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer UP
local boolean J4=false
if DT7 then
call TriggerSleepAction(GetRandomReal(0.2,0.4))
endif
set DT7=true
if((i1==1848651848)or(i1==1848651847)or(i1==1848651851)or(i1==1848651850)or(i1==1848651841)or(i1==1848651830))then
set m5=h4[O5]
if(m5==null)then
set m5=SO7(1000.,S_7(it),Condition(function k6))
endif
if((m5!=null)and(GetUnitLifePercent(M7[O5])>50.)and(GetHeroLevel(M7[O5])>5)and(not G0[O5])and(G0[128+O5])and(is(M7[O5]))and(IsUnitInRange(M7[O5],m5,800.)))then
set UP=GetUnitTypeId(M7[O5])
if(UP==1332963428)then
set J4=(Bz>hq[O5])and(GetUnitLifePercent(m5)<70.)and(GetUnitState(M7[O5],UNIT_STATE_MANA)>hq[272+O5])and(T77(M7[O5],852480,1093677649,m5))
elseif(UP==1429221446)then
set J4=(Bz>hq[O5])and(GetUnitLifePercent(m5)<80.)and(IsUnitInRange(M7[O5],m5,450.))and(T97(M7[O5],852480,1093682764,1093747544,m5))
elseif(UP==1164799855)then
call T77(M7[O5],852075,1093682264,m5)
elseif(UP==1433105516)then
set J4=(Bz>hq[O5])and(GetUnitLifePercent(m5)<70.)and(not kr(M7[O5]))and(IssueTargetOrderById(M7[O5],OrderId("cannibalize"),m5))
elseif(UP==1332898670)then
if(IsUnitInRange(M7[O5],m5,400)or DA9(m5))then
set GZ[O5]=true
call J8(O5,T77(M7[O5],852480,1093677136,m5))
endif
elseif(UP==1214931305)then
call T77(M7[O5],852171,1093678147,m5)
elseif(UP==1211117633)then
call T77(M7[O5],852585,1093684045,m5)
elseif(UP==1211117636)then
set J4=(GetUnitLifePercent(m5)<50.)and(T97(M7[O5],852095,1093685042,1093810233,m5))
elseif(UP==1160786243)then
if((GetUnitLifePercent(m5)<50.)and(IsUnitInRange(M7[O5],m5,650.)))then
set GZ[O5]=true
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h8[O5])-GetUnitY(M7[O5]),GetUnitX(h8[O5])-GetUnitX(M7[O5])))
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093678672,true)
call J8(O5,IssuePointOrderById(M7[O5],852089,GetUnitX(m5)+200.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+200.*Sin(UP*bj_DEGTORAD)))
endif
elseif(UP==1311781207)then
set J4=T77(M7[O5],852095,1093684817,m5)
endif
endif
set J4=(m5!=null)and(GetUnitAbilityLevel(m5,1110454854)==0)and((IssueTargetOrderById(it,OrderId("creepheal"),m5))or(IssueTargetOrderById(it,851983,m5)))
elseif((i1==1429221441)or(i1==1212363833)or(i1==1164277357)or(i1==1865429047)or(i1==1865429062)or(i1==1752654196)or(i1==1752658994)or(i1==1752658995)or(i1==1747988534)or(GetUnitAbilityLevel(it,1110455088)>0))then
set m5=h4[O5]
if(m5==null)then
set m5=SO7(800.,S_7(it),Condition(function k6))
endif
if((m5!=null)and(GetUnitLifePercent(M7[O5])>50.)and(not G0[O5])and(G0[128+O5])and(is(M7[O5]))and(IsUnitInRange(M7[O5],m5,800.)))then
set UP=GetUnitTypeId(M7[O5])
if(UP==1429221441)then
set J4=(T77(M7[O5],852231,1093678389,m5))or(IssueTargetOrderById(M7[O5],851983,m5))
elseif(UP==1212363833)then
set J4=(T77(M7[O5],852095,1093809220,m5))or(IssueTargetOrderById(M7[O5],851983,m5))
elseif((UP==1160786229)or(UP==1164277357)or(UP==1433105516))then
call IssueTargetOrderById(M7[O5],851983,m5)
endif
endif
set J4=(m5!=null)and(GetUnitAbilityLevel(m5,1110454854)==0)and(IssueTargetOrderById(it,851983,m5))
elseif(i1==1848652343)then
set m5=h4[O5]
if(m5==null)then
set m5=SO7(800.,S_7(it),Condition(function k6))
endif
if((m5!=null)and(GetUnitLifePercent(M7[O5])>50.)and(not G0[O5])and(G0[128+O5])and(is(M7[O5]))and(IsUnitInRange(M7[O5],m5,800.)))then
set UP=GetUnitTypeId(M7[O5])
if(UP==1211117653)then
set J4=((Bz>TC4[16+O5])and AR7(M7[O5],LP4,LP4,LP4,1093686874)and(T77(M7[O5],852505,1093686874,m5)))or(IssueTargetOrderById(M7[O5],851983,m5))
endif
endif
set J4=(m5!=null)and(GetUnitAbilityLevel(m5,1110454854)==0)and((GetUnitLevel(M7[O5])>16)or(GetUnitLifePercent(m5)<10.))and(GetUnitLifePercent(m5)<25.)and(IssueTargetOrderById(it,851983,m5))
elseif((i1==1848652103)or(i1==1848652099)or(i1==1848652088)or(i1==1848651828))then
if(((GetUnitLifePercent(it)<25.)or(GZ[288+O5]))and((h4[O5]==null)or(not IsUnitInRange(it,M7[O5],1000.))))then
set J4=T47(it,851986,TJ7(it))
set GZ[288+O5]=GetUnitLifePercent(it)<50.
elseif((not GZ[272+O5])and(not G0[16+O5])and(G0[128+O5]))then
set m5=M7[O5]
set J4=(GetUnitLifePercent(it)<90.)and(RH7(TJ7(it),it)<400.)and(T47(it,851986,TJ7(it)))
set UP=R2I(RI7(GetUnitX(it),GetUnitY(it),GetUnitX(m5),GetUnitY(m5)))
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093681463,UP>800)
if(not J4)then
if(UP>1000)then
set J4=((UP>3000)and(IssueImmediateOrderById(it,852594)))or(IssueTargetOrderById(it,851971,m5))
else
set J4=((not G0[128+O5])or((GetUnitCurrentOrder(m5)==851986)and((RH7(it,h8[O5])+700.)<RH7(m5,h8[O5]))))and(T47(it,851986,h9[O5]))
endif
endif
if((not J4)and(GetHeroLevel(M7[O5])<12)and(Bz>hq[240+O5])and(eY[O5]==1))then
set m5=SO7(600.,S_7(it),Condition(function KD))
if(m5==null)then
set m5=SO7(600.,S_7(it),Condition(function Kc))
endif
set J4=(m5!=null)and(IssueTargetOrderById(it,851971,m5))
if((not J4)and(SR7(400.,S_7(it),Condition(function Ka))>0))then
set m5=SO7(400.,S_7(it),Condition(function k6))
if(m5==null)then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h9[O5])-GetUnitY(it),GetUnitX(h9[O5])-GetUnitX(it)))
set J4=IssuePointOrderById(it,851986,GetUnitX(it)+350.*Cos(UP*bj_DEGTORAD),GetUnitY(it)+350.*Sin(UP*bj_DEGTORAD))
else
set J4=IssueTargetOrderById(it,851971,m5)
endif
endif
endif
else
set J4=T47(it,851986,TJ7(it))
endif
elseif(GetUnitTypeId(M7[O5])==1211117633)then
set m5=M7[O5]
set J4=(((GetUnitLifePercent(it)<90.)and(RH7(TJ7(it),it)<400.))or(not SE7(m5)))and(T47(it,851986,TJ7(it)))
if((not J4)and(GetUnitLifePercent(it)<30.))then
set J4=((i1==1852796263)or(i1==1852207203)or(i1==1853060200)or(i1==1852010091))and(T47(it,851986,TJ7(it)))
endif
if(i1==1852796263)then
if((not J4)and(GetRandomInt(0,5)>1))then
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1094936114,true)
set J4=((GetUnitAbilityLevel(m5,1112893025)==0)and(IsUnitInRange(it,m5,800.))and(IssueTargetOrderById(it,852225,m5)))or((GetUnitAbilityLevel(it,1112893025)==0)and(IssueTargetOrderById(it,852225,it)))
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1094936114,J4)
else
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1094936114,false)
endif
endif
if(not J4)then
if(not IsUnitInRange(it,m5,1000.))then
if((h9[O5]!=TJ7(it))and(not IsUnitInRange(it,m5,3000.))and((RAbsBJ(GetUnitX(it)-GetUnitX(m5))>3000.)and(RAbsBJ(GetUnitY(it)-GetUnitY(m5))>3000.)))then
set J4=T47(it,851983,h9[O5])
else
set J4=IssueTargetOrderById(it,851971,m5)
endif
else
set J4=((not G0[128+O5])or((GetUnitCurrentOrder(m5)==851986)and((RH7(it,h8[O5])+450.)<RH7(m5,h8[O5]))))and(T47(it,851986,h9[O5]))
endif
endif
if((GetUnitLifePercent(it)<50.)and(IsUnitInRange(it,m5,600.))and(iU(m5)))then
if(((i1==1852796263)or(i1==1852207203)or(i1==1853060200)or(i1==1852010091))and(RH7(it,TJ7(it))>4000.))then
call T77(m5,852131,1093810260,it)
endif
endif
if((not J4)and(h4[O5]!=null))then
set m5=h4[O5]
if(i1==1853060200)then
set J4=(IsUnitInRange(it,m5,700.))and(IssueTargetOrderById(it,852125,m5))
elseif((i1==1852207203)or(i1==1852010091))then
set J4=(IsUnitInRange(it,m5,250.))and(IssueTargetOrderById(it,852127,m5))
endif
endif
elseif((i1==1848652113)or(i1==1848652114))then
set J4=((SE7(M7[O5]))and(IssueTargetOrderById(it,851986,M7[O5])))
elseif((i1==1966092339)or(i1==1966092341)or(i1==1966092345))then
elseif((i1==1966092596)or(i1==1966092597)or(i1==1966092598))then
if(UX7(M7[O5],"AIFamiliar1|Status")==false)then
call TSF(O5,it)
endif
set J4=true
elseif((i1==1966092612)or(i1==1966092613)or(i1==1966092614))then
if(UX7(M7[O5],"AIFamiliar2|Status")==false)then
call TSF(O5,it)
endif
set J4=true
elseif((i1==1966092626)or(i1==1966092627)or(i1==1966092628))then
if(UX7(M7[O5],"AIFamiliar3|Status")==false)then
call TSF(O5,it)
endif
set J4=true
elseif((i1==1697656907)or(i1==1697656905)or(i1==1697656908))then
set h4[16+O5]=it
if(is(it))then
set J4=(((G0[16+O5])or((GetUnitLifePercent(it)<90.)and(RH7(TJ7(it),it)<400.)))and(T47(it,851986,TJ7(it))))or((GetUnitState(it,UNIT_STATE_LIFE)<175.)and((T47(it,852525,TJ7(it)))or(T47(it,851986,TJ7(it)))))
if((h8[528+O5]!=null)and(not J4))then
set UP=GetUnitUserData(h8[528+O5])
if((UP<10)or(UP>60))then
set UP=GetUnitUserData(h9[512+O5])
endif
if((UP>=10)and(UP<=18))then
set m5=h7[10+P24]
elseif((UP>=30)and(UP<=40))then
set m5=h7[30+P_4]
elseif((UP>=50)and(UP<=60))then
set m5=h7[50+Q44]
endif
if((Bz>hq[240+O5])and(GetRandomInt(1,2)==1))then
if((m5!=h7[10+P24])and(SS7(900.,h7[10+P24],Condition(function KC))>4)and(SS7(900.,h7[10+P24],Condition(function YE7))>0))then
set m5=h7[10+P24]
set hq[240+O5]=Bz+30.
elseif((m5!=h7[30+P_4])and(SS7(900.,h7[30+P_4],Condition(function KC))>4)and(SS7(900.,h7[30+P_4],Condition(function YE7))>0))then
set m5=h7[30+P_4]
set hq[240+O5]=Bz+30.
elseif((m5!=h7[50+Q44])and(SS7(900.,h7[50+Q44],Condition(function KC))>4)and(SS7(900.,h7[50+Q44],Condition(function YE7))>0))then
set m5=h7[50+Q44]
set hq[240+O5]=Bz+30.
endif
endif
if((UP>=10)and(UP<=60))then
if(IsUnitAlly(it,A7[0]))then
set UP=hj[512+GetUnitUserData(m5)]
else
set UP=GetUnitUserData(m5)
endif
set h8[512+O5]=h7[UP+1]
set h8[528+O5]=h7[UP]
set h9[512+O5]=h7[UP-1]
endif
endif
if(GZ[O5])then
set J4=IssueImmediateOrderById(it,852521)
set GZ[O5]=false
else
if(h8[512+O5]!=null)then
set J4=((not IsUnitInRange(it,h8[528+O5],3500.))and(T47(it,852525,h8[528+O5])))or(T47(it,851983,h8[512+O5]))
else
set J4=((M7[O5]!=null)and(not IsUnitInRange(it,M7[O5],400.))and(T47(it,851983,M7[O5])))
endif
endif
endif
elseif((i1==1697656909)or(i1==1697656910)or(i1==1697656911))then
if((eY[O5]!=3)and(eY[O5]!=4))then
if(((GetUnitY(it)>4000.)and(GetUnitY(it)<7000.))or((GetUnitX(it)>-7500.)and(GetUnitX(it)<-5000.)))then
set m5=h7[30+P_4]
elseif(((GetUnitY(it)>-8000.)and(GetUnitY(it)<-5500.))or((GetUnitX(it)>4500.)and(GetUnitX(it)<7000.)))then
set m5=h7[50+Q44]
else
set m5=h7[10+P24]
endif
if(IsUnitAlly(it,A7[0]))then
set UP=hj[512+GetUnitUserData(m5)]
else
set UP=GetUnitUserData(m5)
endif
set J4=T47(it,851983,h7[UP+1])
endif
elseif((i1==1848651861)or(i1==1848651865)or(i1==1848651866))then
set m5=h4[O5]
if(m5==null)then
set m5=SO7(800.,S_7(it),Condition(function k6))
endif
set J4=(GetUnitLifePercent(it)<90.)and(GetUnitLifePercent(M7[O5])>50.)and(not G0[O5])and(is(M7[O5]))and(IsUnitInRange(M7[O5],it,800.))and(IssueTargetOrderById(M7[O5],852248,it))
if((not J4)and(m5!=null)and(GetUnitLifePercent(m5)<50.)and(GetUnitLifePercent(M7[O5])>50.)and(not G0[O5])and(is(M7[O5]))and(IsUnitInRange(M7[O5],m5,800.)))then
set GZ[O5]=true
set J4=J8(O5,T77(M7[O5],852089,1093678672,m5))
endif
set J4=(m5!=null)and(GetUnitAbilityLevel(m5,1110454854)==0)and(IssueTargetOrderById(it,851983,m5))
elseif(GetUnitAbilityLevel(it,1110455105)>0)then
set J4=(GetUnitLifePercent(it)<50.)and(T47(it,851986,h9[O5]))
elseif((i1==1852862003)or(i1==1852862006)or(i1==1848652080)or(i1==1848657754))then
call Q6F(it,16+O5)
if(GZ[272+O5])then
set J4=T47(it,851986,h9[16+O5])
else
set m5=h4[O5]
if(m5==null)then
set m5=SO7(800.,S_7(it),Condition(function k6))
endif
set J4=(m5!=null)and((IssueTargetOrderById(it,852252,m5))or(IssueImmediateOrderById(it,852520))or((GetUnitAbilityLevel(m5,1110454854)==0)and(IssueTargetOrderById(it,851983,m5))))
endif
call QLF(it,16+O5,J4)
set J4=true
elseif((i1==1852862002)or(i1==1852862005)or(i1==1848652082)or(i1==1848657969))then
call Q6F(it,512+O5)
set m5=h4[O5]
if(m5==null)then
set m5=SO7(800.,S_7(it),Condition(function k6))
endif
if(m5!=null)then
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1094935417,true)
set J4=(GZ[272+O5])and(IssueTargetOrderById(it,852144,m5))
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1094935417,J4)
if(not J4)then
set J4=((UnitCountBuffsExBJ(bj_BUFF_POLARITY_POSITIVE,bj_BUFF_RESIST_EITHER,GetFilterUnit(),false,false)>0)and(IssueTargetOrderById(it,852057,m5)))or((GetUnitAbilityLevel(m5,1110454854)==0)and(IssueTargetOrderById(it,851983,m5)))
endif
else
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1094935417,false)
endif
call QLF(it,512+O5,J4)
if(GetUnitLifePercent(it)<25.)then
set J4=IssueImmediateOrderById(it,852129)
elseif(GetUnitAbilityLevel(it,1112504171)>0)then
set J4=T47(it,851986,h9[16+O5])
endif
set J4=true
elseif((i1==1852862001)or(i1==1852862004)or(i1==1848652081)or(i1==1848657968))then
call Q6F(it,528+O5)
set m5=h4[O5]
if(m5==null)then
set m5=SO7(800.,S_7(it),Condition(function k6))
endif
set J4=(m5!=null)and(GetUnitAbilityLevel(m5,1110454854)==0)and(IssueTargetOrderById(it,851983,m5))
call QLF(it,528+O5,J4)
set J4=true
elseif((i1==1848652109)or(i1==1848652115))then
set m5=h4[O5]
set h4[16+O5]=it
if(m5==null)then
set m5=SO7(800.,S_7(it),Condition(function k6))
endif
set J4=(m5!=null)and(GetUnitAbilityLevel(m5,1110454854)==0)and(IssueTargetOrderById(it,851983,m5))
endif
if(not J4)then
if h4[O5]!=null then
call IssueTargetOrderById(it,851983,h4[O5])
elseif((eY[O5]>=9))then
call IssueTargetOrderById(it,851990,M7[O5])
elseif((eY[O5]!=3)and(eY[O5]!=4))then
call T47(it,851983,h8[O5])
else
if((SE7(M7[O5]))and(IsUnitInRange(it,M7[O5],1200.)))then
set m5=M7[O5]
else
set m5=SO7(1200.,S_7(it),Condition(function k8))
endif
set J4=((m5!=null)and(IssuePointOrderById(it,851983,GetUnitX(m5),GetUnitY(m5))))or(T47(it,851983,h8[64+O5]))
endif
endif
set it=null
set m5=null
endfunction
function UEF takes nothing returns nothing
local integer O5=1
local real QH7
loop
exitwhen O5>11
if(IsPlayerInForce(Player(O5),QX4))then
call GroupClear(Q54)
call GroupEnumUnitsOfPlayer(Q54,Player(O5),Q24)
call ForGroup(Q54,function TJF)
endif
if M7[O5]!=null and GetWidgetLife(M7[O5])>.405 then
set QH7=GetUnitState(M7[O5],UNIT_STATE_LIFE)/GetUnitState(M7[O5],UNIT_STATE_MAX_LIFE)
set hq[704+O5]=(QH7-hq[688+O5])
if(Bz>hq[736+O5])or(hq[720+O5]>hq[704+O5])then
set hq[720+O5]=hq[704+O5]
set hq[736+O5]=Bz+10.
endif
set hq[688+O5]=QH7
endif
set O5=O5+1
endloop
endfunction
function UFF takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)and(not WK7(GetSpellAbilityId())))
endfunction
function UGF takes nothing returns nothing
local unit j5=GetTriggerUnit()
local unit m5=GetEnumUnit()
local integer i1=GetUnitTypeId(m5)
if((SH7(m5))or(not iU(m5)))then
elseif((i1==1430466609)and(GetUnitLifePercent(m5)<40.))then
call T97(m5,852125,1093810258,1093810259,j5)
elseif(i1==1429221446)then
call CRE(m5,j5)
elseif((i1==1332766568)and(IsUnitInRange(m5,j5,400.)))then
call IssueImmediateOrderById(m5,852600)
elseif((i1==1332109682)and(IsUnitInRange(m5,j5,500.)))then
call TG7(m5,852588,1093810505)
elseif(i1==1433105516)then
call IssueTargetOrderById(m5,852600,j5)
elseif((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))then
set i1=R2I(bj_RADTODEG*Atan2(GetUnitY(j5)-GetUnitY(m5),GetUnitX(j5)-GetUnitX(m5)))
call IssuePointOrderById(m5,852600,GetUnitX(m5)+150.*Cos(i1*bj_DEGTORAD),GetUnitY(j5)+150.*Sin(i1*bj_DEGTORAD))
elseif(i1==1316252014)then
call IssueTargetOrderById(m5,852190,j5)
elseif((i1==1214931305)and(IsUnitInRange(m5,j5,500.))and(GetUnitLifePercent(m5)<50.))then
call IssueImmediateOrderById(m5,852600)
elseif(i1==1311787088)then
elseif(i1==1211117643)then
call TD7(m5,852504,1093681483,1093748313,GetUnitX(j5),GetUnitY(j5))
elseif(i1==1311781206)then
call CSE(m5,j5)
elseif(i1!=1429221445)then
call R2F(m5,j5)
endif
set j5=null
set m5=null
endfunction
function UHF takes unit u returns boolean
local real UIF=1.
if(TZ4)then
if(Z84[GetPlayerId(GetOwningPlayer(u))]==ZD4)then
set UIF=10.0-GetRandomReal(0,100)
elseif(Z84[GetPlayerId(GetOwningPlayer(u))]==ZE4)then
set UIF=45.0-GetRandomReal(0,100)
elseif(Z84[GetPlayerId(GetOwningPlayer(u))]==ZF4)then
set UIF=65.0-GetRandomReal(0,100)
endif
else
if(Z84[GetPlayerId(GetOwningPlayer(u))]==ZD4)then
set UIF=0.
endif
endif
return(UIF>0)
endfunction
function UJF takes unit j5,unit UKF,real kl returns nothing
local real IW=bj_RADTODEG*Atan2(GetUnitY(UKF)-GetUnitY(j5),GetUnitX(UKF)-GetUnitX(j5))
if(IW>kl)then
set IW=IW+90
else
set IW=IW-90
endif
if not((GetUnitAbilityLevel(UKF,1311780930)>0)and(TG7(UKF,852514,1093686082)))then
call IssuePointOrderById(UKF,851986,GetUnitX(UKF)+250.*Cos(IW*bj_DEGTORAD),GetUnitY(UKF)+250.*Sin(IW*bj_DEGTORAD))
endif
endfunction
function UMF takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),QM4))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(GetWidgetLife(GetFilterUnit())>.405)and(S47(GetFilterUnit())))
endfunction
function UNF takes aidifficulty d returns real
if d==AI_DIFFICULTY_NEWBIE then
return 0.2
elseif d==AI_DIFFICULTY_NORMAL then
return 0.1
endif
return 0.05
endfunction
function UOF takes nothing returns nothing
local integer UPF=GetHandleId(GetExpiredTimer())
local unit u
local real x0
local real y0
local real x1
local real y1
local real r
if LoadReal(L7,UPF,7)<TimerGetElapsed(W)then
call FlushChildHashtable(L7,UPF)
call DestroyTimer(GetExpiredTimer())
else
set u=LoadUnitHandle(L7,UPF,1)
set x0=LoadReal(L7,UPF,2)
set y0=LoadReal(L7,UPF,3)
set x1=LoadReal(L7,UPF,4)
set y1=LoadReal(L7,UPF,5)
set r=LoadReal(L7,UPF,6)
set u=null
endif
endfunction
function AI_DodgeLineStarter takes nothing returns nothing
local integer UPF
set bj_lastStartedTimer=CreateTimer()
set UPF=GetHandleId(bj_lastStartedTimer)
call SaveUnitHandle(L7,UPF,1,GetEnumUnit())
call SaveReal(L7,UPF,2,QF4)
call SaveReal(L7,UPF,3,QG4)
call SaveReal(L7,UPF,4,QH4)
call SaveReal(L7,UPF,5,QI4)
call SaveReal(L7,UPF,6,QJ4)
call SaveReal(L7,UPF,7,QK4)
call TimerStart(bj_lastStartedTimer,UNF(GetAIDifficulty(GetOwningPlayer(GetEnumUnit()))),true,function UOF)
endfunction
function UQF takes nothing returns nothing
local unit CL7=GetEnumUnit()
local real x1=GetUnitX(CL7)
local real y1=GetUnitY(CL7)
local real dx=QH4-QF4
local real dy=QI4-QG4
local real r=SquareRoot(dx*dx+dy*dy)
local real r1=((x1-QF4)*dx+(y1-QG4)*dy)/r
if r1>0 and r1<=r then
set dx=x1-QF4-dx*r1/r
set dy=y1-QG4-dy*r1/r
set r=SquareRoot(dx*dx+dy*dy)
if not((GetUnitAbilityLevel(CL7,1311780930)>0)and(TG7(CL7,852514,1093686082)))then
if r==0. then
call IssuePointOrderById(CL7,851986,x1-(y1-QG4)*QJ4/r1,y1+(x1-QF4)*QJ4/r1)
elseif r<QJ4 then
call IssuePointOrderById(CL7,851986,x1+dx*(QJ4/r-1),y1+dy*(QJ4/r-1))
endif
endif
endif
set CL7=null
endfunction
function WYv_OLD takes nothing returns nothing
local unit j5=GetTriggerUnit()
local unit CL7=GetEnumUnit()
local real IW
local real kl
set IW=RI7(GetUnitX(j5),GetUnitY(j5),GetUnitX(CL7),GetUnitY(CL7))
set kl=RAbsBJ(Atan2(GetLocationY(Hb)-GetUnitY(j5),GetLocationX(Hb)-GetUnitX(j5)))
if((S47(CL7))and(RI7(GetUnitX(CL7),GetUnitY(CL7),GetUnitX(j5)+IW*Cos(kl),GetUnitY(j5)+IW*Sin(kl))<300.))then
call UJF(j5,CL7,kl*bj_RADTODEG)
if h4[352+GetPlayerId(GetOwningPlayer(CL7))]==null then
set h4[352+GetPlayerId(GetOwningPlayer(CL7))]=j5
endif
endif
set j5=null
set CL7=null
endfunction
function WYv takes nothing returns nothing
local unit j5=GetTriggerUnit()
local unit CL7=GetEnumUnit()
local real IW=RI7(GetUnitX(j5),GetUnitY(j5),GetUnitX(CL7),GetUnitY(CL7))
local real kl=Atan2(GetLocationY(Hb)-GetUnitY(j5),GetLocationX(Hb)-GetUnitX(j5))
if((UHF(CL7))and(S47(CL7))and(RI7(GetUnitX(CL7),GetUnitY(CL7),GetUnitX(j5)+IW*Cos(kl),GetUnitY(j5)+IW*Sin(kl))<300.))then
call UJF(j5,CL7,kl*bj_RADTODEG)
if h4[352+GetPlayerId(GetOwningPlayer(CL7))]==null then
set h4[352+GetPlayerId(GetOwningPlayer(CL7))]=j5
endif
endif
set j5=null
set CL7=null
endfunction
function URF takes nothing returns nothing
local unit CL7=GetEnumUnit()
local unit j5=GetTriggerUnit()
local real IW
local real kl
set IW=RI7(GetUnitX(j5),GetUnitY(j5),GetUnitX(CL7),GetUnitY(CL7))
set kl=RAbsBJ(Atan2(GetLocationY(Hb)-GetUnitY(j5),GetLocationX(Hb)-GetUnitX(j5)))
if((S47(CL7))and(((IsUnitInRange(CL7,j5,750.))and(not CTE(CL7,j5,true)))or(not JMF(CL7)))and(RI7(GetUnitX(CL7),GetUnitY(CL7),GetUnitX(j5)+IW*Cos(kl),GetUnitY(j5)+IW*Sin(kl))<700.))then
call UJF(j5,CL7,kl*bj_RADTODEG)
set G0[64+GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=true
if h4[352+GetPlayerId(GetOwningPlayer(CL7))]==null then
set h4[352+GetPlayerId(GetOwningPlayer(CL7))]=j5
endif
endif
set j5=null
set CL7=null
endfunction
function USF takes nothing returns nothing
local unit CL7=GetEnumUnit()
local unit j5=GetTriggerUnit()
local real IW
local real kl
set IW=RI7(GetUnitX(j5),GetUnitY(j5),GetUnitX(CL7),GetUnitY(CL7))
set kl=RAbsBJ(Atan2(GetLocationY(Hb)-GetUnitY(j5),GetLocationX(Hb)-GetUnitX(j5)))
if((UHF(CL7))and(S47(CL7))and(RI7(GetUnitX(CL7),GetUnitY(CL7),GetUnitX(j5)+IW*Cos(kl),GetUnitY(j5)+IW*Sin(kl))<700.))then
call UJF(j5,CL7,kl*bj_RADTODEG)
set G0[64+GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=true
if h4[352+GetPlayerId(GetOwningPlayer(CL7))]==null then
set h4[352+GetPlayerId(GetOwningPlayer(CL7))]=j5
endif
endif
set j5=null
set CL7=null
endfunction
function WZv_OLD takes nothing returns nothing
local unit CL7=GetEnumUnit()
local unit IB=null
local real kl
if(S47(GetEnumUnit()))then
set IB=h4[272+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]
if((IB!=null)and(IsUnitVisible(IB,GetOwningPlayer(GetEnumUnit()))))then
set kl=RAbsBJ((bj_RADTODEG*Atan2(GetUnitY(GetEnumUnit())-GetUnitY(IB),GetUnitX(GetEnumUnit())-GetUnitX(IB)))-GetUnitFacing(IB))
if(kl<50.)then
call UJF(IB,GetEnumUnit(),GetUnitFacing(IB))
set G0[64+GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=true
if h4[352+GetPlayerId(GetOwningPlayer(CL7))]==null then
set h4[352+GetPlayerId(GetOwningPlayer(CL7))]=GetTriggerUnit()
endif
endif
endif
set IB=null
endif
set CL7=null
endfunction
function WZv takes nothing returns nothing
local unit CL7=GetEnumUnit()
local unit IB=null
local real kl
if((UHF(CL7))and(S47(CL7)))then
set IB=h4[272+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]
if((IB!=null)and(IsUnitVisible(IB,GetOwningPlayer(CL7))))then
set kl=RAbsBJ((bj_RADTODEG*Atan2(GetUnitY(CL7)-GetUnitY(IB),GetUnitX(CL7)-GetUnitX(IB)))-GetUnitFacing(IB))
if(kl<50.)then
call UJF(IB,CL7,GetUnitFacing(IB))
set G0[64+GetPlayerId(GetOwningPlayer(CL7))]=true
if h4[352+GetPlayerId(GetOwningPlayer(CL7))]==null then
set h4[352+GetPlayerId(GetOwningPlayer(CL7))]=GetTriggerUnit()
endif
endif
endif
set IB=null
endif
endfunction
function UTF takes nothing returns nothing
local unit j5=GetTriggerUnit()
local unit m5=GetEnumUnit()
local integer O5=GetPlayerId(GetOwningPlayer(m5))
local real kl=RAbsBJ((bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(j5),GetUnitX(m5)-GetUnitX(j5)))-GetUnitFacing(j5))
local real IW=RI7(GetUnitX(m5),GetUnitY(m5),GetUnitX(j5),GetUnitY(j5))
local boolean T9F
local boolean J4
if(IW>900)then
set T9F=kl<140.
elseif(IW>600)then
set T9F=(GetWidgetLife(m5)<1500.)and(kl<110.)
elseif(IW>300)then
set T9F=(GetWidgetLife(m5)<1000.)and(kl<80.)
else
set T9F=(GetWidgetLife(m5)<1000.)and(kl<50.)
endif
if(not iU(m5))then
elseif(not T9F)then
set J4=(IW<700.)and((h4[O5]==null)or(h4[O5]==j5))and((CTE(m5,j5,true))or(IssueTargetOrderById(m5,851983,j5)))
else
if(IW<600.)then
if(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(j5),GetUnitX(m5)-GetUnitX(j5))>GetUnitFacing(j5))then
call IssuePointOrderById(m5,851986,GetUnitX(j5)+300.*Cos((GetUnitFacing(j5)+90.)*bj_DEGTORAD),GetUnitY(j5)+300.*Sin((GetUnitFacing(j5)+90.)*bj_DEGTORAD))
else
call IssuePointOrderById(m5,851986,GetUnitX(j5)+300.*Cos((GetUnitFacing(j5)-90.)*bj_DEGTORAD),GetUnitY(j5)+300.*Sin((GetUnitFacing(j5)-90.)*bj_DEGTORAD))
endif
elseif((GetWidgetLife(m5)<1200.)or((IW>800.)and(h4[O5]==null)))then
set G0[64+O5]=true
call T47(m5,851986,h9[O5])
if((GetUnitAbilityLevel(m5,1093681461)>0)and(UE7(GetHandleId(GetOwningPlayer(m5)),"MyBear")!=null))then
call T47(UE7(GetHandleId(GetOwningPlayer(m5)),"MyBear"),851986,h9[O5])
endif
endif
endif
set j5=null
set m5=null
endfunction
function UUF takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and((GetUnitAbilityLevel(GetFilterUnit(),1097102451)>0)or(GetUnitAbilityLevel(GetFilterUnit(),1097102385)>0)or(GetUnitAbilityLevel(GetFilterUnit(),1093684533)>0)or(GetUnitAbilityLevel(GetFilterUnit(),1098150517)>0)or(GetUnitAbilityLevel(GetFilterUnit(),1093683785)>0)))
endfunction
function UVF takes nothing returns boolean
return((GetUnitTypeId(GetFilterUnit())==GetUnitTypeId(GetTriggerUnit()))and(GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())))
endfunction
function UWF takes nothing returns nothing
local unit m5=GetEnumUnit()
local unit j5=GetTriggerUnit()
local item jp=SY7(m5,ZU[WC])
if((jp!=null)and((GetUnitLifePercent(j5)<50.)or((h4[GetPlayerId(GetOwningPlayer(m5))]==j5)and(GetUnitLifePercent(j5)<70.))))then
if(IsUnitInRange(j5,m5,1000.))then
call UnitUseItemPoint(m5,jp,GetUnitX(j5),GetUnitY(j5))
endif
endif
set m5=null
set j5=null
set jp=null
endfunction
function UXF takes nothing returns nothing
local unit m5=GetEnumUnit()
local unit j5=null
local integer O5=GetPlayerId(GetOwningPlayer(m5))
if(h4[O5]==GetTriggerUnit())then
set j5=SO7(500.,S_7(GetTriggerUnit()),Condition(function UVF))
if(j5!=null)then
set h4[O5]=j5
if(not S47(m5))then
elseif(not iU(m5))then
call IssueTargetOrderById(m5,851983,j5)
else
call J3(m5,false)
endif
endif
endif
set m5=null
set j5=null
endfunction
function UYF takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
return(((i1==1848651848)or(i1==1848651847)or(i1==1848651851))and(GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())))
endfunction
function UZF takes nothing returns nothing
local unit m5=GetEnumUnit()
local integer i1=GetUnitTypeId(m5)
local unit UAF=SQ7(800.,S_7(GetTriggerUnit()),Condition(function UYF))
if((not S47(m5))or(UAF==null))then
elseif((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))then
call TG7(m5,OrderId("charm"),1093747028)
elseif(i1==1164799855)then
call T77(m5,852075,1093682264,UAF)
elseif(SU7(m5,ZU[J1]))then
call UnitUseItemTarget(m5,SY7(m5,ZU[J1]),UAF)
elseif(SU7(m5,ZU[D1]))then
call UnitUseItemTarget(m5,SY7(m5,ZU[D1]),UAF)
endif
set m5=null
set UAF=null
endfunction
function UBF takes nothing returns nothing
local unit j5=GetTriggerUnit()
local unit m5=GetEnumUnit()
local integer O5=GetPlayerId(GetOwningPlayer(m5))
if((S47(m5))and((not IsUnitInRange(j5,m5,500.))or(not CTE(m5,j5,false))))then
if((SH7(j5))and(not SH7(m5))and(IsUnitInRange(j5,m5,500.)))then
call IssueTargetOrderById(m5,851983,j5)
else
if(SS7(900.,j5,Condition(function k2))<(1+GetUnitAbilityLevel(j5,GetSpellAbilityId())))then
call T47(m5,851986,h9[O5])
endif
endif
endif
set j5=null
set m5=null
endfunction
function UCF takes nothing returns nothing
if((GetUnitAbilityLevel(GetEnumUnit(),1110459185)==0)or(not JMF(GetEnumUnit())))then
call ExecuteFunc("TFF")
if((GetUnitTypeId(GetEnumUnit())==1315070563)and(GetUnitAbilityLevel(GetEnumUnit(),1110459185)>0)and(not UX7(GetEnumUnit(),"Omnislashing")))then
call TG7(GetEnumUnit(),852128,1093678407)
endif
endif
endfunction
function U3F takes nothing returns nothing
call ExecuteFunc("U6F")
endfunction
function U6F takes nothing returns nothing
local unit m5=GetEnumUnit()
local integer i1=GetUnitTypeId(m5)
local integer PSF=GetSpellAbilityId()
if(not S47(m5))then
elseif((SU7(m5,ZU[C0]))and(PSF!=1093678674)and(PSF!=1093677906)and(PSF!=1093681494)and(UnitUseItem(m5,SY7(m5,ZU[C0]))))then
elseif((SU7(m5,ZU[Y0]))and(PSF!=1093678674)and(PSF!=1093677906)and(PSF!=1093681494)and(UnitUseItem(m5,SY7(m5,ZU[Y0]))))then
elseif(JMF(m5))then
elseif((PSF!=1093678674)and(PSF!=1093677906)and(PSF!=1093681494)and((i1==1315007329)or(i1==1160785972)or(i1==1432510828)))then
call IssueImmediateOrderById(m5,852129)
elseif((PSF!=1093678674)and(PSF!=1093677906)and(PSF!=1093681494)and(i1==1429221424))then
call TG7(m5,852129,1093679445)
elseif((PSF!=1093678674)and(PSF!=1093677906)and(PSF!=1093681494)and(i1==1212363833))then
call TG7(m5,852123,1093678643)
elseif(((PSF!=1093684529)or(PSF!=1093747032))and(i1==1429221443))then
call TG7(m5,852273,1093686322)
elseif((PSF!=1093678674)and(PSF!=1093677906)and(PSF!=1093681494)and(i1==1429221441))then
call TG7(m5,852123,1093677903)
elseif(i1==1315988077)then
set GZ[GetPlayerId(GetOwningPlayer(m5))]=true
call J8(GetPlayerId(GetOwningPlayer(m5)),TG7(m5,852586,1093684561))
elseif((PSF==1093684529)and(i1==1332963428))then
call T77(m5,852227,1093678169,m5)
elseif(i1==1214345830)then
if(PSF!=1093684529)then
set GZ[GetPlayerId(GetOwningPlayer(m5))]=true
call J8(GetPlayerId(GetOwningPlayer(m5)),T77(m5,852186,1093679190,m5))
else
call IssueImmediateOrderById(m5,852599)
endif
elseif(i1==1311781206)then
if((PSF!=1093677906)and(PSF!=1093681494)and(PSF!=1093678674))then
call IssueImmediateOrderById(m5,852493)
endif
endif
set m5=null
endfunction
function ULF takes nothing returns nothing
local unit j5=GetTriggerUnit()
local unit m5=GetEnumUnit()
local integer PSF
local integer O5=GetPlayerId(GetOwningPlayer(m5))
set G0[64+O5]=true
if(S47(m5))then
if((i2(j5))and(CTE(m5,j5,false)))then
elseif(RH7(m5,h9[O5])<RH7(j5,h9[O5]))then
call T47(m5,851986,h9[O5])
else
call T47(m5,851986,h8[O5])
endif
set PSF=GetSpellAbilityId()
if((PSF==1093678388)or(PSF==1093677141)or(PSF==1093677906)or(PSF==1093681494)or((PSF==1093678674)and(GZ[GetPlayerId(GetOwningPlayer(j5))])))then
call U3F()
endif
endif
set j5=null
set m5=null
endfunction
function U1F takes nothing returns nothing
local unit m5=GetEnumUnit()
if((not iU(m5))and(GetUnitLifePercent(m5)<95.)and(h4[GetPlayerId(GetOwningPlayer(m5))]==null)and(not IsUnitInRange(GetTriggerUnit(),m5,300.)))then
call IssuePointOrderById(m5,851986,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()))
endif
set m5=null
endfunction
function U0F takes nothing returns nothing
local unit m5=GetEnumUnit()
local integer PSF=GetSpellAbilityId()
local integer O5=GetPlayerId(GetOwningPlayer(m5))
set G0[64+O5]=true
if((PSF==1093683761)or(PSF==1093747288))then
if(S47(m5))then
if(RH7(m5,h9[O5])<RI7(GetLocationX(Hb),GetLocationY(Hb),GetUnitX(h9[O5]),GetUnitY(h9[O5])))then
call T47(m5,851986,h9[O5])
else
call T47(m5,851986,h8[O5])
endif
endif
else
if((S47(m5))and((GetUnitLevel(m5)<6)or(GetUnitLifePercent(m5)<75.)or(not Id(O5))))then
if(((PSF==1093683532)or(PSF==1093681745))and(GetUnitLevel(m5)>5)and(GetUnitState(m5,UNIT_STATE_LIFE)>1300.))then
elseif((PSF==1093685825)and(RH7(m5,h9[O5])<RI7(GetLocationX(Hb),GetLocationY(Hb),GetUnitX(h9[O5]),GetUnitY(h9[O5]))))then
call T47(m5,851986,h9[O5])
else
call T47(m5,851986,h9[O5])
endif
endif
endif
set m5=null
endfunction
function U5F takes nothing returns nothing
local unit m5=GetEnumUnit()
set G0[64+GetPlayerId(GetOwningPlayer(m5))]=true
if((is(m5))and((GetUnitLevel(m5)<5)or(GetUnitLifePercent(m5)<75.)or(h4[GetPlayerId(GetOwningPlayer(m5))]==null)))then
if((GetSpellAbilityId()!=1093677877)or(SS7(500.,GetTriggerUnit(),Condition(function k0))<3))then
call T47(m5,851986,h9[GetPlayerId(GetOwningPlayer(m5))])
endif
endif
set m5=null
endfunction
function U2F takes nothing returns nothing
local unit m5=GetEnumUnit()
local unit j5=GetTriggerUnit()
if((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(S47(m5))and(IsUnitType(m5,UNIT_TYPE_HERO)))then
if(not CTE(m5,j5,true))then
set G0[64+GetPlayerId(GetOwningPlayer(m5))]=true
call T47(m5,851986,h9[GetPlayerId(GetOwningPlayer(m5))])
endif
endif
set m5=null
set j5=null
endfunction
function U_F takes nothing returns nothing
local unit m5=GetEnumUnit()
local unit j5=GetTriggerUnit()
if((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(R27(m5))and(IsUnitType(m5,UNIT_TYPE_HERO)))then
if((GetUnitLifePercent(m5)>45. or GetUnitState(m5,UNIT_STATE_LIFE)>500.)and((SS7(800.,j5,Condition(function YR7))>=2)or(SS7(650.,j5,Condition(function YQ7))>=2)or((SS7(800.,j5,Condition(function YR7))>=1)and(SS7(650.,j5,Condition(function YQ7))>=1))))then
set j5=SQ7(800.,S_7(m5),Condition(function YF7))
if(j5!=null)then
set h4[GetPlayerId(GetOwningPlayer(m5))]=j5
call MTF(m5,j5)
call IssueTargetOrderById(m5,851983,j5)
endif
else
if(JMF(m5))then
elseif(RH7(m5,h9[GetPlayerId(GetOwningPlayer(m5))])<RH7(j5,h9[GetPlayerId(GetOwningPlayer(m5))]))then
set G0[64+GetPlayerId(GetOwningPlayer(m5))]=true
call T47(m5,851986,h9[GetPlayerId(GetOwningPlayer(m5))])
else
call T47(m5,851986,h8[GetPlayerId(GetOwningPlayer(m5))])
endif
endif
endif
set m5=null
set j5=null
endfunction
function V4F takes real V7F,real V8F returns boolean
return V7F!=null and V8F!=null
endfunction
function V9F takes location VDF,real c,real VEF,boolean VFF returns location
local real VGF=GetLocationX(VDF)
local real VHF=GetLocationY(VDF)
local real V7F=DD8(VGF+(Cos(VEF*bj_DEGTORAD)*c))
local real V8F=DE8(VHF+(Sin(VEF*bj_DEGTORAD)*c))
if((VFF==true)and(V4F(V7F,V8F)!=true))then
return null
endif
return Location(V7F,V8F)
endfunction
function VIF takes nothing returns nothing
local unit S07=GetTriggerUnit()
local unit O37=GetEnumUnit()
local location VJF=GetUnitLoc(S07)
local location VKF=GetUnitLoc(O37)
local real VEF=AngleBetweenPoints(VJF,VKF)
local real VMF=DistanceBetweenPoints(VJF,VKF)
local real c=VMF+100.00
local location VNF=V9F(VJF,c,VEF,true)
if((GetPlayerController(GetOwningPlayer(O37))==MAP_CONTROL_COMPUTER)and(S47(O37))and(IsUnitType(O37,UNIT_TYPE_HERO)))then
if(VNF!=null)then
call IssuePointOrderByIdLoc(O37,851986,VNF)
endif
endif
set S07=null
set O37=null
call RemoveLocation(VJF)
set VJF=null
call RemoveLocation(VKF)
set VKF=null
call RemoveLocation(VNF)
set VNF=null
endfunction
function VOF takes nothing returns nothing
local unit m5=GetEnumUnit()
local integer i=0
if(GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and((SU7(m5,ZU[BA])or SU7(m5,ZU[TC])))then
set IJ4=RH7(EM7,m5)
if(IN4==null)or(IJ4<EJ7)then
set IN4=m5
set EJ7=IJ4
endif
endif
set m5=null
endfunction
function VPF takes nothing returns nothing
call ExecuteFunc("TFF")
endfunction
function VQF takes nothing returns nothing
local unit j5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer VRF=GetSpellAbilityId()
local integer O5=GetPlayerId(GetOwningPlayer(j5))
local real JD
local real Je
local integer UP
local real JSF
local integer i=1
local real x0
local real y0
local real x1
local real y1
local real r
if(VRF==1093684296)then
if((GetPlayerController(GetOwningPlayer(m5))!=MAP_CONTROL_USER)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
set JSF=Bz
set UP=3+(2*GetUnitAbilityLevel(j5,VRF))
loop
set JD=GetUnitX(m5)
set Je=GetUnitY(m5)
call R97(0.2)
if((GetWidgetLife(m5)<1500.)and(GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(S47(m5))and((GetUnitX(m5)!=JD)or(GetUnitY(m5)!=Je)))then
call IssueImmediateOrderById(m5,851993)
endif
exitwhen((RAbsBJ(Bz-JSF)>=UP)or(not SE7(m5)))
endloop
endif
elseif(VRF==1093744975)then
if((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call R97(0.5)
loop
set i=i+1
if((IsUnitInRange(j5,m5,500.))and(is(m5))and(CTE(m5,j5,true)))then
elseif((IsUnitInRange(j5,m5,800.))and(is(m5)))then
call T47(m5,851986,h9[GetPlayerId(GetOwningPlayer(m5))])
set G0[64+GetPlayerId(GetOwningPlayer(m5))]=true
endif
exitwhen((i==6)or(not SE7(j5))or(not SE7(m5)))
call R97(0.5)
endloop
endif
elseif(VRF==1093744986)then
if((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
loop
if(S47(m5))then
if(not CTE(m5,j5,true))then
call T47(m5,851986,h9[GetPlayerId(GetOwningPlayer(m5))])
set G0[64+GetPlayerId(GetOwningPlayer(m5))]=true
endif
endif
set i=i+1
exitwhen((i>15)or(not SE7(m5))or(not SE7(j5)))
call R97(0.5)
endloop
endif
elseif(VRF==1093743692)then
if((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(IsUnitType(m5,UNIT_TYPE_HERO))and(is(m5)))then
call R97(1.5)
set UP=GetUnitTypeId(m5)
if(UP==1429221446)then
call TG7(m5,852177,1093678667)
elseif(UP==1430466865)then
call T77(m5,852066,1093677879,m5)
elseif(UP==1214344551)then
call T77(m5,852095,1093809742,m5)
elseif(UP==1211117643)then
call T77(m5,852278,1093678410,m5)
else
call R2F(m5,j5)
endif
endif
elseif(VRF==1093750840)then
if((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call R97(0.5)
loop
if((IsUnitInRange(j5,m5,600.))and(is(m5))and(CTE(m5,j5,true)))then
elseif((SR7(700.,S_7(m5),Condition(function WB7))==0)and(SR7(700.,S_7(m5),Condition(function KQ))==0)and(IsUnitInRange(j5,m5,1500.))and(is(m5)))then
call T47(m5,851986,h9[GetPlayerId(GetOwningPlayer(m5))])
endif
exitwhen((GetUnitAbilityLevel(m5,1110454617)==0)or(not SE7(j5))or(not SE7(m5)))
call R97(0.5)
endloop
endif
elseif((VRF==1093808453)or(VRF==1093681729)or(VRF==1093678147))then
set EN7=false
if(VRF==1093808453)then
call R97(1)
set bj_lastLoadedUnit=j5
set m5=SQ7(150,HC[O5],Condition(function WU7))
if m5!=null then
set EJ7=99999
set IH4=GetPlayerId(GetOwningPlayer(m5))
set EM7=null
if((h4[IH4]!=null)or((G0[256+IH4])and(not SH7(m5))and(GetHeroLevel(m5)>4)))then
if(h4[IH4]!=null)then
set IN4=h4[IH4]
else
set IN4=h8[IH4]
endif
else
set IN4=h9[IH4]
endif
set UP=1
loop
exitwhen UP>8
set bj_lastCreatedDestructable=UD7(GetHandleId(j5),"AI|SproutTree"+I2S(UP))
set IJ4=RH7(bj_lastCreatedDestructable,IN4)
if IJ4<EJ7 then
set EM7=bj_lastCreatedDestructable
set EJ7=IJ4
endif
call TC7(GetHandleId(j5),"AI|SproutTree"+I2S(UP),null)
set UP=UP+1
endloop
set EJ7=99999
set IN4=null
call IV(GetLocationX(HC[O5]),GetLocationY(HC[O5]),350,Condition(function WU7),function VOF)
set m5=IN4
if(m5!=null)and(SU7(m5,ZU[BA])or SU7(m5,ZU[TC]))then
call UnitUseItemTarget(m5,bj_lastCreatedItem,EM7)
endif
endif
endif
if((VRF!=1093808453)or(EJ7>600))and((m5!=null)and(GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(IsUnitType(m5,UNIT_TYPE_HERO))and(S47(m5)))then
if(VRF!=1093808453)then
call R97(1)
endif
set UP=GetUnitTypeId(m5)
if((UP==1211117653)and(Bz>TC4[80+GetPlayerId(GetOwningPlayer(m5))])and AR7(m5,LP4,LP4,LQ4,1093687372)and(AM7(m5,LQ4,LQ4,LQ4,false)))then
call IssueImmediateOrderById(m5,852129)
elseif((UP==1429221441)or(UP==1165451634)or(UP==1212365106))then
call IssueTargetOrderById(m5,852600,j5)
elseif((VRF==1093678147)and(UP==1315070563))then
if(not UX7(m5,"Omnislashing"))then
call TG7(m5,852128,1093678407)
endif
elseif((VRF==1093808453)and(UP==1164666213))then
set GZ[64+GetPlayerId(GetOwningPlayer(m5))]=true
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093678679,true)
call IssuePointOrderById(m5,852224,GetUnitX(m5)+10.,GetUnitY(m5)+10.)
set GZ[64+GetPlayerId(GetOwningPlayer(m5))]=false
elseif((VRF==1093808453)and(UP==1211117636))then
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093685041,true)
if((GetUnitLifePercent(m5)>50.)or(GetUnitLifePercent(j5)<50.))then
set JSF=bj_RADTODEG*Atan2(GetUnitY(j5)-GetUnitY(m5),GetUnitX(j5)-GetUnitX(m5))
else
set JSF=bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(j5),GetUnitX(m5)-GetUnitX(j5))
endif
set GZ[GetPlayerId(GetOwningPlayer(m5))]=true
call J8(GetPlayerId(GetOwningPlayer(m5)),IssuePointOrderById(m5,852218,GetUnitX(m5)+900.*Cos(JSF*bj_DEGTORAD),GetUnitY(m5)+900.*Sin(JSF*bj_DEGTORAD)))
elseif((VRF==1093808453)and(UP==1211117620))then
set GZ[64+GetPlayerId(GetOwningPlayer(m5))]=true
call MoveLocation(HA,GetWidgetX(m5)+10,GetWidgetY(m5)+10)
call T87(m5,852232,1093677623,HA)
set GZ[64+GetPlayerId(GetOwningPlayer(m5))]=false
elseif((VRF==1093808453)and(UP==1212365106))then
set GZ[64+GetPlayerId(GetOwningPlayer(m5))]=true
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093685831,true)
call IssuePointOrderById(m5,852089,GetUnitX(m5)+10.,GetUnitY(m5)+10.)
set GZ[64+GetPlayerId(GetOwningPlayer(m5))]=false
elseif((GetUnitLifePercent(j5)<50.)and(kJ(GetUnitX(j5),GetUnitY(j5)))and(GetUnitLifePercent(m5)>50.))then
if(UP==1162032181)then
call IssueTargetOrderById(m5,852218,j5)
elseif((UP==1430466609)or(UP==1164207469))then
call IssueTargetOrderById(m5,852525,j5)
elseif(UP==1429221451)then
call IssueTargetOrderById(m5,852218,j5)
elseif(UP==1328558160)then
call T77(m5,852218,1093682766,j5)
elseif(SU7(m5,ZU[RW]))then
call UnitUseItemPoint(m5,SY7(m5,ZU[RW]),GetUnitX(j5),GetUnitY(j5))
else
call JMF(m5)
endif
else
call JMF(m5)
endif
endif
elseif((VRF==1093684565)or(VRF==1093681458)or(VRF==1093679152)or(VRF==1093752154))then
if((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(IsUnitType(m5,UNIT_TYPE_HERO))and(not IsUnitIllusion(m5))and(GetWidgetLife(m5)<1200.))then
call VA7(m5,false)
endif
elseif(VRF==1093750345)then
elseif(VRF==1093677646)then
if((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
loop
if((iU(m5))and(not SH7(m5)))then
call IssueTargetOrderById(m5,851983,j5)
endif
exitwhen((GetUnitCurrentOrder(j5)!=852487)or(not SE7(m5))or(not SE7(j5)))
call R97(0.5)
endloop
endif
elseif((VRF==1093753177)or(VRF==1093808181))then
if((IsUnitVisible(j5,Z7[0]))and(IsUnitVisible(j5,A7[0])))then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
call R97(0.2)
call MoveLocation(Hb,JD,Je)
call TriggerSleepAction(.5)
loop
call IV(GetUnitX(j5),GetUnitY(j5),1800.,Condition(function YC7),function URF)
call R97(0.8)
exitwhen((GetUnitAbilityLevel(m5,1110459478)==0)or(not SE7(m5))or(not SE7(j5)))
endloop
endif
elseif(VRF==1093751371)then
call R97(0.2)
set JSF=Bz
loop
call IV(GetUnitX(j5),GetUnitY(j5),1100.,Condition(function YC7),function U_F)
call R97(1.0)
exitwhen((RAbsBJ(Bz-JSF)>=7.7)or(not SE7(j5)))
endloop
elseif((VRF==1093681987)or(VRF==1093677658)or(VRF==1093678156))then
if((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
loop
if(S47(m5))then
if(not CTE(m5,j5,true))then
call T47(m5,851986,h9[GetPlayerId(GetOwningPlayer(m5))])
set G0[64+GetPlayerId(GetOwningPlayer(m5))]=true
endif
endif
exitwhen((GetUnitCurrentOrder(j5)!=852487)or(not SE7(m5))or(not SE7(j5)))
call R97(0.5)
endloop
endif
elseif((VRF==1093677367)or(VRF==1093678913)or(VRF==1093677621)or(VRF==1093679445)or(VRF==1093677402))then
call TriggerSleepAction(.5)
if((not IsUnitVisible(j5,Z7[0]))or(not IsUnitVisible(j5,A7[0])))then
call IV(GetUnitX(j5),GetUnitY(j5),1000.,Condition(function KO),function UWF)
endif
elseif((VRF==1093681720)or(VRF==1093678643)or(VRF==1093677903))then
call TriggerSleepAction(1.)
if((SS7(800.,j5,Condition(function UUF))==0)and(not lA(j5,not IsUnitAlly(j5,Z7[0]))))then
call IV(GetUnitX(j5),GetUnitY(j5),1000.,Condition(function YC7),function UXF)
endif
elseif(VRF==1093682231)then
call TriggerSleepAction(.5)
if((not IsUnitVisible(j5,Z7[0]))or(not IsUnitVisible(j5,A7[0])))then
call IV(GetUnitX(j5),GetUnitY(j5),1000.,Condition(function YC7),function UXF)
endif
elseif((VRF==1093687351)or(VRF==1093687349)or(VRF==1093678671)or(VRF==1093686091))then
if((IsUnitVisible(j5,Z7[0]))and(IsUnitVisible(j5,A7[0])))then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set x0=GetUnitX(j5)
set y0=GetUnitY(j5)
set QJ4=SquareRoot((JD-x0)*(JD-x0)+(Je-y0)*(Je-y0))
if(VRF==1093686091)then
set r=1200.
else
set r=700.
endif
set x1=x0+(JD-x0)*r/QJ4
set y1=y0+(Je-y0)*r/QJ4
call R97(0.2)
set QM4=GetOwningPlayer(j5)
set QJ4=250.
set QF4=x0
set QG4=y0
set QH4=x1
set QI4=y1
call IV(x0,y0,r,Condition(function UMF),function UQF)
endif
elseif(VRF==1093686862)then
if(Z57(GetOwningPlayer(j5))or GetRandomInt(1,4)==4)then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
call IV(JD,Je,1100.,Condition(function YC7),function VIF)
endif
elseif((VRF==1093750841)or(VRF==1093684291))then
if(SR7(1200.,GetUnitLoc(j5),Condition(function WY7))>1)then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
call IV(JD,Je,1100.,Condition(function YC7),function U2F)
endif
elseif(VRF==1093678665)then
set r=400+(200*GetUnitAbilityLevel(j5,1093678665))
set JSF=TimerGetElapsed(W)
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set x0=GetUnitX(j5)
set y0=GetUnitY(j5)
set QJ4=SquareRoot((JD-x0)*(JD-x0)+(Je-y0)*(Je-y0))
set x1=x0+(JD-x0)*r/QJ4
set y1=y0+(Je-y0)*r/QJ4
set m5=j5
loop
exitwhen((m5!=null)and(IsUnitVisible(m5,Z7[0]))and(IsUnitVisible(m5,A7[0])))
call R97(0.3)
call GroupClear(iF)
set bj_groupEnumTypeId=1966092360
call GroupEnumUnitsOfPlayer(iF,GetOwningPlayer(j5),filterGetUnitsOfPlayerAndTypeId)
set m5=GroupPickRandomUnit(iF)
exitwhen(RAbsBJ(TimerGetElapsed(W)-JSF)>1.)
endloop
call R97(0.2)
loop
exitwhen(RAbsBJ(TimerGetElapsed(W)-JSF)>1.)
set QM4=GetOwningPlayer(j5)
set QJ4=250.
set QF4=GetUnitX(m5)
set QG4=GetUnitY(m5)
set QH4=x1
set QI4=y1
call IV(QF4,QG4,r,Condition(function UMF),function UQF)
call R97(0.4)
endloop
elseif(VRF==1093685041)then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
call R97(0.1)
loop
call GroupClear(iF)
set bj_groupEnumTypeId=1697657172
call GroupEnumUnitsOfPlayer(iF,GetOwningPlayer(j5),filterGetUnitsOfPlayerAndTypeId)
set m5=GroupPickRandomUnit(iF)
exitwhen((m5!=null)and(IsUnitVisible(m5,Z7[0]))and(IsUnitVisible(m5,A7[0])))
call R97(0.3)
exitwhen(m5==null)
endloop
loop
call GroupClear(iF)
set bj_groupEnumTypeId=1697657172
call GroupEnumUnitsOfPlayer(iF,GetOwningPlayer(j5),filterGetUnitsOfPlayerAndTypeId)
set m5=FirstOfGroup(iF)
exitwhen(m5==null)
call MoveLocation(Hb,JD,Je)
call IV(JD,Je,1000.,Condition(function YC7),function USF)
call R97(0.5)
endloop
elseif(VRF==1093679157)then
call R97(0.1)
set JSF=I2R(1150+(250*GetUnitAbilityLevel(j5,1093679157)))
loop
call GroupClear(iF)
set bj_groupEnumTypeId=1966092362
call GroupEnumUnitsOfPlayer(iF,GetOwningPlayer(j5),filterGetUnitsOfPlayerAndTypeId)
set m5=FirstOfGroup(iF)
exitwhen((m5!=null)and(IsUnitVisible(m5,Z7[0]))and(IsUnitVisible(m5,A7[0])))
call R97(0.3)
exitwhen((GetUnitCurrentOrder(j5)!=852600)or(not SE7(j5)))
endloop
loop
exitwhen((GetUnitCurrentOrder(j5)!=852600)or(not SE7(j5)))
call IV(GetUnitX(j5),GetUnitY(j5),JSF,Condition(function YC7),function UTF)
call R97(0.5)
endloop
elseif(VRF==1093684280)then
set JSF=TimerGetElapsed(W)+3.5
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set x0=JD-GetUnitX(j5)
set y0=Je-GetUnitY(j5)
set r=SquareRoot(x0*x0+y0*y0)
set x0=x0*1000./r
set y0=y0*1000./r
loop
set bj_groupEnumTypeId=1747988533
call GroupEnumUnitsOfPlayer(iF,GetOwningPlayer(j5),filterGetUnitsOfPlayerAndTypeId)
loop
set m5=FirstOfGroup(iF)
exitwhen m5==null or(GetWidgetLife(m5)>.405)
call GroupRemoveUnit(iF,m5)
endloop
set h4[272+O5]=m5
exitwhen((m5!=null)and(IsUnitVisible(m5,Z7[0]))and(IsUnitVisible(m5,A7[0])))
call R97(0.1)
exitwhen TimerGetElapsed(W)>JSF
endloop
call R97(0.1)
loop
exitwhen(TimerGetElapsed(W)>JSF)or(GetWidgetLife(m5)<.405)
set QM4=GetOwningPlayer(j5)
set QF4=GetUnitX(m5)
set QG4=GetUnitY(m5)
set QH4=QF4+x0
set QI4=QG4+y0
set QJ4=300.
call IV(QF4,QG4,1000.,Condition(function UMF),function UQF)
call R97(0.1)
endloop
elseif(VRF==1093751604)then
set JSF=TimerGetElapsed(W)
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set r=SquareRoot((JD-x0)*(JD-x0)+(Je-y0)*(Je-y0))
set x0=(JD-GetUnitX(j5))*1000./r
set y0=(Je-GetUnitY(j5))*1000./r
loop
set bj_groupEnumTypeId=1747993394
call GroupEnumUnitsOfPlayer(iF,GetOwningPlayer(j5),filterGetUnitsOfPlayerAndTypeId)
set m5=FirstOfGroup(iF)
exitwhen((m5!=null)and(IsUnitVisible(m5,Z7[0]))and(IsUnitVisible(m5,A7[0])))
call R97(0.3)
exitwhen(RAbsBJ(TimerGetElapsed(W)-JSF)>3.5)
endloop
set h4[272+O5]=m5
call R97(0.2)
loop
exitwhen(RAbsBJ(TimerGetElapsed(W)-JSF)>3.5)or(not SE7(m5))
set QM4=GetOwningPlayer(j5)
set QF4=GetUnitX(m5)
set QG4=GetUnitY(m5)
set QH4=QF4+x0
set QI4=QG4+y0
set QJ4=200.
call IV(QF4,QG4,1000.,Condition(function UMF),function UQF)
call R97(0.2)
endloop
elseif(VRF==1093677136)then
loop
call R97(0.8)
exitwhen((GetUnitAbilityLevel(m5,1110454328)==0)or(GetUnitCurrentOrder(j5)!=852480))
call MTF(j5,m5)
endloop
elseif((VRF==1093684815)or(VRF==1093686072)or(VRF==1093685573))then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
if(VRF==1093684815)then
set UP=180
elseif(VRF==1093685573)then
set UP=200+100*GetUnitAbilityLevel(j5,1093685573)
else
set UP=400
endif
call IV(JD,Je,UP,Condition(function YC7),function VPF)
elseif((VRF==1093684564)or(VRF==1093677623)or(VRF==1093678644)or(VRF==1093681754)or(VRF==1093678679))then
if((IsUnitVisible(j5,Z7[0]))and(IsUnitVisible(j5,A7[0])))then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
if(VRF==1093678679)then
set UP=130+(25*GetUnitAbilityLevel(j5,1093678679))
elseif(VRF==1093677623)then
set UP=250
else
set UP=500
if(VRF==1093678644)then
call R97(0.5)
endif
endif
set JSF=Bz
loop
exitwhen(RAbsBJ(Bz-JSF)>=1.5)
call IV(JD,Je,UP,Condition(function YC7),function U0F)
call R97(0.4)
endloop
call R97(0.4)
call IV(JD,Je,UP,Condition(function YC7),function VPF)
endif
elseif((VRF==1093678420)or(VRF==1093679176)or(VRF==1093684529)or(VRF==1093747032))then
call R97(0.5)
call IV(GetUnitX(m5),GetUnitY(m5),600.,Condition(function YC7),function U3F)
elseif((VRF==1093677382)or(VRF==1093677651)or(VRF==1093685047)or(VRF==1093677645)or(VRF==1093678670)or(VRF==1093678898)or(VRF==1093678900)or(VRF==1093678904)or(VRF==1093682766)or(VRF==1093677894)or(VRF==1093810258)or(VRF==1093810259))then
call IV(GetUnitX(j5)+350.*Cos(GetUnitFacing(j5)*bj_DEGTORAD),GetUnitY(j5)+350.*Sin(GetUnitFacing(j5)*bj_DEGTORAD),450.,Condition(function YC7),function VPF)
elseif((VRF==1093678405)or(VRF==1093810505)or(VRF==1093677363)or(VRF==1093681462))then
call R97(0.5)
call IV(GetUnitX(j5),GetUnitY(j5),900.,Condition(function YC7),function VPF)
elseif((VRF==1093678669)or(VRF==1093679182)or(VRF==1093677913)or(VRF==1093677139)or(VRF==1093810507)or(VRF==1093682252)or(VRF==1093686083))then
call IV(GetUnitX(j5),GetUnitY(j5),350.,Condition(function YC7),function VPF)
elseif((VRF==1093678422)or(VRF==1093682248)or(VRF==1093810508)or(VRF==1093684054))then
call IV(GetUnitX(j5),GetUnitY(j5),550.,Condition(function YC7),function VPF)
elseif((VRF==1093677145)or(VRF==1093682994)or(VRF==1093677360)or(VRF==1093677616))then
call IV(GetUnitX(m5),GetUnitY(m5),450.,Condition(function YC7),function VPF)
elseif(VRF==1093678938)then
call R97(1.)
call IV(GetUnitX(j5),GetUnitY(j5),950.,Condition(function YC7),function UCF)
elseif((VRF==1093683266)or(VRF==1093682227)or(VRF==1093682246))then
call R97(1.)
call IV(GetUnitX(j5),GetUnitY(j5),1000.,Condition(function YC7),function UZF)
elseif((VRF==1093682521)or(VRF==1093682760)or(VRF==1093682736))then
if(VRF==1093682521)then
set JSF=200.
elseif(VRF==1093682760)then
set JSF=450.
elseif(VRF==1093682736)then
set JSF=700.
endif
call IV(GetUnitX(j5)+JSF*Cos(GetUnitFacing(j5)*bj_DEGTORAD),GetUnitY(j5)+JSF*Sin(GetUnitFacing(j5)*bj_DEGTORAD),350.,Condition(function YC7),function VPF)
elseif((VRF==1093678388)or(VRF==1093677141)or(VRF==1093810506))then
call IV(GetUnitX(j5),GetUnitY(j5),850.,Condition(function YC7),function ULF)
elseif((VRF==1093683248)or(VRF==1093685846))then
call TriggerSleepAction(0.1)
loop
call IV(GetUnitX(j5),GetUnitY(j5),700.,Condition(function YC7),function UGF)
exitwhen(((IsUnitVisible(j5,Z7[0]))and(IsUnitVisible(j5,A7[0])))or(not SE7(j5)))
call R97(1.5)
endloop
elseif(VRF==1093677378)then
set JSF=Bz
loop
exitwhen(RAbsBJ(Bz-JSF)>=9.)
call IV(GetUnitX(j5),GetUnitY(j5),700.,Condition(function Kq),function U1F)
call R97(0.8)
endloop
elseif(VRF==1093681713)then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set JSF=Bz
call R97(0.5)
loop
exitwhen(RAbsBJ(Bz-JSF)>=7.5)
call IV(JD,Je,550.,Condition(function YC7),function U0F)
call R97(0.6)
endloop
elseif(VRF==1093677385)then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set JSF=Bz
call R97(0.5)
loop
exitwhen(RAbsBJ(Bz-JSF)>=6.5)
call IV(JD,Je,300.,Condition(function YC7),function U0F)
call R97(0.6)
endloop
elseif(VRF==1093685825)then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set JSF=Bz
call R97(0.5)
loop
exitwhen(RAbsBJ(Bz-JSF)>=9.)
call IV(JD,Je,450.,Condition(function YC7),function U0F)
call R97(0.6)
endloop
elseif(VRF==1093683532)then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set JSF=Bz
call R97(0.5)
loop
exitwhen(RAbsBJ(Bz-JSF)>=10.5)
call IV(JD,Je,630.,Condition(function YC7),function U0F)
call R97(0.6)
endloop
elseif(VRF==1093681745)then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set JSF=Bz
call R97(0.5)
loop
exitwhen(RAbsBJ(Bz-JSF)>=7.5)
call IV(JD,Je,1000.,Condition(function YC7),function U0F)
call R97(0.6)
endloop
elseif(VRF==1093685831)then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set UP=360+(80*GetUnitAbilityLevel(j5,1093685831))
set JSF=Bz
call R97(0.5)
loop
exitwhen(RAbsBJ(Bz-JSF)>=6.5)
call IV(JD,Je,UP,Condition(function YC7),function U0F)
call R97(0.6)
endloop
elseif(VRF==1093678407)then
set JSF=Bz
loop
exitwhen(RAbsBJ(Bz-JSF)>=4.5)
call IV(GetUnitX(j5),GetUnitY(j5),420.,Condition(function YC7),function U5F)
call R97(0.6)
endloop
elseif(VRF==1093677877)then
set JSF=Bz
call R97(0.5)
loop
exitwhen(RAbsBJ(Bz-JSF)>=7.5)
call IV(GetUnitX(j5),GetUnitY(j5),680.,Condition(function YC7),function U5F)
call R97(0.6)
endloop
elseif(VRF==1093685045)then
set JSF=Bz
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
loop
exitwhen(RAbsBJ(Bz-JSF)>=4.5)
call IV(JD,Je,950.,Condition(function YC7),function U0F)
call R97(0.5)
endloop
elseif(VRF==1093683761)then
call R97(1.)
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set JSF=Bz
loop
exitwhen((not GZ[384+O5])or(RAbsBJ(Bz-JSF)>=5.))
call MoveLocation(Hb,JD,Je)
call IV(JD,Je,750.,Condition(function YC7),function U0F)
call R97(0.5)
endloop
set GZ[384+O5]=false
elseif(VRF==1093678674)then
loop
call R97(0.5)
exitwhen((GetUnitCurrentOrder(j5)!=852581)or(not SE7(j5)))
call IV(GetUnitX(j5),GetUnitY(j5),750.,Condition(function YC7),function ULF)
endloop
call R97(0.5)
if(GZ[384+O5])then
set UP=0
loop
exitwhen((not GZ[384+O5])or(UP>12))
call IV(GetUnitX(j5),GetUnitY(j5),550.,Condition(function YC7),function ULF)
call R97(0.6)
set UP=UP+1
endloop
set GZ[384+O5]=false
endif
elseif((VRF==1093684820)or(VRF==1093684824))then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
call R97(0.5)
loop
call R97(0.6)
exitwhen((GetUnitCurrentOrder(j5)!=852597)or(not SE7(j5)))
call IV(JD,Je,900.,Condition(function YC7),function ULF)
endloop
elseif((VRF==1093677906)or(VRF==1093681494))then
call R97(0.5)
loop
call R97(0.6)
exitwhen((GetUnitCurrentOrder(j5)!=852600)or(not SE7(j5)))
call IV(GetUnitX(j5),GetUnitY(j5),900.,Condition(function YC7),function ULF)
endloop
elseif((VRF==1093678899)or(VRF==1093677898)or(VRF==1093678154)or(VRF==1093678157)or(VRF==1093678158))then
set JSF=Bz
loop
exitwhen((RAbsBJ(Bz-JSF)>=29.)or(not SE7(j5)))
call IV(GetUnitX(j5),GetUnitY(j5),1200.,Condition(function YC7),function UBF)
call R97(0.8)
endloop
elseif(VRF==1093747288)then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
loop
call R97(0.6)
exitwhen((GetUnitCurrentOrder(j5)!=OrderId("cannibalize"))or(not SE7(j5)))
call MoveLocation(Hb,JD,Je)
call IV(JD,Je,1000.,Condition(function YC7),function U0F)
endloop
elseif((VRF==1093808454)or(VRF==1093808455))then
loop
call R97(1.)
exitwhen((GetUnitAbilityLevel(j5,1110454836)==0)or(not SE7(j5)))
call IV(GetUnitX(j5),GetUnitY(j5),350.,Condition(function YC7),function U5F)
endloop
elseif(VRF==1093747009)then
if((IsUnitVisible(j5,Z7[0]))and(IsUnitVisible(j5,A7[0])))then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set x0=GetUnitX(j5)
set y0=GetUnitX(j5)
set JSF=Bz
call OFF(j5,j5)
loop
exitwhen(RAbsBJ(Bz-JSF)>=1.5)
call IV(JD,Je,475,Condition(function YC7),function U0F)
call IV(x0,y0,475,Condition(function YC7),function U0F)
call R97(0.4)
endloop
call R97(0.4)
call IV(JD,Je,UP,Condition(function YC7),function VPF)
endif
elseif(VRF==1093746993)then
set r=2400
set JSF=TimerGetElapsed(W)
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set x0=GetUnitX(j5)
set y0=GetUnitY(j5)
set QJ4=SquareRoot((JD-x0)*(JD-x0)+(Je-y0)*(Je-y0))
set x1=x0+(JD-x0)*r/QJ4
set y1=y0+(Je-y0)*r/QJ4
set m5=j5
call R97(1.)
loop
exitwhen(RAbsBJ(TimerGetElapsed(W)-JSF)>3.5)
set QM4=GetOwningPlayer(j5)
set QJ4=350.
set QF4=GetUnitX(m5)
set QG4=GetUnitY(m5)
set QH4=x1
set QI4=y1
call IV(QF4,QG4,r,Condition(function UMF),function UQF)
call R97(0.4)
endloop
elseif(VRF==1093678929)then
if GetPlayerController(GetOwningPlayer(j5))==MAP_CONTROL_COMPUTER then
call RemoveGuardPosition(j5)
endif
elseif(VRF==1093678658)then
call OFF(j5,j5)
elseif(VRF==1093813555)then
set r=600+(200*GetUnitAbilityLevel(j5,1093813555))
set JSF=TimerGetElapsed(W)
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set x0=GetUnitX(j5)
set y0=GetUnitY(j5)
set QJ4=SquareRoot((JD-x0)*(JD-x0)+(Je-y0)*(Je-y0))
set x1=x0+(JD-x0)*r/QJ4
set y1=y0+(Je-y0)*r/QJ4
set m5=j5
loop
exitwhen((m5!=null)and(IsUnitVisible(m5,Z7[0]))and(IsUnitVisible(m5,A7[0])))
call R97(0.3)
call GroupClear(iF)
set bj_groupEnumTypeId=1966092360
call GroupEnumUnitsOfPlayer(iF,GetOwningPlayer(j5),filterGetUnitsOfPlayerAndTypeId)
set m5=GroupPickRandomUnit(iF)
exitwhen(RAbsBJ(TimerGetElapsed(W)-JSF)>1.)
endloop
call R97(0.2)
loop
exitwhen(RAbsBJ(TimerGetElapsed(W)-JSF)>1.)
set QM4=GetOwningPlayer(j5)
set QJ4=250.
set QF4=GetUnitX(m5)
set QG4=GetUnitY(m5)
set QH4=x1
set QI4=y1
call IV(QF4,QG4,r,Condition(function UMF),function UQF)
call R97(0.4)
endloop
elseif(VRF==GL7[1]or VRF==GL7[2]or VRF==GL7[3])and Z27(Player(O5))then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set EJ7=RI7(GetUnitX(j5),GetUnitY(j5),JD,Je)/(2.5*GetUnitMoveSpeed(j5))-0.4
if EJ7>0 then
call PolledWait(EJ7)
else
call PolledWait(0.1)
endif
set bj_lastLoadedUnit=j5
call MoveLocation(HA,JD,Je)
set EN7=(iU(j5))and((UX7(j5,"AI|EmberEscape")or(SR7(300,HA,Condition(function WU7))!=0))and IssuePointOrderById(j5,852185,JD,Je))
call UB7(j5,"AI|EmberEscape")
elseif(VRF==1093751349 or VRF==1093743415 or VRF==1093808945)then
set eY[224+O5]=R2I(Bz)+EX7
set hq[832+O5]=R2I(Bz)+9
endif
set j5=null
set m5=null
endfunction
function VSF takes nothing returns nothing
local unit j5=GetTriggerUnit()
local integer O5=GetPlayerId(GetOwningPlayer(j5))
local integer VRF=GetSpellAbilityId()
local boolean S3F=(GetPlayerController(Player(O5))==MAP_CONTROL_COMPUTER)
local unit m5=GetSpellTargetUnit()
local integer X5
local integer i1
local integer UP=1
if(VRF==1093751349 or VRF==1093743415 or VRF==1093808945)then
set hq[832+O5]=0
endif
if(VRF==1093751349 or VRF==1093743415)and S3F then
call R97(0.1)
if(U74[O5]!=null)and(not UnitHasItem(j5,U74[O5]))then
if SU7(j5,ZU[YC])then
call RemoveItem(bj_lastCreatedItem)
endif
if UnitAddItem(j5,U74[O5])then
set U74[O5]=null
endif
endif
endif
if(VRF==1093751349 or VRF==1093743415)or(VRF==1093808945)or(VRF==1093677391)or(VRF==1093683265)then
call R97(0.1)
call AA7(j5)
endif
if(VRF==1093751874)then
call R97(11.)
set GT7=LoadUnitHandle(L7,(GetHandleId(j5)),(652))
set bj_forLoopAIndex=GetPlayerId(GetOwningPlayer(GT7))
if(not GZ[224+O5])or(h4[bj_forLoopAIndex]!=null)or Z57(Player(bj_forLoopAIndex))then
call IssueImmediateOrderById(j5,852600)
endif
endif
call R97(2)
loop
exitwhen UP>11
if h4[352+UP]==j5 then
set i1=GetUnitTypeId(M7[UP])
set X5=GetUnitCurrentOrder(M7[UP])
set G0[272+UP]=true
if i1==1429221451 and(X5==852503)then
call IssueImmediateOrderById(M7[UP],851972)
call J3(M7[UP],false)
elseif i1==1311780930 and(X5==852514)then
call IssueImmediateOrderById(M7[UP],851972)
call J3(M7[UP],false)
endif
set G0[272+UP]=false
set h4[352+UP]=null
endif
set UP=UP+1
endloop
set j5=null
endfunction
function VTF takes nothing returns nothing
call O4F(GetEnumUnit())
endfunction
function VUF takes unit u returns nothing
if(SH7(u))then
if S47(u)then
call T47(u,851986,h9[GetPlayerId(GetOwningPlayer(u))])
endif
elseif(RH7(u,TJ7(u))>5500.)then
if S47(u)then
call T47(u,851986,h9[GetPlayerId(GetOwningPlayer(u))])
endif
set h4[GetPlayerId(GetOwningPlayer(u))]=null
else
if S47(u)then
call T47(u,851983,JW(u))
endif
endif
if((eY[GetPlayerId(GetOwningPlayer(u))]!=4)and(eY[GetPlayerId(GetOwningPlayer(u))]!=2))then
set eY[GetPlayerId(GetOwningPlayer(u))]=3
endif
endfunction
function VVF takes unit u returns nothing
if(SH7(u))then
if S47(u)then
call T47(u,851986,h9[GetPlayerId(GetOwningPlayer(u))])
endif
elseif(RH7(u,TJ7(u))>5500.)then
if S47(u)then
call T47(u,851986,h9[GetPlayerId(GetOwningPlayer(u))])
endif
set h4[GetPlayerId(GetOwningPlayer(u))]=null
else
if S47(u)then
call T47(u,851983,JW(u))
endif
endif
set eY[GetPlayerId(GetOwningPlayer(u))]=4
set GZ[480+GetPlayerId(GetOwningPlayer(u))]=true
endfunction
function VWF takes nothing returns nothing
call VUF(GetEnumUnit())
endfunction
function VXF takes nothing returns nothing
call VVF(GetEnumUnit())
endfunction
function VYF takes nothing returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))
if((RH7(GetEnumUnit(),TJ7(GetEnumUnit()))<5000.)and(eY[O5]!=4))then
if(IsUnitAlly(GetEnumUnit(),A7[0]))then
if(G3==0)then
set h8[O5]=h7[111]
set h8[16+O5]=h7[114]
elseif(G3==1)then
set h8[O5]=h7[131]
set h8[16+O5]=h7[135]
elseif(G3==2)then
set h8[O5]=h7[151]
set h8[16+O5]=h7[155]
endif
elseif(IsUnitAlly(GetEnumUnit(),Z7[0]))then
if(G4==0)then
set h8[O5]=h7[11]
set h8[16+O5]=h7[14]
elseif(G4==1)then
set h8[O5]=h7[31]
set h8[16+O5]=h7[35]
elseif(G4==2)then
set h8[O5]=h7[51]
set h8[16+O5]=h7[55]
endif
endif
set h9[O5]=TJ7(GetEnumUnit())
set h9[16+O5]=TJ7(GetEnumUnit())
if(S47(GetEnumUnit()))then
call T47(GetEnumUnit(),851983,h8[O5])
endif
set eY[O5]=1
elseif((IsUnitAlly(GetEnumUnit(),Z7[0]))and(eY[O5]!=9))then
if(((G4==1)and(RK7(GetEnumUnit())==2))or((G4==2)and(RK7(GetEnumUnit())==1)))then
set G0[32+O5]=true
call J3(GetEnumUnit(),true)
elseif(G4==0)then
call JBF(GetEnumUnit(),h7[9+P24])
elseif(G4==1)then
call JBF(GetEnumUnit(),h7[29+P_4])
elseif(G4==2)then
call JBF(GetEnumUnit(),h7[49+Q44])
endif
elseif((IsUnitAlly(GetEnumUnit(),A7[0]))and(eY[O5]!=9))then
if(((G3==1)and(RK7(GetEnumUnit())==2))or((G3==2)and(RK7(GetEnumUnit())==1)))then
set G0[32+O5]=true
call J3(GetEnumUnit(),true)
elseif(G3==0)then
call JBF(GetEnumUnit(),h7[117-P24])
elseif(G3==1)then
call JBF(GetEnumUnit(),h7[139-P_4])
elseif(G3==2)then
call JBF(GetEnumUnit(),h7[159-Q44])
endif
endif
endfunction
function VZF takes nothing returns nothing
set eY[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=11
set h8[48+GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=h7[250]
endfunction
function ICF takes nothing returns nothing
local unit it=UE7(R44,"OB|U")
local integer JVF
if(S47(it))then
call T47(it,851986,h9[GetPlayerId(GetOwningPlayer(it))])
endif
set G0[48+GetPlayerId(GetOwningPlayer(it))]=true
set JVF=JOF(6.,it,false,true)
set G0[48+GetPlayerId(GetOwningPlayer(it))]=false
if(GetWidgetLife(it)<=.405)then
elseif((JVF==2)and(not SH7(it))and(not G0[32+GetPlayerId(GetOwningPlayer(it))])and(S47(it)))then
call IssueImmediateOrderById(it,851993)
elseif(JVF==3)then
if((not SH7(it))and(not G0[32+GetPlayerId(GetOwningPlayer(it))]))then
if S47(it)then
call T47(it,851983,h8[GetPlayerId(GetOwningPlayer(it))])
endif
else
call VA7(it,false)
endif
endif
endfunction
function VAF takes player VBF,player VCF,boolean V3F,string V6F returns nothing
if(V3F)then
call DisplayTimedTextToPlayer(VCF,0,0,10.,Q[GetPlayerId(VBF)]+GetPlayerName(VBF)+"|r has learned "+V6F)
else
call DisplayTimedTextToPlayer(VCF,0,0,10.,Q[GetPlayerId(VBF)]+GetPlayerName(VBF)+"|r didn't yet learn "+V6F)
endif
endfunction
function VLF takes player VCF,unit V1F,integer V0F,string V5F returns nothing
call DisplayTimedTextToPlayer(VCF,0,0,10.,"        - |c0000cc00"+GetAbilityName(V0F)+"|r "+V5F+"[|c00ffff00Level "+I2S(GetUnitAbilityLevel(V1F,V0F))+"|r]")
endfunction
function V2F takes player V_F,player W4F returns nothing
local integer iZ=GetPlayerId(V_F)
local unit it=M7[iZ]
local integer W7F
local integer W8F=0
local integer array W9F
local boolean array WDF
if(it==null)then
return
endif
set W9F[1]=eY[336+iZ]
if(GetUnitAbilityLevel(it,W9F[1])!=0)then
set WDF[1]=true
set W8F=W8F+1
else
set WDF[1]=false
endif
set W9F[2]=eY[352+iZ]
if(GetUnitAbilityLevel(it,W9F[2])!=0)then
set WDF[2]=true
set W8F=W8F+1
else
set WDF[2]=false
endif
set W9F[3]=eY[368+iZ]
if((GetUnitTypeId(it)==1311781199)or(GetUnitTypeId(it)==1311781171)or(GetUnitTypeId(it)==1311781172)or(GetUnitTypeId(it)==1311781173))then
set W9F[3]=1093681477
endif
if(GetUnitAbilityLevel(it,W9F[3])!=0)then
set WDF[3]=true
set W8F=W8F+1
else
set WDF[3]=false
endif
set W9F[4]=eY[172+iZ]
if(GetUnitAbilityLevel(it,W9F[4])!=0)then
set WDF[4]=true
set W8F=W8F+1
else
set WDF[4]=false
endif
set W9F[5]=eY[188+iZ]
if(GetUnitAbilityLevel(it,W9F[5])!=0)then
set WDF[5]=true
set W8F=W8F+1
else
set WDF[5]=false
endif
set W9F[6]=1096904043
if((GetUnitTypeId(it)==1315334514)or(GetUnitTypeId(it)==1328558160)or(GetUnitTypeId(it)==1311781199)or(GetUnitTypeId(it)==1311781171)or(GetUnitTypeId(it)==1311781172)or(GetUnitTypeId(it)==1311781173)or(GetUnitTypeId(it)==1214409837))then
set W9F[6]=1093684818
endif
if(GetUnitAbilityLevel(it,W9F[6])!=0)then
set WDF[6]=true
set W8F=W8F+1
else
set WDF[6]=false
endif
if(W8F==0)then
call VAF(V_F,W4F,false,"any skill!")
return
endif
if((W8F==1))then
call VAF(V_F,W4F,true,"the following skill:")
endif
if((W8F>1))then
call VAF(V_F,W4F,true,"the following skills:")
endif
set W7F=1
loop
if(WDF[W7F])then
if(GetUnitAbilityLevel(it,W9F[W7F])==1)then
call VLF(W4F,it,W9F[W7F],"")
else
call VLF(W4F,it,W9F[W7F],"up to ")
endif
endif
exitwhen W7F>2
set W7F=W7F+1
endloop
if(GetUnitAbilityLevel(it,W9F[4])>=GetUnitAbilityLevel(it,W9F[5]))then
if(WDF[4])then
if(GetUnitAbilityLevel(it,W9F[4])==1)then
call VLF(W4F,it,W9F[4],"")
else
call VLF(W4F,it,W9F[4],"up to ")
endif
endif
elseif(WDF[5])then
if(GetUnitAbilityLevel(it,W9F[5])==1)then
call VLF(W4F,it,W9F[5],"")
else
call VLF(W4F,it,W9F[5],"up to ")
endif
endif
if(WDF[6])then
if(GetUnitAbilityLevel(it,W9F[6])==1)then
call VLF(W4F,it,W9F[6],"")
else
call VLF(W4F,it,W9F[6],"up to ")
endif
endif
if((W8F<4))then
call VAF(V_F,W4F,false,"the following skills:")
endif
if((W8F==4))then
call VAF(V_F,W4F,false,"the following skill:")
endif
set W7F=1
loop
if(not(WDF[W7F]))then
call VLF(W4F,it,W9F[W7F],"")
endif
exitwhen W7F>2
set W7F=W7F+1
endloop
if((GetUnitAbilityLevel(it,W9F[4])==0)and(GetUnitAbilityLevel(it,W9F[5])==0))then
call VLF(W4F,it,W9F[4],"")
endif
if(not(WDF[6]))then
call VLF(W4F,it,W9F[6],"")
endif
set it=null
endfunction
function WEF takes string VH returns nothing
local player pl=null
local unit m5=null
local integer UP
local integer I9F=0
local integer kg
local boolean K4F=false
local string WFF=""
local group WGF=null
local integer i=0
if((SubString(VH,0,2)=="-o")or(SubString(VH,0,2)=="-c")or(SubString(VH,0,2)==" c"))then
set VH=SubString(VH,2,StringLength(VH))
else
return
endif
set EP7=null
if(VH=="tango")then
if(Bz<60.)then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,GetObjectName(1496330553))
set PY4=true
endif
elseif(VH=="flask")then
if(Bz<60.)then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,GetObjectName(1496330800))
set PY4=false
endif
elseif(VH=="ld")then
if(TZ4==false)then
set TZ4=true
else
set TZ4=false
endif
elseif(VH=="aen")then
if(GetTriggerPlayer()==QT4 and QU4==null)then
call ju(OM7(bj_mapInitialPlayableArea,Condition(function Y17)),function VTF)
set bj_lastLoadedUnit=JA4
set K4F=true
elseif(GetTriggerPlayer()==QU4 and QT4==null)then
call ju(OM7(bj_mapInitialPlayableArea,Condition(function YL7)),function VTF)
set bj_lastLoadedUnit=IZ4
set K4F=true
endif
set WFF=GetObjectName(1496330803)
elseif(VH=="den")then
if(GetTriggerPlayer()==QT4 and QU4==null)then
call ju(OM7(bj_mapInitialPlayableArea,Condition(function Y17)),function VWF)
set bj_lastLoadedUnit=JA4
set K4F=true
elseif(GetTriggerPlayer()==QU4 and QT4==null)then
call ju(OM7(bj_mapInitialPlayableArea,Condition(function YL7)),function VWF)
set bj_lastLoadedUnit=IZ4
set K4F=true
endif
set WFF=GetObjectName(1496330804)
elseif(VH=="sden")then
if(GetTriggerPlayer()==QT4 and QU4==null)then
call ju(OM7(bj_mapInitialPlayableArea,Condition(function Y17)),function VXF)
set bj_lastLoadedUnit=JA4
set K4F=true
elseif(GetTriggerPlayer()==QU4 and QT4==null)then
call ju(OM7(bj_mapInitialPlayableArea,Condition(function YL7)),function VXF)
set bj_lastLoadedUnit=IZ4
set K4F=true
endif
set WFF=GetObjectName(1496330806)
elseif(VH=="roshanen")then
if GetWidgetLife(V4)<.405 then
if(GetTriggerPlayer()==QT4)then
set bj_lastLoadedUnit=JA4
elseif(GetTriggerPlayer()==QU4)then
set bj_lastLoadedUnit=IZ4
endif
set K4F=true
set WFF=GetObjectName(1496330807)
else
if(GetTriggerPlayer()==QT4)then
call ju(OM7(bj_mapInitialPlayableArea,Condition(function Y17)),function VZF)
set bj_lastLoadedUnit=JA4
set K4F=true
elseif(GetTriggerPlayer()==QU4)then
call ju(OM7(bj_mapInitialPlayableArea,Condition(function YL7)),function VZF)
set bj_lastLoadedUnit=IZ4
set K4F=true
endif
set WFF=GetObjectName(1496330546)
endif
elseif(SubString(VH,0,7)=="itemfix")then
set VH=SubString(VH,7,StringLength(VH))
set EP7=CreateForce()
call ForceAddPlayer(EP7,GetTriggerPlayer())
loop
call TriggerSleepAction(0.)
set kg=kh(VH)
if(kg>=0)then
set pl=S87(SubString(VH,0,kg))
set VH=SubString(VH,kg+1,StringLength(VH))
else
set pl=S87(SubString(VH,0,StringLength(VH)))
endif
if((pl!=null)and(Z27(pl))and((IsPlayerAlly(pl,Z7[0])and(QT4==null or GetTriggerPlayer()==QT4))or(IsPlayerAlly(pl,A7[0])and(QU4==null or GetTriggerPlayer()==QU4))))then
set UP=GetPlayerId(pl)
if M7[UP]==null then
else
if GetWidgetLife(M7[UP])>.405 then
call VA7(M7[UP],true)
set hq[528+UP]=Bz+30.
call TX7(R44,"OB|U",M7[UP])
call ExecuteFunc("ICF")
if(eY[UP]>=9)then
set eY[UP]=1
endif
endif
set GZ[192+UP]=true
call VY7(M7[UP],EP7)
call VT7(M7[UP],EP7,"Fixing itembuild")
endif
endif
exitwhen kg<0
endloop
call DestroyForce(EP7)
elseif((VH=="neut")or(VH=="neu"))then
if(GetTriggerPlayer()==QT4)then
set bj_lastLoadedUnit=IZ4
set Gv=not Gv
if(Gv)then
set I9F=1
endif
else
set bj_lastLoadedUnit=JA4
set Gw=not Gw
if(Gw)then
set I9F=1
endif
endif
set K4F=true
set WFF=GetObjectName(1496330550)+PC7(I9F==1,GetObjectName(1496403790),GetObjectName(1498369862))
elseif(VH=="ui")then
call ExecuteFunc("WHF")
elseif(SubString(VH,0,2)=="sv")then
set VH=SubString(VH,2,StringLength(VH))
loop
call TriggerSleepAction(0.)
set kg=kh(VH)
if(kg>=0)then
set pl=S87(SubString(VH,0,kg))
set VH=SubString(VH,kg+1,StringLength(VH))
else
set pl=S87(SubString(VH,0,StringLength(VH)))
endif
if((pl!=null)and(Z27(pl)))then
call V2F(pl,GetTriggerPlayer())
endif
exitwhen kg<0
endloop
elseif(SubString(VH,0,1)=="b")then
set EP7=CreateForce()
call ForceAddPlayer(EP7,GetTriggerPlayer())
if VH=="b" then
set VH=PC7(IsPlayerAlly(GetTriggerPlayer(),Z7[0]),"1,2,3,4,5","6,7,8,9,0")
else
set VH=SubString(VH,1,StringLength(VH))
endif
loop
set kg=kh(VH)
if(kg>=0)then
set pl=S87(SubString(VH,0,kg))
set VH=SubString(VH,kg+1,StringLength(VH))
else
set pl=S87(SubString(VH,0,StringLength(VH)))
endif
set K4F=false
if((pl!=null)and(Z_7(pl))and(GetPlayerController(pl)==MAP_CONTROL_COMPUTER)and(IsPlayerAlly(pl,GetTriggerPlayer())))then
set K4F=true
set UP=GetPlayerId(pl)
if(M7[UP]==null)then
set K4F=false
elseif not SE7(M7[UP])then
set WFF=GetObjectName(1496330808)
else
call TX7(R44,"OB|U",M7[UP])
call ExecuteFunc("ICF")
if(eY[UP]>=9)then
set eY[UP]=1
endif
set WFF=GetObjectName(1496330291)
endif
endif
if K4F then
call VY7(M7[UP],EP7)
call VT7(M7[UP],EP7,WFF)
endif
exitwhen kg<0
endloop
set K4F=false
call DestroyForce(EP7)
elseif(SubString(VH,0,1)=="f")then
set EP7=CreateForce()
call ForceAddPlayer(EP7,GetTriggerPlayer())
if VH=="f" then
set VH=PC7(IsPlayerAlly(GetTriggerPlayer(),Z7[0]),"1,2,3,4,5","6,7,8,9,0")
else
set VH=SubString(VH,1,StringLength(VH))
endif
loop
set kg=kh(VH)
if(kg>=0)then
set pl=S87(SubString(VH,0,kg))
set VH=SubString(VH,kg+1,StringLength(VH))
else
set pl=S87(SubString(VH,0,StringLength(VH)))
endif
set K4F=false
if((pl!=null)and(Z_7(pl))and(GetPlayerController(pl)==MAP_CONTROL_COMPUTER)and(IsPlayerAlly(pl,GetTriggerPlayer())))then
set K4F=true
set UP=GetPlayerId(pl)
if(M7[UP]==null)then
set K4F=false
elseif not SE7(M7[UP])then
set WFF=GetObjectName(1496330808)
else
call VA7(M7[UP],true)
set hq[528+UP]=Bz+30.
call TX7(R44,"OB|U",M7[UP])
call ExecuteFunc("ICF")
if(eY[UP]>=9)then
set eY[UP]=1
endif
set WFF=GetObjectName(1496330290)
endif
endif
if K4F then
call VY7(M7[UP],EP7)
call VT7(M7[UP],EP7,WFF)
endif
exitwhen kg<0
endloop
set K4F=false
call DestroyForce(EP7)
elseif((SubString(VH,0,1)=="a")and(VH!="auto"))then
set EP7=CreateForce()
call ForceAddPlayer(EP7,GetTriggerPlayer())
if VH=="a" then
set VH=PC7(IsPlayerAlly(GetTriggerPlayer(),Z7[0]),"1,2,3,4,5","6,7,8,9,0")
else
set VH=SubString(VH,1,StringLength(VH))
endif
loop
set kg=kh(VH)
if(kg>=0)then
set pl=S87(SubString(VH,0,kg))
set VH=SubString(VH,kg+1,StringLength(VH))
else
set pl=S87(SubString(VH,0,StringLength(VH)))
endif
set K4F=false
if((pl!=null)and(Z_7(pl))and(GetPlayerController(pl)==MAP_CONTROL_COMPUTER)and(IsPlayerAlly(pl,GetTriggerPlayer())))then
set K4F=true
set UP=GetPlayerId(pl)
if(M7[UP]==null)then
set K4F=false
elseif not SE7(M7[UP])then
set WFF=GetObjectName(1496330808)
elseif SH7(M7[UP])then
set WFF=GetObjectName(1496330809)
else
call O4F(M7[UP])
set WFF=GetObjectName(1496330289)
endif
endif
if K4F then
call VY7(M7[UP],EP7)
call VT7(M7[UP],EP7,WFF)
endif
exitwhen kg<0
endloop
set K4F=false
call DestroyForce(EP7)
elseif(SubString(VH,0,1)=="d")then
set EP7=CreateForce()
call ForceAddPlayer(EP7,GetTriggerPlayer())
if VH=="d" then
set VH=PC7(IsPlayerAlly(GetTriggerPlayer(),Z7[0]),"1,2,3,4,5","6,7,8,9,0")
else
set VH=SubString(VH,1,StringLength(VH))
endif
loop
set kg=kh(VH)
if(kg>=0)then
set pl=S87(SubString(VH,0,kg))
set VH=SubString(VH,kg+1,StringLength(VH))
else
set pl=S87(SubString(VH,0,StringLength(VH)))
endif
set K4F=false
if((pl!=null)and(Z_7(pl))and(GetPlayerController(pl)==MAP_CONTROL_COMPUTER)and(IsPlayerAlly(pl,GetTriggerPlayer())))then
set UP=GetPlayerId(pl)
set K4F=true
if(M7[UP]==null)then
set K4F=false
elseif not SE7(M7[UP])then
set WFF=GetObjectName(1496330808)
elseif SH7(M7[UP])then
set WFF=GetObjectName(1496330809)
else
call VUF(M7[UP])
set WFF=GetObjectName(1496330804)
endif
endif
if K4F then
call VY7(M7[UP],EP7)
call VT7(M7[UP],EP7,WFF)
endif
exitwhen kg<0
endloop
set K4F=false
call DestroyForce(EP7)
elseif(SubString(VH,0,2)=="sd")then
set EP7=CreateForce()
call ForceAddPlayer(EP7,GetTriggerPlayer())
if VH=="sd" then
set VH=PC7(IsPlayerAlly(GetTriggerPlayer(),Z7[0]),"1,2,3,4,5","6,7,8,9,0")
else
set VH=SubString(VH,2,StringLength(VH))
endif
loop
set kg=kh(VH)
if(kg>=0)then
set pl=S87(SubString(VH,0,kg))
set VH=SubString(VH,kg+1,StringLength(VH))
else
set pl=S87(SubString(VH,0,StringLength(VH)))
endif
set K4F=false
if((pl!=null)and(Z_7(pl))and(GetPlayerController(pl)==MAP_CONTROL_COMPUTER)and(IsPlayerAlly(pl,GetTriggerPlayer())))then
set UP=GetPlayerId(pl)
set K4F=true
if(M7[UP]==null)then
set K4F=false
elseif not SE7(M7[UP])then
set WFF=GetObjectName(1496330808)
elseif SH7(M7[UP])then
set WFF=GetObjectName(1496330809)
else
call VVF(M7[UP])
set WFF=GetObjectName(1496330805)
endif
endif
if K4F then
call VY7(M7[UP],EP7)
call VT7(M7[UP],EP7,WFF)
endif
exitwhen kg<0
endloop
set K4F=false
call DestroyForce(EP7)
elseif(SubString(VH,0,6)=="roshan")then
if GetWidgetLife(V4)<.405 then
if(GetTriggerPlayer()==QT4)then
set bj_lastLoadedUnit=JA4
elseif(GetTriggerPlayer()==QU4)then
set bj_lastLoadedUnit=IZ4
endif
set K4F=true
set WFF=GetObjectName(1496330807)
else
set EP7=CreateForce()
call ForceAddPlayer(EP7,GetTriggerPlayer())
if VH=="roshan" then
set VH=PC7(IsPlayerAlly(GetTriggerPlayer(),Z7[0]),"1,2,3,4,5","6,7,8,9,0")
else
set VH=SubString(VH,6,StringLength(VH))
endif
loop
set kg=kh(VH)
if(kg>=0)then
set pl=S87(SubString(VH,0,kg))
set VH=SubString(VH,kg+1,StringLength(VH))
else
set pl=S87(SubString(VH,0,StringLength(VH)))
endif
set K4F=false
if((pl!=null)and(Z_7(pl))and(GetPlayerController(pl)==MAP_CONTROL_COMPUTER)and(IsPlayerAlly(pl,GetTriggerPlayer())))then
set UP=GetPlayerId(pl)
set K4F=true
if(M7[UP]==null)then
set K4F=false
elseif not SE7(M7[UP])then
set WFF=GetObjectName(1496330808)
elseif SH7(M7[UP])then
set WFF=GetObjectName(1496330809)
else
set eY[UP]=11
set h8[48+UP]=h7[250]
set WFF=GetObjectName(1496330546)
endif
if K4F then
call VY7(M7[UP],EP7)
call VT7(M7[UP],EP7,WFF)
endif
endif
exitwhen kg<0
endloop
set K4F=false
call DestroyForce(EP7)
endif
elseif(PE4)then
elseif(VH=="auto")then
if(GetTriggerPlayer()==QT4)then
set PZ4=(not PZ4)
set bj_lastLoadedUnit=IZ4
set WFF=GetObjectName(1496331831)+PC7(PZ4,GetObjectName(1496403790),GetObjectName(1498369862))
else
set PA4=(not PA4)
set bj_lastLoadedUnit=JA4
set WFF=GetObjectName(1496331831)+PC7(PA4,GetObjectName(1496403790),GetObjectName(1498369862))
endif
set K4F=true
elseif(VH=="p")then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,GetObjectName(1496332082)+"
"+GetObjectName(1497446194)+"
"+GetObjectName(1497517121)+"
"+F57+GetObjectName(1496332083)+"
"+F57+GetObjectName(1496332084)+"
"+F57+GetObjectName(1496332085)+"
"+F57+GetObjectName(1496332086))
elseif(VH=="pn")then
if(GetTriggerPlayer()==QT4)then
set G4=-1
set bj_lastLoadedUnit=IZ4
else
set G3=-1
set bj_lastLoadedUnit=JA4
endif
set K4F=true
set WFF=GetObjectName(1496332081)
elseif((VH=="pl")or(VH=="pr")or(VH=="pm"))then
if(VH=="pl")then
set I9F=1
elseif(VH=="pr")then
set I9F=2
else
set I9F=0
endif
if(GetTriggerPlayer()==QT4)then
set G4=I9F
call ju(OM7(bj_mapInitialPlayableArea,Condition(function YL7)),function VYF)
set bj_lastLoadedUnit=IZ4
else
set G3=I9F
call ju(OM7(bj_mapInitialPlayableArea,Condition(function Y17)),function VYF)
set bj_lastLoadedUnit=JA4
endif
set K4F=true
if(I9F==1)then
set WFF=GetObjectName(1496332087)
elseif(I9F==2)then
set WFF=GetObjectName(1496332088)
else
set WFF=GetObjectName(1496332089)
endif
elseif(SubString(VH,0,1)=="t")then
if VH!="t" then
set VH=SubString(VH,1,StringLength(VH))
set kg=kE(VH," ")
if kg==0 then
set VH=SubString(VH,1,StringLength(VH))
set kg=kE(VH," ")
endif
set bj_lastLoadedUnit=PV7(IsPlayerAlly(GetTriggerPlayer(),Z7[0]),IZ4,JA4)
if(kg>=0)then
set EI7=SubString(VH,kg+1,StringLength(VH))
if EI7=="0" then
set I9F=10
else
set I9F=S2I(EI7)
endif
set pl=S77(I9F)
set bj_forLoopAIndex=GetPlayerId(pl)
if(M7[bj_forLoopAIndex]==null)then
set WFF=GetObjectName(1496332336)
set I9F=0
elseif(not SE7(M7[bj_forLoopAIndex]))then
set WFF=GetObjectName(1496332337)
set I9F=0
set kg=0
elseif(not IsUnitVisible(M7[bj_forLoopAIndex],GetTriggerPlayer()))and(eY[32+bj_forLoopAIndex]<=2)then
set WFF=GetObjectName(1496332338)
set I9F=0
set kg=0
elseif(not IsPlayerEnemy(GetTriggerPlayer(),pl))then
set WFF=GetObjectName(1496332339)
set I9F=0
set kg=0
else
set VH=SubString(VH,0,kg+1)
set m5=M7[bj_forLoopAIndex]
endif
set K4F=(I9F==0)
else
set I9F=0
set VH="t"
endif
if(I9F>0)then
set I9F=RK7(m5)
set EP7=CreateForce()
call ForceAddPlayer(EP7,GetTriggerPlayer())
if SubString(VH,0,1)==" " then
set VH=SubString(VH,1,StringLength(VH))
endif
set kg=kh(VH)
if(kg==-1)then
set VH=SubString(VH,0,1)
if VH=="a" or VH=="x" then
set VH=PC7(IsPlayerAlly(GetTriggerPlayer(),Z7[0]),"1,2,3,4,5","6,7,8,9,0")
endif
endif
loop
set kg=kh(VH)
if(kg>=0)then
set pl=S87(SubString(VH,0,kg))
set VH=SubString(VH,kg+1,StringLength(VH))
else
set pl=S87(SubString(VH,0,StringLength(VH)))
endif
set K4F=false
if((pl!=null)and(Z_7(pl))and(GetPlayerController(pl)==MAP_CONTROL_COMPUTER)and(IsPlayerAlly(pl,GetTriggerPlayer())))then
set UP=GetPlayerId(pl)
set K4F=true
if(M7[UP]==null)then
set K4F=false
elseif not SE7(M7[UP])then
set WFF=GetObjectName(1496330808)
elseif SH7(M7[UP])then
set WFF=GetObjectName(1496330809)
elseif h4[UP]!=null and SH7(h4[UP])then
set WFF=GetObjectName(1496331056)
elseif((((I9F==1)and(RK7(M7[UP])==2))or((I9F==2)and(RK7(M7[UP])==1)))and RH7(M7[UP],TJ7(M7[UP]))>10000.)then
set WFF=GetObjectName(1496331057)
else
call CVE(M7[UP],false)
call JCF(M7[UP],m5)
set G0[160+UP]=true
set h4[144+UP]=m5
set WFF=GetObjectName(1496330295)+Q[GetPlayerId(GetOwningPlayer(m5))]+GetPlayerName(GetOwningPlayer(m5))+"|r"
endif
endif
if K4F then
call VY7(M7[UP],EP7)
call VT7(M7[UP],EP7,WFF)
endif
exitwhen kg<0
endloop
call DestroyForce(EP7)
set K4F=false
endif
endif
if VH=="t" then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,GetObjectName(1496332341)+"
"+GetObjectName(1497446453)+"
"+GetObjectName(1497511989)+"
"+"
"+F57+GetObjectName(1496332342)+"
"+F57+GetObjectName(1496332343)+"
")
endif
elseif(VH=="g")then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,GetObjectName(1496332344)+"
"+GetObjectName(1497446456)+"
"+GetObjectName(1497511992)+"
"+"
"+F57+GetObjectName(1496332345)+"
"+F57+GetObjectName(1496332592)+"
"+F57+GetObjectName(1496332593)+"
")
elseif((SubString(VH,0,2)=="gl")or(SubString(VH,0,2)=="gr")or(SubString(VH,0,2)=="gm"))then
set EP7=CreateForce()
call ForceAddPlayer(EP7,GetTriggerPlayer())
if(SubString(VH,0,2)=="gl")then
set I9F=1
elseif(SubString(VH,0,2)=="gr")then
set I9F=2
else
set I9F=0
endif
set VH=SubString(VH,2,StringLength(VH))
set WGF=CreateGroup()
set i=1
loop
exitwhen i>5
if IsPlayerAlly(GetTriggerPlayer(),Z7[0])then
set pl=Z7[i]
else
set pl=A7[i]
endif
set UP=GetPlayerId(pl)
if(Z27(pl)and M7[UP]!=null and SE7(M7[UP])and SH7(M7[UP])==false and RK7(M7[UP])==0)then
call GroupAddUnit(WGF,M7[UP])
endif
set i=i+1
endloop
loop
set kg=kh(VH)
if(kg>=0)then
set pl=S87(SubString(VH,0,kg))
set VH=SubString(VH,kg+1,StringLength(VH))
else
set pl=S87(SubString(VH,0,StringLength(VH)))
endif
set K4F=false
if((pl!=null)and(Z27(pl))and(IsPlayerAlly(pl,GetTriggerPlayer())))then
set UP=GetPlayerId(pl)
set K4F=true
if M7[UP]==null then
set K4F=false
elseif not SE7(M7[UP])then
set WFF=GetObjectName(1496330808)
elseif SH7(M7[UP])then
set WFF=GetObjectName(1496330809)
elseif h4[UP]!=null and SH7(h4[UP])then
set WFF=GetObjectName(1496331056)
else
set G0[64+UP]=true
set h4[UP]=null
call CVE(M7[UP],false)
if(I9F==RK7(M7[UP]))then
set I9F=-1
elseif((((I9F==1)and(RK7(M7[UP])==2))or((I9F==2)and(RK7(M7[UP])==1)))and RH7(M7[UP],TJ7(M7[UP]))>10000.)then
if(eY[224+UP]<R2I(Bz))then
if(I9F==1)then
set eY[208+UP]=PZ7(GetTriggerPlayer()==QT4,29+P_4,139-P_4)
elseif(I9F==2)then
set eY[208+UP]=PZ7(GetTriggerPlayer()==QT4,49+Q44,159-Q44)
endif
else
set I9F=10+I9F
call JBF(M7[UP],PV7(GetTriggerPlayer()==QT4,h7[9+P24],h7[117-P24]))
endif
elseif(I9F==1)then
call JBF(M7[UP],PV7(GetTriggerPlayer()==QT4,h7[29+P_4],h7[139-P_4]))
elseif(I9F==2)then
call JBF(M7[UP],PV7(GetTriggerPlayer()==QT4,h7[49+Q44],h7[159-Q44]))
else
call JBF(M7[UP],PV7(GetTriggerPlayer()==QT4,h7[9+P24],h7[117-P24]))
endif
set G0[160+UP]=true
set hq[320+UP]=Bz+45.
if(I9F==1)then
set WFF=GetObjectName(1496331060)
elseif(I9F==2)then
set WFF=GetObjectName(1496331061)
elseif(I9F==11)then
set WFF=GetObjectName(1496331062)
elseif(I9F==12)then
set WFF=GetObjectName(1496331063)
elseif(I9F==-1)then
set WFF=GetObjectName(1496331059)
else
set WFF=GetObjectName(1496331058)
endif
endif
endif
if K4F then
call VY7(M7[UP],EP7)
call VT7(M7[UP],EP7,WFF)
endif
if(I9F>10)then
set I9F=I9F-10
set bj_lastLoadedUnit=FirstOfGroup(WGF)
if bj_lastLoadedUnit!=null then
call GroupRemoveUnit(WGF,bj_lastLoadedUnit)
set UP=GetPlayerId(GetOwningPlayer(bj_lastLoadedUnit))
if(I9F==1)then
call JBF(M7[UP],PV7(GetTriggerPlayer()==QT4,h7[29+P_4],h7[139-P_4]))
call VY7(M7[UP],EP7)
call VT7(M7[UP],EP7,GetObjectName(1496330552))
elseif(I9F==2)then
call JBF(M7[UP],PV7(GetTriggerPlayer()==QT4,h7[49+Q44],h7[159-Q44]))
call VY7(M7[UP],EP7)
call VT7(M7[UP],EP7,GetObjectName(1496330551))
endif
endif
endif
exitwhen kg<0
endloop
call DestroyForce(EP7)
call DestroyGroup(WGF)
set K4F=false
endif
if K4F and WFF!="" then
call V97(bj_lastLoadedUnit,WFF,GetTriggerPlayer())
endif
call DestroyForce(EP7)
set pl=null
set m5=null
set EP7=null
set WGF=null
endfunction
function WIF takes nothing returns nothing
if(GetEventPlayerChatString()==" ")then
call WEF("-oui")
else
call WEF(GetEventPlayerChatString())
endif
endfunction
function WJF takes unit PI7 returns integer
local integer i1=GetUnitTypeId(PI7)
if i1==1211117643 then
return 0
endif
if(i1==1212363833 or i1==1212365106 or(i1==1311781199 or i1==1311781171 or i1==1311781172 or i1==1311781173)or i1==1315070563 or i1==1215657064 or i1==1332179560 or i1==1160785973 or((i1==1311781174)or(i1==1311781175)or(i1==1311781442))or i1==1315074670 or((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517))or i1==1429221430 or i1==1165451634 or i1==1160785972 or i1==1162032181 or i1==1162032951 or i1==1315334514 or i1==1215722344 or i1==1160786242 or i1==1211117641 or i1==1211119409)then
return 0+GetHeroLevel(PI7)/5
endif
if(i1==1215723364 or i1==1328558160 or i1==1211117617 or i1==1212363833 or i1==1212365106 or i1==1311781199 or i1==1315070563 or i1==1215657064 or i1==1332179560 or i1==1160785973 or i1==1433631084 or i1==1211117624 or i1==1315007329 or i1==1215063922 or i1==1164207469 or i1==1315074670 or i1==1211117636 or i1==1311781206 or i1==1211117649 or i1==1160786265 or i1==1211117652 or i1==1211119187 or((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517))or i1==1162032439 or i1==1430466865 or i1==1429221441 or i1==1429221432 or i1==1429221430 or((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))or i1==1432646245 or i1==1430467634 or i1==1429221424 or i1==1430468913 or i1==1162032181 or i1==1162032951 or i1==1160785970 or i1==1429221443 or i1==1328558154 or i1==1432510828 or i1==1315334514 or i1==1429221451 or i1==1215722344 or i1==1160786242 or i1==1211117641 or i1==1211119409 or i1==1160786505 or i1==1160786510 or i1==1311788336 or i1==1160786507)then
return 3
endif
if(i1==1211117617 or i1==1214344551 or(i1==1432580716 or i1==1429221720)or i1==1211117624 or i1==1315988077 or i1==1211117616 or i1==1215063922 or i1==1311781193 or i1==1211119187 or i1==1430466865 or i1==1429221441 or i1==1429221432 or i1==1313026096 or i1==1429221443 or i1==1332109682 or i1==1429221446 or i1==1332766568 or i1==1432642913 or i1==1211117650 or i1==1328558389 or i1==1328558406 or i1==1160786502 or i1==1160786738)then
return 2
endif
if(i1==1164799855 or i1==1333027688 or i1==1311781185 or i1==1433105516 or((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))or i1==1215130471 or i1==1164799603 or i1==1432580716 or i1==1211117633 or i1==1332898670 or i1==1214345830 or i1==1160786000 or i1==1311780930 or i1==1311786311 or i1==1430466872 or i1==1430468144 or i1==1430466609 or i1==1211117640 or i1==1332963428 or i1==1429221445 or i1==1160786241 or i1==1429221456 or i1==1160786243 or i1==1311781207 or i1==1311780946 or i1==1211117646 or i1==1211117653 or i1==1311787088 or i1==1328558390 or i1==1160786506 or i1==1160786504 or i1==1211122767)then
return 3
endif
if(i1==1215128178 or i1==1164799855 or i1==1214931305 or i1==1211117620 or i1==1215130471 or i1==1316252014 or i1==1160786000 or i1==1211117651 or i1==1164666213 or i1==1433168227 or i1==1430468406 or i1==1430466872 or i1==1211117640 or i1==1332963428 or i1==1160786241 or i1==1429221456 or i1==1211117653 or i1==1160786520)then
return 3
endif
return 0
endfunction
function WKF takes unit PI7 returns integer
local integer i1=GetUnitTypeId(PI7)
if(i1==1212363833 or i1==1212365106 or(i1==1311781199 or i1==1311781171 or i1==1311781172 or i1==1311781173)or i1==1315070563 or i1==1215657064 or i1==1332179560 or i1==1160785973 or((i1==1311781174)or(i1==1311781175)or(i1==1311781442))or i1==1315074670 or((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517))or i1==1429221430 or i1==1165451634 or i1==1160785972 or i1==1162032181 or i1==1162032951 or i1==1315334514 or i1==1215722344 or i1==1160786242 or i1==1211117641 or i1==1211119409)then
return 3
endif
if(i1==1215723364 or i1==1328558160 or i1==1211117617 or i1==1212363833 or i1==1212365106 or i1==1311781199 or i1==1315070563 or i1==1215657064 or i1==1332179560 or i1==1160785973 or i1==1433631084 or i1==1211117624 or i1==1315007329 or i1==1215063922 or i1==1164207469 or i1==1315074670 or i1==1211117636 or i1==1311781206 or i1==1211117649 or i1==1160786265 or i1==1211117652 or i1==1211119187 or((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517))or i1==1162032439 or i1==1430466865 or i1==1429221441 or i1==1429221432 or i1==1429221430 or((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))or i1==1432646245 or i1==1430467634 or i1==1429221424 or i1==1430468913 or i1==1162032181 or i1==1162032951 or i1==1160785970 or i1==1429221443 or i1==1328558154 or i1==1432510828 or i1==1315334514 or i1==1429221451 or i1==1215722344 or i1==1160786242 or i1==1211117641 or i1==1211119409 or i1==1160786505 or i1==1160786510 or i1==1311788336)then
return 2
endif
if(i1==1211117617 or i1==1214344551 or(i1==1432580716 or i1==1429221720)or i1==1211117624 or i1==1315988077 or i1==1211117616 or i1==1215063922 or i1==1311781193 or i1==1211119187 or i1==1430466865 or i1==1429221441 or i1==1429221432 or i1==1313026096 or i1==1429221443 or i1==1332109682 or i1==1429221446 or i1==1332766568 or i1==1432642913 or i1==1211117650 or i1==1328558389 or i1==1328558406 or i1==1160786502 or i1==1160786507 or i1==1160786738)then
return 1
endif
if(i1==1164799855 or i1==1333027688 or i1==1311781185 or i1==1433105516 or((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))or i1==1215130471 or i1==1164799603 or(i1==1432580716 or i1==1429221720)or i1==1211117633 or i1==1332898670 or i1==1214345830 or i1==1160786000 or i1==1311780930 or i1==1311786311 or i1==1430466872 or i1==1430468144 or i1==1430466609 or i1==1211117640 or i1==1332963428 or i1==1429221445 or i1==1160786241 or i1==1429221456 or i1==1160786243 or i1==1311781207 or i1==1311780946 or i1==1211117646 or i1==1211117653 or i1==1311787088 or i1==1328558390 or i1==1160786506 or i1==1160786504 or i1==1211122767)then
return 1
endif
if(i1==1215128178 or i1==1164799855 or i1==1214931305 or i1==1211117620 or i1==1215130471 or i1==1316252014 or i1==1211117643 or i1==1160786000 or i1==1211117651 or i1==1164666213 or i1==1433168227 or i1==1430468406 or i1==1430466872 or i1==1211117640 or i1==1332963428 or i1==1160786241 or i1==1429221456 or i1==1211117653 or i1==1160786520)then
return 2
endif
return 1
endfunction
function WMF takes boolean QC7 returns nothing
local integer O5=0
local integer i=1
if QC7 then
set EP7=X7
else
set EP7=Y7
endif
set i=1
loop
exitwhen i>5
if QC7 then
set O5=GetPlayerId(Z7[i])
else
set O5=GetPlayerId(A7[i])
endif
if M7[O5]!=null and GetUnitLifePercent(M7[O5])>50 and Z27(Player(O5))and eY[O5]!=11 then
call VY7(M7[O5],EP7)
call VT7(M7[O5],EP7,GetObjectName(1496330546))
set eY[O5]=11
set h8[48+O5]=h7[250]
endif
set i=i+1
endloop
set EP7=null
endfunction
function WNF takes nothing returns nothing
local integer O5=0
local integer V37=0
local integer i
local integer EAF=-1
local integer j
local integer k
local integer WOF
local integer WPF
local boolean WQF=false
local boolean WRF=false
local boolean QC7
local real WSF=0
local real WTF=0
set k=0
set i=1
loop
exitwhen i>5
set O5=GetPlayerId(Z7[i])
if(M7[O5]!=null)then
if GetHeroLevel(M7[O5])>=6 then
set WQF=true
endif
if(GetHeroLevel(M7[O5])>11 and GetUnitLifePercent(M7[O5])>50)then
set WSF=WSF+EG7
endif
endif
set O5=GetPlayerId(A7[i])
if(M7[O5]!=null)then
if GetHeroLevel(M7[O5])>=6 then
set WRF=true
endif
if(GetHeroLevel(M7[O5])>11 and GetUnitLifePercent(M7[O5])>50)then
set WTF=WTF+EH7
endif
endif
set i=i+1
endloop
set i=1
loop
exitwhen i>5
set O5=GetPlayerId(Z7[i])
if(eY[O5]==9 and eY[272+O5]!=0)then
set WQF=false
endif
if(M7[O5]!=null and(GetUnitLifePercent(M7[O5])>10))then
set WTF=WTF-EG7
endif
set O5=GetPlayerId(A7[i])
if(eY[O5]==9 and eY[272+O5]!=0)then
set WRF=false
endif
if(M7[O5]!=null and(GetUnitLifePercent(M7[O5])>10))then
set WSF=WSF-EH7
endif
set i=i+1
endloop
if(not WQF)and(not WRF)then
return
endif
if GetWidgetLife(V4)>.405 then
if(WSF>=3 and(P24>4 and P_4>5 and Q44>5))then
call WMF(true)
endif
if(WSF>=3 and(P24<4 and P_4<5 and Q44<5))then
call WMF(false)
endif
endif
set i=0
set k=0
if WRF then
set i=i+HB4
set bj_forLoopAIndex=1
else
set bj_forLoopAIndex=6
endif
if WQF then
set i=i+HC4
set bj_forLoopAIndexEnd=10
else
set bj_forLoopAIndexEnd=5
endif
set V37=-1
loop
exitwhen((bj_forLoopAIndex>bj_forLoopAIndexEnd)or(V37!=-1))
set O5=GetPlayerId(S77(bj_forLoopAIndex))
set QC7=(bj_forLoopAIndex<6)
if(M7[O5]!=null)then
if((GetWidgetLife(M7[O5])>.405)and(not SH7(M7[O5])))then
call GroupClear(H8)
set bj_lastLoadedUnit=M7[O5]
set j=GetUnitUserData(h8[80+O5])
if((V37==-1)and(SS7(1200.,M7[O5],Condition(function WZ7))<=1)and(S97(M7[O5]))and((GetRandomInt(1,i)==1)and(GetRandomInt(1,10)<=7+WKF(M7[O5]))))then
if((j>11 and j<17)or(j==11 and QC7==false)or(j==17 and QC7)or(j>11 and j<17)or(j==11 and QC7==false)or(j==17 and QC7)or(j>31 and j<39)or(j==31 and QC7==false)or(j==39 and QC7)or(j>11 and j<17)or(j==11 and QC7==false)or(j==17 and QC7)or(j>51 and j<59)or(j==51 and QC7==false)or(j==59 and QC7))then
set V37=O5
endif
endif
endif
set i=i-1
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if V37!=-1 then
set WPF=RK7(M7[V37])
if(WPF==0 and PG4)or(WPF==1 and PH4)or(WPF==2 and PF4)or(WPF!=0 and PE4)then
return
endif
set bj_forLoopAIndex=1
set i=PZ7(QC7,HC4,HB4)
set j=0
set k=0
loop
exitwhen((bj_forLoopAIndex>10)or(eY[320+V37]+j+k>E57 and k!=0))
if bj_forLoopAIndex==6 then
set i=PZ7(QC7,HC4,HB4)
endif
if bj_forLoopAIndex<=5 then
if QC7 then
set O5=GetPlayerId(A7[bj_forLoopAIndex])
else
set O5=GetPlayerId(Z7[bj_forLoopAIndex])
endif
else
if QC7 then
set O5=GetPlayerId(A7[bj_forLoopAIndex-5])
else
set O5=GetPlayerId(Z7[bj_forLoopAIndex-5])
endif
endif
if(M7[O5]!=null)then
if(GetUnitLifePercent(M7[O5])>70)and(GetUnitManaPercent(M7[O5])>50. and GetUnitState(M7[O5],UNIT_STATE_MANA)>200)then
set WOF=RK7(M7[O5])
if(WOF==WPF)and(bj_forLoopAIndex<=5)then
set j=j+1
if(Z27(Player(O5)))and((EAF==-1)or(GetRandomInt(1,3)<=WJF(M7[O5])))then
set EAF=O5
endif
elseif((WOF!=WPF)and((WPF==0)or(WOF==0)))and(eY[272+O5]!=-1)then
if((Z27(Player(O5)))and(GetHeroLevel(M7[O5])>=6)and(eY[O5]==1)and(h4[O5]==null)and(Bz>hq[320+O5])and(Bz>hq[480+O5])and(Bz>hq[528+O5])and(Bz>hq[576+O5])and(eY[544+O5]==0)and(Bz>hq[848+O5]))then
if(GetRandomInt(1,3)<=WJF(M7[O5]))and((GetRandomInt(1,i)<=2)or(bj_forLoopAIndex>5))then
set k=k+1
set eY[272+O5]=-1
else
endif
endif
endif
endif
set i=i-1
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if(h4[304+V37]!=null)then
set k=k-1
endif
if(j>2)then
set EAF=-1
endif
if(k>eY[320+V37]+E57)then
if QC7 then
set EP7=Y7
else
set EP7=X7
endif
set O5=1
if k==0 and EAF!=-1 then
set O5=EAF
endif
loop
if(eY[272+O5]==-1)or((O5==EAF)and(k==0))then
call VY7(M7[O5],EP7)
call VT7(M7[O5],EP7,GetObjectName(1496330295)+Q[V37]+GetUnitName(M7[V37])+"|r")
call JCF(M7[O5],M7[V37])
endif
set O5=O5+1
exitwhen(O5>11)or(k==0)
endloop
set E07=GetRandomInt(0,2)
endif
set O5=1
loop
exitwhen O5>11
if eY[272+O5]==-1 then
set eY[272+O5]=0
endif
set O5=O5+1
endloop
endif
set EP7=null
endfunction
function WUF takes nothing returns nothing
local button WVF=GetClickedButton()
local integer ki=GetHandleId(GetTriggeringTrigger())
local string VH=UT7(ki,"PlHost")
local string kf=UT7(ki,"Oid")
local integer UP=0
if(GetTriggerPlayer()!=QT4)then
set UP=5
endif
if(WVF==UU7(R44,VH+"|Btn11"))then
call WEF(kf+" "+I2S(1+UP))
elseif(WVF==UU7(R44,VH+"|Btn12"))then
call WEF(kf+" "+I2S(2+UP))
elseif(WVF==UU7(R44,VH+"|Btn13"))then
call WEF(kf+" "+I2S(3+UP))
elseif(WVF==UU7(R44,VH+"|Btn14"))then
call WEF(kf+" "+I2S(4+UP))
elseif(WVF==UU7(R44,VH+"|Btn15"))then
call WEF(kf+" "+I2S(5+UP))
elseif(WVF==UU7(R44,VH+"|Btn1A"))then
call WEF(kf)
endif
call TQ7(ki)
call DestroyTrigger(GetTriggeringTrigger())
call DialogDestroy(GetClickedDialog())
set WVF=null
endfunction
function WWF takes string ki,boolean J4 returns nothing
local dialog WXF=DialogCreate()
local trigger t=CreateTrigger()
local string VH=""
local integer O5=1
if(GetTriggerPlayer()==QT4)then
set VH="Sent"
else
set VH="Scrg"
endif
call DialogSetMessage(WXF,GetObjectName(1496331827))
loop
if(IsPlayerInForce(TN7(O5,GetTriggerPlayer()==QT4),QX4))then
call U47(R44,VH+"|Btn1"+I2S(O5),DialogAddButton(WXF,GetPlayerName(TN7(O5,GetTriggerPlayer()==QT4)),0))
endif
set O5=O5+1
exitwhen O5>5
endloop
if(J4)then
call U47(R44,VH+"|Btn1A",DialogAddButton(WXF,GetObjectName(1496331826),0))
endif
call U47(R44,VH+"|Btn1X",DialogAddButton(WXF,GetObjectName(1496331568),0))
call TV7(GetHandleId(t),"PlHost",VH)
call TV7(GetHandleId(t),"Oid",ki)
call TriggerRegisterDialogEvent(t,WXF)
call TriggerAddAction(t,function WUF)
call DialogDisplay(GetTriggerPlayer(),WXF,true)
set t=null
endfunction
function WYF takes nothing returns nothing
local button WVF=GetClickedButton()
local integer ki=GetHandleId(GetTriggeringTrigger())
local string VH=UT7(ki,"PlHost")
local string kf=UT7(ki,"Oid")
if(WVF==UU7(R44,VH+"|Btn21"))then
call WWF(kf+"l",false)
elseif(WVF==UU7(R44,VH+"|Btn22"))then
call WWF(kf+"r",false)
elseif(WVF==UU7(R44,VH+"|Btn23"))then
call WWF(kf+"m",false)
elseif(WVF==UU7(R44,VH+"|Btn21X"))then
call WEF(kf+"l")
elseif(WVF==UU7(R44,VH+"|Btn22X"))then
call WEF(kf+"r")
elseif(WVF==UU7(R44,VH+"|Btn23X"))then
call WEF(kf+"m")
elseif(WVF==UU7(R44,VH+"|Btn24"))then
call WEF(kf+"n")
endif
call TQ7(ki)
call DestroyTrigger(GetTriggeringTrigger())
call DialogDestroy(GetClickedDialog())
set WVF=null
endfunction
function WZF takes string ki,boolean J4 returns nothing
local dialog WXF=DialogCreate()
local trigger t=CreateTrigger()
local string VH=""
local string kf=""
local string WAF=""
if(J4)then
set WAF="X"
endif
if(GetTriggerPlayer()==QT4)then
set VH="Sent"
else
set VH="Scrg"
endif
call DialogSetMessage(WXF,GetObjectName(1496331569))
call U47(R44,VH+"|Btn21"+WAF,DialogAddButton(WXF,GetObjectName(1496331571),0))
call U47(R44,VH+"|Btn22"+WAF,DialogAddButton(WXF,GetObjectName(1496331570),0))
call U47(R44,VH+"|Btn23"+WAF,DialogAddButton(WXF,GetObjectName(1496331572),0))
if(J4)then
call U47(R44,VH+"|Btn24",DialogAddButton(WXF,GetObjectName(1496331573),0))
endif
call DialogAddButton(WXF,GetObjectName(1496331568),0)
call TV7(GetHandleId(t),"PlHost",VH)
call TV7(GetHandleId(t),"Oid",ki)
call TriggerRegisterDialogEvent(t,WXF)
call TriggerAddAction(t,function WYF)
call DialogDisplay(GetTriggerPlayer(),WXF,true)
set t=null
endfunction
function WBF takes nothing returns nothing
local button WVF=GetClickedButton()
local integer ki=GetHandleId(GetTriggeringTrigger())
local string VH=UT7(ki,"PlHost")
if(WVF==UU7(R44,VH+"|Btn61"))then
call WWF("-osd",true)
elseif(WVF==UU7(R44,VH+"|Btn62"))then
call WWF("-oroshan",true)
elseif(WVF==UU7(R44,VH+"|Btn63"))then
call WEF("-oneut")
elseif(WVF==UU7(R44,VH+"|Btn64"))then
call WEF("-oauto")
endif
call TQ7(ki)
call DestroyTrigger(GetTriggeringTrigger())
call DialogDestroy(GetClickedDialog())
set WVF=null
endfunction
function WCF takes nothing returns nothing
local dialog WXF=DialogCreate()
local trigger t=CreateTrigger()
local string VH=""
if(GetTriggerPlayer()==QT4)then
set VH="Sent"
else
set VH="Scrg"
endif
call DialogSetMessage(WXF,GetObjectName(1496331315))
call U47(R44,VH+"|Btn61",DialogAddButton(WXF,GetObjectName(1496331574),0))
call U47(R44,VH+"|Btn62",DialogAddButton(WXF,GetObjectName(1496331575),0))
if(((GetTriggerPlayer()==QT4)and(Gv))or((GetTriggerPlayer()==QU4)and(Gw)))then
call U47(R44,VH+"|Btn63",DialogAddButton(WXF,GetObjectName(1496331576),0))
else
call U47(R44,VH+"|Btn63",DialogAddButton(WXF,GetObjectName(1496331577),0))
endif
if(PE4)then
elseif(((GetTriggerPlayer()==QT4)and(PZ4))or((GetTriggerPlayer()==QU4)and(PA4)))then
call U47(R44,VH+"|Btn64",DialogAddButton(WXF,GetObjectName(1496331824),0))
else
call U47(R44,VH+"|Btn64",DialogAddButton(WXF,GetObjectName(1496331825),0))
endif
call DialogAddButton(WXF,GetObjectName(1496331568),0)
call TV7(GetHandleId(t),"PlHost",VH)
call TriggerRegisterDialogEvent(t,WXF)
call TriggerAddAction(t,function WBF)
call DialogDisplay(GetTriggerPlayer(),WXF,true)
set t=null
endfunction
function W3F takes nothing returns nothing
local button WVF=GetClickedButton()
local integer ki=GetHandleId(GetTriggeringTrigger())
local string VH=UT7(ki,"PlHost")
if(WVF==UU7(R44,VH+"|Btn01"))then
call WWF("-oa",true)
elseif(WVF==UU7(R44,VH+"|Btn02"))then
call WWF("-od",true)
elseif(WVF==UU7(R44,VH+"|Btn03"))then
call WWF("-ob",false)
elseif(WVF==UU7(R44,VH+"|Btn04"))then
call WWF("-of",false)
elseif(WVF==UU7(R44,VH+"|Btn05"))then
call WZF("-og",false)
elseif(WVF==UU7(R44,VH+"|Btn06"))then
call WZF("-op",true)
elseif(WVF==UU7(R44,VH+"|Btn07"))then
call WCF()
endif
call TQ7(ki)
call DestroyTrigger(GetTriggeringTrigger())
call DialogDestroy(GetClickedDialog())
set WVF=null
endfunction
function WHF takes nothing returns nothing
local dialog WXF=DialogCreate()
local trigger t=CreateTrigger()
local string VH=""
if(GetTriggerPlayer()==QT4)then
set VH="Sent"
else
set VH="Scrg"
endif
call DialogSetMessage(WXF,GetObjectName(1496331315))
call U47(R44,VH+"|Btn01",DialogAddButton(WXF,GetObjectName(1496331316),0))
call U47(R44,VH+"|Btn02",DialogAddButton(WXF,GetObjectName(1496331317),0))
call U47(R44,VH+"|Btn03",DialogAddButton(WXF,GetObjectName(1496331318),0))
call U47(R44,VH+"|Btn04",DialogAddButton(WXF,GetObjectName(1496331319),0))
if(not PE4)then
call U47(R44,VH+"|Btn05",DialogAddButton(WXF,GetObjectName(1496331320),0))
call U47(R44,VH+"|Btn06",DialogAddButton(WXF,GetObjectName(1496332340),0))
endif
call U47(R44,VH+"|Btn07",DialogAddButton(WXF,GetObjectName(1496331321),0))
call DialogAddButton(WXF,GetObjectName(1496331568),0)
call TV7(GetHandleId(t),"PlHost",VH)
call TriggerRegisterDialogEvent(t,WXF)
call TriggerAddAction(t,function W3F)
call DialogDisplay(GetTriggerPlayer(),WXF,true)
set t=null
endfunction
function W6F takes nothing returns nothing
local integer WLF
local integer PSF
local integer ISF
local integer W1F=1
local location W0F=null
local location W5F=null
local string W2F=""
local string W_F=""
if(Bz<150.)then
set WLF=0
elseif(Bz<1200.)then
set WLF=GetRandomInt(1,2)
else
set WLF=GetRandomInt(1,3)
endif
if(WLF==0)then
return
elseif(WLF==1)then
set PSF=1848651827
set W2F="Siege Golems"
elseif(WLF==2)then
set PSF=1848651845
set W2F="Scary Fish"
else
set PSF=1848651844
set W2F="Ancient Hydras"
endif
if(Bz>2400.)then
set W1F=W1F+1
endif
if PE4 then
set ISF=3
else
set ISF=GetRandomInt(2,4)
endif
if(ISF==2)then
set W0F=Wv
set W5F=qv
set W_F="west"
elseif(ISF==3)then
set W0F=Tv
set W5F=mv
set W_F="middle"
elseif(ISF==4)then
set W0F=Uv
set W5F=pv
set W_F="east"
endif
call CreateNUnitsAtLoc(W1F,PSF,Z7[0],W0F,bj_UNIT_FACING)
call IN9(bj_lastCreatedGroup,ISF)
call CreateNUnitsAtLoc(W1F,PSF,A7[0],W5F,bj_UNIT_FACING)
call IN9(bj_lastCreatedGroup,ISF)
call BL7(bj_FORCE_ALL_PLAYERS,10.,"|c000000ff"+W2F+"|r spawned in the "+W_F+" path!")
set W0F=null
set W5F=null
endfunction
function X4F takes boolean O6,string VH,integer X7F returns nothing
local integer X8F=0
local integer X9F=0
local integer XDF=0
local boolean XEF=false
local boolean XFF=false
local integer O5=1
local integer i1
local player pl
loop
set pl=TN7(O5,not O6)
if((Z_7(pl))and(M7[GetPlayerId(pl)]!=null))then
set i1=GetUnitTypeId(M7[GetPlayerId(pl)])
if((i1==1211117643)or(i1==1212365106)or(i1==1211119409))then
set XFF=true
elseif((i1==1315007329)or(i1==1160785972)or(i1==1429221424)or(i1==1332179560)or(i1==1311781206)or(i1==1429221430)or(i1==1214344551))then
set XEF=true
endif
if(IsUnitType(M7[GetPlayerId(pl)],UNIT_TYPE_MELEE_ATTACKER))then
set X8F=X8F+1
endif
if(QV7(i1,F87))then
set X9F=X9F+1
endif
if(QT7(i1)<=2)then
set XDF=XDF+1
endif
endif
set O5=O5+1
exitwhen O5>5
endloop
if(XFF)then
call TW7(R44,VH+"|G",true)
call TW7(R44,VH+"|W",true)
elseif(XEF)then
call TW7(R44,VH+"|W",true)
endif
if(X8F!=0)and((X8F==X7F)or((X7F>3)and(X8F>=3)))then
call TW7(R44,VH+"|M",true)
endif
if(X9F!=0)and((X9F==X7F)or((X7F>3)and(X9F>=3)))then
call TW7(R44,VH+"|X",true)
endif
if(X7F>3 and X9F<=2)or(X7F<=3 and X9F<X7F)then
call TW7(R44,VH+"|Xb",true)
endif
if(XDF!=0)and((XDF==X7F)or((X7F>3)and(XDF>=3)))then
call TW7(R44,VH+"|D",true)
endif
set pl=null
endfunction
function XGF takes nothing returns nothing
call DestroyTrigger(GetTriggeringTrigger())
call X4F(true,"Sent",HC4)
call X4F(false,"Scrg",HB4)
endfunction
function XHF takes player pl returns nothing
if((LT))then
elseif(Z84[GetPlayerId(pl)]==ZD4)then
if(not BT)then
call SetPlayerHandicapXPBJ(pl,(GetPlayerHandicapXPBJ(pl)+20.))
else
call SetPlayerHandicapXPBJ(pl,(GetPlayerHandicapXPBJ(pl)+40.))
endif
elseif(Z84[GetPlayerId(pl)]==ZE4)then
if(not BT)then
call SetPlayerHandicapXPBJ(pl,(GetPlayerHandicapXPBJ(pl)+45.))
else
call SetPlayerHandicapXPBJ(pl,(GetPlayerHandicapXPBJ(pl)+70.))
endif
else
if(not BT)then
call SetPlayerHandicapXPBJ(pl,(GetPlayerHandicapXPBJ(pl)+80.))
else
call SetPlayerHandicapXPBJ(pl,(GetPlayerHandicapXPBJ(pl)+110.))
endif
endif
set Z84[16+GetPlayerId(pl)]=R2I(GetPlayerHandicapXPBJ(pl))
endfunction
function XIF takes player pl,integer O5 returns nothing
local integer i=0
local integer V87=GetPlayerId(pl)
set hG[48+V87]=GetRandomInt(0,1)
if(D4 or RZ4)then
set hG[48+V87]=GetRandomInt(0,2)
endif
set hG[64+V87]=GetRandomInt(0,2)
set hG[80+V87]=GetRandomInt(0,2)
set OL4[V87]=false
call ForceRemovePlayer(L8,pl)
if Y4 then
set i=i+8
endif
if(CT)then
set i=i+8
endif
if((WT)or(O5==0))then
elseif(Z84[V87]==ZD4)then
call SetPlayerStateBJ(pl,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(pl,PLAYER_STATE_RESOURCE_GOLD)+(100/O5)+(10*(O5-1)))
elseif(Z84[V87]==ZE4)then
call SetPlayerStateBJ(pl,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(pl,PLAYER_STATE_RESOURCE_GOLD)+(300/O5)+(10*(O5-1)))
set i=i+4
else
call SetPlayerStateBJ(pl,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(pl,PLAYER_STATE_RESOURCE_GOLD)+(500/O5)+(10*(O5-1)))
set i=i+8
endif
if(CT)then
call SetPlayerStateBJ(pl,PLAYER_STATE_RESOURCE_GOLD,R2I(GetPlayerState(pl,PLAYER_STATE_RESOURCE_GOLD)*1.1))
endif
set Z84[32+V87]=i
set Z84[48+V87]=i
set Z84[64+V87]=0
endfunction
function XJF takes trigger t,boolean O6,boolean XKF,boolean XMF returns nothing
if(TO7(O6)!=null)then
call TriggerRegisterPlayerChatEvent(t,TO7(O6),"-o",false)
call TriggerRegisterPlayerChatEvent(t,TO7(O6),"-c",false)
call TriggerRegisterPlayerChatEvent(t,TO7(O6)," c",false)
call TriggerRegisterPlayerChatEvent(t,TO7(O6)," ",true)
if(IsTriggerEnabled(QA4))then
call TriggerRegisterPlayerChatEvent(QA4,TO7(O6),"-pa",true)
call TriggerRegisterPlayerChatEvent(QA4,TO7(O6),"-px",true)
if((TO7(not O6)==null)and(XMF))then
if(XKF)then
call DisplayTimedTextToPlayer(TO7(O6),0,0,10.,GetObjectName(1496395824)+F57+"-pa|r/"+F57+"-pe|r")
else
call DisplayTimedTextToPlayer(TO7(O6),0,0,10.,GetObjectName(1496395825)+F57+"-pe|r")
endif
call TriggerRegisterPlayerChatEvent(QA4,TO7(O6),"-pe",true)
elseif(XKF)then
call DisplayTimedTextToPlayer(TO7(O6),0,0,10.,GetObjectName(1496395826)+F57+"-pa|r")
endif
endif
endif
endfunction
function XNF takes nothing returns nothing
local integer i=0
loop
exitwhen i>15
if M7[i]!=null and GetPlayerController(Player(i))==MAP_CONTROL_COMPUTER and IsUnitInRange(M7[i],IZ4,1000)==false and IsUnitInRange(M7[i],JA4,1000)==false then
set K07[176+i]=0
endif
set i=i+1
endloop
endfunction
function XOF takes nothing returns nothing
local trigger t
set t=CreateTrigger()
call TriggerRegisterUnitInRange(t,JA4,700.,null)
call TriggerAddCondition(t,Condition(function Y67))
call TriggerAddAction(t,function HDF)
set t=CreateTrigger()
call TriggerRegisterUnitInRange(t,IZ4,700.,null)
call TriggerAddCondition(t,Condition(function Y37))
call TriggerAddAction(t,function HDF)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,10,true)
call TriggerAddAction(t,function XNF)
set t=null
endfunction
function XPF takes nothing returns nothing
local trigger t=null
local string VH=GetEventPlayerChatString()
local player pl=S77(S2I(SubString(VH,8,StringLength(VH))))
if(pl!=null)and(pl!=GetTriggerPlayer())and Z57(pl)then
if GetTriggerPlayer()==QT4 then
if IsPlayerAlly(GetLocalPlayer(),QT4)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,10.,Q[0]+"The Sentinel|r's AI Leadership has been granted to "+Q[GetPlayerId(pl)]+GetPlayerName(pl)+"|r.")
endif
set QT4=pl
set t=GetTriggeringTrigger()
call DestroyTrigger(t)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,QT4,"-aigrant",false)
call TriggerAddAction(t,function XPF)
call DestroyTrigger(DV7)
set DV7=CreateTrigger()
call XJF(DV7,true,false,false)
call TriggerAddAction(DV7,function WIF)
else
if IsPlayerAlly(GetLocalPlayer(),QU4)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,10.,Q[6]+"The Scourge|r's AI Leadership has been granted to "+Q[GetPlayerId(pl)]+GetPlayerName(pl)+"|r.")
endif
set QU4=pl
set t=GetTriggeringTrigger()
call DestroyTrigger(t)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,QU4,"-aigrant",false)
call TriggerAddAction(t,function XPF)
call DestroyTrigger(DW7)
set DW7=CreateTrigger()
call XJF(DW7,false,false,false)
call TriggerAddAction(DW7,function WIF)
endif
else
call D78(GetTriggerPlayer(),"Invalid Leader Choice")
endif
endfunction
function XQF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local integer HJ8=UQ7(UL7,"TargetIndex")
local unit m5=ZA7(HJ8)
local real B29=UR7(UL7,"Damage")
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED or GetUnitAbilityLevel(GetTriggerUnit(),1110455089)==0 then
call DestroyEffect(UK7(UL7,"FX"))
call ZZ7(HJ8)
call TQ7(UL7)
call U37(t)
set HI7=true
call HG8(p5,m5,ZG4,B29)
set HI7=false
if B29>0 then
call DL8("+"+I2S(R2I(B29)),1,m5,0.023,255,0,0,216)
endif
elseif GetEventDamage()>1 then
call TU7(UL7,"Damage",(B29+GetEventDamage()*0.3)*1.0)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function XRF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local unit m5=UE7(UL7,"Target")
call TQ7(UL7)
call U37(t)
set t=CreateTrigger()
set UL7=GetHandleId(t)
call TX7(UL7,"Source",p5)
call TT7(UL7,"TargetIndex",ZC7(m5))
call TY7(UL7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Other\\Silence\\SilenceTarget.mdl",m5,"overhead"))
call TU7(UL7,"Damage",(0)*1.0)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,5,false)
call TriggerAddCondition(t,Condition(function XQF))
set t=null
return false
endfunction
function XSF takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function XRF))
call TX7(UL7,"Target",GetSpellTargetUnit())
call TX7(UL7,"Source",GetTriggerUnit())
set t=null
endfunction
function XTF takes nothing returns nothing
if GetSpellAbilityId()==1093682756 and CY7(GetSpellTargetUnit())==false then
call XSF()
endif
endfunction
function XUF takes nothing returns nothing
local unit u=GetTriggerUnit()
local item W18
local integer i=0
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local integer EE9
local item XVF
call DisableTrigger(H94)
loop
exitwhen i>5
set W18=UnitItemInSlot(u,i)
set EE9=RB7(W18)
if EE9==Y3 then
set IR4=GetItemPlayer(W18)
call RemoveItem(W18)
set XVF=CreateItem(SU[ZX],x,y)
call SetItemPlayer(XVF,IR4,false)
call SetItemUserData(XVF,1)
set XVF=CreateItem(SU[RZ],x,y)
call SetItemPlayer(XVF,IR4,false)
call SetItemUserData(XVF,1)
elseif EE9==C3 or EE9==E6 then
set IR4=GetItemPlayer(W18)
call RemoveItem(W18)
set XVF=CreateItem(SU[AX],x,y)
call SetItemPlayer(XVF,IR4,false)
call SetItemUserData(XVF,1)
set XVF=CreateItem(SU[ZY],x,y)
call SetItemPlayer(XVF,IR4,false)
call SetItemUserData(XVF,1)
elseif EE9==DP4 then
set IR4=GetItemPlayer(W18)
call RemoveItem(W18)
set XVF=CreateItem(SU[SX],x,y)
call SetItemPlayer(XVF,IR4,false)
call SetItemUserData(XVF,1)
set XVF=CreateItem(SU[GX],x,y)
call SetItemPlayer(XVF,IR4,false)
call SetItemUserData(XVF,1)
set XVF=CreateItem(SU[EB4],x,y)
call SetItemPlayer(XVF,IR4,false)
call SetItemUserData(XVF,1)
elseif EE9==DQ4 then
set IR4=GetItemPlayer(W18)
call RemoveItem(W18)
set XVF=CreateItem(SU[SX],x,y)
call SetItemPlayer(XVF,IR4,false)
call SetItemUserData(XVF,1)
set XVF=CreateItem(SU[GX],x,y)
call SetItemPlayer(XVF,IR4,false)
call SetItemUserData(XVF,1)
set XVF=CreateItem(SU[EB4],x,y)
call SetItemPlayer(XVF,IR4,false)
call SetItemUserData(XVF,1)
elseif EE9==DE4 then
set IR4=GetItemPlayer(W18)
call RemoveItem(W18)
set XVF=CreateItem(SU[OW],x,y)
call SetItemPlayer(XVF,IR4,false)
call SetItemUserData(XVF,1)
set XVF=CreateItem(SU[LL],x,y)
call SetItemPlayer(XVF,IR4,false)
call SetItemUserData(XVF,1)
set XVF=CreateItem(SU[EL4],x,y)
call SetItemPlayer(XVF,IR4,false)
call SetItemUserData(XVF,1)
elseif EE9==F74 then
set IR4=GetItemPlayer(W18)
call RemoveItem(W18)
set XVF=CreateItem(SU[FV],x,y)
call SetItemPlayer(XVF,IR4,false)
call SetItemUserData(XVF,1)
set XVF=CreateItem(SU[CV],x,y)
call SetItemPlayer(XVF,IR4,false)
call SetItemUserData(XVF,1)
elseif EE9==J1 then
set IR4=GetItemPlayer(W18)
call RemoveItem(W18)
set XVF=CreateItem(SU[NW],x,y)
call SetItemPlayer(XVF,IR4,false)
call SetItemUserData(XVF,1)
set XVF=CreateItem(SU[VW],x,y)
call SetItemPlayer(XVF,IR4,false)
call SetItemUserData(XVF,1)
elseif EE9==O1 then
set IR4=GetItemPlayer(W18)
call RemoveItem(W18)
set XVF=CreateItem(SU[NW],x,y)
call SetItemPlayer(XVF,IR4,false)
call SetItemUserData(XVF,1)
set XVF=CreateItem(SU[VW],x,y)
call SetItemPlayer(XVF,IR4,false)
call SetItemUserData(XVF,1)
elseif EE9==Y0 then
set IR4=GetItemPlayer(W18)
call RemoveItem(W18)
set XVF=CreateItem(SU[OL],x,y)
call SetItemPlayer(XVF,IR4,false)
call SetItemUserData(XVF,1)
set XVF=CreateItem(SU[NZ],x,y)
call SetItemPlayer(XVF,IR4,false)
call SetItemUserData(XVF,1)
set XVF=CreateItem(SU[EK4],x,y)
call SetItemPlayer(XVF,IR4,false)
call SetItemUserData(XVF,1)
elseif EE9==E24 then
set IR4=GetItemPlayer(W18)
call RemoveItem(W18)
set XVF=CreateItem(SU[BV],x,y)
call SetItemPlayer(XVF,IR4,false)
call SetItemUserData(XVF,1)
set XVF=CreateItem(SU[DA4],x,y)
call SetItemPlayer(XVF,IR4,false)
call SetItemUserData(XVF,1)
elseif EE9==LB then
set IR4=GetItemPlayer(W18)
call RemoveItem(W18)
set XVF=CreateItem(SU[FV],x,y)
call SetItemPlayer(XVF,IR4,false)
call SetItemUserData(XVF,1)
set XVF=CreateItem(SU[AX],x,y)
call SetItemPlayer(XVF,IR4,false)
call SetItemUserData(XVF,1)
set XVF=CreateItem(SU[GY],x,y)
call SetItemPlayer(XVF,IR4,false)
call SetItemUserData(XVF,1)
elseif EE9==U1 then
set IR4=GetItemPlayer(W18)
call RemoveItem(W18)
set XVF=CreateItem(SU[RL],x,y)
call SetItemPlayer(XVF,IR4,false)
call SetItemUserData(XVF,1)
set XVF=CreateItem(SU[OL],x,y)
call SetItemPlayer(XVF,IR4,false)
call SetItemUserData(XVF,1)
elseif EE9==JC or EE9==NC then
set IR4=GetItemPlayer(W18)
call RemoveItem(W18)
set XVF=CreateItem(SU[DL],x,y)
call SetItemPlayer(XVF,IR4,false)
call SetItemUserData(XVF,1)
set XVF=CreateItem(SU[C3],x,y)
call SetItemPlayer(XVF,IR4,false)
call SetItemUserData(XVF,1)
elseif EE9==U3 then
set IR4=GetItemPlayer(W18)
call RemoveItem(W18)
set XVF=CreateItem(SU[SY],x,y)
call SetItemPlayer(XVF,IR4,false)
call SetItemUserData(XVF,1)
set XVF=CreateItem(SU[WL],x,y)
call SetItemPlayer(XVF,IR4,false)
call SetItemUserData(XVF,1)
endif
set i=i+1
endloop
call EnableTrigger(H94)
set u=null
set W18=null
set XVF=null
endfunction
function XWF takes nothing returns boolean
if GetSpellAbilityId()==1093684021 or GetSpellAbilityId()==1093751366 then
call XUF()
endif
return false
endfunction
function XXF takes nothing returns nothing
local unit m5=GetEnumUnit()
local group AF9=pw
local unit p5=qw
if IsUnitInGroup(m5,AF9)==false then
call GroupAddUnit(AF9,m5)
call IssueTargetOrder(Qw,"slow",m5)
set HI7=true
call HG8(p5,m5,ZG4,200)
set HI7=false
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl",m5,"origin"))
endif
set m5=null
set AF9=null
set p5=null
endfunction
function XYF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local unit HE8=UE7(UL7,"Caster")
local group AF9=UJ7(UL7,"AlreadyDamaged")
local real d
local real x
local real x0=GetUnitX(p5)
local real y
local real y0=GetUnitY(p5)
local group g=CA7()
local integer Y59=GetTriggerEvalCount(t)
local integer i
call SetUnitX(HE8,GetUnitX(p5))
call SetUnitY(HE8,GetUnitY(p5))
set pw=AF9
set qw=p5
set Qw=UE7(UL7,"Nuker")
if GetTriggerEvalCount(t)>33 then
call KillUnit(HE8)
call CZ7(AF9)
call TQ7(UL7)
call U37(t)
else
set d=Y59*18
set i=0
loop
exitwhen i>36
set x=x0+d*Cos(360*i/ 36*bj_DEGTORAD)
set y=y0+d*Sin(360*i/ 36*bj_DEGTORAD)
set IN4=p5
call GroupEnumUnitsInRange(g,x,y,150,Condition(function G78))
call ForGroup(g,function XXF)
set i=i+1
endloop
endif
call CZ7(g)
set t=null
set HE8=null
set AF9=null
set p5=null
set g=null
return false
endfunction
function XZF takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local real x=GetUnitX(CR7)
local real y=GetUnitY(CR7)
local group AF9=CA7()
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit HE8=CreateUnit(GetOwningPlayer(CR7),1747990833,x,y,0)
local unit XAF=CreateUnit(GetOwningPlayer(CR7),1697656901,GetUnitX(CR7),GetUnitY(CR7),0)
call UnitAddAbility(XAF,1093686320)
call TL7(UL7,"AlreadyDamaged",AF9)
call TX7(UL7,"Caster",HE8)
call TX7(UL7,"Nuker",XAF)
call TX7(UL7,"Source",CR7)
call TriggerRegisterTimerEvent(t,0.06,true)
call TriggerAddCondition(t,Condition(function XYF))
set t=null
set AF9=null
set HE8=null
set XAF=null
set CR7=null
endfunction
function XBF takes nothing returns nothing
if GetSpellAbilityId()==1093686329 then
call XZF()
endif
endfunction
function XCF takes unit EL8,integer U8E returns nothing
local integer OL7=GetHandleId(EL8)
call SaveInteger(L7,(OL7),(750),(U8E))
endfunction
function X3F takes nothing returns nothing
local integer i=0
local integer X6F=0
local boolean XLF=false
if GetSpellAbilityId()==1093683801 then
loop
exitwhen i>5
if RC7(UnitItemInSlot(GetTriggerUnit(),i))==ZA or RC7(UnitItemInSlot(GetTriggerUnit(),i))==DT4 then
set X6F=GetItemCharges(UnitItemInSlot(GetTriggerUnit(),i))
if X6F>0 then
call SetItemCharges(UnitItemInSlot(GetTriggerUnit(),i),0)
call XCF(GetTriggerUnit(),0)
if XLF==false then
set XLF=true
call SetUnitState(GetTriggerUnit(),UNIT_STATE_MANA,GetUnitState(GetTriggerUnit(),UNIT_STATE_MANA)+15*X6F)
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+15*X6F)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIre\\AIreTarget.mdl",GetTriggerUnit(),"origin"))
endif
endif
return
endif
set i=i+1
endloop
endif
endfunction
function X1F takes integer id returns boolean
local integer i=1
loop
exitwhen i>MC4
if id==MB4[i]then
return false
endif
set i=i+1
endloop
return true
endfunction
function X0F takes unit X5F,unit p5 returns nothing
if IsUnitVisible(X5F,GetOwningPlayer(p5))==false and GetRandomInt(1,100)<10 then
call PlaySoundOnUnitBJ(RI,100,p5)
endif
endfunction
function X2F takes nothing returns nothing
local unit CR7=GetEnumUnit()
local integer i=0
loop
exitwhen i>5
if IsUnitVisible(GetTriggerUnit(),GetOwningPlayer(GetEnumUnit()))==true then
if RC7(UnitItemInSlot(CR7,i))==ZA or RC7(UnitItemInSlot(CR7,i))==DT4 then
if RC7(UnitItemInSlot(CR7,i))==DT4 then
if GetItemCharges(UnitItemInSlot(CR7,i))==15 then
call X0F(GetTriggerUnit(),CR7)
endif
call XCF(CR7,DQ8(GetItemCharges(UnitItemInSlot(CR7,i))+1,15))
call SetItemCharges(UnitItemInSlot(CR7,i),DQ8(GetItemCharges(UnitItemInSlot(CR7,i))+1,15))
else
if GetItemCharges(UnitItemInSlot(CR7,i))==10 then
call X0F(GetTriggerUnit(),CR7)
endif
call XCF(CR7,DQ8(GetItemCharges(UnitItemInSlot(CR7,i))+1,10))
call SetItemCharges(UnitItemInSlot(CR7,i),DQ8(GetItemCharges(UnitItemInSlot(CR7,i))+1,10))
endif
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",CR7,"chest"))
set i=5
endif
endif
set i=i+1
endloop
set CR7=null
endfunction
function X_F takes nothing returns nothing
local group g=CA7()
local unit p5=GetTriggerUnit()
local real x=GetUnitX(p5)
local real y=GetUnitY(p5)
call GroupEnumUnitsInRange(g,x,y,1225,Condition(function GM8))
call ForGroup(g,function X2F)
call CZ7(g)
set g=null
set p5=null
endfunction
function Y4F takes nothing returns nothing
if X1F(GetSpellAbilityId())==true and BD7(GetSpellAbilityId())==true and GetUnitAbilityLevel(GetTriggerUnit(),1093678162)==0 and JF8(GetSpellAbilityId())==false then
call X_F()
endif
endfunction
function Y7F takes unit p5,unit m5 returns nothing
local integer BK7=GetUnitAbilityLevel(p5,1093686099)
local real DV8=(0.03+0.01*BK7)*GetUnitState(m5,UNIT_STATE_LIFE)
if GetUnitAbilityLevel(m5,1093678162)==0 then
call HG8(p5,m5,ZH4,DV8)
call SetUnitState(p5,UNIT_STATE_LIFE,DV8+GetUnitState(p5,UNIT_STATE_LIFE))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\VampiricAura\\VampiricAuraTarget.mdl",p5,"origin"))
endif
endfunction
function Y8F takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit m5=UE7(UL7,"Target")
local unit p5=UE7(UL7,"Source")
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==p5 then
call DisableTrigger(t)
call Y7F(p5,m5)
call TQ7(UL7)
call U37(t)
endif
else
call TQ7(UL7)
call U37(t)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function Y9F takes nothing returns nothing
local trigger t=CreateTrigger()
local unit m5=GetTriggerUnit()
local unit p5=GetAttacker()
local integer UL7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,1,false)
call TriggerAddCondition(t,Condition(function Y8F))
call TX7(UL7,"Target",m5)
call TX7(UL7,"Source",p5)
set m5=null
set p5=null
set t=null
endfunction
function YDF takes nothing returns nothing
local unit p5=GetAttacker()
if UX7(p5,"CooldownState")==false then
call U07(p5,"CooldownState",0.4)
call Y9F()
endif
endfunction
function YEF takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1093686099)>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==UE7(GetHandleId(GetTriggeringTrigger()),"Hero")and GetUnitTypeId(GetTriggerUnit())!=1848651852 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))then
call YDF()
endif
return false
endfunction
function YFF takes unit CR7,boolean B89 returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function YEF))
call TX7(GetHandleId(t),"Hero",CR7)
if B89 then
set aj[GetPlayerId(GetOwningPlayer(CR7))]=t
endif
set t=null
endfunction
function YGF takes nothing returns boolean
if GetLearnedSkill()==1093686099 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093686099)==1 then
call YFF(GetTriggerUnit(),false)
endif
return false
endfunction
function SY8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function YGF))
set t=null
endfunction
function YHF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
if GetUnitTypeId(CR7)==1160786520 then
call SetUnitVertexColor(CR7,255,255,255,255)
else
call SetUnitVertexColor(CR7,100,100,100,255)
endif
call DestroyEffect(UK7(UL7,"FX1"))
call DestroyEffect(UK7(UL7,"FX2"))
call UnitRemoveAbility(CR7,1093686098)
call UnitRemoveAbility(CR7,1093686100)
call TQ7(UL7)
call U37(t)
set t=null
set CR7=null
return false
endfunction
function YIF takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=GetTriggerUnit()
local integer BK7=GetUnitAbilityLevel(CR7,1093686322)
call SetUnitVertexColor(CR7,0,0,0,255)
call SetPlayerAbilityAvailable(GetOwningPlayer(CR7),1093686100,false)
call LP7(CR7,1093686100)
call LP7(CR7,1093686098)
call SetUnitAbilityLevel(CR7,1093686098,BK7)
call D59(CR7,0,0)
call TX7(UL7,"Hero",CR7)
call TY7(UL7,"FX1",AddSpecialEffectTarget("Abilities\\Spells\\Orc\\Bloodlust\\BloodlustTarget.mdl",CR7,"right hand"))
call TY7(UL7,"FX2",AddSpecialEffectTarget("Abilities\\Spells\\Orc\\Bloodlust\\BloodlustTarget.mdl",CR7,"left hand"))
call TriggerRegisterTimerEvent(t,2+BK7,false)
call TriggerAddCondition(t,Condition(function YHF))
set CR7=null
set t=null
endfunction
function YJF takes nothing returns boolean
if GetSpellAbilityId()==1093686322 then
call YIF()
endif
return false
endfunction
function SZ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function YJF))
set t=null
endfunction
function Snatch_Damage takes nothing returns nothing
call HG8(LK4,GetEnumUnit(),ZG4,LM4*125+25)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Naga\\NagaBlood\\NagaBloodWindserpent.mdl",GetEnumUnit(),"overhead"))
endfunction
function Snatch_Process takes nothing returns nothing
local integer OL7=GetHandleId(GetTriggeringTrigger())
local unit EL8=IN4
local unit O_7=IP4
local real B29=UR7(OL7,"Damage")
call HG8(EL8,O_7,ZG4,B29)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Naga\\NagaBlood\\NagaBloodWindserpent.mdl",O_7,"overhead"))
set EL8=null
set O_7=null
endfunction
function YKF takes nothing returns nothing
local unit EL8=LK4
local unit O_7=GetEnumUnit()
local integer HF8=LM4
local trigger t=EO8(EL8,O_7,1747993670,"HVE",600)
local integer OL7=GetHandleId(t)
call TU7(OL7,"Damage",((HF8*125+25)*1.0))
set EL8=null
set O_7=null
endfunction
function YMF takes unit EL8,unit O_7,integer HF8 returns nothing
local group g=CA7()
set IN4=EL8
set LK4=EL8
set LM4=HF8
call GroupEnumUnitsInRange(g,GetUnitX(O_7),GetUnitY(O_7),725,Condition(function FW8))
call ForGroup(g,function YKF)
call CZ7(g)
set g=null
endfunction
function YNF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer B27=GetHandleId(t)
local integer Q27=UQ7(B27,"HeroPID")
local unit YOF=UE7(B27,"ConsumeCaster")
call DisableTrigger(Q04[Q27])
call IssueImmediateOrderById(YOF,852597)
call EnableTrigger(Q04[Q27])
call TQ7(B27)
call U37(t)
set t=null
set YOF=null
return false
endfunction
function YPF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit O_7=UE7(OL7,"Target")
local unit CL7=UE7(OL7,"Hero")
local unit HE8=UE7(OL7,"Caster")
local integer HF8=UQ7(OL7,"Level")
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
call UnitShareVision(O_7,GetOwningPlayer(CL7),false)
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl",GetUnitX(O_7),GetUnitY(O_7)))
call SetUnitPosition(CL7,GetUnitX(O_7),GetUnitY(O_7))
call PauseUnit(CL7,false)
call ShowUnit(CL7,true)
call SetUnitPathing(CL7,true)
call ClearSelectionForPlayer(GetOwningPlayer(CL7))
call SelectUnitForPlayerSingle(CL7,GetOwningPlayer(CL7))
call SetUnitInvulnerable(CL7,false)
call DestroyEffect(UK7(OL7,"FX"))
call DestroyEffect(UK7(OL7,"FX3"))
call RemoveUnit(HE8)
call TQ7(OL7)
call U37(t)
call YMF(CL7,O_7,HF8)
call SaveInteger(L7,(GetHandleId((CL7))),((4310)),(2))
elseif IsUnitType(O_7,UNIT_TYPE_HERO)==true and IsUnitEnemy(O_7,GetOwningPlayer(CL7))==true then
call UnitShareVision(O_7,GetOwningPlayer(CL7),false)
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl",GetUnitX(O_7),GetUnitY(O_7)))
call SetUnitPosition(CL7,GetUnitX(O_7),GetUnitY(O_7))
call PauseUnit(CL7,false)
call ShowUnit(CL7,true)
call SetUnitPathing(CL7,true)
call ClearSelectionForPlayer(GetOwningPlayer(CL7))
call SelectUnitForPlayerSingle(CL7,GetOwningPlayer(CL7))
call SetUnitInvulnerable(CL7,false)
call DestroyEffect(UK7(OL7,"FX"))
call DestroyEffect(UK7(OL7,"FX3"))
call RemoveUnit(HE8)
call TQ7(OL7)
call U37(t)
call YMF(CL7,O_7,HF8)
call SaveInteger(L7,(GetHandleId((CL7))),((4310)),(2))
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093686104 then
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl",GetUnitX(O_7),GetUnitY(O_7)))
if IsUnitEnemy(O_7,GetOwningPlayer(CL7))then
call SetUnitState(CL7,UNIT_STATE_LIFE,GetUnitState(CL7,UNIT_STATE_LIFE)+GetUnitState(O_7,UNIT_STATE_LIFE))
endif
call UnitShareVision(O_7,GetOwningPlayer(CL7),false)
call SetUnitPosition(CL7,GetUnitX(O_7),GetUnitY(O_7))
call PauseUnit(CL7,false)
call ShowUnit(CL7,true)
call SetUnitPathing(CL7,true)
call SetUnitAnimation(CL7,"Stand Victory")
call EX8(CL7,1.5)
call ClearSelectionForPlayer(GetOwningPlayer(CL7))
call SelectUnitForPlayerSingle(CL7,GetOwningPlayer(CL7))
call SetUnitInvulnerable(CL7,false)
call DestroyEffect(UK7(OL7,"FX"))
call DestroyEffect(UK7(OL7,"FX3"))
call RemoveUnit(HE8)
call TQ7(OL7)
call U37(t)
call YMF(CL7,O_7,HF8)
if IsUnitEnemy(O_7,GetOwningPlayer(CL7))then
call UnitRemoveBuffs(O_7,true,true)
call D59(O_7,0,0)
call HG8(CL7,O_7,ZG4,100000)
call HG8(CL7,O_7,ZH4,100000)
call HG8(CL7,O_7,ZI4,100000)
endif
call SaveInteger(L7,(GetHandleId((CL7))),((4310)),(2))
elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_SELECTED and GetTriggerUnit()==O_7 then
call ClearSelectionForPlayer(GetOwningPlayer(CL7))
call SelectUnitAddForPlayer(HE8,GetOwningPlayer(CL7))
else
call SetUnitPosition(CL7,GetUnitX(O_7),GetUnitY(O_7))
endif
set t=null
set O_7=null
set CL7=null
return false
endfunction
function YQF takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local trigger YRF=CreateTrigger()
local unit HE8=CreateUnit(GetOwningPlayer(CR7),1697657136,7260,-7732,0)
local string YSF="Objects\\Spawnmodels\\Naga\\NagaBlood\\NagaBloodWindserpent.mdl"
local string YTF="Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBase.mdl"
local string YUF="Abilities\\Spells\\Other\\Aneu\\AneuTarget.mdl"
if IsPlayerEnemy(GetLocalPlayer(),GetOwningPlayer(CR7))and CP7(GetLocalPlayer())==false then
set YSF=""
set YTF=""
set YUF=""
endif
call UnitRemoveBuffs(CR7,true,true)
call D59(CR7,0,0)
call SetUnitInvulnerable(HE8,true)
call LP7(HE8,1093686104)
call ClearSelectionForPlayer(GetOwningPlayer(CR7))
call SelectUnitForPlayerSingle(HE8,GetOwningPlayer(CR7))
call UnitShareVision(m5,GetOwningPlayer(CR7),true)
call SetUnitInvulnerable(CR7,true)
call ShowUnit(CR7,false)
call PauseUnit(CR7,true)
call SetUnitPathing(CR7,false)
call DestroyEffect(AddSpecialEffectTarget(YSF,m5,"overhead"))
call TX7(UL7,"Target",m5)
call TX7(UL7,"Hero",CR7)
call TX7(UL7,"Caster",HE8)
call TY7(UL7,"FX",AddSpecialEffectTarget(YTF,m5,"overhead"))
call TY7(UL7,"FX3",AddSpecialEffectTarget(YUF,m5,"overhead"))
call TT7(UL7,"Level",(GetUnitAbilityLevel(CR7,1093686103)))
call TriggerRegisterDeathEvent(t,m5)
call TriggerRegisterPlayerUnitEvent(t,GetOwningPlayer(CR7),EVENT_PLAYER_UNIT_SELECTED,Condition(function ZY7))
call TriggerRegisterUnitEvent(t,HE8,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterTimerEvent(t,0.2,true)
call TriggerAddCondition(t,Condition(function YPF))
call SaveInteger(L7,(GetHandleId((CR7))),((4310)),(1))
if Z27(GetOwningPlayer(CR7))then
call TX7(GetHandleId(YRF),"ConsumeCaster",HE8)
call TT7(GetHandleId(YRF),"HeroPID",GetPlayerId(GetOwningPlayer(CR7)))
call TriggerRegisterTimerEvent(YRF,1.0,false)
call TriggerAddCondition(YRF,Condition(function YNF))
endif
set t=null
set YRF=null
set CR7=null
set m5=null
endfunction
function YVF takes nothing returns boolean
if GetSpellAbilityId()==1093686103 then
call YQF()
endif
return false
endfunction
function YWF takes nothing returns boolean
if GetSpellAbilityId()==1093686103 and IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))and(IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO)==true or IsUnitIllusion(GetSpellTargetUnit()))then
call RU7(GetTriggerUnit())
call D78(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848659030))
endif
return false
endfunction
function SB8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function YVF))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function YWF))
set t=null
endfunction
function YXF takes integer CS8,unit EL8,unit O_7 returns nothing
local unit HE8=CreateUnit(GetOwningPlayer(O_7),1697656901,GetUnitX(O_7),GetUnitY(O_7),0)
if CS8==0 then
call IssueTargetOrder(EL8,"attack",O_7)
elseif CS8==1 then
call LP7(HE8,1093686344)
call SetUnitAbilityLevel(HE8,1093686344,1)
call IssueTargetOrder(HE8,"slow",O_7)
elseif CS8==2 then
call LP7(HE8,1093686344)
call SetUnitAbilityLevel(HE8,1093686344,1)
call IssueTargetOrder(HE8,"slow",O_7)
elseif CS8==3 then
call LP7(HE8,1093686344)
call SetUnitAbilityLevel(HE8,1093686344,2)
call IssueTargetOrder(HE8,"slow",O_7)
elseif CS8==4 then
call LP7(HE8,1093686344)
call SetUnitAbilityLevel(HE8,1093686344,3)
call IssueTargetOrder(HE8,"slow",O_7)
elseif CS8==5 then
call LP7(HE8,1093686344)
call SetUnitAbilityLevel(HE8,1093686344,4)
call IssueTargetOrder(HE8,"slow",O_7)
elseif CS8==6 then
call LP7(HE8,1093686344)
call SetUnitAbilityLevel(HE8,1093686344,5)
call IssueTargetOrder(HE8,"slow",O_7)
endif
set HE8=null
endfunction
function YYF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local integer BK7=UQ7(UL7,"Level")
local integer BD8=UQ7(UL7,"Count")
local unit p5=UE7(UL7,"Source")
local integer HJ8=UQ7(UL7,"TargetIndex")
local unit m5=ZA7(HJ8)
local real YZF=(10.0+BK7*5.0)/ 100.0
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
set BD8=BD8+1
call YXF(BD8,p5,m5)
if BD8==8 then
call ZZ7(HJ8)
call TQ7(UL7)
call U37(t)
else
call TT7(UL7,"Count",BD8)
endif
elseif IG8(GetEventDamage())and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))and IsUnitType(GetEventDamageSource(),UNIT_TYPE_STRUCTURE)==false then
if IsUnitType(GetEventDamageSource(),UNIT_TYPE_HERO)or GetUnitAbilityLevel(GetEventDamageSource(),1093678162)==0 then
call SetUnitState(GetEventDamageSource(),UNIT_STATE_LIFE,GetUnitState(GetEventDamageSource(),UNIT_STATE_LIFE)+GetEventDamage()*YZF)
else
call SetUnitState(M7[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))],UNIT_STATE_LIFE,GetUnitState(M7[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))],UNIT_STATE_LIFE)+GetEventDamage()*YZF)
endif
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\VampiricAura\\VampiricAuraTarget.mdl",GetEventDamageSource(),"origin"))
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function YAF takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call YXF(0,p5,m5)
call TT7(UL7,"Count",0)
call TT7(UL7,"Level",GetUnitAbilityLevel(p5,1093744948))
call TX7(UL7,"Source",p5)
call TT7(UL7,"TargetIndex",ZC7(m5))
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterTimerEvent(t,0.01,false)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function YYF))
set t=null
set p5=null
set m5=null
endfunction
function YBF takes nothing returns boolean
if GetSpellAbilityId()==1093744948 and CY7(GetSpellTargetUnit())==false then
call YAF()
endif
return false
endfunction
function SA8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function YBF))
set t=null
call DH8(1093686344)
endfunction
function IsUnitHeroFilter takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)
endfunction
function Y3F takes nothing returns boolean
local integer i1=GetSpellAbilityId()
if(i1==1093681473 or i1==1093748054 or i1==1093686104 or i1==1093683018 or i1==1093683013 or i1==1093683027 or i1==1093681474 or i1==1093748818 or i1==1093751605 or i1==1093749070 or i1==1093751608 or i1==1093681475 or i1==1093681476 or i1==1093681477 or i1==1093747023 or i1==1093752150 or i1==1093747786 or i1==1093752119)or i1==1093751607 or i1==1093687350 or i1==1093810228 or i1==1093683277 or(i1==1093678936 or i1==1093681484)or i1==1093678932 or i1==1093687350 or i1==1093683271 or i1==1093682778 then
elseif i1==1093743697 then
call KillUnit(GetTriggerUnit())
else
call UnitRemoveAbility(GetTriggerUnit(),i1)
endif
return true
endfunction
function Y6F takes nothing returns boolean
local unit u=GetTriggerUnit()
local boolean YLF
if GetUnitAbilityLevel(u,1097625443)>0 and GetPlayerController(GetOwningPlayer(u))==MAP_CONTROL_COMPUTER then
if(GetUnitAbilityLevel(u,1093686104)==0 and GetUnitAbilityLevel(u,1093748823)==0 and GetUnitAbilityLevel(u,1093748824)==0 and GetUnitAbilityLevel(u,1093750342)==0 and GetUnitAbilityLevel(u,1093682778)==0 and GetUnitAbilityLevel(u,1093748301)==0 and GetUnitAbilityLevel(u,1093747786)==0 and GetUnitAbilityLevel(u,1093752119)==0 and GetUnitTypeId(u)!=1747993137 and GetUnitTypeId(u)!=1697657136 and GetUnitTypeId(u)!=1747993395 and GetUnitTypeId(u)!=1697657424 and GetUnitTypeId(u)!=1747988559 and GetUnitTypeId(u)!=1697657412 and GetUnitTypeId(u)!=1747990577 and GetUnitTypeId(u)!=1865429305)then
set YLF=GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_ENDCAST and Y3F()
endif
endif
set u=null
return false
endfunction
function Y1F takes unit PI7,integer EM9 returns item
local integer O17
local item Y0F
set O17=0
loop
exitwhen O17>5
set Y0F=UnitItemInSlot(PI7,O17)
if(Y0F!=null)and(RB7(Y0F)==EM9)then
set Y0F=null
return UnitItemInSlot(PI7,O17)
endif
set O17=O17+1
endloop
set Y0F=null
return null
endfunction
function W08 takes nothing returns nothing
local unit CR7=IN4
local integer i=1
local integer Y5F
if GetUnitTypeId(CR7)!=1211117653 then
return
endif
loop
exitwhen i>11
set Y5F=BS[i]
call LP7(CR7,Y5F)
call SetPlayerAbilityAvailable(GetOwningPlayer(CR7),Y5F,false)
set i=i+1
endloop
set CR7=null
endfunction
function Y2F takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())==1211117653 and IsUnitIllusion(GetTriggerUnit())==false then
set IN4=GetTriggerUnit()
call W08()
elseif(GetUnitTypeId(GetTriggerUnit())==1432510828 or GetUnitTypeId(GetTriggerUnit())==1160786520)and IsUnitIllusion(GetTriggerUnit())==false then
set IN4=GetTriggerUnit()
call ExecuteFunc("VBE")
elseif GetUnitTypeId(GetTriggerUnit())==1211117641 and IsUnitIllusion(GetTriggerUnit())==false then
set IN4=GetTriggerUnit()
call ExecuteFunc("LCD")
endif
return false
endfunction
function Y_F takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit m5=UE7(UL7,"Target")
call UnitRemoveAbility(m5,1093686858)
call UnitRemoveAbility(m5,1093742649)
if GetUnitAbilityLevel(m5,1093686858)==0 or GetUnitAbilityLevel(m5,1093742649)==0 then
call TQ7(UL7)
call U37(t)
endif
set t=null
set m5=null
return false
endfunction
function Z4F takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit m5=UE7(UL7,"Target")
call DestroyEffect(UK7(UL7,"FX"))
call TQ7(UL7)
call U37(t)
call UnitRemoveAbility(m5,1093686858)
call UnitRemoveAbility(m5,1093742649)
if GetUnitAbilityLevel(m5,1093686858)>0 or GetUnitAbilityLevel(m5,1093742649)>0 then
set t=CreateTrigger()
set UL7=GetHandleId(t)
call TX7(UL7,"Target",m5)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function Y_F))
endif
set t=null
set m5=null
return false
endfunction
function Z7F takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=GetTriggerUnit()
local integer Z8F=GetHandleId(CR7)
local unit m5=GetSpellTargetUnit()
local integer Z9F=UQ7(Z8F,"WexLevel")
local integer ZDF=UQ7(Z8F,"ExortLevel")
call LP7(m5,1093686858)
call SetUnitAbilityLevel(m5,1093686858,Z9F)
call LP7(m5,1093742649)
call SetUnitAbilityLevel(m5,1093742649,ZDF)
call TriggerRegisterTimerEvent(t,9,false)
call TriggerAddCondition(t,Condition(function Z4F))
call TX7(UL7,"Target",m5)
call TY7(UL7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIsp\\SpeedTarget.mdl",m5,"origin"))
set t=null
set CR7=null
set m5=null
endfunction
function ZEF takes nothing returns boolean
if GetSpellAbilityId()==1093686865 then
call Z7F()
endif
return false
endfunction
function ZFF takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZEF))
call DM8(1093686858,GetRandomReal(1,25))
call DM8(1093742649,GetRandomReal(1,25))
set t=null
endfunction
function ZGF takes unit p5 returns real
return 400+400.0*(UQ7(GetHandleId(p5),"WexLevel"))
endfunction
function ZHF takes unit p5,unit m5,integer Z9F,integer ZIF returns nothing
local unit oA=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
local unit ZJF=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
local real ZKF=0.5+0.3*ZIF
if ZIF==7 then
set ZKF=2.5
endif
call LP7(oA,1093687371)
call SetUnitAbilityLevel(oA,1093687371,ZIF)
call IssueTargetOrder(oA,"cyclone",m5)
call HM8(ZJF,m5,1,70+(Z9F+ZIF)*20.0,ZKF)
set oA=null
set ZJF=null
endfunction
function ZMF takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),IQ4)==false then
call GroupAddUnit(IQ4,GetEnumUnit())
call ZHF(IN4,GetEnumUnit(),IH4,tl)
endif
endfunction
function ZNF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit oA=UE7(UL7,"Caster")
local real x2=UR7(UL7,"x2")
local real y2=UR7(UL7,"y2")
local real a=UR7(UL7,"a")
local integer Z9F=UQ7(UL7,"WexLevel")
local integer ZIF=UQ7(UL7,"QuasLevel")
local group g=UJ7(UL7,"g")
local real x=GetUnitX(oA)+25*Cos(a)
local real y=GetUnitY(oA)+25*Sin(a)
local group ZOF=CA7()
local real ZPF=RI7(x,y,x2,y2)
if ZPF<=30 then
set x=x2
set y=y2
endif
call SetUnitX(oA,DD8(x))
call SetUnitY(oA,DE8(y))
set IN4=oA
set IQ4=g
set IH4=Z9F
set tl=ZIF
call GroupEnumUnitsInRange(ZOF,x,y,200,Condition(function FW8))
call ForGroup(ZOF,function ZMF)
call CZ7(ZOF)
if ZPF<=30 or GetTriggerEvalCount(t)>125 then
call KillUnit(oA)
call TQ7(UL7)
call U37(t)
endif
set t=null
set oA=null
set g=null
set ZOF=null
return false
endfunction
function ZQF takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local location l=GetSpellTargetLoc()
local unit p5=GetTriggerUnit()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local real a=Atan2(y-GetUnitY(p5),x-GetUnitX(p5))
local unit oA
set x=GetUnitX(p5)
set y=GetUnitY(p5)
set oA=CreateUnit(GetOwningPlayer(p5),1848652117,x,y,a*bj_RADTODEG)
call TriggerRegisterTimerEvent(t,0.025,true)
call TriggerAddCondition(t,Condition(function ZNF))
call TX7(UL7,"Caster",oA)
call TU7(UL7,"x2",x+ZGF(p5)*Cos(a))
call TU7(UL7,"y2",y+ZGF(p5)*Sin(a))
call TT7(UL7,"WexLevel",(UQ7(GetHandleId(p5),"WexLevel")))
call TT7(UL7,"QuasLevel",(UQ7(GetHandleId(p5),"QuasLevel")))
call TU7(UL7,"a",a)
call TL7(UL7,"g",CA7())
call RemoveLocation(l)
set t=null
set l=null
set p5=null
endfunction
function ZRF takes nothing returns boolean
if GetSpellAbilityId()==1093686859 then
call ZQF()
endif
return false
endfunction
function ZSF takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZRF))
call DM8(1093687371,GetRandomReal(1,25))
set t=null
endfunction
function ZTF takes nothing returns nothing
local real ZUF=DU8(DT8(GetUnitState(GetEnumUnit(),UNIT_STATE_MANA),pB),0)
local real ZVF=ZUF*0.5
if CO7(GetEnumUnit())==false and ZUF>0 and BZ7(GetEnumUnit())==false then
if GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)>(ZVF+0.5)then
call SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)-ZVF)
else
call SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,1)
call HG8(PB,GetEnumUnit(),ZG4,ZVF)
endif
call SetUnitState(GetEnumUnit(),UNIT_STATE_MANA,GetUnitState(GetEnumUnit(),UNIT_STATE_MANA)-ZUF)
endif
endfunction
function ZWF takes unit p5,integer Z9F,integer ZDF returns nothing
local group g=CA7()
set PB=p5
set IN4=p5
set pB=Z9F*50+50
call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),700,Condition(function FW8))
call ForGroup(g,function ZTF)
call CZ7(g)
set g=null
endfunction
function ZXF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local integer iX=GetTriggerEvalCount(t)
local unit oA=UE7(UL7,"Caster")
local unit ZYF
local real ZZF=XN-0.28*UQ7(UL7,"WexLevel")
local real ZAF=VN+(EN-VN)*iX/(ZZF/ 0.05)
call SetUnitScale(oA,ZAF,ZAF,ZAF)
if iX>(ZZF/ 0.05)then
call ZWF(oA,UQ7(UL7,"WexLevel"),UQ7(UL7,"ExortLevel"))
set ZYF=CreateUnit(GetOwningPlayer(oA),1697657167,GetUnitX(oA),GetUnitY(oA),0)
call SetUnitTimeScale(ZYF,0.3)
call RemoveUnit(oA)
call KillUnit(ZYF)
call TQ7(UL7)
call U37(t)
endif
set t=null
set oA=null
set ZYF=null
return false
endfunction
function ZBF takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local location l=GetSpellTargetLoc()
local unit p5=GetTriggerUnit()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local real a=Atan2(y-GetUnitY(p5),x-GetUnitX(p5))
local unit oA=CreateUnit(GetOwningPlayer(p5),1697657165,x,y,a*bj_RADTODEG)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function ZXF))
call TX7(UL7,"Caster",oA)
call TT7(UL7,"WexLevel",((UQ7(GetHandleId(p5),"WexLevel"))))
call TT7(UL7,"QuasLevel",((UQ7(GetHandleId(p5),"QuasLevel"))))
call TT7(UL7,"ExortLevel",((UQ7(GetHandleId(p5),"ExortLevel"))))
call RemoveLocation(l)
set t=null
set l=null
set p5=null
endfunction
function ZCF takes nothing returns boolean
if GetSpellAbilityId()==1093686867 then
call ZBF()
endif
return false
endfunction
function Z3F takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZCF))
set t=null
endfunction
function Z6F takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit ZLF=UE7(UL7,"Caster")
local unit hn=UE7(UL7,"Hero")
if GetUnitAbilityLevel(hn,1110456408)==0 then
call KillUnit(ZLF)
call TQ7(UL7)
call U37(t)
else
call SetUnitAbilityLevel(ZLF,1093686856,(UQ7(GetHandleId(hn),"QuasLevel")))
call SetUnitX(ZLF,GetUnitX(hn))
call SetUnitY(ZLF,GetUnitY(hn))
endif
set t=null
set ZLF=null
set hn=null
return false
endfunction
function Z1F takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit hn=GetTriggerUnit()
local unit ZLF=CreateUnit(GetOwningPlayer(hn),1697657174,GetUnitX(hn),GetUnitY(hn),0)
call LP7(ZLF,1093686856)
call SetUnitAbilityLevel(ZLF,1093686856,(UQ7(GetHandleId(hn),"QuasLevel")))
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function Z6F))
call TX7(UL7,"Caster",ZLF)
call TX7(UL7,"Hero",hn)
set t=null
set hn=null
endfunction
function Z0F takes nothing returns boolean
if GetSpellAbilityId()==1093687372 then
call Z1F()
endif
return false
endfunction
function Z5F takes unit hn returns nothing
if GetUnitAbilityLevel(hn,1093687372)>0 then
call SetUnitAbilityLevel(hn,1093687372,(UQ7(GetHandleId(hn),"WexLevel")))
endif
endfunction
function Z2F takes nothing returns boolean
if IsUnitIllusion(GetTriggerUnit())==false then
call Z5F(GetTriggerUnit())
endif
return false
endfunction
function Z_F takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function Z0F))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function Z2F))
call DM8(1093686856,GetRandomReal(1,25))
set t=null
endfunction
function A4F takes unit A7F,unit m5,integer Z9F returns nothing
local unit A8F=CreateUnit(GetOwningPlayer(m5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
call LP7(A8F,1093686868)
call SetUnitAbilityLevel(A8F,1093686868,Z9F)
call IssueTargetOrder(A8F,"drunkenhaze",m5)
set A8F=null
endfunction
function A9F takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit A7F=UE7(UL7,"Source")
local unit m5=UE7(UL7,"Target")
local real ADF=UR7(UL7,"Angle")
local real AEF=UR7(UL7,"Rate")
local integer Z9F=UQ7(UL7,"WexLevel")
local integer ZIF=UQ7(UL7,"QuasLevel")
local integer AFF=ZIF*25/ 3
local real x
local real y
local integer N1E=GetTriggerEvalCount(t)
if N1E>AFF/ 3 then
call TU7(UL7,"Rate",AEF*0.98)
endif
if N1E>AFF or GetTriggerEventId()==EVENT_UNIT_DEATH then
call TQ7(UL7)
call U37(t)
if GetTriggerEventId()!=EVENT_UNIT_DEATH then
call A4F(A7F,m5,Z9F)
endif
else
set x=DD8(GetUnitX(m5)+AEF*Cos(ADF))
set y=DE8(GetUnitY(m5)+AEF*Sin(ADF))
call E78(x,y,150)
call SetUnitPosition(m5,x,y)
endif
set t=null
set A7F=null
set m5=null
return false
endfunction
function AGF takes unit A7F,unit m5,integer Z9F,integer ZIF,integer AHF returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local real ADF=Atan2(GetUnitY(m5)-GetUnitY(A7F),GetUnitX(m5)-GetUnitX(A7F))
call HG8(A7F,m5,ZG4,AHF*40)
call TX7(UL7,"Source",A7F)
call TX7(UL7,"Target",m5)
call TU7(UL7,"Angle",ADF)
call TU7(UL7,"Rate",6)
call TT7(UL7,"WexLevel",Z9F)
call TT7(UL7,"QuasLevel",ZIF)
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function A9F))
set t=null
endfunction
function AIF takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),IQ4)==false and CO7(GetEnumUnit())==false then
call GroupAddUnit(IQ4,GetEnumUnit())
call AGF(IN4,GetEnumUnit(),IH4,tl,Tl)
endif
endfunction
function AJF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit A8F=UE7(UL7,"Caster")
local real a=UR7(UL7,"a")
local real x2=UR7(UL7,"x2")
local real y2=UR7(UL7,"y2")
local group g=UJ7(UL7,"g")
local integer Z9F=UQ7(UL7,"WexLevel")
local integer ZIF=UQ7(UL7,"QuasLevel")
local integer AHF=UQ7(UL7,"ExortLevel")
local real x=GetUnitX(A8F)
local real y=GetUnitY(A8F)
local group g2
if RI7(x,y,x2,y2)<100 then
set x=x2
set y=y2
else
set x=x+33*Cos(a)
set y=y+33*Sin(a)
endif
call SetUnitX(A8F,DD8(x))
call SetUnitY(A8F,DE8(y))
set g2=CA7()
set IN4=A8F
set IQ4=g
set IH4=Z9F
set tl=ZIF
set Tl=AHF
call GroupEnumUnitsInRange(g2,x,y,200,Condition(function FW8))
call ForGroup(g2,function AIF)
call CZ7(g2)
if(x==x2 and y==y2)or GetTriggerEvalCount(t)>35 then
set g2=CA7()
set IN4=A8F
set IQ4=g
set IH4=Z9F
set tl=ZIF
set Tl=AHF
call GroupEnumUnitsInRange(g2,x,y,250,Condition(function FW8))
call ForGroup(g2,function AIF)
call CZ7(g2)
call TQ7(UL7)
call U37(t)
call KillUnit(A8F)
call CZ7(g)
endif
set t=null
set A8F=null
set g=null
set g2=null
return false
endfunction
function AKF takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local location l=GetSpellTargetLoc()
local unit A7F=GetTriggerUnit()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local real a=Atan2(y-GetUnitY(A7F),x-GetUnitX(A7F))
local unit A8F=CreateUnit(GetOwningPlayer(A7F),1848652120,GetUnitX(A7F),GetUnitY(A7F),a*bj_RADTODEG)
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerAddCondition(t,Condition(function AJF))
call TX7(UL7,"Caster",A8F)
call TU7(UL7,"a",a)
call TU7(UL7,"x2",GetUnitX(A7F)+1000*Cos(a))
call TU7(UL7,"y2",GetUnitY(A7F)+1000*Sin(a))
call TL7(UL7,"g",CA7())
call TT7(UL7,"WexLevel",(UQ7(GetHandleId(A7F),"WexLevel")))
call TT7(UL7,"QuasLevel",(UQ7(GetHandleId(A7F),"QuasLevel")))
call TT7(UL7,"ExortLevel",(UQ7(GetHandleId(A7F),"ExortLevel")))
call RemoveLocation(l)
set t=null
set l=null
set A7F=null
endfunction
function AMF takes nothing returns boolean
if GetSpellAbilityId()==1093686861 then
call AKF()
endif
return false
endfunction
function ANF takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function AMF))
call DM8(1093686868,GetRandomReal(1,25))
set t=null
endfunction
function AOF takes unit hn returns real
local integer APF=(UQ7(GetHandleId(hn),"ExortLevel"))
return(80+APF*35.0)/ 2
endfunction
function AQF takes unit hn returns real
local integer ARF=(UQ7(GetHandleId(hn),"WexLevel"))
return 325+ARF*175.0
endfunction
function ASF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit A7F=UE7(UL7,"Source")
local unit m5=UE7(UL7,"Target")
local real DV8=UR7(UL7,"Damage")
local effect FX=UK7(UL7,"FX")
local integer N1E=GetTriggerEvalCount(t)
call HG8(A7F,m5,ZG4,DV8)
if N1E==3 then
call TQ7(UL7)
call U37(t)
call DestroyEffect(FX)
endif
set t=null
set A7F=null
set m5=null
set FX=null
return false
endfunction
function ATF takes unit A7F,unit m5,real DV8 returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call TX7(UL7,"Source",A7F)
call TX7(UL7,"Target",m5)
call TU7(UL7,"Damage",DV8)
call TY7(UL7,"FX",AddSpecialEffectTarget("Environment\\SmallBuildingFire\\SmallBuildingFire2.mdl",m5,"chest"))
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function ASF))
set t=null
endfunction
function AUF takes nothing returns nothing
call ATF(IN4,GetEnumUnit(),IJ4/ 5)
call HG8(IN4,GetEnumUnit(),ZG4,IJ4)
endfunction
function AVF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local real x=UR7(UL7,"x")
local real y=UR7(UL7,"y")
local real a=UR7(UL7,"a")
local integer N1E=GetTriggerEvalCount(t)-26
local unit A7F=UE7(UL7,"Source")
local real AWF
local real AXF
local unit AYF
local group g
if N1E==1 then
set AYF=CreateUnit(GetOwningPlayer(A7F),1697657164,x,y,a*bj_RADTODEG)
call TX7(UL7,"Caster",AYF)
elseif N1E>1 then
set AYF=UE7(UL7,"Caster")
endif
if N1E>0 then
set AWF=DD8(GetUnitX(AYF)+15*Cos(a))
set AXF=DE8(GetUnitY(AYF)+15*Sin(a))
call SetUnitX(AYF,AWF)
call SetUnitY(AYF,AXF)
if(N1E>1 and ModuloInteger(N1E,10)==0)or N1E==1 then
set g=CA7()
set IN4=A7F
set IJ4=AOF(A7F)
call GroupEnumUnitsInRange(g,AWF,AXF,300,Condition(function FW8))
call ForGroup(g,function AUF)
call CZ7(g)
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl",AWF,AXF))
endif
if N1E>AQF(A7F)/ 16.6 then
call TQ7(UL7)
call U37(t)
call KillUnit(AYF)
endif
endif
set t=null
set g=null
set AYF=null
set A7F=null
return false
endfunction
function AZF takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local location l=GetSpellTargetLoc()
local unit A7F=GetTriggerUnit()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local real a=Atan2(y-GetUnitY(A7F),x-GetUnitX(A7F))
local unit AAF=CreateUnit(GetOwningPlayer(A7F),1697657163,x,y,a*bj_RADTODEG)
call SetUnitTimeScale(AAF,0.58)
call UnitApplyTimedLife(AAF,1112820806,1.75)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function AVF))
call TX7(UL7,"Source",A7F)
call TU7(UL7,"x",x)
call TU7(UL7,"y",y)
call TU7(UL7,"a",a)
call RemoveLocation(l)
set t=null
set l=null
set A7F=null
endfunction
function ABF takes nothing returns boolean
if GetSpellAbilityId()==1093686862 then
call AZF()
endif
return false
endfunction
function ACF takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ABF))
set t=null
endfunction
function A3F takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit m5=UE7(UL7,"Target")
local real A6F=UR7(GetHandleId(m5),"MeltingStrike|Last")
if A6F+5<=RT7()then
call UnitRemoveAbility(m5,1093686871)
endif
call TQ7(UL7)
call U37(t)
set t=null
set m5=null
return false
endfunction
function ALF takes unit m5 returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local integer BK7=GetUnitAbilityLevel(m5,1093686871)
if BK7==0 then
call LP7(m5,1093686871)
endif
call SetUnitAbilityLevel(m5,1093686871,BK7+1)
call TX7(UL7,"Target",m5)
call TU7(GetHandleId(m5),"MeltingStrike|Last",RT7())
call TriggerRegisterTimerEvent(t,5,false)
call TriggerAddCondition(t,Condition(function A3F))
set t=null
endfunction
function A1F takes nothing returns boolean
local real d
if GetUnitAbilityLevel(GetTriggerUnit(),1110456625)>0 and GetUnitAbilityLevel(GetEventDamageSource(),1093686870)>0 and UE7(GetHandleId(GetTriggeringTrigger()),"Source")==GetEventDamageSource()then
call UnitRemoveAbility(GetTriggerUnit(),1110456625)
call DisableTrigger(GetTriggeringTrigger())
call ALF(GetTriggerUnit())
call TQ7(GetHandleId(GetTriggeringTrigger()))
call U37(GetTriggeringTrigger())
endif
return false
endfunction
function A0F takes nothing returns nothing
local trigger t
local unit m5
local unit p5
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
set m5=GetSpellTargetUnit()
set p5=GetTriggerUnit()
else
set m5=GetTriggerUnit()
set p5=GetAttacker()
endif
if IsUnitIllusion(p5)==false then
set t=CreateTrigger()
call TX7(GetHandleId(t),"Source",p5)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function A1F))
endif
set t=null
set m5=null
set p5=null
endfunction
function A5F takes nothing returns boolean
if GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED then
if GetUnitAbilityLevel(GetAttacker(),1093686870)>0 and US7(GetHandleId(GetTriggeringTrigger()),"OrbOn")and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==UE7(GetHandleId(GetTriggeringTrigger()),"Source")then
call A0F()
endif
elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER then
if(GetIssuedOrderId()==OrderId("poisonarrows"))then
call TW7(GetHandleId(GetTriggeringTrigger()),"OrbOn",true)
elseif(GetIssuedOrderId()==OrderId("unpoisonarrows"))then
call TW7(GetHandleId(GetTriggeringTrigger()),"OrbOn",false)
endif
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093686870 then
call A0F()
endif
return false
endfunction
function A2F takes unit p5 returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_ISSUED_ORDER)
call TriggerAddCondition(t,Condition(function A5F))
call TX7(GetHandleId(t),"Source",p5)
call TW7(GetHandleId(t),"OrbOn",true)
set t=null
endfunction
function A_F takes nothing returns nothing
call KillUnit(GetEnumUnit())
endfunction
function B4F takes nothing returns boolean
if GetUnitTypeId(GetFilterUnit())==1848652343 then
return true
endif
return false
endfunction
function B7F takes player p returns nothing
local group g=CA7()
call GroupEnumUnitsOfPlayer(g,p,Condition(function B4F))
call ForGroup(g,function A_F)
call CZ7(g)
set g=null
endfunction
function B8F takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit oA
local integer ZIF=(UQ7(GetHandleId(p5),"QuasLevel"))
local integer ZDF=(UQ7(GetHandleId(p5),"ExortLevel"))
call B7F(GetOwningPlayer(p5))
set oA=CreateUnit(GetOwningPlayer(p5),1848652343,GetUnitX(p5),GetUnitY(p5),GetUnitFacing(p5))
call SetUnitColor(oA,GetPlayerColor(Z7[0]))
call AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl",oA,"chest")
call UnitApplyTimedLife(oA,1112820806,10+10*ZIF)
call SetUnitAbilityLevel(oA,1093686870,ZDF)
call A2F(oA)
if Ab[GetPlayerId(GetOwningPlayer(p5))]then
call SelectUnitAddForPlayer(oA,GetOwningPlayer(p5))
endif
if ZIF>3 and ZDF>3 then
set oA=CreateUnit(GetOwningPlayer(p5),1848652343,GetUnitX(p5),GetUnitY(p5),GetUnitFacing(p5))
call SetUnitColor(oA,GetPlayerColor(Z7[0]))
call AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl",oA,"chest")
call UnitApplyTimedLife(oA,1112820806,10+10*ZIF)
call SetUnitAbilityLevel(oA,1093686870,ZDF)
call A2F(oA)
if Ab[GetPlayerId(GetOwningPlayer(p5))]then
call SelectUnitAddForPlayer(oA,GetOwningPlayer(p5))
endif
endif
call SetPlayerTechResearched(GetOwningPlayer(p5),1378889799,ZDF)
call SetPlayerTechResearched(GetOwningPlayer(p5),1378889800,ZIF)
set p5=null
set oA=null
endfunction
function B9F takes nothing returns boolean
if GetSpellAbilityId()==1093686863 then
call B8F()
endif
return false
endfunction
function BDF takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function B9F))
call DM8(1093686870,GetRandomReal(1,25))
call DM8(1093686871,GetRandomReal(1,25))
set t=null
endfunction
function BEF takes unit EL8 returns integer
local integer HF8=(UQ7(GetHandleId(EL8),"QuasLevel"))
if HF8==1 then
return 1093808944
elseif HF8==2 then
return 1093808730
elseif HF8==3 then
return 1093808729
elseif HF8==4 then
return 1093808725
elseif HF8==5 then
return 1093808726
elseif HF8==6 then
return 1093808727
elseif HF8==7 then
return 1093808728
endif
return 1093808944
endfunction
function BFF takes unit O_7 returns nothing
call UnitRemoveAbility(O_7,1093808944)
call UnitRemoveAbility(O_7,1093808730)
call UnitRemoveAbility(O_7,1093808729)
call UnitRemoveAbility(O_7,1093808725)
call UnitRemoveAbility(O_7,1093808726)
call UnitRemoveAbility(O_7,1093808727)
call UnitRemoveAbility(O_7,1093808728)
call UnitRemoveAbility(O_7,1110456410)
endfunction
function BGF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local real NYD=(LoadReal(L7,(GetHandleId(O_7)),(681)))
call FlushChildHashtable(L7,(OL7))
call U37(t)
if GetTriggerEventId()==EVENT_WIDGET_DEATH or NYD<(TimerGetElapsed(W))then
call BFF(O_7)
endif
set t=null
set O_7=null
return false
endfunction
function BHF takes nothing returns nothing
local unit EL8=IN4
local unit O_7=GetEnumUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local real NYD=(LoadReal(L7,(GetHandleId(O_7)),(681)))
if NYD<(TimerGetElapsed(W))then
call LP7(O_7,BEF(EL8))
endif
call SaveReal(L7,(GetHandleId(O_7)),(681),(((TimerGetElapsed(W))+2)*1.0))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call TriggerRegisterTimerEvent(t,2.01,false)
call TriggerRegisterDeathEvent(t,O_7)
call TriggerAddCondition(t,Condition(function BGF))
set t=null
set EL8=null
endfunction
function BIF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local real F3D=(LoadReal(L7,(OL7),(6)))
local real F6D=(LoadReal(L7,(OL7),(7)))
local real a=(LoadReal(L7,(OL7),(137)))
local real H98=(LoadReal(L7,(OL7),(57)))
local real x
local real y
local integer i=1
local integer CS8=GetTriggerEvalCount(t)
local group g
if CS8*0.1>H98 then
call FlushChildHashtable(L7,(OL7))
call U37(t)
else
set g=CA7()
set IN4=EL8
loop
exitwhen i>7
set x=F3D+80*i*Cos((a+90)*bj_DEGTORAD)
set y=F6D+80*i*Sin((a+90)*bj_DEGTORAD)
call GroupEnumUnitsInRange(g,x,y,105,Condition(function F18))
call ForGroup(g,function BHF)
set x=F3D+80*i*Cos((a-90)*bj_DEGTORAD)
set y=F6D+80*i*Sin((a-90)*bj_DEGTORAD)
call GroupEnumUnitsInRange(g,x,y,105,Condition(function F18))
call ForGroup(g,function BHF)
set i=i+1
endloop
call CZ7(g)
set g=null
endif
set t=null
set EL8=null
return false
endfunction
function BJF takes nothing returns nothing
local unit p5=GetTriggerUnit()
local real a=GetUnitFacing(p5)
local integer i=1
local unit oA
local real x
local real y
local real F3D=GetUnitX(p5)+225*Cos(a*bj_DEGTORAD)
local real F6D=GetUnitY(p5)+225*Sin(a*bj_DEGTORAD)
local integer ZIF=(UQ7(GetHandleId(p5),"QuasLevel"))
local integer ZDF=(UQ7(GetHandleId(p5),"ExortLevel"))
local real H98=1.5+1.5*ZIF
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
loop
exitwhen i>7
set x=F3D+80*i*Cos((a+90)*bj_DEGTORAD)
set y=F6D+80*i*Sin((a+90)*bj_DEGTORAD)
set oA=CreateUnit(GetOwningPlayer(p5),1966092367,x,y,GetRandomReal(0,360))
call SetUnitAbilityLevel(oA,1395667016,ZIF)
call SetUnitAbilityLevel(oA,1093687374,ZDF)
call SetUnitAnimation(oA,"birth")
call QueueUnitAnimation(oA,"stand")
call UnitApplyTimedLife(oA,1112820806,H98)
set x=F3D+80*i*Cos((a-90)*bj_DEGTORAD)
set y=F6D+80*i*Sin((a-90)*bj_DEGTORAD)
set oA=CreateUnit(GetOwningPlayer(p5),1966092367,x,y,GetRandomReal(0,360))
call SetUnitAbilityLevel(oA,1395667016,ZIF)
call SetUnitAbilityLevel(oA,1093687374,ZDF)
call SetUnitAnimation(oA,"birth")
call QueueUnitAnimation(oA,"stand")
call UnitApplyTimedLife(oA,1112820806,H98)
set i=i+1
endloop
call TriggerAddCondition(t,Condition(function BIF))
call TriggerRegisterTimerEvent(t,0.1,true)
call SaveReal(L7,(OL7),(6),((F3D)*1.0))
call SaveReal(L7,(OL7),(7),((F6D)*1.0))
call SaveReal(L7,(OL7),(137),((a)*1.0))
call SaveUnitHandle(L7,(OL7),(2),(p5))
call SaveReal(L7,(OL7),(57),((H98)*1.0))
set oA=null
set p5=null
set t=null
endfunction
function BKF takes nothing returns boolean
if GetSpellAbilityId()==1093686864 then
call BJF()
endif
return false
endfunction
function BMF takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function BKF))
call DM8(1395667016,GetRandomReal(1,25))
call DM8(1093687374,GetRandomReal(1,25))
set t=null
endfunction
function BNF takes nothing returns nothing
if RZ7(GetEnumUnit())==false then
call HG8(IN4,GetEnumUnit(),ZI4,IJ4)
endif
endfunction
function BOF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit hn=UE7(UL7,"Hero")
local real DV8=UR7(UL7,"Damage")
local real x=UR7(UL7,"x")
local real y=UR7(UL7,"y")
local group g=CA7()
local integer N1E
set IN4=hn
call GroupEnumUnitsInRange(g,x,y,200,Condition(function FW8))
set N1E=CountUnitsInGroup(g)
if N1E<1 then
set N1E=1
endif
set IJ4=DV8/ N1E
call ForGroup(g,function BNF)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl",x,y))
call CZ7(g)
call DestroyEffect(UK7(UL7,"Effect"))
call TQ7(UL7)
call U37(t)
set t=null
set hn=null
set g=null
return false
endfunction
function BPF takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit hn=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local real DV8=(UQ7(GetHandleId(hn),"ExortLevel"))*62.5+12.5+25
local string s=""
if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(hn))==true or(V8 and(GetLocalPlayer()==KX4 or GetLocalPlayer()==KY4))then
set s="Abilities\\Spells\\Items\\VampiricPotion\\VampPotionCaster.mdl"
endif
call EE8(GetOwningPlayer(hn),5.7,x,y,400)
call TriggerRegisterTimerEvent(t,1.7,false)
call TriggerAddCondition(t,Condition(function BOF))
call TX7(UL7,"Hero",hn)
call TU7(UL7,"x",x)
call TU7(UL7,"y",y)
call TU7(UL7,"Damage",DV8)
call TY7(UL7,"Effect",AddSpecialEffect(s,x,y))
call RemoveLocation(l)
set t=null
set hn=null
set l=null
endfunction
function BQF takes nothing returns boolean
if GetSpellAbilityId()==1093686855 then
call BPF()
endif
return false
endfunction
function BRF takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function BQF))
set t=null
endfunction
function BSF takes unit A7F,unit m5 returns nothing
local unit BTF=CreateUnit(GetOwningPlayer(m5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
call LP7(BTF,1093686857)
call IssueTargetOrder(BTF,"thunderbolt",m5)
if CO7(m5)==false then
call HG8(A7F,m5,ZG4,30)
endif
set BTF=null
endfunction
function BUF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit m5=UE7(UL7,"Target")
local integer BK7=UQ7(UL7,"Level")
local unit A7F=UE7(UL7,"Source")
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamage()>10 and UY7(t,"Cooldown")==false and GetOwningPlayer(GetEventDamageSource())!=GetOwningPlayer(GetTriggerUnit())then
call DisableTrigger(t)
call BSF(A7F,m5)
call EnableTrigger(t)
call U57(t,"Cooldown",0.8-BK7*0.0285)
endif
else
call DestroyEffect(UK7(UL7,"FX"))
call TQ7(UL7)
call U37(t)
endif
set t=null
set m5=null
set A7F=null
return false
endfunction
function BVF takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit hn=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer BK7=(UQ7(GetHandleId(hn),"QuasLevel"))
call TriggerRegisterTimerEvent(t,2.5+BK7*0.5,false)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function BUF))
call TX7(UL7,"Target",m5)
call TT7(UL7,"Level",BK7)
call TX7(UL7,"Source",hn)
call TY7(UL7,"FX",AddSpecialEffectTarget("Abilities\\Weapons\\SpiritOfVengeanceMissile\\SpiritOfVengeanceMissile.mdl",m5,"overhead"))
call BSF(hn,m5)
set t=null
set hn=null
set m5=null
endfunction
function BWF takes nothing returns boolean
if GetSpellAbilityId()==1093686874 then
call BVF()
endif
return false
endfunction
function BXF takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function BWF))
call DM8(1093686857,GetRandomReal(1,25))
set t=null
endfunction
function BYF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit hn=UE7(UL7,"Hero")
local integer BK7=UQ7(UL7,"Level")
call SetUnitState(hn,UNIT_STATE_LIFE,GetUnitState(hn,UNIT_STATE_LIFE)+BK7*1)
return false
endfunction
function BZF takes unit hn,integer BK7 returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(hn)
call TW7(UL7,"Invoker|HasQuas",true)
call TZ7(UL7,"Invoker|QuasTrigger",t)
call TX7(GetHandleId(t),"Hero",hn)
call TT7(GetHandleId(t),"Level",BK7)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function BYF))
set t=null
endfunction
function BAF takes unit hn returns nothing
local integer UL7=GetHandleId(hn)
local boolean BBF=US7(UL7,"Invoker|HasQuas")
local trigger t
if BBF then
call TW7(UL7,"Invoker|HasQuas",false)
set t=UI7(UL7,"Invoker|QuasTrigger")
call TQ7(GetHandleId(t))
call U37(t)
endif
set t=null
endfunction
function BCF takes unit hn returns nothing
local integer UL7=GetHandleId(hn)
local integer B3F=UQ7(UL7,"Invoker|Wex")
local integer B6F=UQ7(UL7,"Invoker|Quas")
local integer BLF=UQ7(UL7,"Invoker|Exort")
local integer Z9F=GetUnitAbilityLevel(hn,1093808472)
local integer ZIF=GetUnitAbilityLevel(hn,1093808471)
local integer ZDF=GetUnitAbilityLevel(hn,1093808470)
call UnitRemoveAbility(hn,1093687108)
call UnitRemoveAbility(hn,1093686853)
call BAF(hn)
call UnitRemoveAbility(hn,1093686839)
if B3F>0 then
call LP7(hn,1093687108)
call LP7(hn,1093686853)
call SetUnitAbilityLevel(hn,1093687108,B3F*Z9F)
call SetUnitAbilityLevel(hn,1093686853,B3F*Z9F)
call SetPlayerAbilityAvailable(GetOwningPlayer(hn),1093687108,false)
endif
if B6F>0 then
call BZF(hn,B6F*ZIF)
endif
if BLF>0 then
call LP7(hn,1093686839)
call SetUnitAbilityLevel(hn,1093686839,BLF*ZDF)
endif
endfunction
function B1F takes nothing returns boolean
if IsUnitIllusion(GetTriggerUnit())==false and(GetLearnedSkill()==1093808472 or GetLearnedSkill()==1093808471 or GetLearnedSkill()==1093808470)then
call BCF(GetTriggerUnit())
if GetLearnedSkill()==1093808472 then
call SetHeroAgi(GetTriggerUnit(),GetHeroAgi(GetTriggerUnit(),false)+2,true)
call TT7((GetHandleId(GetTriggerUnit())),"WexLevel",(GetUnitAbilityLevel(GetTriggerUnit(),1093808472)))
endif
if GetLearnedSkill()==1093808471 then
call SetHeroStr(GetTriggerUnit(),GetHeroStr(GetTriggerUnit(),false)+2,true)
call TT7((GetHandleId(GetTriggerUnit())),"QuasLevel",(GetUnitAbilityLevel(GetTriggerUnit(),1093808471)))
endif
if GetLearnedSkill()==1093808470 then
call SetHeroInt(GetTriggerUnit(),GetHeroInt(GetTriggerUnit(),false)+2,true)
call TT7((GetHandleId(GetTriggerUnit())),"ExortLevel",(GetUnitAbilityLevel(GetTriggerUnit(),1093808470)))
endif
endif
return false
endfunction
function B0F takes unit hn returns nothing
if GetUnitAbilityLevel(hn,1093687372)>0 then
call SetUnitAbilityLevel(hn,1093687372,GetUnitAbilityLevel(hn,1093808472))
endif
endfunction
function B5F takes nothing returns nothing
local integer B2F=0
local unit hn=GetTriggerUnit()
local integer AI7=GetHandleId(hn)
local integer B_F=UQ7(AI7,"Invoker|Wex")
local integer C4F=UQ7(AI7,"Invoker|Quas")
local integer C7F=UQ7(AI7,"Invoker|Exort")
local integer AJ7=UQ7(AI7,"Invoker|Current1")
local integer AK7=UQ7(AI7,"Invoker|Current2")
if B_F==3 and C4F==0 and C7F==0 then
set B2F=1
elseif B_F==2 and C4F==1 and C7F==0 then
set B2F=2
elseif B_F==2 and C4F==0 and C7F==1 then
set B2F=3
elseif B_F==1 and C4F==2 and C7F==0 then
set B2F=4
elseif B_F==1 and C4F==1 and C7F==1 then
set B2F=5
elseif B_F==1 and C4F==0 and C7F==2 then
set B2F=6
elseif B_F==0 and C4F==1 and C7F==2 then
set B2F=7
elseif B_F==0 and C4F==2 and C7F==1 then
set B2F=8
elseif B_F==0 and C4F==0 and C7F==3 then
set B2F=9
elseif B_F==0 and C4F==3 and C7F==0 then
set B2F=10
endif
if BS[B2F]==AK7 then
return
endif
if GetUnitAbilityLevel(hn,1093808473)==1 or GetUnitAbilityLevel(hn,1093748565)==1 then
call SetPlayerAbilityAvailable(GetOwningPlayer(hn),AK7,false)
set AK7=BS[B2F]
call SetPlayerAbilityAvailable(GetOwningPlayer(hn),AK7,true)
else
if AJ7!=0 and AK7!=0 then
call SetPlayerAbilityAvailable(GetOwningPlayer(hn),AJ7,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(hn),AK7,false)
set AJ7=AK7
set AK7=BS[B2F]
call SetPlayerAbilityAvailable(GetOwningPlayer(hn),AJ7,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(hn),AK7,true)
elseif AJ7==0 and AK7!=0 then
call SetPlayerAbilityAvailable(GetOwningPlayer(hn),AK7,false)
set AJ7=AK7
set AK7=BS[B2F]
call SetPlayerAbilityAvailable(GetOwningPlayer(hn),AJ7,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(hn),AK7,true)
else
set AK7=BS[B2F]
call SetPlayerAbilityAvailable(GetOwningPlayer(hn),AK7,true)
endif
endif
call TT7(AI7,"Invoker|Current1",AJ7)
call TT7(AI7,"Invoker|Current2",AK7)
call B0F(hn)
set hn=null
endfunction
function C8F takes unit CL7,integer C9F,integer CDF,integer CEF returns nothing
local integer Orb1=0
local integer Orb2=0
local integer Orb3=0
local integer CFF
local integer CGF
local integer CHF
local integer CIF
local integer CJF
local integer CKF
local integer CMF
local integer CNF
local integer COF
call UnitRemoveAbility(CL7,1093682254)
call UnitRemoveAbility(CL7,1093682247)
call UnitRemoveAbility(CL7,1093683544)
call UnitRemoveAbility(CL7,1093683505)
call UnitRemoveAbility(CL7,1093683504)
call UnitRemoveAbility(CL7,1093683290)
call UnitRemoveAbility(CL7,1093683523)
call UnitRemoveAbility(CL7,1093683522)
call UnitRemoveAbility(CL7,1093683524)
call UnitRemoveAbility(CL7,1093808707)
call UnitRemoveAbility(CL7,1093808708)
call UnitRemoveAbility(CL7,1093808709)
call UnitRemoveAbility(CL7,1093808710)
call UnitRemoveAbility(CL7,1093808711)
call UnitRemoveAbility(CL7,1093808712)
call UnitRemoveAbility(CL7,1093808713)
call UnitRemoveAbility(CL7,1093808714)
call UnitRemoveAbility(CL7,1093808715)
if Y1F(CL7,GJ4)==null then
set CFF=1093682254
set CGF=1093682247
set CHF=1093683544
set CIF=1093683505
set CJF=1093683504
set CKF=1093683290
set CMF=1093683523
set CNF=1093683522
set COF=1093683524
else
set CFF=1093808707
set CGF=1093808708
set CHF=1093808709
set CIF=1093808710
set CJF=1093808711
set CKF=1093808712
set CMF=1093808713
set CNF=1093808714
set COF=1093808715
endif
if C9F==1 and CDF==0 and CEF==0 then
call LP7(CL7,CFF)
elseif C9F==0 and CDF==1 and CEF==0 then
call LP7(CL7,CIF)
elseif C9F==0 and CDF==0 and CEF==1 then
call LP7(CL7,CMF)
elseif C9F==2 and CDF==0 and CEF==0 then
call LP7(CL7,CFF)
call LP7(CL7,CGF)
elseif C9F==1 and CDF==1 and CEF==0 then
call LP7(CL7,CFF)
call LP7(CL7,CJF)
elseif C9F==1 and CDF==0 and CEF==1 then
call LP7(CL7,CFF)
call LP7(CL7,CNF)
elseif C9F==0 and CDF==2 and CEF==0 then
call LP7(CL7,CIF)
call LP7(CL7,CJF)
elseif C9F==0 and CDF==1 and CEF==1 then
call LP7(CL7,CIF)
call LP7(CL7,CNF)
elseif C9F==0 and CDF==0 and CEF==2 then
call LP7(CL7,CMF)
call LP7(CL7,CNF)
elseif C9F==3 and CDF==0 and CEF==0 then
call LP7(CL7,CFF)
call LP7(CL7,CGF)
call LP7(CL7,CHF)
elseif C9F==2 and CDF==1 and CEF==0 then
call LP7(CL7,CFF)
call LP7(CL7,CGF)
call LP7(CL7,CKF)
elseif C9F==2 and CDF==0 and CEF==1 then
call LP7(CL7,CFF)
call LP7(CL7,CGF)
call LP7(CL7,COF)
elseif C9F==1 and CDF==2 and CEF==0 then
call LP7(CL7,CFF)
call LP7(CL7,CJF)
call LP7(CL7,CKF)
elseif C9F==1 and CDF==1 and CEF==1 then
call LP7(CL7,CFF)
call LP7(CL7,CJF)
call LP7(CL7,COF)
elseif C9F==1 and CDF==0 and CEF==2 then
call LP7(CL7,CFF)
call LP7(CL7,CNF)
call LP7(CL7,COF)
elseif C9F==0 and CDF==1 and CEF==2 then
call LP7(CL7,CMF)
call LP7(CL7,CNF)
call LP7(CL7,CKF)
elseif C9F==0 and CDF==2 and CEF==1 then
call LP7(CL7,CIF)
call LP7(CL7,CJF)
call LP7(CL7,COF)
elseif C9F==0 and CDF==0 and CEF==3 then
call LP7(CL7,CMF)
call LP7(CL7,CNF)
call LP7(CL7,COF)
elseif C9F==0 and CDF==3 and CEF==0 then
call LP7(CL7,CIF)
call LP7(CL7,CJF)
call LP7(CL7,CKF)
endif
endfunction
function GGF takes nothing returns nothing
local unit CL7=IN4
local integer OL7=GetHandleId(CL7)
local integer CPF=UQ7(OL7,"Invoker|OrbFirst")
local integer CQF=UQ7(OL7,"Invoker|OrbSecond")
local integer CRF=UQ7(OL7,"Invoker|OrbThird")
local integer C9F=0
local integer CDF=0
local integer CEF=0
if CPF==1093808472 then
set C9F=C9F+1
elseif CPF==1093808471 then
set CDF=CDF+1
elseif CPF==1093808470 then
set CEF=CEF+1
endif
if CQF==1093808472 then
set C9F=C9F+1
elseif CQF==1093808471 then
set CDF=CDF+1
elseif CQF==1093808470 then
set CEF=CEF+1
endif
if CRF==1093808472 then
set C9F=C9F+1
elseif CRF==1093808471 then
set CDF=CDF+1
elseif CRF==1093808470 then
set CEF=CEF+1
endif
call C8F(CL7,C9F,CDF,CEF)
set CL7=null
endfunction
function CSF takes nothing returns nothing
local unit hn=GetTriggerUnit()
local integer UL7=GetHandleId(hn)
local integer CTF=GetSpellAbilityId()
local integer CUF=UQ7(UL7,"Invoker|OrbFirst")
local integer CVF=UQ7(UL7,"Invoker|OrbSecond")
local integer CWF=UQ7(UL7,"Invoker|OrbThird")
local integer B3F=0
local integer B6F=0
local integer BLF=0
set CUF=CVF
set CVF=CWF
set CWF=CTF
if CUF==1093808472 then
set B3F=B3F+1
elseif CUF==1093808471 then
set B6F=B6F+1
elseif CUF==1093808470 then
set BLF=BLF+1
endif
if CVF==1093808472 then
set B3F=B3F+1
elseif CVF==1093808471 then
set B6F=B6F+1
elseif CVF==1093808470 then
set BLF=BLF+1
endif
if CWF==1093808472 then
set B3F=B3F+1
elseif CWF==1093808471 then
set B6F=B6F+1
elseif CWF==1093808470 then
set BLF=BLF+1
endif
call TT7(UL7,"Invoker|OrbFirst",CUF)
call TT7(UL7,"Invoker|OrbSecond",CVF)
call TT7(UL7,"Invoker|OrbThird",CWF)
call TT7(UL7,"Invoker|Wex",B3F)
call TT7(UL7,"Invoker|Quas",B6F)
call TT7(UL7,"Invoker|Exort",BLF)
call C8F(hn,B3F,B6F,BLF)
call BCF(hn)
call B0F(hn)
endfunction
function CXF takes nothing returns boolean
if GetSpellAbilityId()==1093808472 or GetSpellAbilityId()==1093808471 or GetSpellAbilityId()==1093808470 then
call CSF()
elseif GetSpellAbilityId()==1093808473 or GetSpellAbilityId()==1093748565 then
call B5F()
endif
return false
endfunction
function SC8 takes nothing returns nothing
local trigger t=CreateTrigger()
call DH8(BS[1])
call DH8(BS[2])
call DH8(BS[3])
call DH8(BS[4])
call DH8(BS[5])
call DH8(BS[6])
call DH8(BS[7])
call DH8(BS[8])
call DH8(BS[9])
call DH8(BS[10])
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function CXF))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function B1F))
set t=null
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.00,GetObjectName(1848653383))
call DM8(1093687375,GetRandomReal(1,25))
call DM8(1093687108,GetRandomReal(1,25))
call DM8(1093686853,GetRandomReal(1,25))
call DM8(1093686839,GetRandomReal(1,25))
call DM8(1093808470,GetRandomReal(1,25))
call DM8(1093808472,GetRandomReal(1,25))
call DM8(1093808471,GetRandomReal(1,25))
call ZFF()
call ZSF()
call Z3F()
call Z_F()
call ANF()
call ACF()
call BDF()
call BMF()
call BRF()
call BXF()
endfunction
function CYF takes nothing returns nothing
if D69(GetEnumUnit())then
return
endif
call FE8(GetEnumUnit(),RB4,1,7,1110458966)
call UnitMakeAbilityPermanent(GetEnumUnit(),true,RB4)
call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),RB4,false)
endfunction
function CZF takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local integer HF8=GetUnitAbilityLevel(EL8,1093814611)
local group g=CA7()
if HF8==1 then
set RB4=1093748278
elseif HF8==2 then
set RB4=1093748279
elseif HF8==3 then
set RB4=1093748275
elseif HF8==4 then
set RB4=1093748277
endif
call GroupEnumUnitsInRange(g,GetUnitX(EL8),GetUnitY(EL8),925,Condition(function FK8))
call ForGroup(g,function CYF)
call CZ7(g)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl",EL8,"overhead"))
set EL8=null
set g=null
endfunction
function CAF takes nothing returns boolean
if GetSpellAbilityId()==1093814611 then
call CZF()
endif
return false
endfunction
function S68 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function CAF))
set t=null
endfunction
function CBF takes nothing returns nothing
call HD8(RC4,GetEnumUnit(),2)
call HG8(RC4,GetEnumUnit(),ZG4,IX7*75+25)
endfunction
function CCF takes player p,unit m5,integer BK7 returns nothing
local unit HE8=CreateUnit(p,1697656901,GetUnitX(m5),GetUnitY(m5),0)
local integer o6
local group g=CA7()
set IX7=BK7
set IN4=M7[GetPlayerId(p)]
call GroupEnumUnitsInRange(g,GetUnitX(m5),GetUnitY(m5),280,Condition(function FW8))
call GroupAddUnit(g,m5)
set RC4=HE8
call ForGroup(g,function CBF)
call CZ7(g)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\StormBolt\\StormBoltMissile.mdl",m5,"origin"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\StormBolt\\StormBoltMissile.mdl",m5,"origin"))
set HE8=null
set g=null
endfunction
function C3F takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local player p=UG7(UL7,"p")
local integer HJ8=UQ7(UL7,"TargetIndex")
local unit m5=ZA7(HJ8)
local integer BK7=UQ7(UL7,"Level")
local unit G28=UE7(UL7,"Projectile")
local real x=GetUnitX(G28)
local real y=GetUnitY(G28)
local real Y5=GetUnitX(m5)
local real Z5=GetUnitY(m5)
local real F4=1000*0.035
local real l4=PS7(x,y,Y5,Z5)
local real G5D=x+F4*Cos(l4*bj_DEGTORAD)
local real G2D=y+F4*Sin(l4*bj_DEGTORAD)
local boolean FG9=US7(UL7,"Active")
call SetUnitX(G28,G5D)
call SetUnitY(G28,G2D)
call SetUnitFacing(G28,l4)
if RI7(Y5,Z5,G5D,G2D)<=F4 then
if FG9 then
call CCF(p,m5,BK7)
endif
call KillUnit(G28)
call ZZ7(HJ8)
call TQ7(UL7)
call U37(t)
endif
set t=null
set m5=null
set G28=null
return false
endfunction
function C6F takes nothing returns nothing
local unit p5=GetTriggerUnit()
local integer BK7=GetUnitAbilityLevel(p5,1093744944)
local unit m5=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit G28=CreateUnit(GetOwningPlayer(p5),1747990353,GetUnitX(p5),GetUnitY(p5),PS7(GetUnitX(p5),GetUnitY(p5),GetUnitX(m5),GetUnitY(m5)))
local boolean FG9=CY7(GetSpellTargetUnit())==false
call TW7(UL7,"Active",FG9)
call T37(UL7,"p",GetOwningPlayer(p5))
call TT7(UL7,"TargetIndex",ZC7(m5))
call TX7(UL7,"Projectile",G28)
call TT7(UL7,"Level",BK7)
call TriggerRegisterTimerEvent(t,0.035,true)
call TriggerAddCondition(t,Condition(function C3F))
set t=null
set p5=null
set m5=null
set G28=null
endfunction
function CLF takes nothing returns boolean
if GetSpellAbilityId()==1093744944 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\Bolt\\BoltImpact.mdl",GetTriggerUnit(),"weapon"))
else
call C6F()
endif
endif
return false
endfunction
function S38 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call D28(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function CLF))
set t=null
endfunction
function C1F takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit CL7=UE7(OL7,"Hero")
local integer CS8=(UQ7(OL7,"Count"))
if GetTriggerEventId()!=EVENT_PLAYER_UNIT_SPELL_EFFECT then
set CS8=CS8+1
call TT7(OL7,"Count",CS8)
endif
if(GetTriggerEventId()!=EVENT_PLAYER_UNIT_SPELL_EFFECT and CS8>1)or(GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT and E79(GetSpellAbilityId())and GetSpellTargetUnit()==CL7)then
if(GetTriggerEventId()!=EVENT_PLAYER_UNIT_SPELL_EFFECT and CS8>1)then
if LR7(CL7)==false then
call UnitRemoveAbility(CL7,1093687119)
call UnitRemoveAbility(CL7,1110454329)
call UnitRemoveAbility(CL7,1110459472)
endif
call TQ7(OL7)
call U37(t)
endif
elseif GetTriggerEventId()!=EVENT_PLAYER_UNIT_SPELL_EFFECT then
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\BattleCryCaster.mdx",CL7,"overhead"))
call LP7(CL7,1093687119)
call SetUnitAbilityLevel(CL7,1093687119,GetUnitAbilityLevel(CL7,1093752648))
call UnitMakeAbilityPermanent(CL7,true,1093687119)
call SetPlayerAbilityAvailable(GetOwningPlayer(CL7),1093687119,false)
endif
set t=null
set CL7=null
return false
endfunction
function C0F takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit CL7=GetTriggerUnit()
call TriggerRegisterTimerEvent(t,25,false)
call TriggerRegisterTimerEvent(t,0.31,false)
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function C1F))
call TX7(OL7,"Hero",CL7)
call TT7(OL7,"Count",0)
set t=null
set CL7=null
endfunction
function C5F takes nothing returns boolean
if GetSpellAbilityId()==1093752648 and GetUnitTypeId(GetTriggerUnit())==1211117617 then
call C0F()
endif
return false
endfunction
function SL8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function C5F))
set t=null
endfunction
function C2F takes nothing returns nothing
local location l
local unit CR7=GetTriggerUnit()
local real x1=GetUnitX(CR7)
local real y1=GetUnitY(CR7)
local real a
local real x2
local real y2
local integer BK7=GetUnitAbilityLevel(CR7,1093687349)
local real DV8
local real Hk
local unit m5=null
if GetSpellTargetUnit()!=null then
set l=GetUnitLoc(GetSpellTargetUnit())
else
set l=GetSpellTargetLoc()
endif
set x2=GetLocationX(l)
set y2=GetLocationY(l)
set a=Atan2(y2-y1,x2-x1)
set x2=x1+700*Cos(a)
set y2=y1+700*Sin(a)
if BK7==1 then
set DV8=60
set Hk=0.5
elseif BK7==2 then
set DV8=130
set Hk=1
elseif BK7==3 then
set DV8=200
set Hk=1.5
elseif BK7==4 then
set DV8=260
set Hk=2
endif
if GetSpellTargetUnit()!=null and CY7(GetSpellTargetUnit())then
set m5=GetSpellTargetUnit()
endif
call OJE(CR7,m5,DV8,Hk,0.52,x1,y1,x2,y2,150,null,true,1600)
call RemoveLocation(l)
set l=null
set CR7=null
endfunction
function C_F takes nothing returns boolean
if GetSpellAbilityId()==1093687349 then
call C2F()
endif
return false
endfunction
function S18 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function C_F))
call DH8(1093687350)
set t=null
endfunction
function L4F takes nothing returns boolean
if(GetSpellAbilityId()==1093679413 or GetSpellAbilityId()==1093679447)and CO7(GetSpellTargetUnit())then
call RU7(GetTriggerUnit())
call D78(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848659026))
endif
return false
endfunction
function S08 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function L4F))
set t=null
endfunction
function L7F takes nothing returns nothing
local location l
local unit CR7=GetTriggerUnit()
local real x1=GetUnitX(CR7)
local real y1=GetUnitY(CR7)
local real a
local real x2
local real y2
local integer BK7=GetUnitAbilityLevel(CR7,1093687351)
local real DV8
local real Hk
local unit m5=null
if GetSpellTargetUnit()!=null then
set l=GetUnitLoc(GetSpellTargetUnit())
else
set l=GetSpellTargetLoc()
endif
set x2=GetLocationX(l)
set y2=GetLocationY(l)
set a=Atan2(y2-y1,x2-x1)
set x2=x1+700*Cos(a)
set y2=y1+700*Sin(a)
if BK7==1 then
set DV8=80
set Hk=0.75
elseif BK7==2 then
set DV8=140
set Hk=1.25
elseif BK7==3 then
set DV8=200
set Hk=1.75
elseif BK7==4 then
set DV8=260
set Hk=2.25
endif
if GetSpellTargetUnit()!=null and CY7(GetSpellTargetUnit())then
set m5=GetSpellTargetUnit()
endif
call OJE(CR7,m5,DV8,Hk,0.52,x1,y1,x2,y2,150,null,true,1600)
call RemoveLocation(l)
set l=null
set CR7=null
endfunction
function L8F takes nothing returns boolean
if GetSpellAbilityId()==1093687351 then
call L7F()
endif
return false
endfunction
function S58 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function L8F))
call DH8(1093687350)
set t=null
endfunction
function L9F takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local real r=GetHeroInt(m5,true)*5
local integer LDF=IMinBJ(R2I(r),R2I(GetUnitState(m5,UNIT_STATE_MANA)))
call SetUnitState(m5,UNIT_STATE_MANA,GetUnitState(m5,UNIT_STATE_MANA)-LDF)
call HG8(p5,m5,ZG4,LDF)
call T89("MBUR",p5,m5,1,1,1,1,0.5)
call DL8("-"+I2S(LDF),3,m5,0.023,82,82,255,255)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\ManaBurn\\ManaBurnTarget.mdl",m5,"chest"))
set p5=null
set m5=null
endfunction
function LEF takes nothing returns boolean
if GetSpellAbilityId()==1093748789 and CY7(GetSpellTargetUnit())==false then
call L9F()
endif
return false
endfunction
function S28 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function LEF))
set t=null
endfunction
function LFF takes nothing returns nothing
call IssueTargetOrder(TY4,"soulburn",GetEnumUnit())
endfunction
function LGF takes nothing returns nothing
local unit FFD=GetTriggerUnit()
local real x=GetUnitX(FFD)
local real y=GetUnitY(FFD)
local unit IWE=CreateUnit(GetOwningPlayer(FFD),1697656901,x,y,0)
local group g=CA7()
set TY4=IWE
call LP7(IWE,1093748551)
call GroupEnumUnitsInRange(g,x,y,325,Condition(function G48))
call ForGroup(g,function LFF)
call CZ7(g)
call KillUnit(FFD)
call SetUnitAnimation(FFD,"death")
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadLargeDeathExplode\\UndeadLargeDeathExplode.mdl",x,y))
set FFD=null
set IWE=null
set g=null
endfunction
function LHF takes nothing returns boolean
if GetSpellAbilityId()==1093748808 then
call LGF()
endif
return false
endfunction
function S_8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function LHF))
call DH8(1093748551)
set t=null
endfunction
function LIF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7
local integer HF8=GetUnitAbilityLevel(EL8,1093815119)
local group G3D=(LoadGroupHandle(L7,(OL7),(22)))
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamage()>0 and IsPlayerEnemy(GetOwningPlayer(GetEventDamageSource()),GetOwningPlayer(EL8))==true then
if Z07(GetOwningPlayer(GetEventDamageSource()))and IG8(GetEventDamage())then
set O_7=M7[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]
if IsUnitInGroup(O_7,G3D)==false then
call GroupAddUnit(G3D,O_7)
call DW8(EL8,GetEventDamage())
if LR7(O_7)==false then
call HD8(EL8,O_7,0.6*HF8)
call HG8(EL8,O_7,ZI4,GetEventDamage())
endif
set O_7=null
endif
endif
endif
else
call UnitRemoveAbility(EL8,1093815120)
call CZ7(G3D)
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set t=null
set EL8=null
return false
endfunction
function LJF takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,2.25,false)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function LIF))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveGroupHandle(L7,(OL7),(22),(CA7()))
call LP7(EL8,1093815120)
set EL8=null
set t=null
endfunction
function LKF takes nothing returns boolean
if GetSpellAbilityId()==1093815119 then
call LJF()
endif
return false
endfunction
function T48 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function LKF))
set t=null
endfunction
function LMF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer LNF=GetHandleId(t)
local group g=UJ7(LNF,"g")
call CZ7(g)
call TQ7(LNF)
call U37(t)
set t=null
set g=null
return false
endfunction
function LOF takes group g returns nothing
local trigger t=CreateTrigger()
local integer LNF=GetHandleId(t)
call TL7(LNF,"g",g)
call TriggerRegisterTimerEvent(t,10,false)
call TriggerAddCondition(t,Condition(function LMF))
set t=null
endfunction
function LPF takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local unit oA
local integer i=1
local real x1=GetUnitX(CR7)
local real y1=GetUnitY(CR7)
local real x2
local real y2
local real DV8
local real Hk
local integer BK7=GetUnitAbilityLevel(CR7,1093810505)
local group g=CA7()
if BK7==1 then
set Hk=1.5
set DV8=200
elseif BK7==2 then
set Hk=1.8
set DV8=325
elseif BK7==3 then
set Hk=2.25
set DV8=450
endif
loop
exitwhen i>16
set x2=x1+(500+BK7*100)*Cos(22.5*i*bj_DEGTORAD)
set y2=y1+(500+BK7*100)*Sin(22.5*i*bj_DEGTORAD)
call OJE(CR7,null,DV8,Hk,0.52,x1,y1,x2,y2,250,g,false,775)
set i=i+1
endloop
call LOF(g)
set CR7=null
set oA=null
set g=null
endfunction
function LQF takes nothing returns boolean
if GetSpellAbilityId()==1093810505 then
call LPF()
endif
return false
endfunction
function QF8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function LQF))
call DH8(1093687350)
set t=null
endfunction
function LRF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local real NYD=(LoadReal(L7,(GetHandleId(O_7)),(715)))
call FlushChildHashtable(L7,(OL7))
call U37(t)
if GetTriggerEventId()==EVENT_WIDGET_DEATH or NYD<(TimerGetElapsed(W))then
call UnitRemoveAbility(O_7,1093808696)
call UnitRemoveAbility(O_7,1110459704)
endif
set t=null
set O_7=null
return false
endfunction
function LSF takes unit O_7 returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call LP7(O_7,1093808696)
call TriggerRegisterDeathEvent(t,O_7)
call TriggerRegisterTimerEvent(t,6.,false)
call TriggerAddCondition(t,Condition(function LRF))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveReal(L7,(GetHandleId(O_7)),(715),((5.9+(TimerGetElapsed(W)))*1.))
set t=null
endfunction
function LTF takes nothing returns nothing
if D69(GetEnumUnit())==false then
call LSF(GetEnumUnit())
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),1093808696,false)
call HG8(AJ4,GetEnumUnit(),ZH4,25+50*AK4)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\CrushingWave\\CrushingWaveDamage.mdl",GetEnumUnit(),"chest"))
endfunction
function LUF takes nothing returns nothing
local group g=CA7()
local unit EL8=GetTriggerUnit()
local integer HF8=GetUnitAbilityLevel(EL8,1093808694)
set IN4=EL8
set AK4=HF8
set AJ4=EL8
call GroupEnumUnitsInRange(g,GetUnitX(EL8),GetUnitY(EL8),425,Condition(function FW8))
call ForGroup(g,function LTF)
call CZ7(g)
set g=null
set EL8=null
endfunction
function LVF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
call FlushChildHashtable(L7,(OL7))
call U37(t)
call SetUnitTimeScale(EL8,1)
set t=null
set EL8=null
return false
endfunction
function LWF takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
call TriggerRegisterTimerEvent(t,0.3,false)
call TriggerRegisterDeathEvent(t,EL8)
call TriggerAddCondition(t,Condition(function LVF))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SetUnitTimeScale(EL8,2)
set t=null
set EL8=null
endfunction
function LXF takes nothing returns boolean
if GetSpellAbilityId()==1093808694 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
call LUF()
else
call LWF()
endif
endif
return false
endfunction
function QG8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call D28(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function LXF))
set t=null
endfunction
function LYF takes nothing returns nothing
local integer OL7=GetHandleId(GetTriggeringTrigger())
local unit EL8=IN4
local unit O_7=IP4
local integer HF8=UQ7(OL7,"Level")
local real B29=HF8*50
local unit HE8=CreateUnit(GetOwningPlayer(EL8),1697656901,GetUnitX(O_7),GetUnitY(O_7),0)
call LP7(HE8,1093687628)
call SetUnitAbilityLevel(HE8,1093687628,HF8)
call IssueTargetOrder(HE8,"slow",O_7)
if IsUnitType(O_7,UNIT_TYPE_HERO)==true then
set B29=B29/2
endif
call HG8(EL8,O_7,ZI4,B29)
set EL8=null
set O_7=null
set HE8=null
endfunction
function LZF takes nothing returns nothing
local unit CL7=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local trigger t=EO8(CL7,O_7,1747988784,"LYF",1200)
local integer LAF=GetHandleId(t)
call TT7(LAF,"Level",GetUnitAbilityLevel(CL7,1093687629))
set CL7=null
set O_7=null
set t=null
endfunction
function LBF takes nothing returns boolean
if GetSpellAbilityId()==1093687629 and CY7(GetSpellTargetUnit())==false then
call LZF()
endif
return false
endfunction
function PT8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function LBF))
set t=null
endfunction
function LCF takes nothing returns nothing
local location l=GetSpellTargetLoc()
call DC8("Abilities\\Spells\\Orc\\EarthQuake\\EarthQuakeTarget.mdl",GetLocationX(l),GetLocationY(l),2)
call TerrainDeformationRippleBJ(0.3,false,l,0,300,100,0.4,20)
call RemoveLocation(l)
set l=null
endfunction
function L3F takes nothing returns boolean
if GetSpellAbilityId()==1093678679 then
call LCF()
endif
return false
endfunction
function O08 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function L3F))
endfunction
function L6F takes itemtype LLF,integer L1F returns nothing
local group g
set bj_stockPickedItemType=LLF
set bj_stockPickedItemLevel=L1F
set g=CreateGroup()
call GroupEnumUnitsOfType(g,"marketplace",bH)
call ForGroup(g,function UpdateEachStockBuildingEnum)
call DestroyGroup(g)
set g=null
endfunction
function L0F takes nothing returns nothing
local integer pickedItemId
local itemtype L5F
local integer L2F=0
local integer L_F=0
local integer L1F
set L1F=1
loop
if(bj_stockAllowedPermanent[L1F])then
set L_F=L_F+1
if(GetRandomInt(1,L_F)==1)then
set L5F=ITEM_TYPE_PERMANENT
set L2F=L1F
endif
endif
if(bj_stockAllowedCharged[L1F])then
set L_F=L_F+1
if(GetRandomInt(1,L_F)==1)then
set L5F=ITEM_TYPE_CHARGED
set L2F=L1F
endif
endif
if(bj_stockAllowedArtifact[L1F])then
set L_F=L_F+1
if(GetRandomInt(1,L_F)==1)then
set L5F=ITEM_TYPE_ARTIFACT
set L2F=L1F
endif
endif
set L1F=L1F+1
exitwhen L1F>10
endloop
if(L_F==0)then
set L5F=null
return
endif
call L6F(L5F,L2F)
set L5F=null
endfunction
function D4G takes nothing returns nothing
call L0F()
call TimerStart(bj_stockUpdateTimer,bj_STOCK_RESTOCK_INTERVAL,true,function L0F)
endfunction
function D7G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local integer R67=UQ7(OL7,"itemId")
local real x=UR7(OL7,"x")
local real y=UR7(OL7,"y")
local player p=UG7(OL7,"p")
local boolean D8G=US7(OL7,"consumable")
local integer B08=UQ7(OL7,"charges")
local item D9G=CreateItem(R67,x,y)
call SetItemPlayer(D9G,p,true)
call SetItemUserData(D9G,0)
if D8G then
call SetItemCharges(D9G,B08)
endif
call TQ7(OL7)
call U37(t)
set eY[512+GetPlayerId(p)]=3
set K17[288+GetPlayerId(p)]=D9G
set t=null
set p=null
return false
endfunction
function DDG takes integer R67,real x,real y,player p,boolean D8G,integer B08 returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call TT7(OL7,"itemId",R67)
call TU7(OL7,"x",x*1.0)
call TU7(OL7,"y",y*1.0)
call T37(OL7,"p",p)
call TW7(OL7,"consumable",D8G)
call TT7(OL7,"charges",B08)
call TriggerAddCondition(t,Condition(function D7G))
call TriggerRegisterTimerEvent(t,0,false)
set eY[512+GetPlayerId(p)]=2
set t=null
endfunction
function DEG takes player p,unit PI7,integer EM9,item DFG returns item
local integer O17
local item Y0F
set O17=0
loop
exitwhen O17>5
set Y0F=UnitItemInSlot(PI7,O17)
if Y0F!=null and Y0F!=DFG and RB7(Y0F)==EM9 and(GetItemPlayer(Y0F)==p or EM9==VC or EM9==WC)then
set Y0F=null
return UnitItemInSlot(PI7,O17)
endif
set O17=O17+1
endloop
set Y0F=null
return null
endfunction
function DGG takes player p,unit PI7,integer EM9 returns item
local integer O17
local item Y0F
set O17=0
loop
exitwhen O17>5
set Y0F=UnitItemInSlot(PI7,O17)
if(Y0F!=null)and(RB7(Y0F)==EM9)and(GetItemPlayer(Y0F)==p or EM9==VC or EM9==WC)then
set Y0F=null
return UnitItemInSlot(PI7,O17)
endif
set O17=O17+1
endloop
set Y0F=null
return null
endfunction
function DHG takes item Z4 returns integer
local integer n5
local integer i=1
if Z4==null then
return-2
endif
set n5=GetItemTypeId(Z4)
loop
exitwhen i>EV
if BU[i]==n5 then
return ZU[i]
endif
set i=i+1
endloop
return-1
endfunction
function DIG takes item Z4 returns boolean
return GetItemType(Z4)==ITEM_TYPE_POWERUP or GetItemType(Z4)==ITEM_TYPE_PURCHASABLE or GetItemType(Z4)==ITEM_TYPE_MISCELLANEOUS
endfunction
function DJG takes nothing returns nothing
local item JP8=GetEnumItem()
if GetWidgetLife(JP8)>0 and GetItemPlayer(JP8)==G_4 and TJ4==0 and IsItemVisible(JP8)==true then
set TJ4=TJ4+1
call UnitAddItem(H44,JP8)
endif
set JP8=null
endfunction
function DKG takes nothing returns nothing
local item JP8=GetEnumItem()
if GetWidgetLife(JP8)>0 and GetItemPlayer(JP8)==G_4 and IsItemVisible(JP8)==true then
call UnitAddItem(zh,JP8)
endif
set JP8=null
endfunction
function DMG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local unit KX9=UE7(UL7,"Courier")
local player p=UG7(UL7,"p")
local real x=UR7(UL7,"x")
local real y=UR7(UL7,"y")
local rect r=Rect(x-300,y-300,x+300,y+300)
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
call TQ7(UL7)
call U37(t)
set G_4=p
set H44=p5
set zh=KX9
call EnumItemsInRect(r,Condition(function ZY7),function DKG)
else
if GetTriggerEvalCount(t)>9 then
call TQ7(UL7)
call U37(t)
set G_4=p
set H44=p5
set zh=KX9
call EnumItemsInRect(r,Condition(function ZY7),function DKG)
else
set G_4=p
set H44=p5
set TJ4=0
call EnumItemsInRect(r,Condition(function ZY7),function DJG)
endif
endif
call RemoveRect(r)
set t=null
set p5=null
set KX9=null
set r=null
return false
endfunction
function DNG takes unit KX9,unit p5 returns nothing
local player p=GetOwningPlayer(p5)
local integer i
local item JP8
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local real x=GetUnitX(KX9)
local real y=GetUnitY(KX9)
local integer EM9
if IsTerrainPathable(x,y,PATHING_TYPE_WALKABILITY)then
set x=GetUnitX(p5)
set y=GetUnitY(p5)
endif
call TriggerRegisterDeathEvent(t,p5)
call TriggerRegisterTimerEvent(t,0.01,true)
call TriggerAddCondition(t,Condition(function DMG))
call TX7(UL7,"Source",p5)
call TX7(UL7,"Courier",KX9)
call T37(UL7,"p",p)
call TU7(UL7,"x",x*1.0)
call TU7(UL7,"y",y*1.0)
set i=0
loop
exitwhen i>5
set JP8=UnitItemInSlot(KX9,i)
set EM9=RB7(JP8)
if JP8!=null and GetItemPlayer(JP8)==p and NN9(JP8)==false and(EM9!=JA and EM9!=NA and EM9!=QA and EM9!=WA and EM9!=YA)then
call UnitRemoveItem(KX9,JP8)
call SetItemPosition(JP8,x,y)
endif
set i=i+1
endloop
set t=null
set JP8=null
endfunction
function DOG takes trigger t returns nothing
local integer OL7=GetHandleId(t)
local unit DK9=UE7(OL7,"Courier")
local unit CL7=UE7(OL7,"Source")
local real x
local real y
local real DPG
local real DQG
local real DRG
local real DSG
local real DTG
local real EOE
local real DUG
local real DVG=GetUnitX(CL7)
local real DWG=GetUnitY(CL7)
if(R17(CL7)==false)then
set x=GetUnitX(CL7)
set y=GetUnitY(CL7)
set DSG=UR7(OL7,"DeliveryTargetX")
set DTG=UR7(OL7,"DeliveryTargetY")
call TU7(OL7,"DeliveryTargetX",x*1.0)
call TU7(OL7,"DeliveryTargetY",y*1.0)
set DRG=Atan2(y-DTG,x-DSG)
set DPG=SquareRoot((x-DSG)*(x-DSG)+(y-DTG)*(y-DTG))/0.2
set DQG=GetUnitMoveSpeed(DK9)
set EOE=RI7(GetUnitX(CL7),GetUnitY(CL7),GetUnitX(DK9),GetUnitY(DK9))
set DUG=RAbsBJ(DRG*bj_RADTODEG-GetUnitFacing(DK9))
if(EOE<DQG-DPG and DQG>DPG)or(EOE<RMaxBJ(DQG,DPG)and DUG>=90)then
else
set DVG=x+DPG*Cos(DRG)
set DWG=y+DPG*Sin(DRG)
endif
endif
call TT7(OL7,"OnDelivery",(1))
call IssuePointOrder(DK9,"move",DVG,DWG)
set DK9=null
set CL7=null
set t=null
endfunction
function DXG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit KX9=UE7(OL7,"Courier")
local unit EL8=UE7(OL7,"Source")
local real x
local real y
local integer i
local player p=GetOwningPlayer(EL8)
local item JP8
local integer O5=GetPlayerId(p)
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
if GetTriggerUnit()==EL8 then
call KZ9(KX9)
endif
call TQ7(OL7)
call U37(t)
elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_POINT_ORDER then
if(UQ7(OL7,"OnDelivery"))==1 then
call TT7(OL7,"OnDelivery",0)
elseif GetIssuedOrderId()!=852100 and GetIssuedOrderId()!=852090 and(not QY4[O5])then
call U37(t)
endif
elseif(QY4[O5]and IG4[O5])then
call KZ9(KX9)
else
if RH7(KX9,EL8)<150 then
call TQ7(OL7)
call U37(t)
if QY4[O5]and UQ7(GetHandleId(KX9),"aiCrow|CurrentOwner")==O5 then
set K07[432+O5]=2
call G1F(O5,M7[O5],false)
set K07[432+O5]=0
else
call DNG(KX9,EL8)
endif
call KZ9(KX9)
else
if QY4[O5]then
set IN4=KX9
set i=SS7(1000.,IN4,Condition(function GL8))
if(i==0)then
call DOG(t)
else
call IssuePointOrderByIdLoc(KX9,851986,S_7(KU4[O5]))
if RH7(KX9,M7[O5])<800 and is(M7[O5])and h4[O5]==null then
call IssuePointOrderByIdLoc(M7[O5],851986,S_7(KU4[O5]))
endif
endif
else
call DOG(t)
endif
if(Bz>hq[880+O5])and Z27(p)and(RH7(KX9,EL8)<1800)then
call IssueImmediateOrderById(KX9,852100)
set hq[880+O5]=Bz+5
endif
endif
endif
set t=null
set KX9=null
set EL8=null
set JP8=null
return false
endfunction
function DYG takes unit CL7,boolean DZG returns nothing
local trigger t=null
local integer OL7=0
local unit DK9=GetSellingUnit()
local integer DAG=UQ7(GetHandleId(DK9),"DeliveryIndex")
local integer O5=GetPlayerId(GetOwningPlayer(CL7))
if CL7!=null then
if QY4[O5]and(UQ7(GetHandleId(DK9),"aiCrow|CurrentOwner")==O5)then
set t=UI7(GetHandleId(DK9),"aiCrow|DeliverTrigger")
if(t!=null and IsTriggerEnabled(t))then
set t=null
set DK9=null
return
endif
endif
set t=CreateTrigger()
set OL7=GetHandleId(t)
if CL7!=UE7(GetHandleId(DK9),"DeliveryTarget"+I2S(DAG))and DZG then
set DAG=DAG+1
call TT7(GetHandleId(DK9),"DeliveryIndex",DAG)
call TX7(GetHandleId(DK9),"DeliveryTarget"+I2S(DAG),(CL7))
endif
call TU7(OL7,"DeliveryTargetX",(GetUnitX(CL7)*1.0))
call TU7(OL7,"DeliveryTargetY",(GetUnitY(CL7)*1.0))
call IssueTargetOrder(DK9,"move",CL7)
call TriggerRegisterDeathEvent(t,DK9)
call TriggerRegisterDeathEvent(t,CL7)
call TriggerRegisterUnitEvent(t,DK9,EVENT_UNIT_ISSUED_ORDER)
call TriggerRegisterUnitEvent(t,DK9,EVENT_UNIT_ISSUED_TARGET_ORDER)
call TriggerRegisterUnitEvent(t,DK9,EVENT_UNIT_ISSUED_POINT_ORDER)
call TriggerRegisterTimerEvent(t,0.2,true)
call TriggerAddCondition(t,Condition(function DXG))
call TX7(OL7,"Source",CL7)
call TX7(OL7,"Courier",DK9)
call TZ7(GetHandleId(DK9),"aiCrow|DeliverTrigger",t)
endif
set t=null
set DK9=null
endfunction
function DBG takes nothing returns nothing
local item JP8=GetEnumItem()
local unit u=OI4
local player p=GetOwningPlayer(u)
local integer id=GetPlayerId(p)
if GetWidgetLife(JP8)>0 and GetItemPlayer(JP8)==p and IsItemVisible(JP8)==true then
call SetItemPosition(JP8,KV4[id],KW4[id])
call UnitAddItem(OJ4,JP8)
endif
set JP8=null
set u=null
set p=null
endfunction
function DCG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit u=(LoadUnitHandle(L7,(OL7),(53)))
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
set OI4=u
set OJ4=EL8
if ZL7(GetOwningPlayer(u))then
call EnumItemsInRect(OD,Condition(function ZY7),function DBG)
else
call EnumItemsInRect(PD,Condition(function ZY7),function DBG)
endif
if GetTriggerEvalCount(t)==3 then
call KillUnit(u)
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set t=null
set u=null
set EL8=null
return false
endfunction
function D3G takes unit NPD returns nothing
local unit u=GetSoldUnit()
local integer i=0
local item JP8
local integer id=GetPlayerId(GetOwningPlayer(u))
local region r=CreateRegion()
local trigger t
local integer OL7
local unit EL8=GetSellingUnit()
if ZL7(GetOwningPlayer(u))then
call RegionAddRect(r,OD)
else
call RegionAddRect(r,PD)
endif
if IsUnitInRegion(r,EL8)then
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function DCG))
call SaveUnitHandle(L7,(OL7),(53),(u))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
loop
exitwhen i>5
set JP8=UnitItemInSlot(EL8,i)
if CH7(RB7(JP8))==false and RB7(JP8)!=X0 and NN9(JP8)==false then
call UnitRemoveItemFromSlot(EL8,i)
if IsUnitInRegion(r,EL8)and IsPlayerAlly(GetItemPlayer(JP8),GetOwningPlayer(EL8))==true then
set id=GetPlayerId(GetItemPlayer(JP8))
call SetItemPosition(JP8,KV4[id],KW4[id])
endif
endif
set i=i+1
endloop
endif
call RemoveRegion(r)
set u=null
set JP8=null
set t=null
set r=null
set EL8=null
endfunction
function D6G takes nothing returns nothing
if GetUnitTypeId(GetSoldUnit())==1747990581 then
if M7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]!=null and LR7(M7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))])==false then
call DYG(M7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))],true)
endif
call KillUnit(GetSoldUnit())
elseif GetUnitTypeId(GetSoldUnit())==1747993174 then
if M7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]!=null then
call D3G(M7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))])
endif
call KillUnit(GetSoldUnit())
elseif GetUnitTypeId(GetSoldUnit())==1747993669 then
if M7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]!=null then
call DYG(UE7(GetHandleId(GetSellingUnit()),("DeliveryTarget"+I2S(UQ7(GetHandleId(GetSellingUnit()),"DeliveryIndex")-1))),false)
endif
call KillUnit(GetSoldUnit())
elseif HA8(GetUnitTypeId(GetSoldUnit()))then
if M7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]!=null then
if LR7(M7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))])==true and GetOwningPlayer(GetSoldUnit())==GetOwningPlayer(GetSellingUnit())and(UX7(M7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))],"JustUseAegis")==false)then
call B38(M7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))])
set GG7=true
call ReviveHero(M7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))],GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),true)
set GG7=false
call SetUnitState(M7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))],UNIT_STATE_MANA,10000)
set VG4[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]=IMaxBJ(0,VG4[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]-X9[HC8(GetHeroLevel(M7[GetPlayerId(GetOwningPlayer(GetSellingUnit()))]))])
call I98(GetOwningPlayer(GetSoldUnit()))
else
call SetPlayerState(GetOwningPlayer(GetSoldUnit()),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(GetOwningPlayer(GetSoldUnit()),PLAYER_STATE_RESOURCE_GOLD)+X9[HC8(GetHeroLevel(M7[GetPlayerId(GetOwningPlayer(GetSellingUnit()))]))])
endif
endif
call KillUnit(GetSoldUnit())
endif
endfunction
function DLG takes player p4,unit S4,integer F9F,integer FDF,integer J_D,integer K4D,integer K7D,integer FEF,integer FFF returns nothing
local item W18
call DisableTrigger(SV4)
if FDF>0 then
set W18=UnitItemInSlot(S4,0)
call RA7(W18)
endif
if J_D>0 then
set W18=UnitItemInSlot(S4,1)
call RA7(W18)
endif
if K4D>0 then
set W18=UnitItemInSlot(S4,2)
call RA7(W18)
endif
if K7D>0 then
set W18=UnitItemInSlot(S4,3)
call RA7(W18)
endif
if FEF>0 then
set W18=UnitItemInSlot(S4,4)
call RA7(W18)
endif
if FFF>0 then
set W18=UnitItemInSlot(S4,5)
call RA7(W18)
endif
set M47=F9F
set K_7=p4
set W18=UnitAddItemById(S4,ZU[F9F])
call SetItemPlayer(W18,p4,true)
call SetItemUserData(W18,0)
if IsPlayerInForce(p4,QX4)and(S4==UE7(GetHandleId(p4),"aiBearDummy"))then
set MO7=UE7(GetHandleId(p4),"MyBear")
if MO7!=null and GetUnitState(MO7,UNIT_STATE_LIFE)>0 then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl",MO7,"origin"))
endif
else
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl",S4,"origin"))
endif
if RB7(W18)==DI4 then
call SetItemCharges(W18,6)
endif
call EnableTrigger(SV4)
if IsPlayerAlly(GetLocalPlayer(),p4)==true then
if F9F==T1 then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,Q[GetPlayerId(p4)]+(KZ4[GetPlayerId((p4))])+"|r |c00ffff00"+GetObjectName(1848659032)+"|r")
elseif F9F==B5 then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,Q[GetPlayerId(p4)]+(KZ4[GetPlayerId((p4))])+"|r |c00ffff00"+GetObjectName(1848659033)+"|r")
endif
endif
set K17[288+GetPlayerId(p4)]=W18
set W18=null
endfunction
function D1G takes player p,unit S4,integer EE9 returns boolean
local integer i
local integer x
local integer y
local integer array FIF
local boolean array FJF
local integer array FKF
local boolean array FMF
local boolean array FNF
local integer array FOF
local player FPF
local integer D0G=1
local integer k
local player array FQF
local integer m
local item FRF
local item FSF
local item FTF
local item FUF
local item FVF
local item FWF
local player FXF
local player FYF
local player FZF
local player FAF
local player FBF
local player FCF
local integer F3F
local integer F6F
local integer FLF
local integer F1F
local integer F0F
local integer F5F
local integer F2F
local integer F_F
local integer G4F
local integer G7F
local integer G8F
local integer G9F
local boolean D5G=false
local boolean GDF=true
set FRF=UnitItemInSlot(S4,0)
set FSF=UnitItemInSlot(S4,1)
set FTF=UnitItemInSlot(S4,2)
set FUF=UnitItemInSlot(S4,3)
set FVF=UnitItemInSlot(S4,4)
set FWF=UnitItemInSlot(S4,5)
set FXF=GetItemPlayer(FRF)
set FYF=GetItemPlayer(FSF)
set FZF=GetItemPlayer(FTF)
set FAF=GetItemPlayer(FUF)
set FBF=GetItemPlayer(FVF)
set FCF=GetItemPlayer(FWF)
set F3F=GetItemUserData(FRF)
set F6F=GetItemUserData(FSF)
set FLF=GetItemUserData(FTF)
set F1F=GetItemUserData(FUF)
set F0F=GetItemUserData(FVF)
set F5F=GetItemUserData(FWF)
set F2F=RB7(FRF)
set F_F=RB7(FSF)
set G4F=RB7(FTF)
set G7F=RB7(FUF)
set G8F=RB7(FVF)
set G9F=RB7(FWF)
if(GetPlayerSlotState((p))==PLAYER_SLOT_STATE_LEFT)then
set D0G=5
set D5G=true
endif
set FQF[1]=p
if D5G then
set k=2
set m=1
loop
exitwhen k>D0G
if ZL7(p)then
if p!=Z7[m]then
set FQF[k]=Z7[m]
set k=k+1
endif
else
if p!=A7[m]then
set FQF[k]=A7[m]
set k=k+1
endif
endif
set m=m+1
endloop
endif
set k=1
loop
exitwhen k>D0G
set FPF=FQF[k]
set i=0
if FRF!=null and F3F==1 and(FXF==FPF or PK4 or(GetPlayerSlotState((FXF))==PLAYER_SLOT_STATE_LEFT)==true)then
set FIF[i+1]=F2F
else
set FIF[i+1]=0
endif
set i=1
if FSF!=null and F6F==1 and(FYF==FPF or PK4 or(GetPlayerSlotState((FYF))==PLAYER_SLOT_STATE_LEFT)==true)then
set FIF[i+1]=F_F
else
set FIF[i+1]=0
endif
set i=2
if FTF!=null and FLF==1 and(FZF==FPF or PK4 or(GetPlayerSlotState((FZF))==PLAYER_SLOT_STATE_LEFT)==true)then
set FIF[i+1]=G4F
else
set FIF[i+1]=0
endif
set i=3
if FUF!=null and F1F==1 and(FAF==FPF or PK4 or(GetPlayerSlotState((FAF))==PLAYER_SLOT_STATE_LEFT)==true)then
set FIF[i+1]=G7F
else
set FIF[i+1]=0
endif
set i=4
if FVF!=null and F0F==1 and(FBF==FPF or PK4 or(GetPlayerSlotState((FBF))==PLAYER_SLOT_STATE_LEFT)==true)then
set FIF[i+1]=G8F
else
set FIF[i+1]=0
endif
set i=5
if FWF!=null and F5F==1 and(FCF==FPF or PK4 or(GetPlayerSlotState((FCF))==PLAYER_SLOT_STATE_LEFT)==true)then
set FIF[i+1]=G9F
else
set FIF[i+1]=0
endif
set FIF[0]=EE9
set i=1
loop
exitwhen i>(FQ4)
set FKF[0]=FJ4[i]
set FKF[1]=FK4[i]
set FKF[2]=FM4[i]
set FKF[3]=FN4[i]
set FKF[4]=FO4[i]
if GDF then
set FMF[0]=true
set FMF[1]=true
set FMF[2]=true
set FMF[3]=true
set FMF[4]=true
set FMF[5]=true
set FMF[6]=true
set FJF[0]=true
set FJF[1]=true
set FJF[2]=true
set FJF[3]=true
set FJF[4]=true
set FJF[5]=true
set FJF[6]=true
set FOF[0]=0
set FOF[1]=0
set FOF[2]=0
set FOF[3]=0
set FOF[4]=0
set FOF[5]=0
set FOF[6]=0
set GDF=false
endif
set FNF[0]=false
set FNF[1]=false
set FNF[2]=false
set FNF[3]=false
set FNF[4]=false
set x=0
loop
exitwhen x==5
if FKF[x]==0 then
set FNF[x]=true
else
set y=0
loop
exitwhen y==7
if FIF[y]==FKF[x]and FJF[y]and FMF[x]then
set FJF[y]=false
set FMF[x]=false
set FNF[x]=true
set FOF[y]=1
set y=7
set GDF=true
else
set y=y+1
endif
endloop
endif
if FNF[x]==true then
set x=x+1
else
set x=5
endif
endloop
if FNF[0]and FNF[1]and FNF[2]and FNF[3]and FNF[4]then
call DLG(FPF,S4,FP4[i],FOF[1],FOF[2],FOF[3],FOF[4],FOF[5],FOF[6])
set i=FQ4+2
else
set i=i+1
endif
endloop
set EL=FOF[0]==1
if i==(FQ4+2)then
set FRF=null
set FSF=null
set FTF=null
set FUF=null
set FVF=null
set FWF=null
return true
endif
set k=k+1
endloop
set FRF=null
set FSF=null
set FTF=null
set FUF=null
set FVF=null
set FWF=null
return false
endfunction
function D2G takes player p4,unit S4,integer EE9 returns boolean
local boolean FS9
set EL=false
set FS9=D1G(p4,S4,EE9)
return FS9
endfunction
function D_G takes nothing returns boolean
if IsUnitAlly(GetFilterUnit(),GetOwningPlayer(IN4))==true and GetUnitAbilityLevel(GetFilterUnit(),1097625443)==0 and UnitInventorySize(GetFilterUnit())>1 and GetUnitTypeId(GetFilterUnit())!=1852010352 and GetPlayerAlliance(GetOwningPlayer(GetFilterUnit()),GetOwningPlayer(IN4),ALLIANCE_SHARED_CONTROL)and GetOwningPlayer(IN4)!=GetOwningPlayer(GetFilterUnit())and IsUnitIllusion(GetFilterUnit())==false and LR7(GetFilterUnit())==false then
if RZ7(GetFilterUnit())==true then
set IH4=IH4+1
set IP4=GetFilterUnit()
endif
endif
return false
endfunction
function E4G takes nothing returns boolean
if IsUnitAlly(GetFilterUnit(),GetOwningPlayer(IN4))==true and GetUnitAbilityLevel(GetFilterUnit(),1097625443)==0 and UnitInventorySize(GetFilterUnit())>1 and GetUnitTypeId(GetFilterUnit())!=1852010352 and IsUnitIllusion(GetFilterUnit())==false and LR7(GetFilterUnit())==false then
if GetOwningPlayer(IN4)==GetOwningPlayer(GetFilterUnit())then
if IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true then
if GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 then
set IP4=GetFilterUnit()
endif
elseif IsUnitType(IP4,UNIT_TYPE_HERO)==false then
set IP4=GetFilterUnit()
endif
endif
endif
return false
endfunction
function E7G takes unit S4,integer E8G returns unit
local group g=CA7()
set IN4=S4
set IP4=null
call GroupEnumUnitsInRange(g,GetUnitX(eH),GetUnitY(eH),1300+E8G,Condition(function E4G))
if IP4==null then
set IH4=0
call CZ7(g)
set g=CA7()
call GroupEnumUnitsInRange(g,GetUnitX(eH),GetUnitY(eH),1100+E8G,Condition(function D_G))
if IH4>1 then
set IP4=null
endif
endif
call CZ7(g)
set g=null
return IP4
endfunction
function E9G takes player p4,unit S4,unit EDG,integer EE9,real x,real y,integer X6F,integer EEG returns nothing
local unit EFG
local item XVF=null
set eH=EDG
if GetUnitPointValue(S4)==200 then
set EFG=E7G(S4,0)
if EFG==null then
set EFG=E7G(S4,300)
endif
else
set EFG=S4
endif
set M47=EE9
set K_7=p4
if EFG==null or D2G(p4,EFG,ED9(EE9))==false or EL==false then
if EO9(ED9(EE9))then
if D3F(EFG)==0 or EFG==null then
call DDG(SU[EE9],x,y,p4,true,X6F)
else
set XVF=UnitAddItemById(EFG,ZU[EE9])
call SetItemCharges(XVF,X6F)
call SetItemPlayer(XVF,p4,true)
call SetItemUserData(XVF,EEG)
endif
elseif EN9(ED9(EE9))then
if EFG==null or(D3F(EFG)==0 and SY7(EFG,ZU[EE9])==null)then
call DDG(SU[EE9],x,y,p4,true,EP9(EE9))
else
set XVF=CreateItem(SU[EE9],x,y)
call SetItemPlayer(XVF,p4,true)
call SetItemUserData(XVF,EEG)
call SetItemCharges(XVF,EP9(EE9))
call UnitAddItem(EFG,XVF)
endif
else
if D3F(EFG)==0 or EFG==null then
call DDG(SU[EE9],x,y,p4,false,0)
else
set XVF=UnitAddItemById(EFG,ZU[EE9])
call SetItemPlayer(XVF,p4,true)
call SetItemUserData(XVF,0)
endif
endif
endif
if XVF!=null then
set K17[288+GetPlayerId(p4)]=XVF
endif
set EFG=null
set XVF=null
endfunction
function EGG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit EHG=UE7(UL7,"Tower")
if GetTriggerEventId()!=EVENT_UNIT_DEATH then
call UnitRemoveAbility(EHG,1093744466)
call UnitRemoveAbility(EHG,1093809222)
endif
call DestroyEffect(UK7(UL7,"FX"))
call TQ7(UL7)
call U37(t)
set t=null
set EHG=null
return false
endfunction
function EIG takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>0.5 and IsUnitAlly(GetFilterUnit(),Sh)==true and GetOwningPlayer(GetFilterUnit())!=C7 and GetUnitTypeId(GetFilterUnit())!=1852010352 and GetUnitTypeId(GetFilterUnit())!=1848657482 and GetUnitTypeId(GetFilterUnit())!=1848657481 and GetUnitTypeId(GetFilterUnit())!=1848657462 and GetUnitTypeId(GetFilterUnit())!=1848657480
endfunction
function EJG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit S4=GetEnumUnit()
local string s
call UnitAddAbility(S4,1093744466)
call UnitAddAbility(S4,1093809222)
if ZL7(Sh)then
set s="effects\\GlyphSent.mdx"
else
set s="effects\\GlyphScourge.mdx"
endif
call TY7(UL7,"FX",AddSpecialEffectTarget(s,S4,"origin"))
call TX7(UL7,"Tower",S4)
call TriggerRegisterUnitEvent(t,S4,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,IF7,false)
call TriggerAddCondition(t,Condition(function EGG))
set t=null
set S4=null
endfunction
function EKG takes unit EMG,player p returns nothing
local integer i
if ZL7(p)then
set i=1
if EMG!=KU4[i]then
call IssueImmediateOrder(KU4[i],"coldarrows")
endif
set i=2
if EMG!=KU4[i]then
call IssueImmediateOrder(KU4[i],"coldarrows")
endif
set i=3
if EMG!=KU4[i]then
call IssueImmediateOrder(KU4[i],"coldarrows")
endif
set i=4
if EMG!=KU4[i]then
call IssueImmediateOrder(KU4[i],"coldarrows")
endif
set i=5
if EMG!=KU4[i]then
call IssueImmediateOrder(KU4[i],"coldarrows")
endif
else
set i=7
if EMG!=KU4[i]then
call IssueImmediateOrder(KU4[i],"coldarrows")
endif
set i=8
if EMG!=KU4[i]then
call IssueImmediateOrder(KU4[i],"coldarrows")
endif
set i=9
if EMG!=KU4[i]then
call IssueImmediateOrder(KU4[i],"coldarrows")
endif
set i=10
if EMG!=KU4[i]then
call IssueImmediateOrder(KU4[i],"coldarrows")
endif
set i=11
if EMG!=KU4[i]then
call IssueImmediateOrder(KU4[i],"coldarrows")
endif
endif
endfunction
function ENG takes nothing returns nothing
local group g
local unit EMG=GetTriggerUnit()
local player p=GetOwningPlayer(EMG)
if(ZL7(p)and Th==false)or(ZL7(p)==false and Uh==false)then
set g=CA7()
set Sh=p
call GroupEnumUnitsInRange(g,0,0,12000,Condition(function EIG))
call ForGroup(g,function EJG)
call CZ7(g)
if ZL7(p)then
set Th=true
call EKG(EMG,p)
set Th=false
call TU7(R44,"AI|Glyph|Sent",Bz+300.)
else
set Uh=true
call EKG(EMG,p)
set Uh=false
call TU7(R44,"AI|Glyph|Scrg",Bz+300.)
endif
endif
set g=null
set EMG=null
set p=null
endfunction
function EOG takes nothing returns nothing
if GetSpellAbilityId()==1093743665 or GetSpellAbilityId()==1093752649 then
call ENG()
endif
endfunction
function EPG takes player p,integer EE9 returns nothing
local integer i=GetPlayerId(p)
if EE9==OC then
set Zh[i]=Zh[i]+1
elseif EE9==QC then
set Zh[i]=Zh[i]+1
elseif EE9==TC then
set Zh[i]=Zh[i]+3
elseif EE9==VC then
set Zh[i]=Zh[i]+2
set H74[i]=H74[i]+2
elseif EE9==WC then
set Zh[i]=Zh[i]+2
set H74[i]=H74[i]+2
elseif EE9==XC then
set Zh[i]=Zh[i]+1
elseif EE9==YC then
set Zh[i]=Zh[i]+1
elseif EE9==CC then
set Zh[i]=Zh[i]+2
elseif EE9==PC then
set Zh[i]=Zh[i]+2
elseif EE9==LC then
set Zh[i]=Zh[i]+2
endif
endfunction
function EQG takes unit ERG,unit ESG returns boolean
local integer EE9
if GetUnitTypeId(ESG)==1311788365 then
return true
endif
if(ERG==JC4 or ERG==JB4)and IsUnitAlly(ESG,A7[0])then
return false
elseif(ERG==I_4 or ERG==I34)and IsUnitAlly(ESG,Z7[0])then
return false
endif
set EE9=CM7(ESG)
if EE9==VC or EE9==EW or EE9==H3 then
return true
endif
return false
endfunction
function ETG takes unit EDG,unit EUG returns real
if EDG==I34 or EDG==IL4 or EDG==I04 or EDG==I_4 or EDG==J44 or EDG==J74 or EDG==J84 or EDG==J94 or EDG==JD4 or EDG==JE4 then
return KV4[GetPlayerId(GetOwningPlayer(EUG))]
elseif EDG==JB4 or EDG==zs or EDG==Zs or EDG==JC4 or EDG==eS or EDG==oS or EDG==rS or EDG==aS or EDG==nS or EDG==VS then
return KV4[GetPlayerId(GetOwningPlayer(EUG))]
elseif EDG==LS4 or EDG==LV4 then
return-7133.0
elseif EDG==LT4 or EDG==LU4 then
return 7207.0
endif
return GetUnitX(EUG)
endfunction
function EVG takes unit EDG,unit EUG returns real
if EDG==I34 or EDG==IL4 or EDG==I04 or EDG==I_4 or EDG==J44 or EDG==J74 or EDG==J84 or EDG==J94 or EDG==JD4 or EDG==JE4 then
return KW4[GetPlayerId(GetOwningPlayer(EUG))]
elseif EDG==JB4 or EDG==zs or EDG==Zs or EDG==JC4 or EDG==eS or EDG==oS or EDG==rS or EDG==aS or EDG==nS or EDG==VS then
return KW4[GetPlayerId(GetOwningPlayer(EUG))]
elseif EDG==LS4 or EDG==LV4 then
return 4317.0
elseif EDG==LT4 or EDG==LU4 then
return-4243.0
endif
return GetUnitY(EUG)
endfunction
function EWG takes unit EDG,unit EUG returns real
if EDG==I34 or EDG==IL4 or EDG==I04 or EDG==I_4 or EDG==J44 or EDG==J74 or EDG==J84 or EDG==J94 or EDG==JD4 or EDG==JE4 then
return GetRectCenterX(ED)
elseif EDG==JB4 or EDG==zs or EDG==Zs or EDG==JC4 or EDG==eS or EDG==oS or EDG==rS or EDG==aS or EDG==nS or EDG==VS then
return GetRectCenterX(L9)
endif
return GetUnitX(EUG)
endfunction
function EXG takes unit EDG,unit EUG returns real
if EDG==I34 or EDG==IL4 or EDG==I04 or EDG==I_4 or EDG==J44 or EDG==J74 or EDG==J84 or EDG==J94 or EDG==JD4 or EDG==JE4 then
return GetRectCenterY(ED)
elseif EDG==JB4 or EDG==zs or EDG==Zs or EDG==JC4 or EDG==eS or EDG==oS or EDG==rS or EDG==aS or EDG==nS or EDG==VS then
return GetRectCenterY(L9)
endif
return GetUnitY(EUG)
endfunction
function EYG takes nothing returns nothing
local unit u=GetSoldUnit()
local player p=GetOwningPlayer(u)
local integer EE9=CM7(u)
local real x
local real y
if EQG(GetSellingUnit(),u)then
call D78(p,(GetObjectName((1848652359))))
if IsUnitAlly(u,Z7[0])then
set p=A7[0]
else
set p=Z7[0]
endif
set x=EWG(GetSellingUnit(),u)
set y=EXG(GetSellingUnit(),u)
call DDG(SU[CM7(u)],x,y,p,true,EP9(CM7(u)))
else
call EPG(p,ED9(EE9))
if ZU[EE9]==0 then
call D78(p,GetObjectName(XO4))
else
set x=ETG(GetSellingUnit(),u)
set y=EVG(GetSellingUnit(),u)
if EE9==CC then
call E9G(p,u,GetSellingUnit(),ED9(EE9),x,y,2,0)
else
call E9G(p,u,GetSellingUnit(),ED9(EE9),x,y,0,0)
endif
endif
endif
call UnitAddAbility(u,1097625443)
call ShowUnit(u,true)
call UnitApplyTimedLife(u,1112820806,2)
set u=null
set p=null
endfunction
function EZG takes nothing returns boolean
if VH4==false then
if GetUnitPointValue(GetSoldUnit())>=200 then
call EYG()
if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(GetSoldUnit()))or(V8 and(GetLocalPlayer()==KX4 or GetLocalPlayer()==KY4))then
if GetUnitTypeId(GetSoldUnit())==1747989062 then
call PingMinimapEx(GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),3,255,255,255,false)
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,20,Q[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(KZ4[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName(1848658005)+"|r")
elseif GetUnitTypeId(GetSoldUnit())==1747989329 then
call PingMinimapEx(GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),3,255,255,255,false)
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,20,Q[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(KZ4[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName(1848658759)+"|r")
elseif GetUnitTypeId(GetSoldUnit())==1747990326 then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,Q[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(KZ4[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName(1848658767)+"|r")
elseif GetUnitTypeId(GetSoldUnit())==1747989059 then
call PingMinimapEx(GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),3,255,255,255,false)
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,Q[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(KZ4[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName(1848658768)+"|r")
elseif GetUnitTypeId(GetSoldUnit())==1747989060 then
call PingMinimapEx(GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),3,255,255,255,false)
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,Q[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(KZ4[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName(1848658769)+"|r")
elseif GetUnitTypeId(GetSoldUnit())==1747993153 then
call PingMinimapEx(GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),3,255,255,255,false)
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,Q[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(KZ4[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName(1848658772)+"|r")
elseif GetUnitTypeId(GetSoldUnit())==1747988807 then
call PingMinimapEx(GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),3,255,255,255,false)
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,Q[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(KZ4[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName(1848659010)+"|r")
elseif GetUnitTypeId(GetSoldUnit())==1747993651 then
call PingMinimapEx(GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),3,255,255,255,false)
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,Q[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(KZ4[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName(1848659024)+"|r")
endif
endif
else
call D6G()
endif
else
endif
return false
endfunction
function EAG takes nothing returns boolean
if GetSpellAbilityId()==1093751369 or GetSpellAbilityId()==1093681733 then
if LR7(GetTriggerUnit())==false then
call DCF(GetTriggerUnit())
endif
endif
return false
endfunction
function RestrictedItems_UpdateMeleeRange_All2 takes nothing returns nothing
call DCF(IN4)
endfunction
function EBG takes unit CL7,item JP8 returns boolean
local unit u=CL7
local integer z8=GetUnitTypeId(u)
local integer EM9=RB7(JP8)
local real x
local real y
local boolean ECG=true
set x=GetUnitX(u)
set y=GetUnitY(u)
set K_7=GetItemPlayer(JP8)
if EM9==XZ then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",u,"overhead"))
call D48(GetOwningPlayer(u),"Abilities\\Spells\\Human\\Heal\\HealTarget.wav")
set IR4=GetItemPlayer(JP8)
call RA7(JP8)
set HA4=UnitAddItemById(u,ZU[IA])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
if EM9==D1 and GetItemCharges(JP8)==0 then
set IR4=GetItemPlayer(JP8)
call RA7(JP8)
set HA4=UnitAddItemById(u,ZU[F1])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
if EM9==VB and GetItemCharges(JP8)==0 then
set IR4=GetItemPlayer(JP8)
call RA7(JP8)
set HA4=UnitAddItemById(u,ZU[WB])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
call DisableTrigger(H94)
if(EM9==H6 or EM9==G6 or EM9==N6)and(SX7(u,ZU[H6],JP8)!=null or SX7(u,ZU[G6],JP8)!=null or SX7(u,ZU[N6],JP8)!=null)then
call D78(GetOwningPlayer(u),(GetObjectName((1848652364))))
set IR4=GetItemPlayer(JP8)
call RemoveItem(JP8)
set HA4=CreateItem(SU[EM9],x,y)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
if(EM9==BA)and(SX7(u,ZU[BA],JP8)!=null or SX7(u,ZU[GB],JP8)!=null)then
call D78(GetOwningPlayer(u),(GetObjectName((1848657996))))
set IR4=GetItemPlayer(JP8)
call RemoveItem(JP8)
set HA4=CreateItem(SU[EM9],x,y)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
set ECG=false
endif
if ECG and(EM9==GB)and(SX7(u,ZU[BA],JP8)!=null or SX7(u,ZU[GB],JP8)!=null)then
call D78(GetOwningPlayer(u),(GetObjectName((1848657996))))
set IR4=GetItemPlayer(JP8)
call RemoveItem(JP8)
set HA4=CreateItem(SU[EM9],x,y)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
set ECG=false
endif
if(EM9==DM4 or EM9==DK4 or EM9==DO4 or EM9==DN4)and(SX7(u,ZU[DM4],JP8)!=null or SX7(u,ZU[DK4],JP8)!=null or SX7(u,ZU[DO4],JP8)!=null or SX7(u,ZU[DN4],JP8)!=null)then
call D78(GetOwningPlayer(u),(GetObjectName((1848652355))))
set IR4=GetItemPlayer(JP8)
call RemoveItem(JP8)
set HA4=CreateItem(SU[EM9],x,y)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
if(EM9==B5 and IsPlayerEnemy(GetItemPlayer(JP8),GetOwningPlayer(u)))then
set IR4=GetItemPlayer(JP8)
call RA7(JP8)
set HA4=UnitAddItemById(u,ZU[C5])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
if(EM9==X0)and(RY7(u)or F08(u))then
if RY7(u)then
call D78(GetOwningPlayer(u),(GetObjectName((1848652363))))
endif
set IR4=GetItemPlayer(JP8)
set IH4=GetItemCharges(JP8)
call RemoveItem(JP8)
if EM9==X0 then
set HA4=CreateItem(SU[EM9],GetRectCenterX(ND),GetRectCenterY(ND))
endif
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
if EM9==X0 then
call SetItemCharges(HA4,IH4)
endif
endif
if EM9==RW and(z8==1215723364 or z8==1429221446)then
call D78(GetOwningPlayer(u),(GetObjectName((1848652362))))
set IR4=GetItemPlayer(JP8)
call RemoveItem(JP8)
set HA4=CreateItem(SU[EM9],x,y)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
if ECG and(EM9==BA or EM9==GB)and(z8==1211119187)then
call D78(GetOwningPlayer(u),(GetObjectName((1848652362))))
set IR4=GetItemPlayer(JP8)
call RemoveItem(JP8)
set HA4=CreateItem(SU[EM9],x,y)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
set ECG=false
endif
if(EM9==D0 or EM9==E0 or EM9==J0 or EM9==N0 or EM9==O0 or EM9==R0)and z8==1429221443 then
call DisplayTimedTextToPlayer(GetOwningPlayer(u),0,E9,10,"|c00ff0303"+(GetObjectName((1848652368)))+"|r")
endif
call EnableTrigger(H94)
if ECG then
call DAF(CL7,JP8)
endif
set u=null
set JP8=null
return false
endfunction
function E3G takes integer EM9 returns boolean
return EM9==O1 or EM9==DN4 or EM9==DO4 or EM9==DQ4 or EM9==J1 or EM9==DK4 or EM9==DM4 or EM9==DP4 or EM9==EW or EM9==HW or EM9==S6 or EM9==V6
endfunction
function E6G takes integer EM9 returns boolean
return EM9==EW or EM9==HW
endfunction
function ELG takes unit CR7,item W18 returns boolean
local item R37=W18
local integer EM9=RC7(R37)
local integer E1G=0
local boolean FS9=false
local integer E0G=RL7(R37)
local boolean E5G=false
if IsUnitType(CR7,UNIT_TYPE_HERO)==true then
if EM9==O1 then
set E1G=J1
endif
if EM9==V6 then
set E1G=S6
endif
if EM9==DN4 then
set E1G=DK4
endif
if EM9==DO4 then
set E1G=DM4
endif
if EM9==DQ4 then
set E1G=DP4
endif
if EM9==HW then
set E1G=EW
endif
if E0G==HW then
set E1G=EW
set E5G=true
endif
if E1G!=0 then
set IR4=GetItemPlayer(R37)
call RA7(R37)
if E5G then
set HA4=UnitAddItemById(CR7,BU[E1G])
else
set HA4=UnitAddItemById(CR7,ZU[E1G])
endif
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
set FS9=true
endif
else
if EM9==J1 then
set E1G=O1
endif
if EM9==S6 then
set E1G=V6
endif
if EM9==DK4 then
set E1G=DN4
endif
if EM9==DM4 then
set E1G=DO4
endif
if EM9==DP4 then
set E1G=DQ4
endif
if EM9==EW then
set E1G=HW
endif
if E0G==EW then
set E1G=HW
set E5G=true
endif
if E1G!=0 then
set IR4=GetItemPlayer(R37)
call RA7(R37)
if E5G then
set HA4=UnitAddItemById(CR7,BU[E1G])
else
set HA4=UnitAddItemById(CR7,ZU[E1G])
endif
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
set FS9=true
endif
endif
set R37=null
return FS9
endfunction
function E2G takes unit CR7,item W18 returns boolean
if E3G(RC7(W18))or E6G(RL7(W18))then
return ELG(CR7,W18)
endif
return false
endfunction
function E_G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit EFG=UE7(UL7,"Unit")
local integer F4G=UQ7(UL7,"EventType")
local integer EE9=UQ7(UL7,"indexId")
local boolean F7G=US7(UL7,"Temporary")
local item W18
local player p=GetOwningPlayer(EFG)
local player F8G
local integer X6F
local boolean F9G=false
local item XVF
local integer n5
local integer GFF
local integer newCharges
local item Z4
local integer targetCount
local item FDG
local boolean FEG=false
local integer D_8
call DisableTrigger(SV4)
if F7G then
set FDG=null
set F8G=UG7(UL7,"p")
set X6F=UQ7(UL7,"charges")
else
set W18=UO7(UL7,"Item")
set FDG=W18
set F8G=GetItemPlayer(W18)
set X6F=GetItemCharges(W18)
endif
set M47=EE9
set K_7=F8G
set eY[512+GetPlayerId(K_7)]=1
if F7G then
set K17[288+GetPlayerId(F8G)]=null
else
set K17[288+GetPlayerId(F8G)]=W18
endif
if F7G==false and W18==null then
call FlushChildHashtable(L7,(UL7))
call U37(t)
call EnableTrigger(SV4)
set t=null
set EFG=null
set p=null
return false
endif
if F4G==1 then
if p!=F8G and GetUnitTypeId(EFG)==1852010352 then
if EN9(ED9(EE9))or EO9(ED9(EE9))then
set F9G=true
endif
if IsPlayerEnemy(p,F8G)then
call DDG(SU[EE9],KV4[GetPlayerId(p)],KW4[GetPlayerId(p)],F8G,F9G,X6F)
else
call DDG(SU[EE9],KV4[GetPlayerId(F8G)],KW4[GetPlayerId(F8G)],F8G,F9G,X6F)
endif
call D78(p,(GetObjectName((1848656978))))
if F7G==false then
set FEG=true
call RA7(W18)
endif
elseif PK4==false and F7G==false and GetItemType(W18)==ITEM_TYPE_CAMPAIGN and DHG(W18)!=0 and(p==F8G or(GetPlayerSlotState((F8G))==PLAYER_SLOT_STATE_LEFT))then
if EO9(EE9)then
set F9G=true
else
set F9G=false
endif
if(GetPlayerSlotState((F8G))==PLAYER_SLOT_STATE_LEFT)and CH7(EE9)then
else
call RA7(W18)
set FEG=true
set XVF=UnitAddItemById(EFG,ZU[EE9])
set FDG=XVF
call SetItemPlayer(XVF,F8G,false)
call SetItemUserData(XVF,0)
if F9G then
call SetItemCharges(XVF,X6F)
endif
endif
elseif PK4==false and F7G==false and GetItemType(W18)==ITEM_TYPE_PERMANENT and p!=F8G and BU[RB7(W18)]!=0 and(GetPlayerSlotState((F8G))==PLAYER_SLOT_STATE_LEFT)==false then
if EO9(EE9)then
set F9G=true
else
set F9G=false
endif
call RA7(W18)
set FEG=true
set XVF=UnitAddItemById(EFG,BU[EE9])
set FDG=XVF
call SetItemPlayer(XVF,F8G,false)
call SetItemUserData(XVF,0)
if F9G then
call SetItemCharges(XVF,X6F)
endif
elseif F7G==false and GetItemType(W18)==ITEM_TYPE_PERMANENT and EK9(W18)and IsUnitType(EFG,UNIT_TYPE_HERO)==true then
set n5=NK9(EFG)
set GFF=NM9(EFG)
if GFF!=0 then
call UnitAddAbility(EFG,GFF)
call UnitMakeAbilityPermanent(EFG,true,GFF)
call SetPlayerAbilityAvailable(p,GFF,false)
if GetUnitTypeId(EFG)==1211117653 then
set IN4=EFG
call ExecuteFunc("GGF")
elseif GetUnitTypeId(EFG)==1215130471 then
set IN4=EFG
call ExecuteFunc("MED")
endif
endif
set D_8=EH9(EFG,4)
if n5==GX4 and HQ4[D_8]!=0 then
call UnitRemoveAbility(EFG,HU4[D_8])
call UnitAddAbility(EFG,HV4[D_8])
call SetPlayerAbilityAvailable(p,HV4[D_8],false)
endif
if EE9!=n5 then
call RA7(W18)
set XVF=UnitAddItemById(EFG,ZU[n5])
set FDG=XVF
call SetItemPlayer(XVF,F8G,false)
call SetItemUserData(XVF,1)
endif
elseif F7G==false and GetItemType(W18)==ITEM_TYPE_ARTIFACT then
call DisableTrigger(H94)
set Z4=DEG(F8G,EFG,EE9,W18)
if Z4==null then
else
call SetItemCharges(Z4,X6F+GetItemCharges(Z4))
call RA7(W18)
set FDG=null
endif
call EnableTrigger(H94)
elseif F7G and EN9(ED9(EE9))then
call DisableTrigger(H94)
if D3F(EFG)==0 and DGG(F8G,EFG,EE9)==null then
call D78(p,(GetObjectName((1848652367))))
call DDG(SU[(EE9)],((UR7(UL7,"x"))*1.0),((UR7(UL7,"y"))*1.0),(F8G),(true),(X6F))
else
set Z4=DGG(F8G,EFG,EE9)
if Z4==null then
call DisableTrigger(H94)
set XVF=UnitAddItemById(EFG,ZU[EE9])
set FDG=XVF
call SetItemPlayer(XVF,F8G,false)
call SetItemUserData(XVF,1)
call SetItemCharges(XVF,X6F)
else
call SetItemCharges(Z4,X6F+GetItemCharges(Z4))
set K17[288+GetPlayerId(F8G)]=Z4
endif
endif
call EnableTrigger(H94)
elseif F7G==true then
call E9G(F8G,EFG,null,EE9,UR7(UL7,"x"),UR7(UL7,"y"),X6F,1)
elseif F7G==false and(GetItemType(W18)==ITEM_TYPE_PERMANENT or GetItemType(W18)==ITEM_TYPE_CAMPAIGN)then
call SetItemUserData(W18,1)
set FEG=D2G(F8G,EFG,0)
endif
if FEG==false and FDG!=null and DIG(FDG)==false then
set FEG=E2G(EFG,FDG)
endif
if FEG==false and FDG!=null and DIG(FDG)==false then
call EBG(EFG,FDG)
endif
else
if GetWidgetLife(W18)>0 then
set n5=NK9(EFG)
set GFF=NM9(EFG)
if SY7(EFG,ZU[n5])==null and GetUnitAbilityLevel(EFG,GFF)>0 then
call UnitRemoveAbility(EFG,GFF)
if GetUnitTypeId(EFG)==1215130471 then
set IN4=EFG
call ExecuteFunc("MFD")
endif
endif
set D_8=EH9(EFG,4)
if n5==GX4 and HQ4[D_8]!=0 then
call UnitRemoveAbility(EFG,HV4[D_8])
call UnitAddAbility(EFG,HU4[D_8])
call SetPlayerAbilityAvailable(p,HU4[D_8],false)
endif
if IsItemOwned(W18)==false then
if GetItemType(W18)==ITEM_TYPE_ARTIFACT or EO9(EE9)then
set F9G=true
endif
call DDG(SU[EE9],GetItemX(W18),GetItemY(W18),F8G,F9G,X6F)
call RA7(W18)
endif
endif
endif
call TQ7(UL7)
call U37(t)
call EnableTrigger(SV4)
if FDG!=null then
set K17[288+GetPlayerId(F8G)]=FDG
endif
set t=null
set W18=null
set EFG=null
set p=null
set F8G=null
set XVF=null
set Z4=null
set FDG=null
return false
endfunction
function FFG takes nothing returns boolean
local item W18
local integer F4G
local unit EFG=GetTriggerUnit()
local trigger t
local integer UL7
local integer n5
local integer GFF
local integer id
set id=GetPlayerId(GetOwningPlayer(EFG))
if(IsUnitType(EFG,UNIT_TYPE_HERO)==true or F08(EFG))and IsUnitIllusion(EFG)==false and GetUnitTypeId(EFG)!=1311788365 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_PICKUP_ITEM then
if GetItemTypeId(GetManipulatedItem())==ZU[UZ]then
set HE4=HE4+1
set RK4[id]=RK4[id]+1
elseif GetItemTypeId(GetManipulatedItem())==ZU[RW]then
set HF4=HF4+1
set RM4[id]=RM4[id]+1
elseif GetItemTypeId(GetManipulatedItem())==ZU[DI4]then
set HG4=HG4+1
set RN4[id]=RN4[id]+1
elseif GetItemTypeId(GetManipulatedItem())==ZU[WL]or GetItemTypeId(GetManipulatedItem())==ZU[U3]then
set HH4=HH4+1
set RO4[id]=RO4[id]+1
elseif GetItemTypeId(GetManipulatedItem())==ZU[W5]then
set HD4=HD4+1
set RP4[id]=RP4[id]+1
call UnitAddItemById(EFG,1227901005)
elseif GetItemTypeId(GetManipulatedItem())==ZU[R2]then
set HI4=HI4+1
set RQ4[id]=RQ4[id]+1
elseif GetItemTypeId(GetManipulatedItem())==ZU[U1]then
set LW4=LW4+1
set RR4[id]=RR4[id]+1
elseif GetItemTypeId(GetManipulatedItem())==ZU[RL]then
set LX4=LX4+1
set RS4[id]=RS4[id]+1
elseif GetItemTypeId(GetManipulatedItem())==ZU[R3]then
set H67=H67+1
set H17[id]=H17[id]+1
elseif GetItemTypeId(GetManipulatedItem())==ZU[LB]then
set HL7=HL7+1
set H27[id]=H27[id]+1
endif
elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_DROP_ITEM then
if GetItemTypeId(GetManipulatedItem())==ZU[UZ]then
set RK4[id]=RK4[id]-1
set HE4=HE4-1
elseif GetItemTypeId(GetManipulatedItem())==ZU[RW]and GetUnitTypeId(EFG)!=1311788365 then
set RM4[id]=RM4[id]-1
set HF4=HF4-1
elseif GetItemTypeId(GetManipulatedItem())==ZU[LB]then
set H27[id]=H27[id]-1
set HL7=HL7-1
elseif GetItemTypeId(GetManipulatedItem())==ZU[DI4]then
set RN4[id]=RN4[id]-1
set HG4=HG4-1
elseif GetItemTypeId(GetManipulatedItem())==ZU[WL]or GetItemTypeId(GetManipulatedItem())==ZU[U3]then
set HH4=HH4-1
set RO4[id]=RO4[id]-1
if RO4[id]<1 or SX7(EFG,ZU[WL],GetManipulatedItem())==null or SX7(EFG,ZU[U3],GetManipulatedItem())==null then
call UnitRemoveAbility(EFG,1093744436)
endif
elseif GetItemTypeId(GetManipulatedItem())==ZU[W5]then
set HD4=IMaxBJ(HD4-1,0)
set RP4[id]=IMaxBJ(RP4[id]-1,0)
call UnitRemoveAbility(EFG,1110458953)
elseif GetItemTypeId(GetManipulatedItem())==ZU[R2]and GetUnitTypeId(EFG)!=1311788365 then
set RQ4[id]=RQ4[id]-1
set HI4=HI4-1
endif
endif
endif
if QY4[id]and(not K27[304+id])and(GetManipulatedItem()!=K17[336+id])then
elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_PAWN_ITEM then
set W18=GetSoldItem()
call SetItemUserData(W18,-2)
set n5=NK9(EFG)
set GFF=NM9(EFG)
if SX7(EFG,ZU[n5],W18)==null and GetUnitAbilityLevel(EFG,GFF)>0 then
call UnitRemoveAbility(EFG,GFF)
if GetUnitTypeId(EFG)==1215130471 then
set IN4=EFG
call ExecuteFunc("MFD")
endif
endif
elseif GetItemTypeId(GetManipulatedItem())!=1227894853 and GetItemTypeId(GetManipulatedItem())!=1227895373 then
set W18=GetManipulatedItem()
if IsUnitIllusion(EFG)or GetItemUserData(W18)==-2 then
set W18=null
set EFG=null
set t=null
return false
endif
if GetTriggerEventId()==EVENT_PLAYER_UNIT_PICKUP_ITEM then
set F4G=1
else
set F4G=2
endif
if(F4G==1 or(F4G==2 and DIG(W18)==false and GetWidgetLife(W18)>0))and GetUnitTypeId(EFG)!=1211117642 then
set M47=RB7(W18)
if(GetItemPlayer(W18)!=Player(15))then
set K_7=GetItemPlayer(W18)
endif
set K17[288+GetPlayerId(K_7)]=null
set t=CreateTrigger()
set UL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function E_G))
call TX7(UL7,"Unit",EFG)
call TT7(UL7,"EventType",F4G)
call TT7(UL7,"indexId",M47)
if DIG(W18)then
call TW7(UL7,"Temporary",true)
call T37(UL7,"p",K_7)
call TT7(UL7,"charges",GetItemCharges(W18))
call TU7(UL7,"x",(GetItemX(W18))*1.0)
call TU7(UL7,"y",(GetItemY(W18))*1.0)
else
call TW7(UL7,"Temporary",false)
call T67(UL7,"Item",W18)
call SetItemUserData(W18,0)
endif
else
endif
endif
set K27[304+id]=false
set W18=null
set EFG=null
set t=null
return false
endfunction
function FGG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
if GetUnitAbilityLevel(CR7,1110454611)==0 then
call UnitRemoveAbility(CR7,1110454611)
call UnitRemoveAbility(CR7,1110455361)
call TQ7(UL7)
call U37(t)
elseif GetUnitState(CR7,UNIT_STATE_LIFE)==GetUnitState(CR7,UNIT_STATE_MAX_LIFE)and GetUnitState(CR7,UNIT_STATE_MANA)==GetUnitState(CR7,UNIT_STATE_MAX_MANA)then
call UnitRemoveAbility(CR7,1110454611)
call UnitRemoveAbility(CR7,1110455361)
call TQ7(UL7)
call U37(t)
endif
set t=null
set CR7=null
return false
endfunction
function FHG takes unit CR7,item W18 returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function FGG))
call TX7(UL7,"Hero",CR7)
set t=null
endfunction
function FIG takes unit CR7,item W18 returns nothing
local unit u=CR7
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local unit HE8=CreateUnit(GetOwningPlayer(u),1697656901,x,y,0)
local unit FJG=CreateUnit(GetOwningPlayer(u),1697656901,x,y,0)
call UnitAddAbility(HE8,1093683026)
call UnitAddAbility(FJG,1093683026)
call IssueTargetOrderById(HE8,852274,u)
call IssueTargetOrderById(FJG,852274,u)
set u=null
set HE8=null
set FJG=null
endfunction
function FKG takes unit CR7,item W18 returns nothing
if GetItemTypeId(W18)==1227894839 or GetItemTypeId(W18)==1227894838 or GetItemTypeId(W18)==1227894840 or GetItemTypeId(W18)==1227894859 or GetItemTypeId(W18)==1227894858 then
call MB9(CR7,GetItemTypeId(W18),false)
endif
if GetItemTypeId(W18)==1227894839 then
call FIG(CR7,W18)
elseif GetItemTypeId(W18)==1227894858 then
if GetUnitAbilityLevel(CR7,1110456665)>0 then
call UnitRemoveAbility(CR7,1110456665)
call UnitRemoveAbility(CR7,1110454609)
call DisableTrigger(GetTriggeringTrigger())
call UnitAddItemById(CR7,1227894858)
call EnableTrigger(GetTriggeringTrigger())
endif
elseif GetItemTypeId(W18)==1227894840 then
call FHG(CR7,W18)
endif
endfunction
function FMG takes unit CL7,item JP8 returns nothing
local integer LQ7
local integer HF8
call UnitRemoveAbility(CL7,1093810003)
call UnitRemoveAbility(CL7,1093810001)
call UnitRemoveAbility(CL7,1093810002)
call UnitRemoveAbility(CL7,1093810004)
if GetUnitAbilityLevel(CL7,1093810246)>0 then
call UnitRemoveAbility(CL7,1093810246)
call UnitAddAbility(CL7,1093810246)
endif
if GetUnitTypeId(CL7)==1164207469 then
set LQ7=1093684057
elseif GetUnitTypeId(CL7)==1429221446 then
set LQ7=1093678660
elseif GetUnitTypeId(CL7)==1162032951 then
set LQ7=1093684557
elseif GetUnitTypeId(CL7)==1332179560 then
set LQ7=1093687627
else
set CL7=null
return
endif
set HF8=GetUnitAbilityLevel(CL7,LQ7)
if HF8>0 then
call UnitRemoveAbility(CL7,LQ7)
call UnitAddAbility(CL7,LQ7)
call SetUnitAbilityLevel(CL7,LQ7,HF8)
endif
endfunction
function FNG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit u=UE7(UL7,"Unit")
local integer FOG=UQ7(UL7,"itemslot")
local item W18=UnitItemInSlot(u,FOG)
if W18!=null and CH7(RB7(W18))==false and GetWidgetLife(W18)>0 and NN9(W18)==false then
call SetItemDroppable(W18,true)
endif
call TQ7(UL7)
call U37(t)
set t=null
set W18=null
return false
endfunction
function FPG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit u=UE7(UL7,"Unit")
local integer FOG=UQ7(UL7,"itemslot")
local item W18=UnitItemInSlot(u,FOG)
call TQ7(UL7)
call U37(t)
if(u!=null and GetUnitTypeId(u)>1 and IsUnitType(u,UNIT_TYPE_DEAD)==false)and(W18!=null and GetWidgetLife(W18)>0)then
set t=CreateTrigger()
set UL7=GetHandleId(t)
call SetItemDroppable(W18,false)
call TT7(UL7,"itemslot",FOG)
call TX7(UL7,"Unit",u)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_ISSUED_POINT_ORDER)
call TriggerAddCondition(t,Condition(function FNG))
endif
set W18=null
set u=null
set t=null
return false
endfunction
function FQG takes nothing returns nothing
local integer FOG
local unit u=GetTriggerUnit()
local trigger t
local integer UL7
local item W18
if GetIssuedOrderId()==852008 then
set FOG=0
elseif GetIssuedOrderId()==852009 then
set FOG=1
elseif GetIssuedOrderId()==852010 then
set FOG=2
elseif GetIssuedOrderId()==852011 then
set FOG=3
elseif GetIssuedOrderId()==852012 then
set FOG=4
elseif GetIssuedOrderId()==852013 then
set FOG=5
endif
set W18=UnitItemInSlot(u,FOG)
if W18!=null and GetWidgetLife(W18)>0 then
set t=CreateTrigger()
set UL7=GetHandleId(t)
call TT7(UL7,"itemslot",FOG)
call TX7(UL7,"Unit",u)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function FPG))
endif
set W18=null
set u=null
set t=null
endfunction
function FRG takes nothing returns boolean
if GetIssuedOrderId()==852008 or GetIssuedOrderId()==852009 or GetIssuedOrderId()==852010 or GetIssuedOrderId()==852011 or GetIssuedOrderId()==852012 or GetIssuedOrderId()==852013 then
call FQG()
endif
return false
endfunction
function FSG takes integer EE9 returns boolean
return EE9!=B5 and EE9!=DI4 and EE9!=EW and EE9!=X0
endfunction
function FTG takes nothing returns nothing
if GetTriggerEventId()==EVENT_PLAYER_UNIT_PICKUP_ITEM then
call SetItemPawnable(GetManipulatedItem(),false)
else
call SetItemPawnable(GetManipulatedItem(),true)
endif
endfunction
function FUG takes nothing returns boolean
if GetItemType(GetManipulatedItem())==ITEM_TYPE_PERMANENT and FSG(RC7(GetManipulatedItem()))and RZ7(GetTriggerUnit())then
call FTG()
endif
return false
endfunction
function FVG takes nothing returns boolean
local unit CR7=GetTriggerUnit()
local integer BK7=1
if SY7(CR7,ZU[EC])!=null then
set BK7=2
endif
if SX7(CR7,ZU[FV],GetManipulatedItem())!=null then
set BK7=3
endif
if SX7(CR7,ZU[DS4],GetManipulatedItem())!=null then
set BK7=4
endif
if SX7(CR7,ZU[G6],GetManipulatedItem())!=null or SX7(CR7,ZU[H6],GetManipulatedItem())!=null or SX7(CR7,ZU[N6],GetManipulatedItem())!=null then
set BK7=5
endif
if SX7(CR7,ZU[F74],GetManipulatedItem())!=null then
set BK7=6
endif
if SX7(CR7,ZU[LB],GetManipulatedItem())!=null then
set BK7=7
endif
if SX7(CR7,ZU[F6],GetManipulatedItem())!=null then
set BK7=8
endif
if SX7(CR7,ZU[Q1],GetManipulatedItem())!=null then
call UnitAddAbility(CR7,1093686832)
call SetUnitAbilityLevel(CR7,1093686832,BK7)
call UnitMakeAbilityPermanent(CR7,true,1093686832)
else
call UnitRemoveAbility(CR7,1093686832)
endif
set CR7=null
return false
endfunction
function FWG takes nothing returns boolean
local unit CR7=GetTriggerUnit()
local integer BK7=1
if SY7(CR7,ZU[EC])!=null then
set BK7=2
endif
if SX7(CR7,ZU[FV],GetManipulatedItem())!=null then
set BK7=3
endif
if SY7(CR7,ZU[DS4])!=null then
set BK7=4
endif
if SY7(CR7,ZU[G6])!=null or SX7(CR7,ZU[H6],GetManipulatedItem())!=null or SX7(CR7,ZU[N6],GetManipulatedItem())!=null then
set BK7=5
endif
if SY7(CR7,ZU[F74])!=null then
set BK7=6
endif
if SX7(CR7,ZU[LB],GetManipulatedItem())!=null then
set BK7=7
endif
if SY7(CR7,ZU[F6])!=null then
set BK7=8
endif
if SY7(CR7,ZU[Q1])!=null then
call UnitAddAbility(CR7,1093686832)
call SetUnitAbilityLevel(CR7,1093686832,BK7)
call UnitMakeAbilityPermanent(CR7,true,1093686832)
endif
set CR7=null
return false
endfunction
function FXG takes nothing returns nothing
local unit CR7=GetTriggerUnit()
if GetTriggerEventId()==EVENT_PLAYER_UNIT_DROP_ITEM then
if RC7(GetManipulatedItem())==DM4 then
call UnitRemoveAbility(CR7,1093685333)
endif
if RC7(GetManipulatedItem())==T2 then
call UnitRemoveAbility(CR7,1093747287)
endif
if RC7(GetManipulatedItem())==DK4 then
call UnitRemoveAbility(CR7,1093685333)
call UnitRemoveAbility(CR7,1093686339)
call UnitRemoveAbility(CR7,1093686603)
endif
endif
if GetTriggerEventId()==EVENT_PLAYER_UNIT_PICKUP_ITEM then
if RC7(GetManipulatedItem())==DM4 then
call UnitAddAbility(CR7,1093685333)
call UnitMakeAbilityPermanent(CR7,true,1093685333)
endif
if RC7(GetManipulatedItem())==T2 then
call UnitAddAbility(CR7,1093747287)
call UnitMakeAbilityPermanent(CR7,true,1093747287)
endif
if RC7(GetManipulatedItem())==DK4 then
call UnitAddAbility(CR7,1093685333)
call UnitMakeAbilityPermanent(CR7,true,1093685333)
call UnitAddAbility(CR7,1093686339)
call UnitMakeAbilityPermanent(CR7,true,1093686339)
call UnitAddAbility(CR7,1093686603)
call UnitMakeAbilityPermanent(CR7,true,1093686603)
endif
endif
set CR7=null
endfunction
function FYG takes nothing returns boolean
if GetItemType(GetManipulatedItem())==ITEM_TYPE_PERMANENT and(RC7(GetManipulatedItem())==DK4 or RC7(GetManipulatedItem())==DM4 or RC7(GetManipulatedItem())==T2)then
call FXG()
endif
return false
endfunction
function FZG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
local item W18=UO7(UL7,"Item")
if GetTriggerEventId()==EVENT_UNIT_DROP_ITEM and GetManipulatedItem()==W18 then
call TQ7(UL7)
call U37(t)
elseif GetTriggerEventId()!=EVENT_UNIT_DROP_ITEM then
if((LoadInteger(L7,(GetHandleId((CR7))),((4310))))==1)==false then
call SetUnitState(CR7,UNIT_STATE_LIFE,DU8(GetUnitState(CR7,UNIT_STATE_LIFE)-HJ4,1))
endif
endif
set t=null
set CR7=null
set W18=null
return false
endfunction
function FAG takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterUnitEvent(t,CR7,EVENT_UNIT_DROP_ITEM)
call TriggerAddCondition(t,Condition(function FZG))
call TX7(UL7,"Hero",CR7)
call T67(UL7,"Item",GetManipulatedItem())
call TriggerEvaluate(t)
set t=null
set CR7=null
endfunction
function FBG takes nothing returns boolean
if GetItemType(GetManipulatedItem())==ITEM_TYPE_PERMANENT and RC7(GetManipulatedItem())==DK4 then
call FAG()
endif
return false
endfunction
function FCG takes unit u returns boolean
local item F3G=CreateItem(1227901771,GetUnitX(u),GetUnitY(u))
local boolean F59=UnitAddItem(u,F3G)
if F59==false then
call RemoveItem(F3G)
endif
return F59
endfunction
function F6G takes unit CR7,item W18,integer G49 returns item
local real x=F09(CR7)
local real y=F29(CR7)
local integer i=0
local boolean array G79
local item Z4
loop
exitwhen i>(UnitInventorySize(CR7)-1)
if UnitItemInSlot(CR7,i)==null and i!=G49 then
set Z4=CreateItem(1227895373,x,y)
call UnitAddItem(CR7,Z4)
set G79[i]=true
else
set G79[i]=false
endif
if i==G49 then
call UnitAddItem(CR7,W18)
endif
set i=i+1
endloop
set i=0
loop
exitwhen i>5
if G79[i]==true then
call RemoveItem(UnitItemInSlot(CR7,i))
endif
set i=i+1
endloop
set HA4=W18
set Z4=null
return HA4
endfunction
function FLG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
local integer i=0
local item F1G
local integer EE9
local unit HE8
local item F0G
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call TW7(GetHandleId(CR7),"LinkenSphere|CD",false)
call TQ7(UL7)
call U37(t)
elseif FCG(CR7)==false then
call TriggerRegisterTimerEvent(t,5.5,false)
else
call TW7(GetHandleId(CR7),"LinkenSphere|CD",false)
set K_7=GetOwningPlayer(CR7)
call DisableTrigger(H94)
if RP4[GetPlayerId(GetOwningPlayer(CR7))]>0 then
call SetItemVisible(UnitAddItemById(CR7,1227901005),false)
endif
loop
exitwhen i>5
set F1G=UnitItemInSlot(CR7,i)
set EE9=RC7(F1G)
if EE9==A5 then
set IR4=GetItemPlayer(F1G)
call RemoveItem(F1G)
set HE8=CreateUnit(GetOwningPlayer(CR7),1697656901,GetUnitX(CR7),GetUnitY(CR7),0)
call UnitAddAbility(HE8,1095331446)
set F0G=UnitAddItemById(HE8,ZU[W5])
call UnitUseItem(HE8,F0G)
set HA4=F6G(CR7,F0G,i)
call SetItemPlayer(F0G,IR4,false)
call SetItemUserData(F0G,1)
call UnitRemoveAbility(HE8,1095331446)
set HE8=null
set F0G=null
endif
set F1G=null
set i=i+1
endloop
call EnableTrigger(H94)
call TQ7(UL7)
call U37(t)
endif
set t=null
set CR7=null
return false
endfunction
function F5G takes unit CR7 returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local integer i=0
local item F1G
local integer EE9
local unit HE8
local item F0G
call DisableTrigger(H94)
call TW7(GetHandleId(CR7),"LinkenSphere|CD",true)
call TriggerRegisterTimerEvent(t,20,false)
call TriggerRegisterUnitEvent(t,CR7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function FLG))
call TX7(UL7,"Hero",CR7)
loop
exitwhen i>5
set F1G=UnitItemInSlot(CR7,i)
set EE9=RC7(F1G)
if EE9==W5 or EE9==A5 then
set IR4=GetItemPlayer(F1G)
set K_7=IR4
call RemoveItem(F1G)
set HE8=CreateUnit(GetOwningPlayer(CR7),1697656901,GetUnitX(CR7),GetUnitY(CR7),0)
call UnitAddAbility(HE8,1095331446)
set F0G=UnitAddItemById(HE8,ZU[A5])
call UnitUseItem(HE8,F0G)
set HA4=F6G(CR7,F0G,i)
call SetItemPlayer(F0G,IR4,false)
call SetItemUserData(F0G,1)
call UnitRemoveAbility(HE8,1095331446)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\DispelMagic\\DispelMagicTarget.mdl",CR7,"origin"))
set HE8=null
set F0G=null
endif
set F1G=null
set i=i+1
endloop
call EnableTrigger(H94)
set t=null
endfunction
function F2G takes nothing returns boolean
local integer i=1
local unit CR7
local integer id
if D9 then
return false
endif
if HD4>0 then
loop
exitwhen i>5
set id=GetPlayerId(Z7[i])
set CR7=M7[id]
if RP4[id]>0 and CR7!=null and GetUnitTypeId(CR7)>1 and IsUnitType(CR7,UNIT_TYPE_DEAD)==false and US7(GetHandleId(CR7),"LinkenSphere|CD")==false and CY7(CR7)==false and US7(GetHandleId(CR7),"MantaBlocked")==false then
call F5G(CR7)
endif
set id=GetPlayerId(A7[i])
set CR7=M7[id]
if RP4[id]>0 and CR7!=null and GetUnitTypeId(CR7)>1 and IsUnitType(CR7,UNIT_TYPE_DEAD)==false and US7(GetHandleId(CR7),"LinkenSphere|CD")==false and CY7(CR7)==false and US7(GetHandleId(CR7),"MantaBlocked")==false then
call F5G(CR7)
endif
set i=i+1
endloop
endif
set CR7=null
return false
endfunction
function F_G takes unit hn,item x5 returns integer
local integer i=0
loop
exitwhen i>5
if UnitItemInSlot(hn,i)==x5 then
return i
endif
set i=i+1
endloop
return-1
endfunction
function G4G takes nothing returns nothing
local unit S4=GetTriggerUnit()
local item Z4=GetManipulatedItem()
local integer EE9=RC7(Z4)
local integer G49
call DisableTrigger(H94)
if EE9==C3 then
set G49=F_G(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
set HA4=F_9(S4,ZU[E6],G49)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EE9==E6 then
set G49=F_G(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
set HA4=F_9(S4,ZU[C3],G49)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
if EE9==JC then
set G49=F_G(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
set HA4=F_9(S4,ZU[NC],G49)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EE9==NC then
set G49=F_G(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
set HA4=F_9(S4,ZU[JC],G49)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
if EE9==E2 then
set G49=F_G(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
set HA4=F_9(S4,ZU[F2],G49)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EE9==F2 then
set G49=F_G(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
set HA4=F_9(S4,ZU[E2],G49)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
call EnableTrigger(H94)
set S4=null
set Z4=null
endfunction
function G7G takes nothing returns nothing
local unit G8G=GetTriggerUnit()
local item G9G=GetManipulatedItem()
local integer GDG=RC7(G9G)
local integer FOG
call DisableTrigger(H94)
if GDG==H2 then
set FOG=F_G(G8G,G9G)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(G9G)
set HA4=F_9(G8G,ZU[P2],FOG)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif GDG==P2 then
set FOG=F_G(G8G,G9G)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(G9G)
set HA4=F_9(G8G,ZU[H2],FOG)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
call EnableTrigger(H94)
set G8G=null
set G9G=null
endfunction
function GEG takes nothing returns nothing
local unit S4=GetTriggerUnit()
local item Z4=GetManipulatedItem()
local integer EE9=RC7(Z4)
local integer G49
call DisableTrigger(H94)
if GetUnitTypeId(S4)!=1211117642 then
if EE9==G6 then
set G49=F_G(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
call DisableTrigger(H94)
set HA4=F_9(S4,ZU[H6],G49)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EE9==H6 then
set G49=F_G(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
call DisableTrigger(H94)
set HA4=F_9(S4,ZU[N6],G49)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EE9==N6 then
set G49=F_G(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
call DisableTrigger(H94)
set HA4=F_9(S4,ZU[G6],G49)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
endif
call EnableTrigger(H94)
set S4=null
set Z4=null
endfunction
function GFG takes integer n5 returns integer
if n5==1227894838 then
return QA
elseif n5==1227894840 then
return WA
elseif n5==1227894858 then
return JA
elseif n5==1227894859 then
return NA
elseif n5==1227894839 then
return YA
endif
return-1
endfunction
function GGG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit u=UE7(UL7,"Unit")
local integer FOG=UQ7(UL7,"itemslot")
local item W18=UnitItemInSlot(u,FOG)
local integer GHG=UQ7(UL7,"itemhandleid")
local item F0G
local integer G49
if W18!=null and CH7(RB7(W18))and GetHandleId(W18)==GHG and LR7(u)==false then
set F0G=CreateItem(LoadInteger(L7,GetHandleId(W18),GetHandleId(u)),GetUnitX(u),GetUnitY(u))
call TQ7(GetHandleId(W18))
set G49=F_G(u,W18)
set IR4=GetItemPlayer(W18)
call RA7(W18)
set HA4=F_9(u,ZU[IA],G49)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call TQ7(UL7)
call U37(t)
call UnitAddItem(u,F0G)
endif
set t=null
set u=null
set W18=null
set F0G=null
return false
endfunction
function GIG takes unit u,item F0G returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local integer FOG=F_G(u,F0G)
call TT7(UL7,"itemslot",FOG)
call TT7(UL7,"itemhandleid",GetHandleId(F0G))
call TX7(UL7,"Unit",u)
call TriggerRegisterTimerEvent(t,120.,true)
call TriggerAddCondition(t,Condition(function GGG))
set t=null
endfunction
function GJG takes nothing returns nothing
local unit u=GetTriggerUnit()
local item W18=GetManipulatedItem()
local integer EE9=RB7(W18)
local unit GKG
local integer GMG
local boolean TargetFrog
local integer G49
local item F0G
local integer GNG
if EE9==AZ then
set G49=F_G(u,W18)
set GKG=UE7(GetHandleId(u),"BottleTargetUnit")
set GMG=UQ7(GetHandleId(u),"BottleTargetItemId")
if GetUnitTypeId(GKG)==1852206952 or GetUnitTypeId(GKG)==1852073580 then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",u,"overhead"))
call D48(GetOwningPlayer(u),"Abilities\\Spells\\Human\\Heal\\HealTarget.wav")
set IR4=GetItemPlayer(W18)
call RA7(W18)
set HA4=F_9(u,ZU[IA],G49)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif KQ9(GMG)then
set GNG=GFG(GMG)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",u,"overhead"))
set IR4=GetItemPlayer(W18)
call RA7(W18)
call DisableTrigger(H94)
if GetOwningPlayer(u)==IR4 then
set HA4=F_9(u,ZU[GNG],G49)
else
set HA4=F_9(u,BU[GNG],G49)
endif
call EnableTrigger(H94)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
set F0G=UnitItemInSlot(u,G49)
call SaveInteger(L7,GetHandleId(F0G),GetHandleId(u),GMG)
call GIG(u,F0G)
endif
elseif EE9==IA then
set G49=F_G(u,W18)
set IR4=GetItemPlayer(W18)
call RA7(W18)
set HA4=F_9(u,ZU[CZ],G49)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EE9==CZ then
set G49=F_G(u,W18)
set IR4=GetItemPlayer(W18)
call RA7(W18)
set HA4=F_9(u,ZU[BZ],G49)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EE9==BZ then
set G49=F_G(u,W18)
set IR4=GetItemPlayer(W18)
call RA7(W18)
set HA4=F_9(u,ZU[AZ],G49)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,0)
elseif CH7(EE9)then
if LoadInteger(L7,GetHandleId(W18),GetHandleId(u))>0 then
set NH=true
set G49=F_G(u,W18)
set F0G=CreateItem(LoadInteger(L7,GetHandleId(W18),GetHandleId(u)),GetUnitX(u),GetUnitY(u))
call TQ7(GetHandleId(W18))
set IR4=GetItemPlayer(W18)
call RA7(W18)
set HA4=F_9(u,ZU[IA],G49)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call UnitAddItem(u,F0G)
set NH=false
endif
endif
set u=null
set W18=null
set GKG=null
set F0G=null
endfunction
function GOG takes nothing returns boolean
local integer G49
local real G08
call DisableTrigger(H94)
if RC7(GetManipulatedItem())==DM4 then
set G08=GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)-GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)
set G49=F_G(GetTriggerUnit(),GetManipulatedItem())
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(GetManipulatedItem())
set HA4=F_9(GetTriggerUnit(),ZU[DK4],G49)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,DU8(GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)-G08,1))
call U07(GetTriggerUnit(),"ArmletOfMordiganState",0.04)
call UZ7(GetTriggerUnit(),"ArmletOfMordigan|Active")
endif
if RC7(GetManipulatedItem())==DK4 then
set G08=GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)-GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)
set G49=F_G(GetTriggerUnit(),GetManipulatedItem())
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(GetManipulatedItem())
set HA4=F_9(GetTriggerUnit(),ZU[DM4],G49)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,DU8(GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)-G08,1))
call UB7(GetTriggerUnit(),"ArmletOfMordigan|Active")
endif
call EnableTrigger(H94)
return false
endfunction
function GPG takes nothing returns nothing
if GetItemTypeId(GetManipulatedItem())==ZU[Y3]then
call D78(GetOwningPlayer(GetTriggerUnit()),(GetObjectName((1848657713))))
endif
endfunction
function GQG takes nothing returns nothing
local unit S4=GetTriggerUnit()
local item Z4=GetManipulatedItem()
local integer EE9=RC7(Z4)
local integer G49
call DisableTrigger(H94)
if EE9==D0 then
set G49=F_G(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
set HA4=F_9(S4,ZU[E0],G49)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call NI9(HA4)
elseif EE9==E0 then
set G49=F_G(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
set HA4=F_9(S4,ZU[J0],G49)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call NI9(HA4)
elseif EE9==J0 then
set G49=F_G(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
set HA4=F_9(S4,ZU[N0],G49)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call NI9(HA4)
elseif EE9==N0 then
set G49=F_G(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
set HA4=F_9(S4,ZU[O0],G49)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call NI9(HA4)
elseif EE9==O0 then
set G49=F_G(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
set HA4=F_9(S4,ZU[R0],G49)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call NI9(HA4)
endif
call EnableTrigger(H94)
set S4=null
set Z4=null
endfunction
function GRG takes nothing returns nothing
local unit S4=GetTriggerUnit()
local item Z4=GetManipulatedItem()
local integer EE9=RC7(Z4)
local integer G49
call DisableTrigger(H94)
if EE9==D1 and GetItemCharges(Z4)==0 then
set G49=F_G(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
set HA4=F_9(S4,ZU[F1],G49)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EE9==E1 and GetItemCharges(Z4)==0 then
set G49=F_G(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
set HA4=F_9(S4,ZU[H1],G49)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EE9==VB and GetItemCharges(Z4)==0 then
set G49=F_G(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
set HA4=F_9(S4,ZU[WB],G49)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
call EnableTrigger(H94)
set S4=null
set Z4=null
endfunction
function GSG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
if FCG(p5)then
call UnitAddItemById(p5,1227901005)
endif
call TQ7(UL7)
call U37(t)
call TW7(GetHandleId(p5),"MantaBlocked",false)
set t=null
set p5=null
return false
endfunction
function GTG takes nothing returns nothing
local unit p5=GetTriggerUnit()
local item Z4=GetManipulatedItem()
local integer EE9=RC7(Z4)
local trigger t
if(EE9==Y0 or EE9==B0)and US7(GetHandleId(p5),"MantaBlocked")==true then
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.41,false)
call TriggerAddCondition(t,Condition(function GSG))
call TX7(GetHandleId(t),"Source",p5)
set t=null
endif
set p5=null
set Z4=null
endfunction
function GUG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=UE7(OL7,"Source")
local integer CS8=UQ7(OL7,"Count")
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1097163124 then
call TT7(OL7,"Count",16)
endif
elseif LR7(EL8)or GetTriggerEventId()==EVENT_UNIT_DEATH or CS8==0 then
call UnitRemoveAbility(EL8,1093685334)
call UnitRemoveAbility(EL8,1110456140)
call UB7(EL8,"ActiveTango")
call TQ7(OL7)
call U37(t)
else
call SetUnitState(EL8,UNIT_STATE_LIFE,GetUnitState(EL8,UNIT_STATE_LIFE)+115/ 16)
call TT7(OL7,"Count",CS8-1)
endif
return false
endfunction
function GVG takes nothing returns nothing
local unit p5=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call UZ7(p5,"ActiveTango")
call LP7(p5,1093685334)
call TX7(UL7,"Source",p5)
call TT7(UL7,"Count",16)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function GUG))
call TriggerEvaluate(t)
set p5=null
set t=null
endfunction
function GWG takes nothing returns nothing
if GetSpellAbilityId()==1097163124 and UX7(GetTriggerUnit(),"ActiveTango")==false then
call GVG()
endif
endfunction
function GXG takes integer id,real x,real y returns nothing
if IsPointInRegion(T94,x,y)==false then
set T84=T84+1
set S24[T84]=Player(id)
set S_4[T84]=x
set T44[T84]=y
set T74[T84]=(TimerGetElapsed(W))
endif
endfunction
function GYG takes integer id,real x,real y returns integer
local real H38=(TimerGetElapsed(W))
local integer i=0
local integer BD8=0
if IsPointInRegion(T94,x,y)==true then
return BD8
endif
loop
exitwhen i>T84
if(H38<T74[i]+e4)and(RI7(x,y,S_4[i],T44[i])<o4*2+50)and IsPlayerAlly(Player(id),S24[i])==true then
set BD8=BD8+1
endif
set i=i+1
endloop
return BD8
endfunction
function GZG takes integer GAG returns integer
if GAG==GetPlayerId(Z7[1])then
return 1747993161
elseif GAG==GetPlayerId(Z7[2])then
return 1747993163
elseif GAG==GetPlayerId(Z7[3])then
return 1747993159
elseif GAG==GetPlayerId(Z7[4])then
return 1747993158
elseif GAG==GetPlayerId(Z7[5])then
return 1747993164
elseif GAG==GetPlayerId(A7[1])then
return 1747993160
elseif GAG==GetPlayerId(A7[2])then
return 1747993162
elseif GAG==GetPlayerId(A7[3])then
return 1747993165
elseif GAG==GetPlayerId(A7[4])then
return 1747992885
elseif GAG==GetPlayerId(A7[5])then
return 1747993166
endif
return 1747993166
endfunction
function GBG takes integer GAG returns integer
return 1747992920
endfunction
function GCG takes integer GAG returns string
if GAG==GetPlayerId(Z7[1])then
return"war3mapImported\\TeleportTarget_Blue.mdx"
elseif GAG==GetPlayerId(Z7[2])then
return"war3mapImported\\TeleportTarget_Teal.mdx"
elseif GAG==GetPlayerId(Z7[3])then
return"war3mapImported\\TeleportTarget_Purple.mdx"
elseif GAG==GetPlayerId(Z7[4])then
return"war3mapImported\\TeleportTarget_Yellow.mdx"
elseif GAG==GetPlayerId(Z7[5])then
return"war3mapImported\\TeleportTarget_Orange.mdx"
elseif GAG==GetPlayerId(A7[1])then
return"war3mapImported\\TeleportTarget_Pink.mdx"
elseif GAG==GetPlayerId(A7[2])then
return"war3mapImported\\TeleportTarget_Gray.mdx"
elseif GAG==GetPlayerId(A7[3])then
return"war3mapImported\\TeleportTarget_LightBlue.mdx"
elseif GAG==GetPlayerId(A7[4])then
return"war3mapImported\\TeleportTarget_DarkGreen.mdx"
elseif GAG==GetPlayerId(A7[5])then
return"war3mapImported\\TeleportTarget_Brown.mdx"
endif
return"Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl"
endfunction
function G3G takes integer GAG returns string
return"Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl"
endfunction
function G6G takes nothing returns boolean
local real d
if IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>0 and GetUnitAbilityLevel(GetFilterUnit(),1098085732)==0 and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(IP4))==true and GetUnitTypeId(GetFilterUnit())!=1966092371 and GetUnitTypeId(GetFilterUnit())!=1852010352 and IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false then
set d=RI7(IK4,IM4,GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()))
if d<IJ4 then
set IJ4=d
set IN4=GetFilterUnit()
endif
endif
return false
endfunction
function GLG takes unit S4,real x,real y returns unit
local group g=CA7()
set IN4=null
set IP4=S4
set IJ4=99999
set IK4=x
set IM4=y
call GroupEnumUnitsInRange(g,x,y,99999,Condition(function G6G))
call CZ7(g)
set g=null
return IN4
endfunction
function G1G takes unit u returns boolean
local integer id=GetUnitTypeId(u)
return id==1848657480 or id==1848657462 or id==1848657481 or id==1848657482
endfunction
function G0G takes unit u returns boolean
local integer id=GetUnitTypeId(u)
return id==1966092370 or id==1970107511 or id==1697657398 or id==1700946284
endfunction
function G5G takes nothing returns boolean
local real d
if(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 or G0G(GetFilterUnit())or GetUnitTypeId(GetFilterUnit())==1852206952 or GetUnitTypeId(GetFilterUnit())==1852073580 or G1G(GetFilterUnit()))and LR7(GetFilterUnit())==false and GetUnitAbilityLevel(GetFilterUnit(),1098085732)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(IP4))==true and GetOwningPlayer(GetFilterUnit())!=C7 and IsUnitIllusion(GetFilterUnit())==false and IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false and GetUnitTypeId(GetFilterUnit())!=1848657461 then
set d=RI7(IK4,IM4,GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()))
if d<IJ4 then
set IJ4=d
set IN4=GetFilterUnit()
endif
endif
return false
endfunction
function G2G takes unit PI7,real x,real y returns unit
local group g=CA7()
set IN4=null
set IP4=PI7
set IJ4=99999
set IK4=x
set IM4=y
call GroupEnumUnitsInRange(g,x,y,99999,Condition(function G5G))
call CZ7(g)
set g=null
return IN4
endfunction
function G_G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=(LoadUnitHandle(L7,(UL7),(14)))
local real x=(LoadReal(L7,(UL7),(6)))
local real y=(LoadReal(L7,(UL7),(7)))
local unit H4G=(LoadUnitHandle(L7,(UL7),(448)))
local unit H7G=(LoadUnitHandle(L7,(UL7),(447)))
local ubersplat H8G=(LoadUbersplatHandle(L7,(UL7),(131)))
local integer BD8=(LoadInteger(L7,(UL7),(34)))
local real FF8=(LoadReal(L7,(UL7),(57)))
local real H38=UR7(UL7,"OriginalTime")
local integer id=GetPlayerId(GetOwningPlayer(CR7))
local boolean H9G=false
local integer i=0
if GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST then
if GetSpellAbilityId()==1093751349 or GetSpellAbilityId()==1093743415 then
set H9G=true
endif
else
set BD8=BD8+1
call SaveInteger(L7,(UL7),(34),(BD8))
if BD8==1 then
if FF8>3 then
call SetUnitAnimationByIndex(H4G,1)
call SetUnitAnimationByIndex(H7G,1)
endif
elseif BD8==2 then
set H9G=true
else
endif
endif
if H9G then
call SaveInteger(L7,(GetHandleId((CR7))),((4256)),(2))
call KillUnit(H4G)
call KillUnit(H7G)
call DestroyUbersplat(H8G)
call FlushChildHashtable(L7,(UL7))
call U37(t)
if BD8==2 then
call DestroyEffect(AddSpecialEffect(G3G(id),GetUnitX(CR7),GetUnitY(CR7)))
call DestroyEffect(AddSpecialEffect(GCG(id),x,y))
call SetUnitX(CR7,x)
call SetUnitY(CR7,y)
call PauseUnit(CR7,true)
call PauseUnit(CR7,false)
call E78(x,y,240)
set IN4=CR7
call ExecuteFunc("HDG")
endif
endif
set hq[832+GetPlayerId(GetOwningPlayer(CR7))]=0
set t=null
set CR7=null
set H4G=null
set H7G=null
set H8G=null
return false
endfunction
function HEG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit CL7=(LoadUnitHandle(L7,(OL7),(14)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local real x=(LoadReal(L7,(OL7),(6)))
local real y=(LoadReal(L7,(OL7),(7)))
local unit HFG=(LoadUnitHandle(L7,(OL7),(448)))
local unit HGG=(LoadUnitHandle(L7,(OL7),(447)))
local ubersplat TG9=(LoadUbersplatHandle(L7,(OL7),(131)))
local integer CS8=(LoadInteger(L7,(OL7),(34)))
local real H98=(LoadReal(L7,(OL7),(57)))
local real BY8=(LoadReal(L7,(OL7),(442)))
local integer id=GetPlayerId(GetOwningPlayer(CL7))
local boolean OX7=false
local integer i=0
local integer B08
if GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST then
if GetSpellAbilityId()==1093808945 then
call DestroyEffect((LoadEffectHandle(L7,(OL7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(176))))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(177))))
call SaveInteger(L7,(GetHandleId((CL7))),((4256)),(2))
call KillUnit(HFG)
call KillUnit(HGG)
call DestroyUbersplat(TG9)
call FlushChildHashtable(L7,(OL7))
call U37(t)
call UnitRemoveType(O_7,UNIT_TYPE_PEON)
set h8[176+id]=null
endif
elseif GetTriggerEventId()==EVENT_UNIT_DEATH then
call DestroyEffect((LoadEffectHandle(L7,(OL7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(176))))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(177))))
call UnitRemoveType(O_7,UNIT_TYPE_PEON)
call SaveInteger(L7,(GetHandleId((CL7))),((4256)),(2))
call KillUnit(HFG)
call KillUnit(HGG)
call DestroyUbersplat(TG9)
call FlushChildHashtable(L7,(OL7))
call U37(t)
set h8[176+id]=null
else
call DestroyEffect((LoadEffectHandle(L7,(OL7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(176))))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(177))))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl",GetUnitX(CL7),GetUnitY(CL7)))
call SaveInteger(L7,(GetHandleId((CL7))),((4256)),(2))
call KillUnit(HFG)
call KillUnit(HGG)
call DestroyUbersplat(TG9)
call FlushChildHashtable(L7,(OL7))
call U37(t)
call UnitRemoveType(O_7,UNIT_TYPE_PEON)
call SetUnitX(CL7,GetUnitX(O_7)-1)
call SetUnitY(CL7,GetUnitY(O_7)-1)
call PauseUnit(CL7,true)
call PauseUnit(CL7,false)
call E78(x,y,240)
set IN4=CL7
call ExecuteFunc("HDG")
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl",GetUnitX(CL7),GetUnitY(CL7)))
set h8[176+id]=null
endif
set t=null
set CL7=null
set HFG=null
set HGG=null
set TG9=null
set O_7=null
return false
endfunction
function HHG takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local location l
local real x
local real y
local real a
local trigger t
local integer UL7
local unit H4G
local unit H7G
local ubersplat H8G
local integer id=GetPlayerId(GetOwningPlayer(CR7))
local integer BD8
local real HIG
if(XP4 and GetSpellAbilityId()==1093743415)then
set XP4=false
call SetUnitState(CR7,UNIT_STATE_MANA,GetUnitState(CR7,UNIT_STATE_MANA)+75)
return
endif
set t=CreateTrigger()
set UL7=GetHandleId(t)
call SaveInteger(L7,(GetHandleId((CR7))),((4256)),(1))
if m5==null then
set l=GetSpellTargetLoc()
set x=GetLocationX(l)
set y=GetLocationY(l)
if GetSpellAbilityId()==1093751349 then
if x==TW4[id]and y==TX4[id]then
if ZL7(GetOwningPlayer(CR7))then
set x=GetUnitX(IZ4)
set y=GetUnitY(IZ4)
else
set x=GetUnitX(JA4)
set y=GetUnitY(JA4)
endif
endif
endif
set m5=GLG(CR7,x,y)
call RemoveLocation(l)
else
set x=GetUnitX(m5)
set y=GetUnitY(m5)
endif
if RI7(x,y,GetUnitX(m5),GetUnitY(m5))>o4 then
set a=Atan2(y-GetUnitY(m5),x-GetUnitX(m5))
set x=GetUnitX(m5)+o4*Cos(a)
set y=GetUnitY(m5)+o4*Sin(a)
elseif RI7(x,y,GetUnitX(m5),GetUnitY(m5))<50 then
set a=Atan2(y-GetUnitY(m5),x-GetUnitX(m5))
set x=GetUnitX(m5)+120*Cos(a)
set y=GetUnitY(m5)+120*Sin(a)
endif
if IsPointInRegion(IU4,x,y)==true then
set a=Atan2(y-GetUnitY(m5),x-GetUnitX(m5))
set x=GetUnitX(m5)+200*Cos(a)
set y=GetUnitY(m5)+200*Sin(a)
endif
set x=DD8(x)
set y=DE8(y)
if(IsUnitAlly(CR7,GetLocalPlayer())and GetLocalPlayer()!=GetOwningPlayer(CR7))or(V8 and(GetLocalPlayer()==KX4 or GetLocalPlayer()==KY4))then
call PingMinimapEx(x,y,3,255,255,255,false)
endif
set H7G=CreateUnit(GetOwningPlayer(CR7),GZG(id),x,y,0)
set H4G=CreateUnit(GetOwningPlayer(CR7),GBG(id),GetUnitX(CR7),GetUnitY(CR7),0)
set H8G=CreateUbersplat(GetUnitX(CR7),GetUnitY(CR7),"SCTP",255,255,255,255,false,false)
if IsUnitVisible(CR7,GetLocalPlayer())==true then
call SetUbersplatRenderAlways(H8G,true)
else
call SetUbersplatRenderAlways(H8G,false)
endif
set BD8=GYG(GetPlayerId(GetOwningPlayer(CR7)),x,y)
if BD8>0 then
set BD8=BD8+1
endif
set HIG=3+BD8
call GXG(GetPlayerId(GetOwningPlayer(CR7)),x,y)
if BD8>0 then
call SetUnitAnimationByIndex(H4G,2)
call SetUnitAnimationByIndex(H7G,2)
endif
call TriggerRegisterTimerEvent(t,HIG-3,false)
call TriggerRegisterTimerEvent(t,HIG,false)
call TriggerRegisterUnitEvent(t,CR7,EVENT_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(t,Condition(function G_G))
call EE8(GetOwningPlayer(CR7),HIG,x,y,200)
call SaveUnitHandle(L7,(UL7),(447),(H7G))
call SaveUnitHandle(L7,(UL7),(448),(H4G))
call SaveReal(L7,(UL7),(6),((x)*1.0))
call SaveReal(L7,(UL7),(7),((y)*1.0))
call TU7(UL7,"OriginalTime",TimerGetElapsed(W))
call SaveReal(L7,(UL7),(57),((HIG)*1.0))
call SaveUbersplatHandle(L7,(UL7),(131),(H8G))
call SaveUnitHandle(L7,(UL7),(14),(CR7))
call SaveInteger(L7,(UL7),(34),(0))
call E68(CR7,VR4,x,y,2400)
set h8[176+id]=m5
set CR7=null
set m5=null
set H4G=null
set H7G=null
set l=null
set t=null
set H8G=null
endfunction
function HJG takes nothing returns nothing
local unit CL7=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local location l
local real x
local real y
local real a
local trigger t
local integer OL7
local unit HFG
local unit HGG
local ubersplat TG9
local integer id=GetPlayerId(GetOwningPlayer(CL7))
local integer CS8
local real HKG
set t=CreateTrigger()
set OL7=GetHandleId(t)
if O_7==null then
set l=GetSpellTargetLoc()
set x=GetLocationX(l)
set y=GetLocationY(l)
if x==TW4[id]and y==TX4[id]then
if ZL7(GetOwningPlayer(CL7))then
set x=GetUnitX(IZ4)
set y=GetUnitY(IZ4)
else
set x=GetUnitX(JA4)
set y=GetUnitY(JA4)
endif
endif
set O_7=G2G(CL7,x,y)
call RemoveLocation(l)
endif
set x=GetUnitX(O_7)
set y=GetUnitY(O_7)
if(IsUnitAlly(CL7,GetLocalPlayer())and GetLocalPlayer()!=GetOwningPlayer(CL7))or(V8 and(GetLocalPlayer()==KX4 or GetLocalPlayer()==KY4))then
call PingMinimapEx(x,y,3,255,255,255,false)
endif
set TG9=CreateUbersplat(GetUnitX(CL7),GetUnitY(CL7),"SCTP",255,255,255,255,false,false)
if IsUnitVisible(CL7,GetLocalPlayer())==true then
call SetUbersplatRenderAlways(TG9,true)
else
call SetUbersplatRenderAlways(TG9,false)
endif
set HKG=3
call UnitAddType(O_7,UNIT_TYPE_PEON)
call TriggerRegisterTimerEvent(t,HKG,false)
call TriggerRegisterUnitEvent(t,CL7,EVENT_UNIT_SPELL_ENDCAST)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function HEG))
call EE8(GetOwningPlayer(CL7),HKG,x,y,200)
call SaveReal(L7,(OL7),(6),((x)*1.0))
call SaveReal(L7,(OL7),(7),((y)*1.0))
call SaveReal(L7,(OL7),(442),(((TimerGetElapsed(W)))*1.0))
call SaveReal(L7,(OL7),(57),((HKG)*1.0))
call SaveUbersplatHandle(L7,(OL7),(131),(TG9))
call SaveUnitHandle(L7,(OL7),(14),(CL7))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveInteger(L7,(OL7),(34),(0))
call SaveEffectHandle(L7,(OL7),(175),(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTo.mdl",CL7,"origin")))
call SaveEffectHandle(L7,(OL7),(176),(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl",CL7,"origin")))
call SaveEffectHandle(L7,(OL7),(177),(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTo.mdl",O_7,"origin")))
call E68(CL7,VR4,x,y,2400)
set CL7=null
set O_7=null
set HFG=null
set HGG=null
set l=null
set t=null
set TG9=null
endfunction
function HMG takes nothing returns nothing
if(GetSpellAbilityId()==1093751349 or GetSpellAbilityId()==1093743415)and RZ7(GetTriggerUnit())==false then
call HHG()
endif
if GetSpellAbilityId()==1093808945 then
call HJG()
endif
endfunction
function HNG takes nothing returns nothing
if GetSpellAbilityId()==1093743415 and GetSpellTargetItem()!=null then
call IssueImmediateOrder(GetTriggerUnit(),"stop")
if ZL7(GetOwningPlayer(GetTriggerUnit()))then
call UnitUseItemTarget(GetTriggerUnit(),SY7(GetTriggerUnit(),YC),IZ4)
set XP4=true
else
call UnitUseItemTarget(GetTriggerUnit(),SY7(GetTriggerUnit(),YC),JA4)
set XP4=true
endif
endif
endfunction
function HOG takes nothing returns nothing
if IE7==(LoadInteger(L7,(GetHandleId(GetEnumUnit())),(784)))then
call KillUnit(GetEnumUnit())
endif
endfunction
function HPG takes nothing returns boolean
local integer i=GetUnitTypeId(GetFilterUnit())
return i==1848651848 or i==1848651847 or i==1848651851 or i==1848651850 or i==1848651841 or i==1848651830
endfunction
function HQG takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit HRG
local unit HSG
local integer HTG
local integer HUG
local group g=CA7()
local real a=GetUnitFacing(EL8)*bj_DEGTORAD
local real x1=GetUnitX(EL8)+50*Cos(a)
local real y1=GetUnitY(EL8)+50*Sin(a)
local real x2=GetUnitX(EL8)+50*Cos(a)
local real y2=GetUnitY(EL8)+50*Sin(a)
if GetSpellAbilityId()==1093683266 then
set HTG=1848651848
set HUG=1848651850
elseif GetSpellAbilityId()==1093682227 then
set HTG=1848651847
set HUG=1848651841
elseif GetSpellAbilityId()==1093682246 then
set HTG=1848651851
set HUG=1848651830
endif
set IE7=GetUnitTypeId(EL8)
call GroupEnumUnitsOfPlayer(g,GetOwningPlayer(GetTriggerUnit()),Condition(function HPG))
call ForGroup(g,function HOG)
call CZ7(g)
set HRG=CreateUnit(GetOwningPlayer(EL8),HTG,x1,y1,GetUnitFacing(EL8))
call SaveInteger(L7,(GetHandleId(HRG)),(784),(IE7))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",HRG,"origin"))
call UnitApplyTimedLife(HRG,1112820806,35)
set HSG=CreateUnit(GetOwningPlayer(EL8),HUG,x2,y2,GetUnitFacing(EL8))
call SaveInteger(L7,(GetHandleId(HSG)),(784),(IE7))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",HSG,"origin"))
call UnitApplyTimedLife(HSG,1112820806,35)
set g=null
set HRG=null
set HSG=null
set EL8=null
endfunction
function HVG takes nothing returns nothing
if GetSpellAbilityId()==1093683266 or GetSpellAbilityId()==1093682227 or GetSpellAbilityId()==1093682246 then
call HQG()
endif
endfunction
function HWG takes nothing returns nothing
if GetSpellAbilityId()==1093748304 then
call DB8("Abilities\\Spells\\Items\\VampiricPotion\\VampPotionCaster.mdl",GetTriggerUnit(),"origin",3.5)
call F78(GetTriggerUnit(),1093747534,1,3.5)
endif
endfunction
function HXG takes nothing returns boolean
return(UX7(GetFilterUnit(),"4323"))
endfunction
function HYG takes nothing returns nothing
local group g
local unit u
if GetSpellAbilityId()==1094935400 then
set g=CA7()
call GroupEnumUnitsOfPlayer(g,GetOwningPlayer(GetTriggerUnit()),Condition(function HXG))
set u=FirstOfGroup(g)
call CZ7(g)
if u!=null then
call KillUnit(u)
endif
call UZ7(GetSpellTargetUnit(),"4323")
call UnitAddAbility(GetSpellTargetUnit(),1097167976)
call UnitAddAbility(GetSpellTargetUnit(),1094939243)
call DY8(GetSpellTargetUnit())
set g=null
set u=null
endif
endfunction
function HZG takes integer i returns integer
if i==OK4 then
return OS4
endif
if i==OM4 then
return OT4
endif
if i==ON4 then
return OU4
endif
if i==OO4 then
return OV4
endif
if i==OP4 then
return OW4
endif
if i==OQ4 then
return OX4
endif
if i==OR4 then
return OY4
endif
return 0
endfunction
function HAG takes integer i returns integer
if i==OK4 then
return 10
endif
if i==OM4 then
return 9
endif
if i==ON4 then
return 8
endif
if i==OO4 then
return 7
endif
if i==OP4 then
return 6
endif
if i==OQ4 then
return 5
endif
if i==OR4 then
return 4
endif
return 0
endfunction
function HBG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
if LR7(CR7)==false and CR7!=null then
call SetUnitScale(CR7,L17(CR7)*CS,L17(CR7)*CS,L17(CR7)*CS)
endif
call TQ7(UL7)
call U37(t)
set t=null
set CR7=null
return false
endfunction
function HCG takes nothing returns nothing
local unit CL7=GetTriggerUnit()
local unit HE8=CreateUnit(GetOwningPlayer(CL7),1697656901,GetUnitX(CL7),GetUnitY(CL7),0)
local trigger t=CreateTrigger()
local real H98=HAG(GetSpellAbilityId())
call EQ8(CL7,OZ4,H98)
call UnitMakeAbilityPermanent(CL7,true,OZ4)
call SetPlayerAbilityAvailable(GetOwningPlayer(CL7),OZ4,false)
call UnitAddAbility(HE8,HZG(GetSpellAbilityId()))
call IssueTargetOrder(HE8,"antimagicshell",CL7)
call D59(CL7,0,0)
if RZ7(CL7)then
call EP8(CL7,H98,3)
else
call EP8(CL7,H98,1.4)
endif
call TriggerRegisterTimerEvent(t,H98+7.,false)
call TriggerAddCondition(t,Condition(function HBG))
call TX7(GetHandleId(t),"Hero",CL7)
set t=null
set CL7=null
set HE8=null
endfunction
function H3G takes nothing returns nothing
if HZG(GetSpellAbilityId())>0 then
call HCG()
endif
endfunction
function H6G takes nothing returns nothing
if GetSpellAbilityId()==1093677655 then
call UnitResetCooldown(GetTriggerUnit())
endif
endfunction
function HLG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit KX9=UE7(UL7,"chicken")
local integer K19=UQ7(UL7,"newability")
local integer K09=UQ7(UL7,"itemId0")
local integer K59=UQ7(UL7,"itemId1")
local integer K29=UQ7(UL7,"itemId2")
local integer K_9=UQ7(UL7,"itemId3")
local integer M49=UQ7(UL7,"itemId4")
local integer M79=UQ7(UL7,"itemId5")
local player M89=UG7(UL7,"pPlayer0")
local player M99=UG7(UL7,"pPlayer1")
local player MD9=UG7(UL7,"pPlayer2")
local player ME9=UG7(UL7,"pPlayer3")
local player MF9=UG7(UL7,"pPlayer4")
local player MG9=UG7(UL7,"pPlayer5")
local integer MH9=UQ7(UL7,"charges0")
local integer MI9=UQ7(UL7,"charges1")
local integer MJ9=UQ7(UL7,"charges2")
local integer MK9=UQ7(UL7,"charges3")
local integer MM9=UQ7(UL7,"charges4")
local integer MN9=UQ7(UL7,"charges5")
call DisableTrigger(H94)
if GetTriggerEvalCount(t)==1 then
call UnitAddAbility(KX9,K19)
if OT[GetPlayerId(GetOwningPlayer(KX9))]==false then
call UnitRemoveType(KX9,UNIT_TYPE_PEON)
else
call UnitAddType(KX9,UNIT_TYPE_PEON)
endif
else
if K09>0 then
set HA4=CreateItem(K09,GetUnitX(KX9),GetUnitY(KX9))
call UnitAddItem(KX9,HA4)
call SetItemPlayer(HA4,M89,false)
call SetItemUserData(HA4,1)
endif
if MH9>0 then
call SetItemCharges(HA4,MH9)
endif
if K59>0 then
set HA4=CreateItem(K59,GetUnitX(KX9),GetUnitY(KX9))
call UnitAddItem(KX9,HA4)
call SetItemPlayer(HA4,M99,false)
call SetItemUserData(HA4,1)
endif
if MI9>0 then
call SetItemCharges(HA4,MI9)
endif
if K29>0 then
set HA4=CreateItem(K29,GetUnitX(KX9),GetUnitY(KX9))
call UnitAddItem(KX9,HA4)
call SetItemPlayer(HA4,MD9,false)
call SetItemUserData(HA4,1)
endif
if MJ9>0 then
call SetItemCharges(HA4,MJ9)
endif
if K_9>0 then
set HA4=CreateItem(K_9,GetUnitX(KX9),GetUnitY(KX9))
call UnitAddItem(KX9,HA4)
call SetItemPlayer(HA4,ME9,false)
call SetItemUserData(HA4,1)
endif
if MK9>0 then
call SetItemCharges(HA4,MK9)
endif
if M49>0 then
set HA4=CreateItem(M49,GetUnitX(KX9),GetUnitY(KX9))
call UnitAddItem(KX9,HA4)
call SetItemPlayer(HA4,MF9,false)
call SetItemUserData(HA4,1)
endif
if MM9>0 then
call SetItemCharges(HA4,MM9)
endif
if M79>0 then
set HA4=CreateItem(M79,GetUnitX(KX9),GetUnitY(KX9))
call UnitAddItem(KX9,HA4)
call SetItemPlayer(HA4,MG9,false)
call SetItemUserData(HA4,1)
endif
if MN9>0 then
call SetItemCharges(HA4,MN9)
endif
if OT[GetPlayerId(GetOwningPlayer(KX9))]==false then
call UnitRemoveType(KX9,UNIT_TYPE_PEON)
else
call UnitAddType(KX9,UNIT_TYPE_PEON)
endif
call SetUnitFlyHeight(KX9,240,0)
call TQ7(UL7)
call U37(t)
endif
call EnableTrigger(H94)
set t=null
set KX9=null
set M89=null
set M99=null
set MD9=null
set ME9=null
set MF9=null
set MG9=null
return false
endfunction
function H1G takes unit KX9 returns nothing
local integer MP9=GetUnitTypeId(KX9)
local real x=GetUnitX(KX9)
local real y=GetUnitY(KX9)
local item MQ9
local item MR9
local item MS9
local item MT9
local item MU9
local item MV9
local player M89
local player M99
local player MD9
local player ME9
local player MF9
local player MG9
local integer K09
local integer K59
local integer K29
local integer K_9
local integer M49
local integer M79
local integer MH9=-1
local integer MI9=-1
local integer MJ9=-1
local integer MK9=-1
local integer MM9=-1
local integer MN9=-1
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local integer K19
local item W18
local integer i
local item H0G
set i=0
loop
exitwhen i>5
set H0G=UnitItemInSlot(KX9,i)
if RB7(H0G)==EW then
call UnitRemoveItem(KX9,H0G)
endif
set i=i+1
endloop
set MQ9=UnitItemInSlot(KX9,0)
set MR9=UnitItemInSlot(KX9,1)
set MS9=UnitItemInSlot(KX9,2)
set MT9=UnitItemInSlot(KX9,3)
set MU9=UnitItemInSlot(KX9,4)
set MV9=UnitItemInSlot(KX9,5)
set K09=GetItemTypeId(MQ9)
set K59=GetItemTypeId(MR9)
set K29=GetItemTypeId(MS9)
set K_9=GetItemTypeId(MT9)
set M49=GetItemTypeId(MU9)
set M79=GetItemTypeId(MV9)
set M89=GetItemPlayer(MQ9)
set M99=GetItemPlayer(MR9)
set MD9=GetItemPlayer(MS9)
set ME9=GetItemPlayer(MT9)
set MF9=GetItemPlayer(MU9)
set MG9=GetItemPlayer(MV9)
set W18=MQ9
if GetItemType(W18)==ITEM_TYPE_ARTIFACT or EO9(RB7(W18))then
set MH9=GetItemCharges(W18)
endif
set W18=MR9
if GetItemType(W18)==ITEM_TYPE_ARTIFACT or EO9(RB7(W18))then
set MI9=GetItemCharges(W18)
endif
set W18=MS9
if GetItemType(W18)==ITEM_TYPE_ARTIFACT or EO9(RB7(W18))then
set MJ9=GetItemCharges(W18)
endif
set W18=MT9
if GetItemType(W18)==ITEM_TYPE_ARTIFACT or EO9(RB7(W18))then
set MK9=GetItemCharges(W18)
endif
set W18=MU9
if GetItemType(W18)==ITEM_TYPE_ARTIFACT or EO9(RB7(W18))then
set MM9=GetItemCharges(W18)
endif
set W18=MV9
if GetItemType(W18)==ITEM_TYPE_ARTIFACT or EO9(RB7(W18))then
set MN9=GetItemCharges(W18)
endif
call RA7(MQ9)
call RA7(MR9)
call RA7(MS9)
call RA7(MT9)
call RA7(MU9)
call RA7(MV9)
if ZL7(GetOwningPlayer(KX9))then
set K19=1395667017
else
set K19=1395667018
endif
if GetRandomInt(1,3)==1 then
set K19=1395667034
endif
call T37(UL7,"pPlayer0",M89)
call T37(UL7,"pPlayer1",M99)
call T37(UL7,"pPlayer2",MD9)
call T37(UL7,"pPlayer3",ME9)
call T37(UL7,"pPlayer4",MF9)
call T37(UL7,"pPlayer5",MG9)
call TT7(UL7,"itemId0",K09)
call TT7(UL7,"itemId1",K59)
call TT7(UL7,"itemId2",K29)
call TT7(UL7,"itemId3",K_9)
call TT7(UL7,"itemId4",M49)
call TT7(UL7,"itemId5",M79)
call TT7(UL7,"charges0",MH9)
call TT7(UL7,"charges1",MI9)
call TT7(UL7,"charges2",MJ9)
call TT7(UL7,"charges3",MK9)
call TT7(UL7,"charges4",MM9)
call TT7(UL7,"charges5",MN9)
call TX7(UL7,"chicken",KX9)
call TT7(UL7,"newability",K19)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function HLG))
set t=null
set KX9=null
set MQ9=null
set MR9=null
set MS9=null
set MT9=null
set MU9=null
set MV9=null
set M89=null
set M99=null
set MD9=null
set ME9=null
set MF9=null
set MG9=null
endfunction
function H5G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(UE7(OL7,"Source"))
local item H2G=SY7(EL8,ZU[EX4])
if H2G==null then
set H2G=SY7(EL8,BU[EX4])
endif
if H2G!=null then
call RemoveItem(H2G)
call H1G(EL8)
else
call D78(GetOwningPlayer(EL8),GetObjectName(X84))
endif
call TQ7(OL7)
call U37(t)
set t=null
set EL8=null
return false
endfunction
function H_G takes unit EL8 returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call KS9(EL8)
call TriggerRegisterTimerEvent(t,0.05,false)
call TriggerAddCondition(t,Condition(function H5G))
call TX7(OL7,"Source",EL8)
set t=null
endfunction
function I4G takes nothing returns boolean
if GetSpellAbilityId()==1093683012 then
call H_G(GetTriggerUnit())
endif
return false
endfunction
function I7G takes nothing returns boolean
local unit CL7=GetTriggerUnit()
local item JP8=GetManipulatedItem()
local integer id=GetItemTypeId(JP8)
local integer i
if(id==ZU[XC]or id==ZU[F6])and IsUnitType(CL7,UNIT_TYPE_HERO)==true then
set TW4[GetPlayerId(GetOwningPlayer(CL7))]=GetItemX(JP8)
set TX4[GetPlayerId(GetOwningPlayer(CL7))]=GetItemY(JP8)
endif
call FKG(CL7,JP8)
call FMG(CL7,JP8)
if(GetItemTypeId(JP8)==ZU[DK4]or GetItemTypeId(JP8)==ZU[DM4])and RZ7(CL7)then
call UnitRemoveItem(CL7,JP8)
elseif GetItemTypeId(JP8)==ZU[DT4]and IsUnitType(CL7,UNIT_TYPE_HERO)==true then
set i=(LoadInteger(L7,(GetHandleId(CL7)),(750)))
if i>0 then
if(LoadBoolean(L7,(GetHandleId(CL7)),(751)))==false then
call SaveBoolean(L7,(GetHandleId(CL7)),(751),(true))
call SetItemCharges(JP8,i)
endif
endif
elseif GetItemTypeId(JP8)==ZU[X0]and GetUnitTypeId(CL7)!=1848651852 and NX4==false then
set NW4=CL7
set NX4=true
call IM8("AegisOn",GetPlayerId(GetOwningPlayer(CL7)))
call BL7(bj_FORCE_ALL_PLAYERS,10.00,Q[GetPlayerId(GetOwningPlayer(CL7))]+GetUnitName(CL7)+"|r "+GetObjectName(WF4))
elseif GetItemTypeId(JP8)==ZU[EX4]and RX7(CL7)then
call H_G(CL7)
elseif GetItemTypeId(JP8)==ZU[G64]and GetUnitTypeId(CL7)==1164799855 then
call SetPlayerTechResearched(GetOwningPlayer(CL7),1378889802,1)
elseif GetItemTypeId(JP8)==ZU[G04]and GetUnitTypeId(CL7)==1211117641 then
set IN4=CL7
call ExecuteFunc("LAD")
elseif GetItemTypeId(JP8)==ZU[GB4]and GetUnitTypeId(CL7)==1432580716 then
call UnitAddAbility(CL7,1093815106)
call UnitRemoveAbility(CL7,1093815106)
call AddUnitAnimationProperties(CL7,"upgrade",true)
call SetPlayerTechResearched(GetOwningPlayer(CL7),1378889803,1)
endif
set CL7=null
set JP8=null
return false
endfunction
function I8G takes nothing returns nothing
local unit I9G=GetTriggerUnit()
local item IDG=SY7(I9G,ZU[EX4])
if IDG==null then
set IDG=SY7(I9G,BU[EX4])
endif
if IDG!=null then
call RA7(IDG)
call UnitRemoveAbility(I9G,1093686866)
call UnitAddAbility(I9G,1093686869)
call SetUnitState(I9G,UNIT_STATE_MANA,400)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl",I9G,"origin"))
else
call D78(GetOwningPlayer(I9G),(GetObjectName((1848652369))))
endif
set I9G=null
endfunction
function IEG takes nothing returns nothing
if GetSpellAbilityId()==1093686866 then
call I8G()
endif
endfunction
function IFG takes nothing returns nothing
local unit u=GetEnumUnit()
local integer i=0
local player p=GetOwningPlayer(GetTriggerUnit())
local item W18
local integer id=GetPlayerId(p)
loop
exitwhen i>5
set W18=UnitItemInSlot(u,i)
if W18!=null and GetItemPlayer(W18)==p then
call UnitRemoveItem(u,W18)
call SetItemPosition(W18,KV4[id],KW4[id])
endif
set i=i+1
endloop
set u=null
set W18=null
endfunction
function IGG takes nothing returns nothing
local item W18=GetEnumItem()
local unit u=OI4
local player p=GetOwningPlayer(u)
local integer id=GetPlayerId(p)
if GetWidgetLife(W18)>0 and GetItemPlayer(W18)==p and IsItemVisible(W18)==true then
call SetItemPosition(W18,KV4[id],KW4[id])
call UnitAddItem(KU4[id],W18)
endif
set W18=null
set u=null
set p=null
endfunction
function IHG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit u=UE7(UL7,"u")
set OI4=u
if ZL7(GetOwningPlayer(OI4))then
call EnumItemsInRect(OD,Condition(function ZY7),function IGG)
else
call EnumItemsInRect(PD,Condition(function ZY7),function IGG)
endif
if GetTriggerEvalCount(t)==2 then
call TQ7(UL7)
call U37(t)
endif
set t=null
set u=null
return false
endfunction
function IIG takes nothing returns boolean
return RZ7(GetFilterUnit())
endfunction
function IJG takes nothing returns nothing
local unit u=GetTriggerUnit()
local integer i=0
local group g=CA7()
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call GroupEnumUnitsInRange(g,GetUnitX(u),GetUnitY(u),1300,Condition(function IIG))
call ForGroup(g,function IFG)
call CZ7(g)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function IHG))
call TX7(UL7,"u",u)
set u=null
set g=null
endfunction
function IKG takes nothing returns nothing
if GetSpellAbilityId()==1093743684 then
call IJG()
endif
endfunction
function IMG takes nothing returns nothing
local unit u=GetTriggerUnit()
local integer i=0
local item W18
local integer id=GetPlayerId(GetOwningPlayer(u))
local region r=CreateRegion()
if ZL7(GetOwningPlayer(u))then
call RegionAddRect(r,OD)
else
call RegionAddRect(r,PD)
endif
loop
exitwhen i>5
set W18=UnitItemInSlot(u,i)
if CH7(RB7(W18))==false and RB7(W18)!=X0 and NN9(W18)==false then
call UnitRemoveItemFromSlot(u,i)
if(GetUnitTypeId(u)==1852010352 or IsUnitInRegion(r,u))and IsPlayerAlly(GetItemPlayer(W18),GetOwningPlayer(u))==true then
set id=GetPlayerId(GetItemPlayer(W18))
call SetItemPosition(W18,KV4[id],KW4[id])
endif
endif
set i=i+1
endloop
call RemoveRegion(r)
set u=null
set r=null
endfunction
function ING takes nothing returns nothing
if GetSpellAbilityId()==1093743416 or GetSpellAbilityId()==1093743683 then
call IMG()
endif
endfunction
function IOG takes nothing returns nothing
if GetSpellAbilityId()==1093743191 and GetUnitAbilityLevel(GetTriggerUnit(),1114665832)>0 then
call UnitRemoveAbility(GetTriggerUnit(),1114665832)
endif
endfunction
function IPG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
call DestroyEffect(UK7(UL7,"FX"))
call TQ7(UL7)
call U37(t)
else
if IG8(GetEventDamage())and IsUnitAlly(GetEventDamageSource(),GetOwningPlayer(GetTriggerUnit()))==false and IsUnitType(GetEventDamageSource(),UNIT_TYPE_STRUCTURE)==false and p3==false then
if IsUnitType(GetEventDamageSource(),UNIT_TYPE_HERO)or GetUnitAbilityLevel(GetEventDamageSource(),1093678162)==0 then
call DisableTrigger(t)
set p3=true
call HG8(GetTriggerUnit(),GetEventDamageSource(),ZI4,GetEventDamage())
set p3=false
call EnableTrigger(t)
else
call DisableTrigger(t)
set p3=true
call HG8(GetTriggerUnit(),M7[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))],ZI4,GetEventDamage())
set p3=false
call EnableTrigger(t)
endif
endif
endif
set t=null
return false
endfunction
function IQG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit p5=GetTriggerUnit()
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,4.5,false)
call TriggerAddCondition(t,Condition(function IPG))
call TY7(UL7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Orc\\SpikeBarrier\\SpikeBarrier.mdl",p5,"chest"))
set t=null
set p5=null
endfunction
function IRG takes nothing returns nothing
if GetSpellAbilityId()==1093743959 then
call IQG()
endif
endfunction
function ISG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit m5=UE7(UL7,"Target")
local real a=UR7(UL7,"a")
local real d=UR7(UL7,"d")
local real x=DD8(GetUnitX(m5)+d/ 10*Cos(a*bj_DEGTORAD))
local real y=DE8(GetUnitY(m5)+d/ 10*Sin(a*bj_DEGTORAD))
if GetTriggerEvalCount(t)==11 or GetTriggerEventId()==EVENT_UNIT_DEATH or UX7(m5,"PowerCogShocked")==true then
if(US7(UL7,"AI"))then
call J3(m5,false)
endif
call TQ7(UL7)
call U37(t)
else
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl",x,y))
if UX7(m5,"4306")==false and UX7(m5,"4324")==false and GetUnitAbilityLevel(m5,1110456406)==0 then
call E78(x,y,150)
call SetUnitX(m5,x)
call SetUnitY(m5,y)
endif
endif
set m5=null
set t=null
return false
endfunction
function ITG takes nothing returns nothing
local unit m5=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local real x
local real y
local real d
local real a
local integer i=-1
local boolean IUG=false
if GetSpellTargetItem()!=null then
set m5=GetTriggerUnit()
endif
call U07(m5,"4414",3)
set a=GetUnitFacing(m5)
loop
exitwhen IUG or i==23
set i=i+1
set x=DD8(GetUnitX(m5)+(600-i*25)*Cos(a*bj_DEGTORAD))
set y=DE8(GetUnitY(m5)+(600-i*25)*Sin(a*bj_DEGTORAD))
if(IsPointInRegion(IU4,((x)*1.0),((y)*1.0)))==false then
set IUG=true
endif
endloop
set d=RI7(x,y,GetUnitX(m5),GetUnitY(m5))
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function ISG))
call TX7(UL7,"Target",m5)
call TU7(UL7,"a",(a)*1.0)
call TU7(UL7,"d",(d)*1.0)
call TW7(UL7,"AI",(Z27(GetOwningPlayer(m5)))and(IsUnitAlly(m5,GetOwningPlayer(GetTriggerUnit()))))
set m5=null
set t=null
endfunction
function IVG takes nothing returns nothing
if GetSpellAbilityId()==1093744973 and GetUnitTypeId(GetSpellTargetUnit())!=1848651852 then
if IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))==true or US7(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp")==false then
call ITG()
endif
endif
endfunction
function IWG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
if GetTriggerEvalCount(t)>40 or GetTriggerEventId()==EVENT_UNIT_DEATH or CO7(p5)or UX7(p5,"Teleporting")then
call UnitRemoveAbility(p5,1097167980)
call TQ7(UL7)
call U37(t)
endif
set p5=null
set t=null
return false
endfunction
function IXG takes nothing returns nothing
local unit p5=GetTriggerUnit()
local trigger t
local integer OL7
if RZ7(p5)==false then
set t=CreateTrigger()
set OL7=GetHandleId(t)
call UnitAddAbility(p5,1097167980)
call UnitMakeAbilityPermanent(p5,true,1097167980)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1097167980,false)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function IWG))
call TX7(OL7,"Source",p5)
endif
set p5=null
set t=null
endfunction
function IYG takes nothing returns nothing
if GetSpellAbilityId()==1093747011 and CO7(GetTriggerUnit())==false then
call IXG()
endif
endfunction
function IZG takes nothing returns nothing
local unit p5=GetTriggerUnit()
local real x
local real y
if ZL7(GetOwningPlayer(p5))then
set x=GetRectCenterX(ED)
set y=GetRectCenterY(ED)
else
set x=GetRectCenterX(L9)
set y=GetRectCenterY(L9)
endif
call IssuePointOrder(p5,"move",x,y)
set p5=null
endfunction
function IAG takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local real x
local real y
if ZL7(GetOwningPlayer(EL8))then
set x=-4533
set y=1158
else
set x=3190
set y=-35
endif
call IssuePointOrder(EL8,"move",x,y)
set EL8=null
endfunction
function IBG takes nothing returns nothing
if GetSpellAbilityId()==1093747027 then
call IZG()
elseif GetSpellAbilityId()==1093815123 then
call IAG()
endif
endfunction
function ICG takes nothing returns nothing
if UX7(GetEnumUnit(),"PipeOfInsightOn")==true then
call D78(GetOwningPlayer(GetEnumUnit()),GetObjectName(1848652365))
else
if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true then
call U07(GetEnumUnit(),"PipeOfInsightOn",50)
endif
if GetUnitAbilityLevel(GetEnumUnit(),1110458964)==0 and GetUnitAbilityLevel(GetEnumUnit(),1110458965)==0 then
call IssueTargetOrder(Mw,"antimagicshell",GetEnumUnit())
endif
endif
endfunction
function I3G takes nothing returns nothing
local unit p5=GetTriggerUnit()
local group g=CA7()
set Mw=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(p5),GetUnitY(p5),0)
call UnitAddAbility(Mw,1093748054)
call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),525,Condition(function GC8))
call ForGroup(g,function ICG)
call CZ7(g)
set p5=null
set g=null
endfunction
function I6G takes nothing returns nothing
if GetSpellAbilityId()==1093748055 then
call I3G()
endif
endfunction
function ILG takes nothing returns nothing
local unit CR7=GetTriggerUnit()
call TW7(GetHandleId(CR7),"MantaBlocked",true)
set CR7=null
endfunction
function I1G takes nothing returns nothing
if(GetSpellAbilityId()==1093681720 or GetSpellAbilityId()==1093752645)and CY7(GetTriggerUnit())==true then
call ILG()
endif
endfunction
function I0G takes integer id returns boolean
return id==1969711215 or id==1970169187 or id==1702061422 or id==1701081721 or id==1966092337 or id==1966092338 or id==1697656918 or id==1697656919 or id==1700946284 or id==1697657398 or id==1970107511 or id==1966092370
endfunction
function I5G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local unit m5=UE7(UL7,"Target")
if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>8 then
call DestroyEffect(UK7(UL7,"FX"))
call TQ7(UL7)
call U37(t)
else
if GetUnitState(m5,UNIT_STATE_LIFE)>(150.0/8.0+0.5)then
call SetUnitState(m5,UNIT_STATE_LIFE,GetUnitState(m5,UNIT_STATE_LIFE)-150.0/8.0)
else
set WV4[GetPlayerId(GetOwningPlayer(m5))]=true
set HI7=true
call HG8(p5,m5,ZG4,50)
set WV4[GetPlayerId(GetOwningPlayer(m5))]=false
set HI7=false
endif
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function I2G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit m5=UE7(UL7,"Target")
if GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_UNIT_DAMAGED and(I0G(GetUnitTypeId(GetEventDamageSource()))==false and(GetOwningPlayer(GetEventDamageSource())!=B7 or GetUnitTypeId(GetEventDamageSource())==1848651852)and GetEventDamage()>0)or WU4==true)then
call UnitRemoveAbility(m5,1110459207)
call TQ7(UL7)
call U37(t)
endif
set t=null
set m5=null
return false
endfunction
function I_G takes nothing returns nothing
local trigger t
local integer UL7
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local unit HE8
local integer i=0
local boolean J4G=false
local boolean J7G=false
local integer B08
if m5==null then
set m5=GetTriggerUnit()
endif
set HE8=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
loop
exitwhen i>5 or J7G
if RC7(UnitItemInSlot(p5,i))==DY4 then
set B08=GetItemCharges(UnitItemInSlot(p5,i))
if B08>0 then
set J4G=true
set B08=B08-1
else
set J7G=true
set J4G=false
endif
endif
set i=i+1
endloop
if J4G==true then
set t=CreateTrigger()
set UL7=GetHandleId(t)
if IsUnitAlly(m5,GetOwningPlayer(p5))==true then
call UnitAddAbility(HE8,1093750093)
call IssueTargetOrderById(HE8,852609,m5)
call TX7(UL7,"Target",m5)
call TriggerRegisterTimerEvent(t,L3,false)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function I2G))
else
call TX7(UL7,"Target",m5)
call TX7(UL7,"Source",p5)
call TY7(UL7,"FX",AddSpecialEffectTarget("war3mapImported\\Urn_Enemy.mdx",m5,"overhead"))
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function I5G))
endif
endif
set p5=null
set HE8=null
set m5=null
set t=null
endfunction
function J8G takes nothing returns nothing
if GetSpellAbilityId()==1093750095 then
call I_G()
endif
endfunction
function J9G takes nothing returns nothing
local integer i=0
loop
exitwhen i>16
set WV4[i]=false
set i=i+1
endloop
endfunction
function JDG takes nothing returns nothing
if D69(GetEnumUnit())==false then
call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),1093753432,false)
call FE8(GetEnumUnit(),1093753432,1,YL4,1110459480)
endif
endfunction
function JEG takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local integer i=0
local boolean JFG=false
local boolean JGG=false
local integer B08
local group g
set g=CA7()
call GroupEnumUnitsInRange(g,GetUnitX(EL8),GetUnitY(EL8),925,Condition(function FM8))
call ForGroup(g,function JDG)
call CZ7(g)
set g=null
set EL8=null
endfunction
function JHG takes nothing returns nothing
if GetSpellAbilityId()==1093753431 then
call JEG()
endif
endfunction
function JIG takes unit u returns boolean
local integer OR7=GetUnitTypeId(u)
return OR7==1211122232 or OR7==1848657482 or OR7==1848657481 or OR7==1848657462 or OR7==1848657480 or OR7==1966092371
endfunction
function JJG takes unit u returns boolean
local integer id=GetUnitTypeId(u)
return BC7(id)
endfunction
function JKG takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),Y14)and LR7(GetFilterUnit())==false and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true or IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==true or JJG(GetFilterUnit()))and JIG(GetFilterUnit())==false
endfunction
function JMG takes unit EL8 returns boolean
local group g=CA7()
local boolean JFG
set Y14=GetOwningPlayer(EL8)
call GroupEnumUnitsInRange(g,GetUnitX(EL8),GetUnitY(EL8),1050,Condition(function JKG))
set JFG=FirstOfGroup(g)!=null
call CZ7(g)
return JFG
endfunction
function JNG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local group g
local integer CS8
local boolean JOG
if GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED then
if GetAttacker()==EL8 then
call UnitRemoveAbility(EL8,1093808204)
call UnitRemoveAbility(EL8,1093808211)
call UnitRemoveAbility(EL8,1110459698)
call UnitRemoveAbility(EL8,1110456665)
if((LoadInteger(L7,(GetHandleId((EL8))),((4302))))==1)==false then
call UnitSetUsesAltIcon(EL8,false)
endif
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
else
set JOG=(LoadBoolean(L7,(OL7),(671)))
set CS8=(LoadInteger(L7,(OL7),(34)))
set CS8=CS8+1
call SaveInteger(L7,(OL7),(34),(CS8))
set g=CA7()
set Y14=GetOwningPlayer(EL8)
call GroupEnumUnitsInRange(g,GetUnitX(EL8),GetUnitY(EL8),1050,Condition(function JKG))
if GetUnitAbilityLevel(EL8,1110456665)>0 then
call SaveBoolean(L7,(OL7),(671),(true))
elseif JOG then
call SaveBoolean(L7,(OL7),(671),(false))
call UnitRemoveAbility(EL8,1093808204)
call LP7(EL8,1093808204)
endif
if CS8>400 or FirstOfGroup(g)!=null then
call UnitRemoveAbility(EL8,1093808204)
call UnitRemoveAbility(EL8,1093808211)
call UnitRemoveAbility(EL8,1110459698)
call UnitRemoveAbility(EL8,1110456665)
if((LoadInteger(L7,(GetHandleId((EL8))),((4302))))==1)==false then
call UnitSetUsesAltIcon(EL8,false)
endif
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
call CZ7(g)
endif
set t=null
set EL8=null
set g=null
return false
endfunction
function JPG takes nothing returns nothing
local unit EL8=GetEnumUnit()
local trigger t
local integer OL7
if Z07(GetOwningPlayer(EL8))and JMG(EL8)==false then
if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(EL8))==false and CP7(GetLocalPlayer())==false then
call UnitSetUsesAltIcon(EL8,true)
endif
call LP7(EL8,1093808204)
call UnitMakeAbilityPermanent(EL8,true,1093808204)
if D69(EL8)==false then
call LP7(EL8,1093808211)
call UnitMakeAbilityPermanent(EL8,true,1093808211)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093808211,false)
endif
set t=CreateTrigger()
set OL7=GetHandleId(t)
call SaveInteger(L7,(OL7),(34),(0))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveBoolean(L7,(OL7),(671),(false))
call SaveEffectHandle(L7,(OL7),(32),(AddSpecialEffectTarget("war3mapImported\\SmokeOfDeceit.mdx",EL8,"chest")))
call D28(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterTimerEvent(t,.1,true)
call TriggerAddCondition(t,Condition(function JNG))
set t=null
endif
set EL8=null
endfunction
function JQG takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local group g=CA7()
call GroupEnumUnitsInRange(g,GetUnitX(EL8),GetUnitY(EL8),1225,Condition(function FK8))
call ForGroup(g,function JPG)
call CZ7(g)
set EL8=null
set g=null
endfunction
function JRG takes nothing returns nothing
if GetSpellAbilityId()==1093808182 then
call JQG()
endif
endfunction
function InitTrig_Smoke_of_Deceit takes nothing returns nothing
call SetAltMinimapIcon("war3mapImported\\black.blp")
endfunction
function JSG takes nothing returns nothing
if D69(GetEnumUnit())==false then
call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),1093810246,false)
call FE8(GetEnumUnit(),1093810246,1,AB4,1110459729)
endif
endfunction
function JTG takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local group g=CA7()
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
call GroupEnumUnitsInRange(g,x,y,575,Condition(function G48))
call ForGroup(g,function JSG)
call CZ7(g)
call DestroyEffect(AddSpecialEffect("war3mapImported\\DarkLightningNova.mdx",x,y))
set EL8=null
set g=null
endfunction
function JUG takes nothing returns nothing
if GetSpellAbilityId()==1093810244 then
call JTG()
endif
endfunction
function JVG takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local unit HE8=CreateUnit(GetOwningPlayer(EL8),1697656901,GetUnitX(O_7),GetUnitY(O_7),0)
call UnitAddAbility(HE8,1093815091)
call IssueTargetOrder(HE8,"slow",O_7)
set EL8=null
set O_7=null
set HE8=null
endfunction
function JWG takes nothing returns nothing
if GetSpellAbilityId()==1093813569 and CY7(GetSpellTargetUnit())==false then
call JVG()
endif
endfunction
function JXG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local integer CS8=(LoadInteger(L7,(OL7),(34)))
if GetTriggerEventId()==EVENT_WIDGET_DEATH or CS8==10 or(GetTriggerEventId()==EVENT_UNIT_DAMAGED and GetEventDamage()>20)then
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
elseif GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
set CS8=CS8+1
call SaveInteger(L7,(OL7),(34),(CS8))
call SetUnitState(EL8,UNIT_STATE_LIFE,GetUnitState(EL8,UNIT_STATE_LIFE)+17)
endif
set t=null
set EL8=null
return false
endfunction
function JYG takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterDeathEvent(t,EL8)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function JXG))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveInteger(L7,(OL7),(34),(0))
call SaveEffectHandle(L7,(OL7),(32),(AddSpecialEffectTarget("war3mapImported\\TranquilBootsHeal.mdx",EL8,"origin")))
set EL8=null
set t=null
endfunction
function JZG takes nothing returns nothing
if GetSpellAbilityId()==1093815089 then
call JYG()
endif
endfunction
function JAG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local real x=(LoadReal(L7,(OL7),(6)))
local real y=(LoadReal(L7,(OL7),(7)))
local unit HE8
if GetUnitX(EL8)!=x or GetUnitY(EL8)!=y or(GetUnitAbilityLevel(EL8,1110460216)==0 and GetTriggerEvalCount(t)>R2I(IG7/.05))then
call FlushChildHashtable(L7,(OL7))
call U37(t)
call UB7(EL8,"ShadowAmu|4330")
call UnitRemoveAbility(EL8,1110460214)
call UnitRemoveAbility(EL8,1110460216)
elseif GetTriggerEvalCount(t)==R2I(IG7/.05)then
set HE8=CreateUnit(GetOwningPlayer(EL8),1697656901,GetUnitX(EL8),GetUnitY(EL8),0)
call UnitAddAbility(HE8,1093815861)
call IssueTargetOrder(HE8,"invisibility",EL8)
call UB7(EL8,"ShadowAmu|4330")
set HE8=null
endif
set t=null
set EL8=null
return false
endfunction
function JBG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local real x=(LoadReal(L7,(OL7),(6)))
local real y=(LoadReal(L7,(OL7),(7)))
local integer JCG=(LoadInteger(L7,(OL7),(375)))
local integer id=GetUnitCurrentOrder(EL8)
if GetUnitX(EL8)!=x or GetUnitY(EL8)!=y then
call IssueImmediateOrder(EL8,"holdposition")
call SaveReal(L7,(JCG),(6),((GetUnitX(EL8))*1.0))
call SaveReal(L7,(JCG),(7),((GetUnitY(EL8))*1.0))
elseif id==0 or id==851973 or id==851983 or id==851971 then
call IssueImmediateOrder(EL8,"holdposition")
endif
call FlushChildHashtable(L7,(OL7))
call U37(t)
set t=null
set EL8=null
return false
endfunction
function J3G takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local trigger t2=CreateTrigger()
local integer PRD=GetHandleId(t2)
local string J6G="Abilities\\Spells\\Undead\\DeathandDecay\\DeathandDecayTarget.mdl"
if GetLocalPlayer()!=GetOwningPlayer(EL8)then
set J6G=""
endif
call UZ7(EL8,"ShadowAmu|4330")
call DestroyEffect(AddSpecialEffectTarget(J6G,EL8,"chest"))
call DestroyEffect(AddSpecialEffectTarget(J6G,EL8,"hand left"))
call DestroyEffect(AddSpecialEffectTarget(J6G,EL8,"hand right"))
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function JAG))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveReal(L7,(OL7),(6),((GetUnitX(EL8))*1.0))
call SaveReal(L7,(OL7),(7),((GetUnitY(EL8))*1.0))
call TriggerRegisterTimerEvent(t2,0.01,false)
call TriggerAddCondition(t2,Condition(function JBG))
call SaveUnitHandle(L7,(PRD),(2),(EL8))
call SaveReal(L7,(PRD),(6),((GetUnitX(EL8))*1.0))
call SaveReal(L7,(PRD),(7),((GetUnitY(EL8))*1.0))
call SaveInteger(L7,(PRD),(375),(OL7))
set EL8=null
set t=null
endfunction
function JLG takes nothing returns nothing
if GetSpellAbilityId()==1093815857 and UX7(GetTriggerUnit(),"ShadowAmu|4330")==false then
call J3G()
endif
endfunction
function J1G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer O17=GetHandleId(t)
local unit O_7=(LoadUnitHandle(L7,O17,(17)))
local integer J0G=(LoadInteger(L7,O17,(34)))
if(GetTriggerEventId()==EVENT_WIDGET_DEATH or GetTriggerEvalCount(t)>=J0G or CO7(O_7)==true)then
call FT8(O_7)
call DestroyEffect((LoadEffectHandle(L7,O17,(32))))
call FlushChildHashtable(L7,O17)
call U37(t)
endif
set t=null
set O_7=null
return false
endfunction
function J5G takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local unit HE8
local integer HF8=2
local real J2G=4.5
local trigger t=CreateTrigger()
local integer O17=GetHandleId(t)
if IsUnitType(O_7,UNIT_TYPE_MELEE_ATTACKER)==true then
set HF8=1
set J2G=3
endif
call FR8(O_7)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterDeathEvent(t,O_7)
call TriggerAddCondition(t,Condition(function J1G))
call SaveUnitHandle(L7,O17,(17),(O_7))
call SaveInteger(L7,O17,(34),(R2I(J2G*10)))
call SaveEffectHandle(L7,O17,(32),(AddSpecialEffectTarget("Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl",O_7,"overhead")))
set EL8=null
set O_7=null
set HE8=null
endfunction
function J_G takes nothing returns nothing
if GetSpellAbilityId()==1093815092 and CY7(GetSpellTargetUnit())==false then
call J5G()
endif
endfunction
function K4G takes integer HF8,unit EL8,unit O_7 returns nothing
set HI7=true
call HG8(EL8,O_7,ZG4,300+100*HF8)
set HI7=false
endfunction
function K7G takes nothing returns nothing
local integer K8G=0
if GetSpellAbilityId()==1093677647 then
set K8G=1
endif
if GetSpellAbilityId()==1093679193 then
set K8G=2
endif
if GetSpellAbilityId()==1093679194 then
set K8G=3
endif
if GetSpellAbilityId()==1093679408 then
set K8G=4
endif
if GetSpellAbilityId()==1093679410 then
set K8G=5
endif
if K8G>0 and CY7(GetSpellTargetUnit())==false then
call K4G(K8G,GetTriggerUnit(),GetSpellTargetUnit())
endif
endfunction
function K9G takes nothing returns nothing
if GetSpellAbilityId()==1093814353 then
call C88(GetTriggerUnit(),GetSpellTargetUnit())
endif
endfunction
function KDG takes unit EL8,integer BG7,real x,real y returns nothing
local unit KEG=CreateUnit(GetOwningPlayer(EL8),BG7,x,y,0)
call UnitApplyTimedLife(KEG,1112820806,15)
set KEG=null
endfunction
function KFG takes nothing returns nothing
local unit KEG
local real x
local real y
if GetSpellAbilityId()==1093753420 then
set x=GetDestructableX(GetSpellTargetDestructable())
set y=GetDestructableY(GetSpellTargetDestructable())
call KDG(GetTriggerUnit(),1848659021,x,y)
elseif GetSpellAbilityId()==1093753421 then
set x=GetDestructableX(GetSpellTargetDestructable())
set y=GetDestructableY(GetSpellTargetDestructable())
call KDG(GetTriggerUnit(),1848659022,x,y)
endif
set KEG=null
endfunction
function KGG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
call UnitRemoveAbility(EL8,1093753418)
call UnitRemoveAbility(O_7,1093753418)
call DestroyEffect((LoadEffectHandle(L7,(OL7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(176))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
set t=null
set EL8=null
set O_7=null
return false
endfunction
function KHG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,7,false)
call TriggerAddCondition(t,Condition(function KGG))
call SaveUnitHandle(L7,(OL7),(2),(GetTriggerUnit()))
call SaveUnitHandle(L7,(OL7),(17),(GetSpellTargetUnit()))
call SaveEffectHandle(L7,(OL7),(175),(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\Cripple\\CrippleTarget.mdl",GetSpellTargetUnit(),"chest")))
call SaveEffectHandle(L7,(OL7),(176),(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\Cripple\\CrippleTarget.mdl",GetTriggerUnit(),"chest")))
call UnitAddAbility(GetTriggerUnit(),1093753418)
call UnitAddAbility(GetSpellTargetUnit(),1093753418)
call UnitMakeAbilityPermanent(GetTriggerUnit(),true,1093753418)
call UnitMakeAbilityPermanent(GetSpellTargetUnit(),true,1093753418)
set t=null
endfunction
function KIG takes nothing returns nothing
if GetSpellAbilityId()==1093753417 and CY7(GetSpellTargetUnit())==false then
call KHG()
endif
endfunction
function KJG takes nothing returns nothing
local unit PI7=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local unit HE8
if GetSpellTargetUnit()==null then
if GetSpellAbilityId()==1095331948 then
set HE8=CreateUnit(GetOwningPlayer(PI7),1697656901,GetUnitX(PI7),GetUnitY(PI7),0)
call UnitAddAbility(HE8,1093752641)
call IssueTargetOrderById(HE8,852609,PI7)
set HE8=null
elseif GetSpellAbilityId()==1095331954 then
set HE8=CreateUnit(GetOwningPlayer(PI7),1697656901,GetUnitX(PI7),GetUnitY(PI7),0)
call UnitAddAbility(HE8,1095331954)
call IssueTargetOrderById(HE8,852609,PI7)
set HE8=null
endif
endif
set PI7=null
set O_7=null
endfunction
function KKG takes nothing returns nothing
if GetSpellAbilityId()==1095331948 or GetSpellAbilityId()==1095331954 then
call KJG()
endif
endfunction
function KMG takes integer HF8 returns integer
if HF8==1 then
return 25
elseif HF8==2 then
return 41
elseif HF8==3 then
return 62
elseif HF8==4 then
return 88
elseif HF8==5 then
return 119
elseif HF8==6 then
return 155
endif
return 25
endfunction
function KNG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local integer HF8=(LoadInteger(L7,(OL7),(34)))
if(GetTriggerEventId()==EVENT_UNIT_DEATH and GetKillingUnit()==EL8)or(GetTriggerEventId()==EVENT_UNIT_DAMAGED and GetUnitAbilityLevel(O_7,1110459731)>0)then
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl",GetUnitX(O_7),GetUnitY(O_7)))
call AddHeroXP(EL8,R2I(KMG(HF8)*2.5),true)
call EY8(GetOwningPlayer(EL8),O_7,190)
set VG4[GetPlayerId(GetOwningPlayer(EL8))]=VG4[GetPlayerId(GetOwningPlayer(EL8))]+190
call FlushChildHashtable(L7,(OL7))
call U37(t)
call KillUnit(O_7)
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function KOG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local integer HF8=GetUnitLevel(O_7)
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveInteger(L7,(OL7),(34),(HF8))
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function KNG))
set t=null
set EL8=null
set O_7=null
endfunction
function KPG takes nothing returns nothing
if GetSpellAbilityId()==1093810265 then
call KOG()
endif
endfunction
function KQG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer CF7=GetHandleId(t)
local unit FFD=(LoadUnitHandle(L7,(CF7),(2)))
local real KRG=(LoadReal(L7,(CF7),(242)))
local real KSG=(LoadReal(L7,(CF7),(529)))
local real KTG=(LoadReal(L7,(CF7),(530)))
local real KUG=GetUnitState(FFD,UNIT_STATE_MANA)
local real KVG=GetUnitState(FFD,UNIT_STATE_MAX_MANA)
local real KWG=KRG-KUG
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call FlushChildHashtable(L7,(CF7))
call U37(t)
elseif GetTriggerEvalCount(t)==20*10 then
call FlushChildHashtable(L7,(CF7))
call U37(t)
if KSG<150 then
call SetUnitState(FFD,UNIT_STATE_MANA,KUG-(150-KSG-KTG))
endif
else
if KWG>0 then
set KSG=KSG+(KRG-KUG)
if KTG>0 then
if KWG>KTG then
call SetUnitState(FFD,UNIT_STATE_MANA,KUG+KTG)
set KTG=0
else
if KTG>(KVG-KUG)then
set KTG=KTG-(KVG-KUG)
call SetUnitState(FFD,UNIT_STATE_MANA,KUG+KVG-KUG)
else
set KTG=KTG-KWG
call SetUnitState(FFD,UNIT_STATE_MANA,KUG+KWG)
endif
endif
endif
endif
set KRG=KUG
call SaveReal(L7,(CF7),(242),((KRG)*1.0))
call SaveReal(L7,(CF7),(529),((KSG)*1.0))
call SaveReal(L7,(CF7),(530),((KTG)*1.0))
endif
set t=null
set FFD=null
return false
endfunction
function KXG takes nothing returns nothing
local unit FFD=GetTriggerUnit()
local real HIE=GetUnitState(FFD,UNIT_STATE_LIFE)
local trigger t=CreateTrigger()
local integer CF7=GetHandleId(t)
local real KUG=GetUnitState(FFD,UNIT_STATE_MANA)
if HIE>151 then
call SetUnitState(FFD,UNIT_STATE_LIFE,HIE-150)
else
call SetUnitState(FFD,UNIT_STATE_LIFE,1)
endif
call DB8("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkZapTarget.mdl",FFD,"origin",2)
call SetUnitState(FFD,UNIT_STATE_MANA,KUG+150)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerRegisterUnitEvent(t,FFD,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function KQG))
call SaveUnitHandle(L7,(CF7),(2),(FFD))
call SaveReal(L7,(CF7),(242),((GetUnitState(FFD,UNIT_STATE_MANA))*1.0))
call SaveReal(L7,(CF7),(529),((0)*1.0))
if(KUG+150)>GetUnitState(FFD,UNIT_STATE_MAX_MANA)then
call SaveReal(L7,(CF7),(530),(((KUG+150)-GetUnitState(FFD,UNIT_STATE_MAX_MANA))*1.0))
endif
set FFD=null
endfunction
function KYG takes nothing returns nothing
if GetSpellAbilityId()==1093751096 then
call KXG()
endif
endfunction
function KZG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
if GetTriggerEvalCount(t)>30 or GetTriggerEventId()==EVENT_UNIT_DEATH then
call UnitRemoveAbility(EL8,1093751107)
call UnitRemoveAbility(EL8,1110459225)
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set EL8=null
set t=null
return false
endfunction
function KAG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
if GetTriggerEvalCount(t)>30 or GetTriggerEventId()==EVENT_UNIT_DEATH or((LoadInteger(L7,(GetHandleId((EL8))),((4256))))==1)then
call UnitRemoveAbility(EL8,1097167980)
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set EL8=null
set t=null
return false
endfunction
function KBG takes unit u returns nothing
local unit EL8=u
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call UnitAddAbility(EL8,1097167980)
call UnitMakeAbilityPermanent(EL8,true,1097167980)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1097167980,false)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function KAG))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
set EL8=null
set t=null
endfunction
function KCG takes nothing returns nothing
local integer OL7=GetHandleId(GetTriggeringTrigger())
local unit EL8=IN4
local unit O_7=IP4
local real WQD=(LoadReal(L7,(OL7),(20)))
local trigger t
if IsPlayerAlly(GetOwningPlayer(O_7),GetOwningPlayer(EL8))==true and EL8!=O_7 then
call KBG(O_7)
elseif EL8!=O_7 then
set t=CreateTrigger()
set OL7=GetHandleId(t)
call SetPlayerAbilityAvailable(GetOwningPlayer(O_7),1093751107,false)
call UnitAddAbility(O_7,1093751107)
call UnitMakeAbilityPermanent(O_7,true,1093751107)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function KZG))
call SaveUnitHandle(L7,(OL7),(2),(O_7))
call KBG(O_7)
call DL8("+"+I2S(R2I(WQD)),2,O_7,0.027,3,216,120,216)
set HI7=true
call HG8(EL8,O_7,ZG4,WQD)
set HI7=false
endif
call KBG(EL8)
set EL8=null
set O_7=null
endfunction
function K3G takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local trigger t2=EO8(EL8,O_7,1747993171,"KCG",1000)
local integer PRD=GetHandleId(t2)
local integer EAD=CQ7(EL8)
local real K6G
if EAD==K37 then
set K6G=GetHeroAgi(EL8,true)
elseif EAD==K67 then
set K6G=GetHeroStr(EL8,true)
elseif EAD==KL7 then
set K6G=GetHeroInt(EL8,true)
endif
call SaveReal(L7,(PRD),(20),((K6G*2.0+75)*1.0))
set EL8=null
set O_7=null
set t2=null
endfunction
function KLG takes nothing returns nothing
if GetSpellAbilityId()==1093751108 and(IsPlayerAlly(GetOwningPlayer(GetSpellTargetUnit()),GetOwningPlayer(GetTriggerUnit()))==true or CY7(GetSpellTargetUnit())==false)then
call K3G()
endif
endfunction
function K1G takes nothing returns nothing
call SetUnitState(GetEnumUnit(),UNIT_STATE_MANA,GetUnitState(GetEnumUnit(),UNIT_STATE_MANA)+135)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIma\\AImaTarget.mdl",GetEnumUnit(),"origin"))
endfunction
function K0G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local group g=CA7()
set IN4=EL8
call GroupEnumUnitsInRange(g,GetUnitX(EL8),GetUnitY(EL8),25+600,Condition(function GE8))
call ForGroup(g,function K1G)
call CZ7(g)
call FlushChildHashtable(L7,(OL7))
call U37(t)
set g=null
set EL8=null
set t=null
return false
endfunction
function K5G takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local group g
local trigger t
if GetSpellAbilityId()==1093684023 then
if GetUnitTypeId(EL8)!=1211117642 then
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function K0G))
call SaveUnitHandle(L7,(GetHandleId(t)),(2),(EL8))
set t=null
else
call SetUnitState(EL8,UNIT_STATE_MANA,GetUnitState(EL8,UNIT_STATE_MANA)+25)
endif
endif
set EL8=null
set g=null
set t=null
endfunction
function K2G takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local unit HE8
if GetSpellAbilityId()==1093751863 and(CY7(GetSpellTargetUnit())==false or IsPlayerAlly(GetOwningPlayer(EL8),GetOwningPlayer(O_7))==true)then
if GetSpellTargetItem()!=null then
set O_7=GetTriggerUnit()
endif
set HE8=CreateUnit(GetOwningPlayer(EL8),1697656901,GetUnitX(O_7),GetUnitY(O_7),0)
call UnitAddAbility(HE8,1095328633)
call IssueTargetOrder(HE8,"cyclone",O_7)
endif
set EL8=null
set O_7=null
set HE8=null
endfunction
function K_G takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())==1697656901 then
return false
endif
call M19()
call K69()
call MX9()
call GWG()
call HMG()
call HVG()
call HYG()
call H3G()
call MA9()
call HWG()
call H6G()
call XTF()
call KP9()
call XBF()
call IEG()
call Y4F()
call X3F()
call ING()
call IKG()
call EOG()
call IOG()
call IRG()
call IVG()
call IYG()
call IBG()
call I4G()
call I6G()
call I1G()
call J8G()
call KYG()
call KLG()
call K2G()
call K5G()
call KPG()
call KKG()
call KIG()
call KFG()
call JHG()
call JRG()
call JUG()
call JWG()
call K9G()
call K7G()
call JZG()
call J_G()
call JLG()
if GetSpellAbilityId()==1093815095 and CY7(GetSpellTargetUnit())==false then
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\LevelerStunFX.mdx",GetSpellTargetUnit(),"head"))
endif
return false
endfunction
function M4G takes nothing returns boolean
call G4G()
call G7G()
call GEG()
call GJG()
call N79()
call GOG()
call GPG()
call GQG()
call GRG()
call GTG()
return false
endfunction
function M7G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
local unit M8G=UE7(UL7,"Caster")
local unit m5=UE7(UL7,"Target")
local effect FX=UK7(UL7,"FX")
local player p=GetOwningPlayer(CR7)
call UnitShareVision(m5,p,false)
call DestroyEffect(FX)
call RemoveUnit(M8G)
call UnitRemoveAbility(m5,1110455880)
call TQ7(UL7)
call U37(t)
set t=null
set CR7=null
set M8G=null
set m5=null
set FX=null
set p=null
return false
endfunction
function M9G takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local player p=GetOwningPlayer(CR7)
local unit M8G
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local string s="effects\\Snipe Target.mdx"
if IsPlayerAlly(GetLocalPlayer(),p)==false and CP7(GetLocalPlayer())==false then
set s=""
endif
call UnitShareVision(m5,p,true)
set M8G=CreateUnit(GetOwningPlayer(m5),1697657170,0,0,0)
call LP7(M8G,1093684809)
call TX7(UL7,"Target",m5)
call TX7(UL7,"Hero",CR7)
call TX7(UL7,"Caster",M8G)
call TY7(UL7,"FX",AddSpecialEffectTarget(s,m5,"overhead"))
call TriggerRegisterTimerEvent(t,4,false)
call TriggerRegisterUnitEvent(t,CR7,EVENT_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(t,Condition(function M7G))
set t=null
set CR7=null
set m5=null
set M8G=null
set p=null
endfunction
function MDG takes nothing returns boolean
if GetSpellAbilityId()==1093678160 then
call M9G()
endif
return false
endfunction
function NP8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_CHANNEL)
call TriggerAddCondition(t,Condition(function MDG))
set t=null
endfunction
function MEG takes nothing returns boolean
local real d
if IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(IP4))==true then
set d=RI7(IK4,IM4,GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()))
if d<IJ4 then
set IJ4=d
set IN4=GetFilterUnit()
endif
endif
return false
endfunction
function MFG takes unit MGG,real x,real y returns unit
local group g=CA7()
set IN4=null
set IP4=MGG
set IJ4=99999
set IK4=x
set IM4=y
call GroupEnumUnitsInRange(g,x,y,2000,Condition(function MEG))
call CZ7(g)
set g=null
return IN4
endfunction
function MHG takes nothing returns boolean
local real d
if GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and LR7(GetFilterUnit())==false and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(IP4))==true then
set d=RI7(IK4,IM4,GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()))
if d<IJ4 then
set IJ4=d
set IN4=GetFilterUnit()
endif
endif
return false
endfunction
function MIG takes unit MGG,real x,real y returns unit
local group g=CA7()
set IN4=null
set IP4=MGG
set IJ4=99999
set IK4=x
set IM4=y
call GroupEnumUnitsInRange(g,x,y,2000,Condition(function MHG))
call CZ7(g)
set g=null
return IN4
endfunction
function MJG takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local location l
local real x
local real y
local unit m5=GetSpellTargetUnit()
if m5==null then
set l=GetSpellTargetLoc()
set x=GetLocationX(l)
set y=GetLocationY(l)
call RemoveLocation(l)
if GetSpellAbilityId()==1093682008 then
set m5=MFG(CR7,x,y)
else
set m5=MIG(CR7,x,y)
endif
set x=GetUnitX(m5)
set y=GetUnitY(m5)
else
set x=GetUnitX(GetSpellTargetUnit())
set y=GetUnitY(GetSpellTargetUnit())
endif
if(IsUnitAlly(CR7,GetLocalPlayer())and GetLocalPlayer()!=GetOwningPlayer(CR7))or(V8 and(GetLocalPlayer()==KX4 or GetLocalPlayer()==KY4))then
call PingMinimapEx(x,y,3,255,255,255,false)
endif
set CR7=null
set l=null
endfunction
function MKG takes nothing returns boolean
if GetSpellAbilityId()==1093682008 or GetSpellAbilityId()==1095331188 then
call MJG()
endif
return false
endfunction
function MMG takes unit MNG returns nothing
local group g=CA7()
local real x=GetUnitX(MNG)
local real y=GetUnitY(MNG)
local unit MOG
local unit MPG=CreateUnit(GetOwningPlayer(MNG),1697656901,x,y,0)
local integer MQG=GetUnitAbilityLevel(MNG,1093687860)
set IN4=MNG
call GroupEnumUnitsInRange(g,x,y,300,Condition(function GJ8))
set MOG=GroupPickRandomUnit(g)
call CZ7(g)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl",MNG,"origin"))
if MOG!=null then
call LP7(MPG,1093687863)
call SetUnitAbilityLevel(MPG,1093687863,MQG)
call IssueTargetOrder(MPG,"thunderbolt",MOG)
endif
set g=null
set MOG=null
set MPG=null
endfunction
function MRG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer MSG=GetHandleId(t)
local integer MTG=GetTriggerEvalCount(t)
local unit MUG=UE7(MSG,"Hero")
if MTG>15 or GetTriggerEventId()==EVENT_UNIT_DEATH then
call TQ7(MSG)
call U37(t)
else
call MMG(MUG)
endif
set t=null
set MUG=null
return false
endfunction
function MVG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer MSG=GetHandleId(t)
local unit MUG=GetTriggerUnit()
call TriggerRegisterTimerEvent(t,.7,true)
call TriggerRegisterUnitEvent(t,MUG,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function MRG))
call TX7(MSG,"Hero",MUG)
call TriggerEvaluate(t)
set t=null
set MUG=null
endfunction
function MWG takes nothing returns boolean
if GetSpellAbilityId()==1093687860 then
call MVG()
endif
return false
endfunction
function T78 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function MWG))
set t=null
endfunction
function MXG takes real s,real MYG,real MZG,real MAG returns boolean
return s<=MYG and s<=MZG and s<=MAG
endfunction
function MBG takes unit u,real x,real y,real d returns real
local real x2=GetUnitX(u)
local real y2=GetUnitY(u)
local real MCG=RI7(x-d,y,x2,y2)
local real M3G=RI7(x+d,y,x2,y2)
local real M6G=RI7(x,y+d,x2,y2)
local real MLG=RI7(x,y-d,x2,y2)
if MXG(MCG,M3G,MLG,M6G)then
return 180.0
elseif MXG(M3G,MCG,MLG,M6G)then
return 0.0
elseif MXG(MLG,M3G,MCG,M6G)then
return 270.0
endif
return 90.0
endfunction
function M1G takes real s,real MYG,real MZG,real MAG,real M0G,real M5G,real M2G,real M_G returns boolean
return s<=MYG and s<=MZG and s<=MAG and s<=M0G and s<=M5G and s<=M2G and s<=M_G
endfunction
function N4G takes unit u,integer UL7 returns unit
local real x1=GetUnitX(u)
local real y1=GetUnitY(u)
local unit N7G=UE7(UL7,"Cog1")
local unit N8G=UE7(UL7,"Cog2")
local unit N9G=UE7(UL7,"Cog3")
local unit NDG=UE7(UL7,"Cog4")
local unit NEG=UE7(UL7,"Cog5")
local unit NFG=UE7(UL7,"Cog6")
local unit NGG=UE7(UL7,"Cog7")
local unit NHG=UE7(UL7,"Cog8")
local real MYG=RI7(x1,y1,GetUnitX(N7G),GetUnitY(N7G))
local real MZG=RI7(x1,y1,GetUnitX(N8G),GetUnitY(N8G))
local real MAG=RI7(x1,y1,GetUnitX(N9G),GetUnitY(N9G))
local real M0G=RI7(x1,y1,GetUnitX(NDG),GetUnitY(NDG))
local real M5G=RI7(x1,y1,GetUnitX(NEG),GetUnitY(NEG))
local real M2G=RI7(x1,y1,GetUnitX(NFG),GetUnitY(NFG))
local real M_G=RI7(x1,y1,GetUnitX(NGG),GetUnitY(NGG))
local real NIG=RI7(x1,y1,GetUnitX(NHG),GetUnitY(NHG))
if M1G(MYG,MZG,MAG,M0G,M5G,M2G,M_G,NIG)then
return N7G
elseif M1G(MZG,MYG,MAG,M0G,M5G,M2G,M_G,NIG)then
return N8G
elseif M1G(MAG,MZG,MYG,M0G,M5G,M2G,M_G,NIG)then
return N9G
elseif M1G(M0G,MZG,MAG,MYG,M5G,M2G,M_G,NIG)then
return NDG
elseif M1G(M5G,MZG,MAG,M0G,MYG,M2G,M_G,NIG)then
return NEG
elseif M1G(M2G,MZG,MAG,M0G,M5G,MYG,M_G,NIG)then
return NFG
elseif M1G(M_G,MZG,MAG,M0G,M5G,M2G,MYG,NIG)then
return NGG
elseif M1G(NIG,MZG,MAG,M0G,M5G,M2G,M_G,MYG)then
return NHG
endif
return null
endfunction
function NJG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit m5=UE7(UL7,"Target")
local real NKG=UR7(UL7,"Angle")
local real x=GetUnitX(m5)
local real y=GetUnitY(m5)
local real AEF=12
local unit p5=UE7(UL7,"Source")
local integer BK7=UQ7(UL7,"Level")
local integer NMG=40+40*BK7
if GetTriggerEvalCount(t)>21 then
call TQ7(UL7)
call U37(t)
call UB7(m5,"PowerCogShocked")
call HG8(p5,m5,ZG4,I2R(NMG))
call SetUnitState(m5,UNIT_STATE_MANA,DU8(GetUnitState(m5,UNIT_STATE_MANA)-NMG,0))
else
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl",x,y))
call E78(x,y,150)
if UX7(m5,"TimeWalk|Active")==false then
call SetUnitPosition(m5,x+AEF*Cos(NKG*bj_DEGTORAD),y+AEF*Sin(NKG*bj_DEGTORAD))
endif
endif
set t=null
set m5=null
return false
endfunction
function NNG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit m5=GetEnumUnit()
local real x=IJ4
local real y=IK4
local real d=IM4
local real NKG=MBG(m5,x,y,d)
local real NOG=200
local real NPG=d-RI7(GetUnitX(m5),GetUnitY(m5),x,y)+NOG/2
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl",m5,"chest"))
call UZ7(m5,"PowerCogShocked")
if NPG>0 then
call SetUnitX(m5,GetUnitX(m5)+NPG*Cos(NKG*bj_DEGTORAD))
call SetUnitY(m5,GetUnitY(m5)+NPG*Sin(NKG*bj_DEGTORAD))
endif
call TX7(UL7,"Target",m5)
call TU7(UL7,"Angle",NKG*1.0)
call TT7(UL7,"Level",IH4)
call TX7(UL7,"Source",IN4)
call TriggerRegisterTimerEvent(t,0.04,true)
call TriggerAddCondition(t,Condition(function NJG))
set t=null
set m5=null
endfunction
function NQG takes unit u,integer UL7 returns boolean
local unit NRG=N4G(u,UL7)
local boolean NSG=true
if LR7(NRG)or UQ7(GetHandleId(NRG),"PowerCogUsed")==1 then
set NSG=false
endif
call TT7(GetHandleId(NRG),"PowerCogUsed",1)
call SetUnitVertexColor(NRG,25,25,25,175)
set NRG=null
return NSG
endfunction
function NTG takes nothing returns nothing
if GetUnitState(GetEnumUnit(),UNIT_STATE_MANA)>0 and IsUnitInGroup(GetEnumUnit(),IQ4)==false and UX7(GetEnumUnit(),"PowerCogShocked")==false and NQG(GetEnumUnit(),tl)then
call UZ7(GetEnumUnit(),"PowerCogShocked")
call GroupAddUnit(aL,GetEnumUnit())
endif
endfunction
function NUG takes trigger t,unit CR7,real x,real y,real d,integer BK7 returns nothing
local integer UL7=GetHandleId(t)
local real NVG=200
local rect r1=Rect(x-d,y-d,x+d,y+d)
local rect r2=Rect(x-d-NVG,y-d-NVG,x+d+NVG,y+d+NVG)
local group g1=CA7()
local group g2=CA7()
local group g3=CA7()
set IN4=CR7
call GroupEnumUnitsInRect(g1,r1,Condition(function FW8))
call GroupEnumUnitsInRect(g2,r2,Condition(function FW8))
set IQ4=g1
set aL=g3
set IJ4=x
set IK4=y
set IM4=d
set tl=UL7
call ForGroup(g2,function NTG)
set IH4=BK7
call ForGroup(g3,function NNG)
call CZ7(g1)
call CZ7(g2)
call CZ7(g3)
call RemoveRect(r1)
call RemoveRect(r2)
set g1=null
set g2=null
set g3=null
set r1=null
set r2=null
endfunction
function NWG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local real x=UR7(UL7,"x")
local real y=UR7(UL7,"y")
local player p=UG7(UL7,"p")
local boolean NXG=US7(UL7,"NeedFix")
call TQ7(UL7)
call U37(t)
if NXG then
call EE8(p,.2,x,y,500)
endif
set t=null
set p=null
return false
endfunction
function NYG takes unit NRG returns nothing
local real x=GetUnitX(NRG)
local real y=GetUnitY(NRG)
local player p=GetOwningPlayer(NRG)
local unit oA=CreateUnit(p,1966092375,x,y,0)
call KillUnit(oA)
set p=null
set oA=null
endfunction
function NZG takes integer UL7,real x,real y,boolean NXG,player p returns nothing
local unit N7G=UE7(UL7,"Cog1")
local unit N8G=UE7(UL7,"Cog2")
local unit N9G=UE7(UL7,"Cog3")
local unit NDG=UE7(UL7,"Cog4")
local unit NEG=UE7(UL7,"Cog5")
local unit NFG=UE7(UL7,"Cog6")
local unit NGG=UE7(UL7,"Cog7")
local unit NHG=UE7(UL7,"Cog8")
local trigger t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.1,false)
call TriggerAddCondition(t,Condition(function NWG))
call TU7(GetHandleId(t),"x",x*1.0)
call TU7(GetHandleId(t),"y",y*1.0)
call T37(GetHandleId(t),"p",p)
call TW7(GetHandleId(t),"NeedFix",NXG)
call NYG(N7G)
call RemoveUnit(N7G)
call NYG(N8G)
call RemoveUnit(N8G)
call NYG(N9G)
call RemoveUnit(N9G)
call NYG(NDG)
call RemoveUnit(NDG)
call NYG(NEG)
call RemoveUnit(NEG)
call NYG(NFG)
call RemoveUnit(NFG)
call NYG(NGG)
call RemoveUnit(NGG)
call NYG(NHG)
call RemoveUnit(NHG)
set N7G=null
set N8G=null
set N9G=null
set NDG=null
set NEG=null
set NFG=null
set NGG=null
set NHG=null
endfunction
function NAG takes unit NRG,integer UL7,integer NBG,player p returns nothing
if IsUnitVisible(NRG,p)then
call TW7(UL7,"NeedFix",true)
endif
call TX7(UL7,"Cog"+I2S(NBG),NRG)
endfunction
function NCG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local real Hk=UR7(UL7,"Duration")
local integer N1E=GetTriggerEvalCount(t)
if N1E>R2I(Hk*100)then
call NZG(UL7,UR7(UL7,"x"),UR7(UL7,"y"),US7(UL7,"NeedFix"),UG7(UL7,"Enemy"))
call TQ7(UL7)
call U37(t)
else
call NUG(t,UE7(UL7,"Hero"),UR7(UL7,"x"),UR7(UL7,"y"),UR7(UL7,"d"),UQ7(UL7,"Level"))
endif
set t=null
return false
endfunction
function N3G takes nothing returns nothing
call SetUnitX(GetEnumUnit(),GetUnitX(IN4))
call SetUnitY(GetEnumUnit(),GetUnitY(IN4))
endfunction
function N6G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
local integer BK7=GetUnitAbilityLevel(CR7,1093687861)
local integer ID=1966092371
local real x1=GetUnitX(CR7)
local real y1=GetUnitY(CR7)
local real x2
local real y2
local real d=125
local unit NRG
local real Hk=4+BK7
local real BufferDuration=5
local group g
local rect NLG
local player N1G
if ZL7(GetOwningPlayer(CR7))then
set N1G=A7[0]
else
set N1G=Z7[0]
endif
call TQ7(UL7)
call U37(t)
set t=CreateTrigger()
set UL7=GetHandleId(t)
call TW7(UL7,"NeedFix",false)
set x2=x1+d
set y2=y1
set NRG=CreateUnit(GetOwningPlayer(CR7),ID,x2,y2,0)
call SetUnitPosition(NRG,x2,y2)
call NAG(NRG,UL7,1,N1G)
if Z27(GetOwningPlayer(CR7))then
call TX7(GetHandleId(CR7),"AI|Cog1",NRG)
endif
set x2=x1+d
set y2=y1+d
set NRG=CreateUnit(GetOwningPlayer(CR7),ID,x2,y2,0)
call SetUnitPosition(NRG,x2,y2)
call NAG(NRG,UL7,2,N1G)
set x2=x1
set y2=y1+d
set NRG=CreateUnit(GetOwningPlayer(CR7),ID,x2,y2,0)
call SetUnitPosition(NRG,x2,y2)
call NAG(NRG,UL7,3,N1G)
if Z27(GetOwningPlayer(CR7))then
call TX7(GetHandleId(CR7),"AI|Cog2",NRG)
endif
set x2=x1-d
set y2=y1+d
set NRG=CreateUnit(GetOwningPlayer(CR7),ID,x2,y2,0)
call SetUnitPosition(NRG,x2,y2)
call NAG(NRG,UL7,4,N1G)
set x2=x1-d
set y2=y1
set NRG=CreateUnit(GetOwningPlayer(CR7),ID,x2,y2,0)
call SetUnitPosition(NRG,x2,y2)
call NAG(NRG,UL7,5,N1G)
if Z27(GetOwningPlayer(CR7))then
call TX7(GetHandleId(CR7),"AI|Cog3",NRG)
endif
set x2=x1-d
set y2=y1-d
set NRG=CreateUnit(GetOwningPlayer(CR7),ID,x2,y2,0)
call SetUnitPosition(NRG,x2,y2)
call NAG(NRG,UL7,6,N1G)
set x2=x1
set y2=y1-d
set NRG=CreateUnit(GetOwningPlayer(CR7),ID,x2,y2,0)
call SetUnitPosition(NRG,x2,y2)
call NAG(NRG,UL7,7,N1G)
if Z27(GetOwningPlayer(CR7))then
call TX7(GetHandleId(CR7),"AI|Cog4",NRG)
endif
set x2=x1+d
set y2=y1-d
set NRG=CreateUnit(GetOwningPlayer(CR7),ID,x2,y2,0)
call SetUnitPosition(NRG,x2,y2)
call NAG(NRG,UL7,8,N1G)
call TriggerRegisterTimerEvent(t,0.01,true)
call TriggerAddCondition(t,Condition(function NCG))
call TU7(UL7,"Duration",Hk*1.0)
call TU7(UL7,"x",x1*1.0)
call TU7(UL7,"y",y1*1.0)
call TU7(UL7,"d",d*1.0)
call TX7(UL7,"Hero",CR7)
call TT7(UL7,"Level",BK7)
call T37(UL7,"Enemy",N1G)
set d=d+110
set g=CA7()
set NLG=Rect(x1-d,y1-d,x1+d,y1+d)
set IN4=CR7
call GroupEnumUnitsInRect(g,NLG,Condition(function GO8))
call ForGroup(g,function N3G)
call CZ7(g)
set t=null
set g=null
set CR7=null
set NRG=null
set NLG=null
set N1G=null
return false
endfunction
function N0G takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=GetTriggerUnit()
call TriggerRegisterTimerEvent(t,0.1,false)
call TriggerAddCondition(t,Condition(function N6G))
call TX7(UL7,"Hero",CR7)
set t=null
set CR7=null
endfunction
function N5G takes nothing returns boolean
if GetSpellAbilityId()==1093687861 then
call N0G()
endif
return false
endfunction
function T88 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function N5G))
set t=null
endfunction
function N2G takes nothing returns nothing
if RZ7(GetEnumUnit())==false then
call HG8(IN4,GetEnumUnit(),ZG4,IJ4)
endif
endfunction
function N_G takes unit O4G,real x,real y returns nothing
local real x1
local real y1
local group g=CA7()
local integer O7G=GetUnitAbilityLevel(O4G,1093687862)
local real O8G=40+40*O7G
set IN4=O4G
set IJ4=O8G
call GroupEnumUnitsInRange(g,x,y,600,Condition(function FW8))
call ForGroup(g,function N2G)
call CZ7(g)
set x1=x
set y1=y
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x1,y1))
set x1=x+200
set y1=y+200
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x1,y1))
set x1=x+200
set y1=y-200
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x1,y1))
set x1=x-200
set y1=y+200
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x1,y1))
set x1=x-200
set y1=y-200
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x1,y1))
call EE8(GetOwningPlayer(O4G),10,x,y,600)
set g=null
endfunction
function O9G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit hn
local unit ODG=UE7(UL7,"Projectile")
local real OEG=UR7(UL7,"TargetX")
local real OFG=UR7(UL7,"TargetY")
local real OGG=UR7(UL7,"Angle")
local real OHG=UR7(UL7,"SourceX")
local real OIG=UR7(UL7,"SourceY")
local real OJG=DD8(OHG+30*Cos(OGG))
local real OKG=DE8(OIG+30*Sin(OGG))
call SetUnitX(ODG,OJG)
call SetUnitY(ODG,OKG)
call TU7(UL7,"SourceX",OJG)
call TU7(UL7,"SourceY",OKG)
if RI7(OEG,OFG,OJG,OKG)<=35 then
call KillUnit(ODG)
set hn=UE7(UL7,"Hero")
call N_G(hn,OJG,OKG)
call TQ7(UL7)
call U37(t)
endif
set t=null
set hn=null
set ODG=null
return false
endfunction
function OMG takes nothing returns nothing
local unit hn=GetTriggerUnit()
local real OHG=DD8(GetUnitX(hn))
local real OIG=DE8(GetUnitY(hn))
local location ONG=GetSpellTargetLoc()
local real OEG=DD8(GetLocationX(ONG))
local real OFG=DE8(GetLocationY(ONG))
local real OGG=Atan2(OFG-OIG,OEG-OHG)
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit ODG=CreateUnit(GetOwningPlayer(hn),1747989337,OHG,OIG,OGG*bj_RADTODEG)
call RemoveLocation(ONG)
call SetUnitFacing(ODG,OGG*bj_RADTODEG)
call SetUnitPathing(ODG,false)
call LP7(ODG,1097625443)
call ShowUnit(ODG,false)
call UnitRemoveAbility(ODG,1097625443)
call ShowUnit(ODG,true)
call TU7(UL7,"OriginalX",OHG)
call TU7(UL7,"OriginalY",OIG)
call TU7(UL7,"SourceX",OHG)
call TU7(UL7,"SourceY",OIG)
call TU7(UL7,"TargetX",OEG)
call TU7(UL7,"TargetY",OFG)
call TU7(UL7,"Angle",OGG)
call TX7(UL7,"Hero",hn)
call TX7(UL7,"Projectile",ODG)
call TriggerRegisterTimerEvent(t,0.025,true)
call TriggerAddCondition(t,Condition(function O9G))
set hn=null
set ONG=null
set t=null
set ODG=null
endfunction
function OOG takes nothing returns boolean
if GetSpellAbilityId()==1093687862 then
call OMG()
endif
return false
endfunction
function T98 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function OOG))
set t=null
endfunction
function OPG takes unit p5,unit m5 returns nothing
local unit HE8=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
local integer BK7=GetUnitAbilityLevel(p5,1093687864)
if BK7==0 then
set BK7=GetUnitAbilityLevel(p5,1093747542)
endif
call LP7(HE8,1093687865)
call SetUnitAbilityLevel(HE8,1093687865,BK7)
call IssueTargetOrder(HE8,"thunderbolt",m5)
set HE8=null
endfunction
function OQG takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),IQ4)==false then
call GroupAddUnit(IQ4,GetEnumUnit())
call OPG(IN4,GetEnumUnit())
endif
endfunction
function ORG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
local unit m5=UE7(UL7,"Target")
local integer OSG=UQ7(UL7,"MaxLinks")
local integer BD8=GetTriggerEvalCount(t)
local unit OTG
local group OUG=UJ7(UL7,"AlreadyAdded")
local group g
local real OVG=200
if m5==null then
set OTG=UE7(UL7,"OWG"+I2S(OSG+1-BD8))
call RemoveUnit(OTG)
else
set OTG=UE7(UL7,"OWG"+I2S(BD8))
call SetUnitX(CR7,GetUnitX(OTG))
call SetUnitY(CR7,GetUnitY(OTG))
call RemoveUnit(OTG)
if BD8==OSG then
set OVG=225
endif
set g=CA7()
set IN4=CR7
set IQ4=OUG
call GroupEnumUnitsInRange(g,GetUnitX(CR7),GetUnitY(CR7),OVG,Condition(function FW8))
call ForGroup(g,function OQG)
call CZ7(g)
endif
if BD8==OSG then
if m5!=null then
call PauseUnit(m5,false)
endif
call E78(GetUnitX(CR7),GetUnitY(CR7),100)
call CZ7(OUG)
call TQ7(UL7)
call U37(t)
endif
set t=null
set CR7=null
set m5=null
set OTG=null
set OUG=null
set g=null
return false
endfunction
function OXG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
local real l4=UR7(UL7,"Angle")
local integer U2D=UQ7(UL7,"MaxCount")
local integer BD8=GetTriggerEvalCount(t)
local real x=GetUnitX(CR7)+BD8*50*Cos(l4*bj_DEGTORAD)
local real y=GetUnitY(CR7)+BD8*50*Sin(l4*bj_DEGTORAD)
local boolean K2D=US7(UL7,"Scepter")
local unit OYG
local trigger OZG=UI7(UL7,"Retract")
local integer MPE=GetHandleId(OZG)
local group g=CA7()
local unit m5
local integer ID=1966092374
local real OVG=125
if BD8==1 then
set OVG=100
endif
set IN4=CR7
call GroupEnumUnitsInRange(g,x,y,OVG,Condition(function F28))
call GroupRemoveUnit(g,CR7)
set m5=GroupPickRandomUnit(g)
call CZ7(g)
if m5!=null or BD8==U2D or BD8==(U2D-1)or BD8==(U2D-2)then
set ID=1966092373
endif
set OYG=CreateUnit(GetOwningPlayer(CR7),ID,x,y,l4)
call TX7(MPE,"OWG"+I2S(BD8),OYG)
if m5!=null then
if(IsUnitAlly(m5,GetOwningPlayer(CR7))==true and K2D==false)or GetOwningPlayer(m5)==B7 or UX7(m5,"Frozen")==true then
set m5=null
endif
call TQ7(UL7)
call U37(t)
if m5!=null and IsUnitAlly(m5,GetOwningPlayer(CR7))==false then
call PauseUnit(m5,true)
endif
call TriggerRegisterTimerEvent(OZG,0.5/ U2D,true)
call TriggerAddCondition(OZG,Condition(function ORG))
call TT7(MPE,"MaxLinks",BD8)
call TX7(MPE,"Target",m5)
call TX7(MPE,"Hero",CR7)
call TL7(MPE,"AlreadyAdded",CA7())
elseif BD8>U2D then
set m5=null
call TQ7(UL7)
call U37(t)
call TriggerRegisterTimerEvent(OZG,0.5/ U2D,true)
call TriggerAddCondition(OZG,Condition(function ORG))
call TT7(MPE,"MaxLinks",BD8)
call TX7(MPE,"Target",m5)
call TX7(MPE,"Hero",CR7)
call TL7(MPE,"AlreadyAdded",CA7())
endif
set t=null
set CR7=null
set OYG=null
set OZG=null
set g=null
set m5=null
return false
endfunction
function OWG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real l4=PS7(GetUnitX(CR7),GetUnitY(CR7),GetLocationX(l),GetLocationY(l))
local integer BK7=GetUnitAbilityLevel(CR7,1093687864)
local integer OAG
local integer U2D
local boolean K2D=true
if BK7==0 then
set BK7=GetUnitAbilityLevel(CR7,1093747542)
set K2D=true
endif
set OAG=1500+500*BK7
set U2D=OAG/ 50
call TX7(UL7,"Hero",CR7)
call TT7(UL7,"Level",BK7)
call TU7(UL7,"Angle",l4*1.0)
call TT7(UL7,"MaxCount",U2D)
call TZ7(UL7,"Retract",CreateTrigger())
call TW7(UL7,"Scepter",K2D)
call TriggerRegisterTimerEvent(t,0.5/ U2D,true)
call TriggerAddCondition(t,Condition(function OXG))
call RemoveLocation(l)
set t=null
set CR7=null
set l=null
endfunction
function OBG takes nothing returns boolean
if GetSpellAbilityId()==1093687864 or GetSpellAbilityId()==1093747542 then
call OWG()
endif
return false
endfunction
function TD8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function OBG))
set t=null
endfunction
function OCG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local integer HF8=(LoadInteger(L7,(OL7),(5)))
local real B29
if HF8==1 then
set B29=15
elseif HF8==2 then
set B29=30
elseif HF8==3 then
set B29=40
elseif HF8==4 then
set B29=50
endif
if GetTriggerEvalCount(t)==3 or GetTriggerEvalCount(t)==4 then
call HG8(EL8,O_7,ZG4,B29)
endif
if GetTriggerEvalCount(t)==4 then
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call UnitRemoveAbility(O_7,1093752403)
call UnitRemoveAbility(O_7,1110459470)
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function O3G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local integer HF8=GetUnitAbilityLevel(EL8,1095267426)
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
call FlushChildHashtable(L7,(OL7))
call U37(t)
elseif GetEventDamageSource()==EL8 and GetEventDamage()==0 then
call FlushChildHashtable(L7,(OL7))
call U37(t)
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function OCG))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveInteger(L7,(OL7),(5),(HF8))
call SaveEffectHandle(L7,(OL7),(32),(AddSpecialEffectTarget("Environment\\LargeBuildingFire\\LargeBuildingFire1.mdl",O_7,"chest")))
call SetPlayerAbilityAvailable(GetOwningPlayer(O_7),1093752403,false)
call LP7(O_7,1093752403)
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function O6G takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local real d=RH7(EL8,O_7)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,6,false)
call TriggerAddCondition(t,Condition(function O3G))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
set t=null
set EL8=null
set O_7=null
endfunction
function OLG takes nothing returns nothing
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIfb\\AIfbSpecialArt.mdl",GetTriggerUnit(),"weapon"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIfb\\AIfbSpecialArt.mdl",GetTriggerUnit(),"hand"))
endfunction
function O1G takes nothing returns boolean
if GetSpellAbilityId()==1095267426 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST then
call OLG()
elseif CY7(GetSpellTargetUnit())==false then
call O6G()
endif
endif
return false
endfunction
function TH8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function O1G))
set t=null
endfunction
function O0G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit HE8=CreateUnit(GetOwningPlayer(EL8),1697656901,GetUnitX(EL8),GetUnitY(EL8),0)
call UnitAddAbility(HE8,1093809972)
call IssueImmediateOrder(HE8,"thunderclap")
call SelectUnitForPlayerSingle(EL8,GetOwningPlayer(EL8))
call FlushChildHashtable(L7,(OL7))
call U37(t)
set t=null
set EL8=null
set HE8=null
return false
endfunction
function O5G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local integer HF8=GetUnitAbilityLevel(EL8,1093677401)
local real H98=360-100*HF8
if HF8==3 then
set H98=50
endif
if TimerGetRemaining(N84[GetPlayerId(GetOwningPlayer(EL8))])==0 and GetUnitState(EL8,UNIT_STATE_MANA)>=140 then
call TimerStart(N84[GetPlayerId(GetOwningPlayer(EL8))],H98,false,null)
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,3+0.01,false)
call TriggerAddCondition(t,Condition(function O0G))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
endif
set t=null
set EL8=null
return false
endfunction
function O2G takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
call TriggerRegisterDeathEvent(t,EL8)
call TriggerAddCondition(t,Condition(function O5G))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
set t=null
set EL8=null
endfunction
function O_G takes nothing returns boolean
if GetLearnedSkill()==1093677401 and GetUnitAbilityLevel(GetTriggerUnit(),1093677401)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call O2G()
endif
return false
endfunction
function TI8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function O_G))
set t=null
endfunction
function P4G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
call TQ7(UL7)
call U37(t)
call HN8(p5,0)
set t=null
set p5=null
return false
endfunction
function P7G takes nothing returns boolean
if GetUnitTypeId(GetFilterUnit())==GetUnitTypeId(BB)and GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(BB)and IsUnitIllusion(GetFilterUnit())==true then
call SetUnitX(GetFilterUnit(),OB)
call SetUnitY(GetFilterUnit(),AB)
call IssueTargetOrder(GetFilterUnit(),"attack",cB)
endif
return false
endfunction
function P8G takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local real t5=GetUnitX(p5)
local real w5=GetUnitY(p5)
local real Y5=GetUnitX(m5)
local real Z5=GetUnitY(m5)
local real l4=PS7(t5,w5,Y5,Z5)
local real G5E=RI7(t5,w5,Y5,Z5)
local real d=GetRandomReal(G5E*0.3,G5E*0.8)
local integer BK7=GetUnitAbilityLevel(p5,1093685847)
local real YOE=t5+d*Cos(l4*bj_DEGTORAD)
local real YPE=w5+d*Sin(l4*bj_DEGTORAD)
local unit u=CreateUnit(GetOwningPlayer(p5),EB,YOE,YPE,0)
local unit u2
local group g
local trigger t
local integer UL7
call SetUnitX(p5,YOE)
call SetUnitY(p5,YPE)
call SetUnitFacing(p5,-l4)
call PlaySoundOnUnitBJ(zE,100,m5)
if IsUnitEnemy(m5,GetOwningPlayer(p5))and GetUnitTypeId(m5)!=1848651852 then
set t=CreateTrigger()
set UL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1.2,false)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function P4G))
call TX7(UL7,"Source",p5)
set t=null
call HN8(p5,25*BK7)
set YOE=t5+(d-25)*Cos(l4*bj_DEGTORAD)
set YPE=w5+(d-25)*Sin(l4*bj_DEGTORAD)
call U07(m5,"4405",1)
call SetUnitX(m5,YOE)
call SetUnitY(m5,YPE)
call SetUnitFacing(m5,l4)
call IssueTargetOrder(p5,"attack",m5)
set g=CA7()
set OB=YOE
set AB=YPE
set BB=p5
set cB=m5
call GroupEnumUnitsInRange(g,t5,w5,1400,Condition(function P7G))
call CZ7(g)
set u2=CreateUnit(GetOwningPlayer(p5),EB,YOE,YPE,0)
call KillUnit(u2)
endif
call KillUnit(u)
set p5=null
set m5=null
set u=null
set u2=null
set g=null
endfunction
function P9G takes nothing returns boolean
if GetSpellAbilityId()==1093685847 then
call P8G()
endif
return false
endfunction
function PDG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
local unit u=CreateUnit(GetOwningPlayer(CR7),EB,GetUnitX(CR7),GetUnitY(CR7),0)
call PlaySoundOnUnitBJ(zE,100,CR7)
call KillUnit(u)
call TQ7(UL7)
call U37(t)
set u=null
set t=null
set CR7=null
return false
endfunction
function PEG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call TriggerAddCondition(t,Condition(function PDG))
call TriggerRegisterTimerEvent(t,0.3,false)
call TX7(UL7,"Hero",GetTriggerUnit())
set t=null
endfunction
function PFG takes nothing returns boolean
if GetSpellAbilityId()==1093685847 then
call PEG()
endif
return false
endfunction
function OY8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function P9G))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function PFG))
set t=null
endfunction
function PGG takes nothing returns boolean
return GetSpellAbilityId()==1093678645
endfunction
function PHG takes nothing returns nothing
local integer T8=0
local integer U8=5
local integer array PIG
local player array PJG
local integer EE9
local item Z4
set PIG[0]=0
set PIG[1]=0
set PIG[2]=0
set PIG[3]=0
set PIG[4]=0
set PIG[5]=0
call DisableTrigger(H94)
loop
exitwhen T8>U8
set EE9=RC7(UnitItemInSlot(GetTriggerUnit(),T8))
if EE9==D0 or EE9==E0 or EE9==J0 or EE9==N0 or EE9==O0 or EE9==R0 or EE9==J1 or EE9==R5 or EE9==S5 or EE9==T5 or EE9==S6 or EE9==D44 or EE9==DD4 or EE9==F74 then
set PIG[T8]=GetItemTypeId(UnitItemInSlot(GetTriggerUnit(),T8))
set PJG[T8]=GetItemPlayer(UnitItemInSlot(GetTriggerUnit(),T8))
call RemoveItem(UnitItemInSlot(GetTriggerUnit(),T8))
endif
set T8=T8+1
endloop
call UnitResetCooldown(GetTriggerUnit())
set T8=0
set U8=5
loop
exitwhen T8>U8
if PIG[T8]>0 then
set Z4=CreateItem(PIG[T8],0,0)
call SetItemPlayer(Z4,PJG[T8],false)
call SetItemUserData(Z4,1)
call UnitAddItem(GetTriggerUnit(),Z4)
endif
set T8=T8+1
endloop
call EnableTrigger(H94)
set Z4=null
endfunction
function NA8 takes nothing returns nothing
set XJ=CreateTrigger()
call D28(XJ,EVENT_PLAYER_UNIT_SPELL_FINISH)
call TriggerAddCondition(XJ,Condition(function PGG))
call TriggerAddAction(XJ,function PHG)
endfunction
function PKG takes nothing returns nothing
call HG8(Y34,GetEnumUnit(),ZG4,(60.0+20.0*Y64)*0.25)
endfunction
function PMG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local integer CS8=GetTriggerEvalCount(t)
local group g
if CS8==20 or GetTriggerEventId()==EVENT_UNIT_DEATH then
call FlushChildHashtable(L7,(OL7))
call U37(t)
else
set IN4=EL8
set Y34=EL8
set Y64=GetUnitAbilityLevel(EL8,1093678407)
set g=CA7()
call GroupEnumUnitsInRange(g,GetUnitX(EL8),GetUnitY(EL8),275,Condition(function FW8))
call ForGroup(g,function PKG)
call CZ7(g)
set g=null
endif
set t=null
set EL8=null
return false
endfunction
function PNG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function PMG))
call SaveUnitHandle(L7,(OL7),(2),(GetTriggerUnit()))
call TriggerEvaluate(t)
call U07(GetTriggerUnit(),"BladeFury|Active",5)
endfunction
function POG takes nothing returns boolean
if GetSpellAbilityId()==1093678407 then
call PNG()
endif
return false
endfunction
function MW8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function POG))
set t=null
endfunction
function PPG takes nothing returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
local integer i1
local unit it=null
local item R37=null
local integer i
local boolean J4=false
local player p=null
if(not QY4[O5])or(GetItemTypeId(GetManipulatedItem())==1227895373)or(not IsTriggerEnabled(H94))or(GetUnitTypeId(GetTriggerUnit())==1697656901)then
return
elseif(GetItemType(GetManipulatedItem())==ITEM_TYPE_POWERUP)then
call J3(it,false)
return
endif
set R37=GetManipulatedItem()
set p=GetItemPlayer(R37)
if(p==Player(15))then
set p=K_7
endif
if(p!=Player(O5))or(R37==K17[336+O5])then
set it=GetTriggerUnit()
set i1=RB7(R37)
if(IsUnitType(it,UNIT_TYPE_HERO)and(GetUnitTypeId(it)!=1211117642))then
set bj_lastCreatedItem=null
if K07[288+O5]==0 and(Bz>K07[160+O5])and((D6F(i1)or DLF(i1))and((not IsItemPowerup(R37))or(not SV7(it))or(SU7(it,ZU[QW]))))then
set K07[288+O5]=i1
if bj_lastCreatedItem!=null and IsItemPowerup(R37)then
set J4=true
endif
endif
if(i1==K07[288+O5]or i1==X0 or i1==B5 or i1==C5)then
set K07[288+O5]=i1
if IsItemPowerup(R37)and SV7(it)and(E6F(O5,it)!=-1 or ELF(O5,it))then
set J4=(i1!=RB7(bj_lastCreatedItem))
endif
endif
if J4 then
set eY[512+O5]=0
set K27[304+O5]=true
call UnitRemoveItem(it,bj_lastCreatedItem)
call SetItemPosition(bj_lastCreatedItem,GetUnitX(it),GetUnitY(it))
loop
exitwhen eY[512+O5]!=0
call TriggerSleepAction(0.1)
endloop
set K17[320+O5]=K17[288+O5]
call J3(it,false)
call NCF(it)
endif
endif
if(not IsItemPowerup(R37))then
if i1==K07[288+O5]then
call R97(1.)
set K07[288+O5]=0
else
if PK4 and GetItemType(R37)==ITEM_TYPE_PERMANENT and GetItemTypeId(R37)==ZU[i1]then
else
set K27[304+O5]=true
call UnitDropItemPoint(it,R37,GetUnitX(it),GetUnitY(it))
endif
endif
endif
set it=null
endif
set R37=null
set p=null
endfunction
function DisplayOrder takes nothing returns nothing
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10,I2S(GetIssuedOrderId())+": "+OrderId2String(GetIssuedOrderId()))
endfunction
function PQG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local integer iX=GetTriggerEvalCount(t)
local unit p5=UE7(UL7,"Source")
local unit m5=UE7(UL7,"Target")
local integer BK7=UQ7(UL7,"Level")
local real PRG
local unit PSG
set PRG=0.6*(iX-25)*(iX-25)
if iX<51 then
if ModuloInteger(iX,5)==0 then
call HG8(p5,m5,ZG4,3+3*BK7)
endif
if S9D(m5)==false then
call SetUnitFlyHeight(m5,500-PRG,0)
endif
else
set PSG=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
call LP7(PSG,1093742924)
call SetUnitAbilityLevel(PSG,1093742924,BK7)
call IssueTargetOrder(PSG,"slow",m5)
if S9D(m5)==false then
call SetUnitFlyHeight(m5,GetUnitDefaultFlyHeight(m5),0)
endif
if D9==false then
call PauseUnit(m5,false)
endif
call SetUnitPathing(m5,true)
call TQ7(UL7)
call U37(t)
endif
set t=null
set p5=null
set m5=null
set PSG=null
return false
endfunction
function PTG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit p5=IN4
local unit m5=GetEnumUnit()
local integer BK7=IH4
call PauseUnit(m5,true)
call SetUnitPathing(m5,false)
if S9D(m5)==false then
call LP7(m5,1097691750)
call UnitRemoveAbility(m5,1097691750)
endif
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerAddCondition(t,Condition(function PQG))
call TX7(UL7,"Source",p5)
call TX7(UL7,"Target",m5)
call TT7(UL7,"Level",BK7)
call HG8(p5,m5,ZG4,30+30*BK7)
set t=null
set p5=null
set m5=null
endfunction
function PUG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
local real x=UR7(UL7,"x")
local real y=UR7(UL7,"y")
local integer BK7=UQ7(UL7,"Level")
local group g=CA7()
local ubersplat TG9=CreateUbersplat(x,y,"THNN",255,255,255,255,false,false)
call SetUbersplatRenderAlways(TG9,true)
call EE8(GetOwningPlayer(CR7),4,x,y,400)
call DestroyEffect(UK7(UL7,"FX1"))
call DestroyEffect(UK7(UL7,"FX2"))
call DestroyEffect(UK7(UL7,"FX3"))
call DestroyEffect(UK7(UL7,"FX4"))
call DestroyEffect(UK7(UL7,"FX5"))
call DestroyEffect(UK7(UL7,"FX6"))
call TQ7(UL7)
call U37(t)
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",x,y))
call DestroyEffect(AddSpecialEffect("effects\\TidalErruption.mdx",x,y))
set IN4=CR7
set IH4=BK7
call GroupEnumUnitsInRange(g,x,y,215+25,Condition(function F18))
call ForGroup(g,function PTG)
call CZ7(g)
set t=null
set CR7=null
return false
endfunction
function PVG takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local integer BK7=GetUnitAbilityLevel(CR7,1093743414)
local string s=""
local real a
if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(CR7))==true or CP7(GetLocalPlayer())then
set s="Objects\\Spawnmodels\\Other\\IllidanFootprint\\IllidanWaterSpawnFootPrint.mdl"
endif
call RemoveLocation(l)
call TT7(UL7,"Level",BK7)
call TX7(UL7,"Hero",CR7)
call TU7(UL7,"x",x)
call TU7(UL7,"y",y)
call TT7(UL7,"Level",BK7)
set a=0
call TY7(UL7,"FX1",AddSpecialEffect(s,x+40*Cos(a/ 6*360*bj_DEGTORAD),y+40*Sin(a/ 6*360*bj_DEGTORAD)))
set a=1
call TY7(UL7,"FX2",AddSpecialEffect(s,x+40*Cos(a/ 6*360*bj_DEGTORAD),y+40*Sin(a/ 6*360*bj_DEGTORAD)))
set a=2
call TY7(UL7,"FX3",AddSpecialEffect(s,x+40*Cos(a/ 6*360*bj_DEGTORAD),y+40*Sin(a/ 6*360*bj_DEGTORAD)))
set a=3
call TY7(UL7,"FX4",AddSpecialEffect(s,x+40*Cos(a/ 6*360*bj_DEGTORAD),y+40*Sin(a/ 6*360*bj_DEGTORAD)))
set a=4
call TY7(UL7,"FX5",AddSpecialEffect(s,x+40*Cos(a/ 6*360*bj_DEGTORAD),y+40*Sin(a/ 6*360*bj_DEGTORAD)))
set a=5
call TY7(UL7,"FX6",AddSpecialEffect(s,x+40*Cos(a/ 6*360*bj_DEGTORAD),y+40*Sin(a/ 6*360*bj_DEGTORAD)))
call TriggerRegisterTimerEvent(t,1.6,false)
call TriggerAddCondition(t,Condition(function PUG))
set CR7=null
set t=null
set l=null
endfunction
function PWG takes nothing returns boolean
if GetSpellAbilityId()==1093743414 then
call PVG()
endif
return false
endfunction
function TJ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function PWG))
set t=null
endfunction
function R_9 takes nothing returns nothing
call SetPlayerAbilityAvailable(GetOwningPlayer(B2),1093743671,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(B2),1093743672,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(B2),1093742933,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(B2),1093743673,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(C2),1093743671,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(C2),1093743672,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(C2),1093742933,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(C2),1093743673,false)
endfunction
function PXG takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local integer AI7=GetHandleId(t)
local unit CL7=UE7(AI7,"Hero")
local real PYG=RT7()
local integer HF8=GetUnitAbilityLevel(CL7,1093743444)
local real PZG=UR7(GetHandleId(CL7),"WaterSword|LastUsed")
local boolean PAG=US7(GetHandleId(CL7),"WaterSword|Active")
if PYG-PZG>16-HF8*3 and PAG==false and GetUnitTypeId(CL7)==1211119187 and LR7(CL7)==false then
call TW7(GetHandleId(CL7),"WaterSword|Active",true)
call UnitAddAbility(CL7,1093742927)
call SetUnitAbilityLevel(CL7,1093742927,HF8)
call UnitAddAbility(CL7,1093742930)
if HF8==1 then
call LP7(CL7,1093743671)
elseif HF8==2 then
call LP7(CL7,1093743672)
elseif HF8==3 then
call LP7(CL7,1093742933)
elseif HF8==4 then
call LP7(CL7,1093743673)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(CL7),1093743671,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(CL7),1093743672,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(CL7),1093742933,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(CL7),1093743673,false)
elseif PAG==false then
call UnitRemoveAbility(CL7,1093742927)
call UnitRemoveAbility(CL7,1093742930)
call UnitRemoveAbility(CL7,1093743671)
call UnitRemoveAbility(CL7,1093743672)
call UnitRemoveAbility(CL7,1093742933)
call UnitRemoveAbility(CL7,1093743673)
endif
set t=null
set CL7=null
endfunction
function PBG takes nothing returns boolean
local unit CL7=GetTriggerUnit()
call TW7(GetHandleId(CL7),"WaterSword|Active",false)
call TU7(GetHandleId(CL7),"WaterSword|LastUsed",RT7())
call UnitRemoveAbility(CL7,1093742927)
call UnitRemoveAbility(CL7,1093742930)
call UnitRemoveAbility(CL7,1093743671)
call UnitRemoveAbility(CL7,1093743672)
call UnitRemoveAbility(CL7,1093742933)
call UnitRemoveAbility(CL7,1093743673)
set CL7=null
return false
endfunction
function PCG takes nothing returns nothing
local unit CL7=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer AI7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerAddAction(t,function PXG)
call TX7(AI7,"Hero",CL7)
call TU7(AI7,"WaterSword|LastUsed",0.)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,CL7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function PBG))
set CL7=null
set t=null
endfunction
function P3G takes nothing returns boolean
if GetLearnedSkill()==1093743444 and GetUnitAbilityLevel(GetTriggerUnit(),1093743444)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call PCG()
endif
return false
endfunction
function P6G takes nothing returns boolean
return GetUnitAbilityLevel(GetAttacker(),1093743444)>0
endfunction
function PLG takes nothing returns nothing
local unit CL7=GetEventDamageSource()
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetUnitAbilityLevel(CL7,1093743444)>0 and IsPlayerEnemy(GetOwningPlayer(CL7),GetOwningPlayer(GetTriggerUnit()))then
if US7(GetHandleId(CL7),"WaterSword|Active")==true then
call TW7(GetHandleId(CL7),"WaterSword|Active",false)
call TU7(GetHandleId(CL7),"WaterSword|LastUsed",RT7())
call UnitRemoveAbility(CL7,1093742927)
call UnitRemoveAbility(CL7,1093742930)
call UnitRemoveAbility(CL7,1093743671)
call UnitRemoveAbility(CL7,1093743672)
call UnitRemoveAbility(CL7,1093742933)
call UnitRemoveAbility(CL7,1093743673)
call B07(GetTriggeringTrigger())
endif
endif
else
call B07(GetTriggeringTrigger())
endif
set CL7=null
endfunction
function P1G takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,2.5,false)
call TriggerAddAction(t,function PLG)
set t=null
endfunction
function TK8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function P3G))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function P6G))
call TriggerAddAction(t,function P1G)
set t=null
endfunction
function P0G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit m5=UE7(UL7,"Target")
local image i=UP7(UL7,"i")
local real x=UR7(UL7,"x")
local real y=UR7(UL7,"y")
local unit EL8=UE7(UL7,"Source")
if GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093743428)then
if GetTriggerEventId()!=EVENT_UNIT_DEATH and CO7(m5)==false then
call SetUnitPosition(m5,x,y)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093743428,false)
if(LoadInteger(L7,(GetHandleId(EL8)),(704)))==0 or(LoadInteger(L7,(GetHandleId(EL8)),(704)))==1093742926 then
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093742926,true)
endif
call TW7(GetHandleId(m5),"XMarked",false)
call DestroyEffect(UK7(UL7,"FX"))
call ShowImage(i,false)
call DestroyImage(i)
call TQ7(UL7)
call U37(t)
endif
set t=null
set m5=null
set i=null
set EL8=null
return false
endfunction
function P5G takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local real x=GetUnitX(m5)
local real y=GetUnitY(m5)
local real P2G=90
local image i=CreateImage("Fonts\\X.blp",P2G,P2G,0,x-P2G/ 2,y-P2G/ 2,0,0,0,0,2)
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local string fx=""
local integer BK7=GetUnitAbilityLevel(p5,1093742926)
call U07(m5,"4401",5)
call LP7(p5,1093743428)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093743428,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093742926,false)
call SetImageRenderAlways(i,true)
if IsUnitAlly(p5,GetOwningPlayer(m5))==false or IsUnitAlly(m5,GetLocalPlayer())==true or CP7(GetLocalPlayer())then
set fx="effects\\BlackTide.mdx"
call ShowImage(i,true)
else
call ShowImage(i,false)
endif
call SetImageColor(i,255,0,0,255)
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(p5),1865429063,x,y,0),1112820806,5)
call TriggerRegisterTimerEvent(t,BK7,false)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function P0G))
call TW7(GetHandleId(m5),"XMarked",true)
call U77(UL7,"i",i)
call TX7(UL7,"Target",m5)
call TU7(UL7,"x",x)
call TU7(UL7,"y",y)
call TY7(UL7,"FX",AddSpecialEffectTarget(fx,m5,"overhead"))
call TX7(UL7,"Source",p5)
call TU7(GetHandleId(m5),"AI|XMark|X",x)
call TU7(GetHandleId(m5),"AI|XMark|Y",y)
set p5=null
set m5=null
set i=null
set t=null
endfunction
function P_G takes nothing returns boolean
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093742926 and(IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))or CY7(GetSpellTargetUnit())==false)then
call P5G()
endif
else
if GetLearnedSkill()==1093742926 then
call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),1093743428,false)
call LP7(GetTriggerUnit(),1093743428)
endif
endif
return false
endfunction
function Q4G takes nothing returns boolean
if GetSpellAbilityId()==1093742926 then
if US7(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp")and IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))==true then
call RU7(GetTriggerUnit())
call D78(GetOwningPlayer(GetTriggerUnit()),B67(1848652600))
endif
endif
return false
endfunction
function TM8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function P_G))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function Q4G))
set t=null
endfunction
function Q7G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local integer Q8G=1
local player p
local real d
local unit m5=UE7(UL7,"Target")
local integer Q9G=UQ7(UL7,"MaxIndex")
local unit PSG
local integer Hk=UQ7(UL7,"Duration")
if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>Hk then
call TQ7(UL7)
call U37(t)
else
loop
exitwhen Q8G>Q9G
set p=UG7(UL7,"Player|"+I2S(Q8G))
set d=UR7(UL7,"Damage|"+I2S(Q8G))
if p==null then
set Q8G=Q9G
else
set PSG=CreateUnit(p,1697656901,0,0,0)
call SetUnitState(m5,UNIT_STATE_LIFE,DU8(1,GetUnitState(m5,UNIT_STATE_LIFE)-d/ Hk))
endif
set Q8G=Q8G+1
endloop
endif
set t=null
set p=null
set m5=null
set PSG=null
return false
endfunction
function QDG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit m5=UE7(UL7,"Target")
local player p=UG7(UL7,"p")
local trigger QEG=UI7(UL7,"Phase2")
local integer Q8G=GetTriggerEvalCount(t)
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
call TQ7(UL7)
call U37(t)
call TriggerRegisterTimerEvent(QEG,1,true)
call TriggerAddCondition(QEG,Condition(function Q7G))
call UnitRemoveAbility(m5,1110456661)
else
set UL7=GetHandleId(QEG)
call SetUnitState(m5,UNIT_STATE_LIFE,GetUnitState(m5,UNIT_STATE_LIFE)+0.5*GetEventDamage())
call T37(UL7,"Player|"+I2S(Q8G),GetOwningPlayer(GetEventDamageSource()))
call TU7(UL7,"Damage|"+I2S(Q8G),0.5*GetEventDamage())
call TT7(UL7,"MaxIndex",Q8G)
endif
set t=null
set m5=null
set p=null
set QEG=null
return false
endfunction
function QFG takes nothing returns nothing
local unit p5=FT
local unit m5=GetEnumUnit()
local integer BK7=IT
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local integer Hk=8
local trigger QEG=CreateTrigger()
call F78(m5,1093743158,1,Hk)
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093743158,false)
call TriggerRegisterTimerEvent(t,Hk+0.01,false)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function QDG))
call T37(UL7,"p",GetOwningPlayer(p5))
call TX7(UL7,"Target",m5)
call TZ7(UL7,"Phase2",QEG)
call TX7(GetHandleId(QEG),"Target",m5)
call TT7(GetHandleId(QEG),"Duration",Hk)
set p5=null
set m5=null
set t=null
set QEG=null
endfunction
function QGG takes nothing returns boolean
if(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit())))and IsUnitInGroup(GetFilterUnit(),gN)==false then
call GroupAddUnit(gN,GetFilterUnit())
return true
endif
return false
endfunction
function QHG takes nothing returns nothing
local unit p5=FT
local unit m5=GetEnumUnit()
local integer BK7=IT
call HD8(p5,m5,1.4)
call HG8(p5,m5,ZG4,200+100*BK7)
set p5=null
set m5=null
endfunction
function QIG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit IJ=UE7(UL7,"Projectile")
local unit QJG
local real RK=UR7(UL7,"Angle")
local real iN=GetUnitX(IJ)
local real io=GetUnitY(IJ)
local real QKG=UR7(UL7,"x2")
local real QMG=UR7(UL7,"y2")
local integer iX=GetTriggerEvalCount(t)
local real QNG=DD8(QKG+13.33*iX*Cos(RK))
local real QOG=DE8(QMG+13.33*iX*Sin(RK))
local integer BK7=UQ7(UL7,"Level")
local group QPG=UJ7(UL7,"AlreadyHit")
local group g
if iX<19 then
call SetUnitVertexColor(IJ,255,255,255,5+iX*10)
set QJG=UE7(UL7,"Projectile2")
call SetUnitVertexColor(QJG,255,255,255,5+iX*10)
elseif iX<125 then
call SetUnitVertexColor(IJ,255,255,255,190)
elseif iX<150 then
endif
set g=CA7()
set gN=QPG
set IN4=IJ
set FT=IJ
set IT=BK7
call GroupEnumUnitsInRange(g,GetUnitX(IJ),GetUnitY(IJ),425,Condition(function QGG))
call ForGroup(g,function QFG)
call CZ7(g)
call SetUnitX(IJ,QNG)
call SetUnitY(IJ,QOG)
if iX==140 then
set QJG=UE7(UL7,"Projectile2")
call KillUnit(QJG)
elseif iX<140 then
set QJG=UE7(UL7,"Projectile2")
call SetUnitX(QJG,QNG)
call SetUnitY(QJG,QOG)
endif
if iX==150 then
set g=CA7()
set IN4=IJ
call GroupEnumUnitsInRange(g,QNG,QOG,425+25,Condition(function FW8))
call ForGroup(g,function QHG)
call CZ7(g)
call KillUnit(IJ)
call CZ7(QPG)
call TQ7(UL7)
call U37(t)
endif
set t=null
set IJ=null
set QJG=null
set QPG=null
set g=null
return false
endfunction
function QQG takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local real iN=GetUnitX(CR7)
local real io=GetUnitY(CR7)
local location l=GetSpellTargetLoc()
local real PBD=GetLocationX(l)
local real PCD=GetLocationY(l)
local real RK
local real x1
local real y1
local real x2
local real y2
local trigger t
local integer UL7
local integer BK7
local unit IJ
local unit QJG
local string s=""
local integer QRG=1747990101
if GetRandomInt(0,5)==0 then
set QRG=1747993674
endif
if IsPlayerAlly(GetOwningPlayer(CR7),GetLocalPlayer())or CP7(GetLocalPlayer())then
set s="war3mapImported\\Whirlpool.mdx"
endif
if PBD==GetUnitX(CR7)and PCD==GetUnitY(CR7)then
set PBD=PBD+50*Cos(GetUnitFacing(CR7)*bj_DEGTORAD)
set PCD=PCD+50*Sin(GetUnitFacing(CR7)*bj_DEGTORAD)
endif
set RK=Atan2(PCD-io,PBD-iN)
set x1=iN-1000*Cos(RK)
set y1=io-1000*Sin(RK)
set x2=iN+1000*Cos(RK)
set y2=io+1000*Sin(RK)
set t=CreateTrigger()
set UL7=GetHandleId(t)
set BK7=GetUnitAbilityLevel(CR7,1093742923)
set IJ=CreateUnit(GetOwningPlayer(CR7),QRG,x1,y1,Atan2(PCD-io,PBD-iN)*bj_RADTODEG)
set QJG=CreateUnit(GetOwningPlayer(CR7),1747990102,x1,y1,Atan2(PCD-io,PBD-iN)*bj_RADTODEG)
call SetUnitVertexColor(IJ,255,255,255,0)
call SetUnitPathing(IJ,false)
call RemoveLocation(l)
call TT7(UL7,"Level",BK7)
call TU7(UL7,"Angle",RK)
call TX7(UL7,"Projectile",IJ)
call TX7(UL7,"Projectile2",QJG)
call TU7(UL7,"x2",x1)
call TU7(UL7,"y2",y1)
call TL7(UL7,"AlreadyHit",CA7())
call DestroyEffect(AddSpecialEffect(s,DD8(x2),DE8(y2)))
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function QIG))
set CR7=null
set t=null
set IJ=null
set QJG=null
set l=null
endfunction
function QSG takes nothing returns boolean
if GetSpellAbilityId()==1093742923 then
call QQG()
endif
return false
endfunction
function TN8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function QSG))
call DH8(1093742924)
set t=null
endfunction
function QTG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
if UM7(UL7,"Light")!=null then
call DestroyLightning(UM7(UL7,"Light"))
endif
call TQ7(UL7)
call U37(t)
set t=null
return false
endfunction
function QUG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit G28=UE7(UL7,"Projectile")
local unit m5=UE7(UL7,"Target")
local real QVG=UR7(UL7,"OriginalAngle")
local real l4=Atan2(GetUnitY(m5)-GetUnitY(G28),GetUnitX(m5)-GetUnitX(G28))
local integer BK7=UQ7(UL7,"Level")
local real x=GetUnitX(G28)+50*Cos(l4)
local real y=GetUnitY(G28)+50*Sin(l4)
local unit HE8
local destructable d
local lightning NKE
local unit FJG
local boolean FG9=US7(UL7,"Active")
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call TQ7(UL7)
call U37(t)
call KillUnit(G28)
else
call SetUnitX(G28,x)
call SetUnitY(G28,y)
call SetUnitFacing(G28,l4*bj_RADTODEG)
if RI7(x,y,GetUnitX(m5),GetUnitY(m5))<45 then
set XK4=(LoadReal(L7,(UL7),(6)))
set XM4=(LoadReal(L7,(UL7),(7)))
call TQ7(UL7)
call U37(t)
if GetUnitTypeId(m5)!=1848651852 and FG9 then
set HE8=H48(G28,m5,QVG)
set d=G58(G28,m5,QVG)
if HE8!=null then
set t=CreateTrigger()
set UL7=GetHandleId(t)
set FJG=CreateUnit(GetOwningPlayer(m5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
call LP7(FJG,1093743177)
call SetUnitAbilityLevel(FJG,1093743177,BK7+1)
call IssueTargetOrder(FJG,"thunderbolt",m5)
set FJG=CreateUnit(GetOwningPlayer(m5),1697656901,GetUnitX(HE8),GetUnitY(HE8),0)
call LP7(FJG,1093743177)
call SetUnitAbilityLevel(FJG,1093743177,BK7+1)
call IssueTargetOrder(FJG,"thunderbolt",HE8)
call TriggerRegisterTimerEvent(t,0.25+BK7*0.75,false)
call TriggerAddCondition(t,Condition(function QTG))
set NKE=AddLightning("MFPB",true,GetUnitX(m5),GetUnitY(m5),GetUnitX(HE8),GetUnitY(HE8))
call SetLightningColor(NKE,0.5,0.5,1,1)
call TA7(UL7,"Light",NKE)
elseif d!=null then
set t=CreateTrigger()
set UL7=GetHandleId(t)
set FJG=CreateUnit(GetOwningPlayer(m5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
call LP7(FJG,1093743177)
call SetUnitAbilityLevel(FJG,1093743177,BK7+1)
call IssueTargetOrder(FJG,"thunderbolt",m5)
call TriggerRegisterTimerEvent(t,0.25+BK7*0.75,false)
call TriggerAddCondition(t,Condition(function QTG))
set NKE=AddLightning("MFPB",true,GetUnitX(m5),GetUnitY(m5),GetDestructableX(d),GetDestructableY(d))
call SetLightningColor(NKE,0.5,0.5,1,1)
call TA7(UL7,"Light",NKE)
call SetDestructableAnimation(d,"stand hit")
else
set FJG=CreateUnit(GetOwningPlayer(m5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
call LP7(FJG,1093743177)
call SetUnitAbilityLevel(FJG,1093743177,1)
call IssueTargetOrder(FJG,"thunderbolt",m5)
endif
endif
call KillUnit(G28)
endif
endif
set t=null
set G28=null
set m5=null
set NKE=null
set HE8=null
set d=null
set FJG=null
return false
endfunction
function QWG takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local real l4=Atan2(GetUnitY(m5)-GetUnitY(p5),GetUnitX(m5)-GetUnitX(p5))
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit G28=CreateUnit(GetOwningPlayer(p5),1747990327,GetUnitX(p5),GetUnitY(p5),l4*bj_RADTODEG)
local integer BK7=GetUnitAbilityLevel(p5,1093743178)
local boolean FG9=CY7(GetSpellTargetUnit())==false
call TX7(UL7,"Projectile",G28)
call TX7(UL7,"Target",m5)
call TT7(UL7,"Level",BK7)
call TU7(UL7,"OriginalAngle",(l4)*1.0)
call TW7(UL7,"Active",FG9)
call SaveReal(L7,(UL7),(6),((GetUnitX(p5))*1.0))
call SaveReal(L7,(UL7),(7),((GetUnitY(p5))*1.0))
call TriggerRegisterTimerEvent(t,0.033,true)
call TriggerAddCondition(t,Condition(function QUG))
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
set p5=null
set m5=null
set t=null
endfunction
function QXG takes nothing returns boolean
if GetSpellAbilityId()==1093743178 then
call QWG()
endif
return false
endfunction
function TO8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function QXG))
set t=null
endfunction
function QYG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local integer BK7=UQ7(UL7,"Level")
local integer QZG=UQ7(UL7,"BonusID")
call DestroyEffect(AddSpecialEffect("effects\\Tornado.mdx",GetUnitX(p5),GetUnitY(p5)))
if GetTriggerEvalCount(t)>10*(2+0.75*BK7)or GetTriggerEventId()==EVENT_UNIT_DEATH then
call UnitRemoveAbility(p5,QZG)
call UnitRemoveAbility(p5,1110456663)
call DestroyEffect(UK7(UL7,"FX1"))
call DestroyEffect(UK7(UL7,"FX2"))
call TQ7(UL7)
call U37(t)
endif
set t=null
set p5=null
return false
endfunction
function QAG takes nothing returns nothing
local unit p5=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local integer BK7=GetUnitAbilityLevel(p5,1093743689)
local integer QZG
if BK7==1 then
set QZG=1093743413
elseif BK7==2 then
set QZG=1093743183
elseif BK7==3 then
set QZG=1093743412
elseif BK7==4 then
set QZG=1093743417
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),QZG,false)
call F78(p5,QZG,1,2+0.75*BK7)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function QYG))
call TX7(UL7,"Source",p5)
call TT7(UL7,"Level",BK7)
call TT7(UL7,"BonusID",QZG)
call TY7(UL7,"FX1",AddSpecialEffectTarget("effects\\Tornado.mdx",p5,"hand,left"))
call TY7(UL7,"FX2",AddSpecialEffectTarget("effects\\Tornado.mdx",p5,"hand,right"))
set p5=null
set t=null
endfunction
function QBG takes nothing returns boolean
if GetSpellAbilityId()==1093743689 then
call QAG()
endif
return false
endfunction
function TP8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function QBG))
set t=null
endfunction
function QCG takes unit p5,unit m5,real DV8,integer Q3G,integer Q6G returns nothing
call HG8(p5,m5,ZG4,(DV8)*Pow(0.9,Q3G)*Pow(0.99,Q6G))
endfunction
function QLG takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),ZB)==false and GetUnitAbilityLevel(GetEnumUnit(),1113815395)==0 then
call QCG(vc,GetEnumUnit(),ec,ac,xc)
call GroupAddUnit(ZB,GetEnumUnit())
set ac=ac+1
endif
endfunction
function Q1G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit IJ=UE7(UL7,"Projectile")
local real QKG=UR7(UL7,"TargetX")
local real QMG=UR7(UL7,"TargetY")
local real RK=UR7(UL7,"Angle")
local real DV8=UR7(UL7,"Damage")
local integer Q6G=UQ7(UL7,"TreeCount")
local integer Q3G=UQ7(UL7,"UnitCount")
local group QPG=UJ7(UL7,"AlreadyHit")
local real x=DD8(GetUnitX(IJ)+(60*Pow(0.9,Q3G)*Pow(0.99,Q6G))*Cos(RK))
local real y=DE8(GetUnitY(IJ)+(60*Pow(0.9,Q3G)*Pow(0.99,Q6G))*Sin(RK))
local group g=CA7()
local real d
if GetTriggerEvalCount(t)>2 then
set d=150
else
set d=75
endif
call DestroyEffect(AddSpecialEffect("effects\\Tornado.mdx",x,y))
set Q6G=Q6G+E78(x,y,75)
call TT7(UL7,"TreeCount",Q6G)
set ZB=QPG
set vc=IJ
set ec=DV8
set xc=Q6G
set ac=Q3G
set IN4=IJ
call GroupEnumUnitsInRange(g,x,y,d,Condition(function FW8))
call ForGroup(g,function QLG)
call CZ7(g)
call TT7(UL7,"UnitCount",ac)
call SetUnitX(IJ,x)
call SetUnitY(IJ,y)
if GetTriggerEvalCount(t)>29 then
call KillUnit(IJ)
call CZ7(QPG)
call TQ7(UL7)
call U37(t)
endif
set t=null
set IJ=null
set QPG=null
set g=null
return false
endfunction
function Q0G takes nothing returns nothing
local unit p5=GetTriggerUnit()
local real x2=UR7(GetHandleId(p5),"ReverseLance|x")
local real y2=UR7(GetHandleId(p5),"ReverseLance|y")
local real Q5G=DT8(RT7()-UR7(GetHandleId(p5),"ReverseLance|Time"),1.0)
local real RK=Atan2(y2-GetUnitY(p5),x2-GetUnitX(p5))
local trigger t
local integer UL7
local unit IJ
local integer BK7=GetUnitAbilityLevel(p5,1093743179)
local real DV8=(40+80*BK7)*(Q5G)
set t=CreateTrigger()
set UL7=GetHandleId(t)
set IJ=CreateUnit(GetOwningPlayer(p5),1747990328,GetUnitX(p5),GetUnitY(p5),RK*bj_RADTODEG)
set x2=GetUnitX(p5)+1700*Cos(RK)
set y2=GetUnitY(p5)+1700*Sin(RK)
call TX7(UL7,"Projectile",IJ)
call TU7(UL7,"TargetX",x2)
call TU7(UL7,"TargetY",y2)
call TU7(UL7,"Angle",RK)
call TU7(UL7,"Damage",DV8)
call TT7(UL7,"TreeCount",0)
call TT7(UL7,"UnitCount",0)
call TL7(UL7,"AlreadyHit",CA7())
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function Q1G))
set p5=null
set t=null
set IJ=null
endfunction
function Q2G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=UE7(UL7,"Hero")
call SetUnitTimeScale(CR7,1)
call TQ7(UL7)
call U37(t)
set t=null
set CR7=null
return false
endfunction
function Q_G takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit CR7=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
call RemoveLocation(l)
call TU7(GetHandleId(CR7),"ReverseLance|x",x)
call TU7(GetHandleId(CR7),"ReverseLance|y",y)
call TU7(GetHandleId(CR7),"ReverseLance|Time",RT7())
call SetUnitTimeScale(CR7,0.75)
call TX7(UL7,"Hero",CR7)
call TriggerRegisterTimerEvent(t,0.75,false)
call TriggerRegisterUnitEvent(t,CR7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function Q2G))
set t=null
set CR7=null
endfunction
function R4G takes nothing returns boolean
if GetSpellAbilityId()==1093743179 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST then
call TW7(GetHandleId(GetTriggerUnit()),"ReverseLance|Active",false)
call Q_G()
elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
call TW7(GetHandleId(GetTriggerUnit()),"ReverseLance|Active",true)
elseif US7(GetHandleId(GetTriggerUnit()),"ReverseLance|Active")==true then
call Q0G()
endif
endif
return false
endfunction
function TQ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call D28(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function R4G))
set t=null
endfunction
function R7G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local integer HJ8=UQ7(UL7,"TargetIndex")
local unit m5=ZA7(HJ8)
local real R8G=UR7(UL7,"Rate")
local boolean K2D=US7(UL7,"Scepter")
if GetTriggerEvalCount(t)==1 then
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)
endif
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==p5 and K2D==false then
call SetUnitState(m5,UNIT_STATE_LIFE,GetUnitState(m5,UNIT_STATE_LIFE)+(R8G)*GetEventDamage())
endif
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093743184 or GetSpellAbilityId()==1093747766 then
call ZZ7(HJ8)
call TQ7(UL7)
call U37(t)
endif
else
call UnitRemoveAbility(p5,1093743186)
call UnitRemoveAbility(p5,1110456664)
call ZZ7(HJ8)
call TQ7(UL7)
call U37(t)
call UnitRemoveAbility(p5,1093748299)
call UnitRemoveAbility(p5,1093748300)
call UnitRemoveAbility(p5,1093748298)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function R9G takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local integer BK7=GetUnitAbilityLevel(EL8,1093743184)
local real XKD=0.6-BK7*0.1
local boolean ZPD=false
call UnitRemoveAbility(EL8,1093743186)
call UnitRemoveAbility(EL8,1110456664)
if BK7==0 then
call UnitRemoveAbility(EL8,1093748299)
call UnitRemoveAbility(EL8,1093748300)
call UnitRemoveAbility(EL8,1093748298)
set ZPD=true
set BK7=GetUnitAbilityLevel(EL8,1093747766)
set XKD=0.6-BK7*0.15
if BK7==1 then
call LP7(EL8,1093748299)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093748299,false)
elseif BK7==2 then
call LP7(EL8,1093748300)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093748300,false)
elseif BK7==3 then
call LP7(EL8,1093748298)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093748298,false)
endif
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093743186,false)
call LP7(EL8,1093743186)
call IssueTargetOrder(EL8,"attack",O_7)
call TX7(UL7,"Source",EL8)
call TW7(UL7,"Scepter",ZPD)
call TT7(UL7,"TargetIndex",ZC7(O_7))
call TU7(UL7,"Rate",XKD)
call TT7(UL7,"Attacks",0)
call TX7(GetHandleId(EL8),"Target",O_7)
call TriggerRegisterTimerEvent(t,20,false)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function R7G))
set EL8=null
set O_7=null
set t=null
endfunction
function RDG takes nothing returns boolean
if(GetSpellAbilityId()==1093743184 or GetSpellAbilityId()==1093747766)and CY7(GetSpellTargetUnit())==false then
call R9G()
endif
return false
endfunction
function REG takes unit EL8 returns nothing
local unit O_7=UE7(GetHandleId(EL8),"Target")
if GetTriggerUnit()==O_7 then
call DestroyEffect(AddSpecialEffectTarget("effects\\Tornado.mdx",EL8,"hand,left"))
call DestroyEffect(AddSpecialEffectTarget("effects\\Tornado.mdx",EL8,"hand,right"))
elseif GetTriggerUnit()!=O_7 then
call UnitRemoveAbility(EL8,1093743186)
call UnitRemoveAbility(EL8,1110456664)
call UnitRemoveAbility(EL8,1093748299)
call UnitRemoveAbility(EL8,1093748300)
call UnitRemoveAbility(EL8,1093748298)
endif
set O_7=null
endfunction
function RFG takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1093743186)>0 then
call REG(GetAttacker())
endif
return false
endfunction
function TR8 takes nothing returns nothing
local trigger t=CreateTrigger()
local trigger t2=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function RDG))
call D28(t2,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t2,Condition(function RFG))
set t=null
set t2=null
endfunction
function RGG takes unit CR7,integer BK7 returns integer
local integer RHG
local integer RIG
if BK7==1 then
set RIG=1110458929
set RHG=1093744730
if GetUnitAbilityLevel(CR7,RIG)>0 then
call UnitRemoveAbility(CR7,RIG)
return RHG
endif
set RIG=1110458928
set RHG=1093744970
if GetUnitAbilityLevel(CR7,RIG)>0 then
call UnitRemoveAbility(CR7,RIG)
return RHG
endif
set RIG=1110458713
set RHG=1093744970
if GetUnitAbilityLevel(CR7,RIG)>0 then
call UnitRemoveAbility(CR7,RIG)
return RHG
endif
return 1093744729
elseif BK7==2 then
set RIG=1110458936
set RHG=1093744968
if GetUnitAbilityLevel(CR7,RIG)>0 then
call UnitRemoveAbility(CR7,RIG)
return RHG
endif
set RIG=1110458935
set RHG=1093744967
if GetUnitAbilityLevel(CR7,RIG)>0 then
call UnitRemoveAbility(CR7,RIG)
return RHG
endif
set RIG=1110458930
set RHG=1093744967
if GetUnitAbilityLevel(CR7,RIG)>0 then
call UnitRemoveAbility(CR7,RIG)
return RHG
endif
return 1093744969
elseif BK7==3 then
set RIG=1110458931
set RHG=1093744965
if GetUnitAbilityLevel(CR7,RIG)>0 then
call UnitRemoveAbility(CR7,RIG)
return RHG
endif
set RIG=1110458937
set RHG=1093744964
if GetUnitAbilityLevel(CR7,RIG)>0 then
call UnitRemoveAbility(CR7,RIG)
return RHG
endif
set RIG=1110458934
set RHG=1093744964
if GetUnitAbilityLevel(CR7,RIG)>0 then
call UnitRemoveAbility(CR7,RIG)
return RHG
endif
return 1093744971
elseif BK7==4 then
set RIG=1110458933
set RHG=1093744950
if GetUnitAbilityLevel(CR7,RIG)>0 then
call UnitRemoveAbility(CR7,RIG)
return RHG
endif
set RIG=1110458932
set RHG=1093744949
if GetUnitAbilityLevel(CR7,RIG)>0 then
call UnitRemoveAbility(CR7,RIG)
return RHG
endif
set RIG=1110458945
set RHG=1093744949
if GetUnitAbilityLevel(CR7,RIG)>0 then
call UnitRemoveAbility(CR7,RIG)
return RHG
endif
return 1093744972
endif
return 0
endfunction
function RJG takes nothing returns nothing
local unit CR7=GetTriggerUnit()
local integer BK7=GetUnitAbilityLevel(CR7,1093744728)
local integer RIG=RGG(CR7,BK7)
local unit HE8=CreateUnit(GetOwningPlayer(CR7),1697656901,GetUnitX(CR7),GetUnitY(CR7),0)
call LP7(HE8,RIG)
call IssueTargetOrder(HE8,"bloodlust",CR7)
set CR7=null
set HE8=null
endfunction
function RKG takes nothing returns boolean
if GetSpellAbilityId()==1093677382 or GetSpellAbilityId()==1093677623 or GetSpellAbilityId()==1093677392 or GetSpellAbilityId()==1093679450 or(GetUnitPointValue(GetTriggerUnit())==500 and BD7(GetSpellAbilityId()))then
call RJG()
endif
return false
endfunction
function RMG takes unit CR7,boolean B89 returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,CR7,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function RKG))
if B89 then
set nj[GetPlayerId(GetOwningPlayer(CR7))]=t
endif
set t=null
set CR7=null
endfunction
function RNG takes nothing returns boolean
if GetLearnedSkill()==1093744728 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093744728)==1 then
call RMG(GetTriggerUnit(),false)
endif
return false
endfunction
function TS8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function RNG))
set t=null
endfunction
function ROG takes nothing returns boolean
if(GetSpellAbilityId()==1093677392 or GetSpellAbilityId()==1093679450)and CO7(GetSpellTargetUnit())then
call RU7(GetTriggerUnit())
call D78(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848659026))
endif
return false
endfunction
function TT8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function ROG))
set t=null
endfunction
function RPG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=UE7(OL7,"Source")
local unit O_7=UE7(OL7,"Target")
local integer CS8=UQ7(GetHandleId(O_7),"StickyNapalm|Count")
local boolean RQG=US7(OL7,"Locked")
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call SetUnitTurnSpeed(O_7,GetUnitDefaultTurnSpeed(O_7))
call TT7(GetHandleId(O_7),"StickyNapalm|Count",0)
call TQ7(OL7)
call U37(t)
call D59(O_7,0,0)
elseif CS8==0 then
call SetUnitTurnSpeed(O_7,GetUnitDefaultTurnSpeed(O_7))
call TT7(GetHandleId(O_7),"StickyNapalm|Count",0)
call TQ7(OL7)
call U37(t)
elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED and RQG==false then
if CS8>0 and GetUnitAbilityLevel(GetEventDamageSource(),1093748044)>0 and UE7(GetHandleId(GetTriggeringTrigger()),"Source")==GetEventDamageSource()then
call TW7(OL7,"Locked",true)
if S44 then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\LordofFlameMissile\\LordofFlameMissile.mdl",O_7,"chest"))
call HG8(EL8,O_7,ZG4,0.5*(5+5*GetUnitAbilityLevel(EL8,1093748044))*CS8)
elseif(GetEventDamage()>34 and IsUnitType(O_7,UNIT_TYPE_HERO)==true)or(GetEventDamage()>45 and IsUnitType(O_7,UNIT_TYPE_HERO)==false)then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\LordofFlameMissile\\LordofFlameMissile.mdl",O_7,"chest"))
call HG8(EL8,O_7,ZG4,(5+5*GetUnitAbilityLevel(EL8,1093748044))*CS8)
endif
call TW7(OL7,"Locked",false)
endif
else
call SetUnitTurnSpeed(O_7,GetUnitDefaultTurnSpeed(O_7)*0.3)
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function RRG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(UE7(OL7,"Source"))
local unit O_7=(UE7(OL7,"Target"))
local real E09=(UR7(GetHandleId(O_7),"StickyNapalm|LastTime"))
local integer StickyCount=(UQ7(GetHandleId(O_7),"StickyNapalm|Count"))
if(TimerGetElapsed(W))-E09>=8 then
call SetUnitTurnSpeed(O_7,GetUnitDefaultTurnSpeed(O_7))
call TT7(GetHandleId(O_7),"StickyNapalm|Count",0)
call D59(O_7,0,0)
endif
call TQ7(OL7)
call U37(t)
set t=null
set EL8=null
set O_7=null
return false
endfunction
function RSG takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit O_7=GetEnumUnit()
local trigger t
local integer OL7
local integer HF8=GetUnitAbilityLevel(EL8,1093748044)
local integer CS8=IMinBJ(UQ7(GetHandleId(O_7),"StickyNapalm|Count")+1,10)
if CO7(O_7)then
set EL8=null
set O_7=null
return
endif
call D59(O_7,HF8,CS8)
call TT7(GetHandleId(O_7),"StickyNapalm|Count",CS8)
call TU7(GetHandleId(O_7),"StickyNapalm|LastTime",(TimerGetElapsed(W))*1.0)
call SetUnitTurnSpeed(O_7,GetUnitDefaultTurnSpeed(O_7)*0.3)
if IsUnitType(O_7,UNIT_TYPE_HERO)==true then
call D18(GetOwningPlayer(EL8),I2S(CS8)+"!",2,O_7,0.026,50,0,255,216)
endif
if CS8==1 then
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TX7(OL7,"Source",EL8)
call TX7(OL7,"Target",O_7)
call TW7(OL7,"Locked",false)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function RPG))
endif
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,8,false)
call TriggerAddCondition(t,Condition(function RRG))
call TX7(OL7,"Source",EL8)
call TX7(OL7,"Target",O_7)
set t=null
set EL8=null
set O_7=null
endfunction
function RTG takes nothing returns nothing
local group g=CA7()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local unit p5=GetTriggerUnit()
call GroupEnumUnitsInRange(g,x,y,400,Condition(function G48))
call ForGroup(g,function RSG)
call EE8(GetOwningPlayer(p5),2,x,y,500)
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x,y))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x,y+130))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x,y-130))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x+130,y))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x+130,y+130))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x+130,y-130))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x-130,y))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x-130,y+130))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x-130,y-130))
call RemoveLocation(l)
call CZ7(g)
set g=null
set l=null
set p5=null
endfunction
function RUG takes nothing returns boolean
if GetSpellAbilityId()==1093748044 then
call RTG()
endif
return false
endfunction
function TU8 takes nothing returns nothing
local integer i
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function RUG))
set W24[1]=1093752899
set W24[2]=1093752898
set W24[3]=1093752884
set W24[4]=1093752885
set W24[5]=1093752886
set W24[6]=1093752887
set W24[7]=1093752897
set W24[8]=1093752888
set W24[9]=1093752889
set W24[10]=1093752900
set W_4[1]=1093752909
set W_4[2]=1093752901
set W_4[3]=1093752902
set W_4[4]=1093752903
set W_4[5]=1093752904
set W_4[6]=1093752905
set W_4[7]=1093752906
set W_4[8]=1093752907
set W_4[9]=1093752910
set W_4[10]=1093752908
set X44[1]=1093752911
set X44[2]=1093752918
set X44[3]=1093752919
set X44[4]=1093752913
set X44[5]=1093752914
set X44[6]=1093752915
set X44[7]=1093752920
set X44[8]=1093752916
set X44[9]=1093752917
set X44[10]=1093752912
set X74[1]=1093752921
set X74[2]=1093752922
set X74[3]=1093753141
set X74[4]=1093753142
set X74[5]=1093753143
set X74[6]=1093753137
set X74[7]=1093753138
set X74[8]=1093753139
set X74[9]=1093753140
set X74[10]=1093753136
set i=1
loop
exitwhen i>10
call DH8(W24[i])
set i=i+1
endloop
set i=1
loop
exitwhen i>10
call DH8(W_4[i])
set i=i+1
endloop
set i=1
loop
exitwhen i>10
call DH8(X44[i])
set i=i+1
endloop
set i=1
loop
exitwhen i>10
call DH8(X74[i])
set i=i+1
endloop
set t=null
endfunction
function RVG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit m5=UE7(UL7,"Target")
local real a=UR7(UL7,"a")
local real d=UR7(UL7,"d")
local real x1=UR7(UL7,"x")
local real y1=UR7(UL7,"y")
local real x2
local real y2
local real x
local real y
if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>10 then
call E78(GetUnitX(m5),GetUnitY(m5),200)
call DestroyEffect(UK7(UL7,"FX"))
call TQ7(UL7)
call U37(t)
else
set x2=x1+d*Cos(a)
set y2=y1+d*Sin(a)
if(IsPointInRegion(IU4,((x2)*1.0),((y2)*1.0)))==false then
call TU7(UL7,"x",(x2)*1.0)
call TU7(UL7,"y",(y2)*1.0)
set x=x2
set y=y2
else
set x=x1
set y=y1
endif
if IsUnitType(m5,UNIT_TYPE_HERO)==true then
call SetUnitPosition(m5,x,y)
else
call SetUnitX(m5,x)
call SetUnitY(m5,y)
endif
endif
set t=null
set m5=null
return false
endfunction
function RWG takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetEnumUnit()
local integer BK7=GetUnitAbilityLevel(p5,1093744982)
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function RVG))
call TX7(UL7,"Target",m5)
call TU7(UL7,"a",(Atan2(GetUnitY(m5)-C1,GetUnitX(m5)-B1))*1.0)
call TU7(UL7,"d",(DU8((400-RI7(B1,C1,GetUnitX(m5),GetUnitY(m5))),10)/ 10)*1.0)
call TU7(UL7,"x",(GetUnitX(m5))*1.0)
call TU7(UL7,"y",(GetUnitY(m5))*1.0)
set p5=null
set m5=null
set t=null
call HG8(S74,GetEnumUnit(),ZG4,S84*75)
endfunction
function RXG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit HE8=UE7(UL7,"Caster")
local unit p5=UE7(UL7,"Source")
local real a=UR7(UL7,"a")
local group g=CA7()
local unit m5
local real x=GetUnitX(HE8)
local real y=GetUnitY(HE8)
local real OUE=UR7(UL7,"FinalX")
local real OVE=UR7(UL7,"FinalY")
set x=DD8(x+36*Cos(a))
set y=DE8(y+36*Sin(a))
call SetUnitX(HE8,x)
call SetUnitY(HE8,y)
set IN4=HE8
call GroupEnumUnitsInRange(g,x,y,125,Condition(function F18))
set m5=FirstOfGroup(g)
call CZ7(g)
if RI7(x,y,OUE,OVE)<40 or GetTriggerEvalCount(t)>100 then
set m5=null
set x=OUE
set y=OVE
set S74=p5
set S84=UQ7(UL7,"Level")
set N1=m5
if m5==null then
set B1=x
set C1=y
else
set B1=GetUnitX(m5)
set C1=GetUnitY(m5)
endif
set g=CA7()
call GroupEnumUnitsInRange(g,x,y,400,Condition(function F18))
if m5!=null then
call GroupRemoveUnit(g,m5)
call HD8(p5,m5,0.3)
call HG8(S74,m5,ZG4,S84*75)
endif
call ForGroup(g,function RWG)
call KillUnit(HE8)
call CZ7(g)
call TQ7(UL7)
call U37(t)
endif
set t=null
set m5=null
set HE8=null
set p5=null
set g=null
return false
endfunction
function RYG takes nothing returns nothing
local unit p5=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local real a=Atan2(y-GetUnitY(p5),x-GetUnitX(p5))
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local integer BK7=GetUnitAbilityLevel(p5,1093744982)
local unit HE8
set HE8=CreateUnit(GetOwningPlayer(p5),1747993924,GetUnitX(p5),GetUnitY(p5),a*bj_RADTODEG)
call RemoveLocation(l)
call TU7(UL7,"a",a)
call TT7(UL7,"Level",BK7)
call TX7(UL7,"Source",p5)
call TX7(UL7,"Caster",HE8)
call TU7(UL7,"FinalX",((x)*1.0))
call TU7(UL7,"FinalY",((y)*1.0))
call TriggerRegisterTimerEvent(t,0.04,true)
call TriggerAddCondition(t,Condition(function RXG))
set p5=null
set HE8=null
set l=null
set t=null
endfunction
function RZG takes nothing returns boolean
if GetSpellAbilityId()==1093744982 then
call RYG()
endif
return false
endfunction
function TV8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function RZG))
set t=null
endfunction
function RAG takes nothing returns nothing
local unit EL8=S94
local unit EHG=GetEnumUnit()
local unit O_7
local group g
if GetUnitCurrentOrder(EHG)==0 then
set g=CA7()
set IN4=EHG
call GroupEnumUnitsInRange(g,GetUnitX(EHG),GetUnitY(EHG),825,Condition(function FW8))
set O_7=FirstOfGroup(g)
if O_7!=null then
call GroupRemoveUnit(g,O_7)
endif
if FirstOfGroup(g)==null and O_7==EL8 then
call IssueTargetOrder(EHG,"attack",O_7)
endif
call CZ7(g)
set O_7=null
set g=null
endif
set EL8=null
set EHG=null
endfunction
function RBG takes unit EL8 returns nothing
local group g=CA7()
set IN4=EL8
set S94=EL8
call GroupEnumUnitsInRange(g,GetUnitX(EL8),GetUnitY(EL8),1000,Condition(function GV8))
call ForGroup(g,function RAG)
call CZ7(g)
set g=null
endfunction
function RCG takes nothing returns nothing
call HG8(S94,GetEnumUnit(),ZG4,SD4*10)
endfunction
function R3G takes unit EL8,integer OL7,integer CS8 returns nothing
local group g1=CA7()
local group g2=CA7()
local integer i=0
set IN4=EL8
loop
exitwhen i>CS8
call GroupEnumUnitsInRange(g2,UR7(OL7,"X"+I2S(i)),UR7(OL7,"Y"+I2S(i)),225,Condition(function FW8))
call GroupAddGroup(g2,g1)
call GroupClear(g2)
set i=i+1
endloop
call CZ7(g2)
if FirstOfGroup(g1)!=null then
set S94=EL8
set SD4=GetUnitAbilityLevel(EL8,1093744986)
call ForGroup(g1,function RCG)
endif
call CZ7(g1)
set g1=null
set g2=null
endfunction
function R6G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=UE7(OL7,"Source")
local real ZC9=UR7(OL7,"LastX")
local real Z39=UR7(OL7,"LastY")
local integer CS8=UQ7(OL7,"Count")
local integer i
local real x
local real y
if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>360 then
set i=0
loop
exitwhen i>CS8
call DestroyEffect(UK7(OL7,"FX"+I2S(i)))
set i=i+1
endloop
call TQ7(OL7)
call U37(t)
else
set x=GetUnitX(EL8)
set y=GetUnitY(EL8)
if V8==true then
call RBG(EL8)
endif
if RI7(x,y,ZC9,Z39)>125 then
set CS8=CS8+1
call TT7(OL7,"Count",CS8)
call TU7(OL7,"LastX",x)
call TU7(OL7,"LastY",y)
call TY7(OL7,"FX"+I2S(CS8),AddSpecialEffect("Environment\\LargeBuildingFire\\LargeBuildingFire1.mdl",x,y))
call TU7(OL7,"X"+I2S(CS8),x)
call TU7(OL7,"Y"+I2S(CS8),y)
endif
if ModuloInteger(GetTriggerEvalCount(t),10)==0 then
set S44=true
call R3G(EL8,OL7,CS8)
set S44=false
endif
call E78(GetUnitX(EL8),GetUnitY(EL8),100)
endif
return false
endfunction
function RLG takes nothing returns nothing
local unit p5=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function R6G))
call TX7(UL7,"Source",p5)
call TY7(UL7,"FX"+I2S(0),AddSpecialEffect("Environment\\LargeBuildingFire\\LargeBuildingFire1.mdl",GetUnitX(p5),GetUnitY(p5)))
call TU7(UL7,"LastX",GetUnitX(p5))
call TU7(UL7,"LastY",GetUnitY(p5))
call TU7(UL7,"X"+I2S(0),GetUnitX(p5))
call TU7(UL7,"Y"+I2S(0),GetUnitY(p5))
set p5=null
set t=null
endfunction
function R1G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
if LR7(p5)then
return false
endif
if GetUnitTypeId(p5)==1328558390 then
call SetUnitFlyHeight(p5,170,0)
elseif GetUnitTypeId(p5)==1328558391 then
call SetUnitFlyHeight(p5,220,0)
endif
set t=null
set p5=null
return false
endfunction
function R0G takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit p5=GetTriggerUnit()
call TriggerRegisterTimerEvent(t,2,true)
call TriggerAddCondition(t,Condition(function R1G))
call TX7(UL7,"Source",p5)
set t=null
set p5=null
endfunction
function R5G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local real x=(LoadReal(L7,(OL7),(6)))
local real y=(LoadReal(L7,(OL7),(7)))
call SetTerrainPathable(x,y,PATHING_TYPE_WALKABILITY,false)
call FlushChildHashtable(L7,(OL7))
call U37(t)
set t=null
return false
endfunction
function R2G takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
local real x=GetUnitX(EL8)
local real y=GetUnitY(EL8)
call SetTerrainPathable(x,y,PATHING_TYPE_WALKABILITY,true)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function R5G))
call SaveReal(L7,(OL7),(6),((x)*1.0))
call SaveReal(L7,(OL7),(7),((y)*1.0))
set EL8=null
set t=null
endfunction
function R_G takes nothing returns boolean
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093744986 then
if GetUnitTypeId(GetTriggerUnit())==1328558390 then
call RLG()
elseif IsTerrainPathable(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),PATHING_TYPE_WALKABILITY)then
call R2G()
endif
endif
else
if GetLearnedSkill()==1093744986 and GetUnitAbilityLevel(GetTriggerUnit(),1093744986)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call R0G()
endif
endif
return false
endfunction
function TW8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function R_G))
set t=null
endfunction
function S4G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=UE7(UL7,"Source")
local unit m5=UE7(UL7,"Target")
local unit HE8=UE7(UL7,"Caster")
local real d=RI7(GetUnitX(p5),GetUnitY(p5),GetUnitX(m5),GetUnitY(m5))
local real a
local real FF8=UR7(UL7,"Duration")
local real NNE=UR7(UL7,"rRealX0")
local real NOE=UR7(UL7,"rRealY0")
local real VHD
local real VID
if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>R2I(20*FF8)then
call DestroyEffect(UK7(UL7,"FX"))
call TQ7(UL7)
call U37(t)
call KillUnit(HE8)
call SetUnitPathing(m5,true)
call FT8(p5)
call E78(GetUnitX(m5),GetUnitY(m5),175)
call UB7(p5,"AI|Lasso")
else
call SetUnitX(HE8,GetUnitX(p5))
call SetUnitY(HE8,GetUnitY(p5))
if RI7(NNE,NOE,GetUnitX(p5),GetUnitY(p5))>400 then
call DestroyEffect(UK7(UL7,"FX"))
call TQ7(UL7)
call U37(t)
call KillUnit(HE8)
call SetUnitPathing(m5,true)
call FT8(p5)
call E78(GetUnitX(m5),GetUnitY(m5),175)
else
call TU7(UL7,"rRealX0",GetUnitX(p5))
call TU7(UL7,"rRealY0",GetUnitY(p5))
if d>300 then
set a=Atan2(GetUnitY(m5)-GetUnitY(p5),GetUnitX(m5)-GetUnitX(p5))
set VHD=GetUnitX(p5)+300*Cos(a)
set VID=GetUnitY(p5)+300*Sin(a)
if(IsPointInRegion(IU4,((VHD)*1.0),((VID)*1.0)))==false then
call SetUnitX(m5,VHD)
call SetUnitY(m5,VID)
endif
endif
endif
endif
set t=null
set p5=null
set m5=null
set HE8=null
return false
endfunction
function S7G takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local unit HE8=CreateUnit(GetOwningPlayer(p5),1966092377,GetUnitX(p5),GetUnitY(p5),0)
local integer BK7=GetUnitAbilityLevel(p5,1093744975)
if BK7==0 then
set BK7=GetUnitAbilityLevel(p5,1093750102)+2
endif
call LP7(HE8,1093744974)
call SetUnitAbilityLevel(HE8,1093744974,GetUnitAbilityLevel(p5,1093744975))
call IssueTargetOrder(HE8,"magicleash",m5)
call SetUnitPathing(HE8,false)
call SetUnitPathing(m5,false)
call FR8(p5)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function S4G))
call TX7(UL7,"Source",p5)
call TX7(UL7,"Target",m5)
call TX7(UL7,"Caster",HE8)
call TU7(UL7,"Duration",(2.5+BK7*0.5)*1.0)
call TY7(UL7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Human\\AerialShackles\\AerialShacklesTarget.mdl",m5,"chest"))
call TU7(UL7,"rRealX0",GetUnitX(p5))
call TU7(UL7,"rRealY0",GetUnitY(p5))
call UZ7(p5,"AI|Lasso")
set t=null
set p5=null
set m5=null
set HE8=null
endfunction
function S8G takes nothing returns boolean
if(GetSpellAbilityId()==1093744975 or GetSpellAbilityId()==1093750102)and CY7(GetSpellTargetUnit())==false and GetUnitTypeId(GetSpellTargetUnit())!=1848651852 then
call S7G()
endif
return false
endfunction
function TX8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function S8G))
set t=null
endfunction
function S9G takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if Z07(GetOwningPlayer(GetEventDamageSource()))and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and w1==false then
if W1==false then
call UnitRemoveAbility(GetTriggerUnit(),1110458957)
call U37(GetTriggeringTrigger())
endif
endif
if W1==true then
set W1=false
endif
if w1==true then
set w1=false
endif
else
call U37(GetTriggeringTrigger())
endif
return false
endfunction
function SDG takes nothing returns nothing
local unit m5=GetEnumUnit()
local trigger t=CreateTrigger()
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,6,false)
call TriggerAddCondition(t,Condition(function S9G))
set m5=null
set t=null
endfunction
function SEG takes nothing returns boolean
return GetUnitAbilityLevel(GetFilterUnit(),1110458957)>0 and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0
endfunction
function SFG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local real x=(LoadReal(L7,(UL7),(6)))
local real y=(LoadReal(L7,(UL7),(7)))
local group g=CA7()
call GroupEnumUnitsInRange(g,x,y,1000,Condition(function SEG))
call ForGroup(g,function SDG)
call CZ7(g)
call FlushChildHashtable(L7,(UL7))
call U37(t)
set t=null
set g=null
return false
endfunction
function SGG takes nothing returns nothing
if SE4==1 or SE4==2 then
call HG8(GetTriggerUnit(),GetEnumUnit(),ZH4,80)
endif
if SE4==1 or SE4==3 then
call HG8(GetTriggerUnit(),GetEnumUnit(),ZG4,80)
endif
endfunction
function SHG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local real x=GetUnitX(p5)
local real y=GetUnitY(p5)
local unit HE8=CreateUnit(GetOwningPlayer(p5),1747990362,x,y,0)
local group g=CA7()
local unit u
set GF7=GetUnitAbilityLevel(p5,1093747009)
if((LoadInteger(L7,(GetHandleId((p5))),((4270))))==1)==false then
call SetUnitTimeScale(HE8,2.5)
call UnitApplyTimedLife(HE8,1112820806,2)
set HE8=CreateUnit(GetOwningPlayer(p5),1697656901,x,y,0)
call LP7(HE8,1093747001)
call SetUnitAbilityLevel(HE8,1093747001,GetUnitAbilityLevel(p5,1093747009))
call IssueImmediateOrder(HE8,"stomp")
call GroupEnumUnitsInRange(g,x,y,500,Condition(function G48))
set SE4=1
call ForGroup(g,function SGG)
call CZ7(g)
call TriggerRegisterTimerEvent(t,0.65,false)
call TriggerAddCondition(t,Condition(function SFG))
call SaveReal(L7,(UL7),(6),((x)*1.0))
call SaveReal(L7,(UL7),(7),((y)*1.0))
else
call SetUnitTimeScale(HE8,2.5)
call UnitApplyTimedLife(HE8,1112820806,2)
set HE8=CreateUnit(GetOwningPlayer(p5),1697656901,x,y,0)
call LP7(HE8,1093747001)
call SetUnitAbilityLevel(HE8,1093747001,GetUnitAbilityLevel(p5,1093747009))
call IssueImmediateOrder(HE8,"stomp")
call GroupEnumUnitsInRange(g,x,y,500,Condition(function G48))
set SE4=2
call ForGroup(g,function SGG)
call TriggerRegisterTimerEvent(t,0.65,false)
call TriggerAddCondition(t,Condition(function SFG))
call SaveReal(L7,(UL7),(6),((x)*1.0))
call SaveReal(L7,(UL7),(7),((y)*1.0))
set t=CreateTrigger()
set UL7=GetHandleId(t)
set u=(SK4[GetPlayerId(GetOwningPlayer((p5)))])
call IssueImmediateOrder(u,"stop")
set x=GetUnitX(u)
set y=GetUnitY(u)
set HE8=CreateUnit(GetOwningPlayer(p5),1747990362,x,y,0)
call SetUnitTimeScale(HE8,2.5)
call UnitApplyTimedLife(HE8,1112820806,2)
set HE8=CreateUnit(GetOwningPlayer(p5),1697656901,x,y,0)
call LP7(HE8,1093747001)
call SetUnitAbilityLevel(HE8,1093747001,GetUnitAbilityLevel(p5,1093747009))
call IssueImmediateOrder(HE8,"stomp")
call GroupEnumUnitsInRange(g,x,y,500,Condition(function G48))
set SE4=3
call ForGroup(g,function SGG)
call CZ7(g)
call TriggerRegisterTimerEvent(t,0.65,false)
call TriggerAddCondition(t,Condition(function SFG))
call SaveReal(L7,(UL7),(6),((x)*1.0))
call SaveReal(L7,(UL7),(7),((y)*1.0))
call SetUnitAnimationByIndex(u,3)
endif
set t=null
set p5=null
set HE8=null
set g=null
endfunction
function SIG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=(LoadUnitHandle(L7,(UL7),(2)))
local unit SJG=(LoadUnitHandle(L7,(UL7),(335)))
local boolean SKG=(LoadBoolean(L7,(UL7),(336)))
if GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST then
call SaveInteger(L7,(GetHandleId((p5))),((4269)),(2))
call SaveBoolean(L7,(GetHandleId(SJG)),(337),(true))
if SKG then
call ShowUnit(SJG,false)
call KillUnit(SJG)
else
call ShowUnit(SJG,false)
call UnitRemoveAbility(SJG,1097625443)
call ShowUnit(SJG,true)
endif
call FlushChildHashtable(L7,(UL7))
call U37(t)
else
if SKG then
call SetUnitFacing(SJG,GetUnitFacing(p5))
endif
endif
set t=null
set SJG=null
return false
endfunction
function SMG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local unit SJG
local boolean KillImage
call SaveBoolean(L7,(UL7),(336),(false))
if((LoadInteger(L7,(GetHandleId((p5))),((4270))))==1)==false then
call SaveBoolean(L7,(UL7),(336),(true))
set SJG=CreateUnit(GetOwningPlayer(p5),1747990357,GetUnitX(p5),GetUnitY(p5),GetUnitFacing(p5))
call LP7(SJG,1097625443)
call LP7(SJG,1097167980)
call SetUnitPosition(SJG,GetUnitX(p5),GetUnitY(p5))
call SetUnitScale(SJG,1.4,1.4,1.4)
else
set SJG=(SK4[GetPlayerId(GetOwningPlayer((p5)))])
call UnitAddAbility(SJG,1097625443)
endif
call IssueImmediateOrder(SJG,"stop")
call SaveInteger(L7,(GetHandleId((p5))),((4269)),(1))
call SetUnitAnimation(SJG,"spell slam")
call QueueUnitAnimation(SJG,"spell slam")
call SaveUnitHandle(L7,(UL7),(335),(SJG))
call SaveUnitHandle(L7,(UL7),(2),(p5))
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(t,Condition(function SIG))
call SaveUnitHandle(L7,(UL7),(335),(SJG))
set t=null
set p5=null
set SJG=null
endfunction
function SNG takes nothing returns boolean
if GetSpellAbilityId()==1093747009 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_FINISH then
call SHG()
else
call SMG()
endif
endif
return false
endfunction
function TB8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_FINISH)
call D28(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function SNG))
set t=null
endfunction
function SOG takes nothing returns nothing
if D69(GetEnumUnit())then
return
endif
if GetUnitAbilityLevel(GetEnumUnit(),1093747521)>0 then
call UnitRemoveAbility(GetEnumUnit(),1093747521)
call UnitRemoveAbility(GetEnumUnit(),1110458960)
endif
if GetUnitAbilityLevel(GetEnumUnit(),1093747513)>0 then
call UnitRemoveAbility(GetEnumUnit(),1093747513)
call UnitRemoveAbility(GetEnumUnit(),1110458960)
endif
if GetUnitAbilityLevel(GetEnumUnit(),1093747522)>0 then
call UnitRemoveAbility(GetEnumUnit(),1093747522)
call UnitRemoveAbility(GetEnumUnit(),1110458960)
endif
if GetUnitAbilityLevel(GetEnumUnit(),1093747523)>0 then
call UnitRemoveAbility(GetEnumUnit(),1093747523)
call UnitRemoveAbility(GetEnumUnit(),1110458960)
endif
call HS8(GetEnumUnit(),0)
endfunction
function SPG takes nothing returns nothing
if D69(GetEnumUnit())then
return
endif
if m1==1 then
if GetUnitAbilityLevel(GetEnumUnit(),1093747521)==0 then
call LP7(GetEnumUnit(),1093747521)
endif
elseif m1==2 then
if GetUnitAbilityLevel(GetEnumUnit(),1093747513)==0 then
call LP7(GetEnumUnit(),1093747513)
endif
elseif m1==3 then
if GetUnitAbilityLevel(GetEnumUnit(),1093747522)==0 then
call LP7(GetEnumUnit(),1093747522)
endif
elseif m1==4 then
if GetUnitAbilityLevel(GetEnumUnit(),1093747523)==0 then
call LP7(GetEnumUnit(),1093747523)
endif
endif
if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true then
call HS8(GetEnumUnit(),R2I((I2R(GetHeroAgi(GetEnumUnit(),true))/ 7)*I2R(m1)/ 5))
endif
endfunction
function SQG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=(LoadUnitHandle(L7,(UL7),(2)))
local group W_E=(LoadGroupHandle(L7,(UL7),(340)))
local real x=GetUnitX(p5)
local real y=GetUnitY(p5)
local group g=CA7()
local group g2
if p5==null then
call FlushChildHashtable(L7,(UL7))
call U37(t)
call CZ7(W_E)
call CZ7(g)
return false
endif
set IN4=p5
set m1=GetUnitAbilityLevel(p5,1093747524)
call GroupEnumUnitsInRange(g,x,y,300,Condition(function FW8))
if((LoadInteger(L7,(GetHandleId((p5))),((4270))))==1)==true then
set g2=CA7()
call GroupEnumUnitsInRange(g2,GetUnitX((SK4[GetPlayerId(GetOwningPlayer((p5)))])),GetUnitY((SK4[GetPlayerId(GetOwningPlayer((p5)))])),300,Condition(function FW8))
call GroupAddGroup(g2,g)
call CZ7(g2)
set g2=null
endif
call GroupRemoveGroup(g,W_E)
call ForGroup(W_E,function SOG)
if LR7(p5)==false then
call ForGroup(g,function SPG)
endif
call SaveGroupHandle(L7,(UL7),(340),(g))
call CZ7(W_E)
set t=null
set p5=null
set W_E=null
return false
endfunction
function SRG takes unit p5,boolean B89 returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local integer i
local player p
call LP7(p5,1093747537)
call TriggerRegisterTimerEvent(t,0.3,true)
call TriggerAddCondition(t,Condition(function SQG))
call SaveUnitHandle(L7,(UL7),(2),(p5))
call SaveGroupHandle(L7,(UL7),(340),(CA7()))
call SaveTriggerHandle(L7,(GetHandleId(p5)),(338),(t))
call SaveBoolean(L7,(GetHandleId(p5)),(339),(true))
set i=0
loop
exitwhen i>5
set p=Z7[i]
call SetPlayerAbilityAvailable(p,1093747521,false)
call SetPlayerAbilityAvailable(p,1093747513,false)
call SetPlayerAbilityAvailable(p,1093747522,false)
call SetPlayerAbilityAvailable(p,1093747523,false)
set p=A7[i]
call SetPlayerAbilityAvailable(p,1093747521,false)
call SetPlayerAbilityAvailable(p,1093747513,false)
call SetPlayerAbilityAvailable(p,1093747522,false)
call SetPlayerAbilityAvailable(p,1093747523,false)
set i=i+1
endloop
if B89 then
set nj[GetPlayerId(GetOwningPlayer(p5))]=t
endif
set t=null
set p5=null
endfunction
function SSG takes nothing returns boolean
if GetLearnedSkill()==1093747524 and GetUnitAbilityLevel(GetTriggerUnit(),1093747524)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call SRG(GetTriggerUnit(),false)
endif
return false
endfunction
function TA8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function SSG))
set t=null
endfunction
function STG takes nothing returns nothing
local real x1=Z1
local real y1=v2
local real x2=SM4
local real y2=o2
local real x3=GetUnitX(GetEnumUnit())
local real y3=GetUnitY(GetEnumUnit())
local real u=((x3-x1)*(x2-x1)+(y3-y1)*(y2-y1))/((x1-x2)*(x1-x2)+(y1-y2)*(y1-y2))
local real x4=x1+u*(x2-x1)
local real y4=y1+u*(y2-y1)
local real DV8=GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)*0.35/ 2
if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true then
call SetUnitPosition(GetEnumUnit(),x4,y4)
else
call SetUnitX(GetEnumUnit(),x4)
call SetUnitY(GetEnumUnit(),y4)
endif
call IssueTargetOrder(Y1,"slow",GetEnumUnit())
call HG8(z1,GetEnumUnit(),ZG4,DV8)
call HG8(z1,GetEnumUnit(),ZH4,DV8)
endfunction
function SUG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=(LoadUnitHandle(L7,(UL7),(2)))
local real x0=(LoadReal(L7,(UL7),(282)))
local real y0=(LoadReal(L7,(UL7),(283)))
local real a0=(LoadReal(L7,(UL7),(341)))
local integer i=0
local real x
local real y
local group g=CA7()
local group G9E=CA7()
local integer BK7=GetUnitAbilityLevel(p5,1093746993)
local integer END=(LoadInteger(L7,(UL7),(34)))
call FlushChildHashtable(L7,(UL7))
call U37(t)
set IN4=p5
set z1=p5
set Y1=CreateUnit(GetOwningPlayer(p5),1697656901,x0,y0,0)
call LP7(Y1,1093747525)
call SetUnitAbilityLevel(Y1,1093747525,BK7)
loop
exitwhen i>END
set x=x0+i*200*Cos(a0)
set y=y0+i*200*Sin(a0)
call DC8("Abilities\\Spells\\Orc\\EarthQuake\\EarthQuakeTarget.mdl",x,y,1.6)
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",x,y-250))
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",x,y))
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",x+250,y))
call E78(x,y,300)
call GroupEnumUnitsInRange(g,x,y,325,Condition(function FW8))
call GroupAddGroup(g,G9E)
call GroupClear(g)
set i=i+1
endloop
set Z1=x0
set v2=y0
set SM4=x
set o2=y
call ForGroup(G9E,function STG)
call CZ7(G9E)
call CZ7(g)
set t=null
set p5=null
return false
endfunction
function SVG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=(LoadUnitHandle(L7,(UL7),(2)))
local real a=(LoadReal(L7,(UL7),(137)))
local real x0=(LoadReal(L7,(UL7),(282)))
local real y0=(LoadReal(L7,(UL7),(283)))
local real a0
local real SWG
local real SXG
local real SYG
local real SZG
local real SAG
local real SBG
local real SCG
local real S3G
local real S6G
local real SLG
local real S1G
local real S0G
local real x
local real y
local ubersplat H8G
local integer BD8=GetTriggerEvalCount(t)
local integer END=(LoadInteger(L7,(UL7),(34)))
set x=x0+200*BD8*Cos(a)
set y=y0+200*BD8*Sin(a)
set H8G=CreateUbersplat(x,y,"THND",255,255,255,255,false,false)
call SetUbersplatRenderAlways(H8G,true)
set SWG=x+200*Cos(bj_DEGTORAD*(a*bj_RADTODEG-45))
set SXG=y+200*Sin(bj_DEGTORAD*(a*bj_RADTODEG-45))
set SYG=x+200*Cos(bj_DEGTORAD*(a*bj_RADTODEG+45))
set SZG=y+200*Sin(bj_DEGTORAD*(a*bj_RADTODEG+45))
set SAG=x-100*Cos(bj_DEGTORAD*(a*bj_RADTODEG-45))
set SBG=y-100*Sin(bj_DEGTORAD*(a*bj_RADTODEG-45))
set SCG=x-100*Cos(bj_DEGTORAD*(a*bj_RADTODEG+45))
set S3G=y-100*Sin(bj_DEGTORAD*(a*bj_RADTODEG+45))
set S6G=x
set SLG=y
set S1G=x
set S0G=y
call EE8(GetOwningPlayer(p5),4,x,y,500)
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",SWG,SXG))
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",SYG,SZG))
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",SAG,SBG))
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",SCG,S3G))
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",S6G,SLG))
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",S1G,S0G))
if GetTriggerEvalCount(t)>END then
set x0=(LoadReal(L7,(UL7),(282)))
set y0=(LoadReal(L7,(UL7),(283)))
set a0=(LoadReal(L7,(UL7),(341)))
call FlushChildHashtable(L7,(UL7))
call U37(t)
set t=CreateTrigger()
set UL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.5,false)
call TriggerAddCondition(t,Condition(function SUG))
call SaveUnitHandle(L7,(UL7),(2),(p5))
call SaveReal(L7,(UL7),(282),((x0)*1.0))
call SaveReal(L7,(UL7),(283),((y0)*1.0))
call SaveReal(L7,(UL7),(341),((a0)*1.0))
call SaveInteger(L7,(UL7),(34),(END))
endif
set t=null
set p5=null
return false
endfunction
function S5G takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local real a=Atan2(y-GetUnitY(p5),x-GetUnitX(p5))
local integer END=11
call TriggerRegisterTimerEvent(t,0.22,true)
call TriggerAddCondition(t,Condition(function SVG))
call SaveUnitHandle(L7,(UL7),(2),(p5))
call SaveReal(L7,(UL7),(6),((GetUnitX(p5))*1.0))
call SaveReal(L7,(UL7),(7),((GetUnitY(p5))*1.0))
call SaveReal(L7,(UL7),(137),((a)*1.0))
call SaveReal(L7,(UL7),(282),((GetUnitX(p5))*1.0))
call SaveReal(L7,(UL7),(283),((GetUnitY(p5))*1.0))
call SaveReal(L7,(UL7),(341),((a)*1.0))
call SaveInteger(L7,(UL7),(34),(END))
set t=null
set p5=null
endfunction
function S2G takes nothing returns boolean
if GetSpellAbilityId()==1093746993 then
call S5G()
endif
return false
endfunction
function TY8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function S2G))
set t=null
endfunction
function S_G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
call UnitRemoveAbility(EL8,1093815881)
call UnitAddAbility(EL8,1093815881)
call FlushChildHashtable(L7,(OL7))
call U37(t)
set t=null
set EL8=null
return false
endfunction
function T4G takes unit EL8 returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function S_G))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
set t=null
endfunction
function T7G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=(LoadUnitHandle(L7,(UL7),(2)))
call DestroyEffect((LoadEffectHandle(L7,(UL7),(32))))
call FlushChildHashtable(L7,(UL7))
call U37(t)
call HN8(p5,0)
set t=null
set p5=null
return false
endfunction
function T8G takes unit p5,unit SJG,integer T9G,integer TDG returns nothing
local trigger t
local integer UL7
local unit HE8
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",SJG,"chest"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",p5,"chest"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",p5,"origin"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",p5,"hand,left"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",p5,"hand,right"))
call ShowUnit(SJG,false)
call KillUnit(SJG)
if GetPlayerController(GetOwningPlayer(p5))==MAP_CONTROL_COMPUTER then
call RemoveSavedHandle(L7,GetHandleId(p5),StringHash("AI|AncestralCharge"))
endif
call SaveInteger(L7,(GetHandleId((p5))),((4270)),(2))
if TDG>0 or T9G>0 then
set t=CreateTrigger()
set UL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,9.1,false)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function T7G))
call SaveUnitHandle(L7,(UL7),(2),(p5))
set HE8=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(p5),GetUnitY(p5),0)
call LP7(HE8,1093748537)
call SetUnitAbilityLevel(HE8,1093748537,TDG)
call IssueTargetOrder(HE8,"bloodlust",p5)
call HN8(p5,T9G)
call SaveEffectHandle(L7,(UL7),(32),(AddSpecialEffectTarget("war3mapImported\\RadianceHands.mdx",p5,"weapon")))
endif
set t=null
set HE8=null
endfunction
function TEG takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),M1)==false then
if IsUnitIllusion(GetEnumUnit())==false then
if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true then
set SI4=SI4+(SH4*10)
set SJ4=SJ4+5
else
set SI4=SI4+(SH4*3)
set SJ4=SJ4+1
endif
endif
call GroupAddUnit(M1,GetEnumUnit())
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",GetEnumUnit(),"chest"))
set w1=true
set W1=true
call HG8(SF4,GetEnumUnit(),ZG4,SG4)
set w1=false
set W1=false
endif
endfunction
function TFG takes real TGG,real THG,real TIG,real TJG,real TKG,real TMG returns real
local real TNG
local real TOG
local real TPG
local real TQG
local real TRG
local real TSG
local real TTG
local real REFLECTED_SCALED_V_X
local real REFLECTED_SCALED_V_Y
local real TUG
local real TVG
local real TWG
local real TXG
local real TYG
local real TZG
local real TAG
local real TBG
set TWG=TIG-TKG
set TXG=TJG-TMG
set TYG=-1*TXG
set TZG=TWG
set TAG=SquareRoot(TYG*TYG+TZG*TZG)
set TYG=TYG/ TAG
set TZG=TZG/ TAG
set TNG=TGG-TIG
set TOG=THG-TJG
set TPG=SquareRoot(TNG*TNG+TOG*TOG)
set TQG=TNG/ TPG
set TRG=TOG/ TPG
set TBG=TNG*TYG+TOG*TZG
set TSG=-1*TGG+2*TIG+2*TYG*TBG
set TTG=-1*THG+2*TJG+2*TZG*TBG
set TUG=TKG+TIG-TSG
set TVG=TMG+TJG-TTG
return TUG
endfunction
function TCG takes real TGG,real THG,real TIG,real TJG,real TKG,real TMG returns real
local real TNG
local real TOG
local real TPG
local real TQG
local real TRG
local real TSG
local real TTG
local real REFLECTED_SCALED_V_X
local real REFLECTED_SCALED_V_Y
local real TUG
local real TVG
local real TWG
local real TXG
local real TYG
local real TZG
local real TAG
local real TBG
set TWG=TIG-TKG
set TXG=TJG-TMG
set TYG=-1*TXG
set TZG=TWG
set TAG=SquareRoot(TYG*TYG+TZG*TZG)
set TYG=TYG/ TAG
set TZG=TZG/ TAG
set TNG=TGG-TIG
set TOG=THG-TJG
set TPG=SquareRoot(TNG*TNG+TOG*TOG)
set TQG=TNG/ TPG
set TRG=TOG/ TPG
set TBG=TNG*TYG+TOG*TZG
set TSG=-1*TGG+2*TIG+2*TYG*TBG
set TTG=-1*THG+2*TJG+2*TZG*TBG
set TUG=TKG+TIG-TSG
set TVG=TMG+TJG-TTG
return TVG
endfunction
function T3G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UL7=GetHandleId(t)
local unit p5=(LoadUnitHandle(L7,(UL7),(2)))
local unit SJG=(LoadUnitHandle(L7,(UL7),(335)))
local real x0=(LoadReal(L7,(UL7),(282)))
local real y0=(LoadReal(L7,(UL7),(283)))
local real x1=GetUnitX(p5)
local real y1=GetUnitY(p5)
local real x2=GetUnitX(SJG)
local real y2=GetUnitY(SJG)
local real x3
local real y3
local real a
local group G9E=(LoadGroupHandle(L7,(UL7),(187)))
local group g
local real d
local integer BK7=GetUnitAbilityLevel(p5,1093747000)
local real T6G=(LoadReal(L7,(UL7),(342)))
local real H38=(TimerGetElapsed(W))
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call CZ7(G9E)
call FlushChildHashtable(L7,(UL7))
call U37(t)
call ShowUnit(SJG,false)
call KillUnit(SJG)
if GetPlayerController(GetOwningPlayer(p5))==MAP_CONTROL_COMPUTER then
call RemoveSavedHandle(L7,GetHandleId(p5),StringHash("AI|AncestralCharge"))
endif
call SaveInteger(L7,(GetHandleId((p5))),((4270)),(2))
if(LoadInteger(L7,(GetHandleId(p5)),(704)))==0 or(LoadInteger(L7,(GetHandleId(p5)),(704)))==1093747000 then
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093747000,true)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093815881,false)
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093815881 then
call IssueImmediateOrder(SJG,"stop")
call SaveBoolean(L7,(UL7),(249),(true))
call SetUnitAnimationByIndex(SJG,3)
call T4G(GetTriggerUnit())
elseif GetSpellAbilityId()==1093815371 then
if IssueImmediateOrder(p5,"charm")then
call UnitRemoveAbility(SJG,1093815371)
endif
endif
elseif RI7(x1,y1,x2,y2)<100 then
call T8G(p5,SJG,(LoadInteger(L7,(UL7),(344))),(LoadInteger(L7,(UL7),(345))))
call CZ7(G9E)
call FlushChildHashtable(L7,(UL7))
call U37(t)
if(LoadInteger(L7,(GetHandleId(p5)),(704)))==0 or(LoadInteger(L7,(GetHandleId(p5)),(704)))==1093747000 then
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093747000,true)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093815881,false)
elseif GetTriggerEvalCount(t)>400 or(LoadBoolean(L7,(UL7),(249)))==true then
call LP7(SJG,1097625443)
if GetTriggerEvalCount(t)==401 and(LoadBoolean(L7,(UL7),(249)))==false then
call IssueImmediateOrder(SJG,"stop")
call SetUnitAnimationByIndex(SJG,3)
endif
set g=CA7()
set SH4=BK7
set SI4=(LoadInteger(L7,(UL7),(344)))
set SJ4=(LoadInteger(L7,(UL7),(345)))
set SG4=80+40*BK7
set SF4=p5
set IN4=p5
set M1=G9E
call GroupEnumUnitsInRange(g,GetUnitX(SJG),GetUnitY(SJG),300,Condition(function FW8))
call ForGroup(g,function TEG)
call CZ7(g)
set g=null
call SaveInteger(L7,(UL7),(344),(SI4))
call SaveInteger(L7,(UL7),(345),(SJ4))
if((LoadInteger(L7,(GetHandleId((p5))),((4269))))==1)==false then
set a=Atan2(y1-y2,x1-x2)
call SetUnitFacing(SJG,a*bj_RADTODEG)
set x3=GetUnitX(SJG)+12*Cos(a)
set y3=GetUnitY(SJG)+12*Sin(a)
call SetUnitX(SJG,DD8(x3))
call SetUnitY(SJG,DE8(y3))
call SaveReal(L7,(UL7),(282),((x1)*1.0))
call SaveReal(L7,(UL7),(283),((y1)*1.0))
endif
else
call SetUnitMoveSpeed(SJG,GetUnitMoveSpeed(p5))
call UnitRemoveAbility(SJG,1097625443)
set g=CA7()
set SH4=BK7
set SI4=(LoadInteger(L7,(UL7),(344)))
set SJ4=(LoadInteger(L7,(UL7),(345)))
set SG4=80+40*BK7
set SF4=p5
set IN4=p5
set M1=G9E
call GroupEnumUnitsInRange(g,GetUnitX(SJG),GetUnitY(SJG),300,Condition(function FW8))
call ForGroup(g,function TEG)
call CZ7(g)
set g=null
call SaveInteger(L7,(UL7),(344),(SI4))
call SaveInteger(L7,(UL7),(345),(SJ4))
if x0!=x1 or y0!=y1 then
set T6G=H38
call SaveReal(L7,(UL7),(342),((T6G)*1.0))
endif
if((LoadInteger(L7,(GetHandleId((p5))),((4269))))==1)==false then
if T6G==H38 then
set x3=TFG(x0,y0,x1,y1,x2,y2)
set y3=TCG(x0,y0,x1,y1,x2,y2)
set a=Atan2(y3-y2,x3-x2)*bj_RADTODEG
call SaveReal(L7,(UL7),(282),((x1)*1.0))
call SaveReal(L7,(UL7),(283),((y1)*1.0))
endif
if(T6G+0.3)<H38 then
call SaveInteger(L7,(UL7),(343),(1))
elseif(T6G+0.3)>H38 and(LoadInteger(L7,(UL7),(343)))==1 then
call SaveInteger(L7,(UL7),(343),(2))
elseif(LoadInteger(L7,(UL7),(343)))==3 then
call SaveInteger(L7,(UL7),(343),(1))
endif
else
call SaveInteger(L7,(UL7),(343),(3))
endif
endif
set t=null
set p5=null
set SJG=null
set G9E=null
return false
endfunction
function TLG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UL7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local real x0=GetUnitX(p5)
local real y0=GetUnitY(p5)
local location l=GetSpellTargetLoc()
local real QFD=GetLocationX(l)
local real QGD=GetLocationY(l)
local real a=Atan2(QGD-y0,QFD-x0)
local real d=DU8(RI7(x0,y0,QFD,QGD),300)
local real x1=DD8(x0+d*Cos(a))
local real y1=DE8(y0+d*Sin(a))
local unit SJG=CreateUnit(GetOwningPlayer(p5),1747990357,x1,y1,(a*bj_RADTODEG)-180)
call SetUnitMoveSpeed(SJG,GetUnitMoveSpeed(p5))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",SJG,"chest"))
if GetUnitAbilityLevel(p5,1093747524)>0 then
call LP7(SJG,1093747537)
endif
if GetUnitAbilityLevel(p5,1093747009)==0 then
call UnitRemoveAbility(SJG,1093815371)
endif
call UnitAddAbility(p5,1093815881)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093747000,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093815881,true)
call RemoveLocation(l)
set SK4[GetPlayerId(GetOwningPlayer(p5))]=SJG
call SaveInteger(L7,(GetHandleId((p5))),((4270)),(1))
call LP7(SJG,1098282348)
call LP7(SJG,1097167980)
if(LoadBoolean(L7,(GetHandleId(p5)),(339)))==true then
call TriggerEvaluate((LoadTriggerHandle(L7,(UL7),(338))))
endif
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(t,SJG,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function T3G))
call SaveUnitHandle(L7,(UL7),(2),(p5))
call SaveUnitHandle(L7,(UL7),(335),(SJG))
call SaveReal(L7,(UL7),(282),((x0)*1.0))
call SaveReal(L7,(UL7),(283),((y0)*1.0))
call SaveGroupHandle(L7,(UL7),(187),(CA7()))
call SaveInteger(L7,(UL7),(343),(2))
call SaveReal(L7,(UL7),(342),(((TimerGetElapsed(W))-5)*1.0))
call SaveBoolean(L7,(UL7),(249),(false))
if GetPlayerController(GetOwningPlayer(p5))==MAP_CONTROL_COMPUTER then
call TX7(GetHandleId(p5),"AI|AncestralCharge",SJG)
endif
set t=null
set p5=null
set SJG=null
endfunction
function T1G takes nothing returns boolean
if GetSpellAbilityId()==1093747000 then
call TLG()
endif
return false
endfunction
function TZ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function T1G))
call DH8(1093748537)
set t=null
endfunction
function T0G takes nothing returns boolean
if GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER and(GetItemTypeId(GetManipulatedItem())==ZU[H6]or GetItemTypeId(GetManipulatedItem())==ZU[G6]or GetItemTypeId(GetManipulatedItem())==ZU[N6])then
call UnitRemoveAbility(GetTriggerUnit(),1093743681)
endif
return false
endfunction
function T5G takes unit u,integer d returns nothing
local texttag t=CreateTextTag()
call SetTextTagText(t,"+"+I2S(d)+" "+GetObjectName(1848659025),0.03)
call SetTextTagPosUnit(t,u,0)
call SetTextTagColorBJ(t,50,75,255,15)
call SetTextTagVelocity(t,0,0.035)
call SetTextTagFadepoint(t,3)
call SetTextTagLifespan(t,2.5)
call SetTextTagPermanent(t,false)
call SetTextTagVisibility(t,false)
call SetTextTagVisibility(t,true)
if IsUnitVisible(u,GetLocalPlayer())or CP7(GetLocalPlayer())then
call SetTextTagVisibility(t,true)
else
call SetTextTagVisibility(t,false)
endif
set t=null
endfunction
function T2G takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
if GetSpellAbilityId()==1093678387 and GetUnitState(p5,UNIT_STATE_LIFE)>1 then
call SetUnitState(p5,UNIT_STATE_MANA,GetUnitState(p5,UNIT_STATE_MANA)+GetUnitState(m5,UNIT_STATE_LIFE)*GetUnitAbilityLevel(p5,1093678387)*0.15)
call T5G(m5,R2I(GetUnitState(m5,UNIT_STATE_LIFE)*GetUnitAbilityLevel(p5,1093678387)*0.15))
call KillUnit(m5)
endif
set p5=null
set m5=null
endfunction
function T_G takes nothing returns boolean
if GetSpellAbilityId()==1093678387 and RZ7(GetSpellTargetUnit())==false then
call T2G()
endif
return false
endfunction
function U4G takes item JP8,unit EL8,boolean LZD returns nothing
local integer EM9=RB7(JP8)
local integer OL7=GetHandleId(EL8)
local string s=""
if(EM9==EW and SX7(EL8,EW,JP8)==null)or(EM9==HW and SX7(EL8,HW,JP8)==null)then
if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(EL8))==true or CP7(GetLocalPlayer())then
set s=LY4
endif
if LZD then
if D3F(EL8)>0 or GetItemType(JP8)==ITEM_TYPE_PERMANENT or GetItemType(JP8)==ITEM_TYPE_CAMPAIGN then
if GetUnitAbilityLevel(EL8,1093809729)==0 and GetUnitAbilityLevel(EL8,1093809730)==0 then
if s==LY4 then
call LP7(EL8,1093809729)
else
call LP7(EL8,1093809730)
endif
endif
endif
else
if not(GetUnitAbilityLevel(EL8,1093809729)==0 and GetUnitAbilityLevel(EL8,1093809730)==0)then
call UnitRemoveAbility(EL8,1093809730)
call UnitRemoveAbility(EL8,1093809729)
call RemoveSavedHandle(L7,(OL7),(670))
endif
endif
endif
endfunction
function U7G takes nothing returns boolean
local unit p5=GetTriggerUnit()
local item JP8=GetManipulatedItem()
local integer id=GetItemTypeId(JP8)
if JP8==null or IsUnitIllusion(p5)==true or IsUnitType(p5,UNIT_TYPE_HERO)==false or J98(GetUnitTypeId(p5))or GetItemTypeId(JP8)==1227894853 or GetItemTypeId(JP8)==1227895373 then
set p5=null
set JP8=null
return false
endif
if(GetTriggerEventId()==EVENT_PLAYER_UNIT_DROP_ITEM and GetItemType(JP8)!=ITEM_TYPE_PURCHASABLE)or GetTriggerEventId()==EVENT_PLAYER_UNIT_PAWN_ITEM then
call U4G(JP8,p5,false)
call IM8("DRI_"+I2S(GetPlayerId(GetOwningPlayer(p5))),ZU[ED9(RB7(JP8))])
elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_PICKUP_ITEM then
call U4G(JP8,p5,true)
call IM8("PUI_"+I2S(GetPlayerId(GetOwningPlayer(p5))),ZU[ED9(RB7(JP8))])
endif
set p5=null
set JP8=null
return false
endfunction
function U8G takes unit EI9 returns nothing
local integer U9G=GetPlayerId(GetOwningPlayer(EI9))
local integer UDG=EH9(EI9,1)
local integer UEG=GetUnitAbilityLevel(EI9,HM4[UDG])
call UnitRemoveAbility(EI9,HR4[UDG])
call UnitRemoveAbility(EI9,1094004784)
call DisableTrigger(rj[U9G])
call DisableTrigger(Ej[U9G])
call UnitRemoveAbility(EI9,1093686081)
if UDG==43 then
call TT7(GetHandleId(EI9),"RefractionPrevent_Remaining",0)
call TT7(GetHandleId(EI9),"RefractionDamage_Remaining",0)
call UnitRemoveAbility(EI9,1093685830)
call UnitRemoveAbility(EI9,1093685837)
call UnitRemoveAbility(EI9,1093685838)
endif
call B07(rj[U9G])
call B07(Ej[U9G])
if UEG>0 then
call UnitAddAbility(EI9,1094004784)
call SetUnitAbilityLevel(EI9,1094004784,UEG)
endif
set rj[U9G]=null
set Ej[U9G]=null
endfunction
function UFG takes unit EI9 returns nothing
local integer U9G=GetPlayerId(GetOwningPlayer(EI9))
local integer UDG=EH9(EI9,2)
local integer UGG=GetUnitAbilityLevel(EI9,HN4[UDG])
local integer i=1
call UnitRemoveAbility(EI9,HS4[UDG])
call UnitRemoveAbility(EI9,1094004785)
call DisableTrigger(aj[U9G])
call DisableTrigger(Rj[U9G])
if UDG==59 then
call UnitRemoveAbility(EI9,1093677617)
call TT7(GetHandleId(EI9),"TotalWebs",0)
loop
exitwhen i>8
call RemoveUnit(UE7(GetHandleId(EI9),"Web"+I2S(i)))
set i=i+1
endloop
endif
if UDG==62 then
call UnitRemoveAbility(EI9,1093679171)
call RemoveUnit(UE7(GetHandleId(Rj[U9G]),"VisionUnit"))
if GetUnitAbilityLevel(EI9,1093679158)==0 then
call UnitRemoveAbility(EI9,1093742902)
call UnitRemoveAbility(EI9,1093742903)
endif
endif
if UDG==78 then
call HN8(EI9,0)
endif
call B07(aj[U9G])
call B07(Rj[U9G])
if UGG>0 then
call UnitAddAbility(EI9,1094004785)
call SetUnitAbilityLevel(EI9,1094004785,UGG)
endif
set aj[U9G]=null
set Rj[U9G]=null
endfunction
function Vge takes nothing returns nothing
call UnitShareVision(GetEnumUnit(),GetOwningPlayer(D8),false)
endfunction
function UHG takes unit EI9 returns nothing
local integer U9G=GetPlayerId(GetOwningPlayer(EI9))
local integer UDG=EH9(EI9,3)
local integer UIG=GetUnitAbilityLevel(EI9,HO4[UDG])
local group g=null
call UnitRemoveAbility(EI9,HT4[UDG])
call UnitRemoveAbility(EI9,1094004786)
call DisableTrigger(nj[U9G])
call DisableTrigger(Aj[U9G])
call UnitRemoveAbility(EI9,1093743428)
if UDG==15 then
call UnitRemoveAbility(EI9,1093747537)
call ForGroup(UJ7(GetHandleId(nj[U9G]),"ActiveGroup"),function SOG)
call CZ7(UJ7(GetHandleId(nj[U9G]),"ActiveGroup"))
endif
if UDG==27 then
call UnitRemoveAbility(EI9,1093684826)
endif
if UDG==38 then
call UnitRemoveAbility(EI9,1093748291)
endif
if UDG==41 then
call DestroyEffect(UK7(GetHandleId(EI9),"OverloadFX1"))
call DestroyEffect(UK7(GetHandleId(EI9),"OverloadFX2"))
endif
if UDG==42 then
call DestroyEffect(UK7(GetHandleId(nj[U9G]),"FX1"))
call DestroyEffect(UK7(GetHandleId(nj[U9G]),"FX2"))
call HN8(EI9,0)
call HR8(EI9,0)
endif
if UDG==58 then
call RemoveUnit(UE7(GetHandleId(EI9),"FeralHeartCaster"))
endif
if UDG==60 then
call SetUnitVertexColorBJ(EI9,100,100,100,0)
call UnitRemoveAbility(EI9,1093743430)
call UnitRemoveAbility(EI9,1093743432)
call UnitRemoveAbility(EI9,1093743431)
call UnitRemoveAbility(EI9,1110458674)
call UnitRemoveAbility(EI9,1110458673)
call UnitRemoveAbility(EI9,1110458675)
call UnitRemoveAbility(EI9,1093743433)
call UnitRemoveAbility(EI9,1110458672)
endif
if UDG==62 then
call UnitRemoveAbility(EI9,1395667009)
call RemoveUnit(UE7(GetHandleId(Aj[U9G]),"VisionUnit"))
if GetUnitAbilityLevel(EI9,1093679173)==0 then
call UnitRemoveAbility(EI9,1093742902)
call UnitRemoveAbility(EI9,1093742903)
endif
endif
if UDG==87 then
call UnitRemoveAbility(EI9,1093685068)
call UnitRemoveAbility(EI9,1093685069)
call UnitRemoveAbility(EI9,1093685070)
call UnitRemoveAbility(EI9,1093685064)
endif
call B07(nj[U9G])
call B07(Aj[U9G])
if UIG>0 then
call UnitAddAbility(EI9,1094004786)
call SetUnitAbilityLevel(EI9,1094004786,UIG)
endif
set nj[U9G]=null
set Aj[U9G]=null
set g=null
endfunction
function UJG takes unit EI9 returns nothing
local integer U9G=GetPlayerId(GetOwningPlayer(EI9))
local integer UDG=EH9(EI9,4)
local boolean K2D=SU7(EI9,ZU[GX4])
local integer UKG=GetUnitAbilityLevel(EI9,HP4[UDG])
if K2D and HQ4[UDG]!=0 then
set UKG=GetUnitAbilityLevel(EI9,HQ4[UDG])
endif
call UnitRemoveAbility(EI9,HU4[UDG])
call UnitRemoveAbility(EI9,HV4[UDG])
call UnitRemoveAbility(EI9,1094004787)
call DisableTrigger(Vj[U9G])
call DisableTrigger(Nj[U9G])
call UnitRemoveAbility(EI9,1093684546)
call UnitRemoveAbility(EI9,1093677652)
call UnitRemoveAbility(EI9,1093685844)
call UnitRemoveAbility(EI9,1093683265)
call UnitRemoveAbility(EI9,1093749061)
call UnitRemoveAbility(EI9,1110459193)
call UnitRemoveAbility(EI9,1093749062)
call UnitRemoveAbility(EI9,1110459193)
call UnitRemoveAbility(EI9,1093749063)
call UnitRemoveAbility(EI9,1110459193)
if UDG==29 then
call RemoveUnit(UE7(GetHandleId(EI9),"Warpath|Caster"))
call HN8(EI9,0)
endif
call B07(Vj[U9G])
call B07(Nj[U9G])
if UKG>0 then
call UnitAddAbility(EI9,1094004787)
call SetUnitAbilityLevel(EI9,1094004787,UKG)
endif
call TimerStart(N84[U9G],0,false,null)
set Vj[U9G]=null
set Nj[U9G]=null
endfunction
function UMG takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit EI9=UE7(GetHandleId(t),"FormlessUnit")
local integer UNG=UQ7(GetHandleId(t),"V08")
call IssueImmediateOrder(EI9,"unimmolation")
if UNG==1094004788 then
call U8G(EI9)
call UFG(EI9)
call UHG(EI9)
call UJG(EI9)
elseif UNG==1094004789 then
call U8G(EI9)
elseif UNG==1094004790 then
call UFG(EI9)
elseif UNG==1094004791 then
call UHG(EI9)
elseif UNG==1094004792 then
call UJG(EI9)
endif
call DestroyTimer(t)
set EI9=null
set t=null
endfunction
function UOG takes unit EI9,integer UNG returns nothing
local integer U9G=GetPlayerId(GetOwningPlayer(EI9))
local timer t=CreateTimer()
call IssueImmediateOrder(EI9,"stop")
call TX7(GetHandleId(t),"FormlessUnit",EI9)
call TT7(GetHandleId(t),"V08",UNG)
call TimerStart(t,0,false,function UMG)
set t=null
endfunction
function UPG takes nothing returns boolean
if GetSpellAbilityId()==1094004788 or GetSpellAbilityId()==1094004789 or GetSpellAbilityId()==1094004790 or GetSpellAbilityId()==1094004791 or GetSpellAbilityId()==1094004792 then
call UOG(GetTriggerUnit(),GetSpellAbilityId())
endif
return false
endfunction
function V08 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function UPG))
set t=null
endfunction
function UQG takes nothing returns boolean
return GetSpellAbilityId()==1094004784 or GetSpellAbilityId()==1094004785 or GetSpellAbilityId()==1094004786 or GetSpellAbilityId()==1094004787
endfunction
function URG takes nothing returns nothing
local unit EI9=GetTriggerUnit()
local player p=GetOwningPlayer(EI9)
local integer USG=GetUnitPointValue(GetSpellTargetUnit())
local integer UTG=GetUnitAbilityLevel(EI9,GetSpellAbilityId())
local integer UUG=GetSpellAbilityId()
local integer U9G=GetPlayerId(p)
local unit KK8=null
local integer UVG=0
local integer UWG=0
local integer UXG=0
local string UYG=""
local string UZG=""
local boolean K2D=SU7(EI9,ZU[GX4])
local trigger t
local integer UAG=EH9(EI9,1)
local integer UBG=EH9(EI9,2)
local integer UCG=EH9(EI9,3)
local integer U3G=EH9(EI9,4)
if UUG==1094004784 then
set UVG=HM4[USG]
set UWG=HR4[USG]
set UYG=HW4[USG]
set UZG="Abilities\\Spells\\Items\\AIsm\\AIsmTarget.mdl"
elseif UUG==1094004785 then
set UVG=HN4[USG]
set UWG=HS4[USG]
set UYG=HX4[USG]
set UZG="Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl"
elseif UUG==1094004786 then
set UVG=HO4[USG]
set UWG=HT4[USG]
set UYG=HY4[USG]
set UZG="Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl"
elseif UUG==1094004787 then
set UVG=HP4[USG]
set UWG=HU4[USG]
set UYG=HZ4[USG]
set UZG="Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl"
if K2D==true and HQ4[USG]!=0 then
set UVG=HQ4[USG]
set UWG=HV4[USG]
endif
endif
if UWG==0 then
call D78(p,"Unable to copy "+GetAbilityName(UVG)+".")
elseif bj[U9G]==false and UYG!="passive" and(UYG==HW4[UAG]or UYG==HX4[UBG]or UYG==HY4[UCG]or UYG==HZ4[U3G])then
if UYG==HW4[UAG]then
set UXG=HM4[UAG]
elseif UYG==HX4[UBG]then
set UXG=HN4[UBG]
elseif UYG==HY4[UCG]then
set UXG=HO4[UCG]
elseif UYG==HZ4[U3G]then
set UXG=HP4[U3G]
endif
call D78(p,"Cannot copy "+GetAbilityName(UVG)+" because you already
        have an ability with this base order ("+GetAbilityName(UXG)+").
        Use -override to disable this.")
else
call DestroyEffect(AddSpecialEffectTarget(UZG,EI9,"origin"))
call UnitRemoveAbility(EI9,UUG)
call UnitAddAbility(EI9,UVG)
call UnitAddAbility(EI9,UWG)
call SetPlayerAbilityAvailable(p,UWG,false)
call SetUnitAbilityLevel(EI9,UVG,UTG)
if UVG==1093686073 then
call UnitAddAbility(EI9,1093686081)
elseif UVG==1093742926 then
call UnitAddAbility(EI9,1093743428)
elseif UVG==1093677130 then
call UnitAddAbility(EI9,1093684546)
call SetUnitAbilityLevel(EI9,1093684546,UTG)
elseif UVG==1093681483 or UVG==1093748313 then
call UnitAddAbility(EI9,1093687110)
elseif UVG==1093685840 then
call UnitAddAbility(EI9,1093685844)
elseif UVG==1093683257 then
call UnitAddAbility(EI9,1093683265)
endif
if UVG==1093682265 then
call DQD(EI9,true)
elseif UVG==1093744728 then
call RMG(EI9,true)
elseif UVG==1093684314 then
call OJD(EI9,true)
elseif UVG==1093747524 then
call SRG(EI9,true)
elseif UVG==1093744977 then
call S2D(EI9,true)
elseif UVG==1093684531 then
call BC9(EI9,true)
elseif UVG==1093682774 then
call BU9(EI9,true)
elseif UVG==1093749073 then
call B79(EI9,true)
elseif UVG==1093685048 then
call G9D(EI9,true)
elseif UVG==1093685591 then
call Q7D(EI9,true)
elseif UVG==1093685582 then
call FPD(EI9,true)
elseif UVG==1093685585 then
call FVD(EI9,true)
elseif UVG==1093748033 then
call U9D(EI9,true)
elseif UVG==1093677893 then
call CGE(EI9,true)
elseif UVG==1093681735 then
call XLD(EI9,true)
elseif UVG==1093679173 or UVG==1093679158 then
call I3E(EI9,true,UVG)
elseif UVG==1093682010 then
call ZLD(EI9,true)
elseif UVG==1093679153 then
call AZD(EI9,true)
elseif UVG==1093748022 then
call N8E(EI9,true)
elseif UVG==1093686099 then
call YFF(EI9,true)
elseif UVG==1093678149 then
call RVE(EI9,true)
elseif UVG==1093677390 then
call HOE(EI9,true)
elseif UVG==1093678660 then
elseif UVG==1093682515 then
call QJE(EI9,true)
elseif UVG==1093682004 then
elseif UVG==1093684819 or UVG==1093747777 then
call WID(EI9,true)
elseif UVG==1093684801 then
call PBE(EI9,true)
elseif UVG==1093685065 then
call YUD(EI9,true)
elseif UVG==1093683526 then
call YSD(EI9,true)
elseif UVG==1093749070 then
call X1E(EI9,true)
endif
endif
set EI9=null
set p=null
set t=null
endfunction
function V18 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function UQG))
call TriggerAddAction(t,function URG)
set t=null
endfunction
function U6G takes nothing returns boolean
return(GetLearnedSkill()==1094004784 or GetLearnedSkill()==1094004785 or GetLearnedSkill()==1094004786 or GetLearnedSkill()==1094004787)and GetUnitAbilityLevel(GetTriggerUnit(),1094004788)==0 and GetUnitAbilityLevel(GetTriggerUnit(),1094004789)==0 and GetUnitAbilityLevel(GetTriggerUnit(),1094004790)==0 and GetUnitAbilityLevel(GetTriggerUnit(),1094004791)==0 and GetUnitAbilityLevel(GetTriggerUnit(),1094004792)==0
endfunction
function ULG takes nothing returns boolean
return GetIssuedOrderId()==OrderId("replenishon")
endfunction
function U1G takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit U0G=UE7(GetHandleId(t),"FormlessUnit")
local integer U5G
call IssueImmediateOrder(U0G,"replenishoff")
if GetUnitAbilityLevel(U0G,1094004788)>0 then
set U5G=1094004793
elseif GetUnitAbilityLevel(U0G,1094004789)>0 then
set U5G=1094004801
elseif GetUnitAbilityLevel(U0G,1094004790)>0 then
set U5G=1094004802
elseif GetUnitAbilityLevel(U0G,1094004791)>0 then
set U5G=1094004803
elseif GetUnitAbilityLevel(U0G,1094004792)>0 then
set U5G=0
endif
call UnitRemoveAbility(U0G,1094004793)
call UnitRemoveAbility(U0G,1094004801)
call UnitRemoveAbility(U0G,1094004802)
call UnitRemoveAbility(U0G,1094004803)
if U5G!=0 then
call UnitAddAbility(U0G,U5G)
call SetPlayerAbilityAvailable(GetOwningPlayer(U0G),U5G,false)
endif
call TQ7(GetHandleId(t))
call DestroyTimer(t)
set t=null
set U0G=null
endfunction
function U2G takes nothing returns nothing
local unit U0G=GetTriggerUnit()
local timer t=CreateTimer()
call TX7(GetHandleId(t),"FormlessUnit",U0G)
call TimerStart(t,0,false,function U1G)
set U0G=null
set t=null
endfunction
function U_G takes nothing returns nothing
local integer U9G=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
local trigger t=CreateTrigger()
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_ISSUED_ORDER)
call TriggerAddCondition(t,Condition(function ULG))
call TriggerAddAction(t,function U2G)
if GetLearnedSkill()!=1094004784 then
call UnitAddAbility(GetTriggerUnit(),1094004784)
call UnitRemoveAbility(GetTriggerUnit(),1094004784)
elseif GetLearnedSkill()!=1094004785 then
call UnitAddAbility(GetTriggerUnit(),1094004785)
call UnitRemoveAbility(GetTriggerUnit(),1094004785)
elseif GetLearnedSkill()!=1094004786 then
call UnitAddAbility(GetTriggerUnit(),1094004786)
call UnitRemoveAbility(GetTriggerUnit(),1094004786)
elseif GetLearnedSkill()!=1094004787 then
call UnitAddAbility(GetTriggerUnit(),1094004787)
call UnitRemoveAbility(GetTriggerUnit(),1094004787)
endif
call UnitAddAbility(GetTriggerUnit(),1094004789)
call UnitRemoveAbility(GetTriggerUnit(),1094004789)
call UnitAddAbility(GetTriggerUnit(),1094004790)
call UnitRemoveAbility(GetTriggerUnit(),1094004790)
call UnitAddAbility(GetTriggerUnit(),1094004791)
call UnitRemoveAbility(GetTriggerUnit(),1094004791)
call UnitAddAbility(GetTriggerUnit(),1094004792)
call UnitRemoveAbility(GetTriggerUnit(),1094004792)
call UnitAddAbility(GetTriggerUnit(),1094004788)
set t=null
endfunction
function V58 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function U6G))
call TriggerAddAction(t,function U_G)
set t=null
endfunction
function V4G takes nothing returns nothing
local unit CL7=GetTriggerUnit()
local player p=GetOwningPlayer(CL7)
local real x
local real y
local integer J28
set IG4[GetPlayerId(GetOwningPlayer((CL7)))]=false
if ZL7(GetOwningPlayer(CL7))then
set x=GetRectCenterX(ED)
set y=GetRectCenterY(ED)
else
set x=GetRectCenterX(L9)
set y=GetRectCenterY(L9)
endif
call TimerStart(U[GetPlayerId(p)],0.0,false,null)
if J18(CL7)then
call KG8(CL7)
else
call J68(CL7,p,x,y,false)
endif
call SetUnitX(CL7,x)
call SetUnitY(CL7,y)
call JB8(CL7)
call SetUnitPathing(CL7,true)
if SY7(CL7,ZU[DI4])!=null and GetUnitTypeId(CL7)!=1211117642 then
set J28=(R2I(((GetItemCharges(SY7(CL7,ZU[DI4]))*0.67)*1.0)))
if GetItemCharges(SY7(CL7,ZU[DI4]))==1 then
set J28=0
endif
call SetItemCharges(SY7(CL7,ZU[DI4]),J28)
call AddHeroXP(CL7,GetHeroXP(OA4[GetPlayerId(GetOwningPlayer(CL7))]),true)
call RemoveUnit(OA4[GetPlayerId(GetOwningPlayer(CL7))])
endif
if RZ4 and GetUnitPointValue(CL7)==500 then
call UOG(CL7,1094004788)
endif
set CL7=null
set p=null
endfunction
function V7G takes unit V8G,integer V9G returns nothing
call UnitRemoveAbility(V8G,1094006068)
call UnitRemoveAbility(V8G,1094006069)
call UnitRemoveAbility(V8G,1094006070)
call UnitRemoveAbility(V8G,1094006071)
call UnitRemoveAbility(V8G,1094006072)
if V9G>=16 then
call UnitAddAbility(V8G,1094006072)
set V9G=V9G-16
endif
if V9G>=8 then
call UnitAddAbility(V8G,1094006071)
set V9G=V9G-8
endif
if V9G>=4 then
call UnitAddAbility(V8G,1094006070)
set V9G=V9G-4
endif
if V9G>=2 then
call UnitAddAbility(V8G,1094006069)
set V9G=V9G-2
endif
if V9G>=1 then
call UnitAddAbility(V8G,1094006068)
set V9G=V9G-1
endif
endfunction
function VDG takes nothing returns boolean
return GetSpellAbilityId()==1094006064
endfunction
function VEG takes nothing returns nothing
local unit V8G=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer VFG=(1+GetUnitAbilityLevel(V8G,1094006064))*GetHeroStr(V8G,true)
local integer VGG=UQ7(GetHandleId(V8G),"iPFCount")+1
local integer V9G=UQ7(GetHandleId(V8G),"iPFStrength")
local integer VHG=V9G
if VGG>9 then
set VGG=0
set VHG=DQ8(5*GetUnitAbilityLevel(V8G,1094006064),V9G+1)
if VHG!=V9G then
call V7G(V8G,VHG)
if m5!=V8G then
call DL8("+1 Strength",3,V8G,.023,255,0,0,255)
endif
endif
endif
call SetUnitState(m5,UNIT_STATE_LIFE,GetUnitState(m5,UNIT_STATE_LIFE)+VFG)
if VGG!=0 or m5!=V8G or VHG==V9G then
call DL8("+"+I2S(VFG)+" HP",3,m5,.023,255,0,0,255)
else
call DL8("+"+I2S(VFG)+" HP
        +1 Strength",3,V8G,.023,255,0,0,255)
endif
call TT7(GetHandleId(V8G),"iPFCount",VGG)
call TT7(GetHandleId(V8G),"iPFStrength",VHG)
set V8G=null
set m5=null
endfunction
function VIG takes nothing returns boolean
return IG8(GetEventDamage())
endfunction
function VJG takes nothing returns nothing
local unit V8G=GetTriggerUnit()
local real VKG=UR7(GetHandleId(V8G),"rPFDamage")+GetEventDamage()
local integer V9G=UQ7(GetHandleId(V8G),"iPFStrength")
local integer VHG=V9G
if VKG>=500 then
set VKG=VKG-500
set VHG=DQ8(5*GetUnitAbilityLevel(V8G,1094006064),V9G+1)
if VHG!=V9G then
call V7G(V8G,VHG)
call DL8("+1 Strength",3,V8G,.023,255,0,0,255)
endif
endif
call TU7(GetHandleId(V8G),"rPFDamage",VKG)
call TT7(GetHandleId(V8G),"iPFStrength",VHG)
set V8G=null
endfunction
function VMG takes nothing returns boolean
return GetLearnedSkill()==1094006064 and GetUnitAbilityLevel(GetTriggerUnit(),1094006064)==1
endfunction
function VNG takes nothing returns nothing
local unit V8G=GetTriggerUnit()
local trigger t=CreateTrigger()
call TriggerRegisterUnitEvent(t,V8G,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function VIG))
call TriggerAddAction(t,function VJG)
call TU7(GetHandleId(V8G),"rPFDamage",0)
call TT7(GetHandleId(V8G),"iPFCount",0)
call TT7(GetHandleId(V8G),"iPFStrength",0)
set t=null
set V8G=null
endfunction
function V28 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function VDG))
call TriggerAddAction(t,function VEG)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function VMG))
call TriggerAddAction(t,function VNG)
set t=null
endfunction
function VOG takes unit V8G,integer VPG returns nothing
call UnitRemoveAbility(V8G,1094006073)
call UnitRemoveAbility(V8G,1094006081)
call UnitRemoveAbility(V8G,1094006082)
call UnitRemoveAbility(V8G,1094006083)
call UnitRemoveAbility(V8G,1094006084)
if VPG>=16 then
call UnitAddAbility(V8G,1094006084)
set VPG=VPG-16
endif
if VPG>=8 then
call UnitAddAbility(V8G,1094006083)
set VPG=VPG-8
endif
if VPG>=4 then
call UnitAddAbility(V8G,1094006082)
set VPG=VPG-4
endif
if VPG>=2 then
call UnitAddAbility(V8G,1094006081)
set VPG=VPG-2
endif
if VPG>=1 then
call UnitAddAbility(V8G,1094006073)
set VPG=VPG-1
endif
endfunction
function VQG takes nothing returns boolean
return GetSpellAbilityId()==1094006065
endfunction
function VRG takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local unit m5=UE7(GetHandleId(t),"SFluxTarget")
call UnitRemoveAbility(m5,1094006090)
call UnitRemoveAbility(m5,1094006094)
call UnitRemoveAbility(m5,1094006095)
call UnitRemoveAbility(m5,1094006096)
call UnitRemoveAbility(m5,1110783306)
call UnitRemoveAbility(m5,1110783310)
call UnitRemoveAbility(m5,1110783311)
call UnitRemoveAbility(m5,1110783312)
call B07(t)
set t=null
set m5=null
endfunction
function VSG takes nothing returns nothing
local unit V8G=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local real VTG=0.25*GetHeroAgi(V8G,true)
local integer VUG=UQ7(GetHandleId(V8G),"iSFCount")+1
local integer VPG=UQ7(GetHandleId(V8G),"iSFAgility")
local integer VVG=VPG
local trigger t=CreateTrigger()
local integer BK7=GetUnitAbilityLevel(V8G,1094006065)
if VUG>9 then
set VUG=0
set VVG=DQ8(5*BK7,VPG+1)
if VVG!=VPG then
call VOG(V8G,VVG)
if m5!=V8G then
call DL8("+1 Agility",3,V8G,.023,0,255,0,255)
endif
endif
endif
call B07(UI7(GetHandleId(m5),"SFluxEndTrig"))
call UnitRemoveAbility(m5,1094006090)
call UnitRemoveAbility(m5,1094006094)
call UnitRemoveAbility(m5,1094006095)
call UnitRemoveAbility(m5,1094006096)
call UnitRemoveAbility(m5,1110783306)
call UnitRemoveAbility(m5,1110783310)
call UnitRemoveAbility(m5,1110783311)
call UnitRemoveAbility(m5,1110783312)
if BK7==1 then
call UnitAddAbility(m5,1094006090)
elseif BK7==2 then
call UnitAddAbility(m5,1094006094)
elseif BK7==3 then
call UnitAddAbility(m5,1094006095)
elseif BK7==4 then
call UnitAddAbility(m5,1094006096)
endif
call TriggerRegisterTimerEvent(t,VTG,false)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerAddAction(t,function VRG)
call TX7(GetHandleId(t),"SFluxTarget",m5)
call TZ7(GetHandleId(m5),"SFluxEndTrig",t)
if VUG!=0 or m5!=V8G or VVG==VPG then
call DL8(R2S(VTG)+" s",3,m5,.023,0,255,0,255)
else
call DL8(R2S(VTG)+" s
        +1 Agility",3,V8G,.023,0,255,0,255)
endif
call TT7(GetHandleId(V8G),"iSFCount",VUG)
call TT7(GetHandleId(V8G),"iSFAgility",VVG)
set V8G=null
set m5=null
set t=null
endfunction
function VWG takes nothing returns boolean
return IG8(GetEventDamage())
endfunction
function VXG takes nothing returns nothing
local unit V8G=GetTriggerUnit()
local integer VYG=UQ7(GetHandleId(V8G),"iSFHit")+1
local integer VPG=UQ7(GetHandleId(V8G),"iSFAgility")
local integer VVG=VPG
if VYG>=20 then
set VYG=0
set VVG=DQ8(5*GetUnitAbilityLevel(V8G,1094006065),VPG+1)
if VVG!=VPG then
call VOG(V8G,VVG)
call DL8("+1 Agility",3,V8G,.023,0,255,0,255)
endif
endif
call TT7(GetHandleId(V8G),"iSFHit",VYG)
call TT7(GetHandleId(V8G),"iSFAgility",VVG)
set V8G=null
endfunction
function VZG takes nothing returns boolean
return GetLearnedSkill()==1094006065 and GetUnitAbilityLevel(GetTriggerUnit(),1094006065)==1
endfunction
function VAG takes nothing returns nothing
local unit V8G=GetTriggerUnit()
local trigger t=CreateTrigger()
call TriggerRegisterUnitEvent(t,V8G,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function VWG))
call TriggerAddAction(t,function VXG)
call TT7(GetHandleId(V8G),"iSFHit",0)
call TT7(GetHandleId(V8G),"iSFCount",0)
call TT7(GetHandleId(V8G),"iSFAgility",0)
set t=null
set V8G=null
endfunction
function V_8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function VQG))
call TriggerAddAction(t,function VSG)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function VZG))
call TriggerAddAction(t,function VAG)
set t=null
endfunction
function VBG takes unit V8G,integer VCG returns nothing
call UnitRemoveAbility(V8G,1094006085)
call UnitRemoveAbility(V8G,1094006086)
call UnitRemoveAbility(V8G,1094006087)
call UnitRemoveAbility(V8G,1094006088)
call UnitRemoveAbility(V8G,1094006089)
if VCG>=16 then
call UnitAddAbility(V8G,1094006089)
set VCG=VCG-16
endif
if VCG>=8 then
call UnitAddAbility(V8G,1094006088)
set VCG=VCG-8
endif
if VCG>=4 then
call UnitAddAbility(V8G,1094006087)
set VCG=VCG-4
endif
if VCG>=2 then
call UnitAddAbility(V8G,1094006086)
set VCG=VCG-2
endif
if VCG>=1 then
call UnitAddAbility(V8G,1094006085)
set VCG=VCG-1
endif
endfunction
function V3G takes nothing returns boolean
return GetSpellAbilityId()==1094006066
endfunction
function V6G takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local unit m5=UE7(GetHandleId(t),"MFluxTarget")
local integer VLG=UQ7(GetHandleId(t),"iMFluxMP")
call SetUnitState(m5,UNIT_STATE_MANA,GetUnitState(m5,UNIT_STATE_MANA)+VLG)
call B07(t)
set t=null
set m5=null
endfunction
function V1G takes nothing returns nothing
local unit V8G=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer VLG=R2I(0.75*GetUnitAbilityLevel(V8G,1094006066)*GetHeroInt(V8G,true))
local integer V0G=UQ7(GetHandleId(V8G),"iMFCount")+1
local integer VCG=UQ7(GetHandleId(V8G),"iMFIntelligence")
local integer V5G=VCG
local trigger t=CreateTrigger()
if V0G>9 then
set V0G=0
set V5G=DQ8(5*GetUnitAbilityLevel(V8G,1094006066),VCG+1)
if V5G!=VCG then
call VBG(V8G,V5G)
if m5!=V8G then
call DL8("+1 Intelligence",3,V8G,.023,0,0,255,255)
endif
endif
endif
call TX7(GetHandleId(t),"MFluxTarget",m5)
call TT7(GetHandleId(t),"iMFluxMP",VLG)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddAction(t,function V6G)
if V0G!=0 or m5!=V8G or V5G==VCG then
call DL8("+"+I2S(VLG)+" MP",3,m5,.023,0,0,255,255)
else
call DL8("+"+I2S(VLG)+" MP
        +1 Intelligence",3,V8G,.023,0,0,255,255)
endif
call TT7(GetHandleId(V8G),"iMFCount",V0G)
call TT7(GetHandleId(V8G),"iMFIntelligence",V5G)
set V8G=null
set m5=null
set t=null
endfunction
function V2G takes nothing returns boolean
return GetSpellTargetUnit()==UE7(GetHandleId(GetTriggeringTrigger()),"uKappa")and IsUnitEnemy(UE7(GetHandleId(GetTriggeringTrigger()),"uKappa"),GetOwningPlayer(GetTriggerUnit()))
endfunction
function V_G takes nothing returns nothing
local unit V8G=GetSpellTargetUnit()
local integer W4G=UQ7(GetHandleId(V8G),"iMFCast")+1
local integer VCG=UQ7(GetHandleId(V8G),"iMFIntelligence")
local integer V5G=VCG
if W4G>=3 then
set W4G=0
set V5G=DQ8(5*GetUnitAbilityLevel(V8G,1094006066),VCG+1)
if V5G!=VCG then
call VBG(V8G,V5G)
call DL8("+1 Intelligence",3,V8G,.023,0,0,255,255)
endif
endif
call TT7(GetHandleId(V8G),"iMFCast",W4G)
call TT7(GetHandleId(V8G),"iMFIntelligence",V5G)
set V8G=null
endfunction
function W7G takes nothing returns boolean
return GetLearnedSkill()==1094006066 and GetUnitAbilityLevel(GetTriggerUnit(),1094006066)==1
endfunction
function W8G takes nothing returns nothing
local unit V8G=GetTriggerUnit()
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function V2G))
call TriggerAddAction(t,function V_G)
call TX7(GetHandleId(t),"uKappa",V8G)
call TT7(GetHandleId(V8G),"iMFCast",0)
call TT7(GetHandleId(V8G),"iMFCount",0)
call TT7(GetHandleId(V8G),"iMFIntelligence",0)
set t=null
set V8G=null
endfunction
function W48 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function V3G))
call TriggerAddAction(t,function V1G)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function W7G))
call TriggerAddAction(t,function W8G)
set t=null
endfunction
function W9G takes nothing returns boolean
return GetSpellAbilityId()==1094006067
endfunction
function WDG takes nothing returns nothing
local unit V8G=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer WEG=0
local integer WFG=0
if GetUnitAbilityLevel(V8G,1094006091)>0 then
set WFG=UQ7(GetHandleId(V8G),"iPFStrength")
elseif GetUnitAbilityLevel(V8G,1094006092)>0 then
set WFG=UQ7(GetHandleId(V8G),"iSFAgility")
elseif GetUnitAbilityLevel(V8G,1094006093)>0 then
set WFG=UQ7(GetHandleId(V8G),"iMFIntelligence")
endif
set WEG=WFG/2
if ModuloInteger(WFG,2)>0 then
set WEG=WEG+1
endif
set WFG=WFG/2
if GetUnitAbilityLevel(V8G,1094006091)>0 then
call V7G(V8G,0)
call TT7(GetHandleId(V8G),"iPFStrength",0)
call SetHeroStr(m5,GetHeroStr(m5,false)+WEG,true)
call SetHeroStr(V8G,GetHeroStr(V8G,false)+WFG,true)
call DL8("+"+I2S(WEG)+" Strength",3,m5,.023,255,0,0,255)
call DL8("+"+I2S(WFG)+" Strength",3,V8G,.023,255,0,0,255)
call TT7(GetHandleId(m5),"FluxStr",UQ7(GetHandleId(m5),"FluxStr")+WEG)
call TT7(GetHandleId(V8G),"FluxStr",UQ7(GetHandleId(V8G),"FluxStr")+WFG)
elseif GetUnitAbilityLevel(V8G,1094006092)>0 then
call VOG(V8G,0)
call TT7(GetHandleId(V8G),"iSFAgility",0)
call SetHeroAgi(m5,GetHeroAgi(m5,false)+WEG,true)
call SetHeroAgi(V8G,GetHeroAgi(V8G,false)+WFG,true)
call DL8("+"+I2S(WEG)+" Agility",3,m5,.023,0,255,0,255)
call DL8("+"+I2S(WFG)+" Agility",3,V8G,.023,0,255,0,255)
call TT7(GetHandleId(m5),"FluxAgi",UQ7(GetHandleId(m5),"FluxAgi")+WEG)
call TT7(GetHandleId(V8G),"FluxAgi",UQ7(GetHandleId(V8G),"FluxAgi")+WFG)
elseif GetUnitAbilityLevel(V8G,1094006093)>0 then
call VBG(V8G,0)
call TT7(GetHandleId(V8G),"iMFIntelligence",0)
call SetHeroInt(m5,GetHeroInt(m5,false)+WEG,true)
call SetHeroInt(V8G,GetHeroInt(V8G,false)+WFG,true)
call DL8("+"+I2S(WEG)+" Intelligence",3,m5,.023,0,0,255,255)
call DL8("+"+I2S(WFG)+" Intelligence",3,V8G,.023,0,0,255,255)
call TT7(GetHandleId(m5),"FluxInt",UQ7(GetHandleId(m5),"FluxInt")+WEG)
call TT7(GetHandleId(V8G),"FluxInt",UQ7(GetHandleId(V8G),"FluxInt")+WFG)
endif
set V8G=null
set m5=null
endfunction
function WGG takes nothing returns boolean
return GetLearnedSkill()==1094006067 and GetUnitAbilityLevel(GetTriggerUnit(),1094006067)==1
endfunction
function WHG takes nothing returns nothing
call UnitAddAbility(GetTriggerUnit(),1094006091)
endfunction
function WIG takes nothing returns boolean
return GetSpellAbilityId()==1094006091 or GetSpellAbilityId()==1094006092 or GetSpellAbilityId()==1094006093
endfunction
function WJG takes nothing returns nothing
if GetSpellAbilityId()==1094006091 then
call UnitRemoveAbility(GetTriggerUnit(),1094006091)
call UnitAddAbility(GetTriggerUnit(),1094006092)
elseif GetSpellAbilityId()==1094006092 then
call UnitRemoveAbility(GetTriggerUnit(),1094006092)
call UnitAddAbility(GetTriggerUnit(),1094006093)
else
call UnitRemoveAbility(GetTriggerUnit(),1094006093)
call UnitAddAbility(GetTriggerUnit(),1094006091)
endif
endfunction
function W78 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function W9G))
call TriggerAddAction(t,function WDG)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function WGG))
call TriggerAddAction(t,function WHG)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function WIG))
call TriggerAddAction(t,function WJG)
set t=null
endfunction
function WKG takes nothing returns nothing
local unit WMG=M7[GetPlayerId(GetTriggerPlayer())]
local player p=GetTriggerPlayer()
local integer WNG=GetHandleId(WMG)
local integer WOG=UQ7(WNG,"FluxStr")
local integer WPG=UQ7(WNG,"FluxAgi")
local integer WQG=UQ7(WNG,"FluxInt")
local integer WRG=UQ7(WNG,"iPFStrength")
local integer WSG=UQ7(WNG,"iSFAgility")
local integer WTG=UQ7(WNG,"iMFIntelligence")
if GetUnitTypeId(WMG)==1211510832 then
call DisplayTimedTextToPlayer(p,0,0,15,"Bonus Strength: "+I2S(WRG))
call DisplayTimedTextToPlayer(p,0,0,15,"Bonus Agility: "+I2S(WSG))
call DisplayTimedTextToPlayer(p,0,0,15,"Bonus Intelligence: "+I2S(WTG))
endif
call DisplayTimedTextToPlayer(p,0,0,15,"Flux Strength: "+I2S(WOG))
call DisplayTimedTextToPlayer(p,0,0,15,"Flux Agility: "+I2S(WPG))
call DisplayTimedTextToPlayer(p,0,0,15,"Flux Intelligence: "+I2S(WQG))
set WMG=null
set p=null
endfunction
function W88 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-flux",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-flux",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-flux",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-flux",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-flux",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-flux",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-flux",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-flux",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-flux",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-flux",true)
call TriggerAddAction(t,function WKG)
set t=null
endfunction
function WUG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local integer CS8=(LoadInteger(L7,(GetHandleId(O_7)),(627)))
local real WVG=(LoadReal(L7,(GetHandleId(O_7)),(628)))
local integer HF8=GetUnitAbilityLevel(EL8,1093751604)
local real B29=(5+HF8*15)*Pow(2,IMinBJ(CS8,4)-1)
set B29=B29+IMaxBJ(CS8-4,0)*50
if GetTriggerEventId()==EVENT_UNIT_DEATH then
if IsUnitType(O_7,UNIT_TYPE_HERO)==true then
call KillUnit((LoadUnitHandle(L7,(OL7),(45))))
endif
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
call SaveInteger(L7,(GetHandleId(O_7)),(627),(0))
call SaveReal(L7,(GetHandleId(O_7)),(628),((0)*1.0))
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093751609 then
if IsUnitType(O_7,UNIT_TYPE_HERO)==true then
call KillUnit((LoadUnitHandle(L7,(OL7),(45))))
endif
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
call SaveInteger(L7,(GetHandleId(O_7)),(627),(0))
call SaveReal(L7,(GetHandleId(O_7)),(628),((0)*1.0))
if(UX7(O_7,"DisruptionState"))then
call SetUnitInvulnerable(O_7,false)
endif
call HG8(EL8,O_7,ZG4,B29)
if(UX7(O_7,"DisruptionState"))then
call SetUnitInvulnerable(O_7,true)
endif
call DL8(I2S(R2I(B29))+"!",2,O_7,0.025,100,0,200,216)
endif
elseif(TimerGetElapsed(W))>WVG then
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
if IsUnitType(O_7,UNIT_TYPE_HERO)==true then
call KillUnit((LoadUnitHandle(L7,(OL7),(45))))
endif
call FlushChildHashtable(L7,(OL7))
call U37(t)
call SaveInteger(L7,(GetHandleId(O_7)),(627),(0))
call SaveReal(L7,(GetHandleId(O_7)),(628),((0)*1.0))
if(UX7(O_7,"DisruptionState"))then
call SetUnitInvulnerable(O_7,false)
endif
call HG8(EL8,O_7,ZG4,B29)
if(UX7(O_7,"DisruptionState"))then
call SetUnitInvulnerable(O_7,true)
endif
call DL8(I2S(R2I(B29))+"!",2,O_7,0.025,100,0,200,216)
else
if IsUnitType(O_7,UNIT_TYPE_HERO)==true then
call SetUnitX((LoadUnitHandle(L7,(OL7),(45))),GetUnitX(O_7))
call SetUnitY((LoadUnitHandle(L7,(OL7),(45))),GetUnitY(O_7))
endif
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function WWG takes unit EL8,unit O_7 returns nothing
local trigger t
local integer OL7
local integer HF8=GetUnitAbilityLevel(EL8,1093751604)
local unit EF8
if(LoadInteger(L7,(GetHandleId(O_7)),(627)))>0 then
call SaveInteger(L7,(GetHandleId(O_7)),(627),((LoadInteger(L7,(GetHandleId(O_7)),(627)))+1))
call SaveReal(L7,(GetHandleId(O_7)),(628),(((TimerGetElapsed(W))+8)*1.0))
else
set t=CreateTrigger()
set OL7=GetHandleId(t)
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
if IsUnitType(O_7,UNIT_TYPE_HERO)==true then
set EF8=CreateUnit(GetOwningPlayer(EL8),1865429305,GetUnitX(O_7),GetUnitY(O_7),0)
call SaveUnitHandle(L7,(OL7),(45),(EF8))
endif
call SaveInteger(L7,(GetHandleId(O_7)),(627),(1))
if IsUnitType(O_7,UNIT_TYPE_HERO)==true then
call SaveEffectHandle(L7,(OL7),(32),(AddSpecialEffectTarget("war3mapImported\\shamanyouranus-ShadowyMissile.mdl",O_7,"chest")))
else
call SaveEffectHandle(L7,(OL7),(32),(AddSpecialEffectTarget("war3mapImported\\shamanyouranus-ShadowyMissile.mdl",O_7,"origin")))
endif
call SaveReal(L7,(GetHandleId(O_7)),(628),(((TimerGetElapsed(W))+10)*1.0))
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function WUG))
set EF8=null
endif
call DL8("+"+I2S((LoadInteger(L7,(GetHandleId(O_7)),(627)))),3,O_7,0.025,100,0,200,216)
call HG8(EL8,O_7,ZG4,50)
set t=null
set EF8=null
endfunction
function WXG takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),VF4)==false then
call GroupAddUnit(VF4,GetEnumUnit())
call WWG(VE4,GetEnumUnit())
endif
endfunction
function WYG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit EF8=(LoadUnitHandle(L7,(OL7),(45)))
local integer WZG=GetTriggerEvalCount(t)
local real a=(LoadReal(L7,(OL7),(137)))
local real x=DD8(GetUnitX(EF8)+(20)*Cos(a))
local real y=DE8(GetUnitY(EF8)+(20)*Sin(a))
local group g
local group WAG=(LoadGroupHandle(L7,(OL7),(133)))
local unit O_7
if WZG==75 then
call CZ7(WAG)
call KillUnit(EF8)
call FlushChildHashtable(L7,(OL7))
call U37(t)
else
set IN4=EL8
set VE4=EL8
set VF4=WAG
call SetUnitX(EF8,x)
call SetUnitY(EF8,y)
set g=CA7()
call GroupEnumUnitsInRange(g,x,y,180+25,Condition(function F18))
call ForGroup(g,function WXG)
set O_7=FirstOfGroup(g)
call CZ7(g)
endif
set t=null
set EL8=null
set EF8=null
set g=null
set O_7=null
set WAG=null
return false
endfunction
function WBG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local real a=PS7(GetUnitX(EL8),GetUnitY(EL8),x,y)*bj_DEGTORAD
local unit EF8=CreateUnit(GetOwningPlayer(EL8),1747993394,GetUnitX(EL8),GetUnitY(EL8),a*bj_RADTODEG)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function WYG))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(45),(EF8))
call SaveReal(L7,(OL7),(137),((a)*1.0))
call SaveGroupHandle(L7,(OL7),(133),(CA7()))
call LP7(EL8,1093751609)
set t=null
set EL8=null
set EF8=null
endfunction
function WCG takes nothing returns boolean
if GetSpellAbilityId()==1093751604 then
call WBG()
endif
return false
endfunction
function UJ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function WCG))
set t=null
endfunction
function W3G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local unit W6G=GetSummonedUnit()
if GetTriggerEventId()!=EVENT_PLAYER_UNIT_SUMMON then
call FlushChildHashtable(L7,(OL7))
call U37(t)
elseif GetUnitAbilityLevel(W6G,1110459457)>0 and GetOwningPlayer(GetSummoningUnit())==GetOwningPlayer(EL8)then
if IsUnitAlly(O_7,GetOwningPlayer(EL8))==true then
call SelectUnitAddForPlayer(W6G,GetOwningPlayer(EL8))
else
call IssueTargetOrder(W6G,"attack",O_7)
endif
endif
set t=null
set EL8=null
set O_7=null
set W6G=null
return false
endfunction
function WLG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local unit HE8=CreateUnit(GetOwningPlayer(EL8),1697656901,GetUnitX(O_7),GetUnitY(O_7),0)
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call UB7(O_7,"DisruptionState")
call SetUnitInvulnerable(O_7,false)
call PauseUnit(O_7,false)
call ShowUnit(O_7,true)
call RemoveSavedHandle(L7,(GetHandleId(O_7)),(673))
call FlushChildHashtable(L7,(OL7))
call U37(t)
if GetTriggerEventId()!=EVENT_UNIT_DEATH then
call ClearSelectionForPlayer(GetOwningPlayer(O_7))
call SelectUnitAddForPlayer(O_7,GetOwningPlayer(O_7))
call E98(V94,GetUnitX(O_7),GetUnitY(O_7))
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,3,false)
call D28(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function W3G))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call LP7(HE8,1093751605)
call SetUnitAbilityLevel(HE8,1093751605,GetUnitAbilityLevel(EL8,1093751608))
call IssueTargetOrderById(HE8,852274,O_7)
call IssueTargetOrderById(HE8,852274,O_7)
endif
set t=null
set EL8=null
set O_7=null
set HE8=null
return false
endfunction
function W1G takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local integer HF8=GetUnitAbilityLevel(EL8,1093751608)
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit HE8=CreateUnit(GetOwningPlayer(O_7),1865429305,GetUnitX(O_7),GetUnitY(O_7),0)
call UnitApplyTimedLife(HE8,1112820806,2.6)
if IsUnitAlly(O_7,GetOwningPlayer(EL8))==false then
set HE8=CreateUnit(GetOwningPlayer(EL8),1865429305,GetUnitX(O_7),GetUnitY(O_7),0)
call UnitApplyTimedLife(HE8,1112820806,2.6)
endif
call SetUnitInvulnerable(O_7,true)
call PauseUnit(O_7,true)
call ShowUnit(O_7,false)
call SaveEffectHandle(L7,(OL7),(32),(AddSpecialEffect("war3mapImported\\WILLTHEALMIGHTY-Void5.mdx",GetUnitX(O_7),GetUnitY(O_7))))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call TriggerRegisterTimerEvent(t,2.5,false)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function WLG))
call SaveUnitHandle(L7,GetHandleId(EL8),(673),O_7)
call UZ7(O_7,"DisruptionState")
set EL8=null
set O_7=null
set t=null
set HE8=null
endfunction
function W0G takes nothing returns boolean
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093751608 and(IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))==true or CY7(GetSpellTargetUnit())==false)then
call W1G()
endif
else
if GetSpellAbilityId()==1093751608 and GetSpellTargetUnit()!=GetTriggerUnit()and IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))==true and US7(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp")then
call RU7(GetTriggerUnit())
call D78(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848652600))
endif
endif
return false
endfunction
function UK8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call D28(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function W0G))
set t=null
endfunction
function W5G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local integer HF8=GetUnitAbilityLevel(EL8,1093751618)
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
call TX7(GetHandleId(EL8),"AI|SoulCatcherTgt",null)
elseif GetEventDamage()>5 then
call DisableTrigger(t)
call HG8(GetEventDamageSource(),GetTriggerUnit(),ZI4,(0.1+0.1*HF8)*GetEventDamage())
call EnableTrigger(t)
endif
set EL8=null
set t=null
return false
endfunction
function W2G takes nothing returns nothing
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local group g=CA7()
local unit EL8=GetTriggerUnit()
local integer HF8=GetUnitAbilityLevel(EL8,1093751618)
local unit O_7
local trigger t
local integer OL7
set IN4=EL8
call GroupEnumUnitsInRange(g,x,y,475,Condition(function F18))
set O_7=(LoadUnitHandle(L7,(GetHandleId(EL8)),(673)))
if O_7!=null then
if RI7(GetUnitX(O_7),GetUnitY(O_7),x,y)<475 and IsUnitEnemy(O_7,GetOwningPlayer(EL8))==true then
call GroupAddUnit(g,O_7)
endif
endif
set O_7=GroupPickRandomUnit(g)
call CZ7(g)
call DestroyEffect(AddSpecialEffect("war3mapImported\\Desecrate.mdx",x,y))
if O_7!=null then
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,12,false)
call TriggerAddCondition(t,Condition(function W5G))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveEffectHandle(L7,(OL7),(32),(AddSpecialEffectTarget("war3mapImported\\void.mdx",O_7,"chest")))
if IsUnitType(O_7,UNIT_TYPE_HERO)then
call U07(O_7,"AI|SoulCatcher",12)
call TX7(GetHandleId(EL8),"AI|SoulCatcherTgt",O_7)
endif
endif
set g=null
set EL8=null
set O_7=null
set t=null
endfunction
function W_G takes nothing returns boolean
if GetSpellAbilityId()==1093751618 then
call W2G()
endif
return false
endfunction
function UM8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function W_G))
set t=null
endfunction
function X4G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local integer WZG=GetTriggerEvalCount(t)
local integer HF8=GetUnitAbilityLevel(EL8,1093751617)
if WZG==5 then
call FlushChildHashtable(L7,(OL7))
call U37(t)
if(UX7(O_7,"DisruptionState")==true)then
call SetUnitInvulnerable(O_7,false)
endif
call HG8(EL8,O_7,ZG4,4*(25+25*HF8))
if(UX7(O_7,"DisruptionState")==true)then
call SetUnitInvulnerable(O_7,true)
endif
else
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function X7G takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function X4G))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call TriggerEvaluate(t)
set t=null
set EL8=null
set O_7=null
endfunction
function X8G takes nothing returns boolean
if GetSpellAbilityId()==1093751617 and IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))==true and CY7(GetSpellTargetUnit())==false then
call X7G()
endif
return false
endfunction
function UN8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function X8G))
set t=null
endfunction
function X9G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local integer WZG=GetTriggerEvalCount(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
call UnitRemoveAbility(EL8,1093751632)
set t=null
set EL8=null
return false
endfunction
function XDG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
call LP7(EL8,1093751632)
call UnitMakeAbilityPermanent(EL8,true,1093751632)
call SetUnitAbilityLevel(EL8,1093751632,GetUnitAbilityLevel(EL8,1093751631))
call TriggerRegisterTimerEvent(t,3,false)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function X9G))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
set t=null
set EL8=null
endfunction
function XEG takes nothing returns boolean
if GetSpellAbilityId()==1093751631 then
call XDG()
endif
return false
endfunction
function UO8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function XEG))
set t=null
endfunction
function XFG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local integer CS8=GetTriggerEvalCount(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local unit EF8=(LoadUnitHandle(L7,(OL7),(45)))
local real x
local real y
local real d
local real XGG
local real ZC9=(LoadReal(L7,(OL7),(23)))
local real Z39=(LoadReal(L7,(OL7),(24)))
local real a=PS7(ZC9,Z39,GetUnitX(O_7),GetUnitY(O_7))*bj_DEGTORAD
local integer HF8=GetUnitAbilityLevel(EL8,1093751633)
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call UnitShareVision(EF8,GetOwningPlayer(O_7),false)
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
if GetTriggerUnit()!=EF8 then
call KillUnit(EF8)
endif
elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED then
call UnitRemoveBuffs(EF8,true,true)
elseif CS8<3/0.02 then
call SetUnitFacing(EF8,a*bj_RADTODEG)
else
if CS8==4/0.02 then
call UnitShareVision(EF8,GetOwningPlayer(O_7),true)
endif
call SetUnitFacing(EF8,a*bj_RADTODEG)
set x=ZC9+(280+UV4*CS8*0.02)*0.02*Cos(a)
set y=Z39+(280+UV4*CS8*0.02)*0.02*Sin(a)
call SetUnitPosition(EF8,x,y)
call SaveReal(L7,(OL7),(23),((x)*1.0))
call SaveReal(L7,(OL7),(24),((y)*1.0))
if RI7(x,y,GetUnitX(O_7),GetUnitY(O_7))<20 then
set d=RMinBJ(RI7(x,y,(LoadReal(L7,(OL7),(6))),(LoadReal(L7,(OL7),(7)))),1500)
set XGG=d/1500*(110*GetUnitAbilityLevel(EL8,1093751633))
set XGG=RMaxBJ(XGG,50)
call KillUnit(EF8)
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
if FX8(O_7)==false or IsUnitVisible(O_7,GetOwningPlayer(EL8))==true then
call HG8(EL8,O_7,ZG4,XGG)
call HD8(EL8,O_7,2+0.2*HF8)
endif
endif
endif
set t=null
set EL8=null
set O_7=null
set EF8=null
return false
endfunction
function XHG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local real a=PS7(GetUnitX(EL8),GetUnitY(EL8),GetUnitX(O_7),GetUnitY(O_7))*bj_DEGTORAD
local real x=DD8(GetUnitX(EL8)+150*Cos(a))
local real y=DE8(GetUnitY(EL8)+150*Sin(a))
local integer HF8=GetUnitAbilityLevel(EL8,1093751633)
local unit EF8
local integer XIG
local string XJG="effects\\Snipe Target.mdx"
if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(EL8))==false and CP7(GetLocalPlayer())==false then
set XJG=""
endif
if HF8==1 then
set XIG=1747993415
elseif HF8==2 then
set XIG=1747993393
elseif HF8==3 then
set XIG=1747993414
elseif HF8==4 then
set XIG=1747993416
endif
set EF8=CreateUnit(GetOwningPlayer(EL8),XIG,x,y,a*bj_RADTODEG)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,EF8,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,EF8,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function XFG))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveUnitHandle(L7,(OL7),(45),(EF8))
call SaveReal(L7,(OL7),(6),((GetUnitX(EL8))*1.0))
call SaveReal(L7,(OL7),(7),((GetUnitY(EL8))*1.0))
call SaveReal(L7,(OL7),(23),((GetUnitX(EF8))*1.0))
call SaveReal(L7,(OL7),(24),((GetUnitY(EF8))*1.0))
call SaveEffectHandle(L7,(OL7),(32),(AddSpecialEffectTarget(XJG,O_7,"overhead")))
set t=null
set EL8=null
set O_7=null
set EF8=null
endfunction
function XKG takes nothing returns boolean
if GetSpellAbilityId()==1093751633 and CY7(GetSpellTargetUnit())==false then
call XHG()
endif
return false
endfunction
function UP8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function XKG))
call DH8(1093687350)
set t=null
endfunction
function XMG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
call FlushChildHashtable(L7,(OL7))
call U37(t)
call UnitRemoveAbility(O_7,1110459461)
call UnitRemoveAbility(O_7,1093751635)
set t=null
set O_7=null
return false
endfunction
function XNG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
call FlushChildHashtable(L7,(OL7))
call U37(t)
call UnitRemoveAbility(O_7,1110459463)
call UnitRemoveAbility(O_7,1093751860)
set t=null
set O_7=null
return false
endfunction
function XOG takes nothing returns nothing
local trigger t
local integer OL7
local integer HF8=GetUnitAbilityLevel(UO4,1093751861)
local boolean ZPD=false
if HF8==0 then
set HF8=GetUnitAbilityLevel(UO4,1093808949)
set ZPD=true
endif
if D69(GetEnumUnit())==false then
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,2,false)
call TriggerRegisterUnitEvent(t,GetEnumUnit(),EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function XMG))
call SaveUnitHandle(L7,(OL7),(17),(GetEnumUnit()))
call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),1093751635,false)
call LP7(GetEnumUnit(),1093751635)
endif
call HG8(UO4,GetEnumUnit(),ZG4,HF8*50+200)
set t=null
endfunction
function XPG takes nothing returns nothing
local trigger t
local integer OL7
local integer HF8=GetUnitAbilityLevel(UO4,1093751861)
local boolean ZPD=false
if HF8==0 then
set HF8=GetUnitAbilityLevel(UO4,1093808949)
set ZPD=true
endif
if D69(GetEnumUnit())==false then
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,3,false)
call TriggerRegisterUnitEvent(t,GetEnumUnit(),EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function XNG))
call SaveUnitHandle(L7,(OL7),(17),(GetEnumUnit()))
call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),1093751860,false)
call LP7(GetEnumUnit(),1093751860)
endif
if ZPD then
call HG8(UO4,GetEnumUnit(),ZG4,HF8*50+50+75)
else
call HG8(UO4,GetEnumUnit(),ZG4,HF8*50+50)
endif
set t=null
endfunction
function XQG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local real x=(LoadReal(L7,(OL7),(6)))
local real y=(LoadReal(L7,(OL7),(7)))
local group g
local integer WZG=GetTriggerEvalCount(t)
local fogmodifier XRG=(LoadFogModifierHandle(L7,(OL7),(42)))
if WZG==1 then
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\Calldown_FlyUp.mdx",EL8,"chest"))
elseif WZG==2 then
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\Calldown_FlyUp.mdx",EL8,"chest"))
elseif WZG==3 then
call DestroyEffect(AddSpecialEffect("war3mapImported\\Calldown_FlyDown.mdx",x,y))
elseif WZG==4 then
set g=CA7()
set IN4=EL8
set UO4=EL8
call GroupEnumUnitsInRange(g,x,y,450+25,Condition(function FW8))
call ForGroup(g,function XOG)
call CZ7(g)
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\DemolisherFireMissile\\DemolisherFireMissile.mdl",x,y))
elseif WZG==5 then
call DestroyEffect(AddSpecialEffect("war3mapImported\\Calldown_FlyDown.mdx",x,y))
elseif WZG==6 then
set g=CA7()
set IN4=EL8
set UO4=EL8
call GroupEnumUnitsInRange(g,x,y,450+25,Condition(function FW8))
call ForGroup(g,function XPG)
call CZ7(g)
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\DemolisherFireMissile\\DemolisherFireMissile.mdl",x,y))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call FogModifierStop(XRG)
call DestroyFogModifier(XRG)
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set t=null
set EL8=null
set g=null
set XRG=null
return false
endfunction
function XSG takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local string s=""
local fogmodifier XDD=CreateFogModifierRadius(GetOwningPlayer(EL8),FOG_OF_WAR_VISIBLE,x,y,350,true,true)
call FogModifierStart(XDD)
if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(EL8))==true or CP7(GetLocalPlayer())then
set s="war3mapImported\\CallDown_4.mdx"
endif
call TriggerRegisterTimerEvent(t,0.1,false)
call TriggerRegisterTimerEvent(t,0.8,false)
call TriggerRegisterTimerEvent(t,1.6,false)
call TriggerRegisterTimerEvent(t,2,false)
call TriggerRegisterTimerEvent(t,3.6,false)
call TriggerRegisterTimerEvent(t,4,false)
call TriggerAddCondition(t,Condition(function XQG))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveReal(L7,(OL7),(6),((x)*1.0))
call SaveReal(L7,(OL7),(7),((y)*1.0))
call SaveEffectHandle(L7,(OL7),(32),(AddSpecialEffect(s,x,y)))
call SaveFogModifierHandle(L7,(OL7),(42),(XDD))
set t=null
set EL8=null
set XDD=null
endfunction
function XTG takes nothing returns boolean
if GetSpellAbilityId()==1093751861 or GetSpellAbilityId()==1093808949 then
call XSG()
endif
return false
endfunction
function UQ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function XTG))
set t=null
endfunction
function XUG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer AI7=GetHandleId(t)
local unit EL8=UE7(AI7,"Source")
local integer SUD
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==EL8 and(GetEventDamage()>20 or IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==true)then
set SUD=UQ7(GetHandleId(EL8),"Count")
if SUD>0 then
call TT7(GetHandleId(EL8),"Count",(SUD+1))
endif
call TQ7(AI7)
call U37(t)
endif
else
call TQ7(AI7)
call U37(t)
endif
set t=null
set EL8=null
return false
endfunction
function XVG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=UE7(OL7,"Source")
if BB7(EL8)==false then
call FlushChildHashtable(L7,(OL7))
call U37(t)
call UnitRemoveAbility(EL8,1093808951)
call UnitAddAbility(EL8,1093808706)
call UnitRemoveAbility(EL8,1093808706)
if(SY7((EL8),ZU[G14])!=null)then
call UnitAddAbility(EL8,1093808951)
endif
endif
set t=null
set EL8=null
return false
endfunction
function XWG takes unit EL8 returns nothing
local trigger t
if BB7(EL8)==false then
call UnitRemoveAbility(EL8,1093808951)
call UnitAddAbility(EL8,1093808706)
call UnitRemoveAbility(EL8,1093808706)
if(SY7((EL8),ZU[G14])!=null)then
call UnitAddAbility(EL8,1093808951)
endif
else
set t=CreateTrigger()
call TX7(GetHandleId(t),"Source",EL8)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function XVG))
set t=null
endif
endfunction
function XXG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer AI7=GetHandleId(t)
local unit EL8=UE7(AI7,"Source")
call UnitRemoveAbility(EL8,1093751895)
call UnitRemoveAbility(EL8,1110459466)
call XWG(EL8)
call TQ7(AI7)
call U37(t)
set t=null
return false
endfunction
function XYG takes nothing returns nothing
local unit H28=GetAttacker()
local integer AI7=GetHandleId(H28)
local integer SUD=UQ7(AI7,"Count")
local integer H_8=GetUnitAbilityLevel(H28,1093808697)
local trigger t
if IsUnitIllusion(GetAttacker())==true and GetUnitAbilityLevel(GetAttacker(),1093751895)>0 then
call XWG(GetAttacker())
call UnitRemoveAbility(GetAttacker(),1093751895)
endif
if GetAttacker()==H28 then
set SUD=SUD+1
if SUD>3+H_8 then
call UnitRemoveAbility(H28,1093751895)
call UnitRemoveAbility(H28,1110459466)
call XWG(H28)
set t=UI7(AI7,"FlakCannon_EndTrig")
call TQ7(GetHandleId(t))
call U37(t)
else
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,2,false)
call TriggerAddCondition(t,Condition(function XUG))
call TX7(GetHandleId(t),"Source",H28)
endif
endif
set t=null
set H28=null
endfunction
function XZG takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1093751895)>0 then
call XYG()
endif
return false
endfunction
function XAG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer AI7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
call TriggerRegisterTimerEvent(t,15,false)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function XXG))
call TX7(AI7,"Source",EL8)
call TZ7(GetHandleId(EL8),"FlakCannon_EndTrig",t)
call TT7(GetHandleId(EL8),"Count",(1))
call UnitRemoveAbility(EL8,1093808951)
call UnitAddAbility(EL8,1093808705)
call UnitRemoveAbility(EL8,1093808705)
if(SY7((EL8),ZU[G14])!=null)then
call UnitAddAbility(EL8,1093808951)
endif
set t=null
set EL8=null
endfunction
function XBG takes nothing returns boolean
if IsUnitIllusion(GetTriggerUnit())==true and GetUnitTypeId(GetTriggerUnit())==1160786511 then
call XWG(GetTriggerUnit())
endif
return false
endfunction
function XCG takes nothing returns boolean
if GetSpellAbilityId()==1093808697 and GetUnitTypeId(GetTriggerUnit())==1160786510 then
call XAG()
endif
return false
endfunction
function UR8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function XCG))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function XZG))
set t=CreateTrigger()
call TriggerRegisterEnterRectSimple(t,GetWorldBounds())
call TriggerAddCondition(t,Condition(function XBG))
set t=null
endfunction
function X3G takes nothing returns boolean
local unit O_7=GetFilterUnit()
local unit EL8=UP4
local real X6G=UQ4
local real XLG=UR4
local real ON2=US4
local real OS2=UT4
local real x
local real y
local real a
local real d
if(CO7(GetFilterUnit())==false and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit())))then
if(UX7(O_7,"4324")==false)then
call U07(O_7,"4324",0.3)
endif
set d=RI7(X6G,XLG,GetUnitX(O_7),GetUnitY(O_7))
set a=PS7(X6G,XLG,GetUnitX(O_7),GetUnitY(O_7))*bj_DEGTORAD
if d>UU4 then
set x=GetUnitX(O_7)+11*Cos(a)
set y=GetUnitY(O_7)+11*Sin(a)
else
set x=GetUnitX(O_7)-11*Cos(a)
set y=GetUnitY(O_7)-11*Sin(a)
endif
call SetUnitX(O_7,x)
call SetUnitY(O_7,y)
endif
set O_7=null
set EL8=null
return false
endfunction
function X1G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local real X6G=(LoadReal(L7,(OL7),(6)))
local real XLG=(LoadReal(L7,(OL7),(7)))
local real x
local real y
local integer i=0
local group g
if GetTriggerEvalCount(t)>(50*(2+0.5*GetUnitAbilityLevel(EL8,1093751637)))then
loop
exitwhen i>16
set i=i+1
endloop
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
else
set g=CA7()
set UQ4=X6G
set UR4=XLG
set UP4=EL8
set IN4=EL8
loop
exitwhen i>16
set x=X6G+UU4*Cos(bj_DEGTORAD*360.0*i/16.0)
set y=XLG+UU4*Sin(bj_DEGTORAD*360.0*i/16.0)
set US4=x
set UT4=y
call GroupEnumUnitsInRange(g,x,y,75,Condition(function X3G))
set i=i+1
endloop
call CZ7(g)
set g=null
endif
set t=null
set EL8=null
return false
endfunction
function X0G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local real X6G=(LoadReal(L7,(OL7),(6)))
local real XLG=(LoadReal(L7,(OL7),(7)))
local real x
local real y
local integer i=0
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
set t=CreateTrigger()
set OL7=GetHandleId(t)
loop
exitwhen i>16
set x=X6G+UU4*Cos(bj_DEGTORAD*360.0*i/16.0)
set y=XLG+UU4*Sin(bj_DEGTORAD*360.0*i/16.0)
set i=i+1
endloop
call SaveEffectHandle(L7,(OL7),(32),(AddSpecialEffect("war3mapImported\\KineticField_FX_Stand.mdx",X6G,XLG)))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveReal(L7,(OL7),(6),((X6G)*1.0))
call SaveReal(L7,(OL7),(7),((XLG)*1.0))
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function X1G))
set t=null
set EL8=null
return false
endfunction
function X5G takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
local real X6G=GetSpellTargetX()
local real XLG=GetSpellTargetY()
call SaveEffectHandle(L7,(OL7),(32),(AddSpecialEffect("war3mapImported\\KineticField_FX_Start.mdx",X6G,XLG)))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveReal(L7,(OL7),(6),((X6G)*1.0))
call SaveReal(L7,(OL7),(7),((XLG)*1.0))
call TriggerRegisterTimerEvent(t,1.2,false)
call TriggerAddCondition(t,Condition(function X0G))
call EE8(GetOwningPlayer(EL8),5.5,X6G,XLG,300)
set t=null
set EL8=null
endfunction
function X2G takes nothing returns boolean
if GetSpellAbilityId()==1093751637 then
call X5G()
endif
return false
endfunction
function US8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function X2G))
set t=null
endfunction
function X_G takes nothing returns nothing
call HG8(U24,GetEnumUnit(),ZG4,U54)
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\Purge_NoBirth.mdx",GetEnumUnit(),"origin"))
endfunction
function Y4G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local integer HF8=(LoadInteger(L7,(OL7),(5)))
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit EF8=(LoadUnitHandle(L7,(OL7),(45)))
local unit HE8=(LoadUnitHandle(L7,(OL7),(19)))
local group g
local integer WZG=GetTriggerEvalCount(t)
if WZG>20 then
call StopSound(VD4,false,true)
call KillUnit(EF8)
call ShowUnit(EF8,false)
call KillUnit(HE8)
call FlushChildHashtable(L7,(OL7))
call U37(t)
else
set g=CA7()
set IN4=EL8
set U24=EL8
set U54=0.25*(120+50*HF8)*(WZG/20.0)
set U_4=false
if ModuloInteger(WZG,4)==0 then
set U_4=true
endif
call GroupEnumUnitsInRange(g,GetUnitX(EF8),GetUnitY(EF8),400,Condition(function FL8))
call ForGroup(g,function X_G)
call CZ7(g)
set g=null
endif
set t=null
set EL8=null
set EF8=null
set HE8=null
return false
endfunction
function Y7G takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
local real Y8G=GetSpellTargetX()
local real Y9G=GetSpellTargetY()
local unit EF8=CreateUnit(GetOwningPlayer(EL8),1747993419,Y8G,Y9G,0)
local integer HF8=GetUnitAbilityLevel(EL8,1093752118)
local unit HE8=CreateUnit(GetOwningPlayer(EL8),1697656901,Y8G,Y9G,0)
call SetSoundVolume(VD4,200)
call StartSound(VD4)
call SetSoundPosition(VD4,Y8G,Y9G,100)
if Z17(GetOwningPlayer(EL8))then
call LP7(HE8,1093752117)
else
call LP7(HE8,1093752116)
endif
call IssuePointOrder(HE8,"cloudoffog",Y8G,Y9G)
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(45),(EF8))
call SaveUnitHandle(L7,(OL7),(19),(HE8))
call SaveInteger(L7,(OL7),(5),(HF8))
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerAddCondition(t,Condition(function Y4G))
set t=null
set EL8=null
set EF8=null
set HE8=null
endfunction
function YDG takes nothing returns boolean
if GetSpellAbilityId()==1093752118 then
call Y7G()
endif
return false
endfunction
function UT8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function YDG))
set t=null
endfunction
function YEG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local unit EF8=(LoadUnitHandle(L7,(OL7),(45)))
local real Y8G=(LoadReal(L7,(OL7),(6)))
local real Y9G=(LoadReal(L7,(OL7),(7)))
local real x=GetUnitX(EF8)
local real y=GetUnitY(EF8)
local real a=PS7(x,y,Y8G,Y9G)
local real d=RI7(x,y,Y8G,Y9G)
local real r=(LoadReal(L7,(OL7),(671)))
call SetUnitFacing(EF8,a)
set x=x+r*Cos(a*bj_DEGTORAD)
set y=y+r*Sin(a*bj_DEGTORAD)
call SetUnitX(EF8,x)
call SetUnitY(EF8,y)
if d<40 then
call KillUnit(EF8)
call DestroyEffect((LoadEffectHandle(L7,(OL7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(176))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
call U07(O_7,"4411",1)
call SetUnitPosition(O_7,Y8G,Y9G)
call PanCameraToTimedForPlayer(GetOwningPlayer(O_7),Y8G,Y9G,0)
elseif CO7(O_7)then
call KillUnit(EF8)
call DestroyEffect((LoadEffectHandle(L7,(OL7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(176))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set t=null
set O_7=null
set EF8=null
return false
endfunction
function YFG takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local real x=(LoadReal(L7,(GetHandleId(O_7)),(7400)))
local real y=(LoadReal(L7,(GetHandleId(O_7)),(7500)))
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EF8=CreateUnit(GetOwningPlayer(EL8),1747993398,GetUnitX(O_7),GetUnitY(O_7),0)
local real d=RI7(x,y,GetUnitX(O_7),GetUnitY(O_7))
local real r=0.02*(RMaxBJ(d/1.8,600))
call TriggerAddCondition(t,Condition(function YEG))
call TriggerRegisterTimerEvent(t,0.02,true)
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveUnitHandle(L7,(OL7),(45),(EF8))
call SaveReal(L7,(OL7),(6),((x)*1.0))
call SaveReal(L7,(OL7),(7),((y)*1.0))
call SaveReal(L7,(OL7),(671),((r)*1.0))
call SaveEffectHandle(L7,(OL7),(175),(AddSpecialEffectTarget("effects\\Lightning_Ball_Tail_FX.mdx",O_7,"overhead")))
call SaveEffectHandle(L7,(OL7),(176),(AddSpecialEffect("effects\\Lightning_Ball_Tail_FX.mdx",x,y)))
call TriggerEvaluate(t)
set EL8=null
set O_7=null
set EF8=null
set t=null
endfunction
function YGG takes nothing returns boolean
if GetSpellAbilityId()==1093751639 and CY7(GetSpellTargetUnit())==false then
if IsUnitIllusion(GetSpellTargetUnit())then
call KillUnit(GetSpellTargetUnit())
else
call YFG()
endif
endif
return false
endfunction
function HDG takes nothing returns nothing
local unit O_7=IN4
local integer i=0
loop
exitwhen i>15
set i=i+1
endloop
set O_7=null
endfunction
function YHG takes nothing returns nothing
local unit O_7=GetEnumUnit()
local integer OL7=GetHandleId(O_7)
local integer i=1
loop
exitwhen i>14
call SaveReal(L7,(OL7),(7400+i-1),(((LoadReal(L7,(OL7),(7400+i))))*1.0))
call SaveReal(L7,(OL7),(7500+i-1),(((LoadReal(L7,(OL7),(7500+i))))*1.0))
set i=i+1
endloop
call SaveReal(L7,(OL7),(7400+14),((GetUnitX(O_7))*1.0))
call SaveReal(L7,(OL7),(7500+14),((GetUnitY(O_7))*1.0))
set O_7=null
endfunction
function YIG takes nothing returns boolean
local group g=CA7()
call GroupEnumUnitsInRange(g,0,0,99999,Condition(function GF8))
call ForGroup(g,function YHG)
call CZ7(g)
set g=null
return false
endfunction
function UU8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function YGG))
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerAddCondition(t,Condition(function YIG))
set t=null
endfunction
function YJG takes nothing returns nothing
if UW4!=GetEnumUnit()then
call HG8(UX4,GetEnumUnit(),ZG4,UY4*25+25)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\Bolt\\BoltImpact.mdl",GetEnumUnit(),"chest"))
endif
endfunction
function YKG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local unit HE8=(LoadUnitHandle(L7,(OL7),(19)))
local unit EF8=(LoadUnitHandle(L7,(OL7),(45)))
local integer HF8=(LoadInteger(L7,(OL7),(5)))
local group g
local integer WZG=GetTriggerEvalCount(t)
local unit YMG=null
call SetUnitX(HE8,GetUnitX(O_7))
call SetUnitY(HE8,GetUnitY(O_7))
call SetUnitX(EF8,GetUnitX(O_7))
call SetUnitY(EF8,GetUnitY(O_7))
if WZG==1 or WZG==100 or WZG==200 then
set g=CA7()
if LR7(O_7)then
set YMG=CreateUnit(GetOwningPlayer(O_7),1697656899,GetUnitX(O_7),GetUnitY(O_7),0)
call UnitApplyTimedLife(YMG,1112820806,0.2)
call IssueTargetOrder(HE8,"chainlightning",YMG)
else
call IssueTargetOrder(HE8,"chainlightning",O_7)
call HG8(EL8,O_7,ZG4,HF8*25+25)
endif
call DB8("war3mapImported\\ThunderStorm_Groundeffect.mdx",O_7,"origin",0.6)
set IN4=EL8
set UX4=EL8
set UW4=O_7
set UY4=HF8
call GroupEnumUnitsInRange(g,GetUnitX(O_7),GetUnitY(O_7),200+25,Condition(function FW8))
call ForGroup(g,function YJG)
call CZ7(g)
if GetTriggerEvalCount(t)==200 then
call KillUnit(HE8)
call KillUnit(EF8)
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
endif
set t=null
set EL8=null
set O_7=null
set HE8=null
set g=null
set YMG=null
set EF8=null
return false
endfunction
function YNG takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local integer HF8=GetUnitAbilityLevel(EL8,1093751894)
local unit HE8=CreateUnit(GetOwningPlayer(O_7),1697656901,GetUnitX(O_7),GetUnitY(O_7),0)
local unit EF8=CreateUnit(GetOwningPlayer(EL8),1697657424,GetUnitX(O_7),GetUnitY(O_7),0)
call LP7(EF8,1097625443)
call LP7(HE8,1093752119)
call SetUnitAbilityLevel(HE8,1093752119,HF8)
call LP7(HE8,1097625443)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function YKG))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveUnitHandle(L7,(OL7),(19),(HE8))
call SaveUnitHandle(L7,(OL7),(45),(EF8))
call SaveInteger(L7,(OL7),(5),(HF8))
set EL8=null
set O_7=null
set HE8=null
set t=null
set EF8=null
endfunction
function YOG takes nothing returns boolean
if GetSpellAbilityId()==1093751894 and CY7(GetSpellTargetUnit())==false then
call YNG()
endif
return false
endfunction
function UV8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function YOG))
set t=null
endfunction
function YPG takes nothing returns nothing
local integer YQG=U34
local unit O_7=GetEnumUnit()
local integer YRG=662-1+YQG
local real YSG=(LoadReal(L7,(GetHandleId(O_7)),(YRG)))
local real YTG=(TimerGetElapsed(W))
if YSG<YTG then
call SaveReal(L7,(GetHandleId(O_7)),(YRG),((YTG+2)*1.0))
if IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false then
call HG8(UK4,O_7,ZG4,2+6*U64)
else
endif
endif
set O_7=null
endfunction
function Spirits_DamageHeroes takes nothing returns nothing
local integer YUG=U34
local unit O_7=GetEnumUnit()
local integer YVG=662-1+YUG
local real YWG=(LoadReal(L7,(GetHandleId(O_7)),(YVG)))
local real YXG=(TimerGetElapsed(W))
if YWG<YXG then
call SaveReal(L7,(GetHandleId(O_7)),(YVG),((YXG+2)*1.0))
if IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false then
call HG8(UK4,O_7,ZG4,15+10*U64)
else
endif
endif
set O_7=null
endfunction
function YYG takes nothing returns nothing
if IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false then
call HG8(UK4,GetEnumUnit(),ZG4,UB4)
else
endif
endfunction
function YZG takes unit EL8,unit YAG returns nothing
local group g=CA7()
set IN4=EL8
set UB4=25*U64
set UK4=EL8
set UM4=CreateUnit(GetOwningPlayer(EL8),1697656901,GetUnitX(YAG),GetUnitY(YAG),0)
call GroupEnumUnitsInRange(g,GetUnitX(YAG),GetUnitY(YAG),325,Condition(function GD8))
call ForGroup(g,function YYG)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\FreezingBreath\\FreezingBreathMissile.mdl",GetUnitX(YAG),GetUnitY(YAG)))
call KillUnit(YAG)
call CZ7(g)
set g=null
endfunction
function YBG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit YCG=(LoadUnitHandle(L7,(OL7),(393)))
local unit Y3G=(LoadUnitHandle(L7,(OL7),(394)))
local unit Y6G=(LoadUnitHandle(L7,(OL7),(395)))
local unit YLG=(LoadUnitHandle(L7,(OL7),(396)))
local unit Y1G=(LoadUnitHandle(L7,(OL7),(397)))
local real x
local real y
local real a
local real d=(LoadReal(L7,(OL7),(138)))
local real X6G=GetUnitX(EL8)
local real XLG=GetUnitY(EL8)
local real Y0G
local integer WZG=GetTriggerEvalCount(t)
local real Y5G
local group g
local integer Y2G=0
local real GP9=2.25
local real Y_G
if LR7(YCG)==false then
set Y2G=Y2G+1
endif
if LR7(Y3G)==false then
set Y2G=Y2G+1
endif
if LR7(Y6G)==false then
set Y2G=Y2G+1
endif
if LR7(YLG)==false then
set Y2G=Y2G+1
endif
if LR7(Y1G)==false then
set Y2G=Y2G+1
endif
if Y2G==5 then
set GP9=2.25
elseif Y2G==4 then
set GP9=2.1
elseif Y2G==3 then
set GP9=1.95
elseif Y2G==2 then
set GP9=1.8
elseif Y2G==1 then
set GP9=1.65
endif
set Y0G=-1*360*0.02/GP9
set Y_G=(LoadReal(L7,(OL7),(137)))+Y0G
call SaveReal(L7,(OL7),(137),((Y_G)*1.0))
set U64=GetUnitAbilityLevel(EL8,1093751864)
set UK4=EL8
if WZG==50 then
call ShowUnit(Y3G,true)
call SaveBoolean(L7,(OL7),(512),(true))
call LP7(Y3G,1097625443)
endif
if WZG==100 then
call ShowUnit(Y6G,true)
call SaveBoolean(L7,(OL7),(513),(true))
call LP7(Y6G,1097625443)
endif
if WZG==150 then
call ShowUnit(YLG,true)
call SaveBoolean(L7,(OL7),(514),(true))
call LP7(YLG,1097625443)
endif
if WZG==200 then
call ShowUnit(Y1G,true)
call SaveBoolean(L7,(OL7),(515),(true))
call LP7(Y1G,1097625443)
endif
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093752115 then
if(LoadBoolean(L7,(OL7),(655)))==true then
call SaveBoolean(L7,(OL7),(655),(false))
call SaveBoolean(L7,(OL7),(656),(false))
else
call SaveBoolean(L7,(OL7),(655),(true))
call SaveBoolean(L7,(OL7),(656),(false))
endif
elseif GetSpellAbilityId()==1093752114 then
if(LoadBoolean(L7,(OL7),(656)))==true then
call SaveBoolean(L7,(OL7),(655),(false))
call SaveBoolean(L7,(OL7),(656),(false))
else
call SaveBoolean(L7,(OL7),(655),(false))
call SaveBoolean(L7,(OL7),(656),(true))
endif
endif
endif
if(LoadBoolean(L7,(OL7),(655)))then
set d=RMaxBJ(d-5,100)
call SaveReal(L7,(OL7),(138),((d)*1.0))
elseif(LoadBoolean(L7,(OL7),(656)))then
set d=RMinBJ(d+5,875)
call SaveReal(L7,(OL7),(138),((d)*1.0))
endif
if GetTriggerEventId()==EVENT_UNIT_DEATH or WZG==950 or(LR7(YCG)and LR7(Y3G)and LR7(Y6G)and LR7(YLG)and LR7(Y1G))or(WZG>1 and GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093751864)then
if GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT then
call UnitRemoveAbility(EL8,1093752115)
call UnitRemoveAbility(EL8,1093752114)
endif
call FlushChildHashtable(L7,(OL7))
call U37(t)
if LR7(YCG)==false then
call YZG(EL8,YCG)
endif
if LR7(Y3G)==false then
call YZG(EL8,Y3G)
endif
if LR7(Y6G)==false then
call YZG(EL8,Y6G)
endif
if LR7(YLG)==false then
call YZG(EL8,YLG)
endif
if LR7(Y1G)==false then
call YZG(EL8,Y1G)
endif
else
set g=CA7()
if LR7(YCG)==false and(LoadBoolean(L7,(OL7),(511)))then
set Y5G=360*5/5.0
set a=Y5G+Y_G
set x=DD8(X6G+d*Cos(a*bj_DEGTORAD))
set y=DE8(XLG+d*Sin(a*bj_DEGTORAD))
call SetUnitX(YCG,x)
call SetUnitY(YCG,y)
set IN4=EL8
call GroupEnumUnitsInRange(g,x,y,95,Condition(function GG8))
if FirstOfGroup(g)!=null then
call YZG(EL8,YCG)
endif
call GroupClear(g)
set UN4=YCG
set U34=1
set UK4=EL8
call GroupEnumUnitsInRange(g,x,y,175,Condition(function GH8))
call ForGroup(g,function YPG)
call GroupClear(g)
endif
if LR7(Y3G)==false and(LoadBoolean(L7,(OL7),(512)))then
set Y5G=360*4/5.0
set a=Y5G+Y_G
set x=DD8(X6G+d*Cos(a*bj_DEGTORAD))
set y=DE8(XLG+d*Sin(a*bj_DEGTORAD))
call SetUnitX(Y3G,x)
call SetUnitY(Y3G,y)
set IN4=EL8
call GroupEnumUnitsInRange(g,x,y,95,Condition(function GG8))
if FirstOfGroup(g)!=null then
call YZG(EL8,Y3G)
endif
call GroupClear(g)
set UN4=Y3G
set U34=2
set UK4=EL8
call GroupEnumUnitsInRange(g,x,y,175,Condition(function GH8))
call ForGroup(g,function YPG)
call GroupClear(g)
endif
if LR7(Y6G)==false and(LoadBoolean(L7,(OL7),(513)))then
set Y5G=360*3/5.0
set a=Y5G+Y_G
set x=DD8(X6G+d*Cos(a*bj_DEGTORAD))
set y=DE8(XLG+d*Sin(a*bj_DEGTORAD))
call SetUnitX(Y6G,x)
call SetUnitY(Y6G,y)
set IN4=EL8
call GroupEnumUnitsInRange(g,x,y,95,Condition(function GG8))
if FirstOfGroup(g)!=null then
call YZG(EL8,Y6G)
endif
call GroupClear(g)
set UN4=Y6G
set U34=3
set UK4=EL8
call GroupEnumUnitsInRange(g,x,y,175,Condition(function GH8))
call ForGroup(g,function YPG)
call GroupClear(g)
endif
if LR7(YLG)==false and(LoadBoolean(L7,(OL7),(514)))then
set Y5G=360*2/5.0
set a=Y5G+Y_G
set x=DD8(X6G+d*Cos(a*bj_DEGTORAD))
set y=DE8(XLG+d*Sin(a*bj_DEGTORAD))
call SetUnitX(YLG,x)
call SetUnitY(YLG,y)
set IN4=EL8
call GroupEnumUnitsInRange(g,x,y,95,Condition(function GG8))
if FirstOfGroup(g)!=null then
call YZG(EL8,YLG)
endif
call GroupClear(g)
set UN4=YLG
set U34=4
set UK4=EL8
call GroupEnumUnitsInRange(g,x,y,175,Condition(function GH8))
call ForGroup(g,function YPG)
call GroupClear(g)
endif
if LR7(Y1G)==false and(LoadBoolean(L7,(OL7),(515)))then
set Y5G=360*1/5.0
set a=Y5G+Y_G
set x=DD8(X6G+d*Cos(a*bj_DEGTORAD))
set y=DE8(XLG+d*Sin(a*bj_DEGTORAD))
call SetUnitX(Y1G,x)
call SetUnitY(Y1G,y)
set IN4=EL8
call GroupEnumUnitsInRange(g,x,y,95,Condition(function GG8))
if FirstOfGroup(g)!=null then
call YZG(EL8,Y1G)
endif
call GroupClear(g)
set UN4=Y1G
set U34=5
set UK4=EL8
call GroupEnumUnitsInRange(g,x,y,175,Condition(function GH8))
call ForGroup(g,function YPG)
call GroupClear(g)
endif
call CZ7(g)
endif
set t=null
set EL8=null
set YCG=null
set Y3G=null
set Y6G=null
set YLG=null
set Y1G=null
set g=null
return false
endfunction
function Z4G takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit YCG
local unit Y3G
local unit Y6G
local unit YLG
local unit Z7G
local real x
local real y
set x=GetUnitX(EL8)+250*Cos(bj_DEGTORAD*360*5/5.0*-1.0)
set y=GetUnitY(EL8)+250*Sin(bj_DEGTORAD*360*5/5.0*-1.0)
set YCG=CreateUnit(GetOwningPlayer(EL8),1747993418,x,y,360*5/5.0*-1.0)
call LP7(YCG,1097625443)
set x=GetUnitX(EL8)+250*Cos(bj_DEGTORAD*360*4/5.0*-1.0)
set y=GetUnitY(EL8)+250*Sin(bj_DEGTORAD*360*4/5.0*-1.0)
set Y3G=CreateUnit(GetOwningPlayer(EL8),1747993418,x,y,360*4/5.0*-1.0)
call ShowUnit(Y3G,false)
call SetUnitInvulnerable(Y3G,true)
set x=GetUnitX(EL8)+250*Cos(bj_DEGTORAD*360*3/5.0*-1.0)
set y=GetUnitY(EL8)+250*Sin(bj_DEGTORAD*360*3/5.0*-1.0)
set Y6G=CreateUnit(GetOwningPlayer(EL8),1747993418,x,y,360*3/5.0*-1.0)
call ShowUnit(Y6G,false)
call SetUnitInvulnerable(Y3G,true)
set x=GetUnitX(EL8)+250*Cos(bj_DEGTORAD*360*2/5.0*-1.0)
set y=GetUnitY(EL8)+250*Sin(bj_DEGTORAD*360*2/5.0*-1.0)
set YLG=CreateUnit(GetOwningPlayer(EL8),1747993418,x,y,360*2/5.0*-1.0)
call ShowUnit(YLG,false)
call SetUnitInvulnerable(YLG,true)
set x=GetUnitX(EL8)+250*Cos(bj_DEGTORAD*360*1/5.0*-1.0)
set y=GetUnitY(EL8)+250*Sin(bj_DEGTORAD*360*1/5.0*-1.0)
set Z7G=CreateUnit(GetOwningPlayer(EL8),1747993418,x,y,360*1/5.0*-1.0)
call ShowUnit(Z7G,false)
call SetUnitInvulnerable(Z7G,true)
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(393),(YCG))
call SaveUnitHandle(L7,(OL7),(394),(Y3G))
call SaveUnitHandle(L7,(OL7),(395),(Y6G))
call SaveUnitHandle(L7,(OL7),(396),(YLG))
call SaveUnitHandle(L7,(OL7),(397),(Z7G))
call SaveBoolean(L7,(OL7),(511),(true))
call SaveBoolean(L7,(OL7),(512),(false))
call SaveBoolean(L7,(OL7),(513),(false))
call SaveBoolean(L7,(OL7),(514),(false))
call SaveBoolean(L7,(OL7),(515),(false))
call SaveBoolean(L7,(OL7),(655),(false))
call SaveBoolean(L7,(OL7),(656),(false))
call SaveReal(L7,(OL7),(138),((150)*1.0))
call LP7(EL8,1093752114)
call LP7(EL8,1093752115)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function YBG))
set EL8=null
set t=null
set YCG=null
set Y3G=null
set Y6G=null
set YLG=null
set Z7G=null
endfunction
function Z8G takes nothing returns boolean
if GetSpellAbilityId()==1093751864 then
call Z4G()
endif
return false
endfunction
function UW8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function Z8G))
set t=null
endfunction
function Z9G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local integer HF8=(LoadInteger(L7,(OL7),(5)))
call DW8(EL8,GetEventDamage()*0.05*HF8)
set t=null
set EL8=null
return false
endfunction
function ZDG takes unit u returns nothing
local trigger t
call UnitRemoveAbility(u,1093751891)
call UnitRemoveAbility(u,1093751890)
call UnitRemoveAbility(u,1093751892)
call UnitRemoveAbility(u,1093751888)
if(LoadBoolean(L7,(GetHandleId(u)),(708)))then
call SaveBoolean(L7,(GetHandleId(u)),(708),(false))
set t=(LoadTriggerHandle(L7,(GetHandleId(u)),(709)))
call FlushChildHashtable(L7,(GetHandleId(t)))
call U37(t)
call RemoveSavedHandle(L7,(GetHandleId(u)),(709))
set t=null
endif
endfunction
function ZEG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
call ZDG(EL8)
call FlushChildHashtable(L7,(OL7))
call U37(t)
return false
endfunction
function ZFG takes unit u,integer i returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call SaveUnitHandle(L7,(OL7),(2),(u))
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function ZEG))
if i==1 then
call LP7(u,1093751891)
call SetPlayerAbilityAvailable(GetOwningPlayer(u),1093751891,false)
elseif i==2 then
call LP7(u,1093751890)
call SetPlayerAbilityAvailable(GetOwningPlayer(u),1093751890,false)
elseif i==3 then
call LP7(u,1093751892)
call SetPlayerAbilityAvailable(GetOwningPlayer(u),1093751892,false)
elseif i==4 then
call LP7(u,1093751888)
call SetPlayerAbilityAvailable(GetOwningPlayer(u),1093751888,false)
endif
if(LoadBoolean(L7,(GetHandleId(u)),(708)))==false then
call SaveBoolean(L7,(GetHandleId(u)),(708),(true))
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function Z9G))
call SaveTriggerHandle(L7,(GetHandleId(u)),(709),(t))
call SaveUnitHandle(L7,(GetHandleId(t)),(2),(u))
call SaveInteger(L7,(GetHandleId(t)),(5),(i))
endif
set t=null
endfunction
function ZGG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local integer WZG=(LoadInteger(L7,(OL7),(34)))
local integer HF8=GetUnitAbilityLevel(EL8,1093810257)
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local unit ZHG=(LoadUnitHandle(L7,(GetHandleId(EL8)),(652)))
local boolean ZIG=false
local real ZJG=0.2*(GetUnitState(EL8,UNIT_STATE_LIFE)*0.035)
local real ZKG=0.2*(GetUnitState(EL8,UNIT_STATE_MANA)*0.035)
if GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER then
if GetIssuedOrderId()==String2OrderIdBJ("manashieldon")then
call ZFG(EL8,HF8)
elseif GetIssuedOrderId()==String2OrderIdBJ("manashieldoff")then
call ZDG(EL8)
endif
endif
if GetUnitAbilityLevel(EL8,1093751891)>0 or GetUnitAbilityLevel(EL8,1093751890)>0 or GetUnitAbilityLevel(EL8,1093751892)>0 or GetUnitAbilityLevel(EL8,1093751888)>0 then
set ZIG=true
call SetUnitState(EL8,UNIT_STATE_LIFE,RMaxBJ(GetUnitState(EL8,UNIT_STATE_LIFE)-ZJG,1))
call SetUnitState(EL8,UNIT_STATE_MANA,RMaxBJ(GetUnitState(EL8,UNIT_STATE_MANA)-ZKG,1))
endif
if ZHG==null then
if O_7!=null then
call ZDG(O_7)
set O_7=null
call SaveUnitHandle(L7,(OL7),(17),(O_7))
endif
else
if O_7==null then
set O_7=ZHG
if ZIG then
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call ZFG(O_7,HF8)
else
call ZDG(O_7)
endif
elseif O_7!=ZHG then
call ZDG(O_7)
if ZIG then
set O_7=ZHG
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call ZFG(O_7,HF8)
endif
elseif ZIG==false then
call ZDG(O_7)
elseif O_7==ZHG then
if ZIG then
set O_7=ZHG
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call ZFG(O_7,HF8)
endif
endif
endif
set t=null
set EL8=null
set O_7=null
set ZHG=null
return false
endfunction
function ZMG takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local integer HF8=GetUnitAbilityLevel(EL8,1093810257)
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(null))
call TriggerRegisterTimerEvent(t,0.2,true)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_ISSUED_ORDER)
call TriggerAddCondition(t,Condition(function ZGG))
set EL8=null
set t=null
endfunction
function ZNG takes nothing returns boolean
if GetLearnedSkill()==1093810257 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093810257)==1 then
call ZMG()
endif
return false
endfunction
function UX8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function ZNG))
set t=null
endfunction
function ZOG takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),UZ4)==false then
call GroupAddUnit(UZ4,GetEnumUnit())
call HD8(UJ4,GetEnumUnit(),0.25+0.5*UC4)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\DragonHawkMissile\\DragonHawkMissile.mdl",GetEnumUnit(),"chest"))
endif
endfunction
function ZPG takes unit EL8,unit O_7,group WAG returns nothing
local real x1=GetUnitX(EL8)
local real y1=GetUnitY(EL8)
local real x2=GetUnitX(O_7)
local real y2=GetUnitY(O_7)
local real a=PS7(x1,y1,x2,y2)*bj_DEGTORAD
local real x
local real y
local real d=RI7(x1,y1,x2,y2)
local group g=CA7()
local integer i=1
set UZ4=WAG
set UJ4=EL8
set UC4=GetUnitAbilityLevel(EL8,1093751873)
set UA4=UC4*50+50
loop
exitwhen i>8
set IN4=EL8
set x=x1+d*i/8*Cos(a)
set y=y1+d*i/8*Sin(a)
call GroupEnumUnitsInRange(g,x,y,100,Condition(function FW8))
call ForGroup(g,function ZOG)
call GroupClear(g)
set i=i+1
endloop
call CZ7(g)
set g=null
endfunction
function ZQG takes unit EL8,unit O_7 returns boolean
return(UX7(EL8,"Relocate|Active"))
endfunction
function ZRG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local real d=RH7(EL8,O_7)
local real a=PR7(EL8,O_7)*bj_DEGTORAD
local real x=GetUnitX(EL8)+20*Cos(a)
local real y=GetUnitY(EL8)+20*Sin(a)
local location l
if d<300 or d>2150 then
set l=D09(x,y)
set x=GetLocationX(l)
set y=GetLocationY(l)
call SetUnitX(EL8,DD8(x))
call SetUnitY(EL8,DD8(y))
call E78(x,y,350)
call RemoveLocation(l)
set l=null
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
call SaveInteger(L7,(GetHandleId((EL8))),((4295)),(2))
else
call SetUnitX(EL8,x)
call SetUnitY(EL8,y)
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function ZSG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local group WAG=(LoadGroupHandle(L7,(OL7),(133)))
local lightning ZTG=(LoadLightningHandle(L7,(OL7),(196)))
local integer CS8=GetTriggerEvalCount(t)
local real d=RH7(EL8,O_7)
local real a=1
local real FRD=GetUnitState(EL8,UNIT_STATE_LIFE)
local real JQD=GetUnitState(EL8,UNIT_STATE_MANA)
local real ZUG=(LoadReal(L7,(OL7),(670)))
local real ZVG=(LoadReal(L7,(OL7),(667)))
local real ZWG
local real ZXG
local real ZYG=1.5
if O_7==null or EL8==null or LR7(EL8)==true or(CS8>600 and ZQG(EL8,O_7)==false and((LoadInteger(L7,(GetHandleId((EL8))),((4295))))==1)==false)or(d>925 and((LoadInteger(L7,(GetHandleId((EL8))),((4295))))==1)==false)or GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093751893)then
call CZ7(WAG)
call DestroyLightning(ZTG)
call UnitRemoveAbility(O_7,1093751880)
call UnitRemoveAbility(O_7,1093751881)
call UnitRemoveAbility(O_7,1093751879)
call UnitRemoveAbility(O_7,1093751882)
call UnitRemoveAbility(O_7,1110459464)
call FlushChildHashtable(L7,(OL7))
call U37(t)
call UnitRemoveAbility(EL8,1093751880)
call UnitRemoveAbility(EL8,1093751881)
call UnitRemoveAbility(EL8,1093751879)
call UnitRemoveAbility(EL8,1093751882)
call UnitRemoveAbility(EL8,1110459464)
call UnitRemoveAbility(EL8,1093751893)
if(LoadInteger(L7,(GetHandleId(EL8)),(704)))==0 or(LoadInteger(L7,(GetHandleId(EL8)),(704)))==1093751873 then
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093751873,true)
endif
call RemoveSavedHandle(L7,GetHandleId(EL8),652)
call RemoveSavedHandle(L7,GetHandleId(O_7),StringHash("AI|TetherSource"))
else
set ZWG=FRD/GetUnitState(EL8,UNIT_STATE_MAX_LIFE)
set ZXG=JQD/GetUnitState(EL8,UNIT_STATE_MAX_MANA)
if ZWG-ZUG>0 and(ZWG-ZUG)<0.5 then
if UX7(EL8,"ArmletOfMordiganState")==false then
call SetUnitState(O_7,UNIT_STATE_LIFE,GetUnitState(O_7,UNIT_STATE_LIFE)+ZYG*(ZWG-ZUG)*GetUnitState(EL8,UNIT_STATE_MAX_LIFE))
endif
endif
if ZXG-ZVG>0 and(ZWG-ZUG)<0.5 then
call SetUnitState(O_7,UNIT_STATE_MANA,GetUnitState(O_7,UNIT_STATE_MANA)+ZYG*(ZXG-ZVG)*GetUnitState(EL8,UNIT_STATE_MAX_MANA))
endif
call SaveReal(L7,(OL7),(670),((GetUnitState(EL8,UNIT_STATE_LIFE)/GetUnitState(EL8,UNIT_STATE_MAX_LIFE))*1.0))
call SaveReal(L7,(OL7),(667),((GetUnitState(EL8,UNIT_STATE_MANA)/GetUnitState(EL8,UNIT_STATE_MAX_MANA))*1.0))
call MoveLightning(ZTG,true,GetUnitX(EL8),GetUnitY(EL8),GetUnitX(O_7),GetUnitY(O_7))
call ZPG(EL8,O_7,WAG)
if IsUnitVisible(EL8,GetLocalPlayer())==false and IsUnitVisible(O_7,GetLocalPlayer())==false then
set a=0
endif
if CP7(GetLocalPlayer())then
set a=1
endif
if d<700 or((LoadInteger(L7,(GetHandleId((EL8))),((4295))))==1)==true then
call SetLightningColor(ZTG,0.00,1.00,1.00,a)
else
call SetLightningColor(ZTG,0.80,0.70,0.40,a)
endif
endif
set t=null
set EL8=null
set O_7=null
set WAG=null
set ZTG=null
return false
endfunction
function ZZG takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local lightning ZTG=AddLightning("CHIM",true,GetUnitX(EL8),GetUnitY(EL8),GetUnitX(O_7),GetUnitY(O_7))
local integer HF8=GetUnitAbilityLevel(EL8,1093751873)
local integer ZAG
local real d=RH7(EL8,O_7)
local real a=PR7(EL8,O_7)*bj_DEGTORAD
local location l
local real x
local real y
call SetLightningColor(ZTG,0.00,1.00,1.00,1)
call LP7(EL8,1093751893)
if HF8==1 then
set ZAG=1093751880
elseif HF8==2 then
set ZAG=1093751881
elseif HF8==3 then
set ZAG=1093751879
elseif HF8==4 then
set ZAG=1093751882
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093751873,false)
call LP7(EL8,ZAG)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),ZAG,false)
call LP7(O_7,ZAG)
call SetPlayerAbilityAvailable(GetOwningPlayer(O_7),ZAG,false)
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveGroupHandle(L7,(OL7),(133),(CA7()))
call SaveLightningHandle(L7,(OL7),(196),(ZTG))
call SaveReal(L7,(OL7),(670),((GetUnitState(EL8,UNIT_STATE_LIFE)/GetUnitState(EL8,UNIT_STATE_MAX_LIFE))*1.0))
call SaveReal(L7,(OL7),(667),((GetUnitState(EL8,UNIT_STATE_MANA)/GetUnitState(EL8,UNIT_STATE_MAX_MANA))*1.0))
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZSG))
call SaveUnitHandle(L7,(GetHandleId(EL8)),(652),(O_7))
if IsUnitType(O_7,UNIT_TYPE_HERO)then
call TX7((GetHandleId(O_7)),"AI|TetherSource",EL8)
endif
if d>700 then
set t=CreateTrigger()
set OL7=GetHandleId(t)
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveEffectHandle(L7,(OL7),(32),(AddSpecialEffectTarget("Abilities\\Weapons\\DragonHawkMissile\\DragonHawkMissile.mdl",EL8,"chest")))
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function ZRG))
call SaveInteger(L7,(GetHandleId((EL8))),((4295)),(1))
endif
set EL8=null
set t=null
endfunction
function ZBG takes nothing returns boolean
if GetSpellAbilityId()==1093751873 then
call ZZG()
endif
return false
endfunction
function UY8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZBG))
set t=null
endfunction
function ZCG takes unit EL8,real x,real y returns boolean
local boolean NQD=false
local player p=GetOwningPlayer(EL8)
local unit HE8=CreateUnit(p,1697657425,GetUnitX(EL8),GetUnitY(EL8),0)
call LP7(HE8,1093752372)
if IssuePointOrder(HE8,"blink",x,y)==true then
call KillUnit(HE8)
set HE8=null
return true
else
call KillUnit(HE8)
set HE8=null
return false
endif
endfunction
function Z3G takes string Z6G,unit O_7 returns nothing
local texttag tt=CreateTextTag()
call SetTextTagText(tt,Z6G,0.033)
call SetTextTagPosUnit(tt,O_7,64)
call SetTextTagColor(tt,0,50,255,255)
call SetTextTagVelocity(tt,0,0.0355)
call SetTextTagFadepoint(tt,0.15)
call SetTextTagPermanent(tt,false)
call SetTextTagLifespan(tt,0.85)
call SetTextTagVisibility(tt,true)
set tt=null
endfunction
function ZLG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local integer WZG=GetTriggerEvalCount(t)
if LR7(EL8)==false and WZG<12 then
call Z3G(I2S(12-WZG),EL8)
endif
if WZG==12 then
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set t=null
set EL8=null
return false
endfunction
function Z1G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(GetHandleId(EL8)),(652)))
local real Y8G=(LoadReal(L7,(OL7),(47)))
local real Y9G=(LoadReal(L7,(OL7),(48)))
local real X6G=(LoadReal(L7,(OL7),(189)))
local real XLG=(LoadReal(L7,(OL7),(190)))
local fogmodifier XRG=(LoadFogModifierHandle(L7,(OL7),(42)))
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call UB7(EL8,"Relocate|Active")
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call FogModifierStop(XRG)
call DestroyFogModifier(XRG)
call FlushChildHashtable(L7,(OL7))
call U37(t)
else
call E78(Y8G,Y9G,250)
call E78(X6G,XLG,250)
if GetTriggerEvalCount(t)==1 then
if LR7(EL8)==false then
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(EL8),GetUnitY(EL8)))
call SetUnitPosition(EL8,Y8G,Y9G)
call PanCameraToTimedForPlayer(GetOwningPlayer(EL8),Y8G,Y9G,0)
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(EL8),GetUnitY(EL8)))
call AA7(EL8)
endif
if O_7!=null and LR7(O_7)==false and GetOwningPlayer(O_7)!=Z7[0]and GetOwningPlayer(O_7)!=A7[0]and((US7(GetHandleId(GetOwningPlayer((O_7))),"DisableHelp"))==false)then
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(O_7),GetUnitY(O_7)))
call U07(O_7,"4402",1)
call SetUnitPosition(O_7,Y8G,Y9G)
if IsUnitType(O_7,UNIT_TYPE_HERO)==true and LR7(O_7)==false then
call PanCameraToTimedForPlayer(GetOwningPlayer(O_7),Y8G,Y9G,0)
endif
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(O_7),GetUnitY(O_7)))
call AA7(O_7)
endif
else
if LR7(EL8)==false then
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(EL8),GetUnitY(EL8)))
call SetUnitPosition(EL8,X6G,XLG)
call PanCameraToTimedForPlayer(GetOwningPlayer(EL8),X6G,XLG,0)
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(EL8),GetUnitY(EL8)))
call AA7(EL8)
endif
if O_7!=null and LR7(O_7)==false and GetOwningPlayer(O_7)!=Z7[0]and GetOwningPlayer(O_7)!=A7[0]and((US7(GetHandleId(GetOwningPlayer((O_7))),"DisableHelp"))==false)then
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(O_7),GetUnitY(O_7)))
call U07(O_7,"4402",1)
call SetUnitPosition(O_7,X6G,XLG)
if IsUnitType(O_7,UNIT_TYPE_HERO)==true and LR7(O_7)==false then
call PanCameraToTimedForPlayer(GetOwningPlayer(O_7),X6G,XLG,0)
endif
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(O_7),GetUnitY(O_7)))
call AA7(O_7)
endif
call UB7(EL8,"Relocate|Active")
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call FogModifierStop(XRG)
call DestroyFogModifier(XRG)
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
endif
set t=null
set EL8=null
set O_7=null
set XRG=null
return false
endfunction
function Z0G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local real Y8G=(LoadReal(L7,(OL7),(47)))
local real Y9G=(LoadReal(L7,(OL7),(48)))
local fogmodifier XRG
local integer HF8=GetUnitAbilityLevel(EL8,1093751874)
if DY9(EL8)or FO8(EL8)or LR7(EL8)then
call UB7(EL8,"Relocate|Active")
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
elseif GetTriggerEvalCount(t)==(2.75-0.25*HF8)/.05 then
set XRG=CreateFogModifierRadius(GetOwningPlayer(EL8),FOG_OF_WAR_VISIBLE,GetUnitX(EL8),GetUnitY(EL8),400,true,true)
call FogModifierStart(XRG)
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
set t=CreateTrigger()
set OL7=GetHandleId(t)
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call TriggerRegisterTimerEvent(t,0.01,false)
call TriggerRegisterTimerEvent(t,12,false)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function Z1G))
call SaveReal(L7,(OL7),(189),((GetUnitX(EL8))*1.0))
call SaveReal(L7,(OL7),(190),((GetUnitY(EL8))*1.0))
call SaveReal(L7,(OL7),(47),((Y8G)*1.0))
call SaveReal(L7,(OL7),(48),((Y9G)*1.0))
call SaveEffectHandle(L7,(OL7),(32),(AddSpecialEffect("war3mapImported\\EarthlyEminence.mdl",GetUnitX(EL8),GetUnitY(EL8))))
call SaveFogModifierHandle(L7,(OL7),(42),(XRG))
set t=CreateTrigger()
set OL7=GetHandleId(t)
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function ZLG))
endif
set EL8=null
set t=null
set XRG=null
return false
endfunction
function Z5G takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local unit O_7=(LoadUnitHandle(L7,(GetHandleId(EL8)),(652)))
local integer id=GetPlayerId(GetOwningPlayer(EL8))
local integer HF8=GetUnitAbilityLevel(EL8,1093751874)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",EL8,"chest"))
if O_7!=null then
endif
call PingMinimapEx(x,y,4.0,255,0,0,false)
call EE8(Z7[1],2.5,x,y,300)
call EE8(A7[1],2.5,x,y,300)
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call TriggerRegisterTimerEvent(t,.05,true)
call TriggerAddCondition(t,Condition(function Z0G))
call SaveReal(L7,(OL7),(47),((x)*1.0))
call SaveReal(L7,(OL7),(48),((y)*1.0))
call SaveEffectHandle(L7,(OL7),(32),(AddSpecialEffect("war3mapImported\\EarthlyEminence.mdl",x,y)))
call UZ7(EL8,"Relocate|Active")
set EL8=null
set t=null
endfunction
function Z2G takes nothing returns boolean
if GetSpellAbilityId()==1093751874 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
call Z5G()
else
if ZCG(GetTriggerUnit(),GetSpellTargetX(),GetSpellTargetY())==false then
call RU7(GetTriggerUnit())
call D78(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848658776))
else
if ZL7(GetOwningPlayer(GetTriggerUnit()))then
if IsPointInRegion(U14,GetSpellTargetX(),GetSpellTargetY())==true then
call RU7(GetTriggerUnit())
call D78(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848652633))
endif
else
if IsPointInRegion(UL4,GetSpellTargetX(),GetSpellTargetY())==true then
call RU7(GetTriggerUnit())
call D78(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848652633))
endif
endif
endif
endif
endif
return false
endfunction
function UZ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call D28(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function Z2G))
set UL4=CreateRegion()
call RegionAddRect(UL4,HD)
call RegionAddRect(UL4,OD)
set U14=CreateRegion()
call RegionAddRect(U14,GD)
call RegionAddRect(U14,PD)
set t=null
endfunction
function Z_G takes unit EL8,unit BDE,real A4G,real A7G,real a2 returns nothing
local integer i=0
local real A8G
local real A9G=GetUnitY(BDE)
local real a
local real x
local real y
local real ADG
if BDE!=null then
set A8G=GetUnitX(BDE)
set A9G=GetUnitY(BDE)
set a=PS7(A4G,A7G,A8G,A9G)
else
set a=a2
set A8G=A4G+50*Cos(a*bj_DEGTORAD)
set A9G=A7G+50*Sin(a*bj_DEGTORAD)
endif
set ADG=a
set x=A8G+200*Cos(ADG*bj_DEGTORAD)
set y=A9G+200*Sin(ADG*bj_DEGTORAD)
call EV8(CreateDestructable(1110454326,x,y,-1*ADG,0.6,1),5)
call E78(x,y,300)
set ADG=a-40
set x=A8G+200*Cos(ADG*bj_DEGTORAD)
set y=A9G+200*Sin(ADG*bj_DEGTORAD)
call EV8(CreateDestructable(1110454326,x,y,-1*ADG,0.6,1),5)
call E78(x,y,300)
set ADG=a-80
set x=A8G+200*Cos(ADG*bj_DEGTORAD)
set y=A9G+200*Sin(ADG*bj_DEGTORAD)
call EV8(CreateDestructable(1110454326,x,y,-1*ADG,0.6,1),5)
call E78(x,y,300)
set ADG=a+40
set x=A8G+200*Cos(ADG*bj_DEGTORAD)
set y=A9G+200*Sin(ADG*bj_DEGTORAD)
call EV8(CreateDestructable(1110454326,x,y,-1*ADG,0.6,1),5)
call E78(x,y,300)
set ADG=a+80
set x=A8G+200*Cos(ADG*bj_DEGTORAD)
set y=A9G+200*Sin(ADG*bj_DEGTORAD)
call EV8(CreateDestructable(1110454326,x,y,-1*ADG,0.6,1),5)
call E78(x,y,300)
if BDE!=null then
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\ChainFreeze_F6.mdx",BDE,"chest"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\FrostWyrmMissile\\FrostWyrmMissile.mdl",BDE,"chest"))
call HG8(YK4,BDE,ZG4,YN4*70)
endif
endfunction
function AEG takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),YO4)==false then
if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==false then
call GroupAddUnit(YO4,GetEnumUnit())
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\ChainFreeze_F6.mdx",GetEnumUnit(),"chest"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\FrostWyrmMissile\\FrostWyrmMissile.mdl",GetEnumUnit(),"chest"))
call HG8(YK4,GetEnumUnit(),ZG4,YN4*70)
else
set YM4=GetEnumUnit()
endif
endif
endfunction
function AFG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer ET8=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(ET8),(2)))
local unit BDE=(LoadUnitHandle(L7,(ET8),(17)))
local unit AGG=(LoadUnitHandle(L7,(ET8),(45)))
local real AHG=(LoadReal(L7,(ET8),(683)))
local real AIG=(LoadReal(L7,(ET8),(684)))
local real A4G=GetUnitX(AGG)
local real A7G=GetUnitY(AGG)
local real AJG=Atan2(AIG-A7G,AHG-A4G)
local real AKG=A4G+18*Cos(AJG)
local real AMG=A7G+18*Sin(AJG)
local group ANG=(LoadGroupHandle(L7,(ET8),(133)))
local integer Y8G=GetUnitAbilityLevel(EL8,1093753167)
local group g=CA7()
set IN4=EL8
set YK4=EL8
set YO4=ANG
set YN4=Y8G
set YM4=null
call GroupEnumUnitsInRange(g,AKG,AMG,225,Condition(function FW8))
call ForGroup(g,function AEG)
call CZ7(g)
call SetUnitPosition(AGG,AKG,AMG)
if RI7(AKG,AMG,AHG,AIG)<40 or YM4!=null then
call E78(AKG,AMG,300)
call KillUnit(AGG)
call ShowUnit(AGG,false)
call SetUnitPathing(AGG,true)
if YM4!=null then
call Z_G(EL8,YM4,AKG,AMG,AJG*bj_RADTODEG)
else
call Z_G(EL8,null,AKG,AMG,AJG*bj_RADTODEG)
endif
call CZ7(ANG)
call FlushChildHashtable(L7,(ET8))
call U37(t)
endif
set t=null
set AGG=null
set ANG=null
set g=null
return false
endfunction
function AOG takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer ET8=GetHandleId(t)
local unit AGG=CreateUnit(GetOwningPlayer(EL8),1747993427,GetUnitX(EL8),GetUnitY(EL8),0)
local real A4G=GetUnitX(EL8)
local real A7G=GetUnitY(EL8)
local real A8G=GetSpellTargetX()
local real A9G=GetSpellTargetY()
local real AJG=Atan2(A9G-A7G,A8G-A4G)
local real AHG=DD8(A4G+1600*Cos(AJG))
local real AIG=DE8(A7G+1600*Sin(AJG))
call SetUnitFacing(AGG,AJG*bj_RADTODEG)
call SetUnitPathing(AGG,false)
call TriggerRegisterTimerEvent(t,.02,true)
call TriggerAddCondition(t,Condition(function AFG))
call SaveUnitHandle(L7,(ET8),(2),(EL8))
call SaveReal(L7,(ET8),(683),((AHG)*1.0))
call SaveReal(L7,(ET8),(684),((AIG)*1.0))
call SaveReal(L7,(ET8),(13),((AJG)*1.0))
call SaveUnitHandle(L7,(ET8),(45),(AGG))
call SaveGroupHandle(L7,(ET8),(133),(CA7()))
set EL8=null
set AGG=null
set t=null
endfunction
function APG takes nothing returns boolean
if GetSpellAbilityId()==1093753167 then
call AOG()
endif
return false
endfunction
function UA8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function APG))
set t=null
endfunction
function AQG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local integer HF8=GetUnitAbilityLevel(EL8,1093753169)
local integer CS8=GetTriggerEvalCount(t)
local real y=(CS8-50)*(CS8-50)/4.3
local real B29
if HF8==1 then
set B29=75
elseif HF8==2 then
set B29=150
else
set B29=225
endif
if CS8==1 then
call IssueTargetOrder(EL8,"attack",O_7)
endif
if CS8<50 then
if S9D(O_7)==false then
call SetUnitFlyHeight(O_7,700*CS8/50,0)
endif
elseif CS8<100 then
if S9D(O_7)==false then
call SetUnitFlyHeight(O_7,700-700*(CS8-50)/50,0)
endif
else
if S9D(O_7)==false then
call SetUnitFlyHeight(O_7,GetUnitDefaultFlyHeight(O_7),0)
endif
call DestroyEffect((LoadEffectHandle(L7,(OL7),(175))))
call TQ7(OL7)
call U37(t)
call FE8(O_7,1093808180,1,1+HF8,1110459481)
call SetPlayerAbilityAvailable(GetOwningPlayer(O_7),1093808180,false)
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function ARG takes unit EL8,unit O_7 returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local integer HF8=GetUnitAbilityLevel(EL8,1093753169)
local unit HE8=CreateUnit(GetOwningPlayer(EL8),1697656901,GetUnitX(O_7),GetUnitY(O_7),0)
call DL8("WALRUS PUNCH !!",3.5,EL8,0.03,255,0,0,255)
call E98(XQ4,GetUnitX(O_7),GetUnitY(O_7))
call LP7(HE8,1093752144)
call IssueTargetOrder(HE8,"thunderbolt",O_7)
if S9D(O_7)==false then
call LP7(O_7,1097691750)
call UnitRemoveAbility(O_7,1097691750)
endif
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",O_7,"overhead"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",O_7,"head"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",O_7,"left,hand"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",O_7,"right,hand"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",O_7,"chest"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",O_7,"origin"))
call TriggerRegisterTimerEvent(t,.01,true)
call TriggerAddCondition(t,Condition(function AQG))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveEffectHandle(L7,(OL7),(175),(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\FreezingBreath\\FreezingBreathMissile.mdl",O_7,"chest")))
set t=null
endfunction
function ASG takes nothing returns boolean
local trigger t2=GetTriggeringTrigger()
local integer PRD=GetHandleId(t2)
local unit EL8=(LoadUnitHandle(L7,(PRD),(2)))
local unit O_7=(LoadUnitHandle(L7,(PRD),(17)))
local integer AI7=GetHandleId(EL8)
local trigger t=UI7(AI7,"WalrusPunch|Clear")
if GetTriggerEvalCount(t2)==1 then
call IssueTargetOrder(EL8,"attack",O_7)
elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==EL8 and GetEventDamage()>30 then
if O_7==UE7(AI7,"WalrusPunch|Target")then
call F78(EL8,1093752136,1,0.1)
call F78(EL8,1093752137,1,0.1)
call ARG(EL8,O_7)
if t!=null then
call TriggerEvaluate(t)
endif
endif
call U37(t2)
call TQ7(PRD)
endif
else
call UnitRemoveAbility(EL8,1093752136)
call UnitRemoveAbility(EL8,1093752137)
call TQ7(PRD)
call U37(t2)
endif
set t2=null
set t=null
set EL8=null
set O_7=null
return false
endfunction
function ATG takes nothing returns boolean
local unit EL8=GetAttacker()
local unit O_7=GetTriggerUnit()
local integer AI7=GetHandleId(EL8)
local trigger t=UI7(AI7,"WalrusPunch|Clear")
local trigger t2
local integer PRD
if UX7(EL8,"WalrusPunch|Active")==true and t!=null and O_7!=UE7(AI7,"WalrusPunch|Target")and IsUnitAlly(O_7,GetOwningPlayer(EL8))==false and IsUnitType(O_7,UNIT_TYPE_STRUCTURE)==false then
call TX7(AI7,"WalrusPunch|Target",O_7)
call UnitRemoveAbility(EL8,1093752136)
call UnitRemoveAbility(EL8,1093752137)
if GetUnitState(O_7,UNIT_STATE_LIFE)/GetUnitState(O_7,UNIT_STATE_MAX_LIFE)>0.5 then
call LP7(EL8,1093752136)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093752136,false)
else
call LP7(EL8,1093752137)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093752137,false)
endif
call IssueImmediateOrder(EL8,"stop")
set t2=CreateTrigger()
set PRD=GetHandleId(t2)
call TriggerRegisterTimerEvent(t2,0.,false)
call TriggerRegisterTimerEvent(t2,2.,false)
call TriggerRegisterUnitEvent(t2,O_7,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t2,Condition(function ASG))
call SaveUnitHandle(L7,(PRD),(2),(EL8))
call SaveUnitHandle(L7,(PRD),(17),(O_7))
endif
set EL8=null
set O_7=null
return false
endfunction
function AUG takes nothing returns boolean
if UX7(GetAttacker(),"WalrusPunch|Active")==true then
call ATG()
endif
return false
endfunction
function AVG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local integer AI7=GetHandleId(EL8)
call UB7(EL8,"WalrusPunch|Active")
call DestroyEffect(UK7(AI7,"WalrusPunch|Visual"))
call UnitRemoveAbility(EL8,1093752136)
call UnitRemoveAbility(EL8,1093752137)
call TR7(AI7,"WalrusPunch|Visual")
call TR7(AI7,"WalrusPunch|Target")
call TR7(AI7,"WalrusPunch|Clear")
call TQ7(OL7)
call U37(t)
set EL8=null
set t=null
return false
endfunction
function AWG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
local integer AI7=GetHandleId(EL8)
call TriggerRegisterTimerEvent(t,10.,false)
call TriggerAddCondition(t,Condition(function AVG))
call UZ7(EL8,"WalrusPunch|Active")
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call TX7(AI7,"WalrusPunch|Target",EL8)
call TY7(AI7,"WalrusPunch|Visual",(AddSpecialEffectTarget("war3mapImported\\WalrusPunchWeaponFX.mdx",EL8,"weapon")))
call TZ7(AI7,"WalrusPunch|Clear",t)
set t=null
set EL8=null
endfunction
function AXG takes nothing returns boolean
if GetSpellAbilityId()==1093753169 then
call AWG()
endif
return false
endfunction
function UB8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function AXG))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function AUG))
set t=null
endfunction
function AYG takes nothing returns nothing
call ShowUnit(GetEnumUnit(),true)
call UnitRemoveAbility(GetEnumUnit(),1093678162)
call SetUnitInvulnerable(GetEnumUnit(),false)
call PauseUnit(GetEnumUnit(),false)
if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true then
call SetUnitPosition(GetEnumUnit(),YU4,YV4)
call SelectUnitForPlayerSingle(GetEnumUnit(),GetOwningPlayer(GetEnumUnit()))
else
call SetUnitX(GetEnumUnit(),YU4)
call SetUnitY(GetEnumUnit(),YV4)
endif
if GetEnumUnit()==YQ4 and YR4!=null then
call IssueTargetOrder(YQ4,"attack",YR4)
endif
call DestroyEffect(AddSpecialEffect("war3mapImported\\ChainFreeze_F6.mdx",GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit())))
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FrostWyrmMissile\\FrostWyrmMissile.mdl",GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit())))
endfunction
function AZG takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),YP4)==false then
call GroupAddUnit(YP4,GetEnumUnit())
if GetEnumUnit()==YR4 then
call HG8(YQ4,GetEnumUnit(),ZG4,40*YT4+40)
call SetUnitAbilityLevel(YS4,1093687350,H88(0.25*YT4+0.25))
else
call HG8(YQ4,GetEnumUnit(),ZG4,40*YT4)
call SetUnitAbilityLevel(YS4,1093687350,H88(0.25*YT4))
endif
call SetUnitX(YS4,GetUnitX(GetEnumUnit()))
call SetUnitY(YS4,GetUnitY(GetEnumUnit()))
call IssueTargetOrder(YS4,"thunderbolt",GetEnumUnit())
endif
endfunction
function AAG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local unit EF8=(LoadUnitHandle(L7,(OL7),(45)))
local real EG8=GetUnitX(O_7)
local real EH8=GetUnitY(O_7)
local real r=(LoadReal(L7,(OL7),(671)))
local real a=PS7(GetUnitX(EF8),GetUnitY(EF8),EG8,EH8)*bj_DEGTORAD
local real x=GetUnitX(EF8)+r*Cos(a)
local real y=GetUnitY(EF8)+r*Sin(a)
local group ANG=(LoadGroupHandle(L7,(OL7),(133)))
local group g
local integer CS8=GetTriggerEvalCount(t)
local real BCE=RMinBJ(2.5+(CS8*0.02),10)
local real ABG=225+40*(CS8*0.02)
set YT4=GetUnitAbilityLevel(EL8,1093751607)
set IN4=EL8
set YP4=ANG
set YQ4=EL8
set YR4=O_7
set YS4=(LoadUnitHandle(L7,(OL7),(19)))
call SetUnitX(EF8,x)
call SetUnitY(EF8,y)
call SetUnitFacing(EF8,a*bj_RADTODEG-180)
call SetUnitScale(EF8,BCE,BCE,BCE)
if RI7(x,y,EG8,EH8)<r*2 or CS8==150 then
call E78(x,y,300)
set g=CA7()
call GroupEnumUnitsInRange(g,x,y,ABG,Condition(function FW8))
call ForGroup(g,function AZG)
call CZ7(g)
set g=null
set YU4=x
set YV4=y
call ForGroup((LoadGroupHandle(L7,(OL7),(22))),function AYG)
call CZ7((LoadGroupHandle(L7,(OL7),(22))))
call CZ7(ANG)
call KillUnit(EF8)
call TQ7(OL7)
call U37(t)
else
if ModuloInteger(GetTriggerEvalCount(t),5)==0 then
call E78(x,y,300)
set g=CA7()
call GroupEnumUnitsInRange(g,x,y,ABG,Condition(function FW8))
call ForGroup(g,function AZG)
call CZ7(g)
set g=null
endif
endif
set t=null
set EL8=null
set EF8=null
set ANG=null
return false
endfunction
function ACG takes nothing returns nothing
call DestroyEffect(AddSpecialEffect("war3mapImported\\ChainFreeze_F6.mdx",GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit())))
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FrostWyrmMissile\\FrostWyrmMissile.mdl",GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit())))
call ShowUnit(GetEnumUnit(),false)
call LP7(GetEnumUnit(),1093678162)
call SetUnitInvulnerable(GetEnumUnit(),true)
call PauseUnit(GetEnumUnit(),true)
if YQ4!=GetEnumUnit()then
set YX4=YX4+1
endif
endfunction
function A3G takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit())))or(GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit()))))and((LoadBoolean(L7,(GetHandleId(GetOwningPlayer(GetFilterUnit()))),(139)))==false or YQ4==GetFilterUnit())
endfunction
function A6G takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit BDE=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer ET8=GetHandleId(t)
local real A4G=GetUnitX(EL8)
local real A7G=GetUnitY(EL8)
local real A8G=GetUnitX(BDE)
local real A9G=GetUnitY(BDE)
local real a=PS7(A4G,A7G,A8G,A9G)*bj_DEGTORAD
local unit ALG=CreateUnit(GetOwningPlayer(EL8),1747993395,GetUnitX(EL8),GetUnitY(EL8),GetUnitFacing(EL8))
local group g=CA7()
set YW4=0
set YX4=1
set YQ4=EL8
set YW4=1.5*RMaxBJ(133,GetUnitMoveSpeed(EL8))
call GroupEnumUnitsInRange(g,A4G,A7G,255,Condition(function A3G))
call ForGroup(g,function ACG)
set YS4=CreateUnit(GetOwningPlayer(EL8),1697656901,GetUnitX(EL8),GetUnitY(EL8),0)
call LP7(YS4,1093687350)
call SetUnitTimeScale(ALG,2)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function AAG))
call SaveUnitHandle(L7,(ET8),(2),(EL8))
call SaveUnitHandle(L7,(ET8),(17),(BDE))
call SaveUnitHandle(L7,(ET8),(19),(YS4))
call SaveUnitHandle(L7,(ET8),(45),(ALG))
call SaveReal(L7,(ET8),(137),((a)*1.0))
call SaveReal(L7,(ET8),(671),((YW4*0.02)*1.0))
call SaveReal(L7,(ET8),(47),((A8G)*1.0))
call SaveReal(L7,(ET8),(48),((A9G)*1.0))
call SaveGroupHandle(L7,(ET8),(22),(g))
call SaveGroupHandle(L7,(ET8),(133),(CA7()))
set t=null
set EL8=null
set ALG=null
set g=null
endfunction
function A1G takes nothing returns boolean
if GetSpellAbilityId()==1093751607 then
call A6G()
endif
return false
endfunction
function UC8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function A1G))
call DH8(1093687350)
set t=null
endfunction
function A0G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer ET8=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(ET8),(2)))
local unit BDE=(LoadUnitHandle(L7,(ET8),(17)))
call TQ7(ET8)
call U37(t)
call IssueTargetOrder(EL8,"move",BDE)
set t=null
set EL8=null
set BDE=null
return false
endfunction
function A5G takes nothing returns nothing
local unit EL8=GetSummonedUnit()
local unit BDE=GetSummoningUnit()
local trigger t=CreateTrigger()
local integer ET8=GetHandleId(t)
call TriggerAddCondition(t,Condition(function A0G))
call TriggerRegisterTimerEvent(t,0.2,false)
call SaveUnitHandle(L7,(ET8),(2),(EL8))
call SaveUnitHandle(L7,(ET8),(17),(BDE))
set t=null
set EL8=null
set BDE=null
endfunction
function A2G takes nothing returns boolean
local integer id=GetUnitTypeId(GetSummonedUnit())
if id==1865429322 or id==1865429323 or id==1865429324 or id==1865429325 then
call A5G()
endif
return false
endfunction
function U38 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function A2G))
endfunction
function A_G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local unit HE8=(LoadUnitHandle(L7,(OL7),(19)))
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call FlushChildHashtable(L7,(OL7))
call U37(t)
elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED then
set ZY4=GetEventDamageSource()
else
call SetUnitX(EL8,GetUnitX(O_7))
call SetUnitY(EL8,GetUnitY(O_7))
call SetUnitX(HE8,GetUnitX(O_7))
call SetUnitY(HE8,GetUnitY(O_7))
endif
set t=null
set EL8=null
set O_7=null
set HE8=null
return false
endfunction
function B4G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call FlushChildHashtable(L7,(OL7))
call U37(t)
elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED then
set ZY4=GetEventDamageSource()
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function B7G takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetSummoningUnit()
local unit O_7=GetSummonedUnit()
local unit HE8=CreateUnit(GetOwningPlayer(EL8),1697656901,GetUnitX(EL8),GetUnitY(EL8),0)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function A_G))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveUnitHandle(L7,(OL7),(19),(HE8))
if SU7(EL8,1227899192)then
call UnitAddAbility(HE8,1093678153)
endif
set t=null
set EL8=null
set O_7=null
set HE8=null
endfunction
function B8G takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetSummoningUnit()
local unit O_7=GetSummonedUnit()
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function B4G))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
set t=null
set EL8=null
set O_7=null
endfunction
function B9G takes nothing returns boolean
local integer BG7=GetUnitTypeId(GetSummonedUnit())
if BG7==1852862003 or BG7==1852862006 or BG7==1848652080 or BG7==1848657754 then
call B7G()
elseif BC7(BG7)then
call B8G()
endif
return false
endfunction
function UL8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function B9G))
set t=null
endfunction
function BDG takes nothing returns nothing
call HD8(AT4,GetEnumUnit(),0.75+0.25*GetUnitAbilityLevel(AT4,1093809990))
endfunction
function BEG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local real a=(LoadReal(L7,(OL7),(137)))
local real EG8=(LoadReal(L7,(OL7),(47)))
local real EH8=(LoadReal(L7,(OL7),(48)))
local real F3D=(LoadReal(L7,(OL7),(189)))
local real F6D=(LoadReal(L7,(OL7),(190)))
local group g
local real d=RI7(F3D,F6D,EG8,EH8)/25
local location l
local integer CS8=GetTriggerEvalCount(t)
local real x=F3D+d*CS8*Cos(a)
local real y=F6D+d*CS8*Sin(a)
call SetUnitX(O_7,DD8(x))
call SetUnitY(O_7,DE8(y))
if S9D(O_7)==false then
call SetUnitFlyHeight(O_7,325-13*CS8,0)
endif
if CS8==25 then
call SetUnitX(O_7,DD8(EG8))
call SetUnitY(O_7,DE8(EH8))
if IsPointInRegion(IU4,GetUnitX(O_7),GetUnitY(O_7))==true then
set l=D09(GetUnitX(O_7),GetUnitY(O_7))
call SetUnitX(O_7,DF8(GetLocationX(l)))
call SetUnitY(O_7,DG8(GetLocationY(l)))
call RemoveLocation(l)
set l=null
endif
set IN4=EL8
set AT4=EL8
set g=CA7()
call GroupEnumUnitsInRange(g,GetUnitX(O_7),GetUnitY(O_7),350,Condition(function FW8))
call GroupRemoveUnit(g,O_7)
call ForGroup(g,function BDG)
call CZ7(g)
call E78(GetUnitX(O_7),GetUnitY(O_7),150)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl",GetUnitX(O_7),GetUnitY(O_7)))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(176))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
if S9D(O_7)==false then
call SetUnitFlyHeight(O_7,GetUnitDefaultFlyHeight(O_7),0)
endif
call SetUnitPathing(O_7,true)
endif
set t=null
set EL8=null
set O_7=null
set g=null
return false
endfunction
function BFG takes unit EL8,unit O_7,unit Target2,real BGG,real BHG,effect FX,effect BIG returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local real EG8=BGG
local real EH8=BHG
local real a=PS7(GetUnitX(O_7),GetUnitY(O_7),BGG,BHG)*bj_DEGTORAD
if RI7(GetUnitX(O_7),GetUnitY(O_7),BGG,BHG)>375 then
set EG8=GetUnitX(O_7)+375*Cos(a)
set EH8=GetUnitY(O_7)+375*Sin(a)
endif
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveReal(L7,(OL7),(137),((a)*1.0))
call SaveReal(L7,(OL7),(47),((EG8)*1.0))
call SaveReal(L7,(OL7),(48),((EH8)*1.0))
call SaveReal(L7,(OL7),(189),((GetUnitX(O_7))*1.0))
call SaveReal(L7,(OL7),(190),((GetUnitY(O_7))*1.0))
call SaveEffectHandle(L7,(OL7),(32),(FX))
call SaveEffectHandle(L7,(OL7),(176),(BIG))
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function BEG))
set t=null
endfunction
function BJG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local integer CS8=(LoadInteger(L7,(OL7),(34)))
local integer END=(LoadInteger(L7,(OL7),(12)))
local real EG8=(LoadReal(L7,(OL7),(47)))
local real EH8=(LoadReal(L7,(OL7),(48)))
local integer BKG=(LoadInteger(L7,(OL7),(706)))
local real a
if GetTriggerEventId()==EVENT_WIDGET_DEATH or(GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT and DY9(O_7)==false)then
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093809990,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093810008,false)
call BFG(EL8,O_7,(LoadUnitHandle(L7,(OL7),(711))),EG8,EH8,(LoadEffectHandle(L7,(OL7),(32))),(LoadEffectHandle(L7,(OL7),(176))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093810008 then
call DestroyEffect((LoadEffectHandle(L7,(OL7),(176))))
set a=PS7(GetUnitX(O_7),GetUnitY(O_7),GetSpellTargetX(),GetSpellTargetY())*bj_DEGTORAD
if RI7(GetUnitX(O_7),GetUnitY(O_7),GetSpellTargetX(),GetSpellTargetY())>375 then
set EG8=GetUnitX(O_7)+375*Cos(a)
set EH8=GetUnitY(O_7)+375*Sin(a)
else
set EG8=GetSpellTargetX()
set EH8=GetSpellTargetY()
endif
call SaveEffectHandle(L7,(OL7),(176),(AddSpecialEffect("Abilities\\Spells\\Other\\GeneralAuraTarget\\GeneralAuraTarget.mdl",EG8,EH8)))
call SaveReal(L7,(OL7),(47),((EG8)*1.0))
call SaveReal(L7,(OL7),(48),((EH8)*1.0))
call SaveUnitHandle(L7,(OL7),(711),(GetSpellTargetUnit()))
call SaveEffectHandle(L7,(OL7),(176),(AddSpecialEffectTarget("Abilities\\Spells\\Other\\GeneralAuraTarget\\GeneralAuraTarget.mdl",GetSpellTargetUnit(),"origin")))
endif
else
set CS8=CS8+1
call SaveInteger(L7,(OL7),(34),(CS8))
call SetUnitPathing(O_7,false)
if(LoadInteger(L7,(OL7),(707)))==1 then
set BKG=BKG+3
else
set BKG=BKG-3
endif
call SaveInteger(L7,(OL7),(706),(BKG))
if BKG==30 then
call SaveInteger(L7,(OL7),(707),(-1))
elseif BKG==-30 then
call SaveInteger(L7,(OL7),(707),(1))
endif
if S9D(O_7)==false then
if CS8<15 then
call SetUnitFlyHeight(O_7,CS8*20,0)
else
call SetUnitFlyHeight(O_7,300+BKG,0)
endif
endif
if CS8>(END-25)then
if S9D(O_7)==false then
call SetUnitFlyHeight(O_7,300,0)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093809990,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093810008,false)
call BFG(EL8,O_7,(LoadUnitHandle(L7,(OL7),(711))),EG8,EH8,(LoadEffectHandle(L7,(OL7),(32))),(LoadEffectHandle(L7,(OL7),(176))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function BMG takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local integer HF8=GetUnitAbilityLevel(EL8,1093809990)
local unit HE8=CreateUnit(GetOwningPlayer(O_7),1697656901,GetUnitX(O_7),GetUnitY(O_7),0)
call UnitAddAbility(HE8,1093810226)
call SetUnitAbilityLevel(HE8,1093810226,HF8)
call IssueTargetOrder(HE8,"thunderbolt",O_7)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093809990,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093810008,true)
call UnitAddAbility(EL8,1093810008)
call SetUnitPathing(O_7,false)
if S9D(O_7)==false then
call LP7(O_7,1097691750)
call UnitRemoveAbility(O_7,1097691750)
endif
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveUnitHandle(L7,(OL7),(711),(O_7))
call SaveInteger(L7,(OL7),(12),(R2I((1.25+0.25*HF8)/.02)))
call SaveInteger(L7,(OL7),(34),(0))
call SaveInteger(L7,(OL7),(706),(0))
call SaveInteger(L7,(OL7),(707),(1))
call SaveReal(L7,(OL7),(47),((GetUnitX(O_7))*1.0))
call SaveReal(L7,(OL7),(48),((GetUnitY(O_7))*1.0))
call SaveEffectHandle(L7,(OL7),(32),(AddSpecialEffectTarget("war3mapImported\\AntiGravityTarget.mdx",O_7,"origin")))
call SaveEffectHandle(L7,(OL7),(176),(AddSpecialEffect("Abilities\\Spells\\Other\\GeneralAuraTarget\\GeneralAuraTarget.mdl",GetUnitX(O_7),GetUnitY(O_7))))
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterDeathEvent(t,O_7)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function BJG))
set EL8=null
set O_7=null
endfunction
function BNG takes nothing returns boolean
if GetSpellAbilityId()==1093809990 and CY7(GetSpellTargetUnit())==false then
call BMG()
endif
return false
endfunction
function U18 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function BNG))
call DH8(1093687350)
call DH8(1093810226)
set t=null
endfunction
function BOG takes unit EL8,unit O_7 returns nothing
local integer HF8=GetUnitAbilityLevel(EL8,1093809991)
if IsUnitType(O_7,UNIT_TYPE_HERO)==true then
if HF8==1 then
call F78(O_7,1093810007,1,10)
elseif HF8==2 then
call F78(O_7,1093810230,1,10)
elseif HF8==3 then
call F78(O_7,1093810229,1,10)
elseif HF8==4 then
call F78(O_7,1093810231,1,10)
endif
else
if HF8==1 then
call F78(O_7,1093810481,1,10)
elseif HF8==2 then
call F78(O_7,1093810266,1,10)
elseif HF8==3 then
call F78(O_7,1093810482,1,10)
elseif HF8==4 then
call F78(O_7,1093810480,1,10)
endif
endif
call E98(AH4,GetUnitX(O_7),GetUnitY(O_7))
endfunction
function BPG takes nothing returns nothing
local real d
if IsUnitInGroup(GetEnumUnit(),AW4)==false then
set d=RH7(GetEnumUnit(),AV4)
if d<AX4 then
set AX4=d
set AU4=GetEnumUnit()
endif
endif
endfunction
function BQG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local group G3D=(LoadGroupHandle(L7,(OL7),(187)))
local real x=GetUnitX(O_7)
local real y=GetUnitY(O_7)
local group g=CA7()
call GroupAddUnit(G3D,O_7)
call BOG(EL8,O_7)
set IN4=EL8
set AU4=null
set AV4=O_7
set AW4=G3D
set AX4=999999
call GroupEnumUnitsInRange(g,x,y,440+25,Condition(function GJ8))
call ForGroup(g,function BPG)
call CZ7(g)
if AU4==null or GetTriggerEvalCount(t)>26 then
call CZ7(G3D)
call FlushChildHashtable(L7,(OL7))
call U37(t)
else
set O_7=AU4
call SaveUnitHandle(L7,(OL7),(17),(O_7))
endif
set g=null
set t=null
set EL8=null
set O_7=null
set G3D=null
return false
endfunction
function BRG takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local group G3D=CA7()
local unit HE8=CreateUnit(GetOwningPlayer(EL8),1697656901,GetUnitX(EL8),GetUnitY(EL8),GetUnitFacing(EL8))
call E98(AH4,GetUnitX(EL8),GetUnitY(EL8))
call LP7(HE8,1093810228)
call SetUnitAbilityLevel(HE8,1093810228,GetUnitAbilityLevel(EL8,1093809991))
call IssueTargetOrder(HE8,"chainlightning",O_7)
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveGroupHandle(L7,(OL7),(187),(G3D))
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerAddCondition(t,Condition(function BQG))
set EL8=null
set O_7=null
set t=null
set HE8=null
endfunction
function BSG takes nothing returns boolean
if GetSpellAbilityId()==1093809991 and CY7(GetSpellTargetUnit())==false then
call BRG()
endif
return false
endfunction
function U08 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function BSG))
set t=null
endfunction
function BTG takes nothing returns boolean
if IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),GetLearnedSkill())==1 then
if GetLearnedSkill()==1093809990 then
call UnitRemoveAbility(GetTriggerUnit(),1093809993)
elseif GetLearnedSkill()==1093809991 then
call UnitRemoveAbility(GetTriggerUnit(),1093809995)
elseif GetLearnedSkill()==1093810006 then
call UnitRemoveAbility(GetTriggerUnit(),1093809994)
endif
endif
return false
endfunction
function BUG takes integer id returns nothing
set AY4[AZ4]=id
set AZ4=AZ4+1
endfunction
function BVG takes integer id returns boolean
local integer i=0
loop
exitwhen i==AZ4
if id==AY4[i]then
return true
endif
set i=i+1
endloop
return false
endfunction
function BWG takes nothing returns boolean
local integer i1=GetSpellAbilityId()
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and BVG(i1)==false then
call SaveInteger(L7,(GetHandleId(GetTriggerUnit())),(705),(i1))
call SaveInteger(L7,(GetHandleId(GetTriggerUnit())),(712),(GetUnitAbilityLevel(GetTriggerUnit(),i1)))
endif
return false
endfunction
function BXG takes unit u returns nothing
call UnitRemoveAbility(u,1093743428)
call UnitRemoveAbility(u,1093815881)
call UnitRemoveAbility(u,1093751126)
call UnitRemoveAbility(u,1093751893)
call UnitRemoveAbility(u,1093809217)
call UnitRemoveAbility(u,1093809218)
call UnitRemoveAbility(u,1093750344)
call UnitRemoveAbility(u,1093808206)
call UnitRemoveAbility(u,1093753394)
call UnitRemoveAbility(u,1093753395)
call UnitRemoveAbility(u,1093808181)
call UnitRemoveAbility(u,1093752405)
call UnitRemoveAbility(u,1093683011)
call UnitRemoveAbility(u,1093809221)
call UnitRemoveAbility(u,1093685844)
call UnitRemoveAbility(u,1093751361)
call UnitRemoveAbility(u,1093683265)
call UnitRemoveAbility(u,1093686081)
call UnitRemoveAbility(u,1093743153)
call UnitRemoveAbility(u,1093752646)
call UnitRemoveAbility(u,1093677652)
call UnitRemoveAbility(u,1093751609)
call UnitRemoveAbility(u,1093808456)
call UnitRemoveAbility(u,1093750094)
call UnitRemoveAbility(u,1093678667)
call UnitRemoveAbility(u,1093684805)
call UnitRemoveAbility(u,1093684560)
call UnitRemoveAbility(u,1093815618)
endfunction
function BYG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local integer BZG=(LoadInteger(L7,(OL7),(704)))
local integer BAG=(LoadInteger(L7,(OL7),(713)))
if BZG==(LoadInteger(L7,(GetHandleId(EL8)),(704)))then
call FlushChildHashtable(L7,(OL7))
call U37(t)
elseif GetTriggerEvalCount(t)>(15-BAG)and LR7(EL8)==false then
call UnitRemoveAbility(EL8,BZG)
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set t=null
set EL8=null
return false
endfunction
function BBG takes unit EL8,integer BZG,real E09 returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1.,true)
call TriggerAddCondition(t,Condition(function BYG))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveInteger(L7,(OL7),(704),(BZG))
call SaveInteger(L7,(GetHandleId(EL8)),(704),(-1))
call SaveInteger(L7,(OL7),(713),(R2I((TimerGetElapsed(W))-E09)))
set t=null
endfunction
function BCG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local integer BZG=(LoadInteger(L7,(OL7),(704)))
local integer CS8=(LoadInteger(L7,(OL7),(34)))
local integer HF8=GetUnitAbilityLevel(EL8,1093809992)
local real E09=(LoadReal(L7,(OL7),(411)))
if GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT and GetTriggerEventId()!=EVENT_WIDGET_DEATH then
if CS8==0 then
call SaveInteger(L7,(OL7),(34),(1))
call DisplayTimedTextToPlayer(GetOwningPlayer(EL8),0,0,10,"|c00ff0303"+GetObjectName(1848659031)+"|r")
else
call BXG(EL8)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),BZG,false)
call FlushChildHashtable(L7,(OL7))
call U37(t)
call BBG(EL8,BZG,E09)
endif
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093809992 then
call BXG(EL8)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),BZG,false)
call FlushChildHashtable(L7,(OL7))
call U37(t)
call BBG(EL8,BZG,E09)
elseif GetSpellAbilityId()==BZG then
call SaveReal(L7,(OL7),(411),(((TimerGetElapsed(W)))*1.0))
endif
elseif GetTriggerEventId()==EVENT_WIDGET_DEATH then
call BXG(EL8)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),BZG,false)
call FlushChildHashtable(L7,(OL7))
call U37(t)
call BBG(EL8,BZG,E09)
endif
set t=null
set EL8=null
return false
endfunction
function B3G takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local integer BZG=(LoadInteger(L7,(OL7),(704)))
local integer HF8=(LoadInteger(L7,(OL7),(5)))
local real B6G=60*(2+GetUnitAbilityLevel(EL8,1093809992))
local integer BLG=GetHandleId(EL8)
local integer B1G=GetHandleId(O_7)
if(UQ7(B1G,"WexLevel"))>0 then
call TT7(BLG,"WexLevel",(UQ7(B1G,"WexLevel")))
endif
if(UQ7(B1G,"QuasLevel"))>0 then
call TT7(BLG,"QuasLevel",(UQ7(B1G,"QuasLevel")))
endif
if(UQ7(B1G,"ExortLevel"))>0 then
call TT7(BLG,"ExortLevel",(UQ7(B1G,"ExortLevel")))
endif
if(LoadInteger(L7,(GetHandleId(O_7)),(710)))>0 then
call SaveInteger(L7,(GetHandleId(EL8)),(710),((LoadInteger(L7,(GetHandleId(O_7)),(710)))))
endif
call E98(AE4,GetUnitX(EL8),GetUnitY(EL8))
call DL8(GetObjectName(BZG),3.5,EL8,0.024,170,0,255,216)
call SaveInteger(L7,(GetHandleId(EL8)),(704),(BZG))
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),BZG,true)
call LP7(EL8,BZG)
call SetUnitAbilityLevel(EL8,BZG,HF8)
set t=CreateTrigger()
set OL7=GetHandleId(t)
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveInteger(L7,(OL7),(34),(0))
call SaveInteger(L7,(OL7),(704),(BZG))
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterTimerEvent(t,B6G,false)
call TriggerRegisterDeathEvent(t,EL8)
call TriggerRegisterTimerEvent(t,B6G-20,false)
call TriggerAddCondition(t,Condition(function BCG))
if Z27(GetOwningPlayer(EL8))then
call SZF(EL8,BZG,O_7)
endif
set t=null
set EL8=null
set O_7=null
endfunction
function B0G takes unit EL8,unit O_7,integer BZG,integer HF8 returns nothing
local trigger t=EO8(O_7,EL8,1747993666,"B3G",900)
local integer OL7=GetHandleId(t)
call E98(AD4,GetUnitX(O_7),GetUnitY(O_7))
call DL8(GetObjectName(BZG),3.75,O_7,0.024,170,0,255,216)
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveInteger(L7,(OL7),(704),(BZG))
call SaveInteger(L7,(OL7),(5),(HF8))
set t=null
endfunction
function B5G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if BVG(GetSpellAbilityId())==true then
else
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
else
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function B2G takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
if(LoadInteger(L7,(GetHandleId(O_7)),(705)))!=0 then
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\Nebula.mdx",O_7,"origin"))
call B0G(EL8,O_7,(LoadInteger(L7,(GetHandleId(O_7)),(705))),(LoadInteger(L7,(GetHandleId(O_7)),(712))))
endif
set EL8=null
set O_7=null
endfunction
function SpellSteal takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local string fx=""
if IsPlayerAlly(GetOwningPlayer(EL8),GetLocalPlayer())or CP7(GetLocalPlayer())then
set fx="war3mapImported\\Nebula.mdx"
endif
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveEffectHandle(L7,(OL7),(32),(AddSpecialEffectTarget(fx,O_7,"origin")))
call TriggerRegisterTimerEvent(t,20,false)
call TriggerRegisterDeathEvent(t,O_7)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function B5G))
set EL8=null
set O_7=null
endfunction
function B_G takes nothing returns boolean
if GetSpellAbilityId()==1093809992 and CY7(GetSpellTargetUnit())==false then
call B2G()
endif
return false
endfunction
function C4G takes nothing returns nothing
call BUG(1093752648)
call BUG(1095656306)
call BUG(1093677895)
call BUG(1093679411)
call BUG(1093743946)
call BUG(1093681479)
call BUG(1093681733)
call BUG(1093751896)
call BUG(1093808697)
call BUG(1093751369)
call BUG(1093747504)
call BUG(1093742932)
call BUG(1093744986)
call BUG(1093815877)
call BUG(1093743428)
call BUG(1093815881)
call BUG(1093751126)
call BUG(1093751893)
call BUG(1093809217)
call BUG(1093809218)
call BUG(1093750344)
call BUG(1093808206)
call BUG(1093753394)
call BUG(1093753395)
call BUG(1093808181)
call BUG(1093752405)
call BUG(1093683011)
call BUG(1093809221)
call BUG(1093685844)
call BUG(1093751361)
call BUG(1093683265)
call BUG(1093686081)
call BUG(1093743153)
call BUG(1093752646)
call BUG(1093677652)
call BUG(1093751609)
call BUG(1093808456)
call BUG(1093750094)
call BUG(1093684056)
call BUG(1093684055)
call BUG(1093681461)
call BUG(1093681735)
call BUG(1093808471)
call BUG(1093808472)
call BUG(1093808470)
call BUG(1093808473)
call BUG(1093748565)
call BUG(1093752392)
call BUG(1093752391)
call BUG(1093815600)
call BUG(1093815618)
call BUG(1093677625)
call BUG(1093816121)
call BUG(1093685582)
call BUG(1093677622)
call BUG(1095263841)
call BUG(1093679446)
call BUG(1093682265)
call BUG(1093752642)
call BUG(1093684314)
call BUG(1093685065)
call BUG(1093750337)
call BUG(1093748033)
call BUG(1093684819)
call BUG(1093747777)
call BUG(1093810257)
call BUG(1093687121)
call BUG(1093751864)
call BUG(1093742674)
call BUG(1093742926)
call BUG(1093682521)
call BUG(1093682760)
call BUG(1093686859)
call BUG(1093686865)
call BUG(1093678899)
call BUG(1093677898)
call BUG(1093678154)
call BUG(1093678157)
call BUG(1093678158)
call BUG(1093809990)
call BUG(1093810008)
call BUG(1093809991)
call BUG(1093809992)
call BUG(1093685557)
call BUG(1093686347)
call BUG(1095328363)
call BUG(1093683801)
call BUG(1093747011)
call BUG(1095331948)
call BUG(1095331954)
call BUG(1097163124)
call BUG(1093684016)
call BUG(1093683255)
call BUG(1093683254)
call BUG(1093682767)
call BUG(1093677656)
call BUG(1095332727)
call BUG(1095332962)
call BUG(1093681718)
call BUG(1093751349)
call BUG(1093808182)
call BUG(1093748292)
call BUG(1093748303)
call BUG(1093748305)
call BUG(1093749071)
call BUG(1093681720)
call BUG(1093752645)
call BUG(1093686328)
call BUG(1093686327)
call BUG(1093677367)
call BUG(1093751108)
call BUG(1093748304)
call BUG(1093683788)
call BUG(1094935400)
call BUG(1095333995)
call BUG(1095331943)
call BUG(1093742918)
call BUG(1093742917)
call BUG(1093686067)
call BUG(1093742916)
call BUG(1093742919)
call BUG(1093742920)
call BUG(1093686329)
call BUG(1093743959)
call BUG(1094936696)
call BUG(1093682756)
call BUG(1093686341)
call BUG(1093751863)
call BUG(1093744973)
call BUG(1093677647)
call BUG(1093679193)
call BUG(1093679194)
call BUG(1093679408)
call BUG(1093679410)
call BUG(1093683266)
call BUG(1093682227)
call BUG(1093682246)
call BUG(1093677655)
call BUG(1093681995)
call BUG(1093684023)
call BUG(1093683796)
call BUG(1095328865)
call BUG(1093809721)
call BUG(1093752655)
call BUG(1093748055)
call BUG(1093750095)
call BUG(1093753417)
call BUG(1093753416)
call BUG(1093753431)
call BUG(1093808945)
call BUG(1093743191)
call BUG(1093743681)
call BUG(1093751096)
call BUG(1093810265)
call BUG(1093810244)
call BUG(1093810246)
call BUG(1093815857)
call BUG(1093814863)
call BUG(1093814865)
call BUG(1093814864)
call BUG(1093814866)
call BUG(1093814860)
call BUG(1093813848)
call BUG(1093815089)
call BUG(1093815092)
call BUG(1093815095)
call BUG(1093815111)
call BUG(1093815109)
call BUG(1093815112)
call BUG(1093815097)
call BUG(1093813569)
call BUG(1093751349)
call BUG(1093743415)
endfunction
function U58 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function B_G))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function BWG))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function BTG))
set t=null
call C4G()
endfunction
function C7G takes nothing returns nothing
if D69(GetEnumUnit())then
return
endif
if GetUnitAbilityLevel(GetEnumUnit(),1093810003)>0 then
call UnitRemoveAbility(GetEnumUnit(),1093810003)
endif
if GetUnitAbilityLevel(GetEnumUnit(),1093810001)>0 then
call UnitRemoveAbility(GetEnumUnit(),1093810001)
endif
if GetUnitAbilityLevel(GetEnumUnit(),1093810002)>0 then
call UnitRemoveAbility(GetEnumUnit(),1093810002)
endif
if GetUnitAbilityLevel(GetEnumUnit(),1093810004)>0 then
call UnitRemoveAbility(GetEnumUnit(),1093810004)
endif
endfunction
function C8G takes nothing returns nothing
if D69(GetEnumUnit())then
return
endif
if AA4==1 then
if GetUnitAbilityLevel(GetEnumUnit(),1093810003)==0 then
call LP7(GetEnumUnit(),1093810003)
call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),1093810003,false)
endif
elseif AA4==2 then
if GetUnitAbilityLevel(GetEnumUnit(),1093810001)==0 then
call UnitRemoveAbility(GetEnumUnit(),1093810003)
call LP7(GetEnumUnit(),1093810001)
call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),1093810001,false)
endif
elseif AA4==3 then
if GetUnitAbilityLevel(GetEnumUnit(),1093810002)==0 then
call UnitRemoveAbility(GetEnumUnit(),1093810003)
call UnitRemoveAbility(GetEnumUnit(),1093810001)
call LP7(GetEnumUnit(),1093810002)
call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),1093810002,false)
endif
elseif AA4==4 then
if GetUnitAbilityLevel(GetEnumUnit(),1093810004)==0 then
call UnitRemoveAbility(GetEnumUnit(),1093810003)
call UnitRemoveAbility(GetEnumUnit(),1093810001)
call UnitRemoveAbility(GetEnumUnit(),1093810002)
call LP7(GetEnumUnit(),1093810004)
call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),1093810004,false)
endif
endif
endfunction
function C9G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local group FRE=(LoadGroupHandle(L7,(OL7),(340)))
local real x=GetUnitX(EL8)
local real y=GetUnitY(EL8)
local group g=CA7()
if EL8==null or GetUnitTypeId(EL8)!=1160786520 then
call FlushChildHashtable(L7,(OL7))
call U37(t)
call ForGroup(FRE,function C7G)
call CZ7(FRE)
call CZ7(g)
return false
endif
set IN4=EL8
set AA4=GetUnitAbilityLevel(EL8,1093810006)
if LR7(EL8)==false then
call GroupEnumUnitsInRange(g,x,y,925,Condition(function GR8))
endif
call GroupRemoveGroup(g,FRE)
call ForGroup(FRE,function C7G)
if LR7(EL8)==false then
call ForGroup(g,function C8G)
endif
call SaveGroupHandle(L7,(OL7),(340),(g))
call CZ7(FRE)
set t=null
set EL8=null
set FRE=null
set g=null
return false
endfunction
function CDG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
local integer i
local player p
call TriggerRegisterTimerEvent(t,0.3,true)
call TriggerAddCondition(t,Condition(function C9G))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveGroupHandle(L7,(OL7),(340),(CA7()))
set i=0
loop
exitwhen i>5
set p=Z7[i]
call SetPlayerAbilityAvailable(p,1093810003,false)
call SetPlayerAbilityAvailable(p,1093810001,false)
call SetPlayerAbilityAvailable(p,1093810002,false)
call SetPlayerAbilityAvailable(p,1093810004,false)
set p=A7[i]
call SetPlayerAbilityAvailable(p,1093810003,false)
call SetPlayerAbilityAvailable(p,1093810001,false)
call SetPlayerAbilityAvailable(p,1093810002,false)
call SetPlayerAbilityAvailable(p,1093810004,false)
set i=i+1
endloop
set t=null
set EL8=null
endfunction
function CEG takes nothing returns boolean
if GetLearnedSkill()==1093810006 and GetUnitAbilityLevel(GetTriggerUnit(),1093810006)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call CDG()
endif
return false
endfunction
function U28 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function CEG))
set t=null
endfunction
function CFG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
call AddUnitAnimationProperties(EL8,"alternate",false)
call FlushChildHashtable(L7,(OL7))
call U37(t)
set t=null
set EL8=null
return false
endfunction
function CGG takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function CFG))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
set t=null
set EL8=null
endfunction
function CHG takes nothing returns boolean
if(GetSpellAbilityId()==1093678899 or GetSpellAbilityId()==1093677898 or GetSpellAbilityId()==1093678154 or GetSpellAbilityId()==1093678157 or GetSpellAbilityId()==1093678158)and GetUnitTypeId(GetTriggerUnit())==1160786520 then
call CGG()
endif
return false
endfunction
function U_8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function CHG))
set t=null
endfunction
function CIG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local integer HF8=GetUnitAbilityLevel(EL8,1093810518)
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093810519 then
call UnitRemoveAbility(EL8,1093810519)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093810519,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093810518,true)
call DestroyEffect((LoadEffectHandle(L7,(OL7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(176))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
call HD8(EL8,O_7,0.5+0.5*HF8)
call SetUnitX(EL8,GetUnitX(O_7))
call SetUnitY(EL8,GetUnitY(O_7))
call IssueTargetOrder(EL8,"attack",O_7)
call UnitShareVision(O_7,GetOwningPlayer(EL8),false)
endif
else
call UnitRemoveAbility(EL8,1093810519)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093810519,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093810518,true)
call DestroyEffect((LoadEffectHandle(L7,(OL7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(176))))
call UnitShareVision(O_7,GetOwningPlayer(EL8),false)
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set t=null
set EL8=null
return false
endfunction
function CJG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
if GetTriggerEvalCount(GetTriggeringTrigger())>30 then
call FlushChildHashtable(L7,(OL7))
call U37(t)
else
call E49(EL8)
endif
set t=null
set EL8=null
return false
endfunction
function CKG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7
local integer CS8=(LoadInteger(L7,(OL7),(34)))
local integer HF8=GetUnitAbilityLevel(EL8,1093810518)
if CS8>60 then
call UnitRemoveAbility(EL8,1110459734)
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamage()>100 and IsUnitType(GetEventDamageSource(),UNIT_TYPE_STRUCTURE)==false then
call DW8(EL8,GetEventDamage())
set O_7=M7[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call E49(EL8)
call FlushChildHashtable(L7,(OL7))
call U37(t)
if LR7(O_7)==false then
call UnitShareVision(O_7,GetOwningPlayer(EL8),true)
call LP7(EL8,1093810519)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093810519,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093810518,false)
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterTimerEvent(t,4,false)
call TriggerAddCondition(t,Condition(function CIG))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveEffectHandle(L7,(OL7),(175),(AddSpecialEffectTarget("war3mapImported\\RetaliationTarget.mdx",EL8,"origin")))
call SaveEffectHandle(L7,(OL7),(176),(AddSpecialEffectTarget("war3mapImported\\RetaliationTarget.mdx",O_7,"origin")))
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function CJG))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
endif
endif
else
call SaveInteger(L7,(OL7),(34),(CS8+1))
endif
set t=null
set EL8=null
return false
endfunction
function CMG takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function CKG))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveInteger(L7,(OL7),(34),(0))
call SaveEffectHandle(L7,(OL7),(32),(AddSpecialEffectTarget("war3mapImported\\RetaliationShield.mdx",EL8,"chest")))
set EL8=null
set t=null
endfunction
function CNG takes nothing returns boolean
if GetSpellAbilityId()==1093810518 then
call CMG()
endif
return false
endfunction
function Register_Retaliation takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function CNG))
set t=null
endfunction
function COG takes nothing returns nothing
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\ImmolationRed\\ImmolationRedDamage.mdl",GetEnumUnit(),"chest"))
call HG8(GX7,GetEnumUnit(),1,(25+5*GY7)/5)
endfunction
function CPG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local integer HF8=GetUnitAbilityLevel(EL8,1093814355)
local group g
if GetUnitAbilityLevel(EL8,1110459984)==0 and GetUnitAbilityLevel(EL8,1110459985)==0 then
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
call UnitRemoveAbility(EL8,1093814327)
call UnitRemoveAbility(EL8,1110459983)
call UnitRemoveAbility(EL8,1093814616)
call UnitRemoveAbility(EL8,1093814615)
call UnitRemoveAbility(EL8,1093814614)
call UnitRemoveAbility(EL8,1093814617)
else
set IN4=EL8
set GX7=EL8
set GY7=HF8
set g=CA7()
call GroupEnumUnitsInRange(g,GetUnitX(EL8),GetUnitY(EL8),400+25,Condition(function FW8))
call ForGroup(g,function COG)
call CZ7(g)
endif
set g=null
set t=null
set EL8=null
return false
endfunction
function CQG takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit HE8=CreateUnit(GetOwningPlayer(EL8),1697656901,GetUnitX(EL8),GetUnitY(EL8),0)
local integer HF8=GetUnitAbilityLevel(EL8,1093814355)
call UnitAddAbility(HE8,1093814325)
call SetUnitAbilityLevel(HE8,1093814325,HF8)
call IssueTargetOrder(HE8,"antimagicshell",EL8)
call TriggerRegisterTimerEvent(t,0.2,true)
call TriggerAddCondition(t,Condition(function CPG))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveEffectHandle(L7,(OL7),(32),(AddSpecialEffectTarget("war3mapImported\\FlameGuard.mdx",EL8,"origin")))
if HF8==1 then
elseif HF8==2 then
elseif HF8==3 then
elseif HF8==4 then
endif
set EL8=null
set HE8=null
set t=null
endfunction
function CRG takes nothing returns boolean
if GetSpellAbilityId()==1093814355 then
call CQG()
endif
return false
endfunction
function V78 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function CRG))
set t=null
endfunction
function CSG takes unit EL8 returns nothing
call UnitRemoveAbility(EL8,1112500344)
call UnitRemoveAbility(EL8,1110454344)
endfunction
function CTG takes unit EL8 returns nothing
call UnitRemoveAbility(EL8,1093814329)
call UnitRemoveAbility(EL8,1110459981)
endfunction
function CUG takes unit EL8 returns nothing
call UnitRemoveAbility(EL8,1093814856)
call UnitRemoveAbility(EL8,1093814855)
call UnitRemoveAbility(EL8,1093814858)
call UnitRemoveAbility(EL8,1093814857)
call UnitRemoveAbility(EL8,1110459980)
endfunction
function CVG takes unit EL8 returns nothing
call LP7(EL8,1093814329)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093814329,false)
endfunction
function CWG takes unit EL8 returns nothing
local integer HF8=GetUnitAbilityLevel(EL8,1093814320)
if HF8==1 then
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093814856,false)
call LP7(EL8,1093814856)
elseif HF8==2 then
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093814855,false)
call LP7(EL8,1093814855)
elseif HF8==3 then
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093814858,false)
call LP7(EL8,1093814858)
elseif HF8==4 then
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093814857,false)
call LP7(EL8,1093814857)
endif
endfunction
function CXG takes unit EL8,unit O_7 returns nothing
local real a=GetRandomReal(0,360)
local real x=GetUnitX(O_7)+50*Cos(a*bj_DEGTORAD)
local real y=GetUnitY(O_7)+50*Sin(a*bj_DEGTORAD)
call SetUnitPosition(EL8,x,y)
call SetUnitFacing(EL8,bj_RADTODEG*Atan2(GetUnitY(O_7)-GetUnitY(EL8),GetUnitX(O_7)-GetUnitX(EL8)))
call SetUnitAnimation(EL8,"Attack")
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\Fire_Blink_2.mdx",EL8,"chest"))
call CUG(EL8)
if IsUnitType(O_7,UNIT_TYPE_HERO)==true or IsUnitIllusion(O_7)==true then
call CWG(EL8)
call UnitRemoveAbility(EL8,1093814854)
else
call LP7(EL8,1093814854)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093814854,false)
endif
call IssueTargetOrder(EL8,"attack",O_7)
endfunction
function CYG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local real x=(LoadReal(L7,(OL7),(6)))
local real y=(LoadReal(L7,(OL7),(7)))
local real F3D=(LoadReal(L7,(OL7),(189)))
local real F6D=(LoadReal(L7,(OL7),(190)))
local group G3D=(LoadGroupHandle(L7,(OL7),(187)))
local group g=(LoadGroupHandle(L7,(OL7),(22)))
local unit O_7=null
local boolean JFG=false
local fogmodifier XDD=(LoadFogModifierHandle(L7,(OL7),(42)))
local integer HF8=GetUnitAbilityLevel(EL8,1093814320)
loop
exitwhen FirstOfGroup(g)==null or JFG
set O_7=FirstOfGroup(g)
call GroupRemoveUnit(g,O_7)
if IsUnitInGroup(O_7,G3D)and O_7!=null then
set O_7=null
set JFG=false
else
set JFG=true
endif
endloop
call SetUnitPathing(EL8,false)
call SetUnitInvulnerable(EL8,true)
call FP8(EL8)
if JFG==false or((LoadInteger(L7,(GetHandleId((EL8))),((4319))))==1)==true then
call SaveInteger(L7,(GetHandleId((EL8))),((4318)),(2))
call CTG(EL8)
call UnitRemoveAbility(EL8,1093814854)
call CUG(EL8)
call FP8(EL8)
call CSG(EL8)
call UnitAddAbility(EL8,1093814322)
call UnitRemoveAbility(EL8,1093814322)
call FP8(EL8)
if((LoadInteger(L7,(GetHandleId((EL8))),((4319))))==1)==false then
call SetUnitX(EL8,F3D)
call SetUnitY(EL8,F6D)
endif
call SetUnitVertexColor(EL8,255,255,255,255)
call SetUnitPathing(EL8,true)
call SetUnitInvulnerable(EL8,false)
call SetUnitTimeScale(EL8,1)
call CZ7(G3D)
call CZ7(g)
call RemoveUnit((LoadUnitHandle(L7,(OL7),(19))))
call FogModifierStop(XDD)
call DestroyFogModifier(XDD)
call FlushChildHashtable(L7,(OL7))
call U37(t)
else
call GroupAddUnit(G3D,O_7)
call CXG(EL8,O_7)
endif
set t=null
set EL8=null
set O_7=null
set g=null
set G3D=null
set XDD=null
return false
endfunction
function CZG takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local fogmodifier XDD=CreateFogModifierRadius(GetOwningPlayer(EL8),FOG_OF_WAR_VISIBLE,x,y,600,true,true)
local unit HE8=CreateUnit(GetOwningPlayer(EL8),1747993911,GetUnitX(EL8),GetUnitY(EL8),GetUnitFacing(EL8))
local group g=CA7()
local integer HF8=GetUnitAbilityLevel(EL8,1093814320)
call SetUnitVertexColor(HE8,255,255,255,100)
call FogModifierStart(XDD)
call SaveInteger(L7,(GetHandleId((EL8))),((4318)),(1))
set IN4=EL8
call GroupEnumUnitsInRange(g,x,y,150+100*HF8+25,Condition(function FJ8))
call FP8(EL8)
call CSG(EL8)
call UnitAddAbility(EL8,1093814321)
call UnitRemoveAbility(EL8,1093814321)
call SetUnitVertexColor(EL8,255,255,255,125)
call SetUnitPathing(EL8,false)
call SetUnitInvulnerable(EL8,true)
call SetUnitTimeScale(EL8,3)
call TriggerRegisterTimerEvent(t,0.2,true)
call TriggerAddCondition(t,Condition(function CYG))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveReal(L7,(OL7),(6),((x)*1.0))
call SaveReal(L7,(OL7),(7),((y)*1.0))
call SaveReal(L7,(OL7),(189),((GetUnitX(EL8))*1.0))
call SaveReal(L7,(OL7),(190),((GetUnitY(EL8))*1.0))
call SaveGroupHandle(L7,(OL7),(187),(CA7()))
call SaveGroupHandle(L7,(OL7),(22),(g))
call SaveFogModifierHandle(L7,(OL7),(42),(XDD))
call SaveUnitHandle(L7,(OL7),(19),(HE8))
call CVG(EL8)
call TriggerEvaluate(t)
set EL8=null
set t=null
set XDD=null
set HE8=null
set g=null
endfunction
function CAG takes nothing returns boolean
if GetSpellAbilityId()==1093814320 then
call CZG()
endif
return false
endfunction
function CBG takes nothing returns boolean
local unit C48=GetSummonedUnit()
if IsUnitIllusion(C48)==true and GetUnitTypeId(C48)==1311788360 then
call CTG(C48)
call UnitRemoveAbility(C48,1093814854)
call CUG(C48)
call UnitAddAbility(C48,1093814322)
call UnitRemoveAbility(C48,1093814322)
endif
set C48=null
return false
endfunction
function V88 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function CAG))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function CBG))
set t=null
endfunction
function CCG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local integer HF8=GetUnitAbilityLevel(EL8,1093814323)
local integer END=2
if HF8>2 then
set END=3
endif
if GetTriggerEvalCount(t)==END then
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
call HG8(EL8,O_7,1,20+20*HF8)
set t=null
set EL8=null
set O_7=null
return false
endfunction
function C3G takes nothing returns nothing
local unit EL8=IN4
local unit O_7=IP4
local unit HE8=CreateUnit(GetOwningPlayer(O_7),1697656901,GetUnitX(O_7),GetUnitY(O_7),0)
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call UnitAddAbility(HE8,1093814324)
call IssueTargetOrder(HE8,"ensnare",O_7)
call TriggerAddCondition(t,Condition(function CCG))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call TriggerRegisterTimerEvent(t,0,false)
call TriggerRegisterTimerEvent(t,1,true)
set HE8=null
set EL8=null
set O_7=null
endfunction
function C6G takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local group g=CA7()
local real x=GetUnitX(EL8)
local real y=GetUnitY(EL8)
local unit u1=null
local unit u2=null
local unit u3=null
local integer QG7=0
local unit u
local trigger t
set IN4=EL8
call GroupEnumUnitsInRange(g,x,y,425,Condition(function GJ8))
loop
exitwhen FirstOfGroup(g)==null or QG7==2
set u=GroupPickRandomUnit(g)
if u!=null then
if QG7==0 then
set u1=u
elseif QG7==1 then
set u2=u
elseif QG7==2 then
set u3=u
endif
set QG7=QG7+1
call GroupRemoveUnit(g,u)
endif
endloop
call CZ7(g)
if u1!=null then
call EO8(EL8,u1,1747993904,"C3G",9000)
endif
if u2!=null then
call EO8(EL8,u2,1747993904,"C3G",9000)
endif
if u3!=null then
endif
set g=null
set EL8=null
set u=null
set u1=null
set u2=null
set u3=null
endfunction
function CLG takes nothing returns boolean
if GetSpellAbilityId()==1093814323 then
call C6G()
endif
return false
endfunction
function V48 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function CLG))
set t=null
endfunction
function C1G takes nothing returns boolean
local unit EL8=(LoadUnitHandle(L7,(GetHandleId(GetTriggeringTrigger())),(2)))
local integer OL7=GetHandleId(EL8)
local integer i=0
local real YXG=(TimerGetElapsed(W))
local integer C0G=(LoadInteger(L7,(OL7),(749)))
local real x
local real y
local real t
loop
exitwhen i>C0G
set t=(LoadReal(L7,(OL7),(10000+i)))
if t+10>YXG then
set x=(LoadReal(L7,(OL7),(11000+i)))
set y=(LoadReal(L7,(OL7),(12000+i)))
endif
set i=i+1
endloop
set EL8=null
return false
endfunction
function C5G takes integer OL7,integer C0G,real EK8,real EM8 returns boolean
local real x
local real y
local real t
local integer i=0
local real YXG=(TimerGetElapsed(W))
loop
exitwhen i>C0G
set t=(LoadReal(L7,(OL7),(10000+i)))
if t+10>YXG then
set x=(LoadReal(L7,(OL7),(11000+i)))
set y=(LoadReal(L7,(OL7),(12000+i)))
if RI7(x,y,EK8,EM8)<75 then
return true
endif
endif
set i=i+1
endloop
return false
endfunction
function C2G takes integer OL7,integer C0G returns integer
local real t
local integer i=0
local real YXG=(TimerGetElapsed(W))
loop
exitwhen i>C0G
set t=(LoadReal(L7,(OL7),(10000+i)))
if t+10<YXG then
return i
endif
set i=i+1
endloop
return-1
endfunction
function C_G takes unit EL8,integer L4G,real x,real y returns nothing
local integer OL7=GetHandleId(EL8)
local integer C0G=(LoadInteger(L7,(OL7),(749)))
local integer L7G
if C5G(OL7,C0G,x,y)then
return
endif
set L7G=C2G(OL7,C0G)
if L7G==-1 then
set L7G=C0G
set C0G=C0G+1
call SaveInteger(L7,(OL7),(749),(C0G))
endif
call SaveInteger(L7,(OL7),(13000),(L4G))
call SaveReal(L7,(OL7),(10000),(((TimerGetElapsed(W)))*1.0))
call SaveReal(L7,(OL7),(11000),((x)*1.0))
call SaveReal(L7,(OL7),(11000),((y)*1.0))
endfunction
function L8G takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerAddCondition(t,Condition(function C1G))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
set EL8=null
set t=null
endfunction
function L9G takes nothing returns nothing
call HG8(GA7,GetEnumUnit(),1,50+GZ7*50)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\LordofFlameMissile\\LordofFlameMissile.mdl",GetEnumUnit(),"origin"))
endfunction
function LDG takes unit EL8,unit PTD,real x,real y returns nothing
local group g
call KillUnit(PTD)
call DC8("war3mapImported\\Firaga_2.mdx",x,y,2)
set g=CA7()
set IN4=EL8
set GA7=EL8
set GZ7=GetUnitAbilityLevel(EL8,1093814859)
call GroupEnumUnitsInRange(g,x,y,450+25,Condition(function FW8))
call UnitRemoveAbility(EL8,1093678162)
call ForGroup(g,function L9G)
call LP7(EL8,1093678162)
call CZ7(g)
set g=null
endfunction
function LEG takes unit EL8,unit LFG returns nothing
local integer OL7=GetHandleId(EL8)
local integer LGG=(LoadInteger(L7,(OL7),(746)))
local unit LHG
local integer i=1
local integer x
loop
exitwhen i>LGG
set LHG=(LoadUnitHandle(L7,(OL7),(1450+i)))
if LHG==LFG then
set LGG=LGG-1
call SaveUnitHandle(L7,(OL7),(1450+i),((LoadUnitHandle(L7,(OL7),(1450+i+1)))))
call SaveInteger(L7,(OL7),(746),(LGG))
set x=i+1
loop
exitwhen x>LGG
call SaveUnitHandle(L7,(OL7),(1450+x),((LoadUnitHandle(L7,(OL7),(1450+x+1)))))
set x=x+1
endloop
endif
set i=i+1
endloop
set LHG=null
endfunction
function LIG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit PTD=(LoadUnitHandle(L7,(OL7),(19)))
local real Z69=GetUnitX(PTD)
local real ZL9=GetUnitY(PTD)
local real EG8=(LoadReal(L7,(OL7),(47)))
local real EH8=(LoadReal(L7,(OL7),(48)))
local real a=PS7(Z69,ZL9,EG8,EH8)*bj_DEGTORAD
local real EK8
local real EM8
local real d=RI7(Z69,ZL9,EG8,EH8)
local real JND=GetUnitMoveSpeed(EL8)*2.5*0.02
local group g
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
call LEG(EL8,PTD)
call DestroyEffect((LoadEffectHandle(L7,(OL7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(176))))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(177))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
elseif d<2 then
call SetUnitAnimationByIndex(PTD,1)
else
if d<JND then
set EK8=EG8
set EM8=EH8
else
set EK8=Z69+JND*Cos(a)
set EM8=ZL9+JND*Sin(a)
endif
call SetUnitX(PTD,EK8)
call SetUnitY(PTD,EM8)
endif
set t=null
set EL8=null
set PTD=null
return false
endfunction
function LJG takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local real a=PS7(GetUnitX(EL8),GetUnitY(EL8),GetSpellTargetX(),GetSpellTargetY())*bj_DEGTORAD
local integer OL7=GetHandleId(EL8)
local integer LGG=(LoadInteger(L7,(OL7),(746)))
local integer HF8=GetUnitAbilityLevel(EL8,1093814859)
local unit LHG=(LoadUnitHandle(L7,(OL7),(1450+1)))
local unit LKG=CreateUnit(GetOwningPlayer(EL8),1747993912,GetUnitX(EL8),GetUnitY(EL8),a*bj_RADTODEG)
local trigger t
local integer i=1
set LGG=LGG+1
call SaveUnitHandle(L7,(OL7),(1450+LGG),(LKG))
call SaveInteger(L7,(OL7),(746),(LGG))
set t=CreateTrigger()
set OL7=GetHandleId(t)
call SetUnitVertexColor(LKG,255,255,255,75)
call SetUnitTimeScale(LKG,2)
call SetUnitAnimationByIndex(LKG,0)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function LIG))
call TriggerRegisterDeathEvent(t,LKG)
call UnitApplyTimedLife(LKG,1112820806,45)
call SaveEffectHandle(L7,(OL7),(175),(AddSpecialEffectTarget("war3mapImported\\Phoenix_Missile_smaller.mdx",LKG,"hand right alternate")))
call SaveEffectHandle(L7,(OL7),(176),(AddSpecialEffectTarget("war3mapImported\\Phoenix_Missile_smaller.mdx",LKG,"hand left alternate")))
call SaveEffectHandle(L7,(OL7),(177),(AddSpecialEffectTarget("war3mapImported\\FlameDash_Ground.mdx",LKG,"origin")))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(19),(LKG))
call SaveReal(L7,(OL7),(47),((GetSpellTargetX())*1.0))
call SaveReal(L7,(OL7),(48),((GetSpellTargetY())*1.0))
set EL8=null
set t=null
set LHG=null
set LKG=null
endfunction
function LMG takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local integer U8E=(LoadInteger(L7,(GetHandleId(EL8)),(747)))
if U8E>0 then
call LJG()
call UnitRemoveAbility(EL8,GL7[U8E])
set U8E=U8E-1
call SaveInteger(L7,(GetHandleId(EL8)),(747),(U8E))
call LP7(EL8,GL7[U8E])
else
call D78(GetOwningPlayer(GetTriggerUnit()),"No more charges")
endif
set EL8=null
endfunction
function LNG takes nothing returns boolean
return GetUnitTypeId(GetFilterUnit())==1747993912
endfunction
function LOG takes nothing returns nothing
local real EOE=RI7(GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),GB7,GC7)
if EOE>G37 and LR7(GetEnumUnit())==false then
set G67=GetEnumUnit()
set G37=EOE
endif
endfunction
function LPG takes unit EL8,real x,real y returns unit
local group g=CA7()
set G67=null
set G37=-1
set GB7=x
set GC7=y
call GroupEnumUnitsOfPlayer(g,GetOwningPlayer(EL8),Condition(function LNG))
call ForGroup(g,function LOG)
call CZ7(g)
set g=null
return G67
endfunction
function FireRemnant_FindTargetClosest takes nothing returns nothing
local real EOE=RI7(GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),GB7,GC7)
if EOE<G37 and LR7(GetEnumUnit())==false then
set G67=GetEnumUnit()
set G37=EOE
endif
endfunction
function LQG takes unit u1,unit u2 returns real
local real DOD=RH7(u1,u2)
local real GP9=DOD/1300.0
if GP9>0.4 then
return DOD/0.4
endif
return 1300.0
endfunction
function LRG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local real OUE=(LoadReal(L7,(OL7),(47)))
local real OVE=(LoadReal(L7,(OL7),(48)))
local unit PTD=(LoadUnitHandle(L7,(OL7),(19)))
local real Z69=GetUnitX(EL8)
local real ZL9=GetUnitY(EL8)
local real EG8=(LoadReal(L7,(OL7),(6)))
local real EH8=(LoadReal(L7,(OL7),(7)))
local real a
local real EK8
local real EM8
local real d
local real LSG=(LoadReal(L7,(OL7),(44)))
local real JND=LSG*0.02
local group g
local integer CS8=(LoadInteger(L7,(OL7),(34)))
if PTD!=null then
set EG8=GetUnitX(PTD)
set EH8=GetUnitY(PTD)
call SaveReal(L7,(OL7),(6),((EG8)*1.0))
call SaveReal(L7,(OL7),(7),((EH8)*1.0))
endif
set a=PS7(Z69,ZL9,EG8,EH8)*bj_DEGTORAD
set d=RI7(Z69,ZL9,EG8,EH8)
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
call SaveInteger(L7,(GetHandleId((EL8))),((4319)),(2))
call SetUnitVertexColor(EL8,255,255,255,255)
call SetUnitTimeScale(EL8,1)
call SetUnitAnimationByIndex(EL8,0)
call SetUnitPathing(EL8,true)
call SetUnitInvulnerable(EL8,false)
call UnitRemoveAbility(EL8,1093678162)
call DestroyEffect((LoadEffectHandle(L7,(OL7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(176))))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(177))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
elseif d<JND then
call SetUnitX(EL8,EG8)
call SetUnitY(EL8,EH8)
call LDG(EL8,PTD,EG8,EH8)
set PTD=LPG(EL8,OUE,OVE)
if PTD==null then
call SaveInteger(L7,(GetHandleId((EL8))),((4319)),(2))
call E78(EG8,EH8,100)
call SetUnitVertexColor(EL8,255,255,255,255)
call SetUnitTimeScale(EL8,1)
call SetUnitAnimationByIndex(EL8,1)
call SetUnitPathing(EL8,true)
call SetUnitInvulnerable(EL8,false)
call UnitRemoveAbility(EL8,1093678162)
call DestroyEffect((LoadEffectHandle(L7,(OL7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(176))))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(177))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
else
call SaveInteger(L7,(OL7),(34),(CS8+1))
call SaveUnitHandle(L7,(OL7),(19),(PTD))
call SaveReal(L7,(OL7),(44),((LQG(EL8,PTD))*1.0))
call SaveReal(L7,(OL7),(6),((GetUnitX(PTD))*1.0))
call SaveReal(L7,(OL7),(7),((GetUnitY(PTD))*1.0))
endif
else
call SetUnitAnimationByIndex(EL8,0)
call SetUnitPathing(EL8,false)
set EK8=Z69+JND*Cos(a)
set EM8=ZL9+JND*Sin(a)
call SetUnitX(EL8,EK8)
call SetUnitY(EL8,EM8)
call SetUnitFacing(EL8,a*bj_RADTODEG)
endif
call C_G(EL8,CS8,GetUnitX(EL8),GetUnitY(EL8))
set t=null
set EL8=null
set PTD=null
return false
endfunction
function LTG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
call SetUnitState(EL8,UNIT_STATE_MANA,GetUnitState(EL8,UNIT_STATE_MANA)+150)
call FlushChildHashtable(L7,(OL7))
call U37(t)
set t=null
set EL8=null
return false
endfunction
function LUG takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local trigger t
local integer OL7=GetHandleId(EL8)
local integer LGG=(LoadInteger(L7,(OL7),(746)))
local unit PTD
if LGG>0 and((LoadInteger(L7,(GetHandleId((EL8))),((4319))))==1)==false then
set t=CreateTrigger()
set OL7=GetHandleId(t)
call SetUnitVertexColor(EL8,255,0,0,75)
call SetUnitTimeScale(EL8,2)
call SetUnitAnimationByIndex(EL8,0)
call SetUnitPathing(EL8,false)
call SetUnitInvulnerable(EL8,true)
call LP7(EL8,1093678162)
call SaveInteger(L7,(GetHandleId((EL8))),((4319)),(1))
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function LRG))
call TriggerRegisterDeathEvent(t,EL8)
call SaveEffectHandle(L7,(OL7),(175),(AddSpecialEffectTarget("war3mapImported\\Phoenix_Missile_smaller.mdx",EL8,"hand right alternate")))
call SaveEffectHandle(L7,(OL7),(176),(AddSpecialEffectTarget("war3mapImported\\Phoenix_Missile_smaller.mdx",EL8,"hand left alternate")))
call SaveEffectHandle(L7,(OL7),(177),(AddSpecialEffectTarget("war3mapImported\\FlameDash_Ground.mdx",EL8,"origin")))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveReal(L7,(OL7),(47),((GetSpellTargetX())*1.0))
call SaveReal(L7,(OL7),(48),((GetSpellTargetY())*1.0))
set PTD=LPG(EL8,GetSpellTargetX(),GetSpellTargetY())
call SaveUnitHandle(L7,(OL7),(19),(PTD))
call SaveReal(L7,(OL7),(44),((LQG(EL8,PTD))*1.0))
call SaveReal(L7,(OL7),(6),((GetUnitX(PTD))*1.0))
call SaveReal(L7,(OL7),(7),((GetUnitY(PTD))*1.0))
call SaveInteger(L7,(OL7),(34),(1))
else
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.0,false)
call TriggerAddCondition(t,Condition(function LTG))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
endif
set t=null
set EL8=null
set PTD=null
endfunction
function LVG takes nothing returns boolean
if GetSpellAbilityId()==GL7[0]or GetSpellAbilityId()==GL7[1]or GetSpellAbilityId()==GL7[2]or GetSpellAbilityId()==GL7[3]then
call LMG()
elseif GetSpellAbilityId()==1093814860 then
call LUG()
endif
return false
endfunction
function LWG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local integer U8E=(LoadInteger(L7,(GetHandleId(EL8)),(747)))
local integer CS8=(LoadInteger(L7,(OL7),(34)))
if U8E<3 then
set CS8=CS8-1
call SaveInteger(L7,(OL7),(34),(CS8))
if CS8==0 then
call UnitRemoveAbility(EL8,GL7[U8E])
set CS8=35
call SaveInteger(L7,(OL7),(34),(CS8))
set U8E=U8E+1
call SaveInteger(L7,(GetHandleId(EL8)),(747),(U8E))
call LP7(EL8,GL7[U8E])
endif
endif
set t=null
set EL8=null
return false
endfunction
function LXG takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call SaveInteger(L7,(GetHandleId(EL8)),(747),(3))
call LP7(EL8,GL7[3])
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function LWG))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveInteger(L7,(OL7),(34),(30))
set EL8=null
set t=null
endfunction
function LYG takes nothing returns boolean
if GetLearnedSkill()==1093814859 and IsUnitIllusion(GetTriggerUnit())==false then
call LP7(GetTriggerUnit(),1093814860)
call SetUnitAbilityLevel(GetTriggerUnit(),1093814860,GetUnitAbilityLevel(GetTriggerUnit(),1093814859))
if GetUnitAbilityLevel(GetTriggerUnit(),1093814859)==1 then
call LXG()
call L8G()
endif
endif
return false
endfunction
function V98 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function LVG))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function LYG))
set t=null
set GL7[0]=1093814863
set GL7[1]=1093814865
set GL7[2]=1093814864
set GL7[3]=1093814866
endfunction
function LZG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
call FlushChildHashtable(L7,(OL7))
call U37(t)
elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamage()>2 and G17 then
set G17=false
call HG8(GetEventDamageSource(),O_7,3,GetEventDamage()*0.25)
set G17=true
endif
else
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function LAG takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit HE8=CreateUnit(GetOwningPlayer(EL8),1697656901,GetUnitX(O_7),GetUnitY(O_7),0)
local integer HF8=GetUnitAbilityLevel(EL8,1093812536)
set G17=true
call UnitAddAbility(HE8,1093812535)
call SetUnitAbilityLevel(HE8,1093812535,HF8)
call IssueTargetOrder(HE8,"soulburn",O_7)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DAMAGED)
call TriggerRegisterDeathEvent(t,O_7)
call TriggerRegisterTimerEvent(t,2+HF8,false)
call TriggerAddCondition(t,Condition(function LZG))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
set EL8=null
set O_7=null
set t=null
endfunction
function LBG takes nothing returns boolean
if GetSpellAbilityId()==1093812536 then
call LAG()
endif
return false
endfunction
function Register_ArcaneSeal takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function LBG))
set t=null
endfunction
function LCG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local real a=(LoadReal(L7,(OL7),(137)))
local real d=(LoadReal(L7,(OL7),(138)))
local real x=DD8(GetUnitX(O_7)+d/10*Cos(a))
local real y=DE8(GetUnitY(O_7)+d/10*Sin(a))
if GetTriggerEvalCount(t)==11 or GetTriggerEventId()==EVENT_UNIT_DEATH then
call FlushChildHashtable(L7,(OL7))
call U37(t)
else
call DestroyEffect(AddSpecialEffect("war3mapImported\\ThrustMovement.mdx",x,y))
call E78(x,y,150)
call SetUnitX(O_7,x)
call SetUnitY(O_7,y)
endif
set O_7=null
set t=null
return false
endfunction
function L3G takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local integer HF8=GetUnitAbilityLevel(EL8,1093812537)
local real a
local real x
local real y
local real d
local integer i=-1
local boolean JGG=false
if EL8==O_7 then
set a=GetUnitFacing(EL8)*bj_DEGTORAD
else
set a=PR7(EL8,O_7)*bj_DEGTORAD
endif
loop
exitwhen JGG or i==23
set i=i+1
set x=DD8(GetUnitX(O_7)+(350-i*25)*Cos(a))
set y=DE8(GetUnitY(O_7)+(350-i*25)*Sin(a))
if(IsPointInRegion(IU4,((x)*1.0),((y)*1.0)))==false then
set JGG=true
endif
endloop
set d=RI7(x,y,GetUnitX(O_7),GetUnitY(O_7))
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function LCG))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveReal(L7,(OL7),(137),((a)*1.0))
call SaveReal(L7,(OL7),(138),((d)*1.0))
if IsUnitAlly(EL8,GetOwningPlayer(O_7))==true then
call SetUnitState(O_7,UNIT_STATE_LIFE,GetUnitState(O_7,UNIT_STATE_LIFE)+50+50*HF8)
else
call HG8(EL8,O_7,3,50+50*HF8)
endif
set EL8=null
set O_7=null
set t=null
endfunction
function L6G takes nothing returns boolean
if GetSpellAbilityId()==1093812537 then
call L3G()
endif
return false
endfunction
function Register_Thrust takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function L6G))
set t=null
endfunction
function LLG takes nothing returns nothing
call IssueTargetOrder(G07,"ensnare",GetEnumUnit())
call HG8(GetTriggerUnit(),GetEnumUnit(),1,60*G57)
endfunction
function L1G takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local group g1=CA7()
local group g2=CA7()
local integer HF8=GetUnitAbilityLevel(EL8,1093812534)
local real x=GetUnitX(EL8)
local real y=GetUnitY(EL8)
set G57=HF8
set G07=CreateUnit(GetOwningPlayer(EL8),1697656901,x,y,0)
call UnitAddAbility(G07,1093812549)
call SetUnitAbilityLevel(G07,1093812549,HF8)
call GroupEnumUnitsInRange(g1,x,y,425,Condition(function G48))
call GroupEnumUnitsInRange(g2,x,y,825,Condition(function G48))
call GroupRemoveGroup(g1,g2)
call ForGroup(g2,function LLG)
call CZ7(g1)
call CZ7(g2)
call DestroyEffect(AddSpecialEffect("war3mapImported\\ConjureForceAoE.mdx",x,y))
set EL8=null
set g1=null
set g2=null
endfunction
function L0G takes nothing returns boolean
if GetSpellAbilityId()==1093812534 then
call L1G()
endif
return false
endfunction
function Register_ConjureForce takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function L0G))
set t=null
endfunction
function L5G takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),G_7)==false then
call GroupAddUnit(G_7,GetEnumUnit())
call HG8(G27,GetEnumUnit(),3,H47)
endif
endfunction
function L2G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local group g=(LoadGroupHandle(L7,(OL7),(22)))
local unit EF8=(LoadUnitHandle(L7,(OL7),(45)))
local integer HF8=(LoadInteger(L7,(OL7),(5)))
local real A89=(LoadReal(L7,(OL7),(13)))
local real B29=(LoadReal(L7,(OL7),(20)))
local group L_G
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local real x
local real y
if GetTriggerEvalCount(t)>67 then
call CZ7(g)
call FlushChildHashtable(L7,(OL7))
call U37(t)
call KillUnit(EF8)
else
set x=GetUnitX(EF8)
set y=GetUnitY(EF8)
set L_G=CA7()
set G_7=g
set IN4=EF8
set G27=EL8
set H47=B29
call GroupEnumUnitsInRange(L_G,x,y,225,Condition(function FL8))
call ForGroup(L_G,function L5G)
call CZ7(L_G)
call SetUnitX(EF8,DD8(x+15*Cos(A89*bj_DEGTORAD)))
call SetUnitY(EF8,DE8(y+15*Sin(A89*bj_DEGTORAD)))
endif
set t=null
set g=null
set L_G=null
set EL8=null
set EF8=null
return false
endfunction
function D4H takes unit EL8,real B29,real x,real y returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local group g=CA7()
local real x1=GetUnitX(EL8)
local real y1=GetUnitY(EL8)
local real x2=x
local real y2=y
local real A89=PS7(x1,y1,x2,y2)
local integer HF8=GetUnitAbilityLevel(EL8,1093812545)
local unit EF8=CreateUnit(GetOwningPlayer(EL8),1747993673,x1,y1,A89)
call SetUnitScale(EF8,1.5,1.5,1.5)
call SaveUnitHandle(L7,(OL7),(45),(EF8))
call SaveInteger(L7,(OL7),(5),(HF8))
call SaveGroupHandle(L7,(OL7),(22),(g))
call SaveReal(L7,(OL7),(13),((A89)*1.0))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveReal(L7,(OL7),(20),((B29)*1.0))
call TriggerRegisterTimerEvent(t,0.015,true)
call TriggerAddCondition(t,Condition(function L2G))
set t=null
set EF8=null
set g=null
endfunction
function D7H takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local boolean D8H=(LoadBoolean(L7,(OL7),(95)))
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093812546,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093812545,true)
call DestroyEffect((LoadEffectHandle(L7,(OL7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(176))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if D8H==false and GetEventDamage()>2 and GetEventDamage()<3000 and IsUnitIllusion(O_7)==false then
call SaveReal(L7,(OL7),(20),(((LoadReal(L7,(OL7),(20)))+GetEventDamage())*1.0))
call DW8(O_7,GetEventDamage())
endif
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST then
if GetSpellAbilityId()==1093812545 then
call DestroyEffect((LoadEffectHandle(L7,(OL7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(176))))
call SaveBoolean(L7,(OL7),(95),(true))
endif
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093812546 then
call D4H(EL8,(LoadReal(L7,(OL7),(20))),GetSpellTargetX(),GetSpellTargetY())
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093812546,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093812545,true)
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
else
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093812546,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093812545,true)
call DestroyEffect((LoadEffectHandle(L7,(OL7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(176))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function D9H takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call LP7(EL8,1093812546)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093812546,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093812545,false)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_SPELL_ENDCAST)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterDeathEvent(t,EL8)
call TriggerRegisterTimerEvent(t,20,false)
call TriggerAddCondition(t,Condition(function D7H))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveBoolean(L7,(OL7),(95),(false))
call SaveEffectHandle(L7,(OL7),(175),(AddSpecialEffectTarget("war3mapImported\\WispShellBlue_2.mdx",EL8,"origin")))
call SaveEffectHandle(L7,(OL7),(176),(AddSpecialEffectTarget("war3mapImported\\DivineWrathTarget.mdx",O_7,"origin")))
set EL8=null
set O_7=null
set t=null
endfunction
function DDH takes nothing returns boolean
if GetSpellAbilityId()==1093812545 then
call D9H()
endif
return false
endfunction
function Register_DivineWrath takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function DDH))
set t=null
endfunction
function DEH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
if GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT or GetSpellAbilityId()==1093812804 then
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093812803,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093812804,false)
call UnitRemoveAbility(EL8,1097167980)
call UnitRemoveAbility(EL8,1093812787)
call UnitRemoveAbility(EL8,1093812784)
call UnitRemoveAbility(EL8,1093812785)
call UnitRemoveAbility(EL8,1093812786)
call UnitRemoveAbility(EL8,1110459954)
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set t=null
set EL8=null
return false
endfunction
function DFH takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
local integer HF8=GetUnitAbilityLevel(EL8,1093812803)
call TriggerRegisterTimerEvent(t,5,false)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function DEH))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call UnitAddAbility(EL8,1093812804)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093812803,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093812804,true)
call UnitAddAbility(EL8,1097167980)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1097167980,false)
if HF8==1 then
call UnitAddAbility(EL8,1093812787)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093812787,false)
elseif HF8==2 then
call UnitAddAbility(EL8,1093812784)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093812784,false)
elseif HF8==3 then
call UnitAddAbility(EL8,1093812785)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093812785,false)
elseif HF8==4 then
call UnitAddAbility(EL8,1093812786)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093812786,false)
endif
set t=null
set EL8=null
endfunction
function DGH takes nothing returns boolean
if GetSpellAbilityId()==1093812803 then
call DFH()
endif
return false
endfunction
function Register_Wraith takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function DGH))
set t=null
endfunction
function DHH takes unit EL8,unit V6E,unit O_7,integer HF8 returns nothing
call HD8(EL8,O_7,1.25+0.25*HF8)
call HG8(EL8,O_7,1,40*HF8)
call KillUnit(V6E)
endfunction
function DIH takes nothing returns boolean
if(IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit())))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))==true or FX8(GetFilterUnit())==false)then
return IsUnitInGroup(GetFilterUnit(),I17)==false
endif
return false
endfunction
function DJH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local group g
local integer i=1
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local real x=(LoadReal(L7,(OL7),(6)))
local real y=(LoadReal(L7,(OL7),(7)))
local real a=(LoadReal(L7,(OL7),(137)))
local unit V6E
local unit O_7
local real EG8=(LoadReal(L7,(OL7),(47)))
local real EH8=(LoadReal(L7,(OL7),(48)))
local group G3D=(LoadGroupHandle(L7,(OL7),(187)))
set I17=G3D
set x=DD8(x+12*Cos(a))
set y=DE8(y+12*Sin(a))
call SaveReal(L7,(OL7),(6),((x)*1.0))
call SaveReal(L7,(OL7),(7),((y)*1.0))
if GetTriggerEvalCount(t)>39 then
loop
exitwhen i>3
call KillUnit((LoadUnitHandle(L7,(OL7),(393+i-1))))
set i=i+1
endloop
call CZ7(G3D)
call FlushChildHashtable(L7,(OL7))
call U37(t)
else
set g=CA7()
set IN4=EL8
call GroupEnumUnitsInRange(g,x,y,275,Condition(function DIH))
loop
exitwhen i>3
if(LoadBoolean(L7,(OL7),(511+i-1)))==false then
set V6E=(LoadUnitHandle(L7,(OL7),(393+i-1)))
set x=(LoadReal(L7,(OL7),(549+i-1)))
set y=(LoadReal(L7,(OL7),(567+i-1)))
set x=DD8(x+12*Cos(a))
set y=DE8(y+12*Sin(a))
call SaveReal(L7,(OL7),(549+i-1),((x)*1.0))
call SaveReal(L7,(OL7),(567+i-1),((y)*1.0))
call SetUnitX(V6E,x)
call SetUnitY(V6E,y)
set O_7=GroupPickRandomUnit(g)
if O_7!=null then
call GroupRemoveUnit(g,O_7)
call SaveInteger(L7,(GetHandleId((O_7))),((4314)),(1))
call SaveBoolean(L7,(OL7),(511+i-1),(true))
call DHH(EL8,V6E,O_7,GetUnitAbilityLevel(EL8,1093812788))
endif
endif
set i=i+1
endloop
call CZ7(g)
set g=null
set V6E=null
set O_7=null
endif
set t=null
set EL8=null
return false
endfunction
function DKH takes nothing returns nothing
local real EG8=GetSpellTargetX()
local real EH8=GetSpellTargetY()
local unit EL8=GetTriggerUnit()
local real x=GetUnitX(EL8)
local real y=GetUnitY(EL8)
local real a=PS7(x,y,EG8,EH8)*bj_DEGTORAD
local real b
local unit HE8
local real EK8=DD8(x+500*Cos(a))
local real EM8=DE8(y+500*Sin(a))
local integer i=0
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local real WJ9
local integer HF8=GetUnitAbilityLevel(EL8,1093812788)
local integer BG7=1747993678
set i=i+1
set b=a*bj_RADTODEG+90
if b>360 then
set b=b-360
endif
set b=b*bj_DEGTORAD
set HE8=CreateUnit(GetOwningPlayer(EL8),BG7,x+100*Cos(a)+100*Cos(b),y+100*Sin(a)+100*Sin(b),a*bj_RADTODEG)
call SaveUnitHandle(L7,(OL7),(393+i-1),(HE8))
call SaveBoolean(L7,(OL7),(511+i-1),(false))
call SaveReal(L7,(OL7),(549+i-1),((GetUnitX(HE8))*1.0))
call SaveReal(L7,(OL7),(567+i-1),((GetUnitY(HE8))*1.0))
set i=i+1
set b=a*bj_RADTODEG-90
if b<0 then
set b=360+b
endif
set b=b*bj_DEGTORAD
set HE8=CreateUnit(GetOwningPlayer(EL8),BG7,x+100*Cos(a)+100*Cos(b),y+100*Sin(a)+100*Sin(b),a*bj_RADTODEG)
call SaveUnitHandle(L7,(OL7),(393+i-1),(HE8))
call SaveBoolean(L7,(OL7),(511+i-1),(false))
call SaveReal(L7,(OL7),(549+i-1),((GetUnitX(HE8))*1.0))
call SaveReal(L7,(OL7),(567+i-1),((GetUnitY(HE8))*1.0))
set i=i+1
set HE8=CreateUnit(GetOwningPlayer(EL8),BG7,x+100*Cos(a),y+100*Sin(a),a*bj_RADTODEG)
call SaveUnitHandle(L7,(OL7),(393+i-1),(HE8))
call SaveBoolean(L7,(OL7),(511+i-1),(false))
call SaveReal(L7,(OL7),(549+i-1),((GetUnitX(HE8))*1.0))
call SaveReal(L7,(OL7),(567+i-1),((GetUnitY(HE8))*1.0))
call TriggerRegisterTimerEvent(t,0.015,true)
call TriggerAddCondition(t,Condition(function DJH))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveReal(L7,(OL7),(6),((x)*1.0))
call SaveReal(L7,(OL7),(7),((y)*1.0))
call SaveReal(L7,(OL7),(137),((a)*1.0))
call SaveReal(L7,(OL7),(47),((EK8)*1.0))
call SaveReal(L7,(OL7),(48),((EM8)*1.0))
call SaveGroupHandle(L7,(OL7),(187),(CA7()))
set EL8=null
set HE8=null
set t=null
endfunction
function DMH takes nothing returns boolean
if GetSpellAbilityId()==1093812788 then
call DKH()
endif
return false
endfunction
function VB8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function DMH))
set t=null
endfunction
function DNH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local integer CS8=GetTriggerEvalCount(t)
local integer HF8=GetUnitAbilityLevel(EL8,1093812789)
if CS8==6 then
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
call UnitShareVision(O_7,GetOwningPlayer(EL8),false)
endif
call HG8(EL8,O_7,1,20+10*HF8)
set t=null
set EL8=null
set O_7=null
return false
endfunction
function DOH takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function DNH))
call SaveUnitHandle(L7,(OL7),(2),(GetTriggerUnit()))
call SaveUnitHandle(L7,(OL7),(17),(GetEnumUnit()))
call SaveEffectHandle(L7,(OL7),(32),(AddSpecialEffectTarget("Abilities\\Weapons\\BansheeMissile\\BansheeMissile.mdl",GetEnumUnit(),"overhead")))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl",GetEnumUnit(),"origin"))
call UnitShareVision(GetEnumUnit(),GetOwningPlayer(GetTriggerUnit()),true)
set t=null
endfunction
function DPH takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local group g=CA7()
local unit HE8=CreateUnit(GetOwningPlayer(EL8),1697656901,GetUnitX(EL8),GetUnitY(EL8),0)
call UnitAddAbility(HE8,1093812791)
call IssueImmediateOrderById(HE8,852625)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl",GetUnitX(EL8),GetUnitY(EL8)))
call GroupEnumUnitsInRange(g,GetUnitX(EL8),GetUnitY(EL8),625,Condition(function G48))
call ForGroup(g,function DOH)
call CZ7(g)
set g=null
set EL8=null
set HE8=null
endfunction
function DQH takes nothing returns boolean
if GetSpellAbilityId()==1093812789 then
call DPH()
endif
return false
endfunction
function Register_Miasma takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function DQH))
set t=null
endfunction
function GetTotalMinutes takes nothing returns integer
return R2I((TimerGetElapsed(W))/60)
endfunction
function DRH takes unit EL8,integer DSH returns nothing
local integer JOD=GetHeroAgi(EL8,false)
local integer JPD=GetHeroStr(EL8,false)
local integer DTH=GetHeroInt(EL8,false)
call SetHeroAgi(EL8,JOD-DSH,true)
call SetHeroStr(EL8,JPD-DSH,true)
call SetHeroInt(EL8,DTH-DSH,true)
endfunction
function DUH takes unit EL8,integer DSH returns nothing
local integer JOD=GetHeroAgi(EL8,false)
local integer JPD=GetHeroStr(EL8,false)
local integer DTH=GetHeroInt(EL8,false)
call SetHeroAgi(EL8,JOD+DSH,true)
call SetHeroStr(EL8,JPD+DSH,true)
call SetHeroInt(EL8,DTH+DSH,true)
endfunction
function DVH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local integer DWH=(LoadInteger(L7,(OL7),(744)))
local integer HF8=GetUnitAbilityLevel(EL8,1093814066)
local integer DC9=(R2I((TimerGetElapsed(W))/60))
local real DXH=HF8+1+(0.1+0.1*HF8)*DC9
local integer DYH=3+3*HF8+R2I((0.1+0.1*HF8)*DC9)
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093814066 then
if O_7!=null and O_7!=GetSpellTargetUnit()then
call UnitRemoveAbility(O_7,1093814607)
call DRH(O_7,DWH)
call DRH(EL8,DWH)
call SaveInteger(L7,(OL7),(744),(0))
endif
set O_7=GetSpellTargetUnit()
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call LP7(O_7,1093814607)
call DB8("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkZapTarget.mdl",EL8,"chest",1.9)
call DB8("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkZapTarget.mdl",O_7,"chest",1.9)
return false
else
return false
endif
endif
if O_7==null then
elseif LR7(O_7)or LR7(EL8)or RH7(EL8,O_7)>1400 then
call DRH(EL8,DWH)
call DRH(O_7,DWH)
call SaveInteger(L7,(OL7),(744),(0))
call UnitRemoveAbility(EL8,1093814607)
call UnitRemoveAbility(O_7,1093814607)
else
if GetUnitAbilityLevel(EL8,1093814607)==0 then
call LP7(EL8,1093814607)
endif
if GetUnitAbilityLevel(O_7,1093814607)==0 then
call LP7(O_7,1093814607)
endif
if DWH!=DYH then
call DUH(EL8,DYH-DWH)
call DUH(O_7,DYH-DWH)
call SaveInteger(L7,(OL7),(744),(DYH))
endif
call SetUnitState(EL8,UNIT_STATE_LIFE,GetUnitState(EL8,UNIT_STATE_LIFE)+DXH)
call SetUnitState(O_7,UNIT_STATE_LIFE,GetUnitState(O_7,UNIT_STATE_LIFE)+DXH)
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function DZH takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function DVH))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(null))
call SaveInteger(L7,(OL7),(744),(0))
set t=null
set EL8=null
endfunction
function DAH takes nothing returns boolean
if GetLearnedSkill()==1093814066 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093814066)==1 then
call DZH()
endif
return false
endfunction
function Register_Brotherhood takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function DAH))
set t=null
endfunction
function DBH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED or(GetEventDamage()>30 and GetEventDamageSource()!=GetTriggerUnit()and Z07(GetOwningPlayer(GetEventDamageSource())))then
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
call DW8(EL8,GetEventDamage())
endif
call UnitRemoveAbility(EL8,1093814604)
call UnitRemoveAbility(EL8,1093814605)
call UnitRemoveAbility(EL8,1093812825)
call UnitRemoveAbility(EL8,1093814606)
call UnitRemoveAbility(EL8,1110459956)
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set t=null
set EL8=null
return false
endfunction
function DCH takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit O_7=GetEnumUnit()
local integer HF8=GetUnitAbilityLevel(EL8,1093812822)
local real d
local integer id
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
if HF8==1 then
set d=4
set id=1093814604
elseif HF8==2 then
set d=5
set id=1093814605
elseif HF8==3 then
set d=6
set id=1093812825
elseif HF8==4 then
set d=7
set id=1093814606
endif
call LP7(O_7,id)
call SetPlayerAbilityAvailable(GetOwningPlayer(O_7),id,false)
call TriggerAddCondition(t,Condition(function DBH))
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DAMAGED)
call TriggerRegisterDeathEvent(t,O_7)
call TriggerRegisterTimerEvent(t,d,false)
call SaveUnitHandle(L7,(OL7),(2),(O_7))
call SaveEffectHandle(L7,(OL7),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIsp\\SpeedTarget.mdl",O_7,"origin")))
set EL8=null
set O_7=null
set t=null
endfunction
function D3H takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local group g=CA7()
call GroupEnumUnitsInRange(g,GetUnitX(EL8),GetUnitY(EL8),375,Condition(function GS8))
call ForGroup(g,function DCH)
call CZ7(g)
set g=null
set EL8=null
endfunction
function D6H takes nothing returns boolean
if GetSpellAbilityId()==1093812822 then
call D3H()
endif
return false
endfunction
function Register_Gallop takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function D6H))
endfunction
function DLH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local integer D1H=(LoadInteger(L7,(OL7),(59)))
call FlushChildHashtable(L7,(OL7))
call U37(t)
call UnitRemoveAbility(EL8,D1H)
call UnitRemoveAbility(EL8,1110459978)
call UnitRemoveAbility(EL8,1110459979)
set t=null
set EL8=null
return false
endfunction
function D0H takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O27=GetAttacker()
local integer HF8=GetUnitAbilityLevel(EL8,1093813593)
local integer id
if EL8==GetTriggerUnit()and GetRandomInt(1,100)<=(14+2*HF8)and UX7(EL8,"4316")==false and IsUnitAlly(EL8,GetOwningPlayer(O27))==false then
call U07(EL8,"4316",1.2)
if HF8==1 then
set id=1093814084
elseif HF8==2 then
set id=1093814085
elseif HF8==3 then
set id=1093814086
elseif HF8==4 then
set id=1093814083
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),id,false)
call LP7(EL8,id)
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterDeathEvent(t,EL8)
call TriggerRegisterTimerEvent(t,0.5,false)
call TriggerAddCondition(t,Condition(function DLH))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveInteger(L7,(OL7),(59),(id))
endif
set t=null
set EL8=null
set O27=null
return false
endfunction
function D5H takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function D0H))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
set EL8=null
set t=null
endfunction
function D2H takes nothing returns boolean
if GetLearnedSkill()==1093813593 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093813593)==1 then
call D5H()
endif
return false
endfunction
function VF8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function D2H))
set t=null
endfunction
function D_H takes unit u,integer d returns nothing
local integer array b
local integer a=d
local integer c=1
local integer i=0
local integer AMD
if d<1 then
call UnitRemoveAbility(u,H77[0])
call UnitRemoveAbility(u,H77[1])
call UnitRemoveAbility(u,H77[2])
call UnitRemoveAbility(u,H77[3])
call UnitRemoveAbility(u,H77[4])
call UnitRemoveAbility(u,H77[5])
call UnitRemoveAbility(u,H77[6])
call UnitRemoveAbility(u,H77[7])
call UnitRemoveAbility(u,H77[8])
return
endif
loop
exitwhen c==0
set c=a/2
set b[i]=a-c*2
set a=c
set i=i+1
endloop
set AMD=8
set i=0
loop
exitwhen i>AMD
if b[i]==1 then
call LP7(u,H77[i])
else
call UnitRemoveAbility(u,H77[i])
endif
set i=i+1
endloop
endfunction
function E4H takes unit EL8,integer HF8,unit O_7 returns nothing
local integer OL7=GetHandleId(EL8)
local integer E7H=(LoadInteger(L7,(OL7),(739)))
if IsUnitType(O_7,UNIT_TYPE_HERO)==true then
set E7H=E7H+10
call SaveInteger(L7,(OL7),(739),(E7H))
call DL8(GetUnitName(EL8)+" Won The Duel!!",5,EL8,0.03,255,0,0,255)
call D_H(EL8,E7H)
endif
endfunction
function E8H takes unit u returns boolean
return GetUnitAbilityLevel(u,1113815395)==0 or BZ7(u)==false
endfunction
function E9H takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local integer HF8=(LoadInteger(L7,(OL7),(5)))
local real BY8=(LoadReal(L7,(OL7),(442)))
local unit HE8
if GetTriggerEvalCount(t)==1 then
set HE8=CreateUnit(GetOwningPlayer(O_7),1697656901,GetUnitX(O_7),GetUnitY(O_7),0)
call UnitAddAbility(HE8,1093814069)
call IssueTargetOrder(HE8,"doom",O_7)
set HE8=CreateUnit(GetOwningPlayer(EL8),1697656901,GetUnitX(EL8),GetUnitY(EL8),0)
call UnitAddAbility(HE8,1093814069)
call IssueTargetOrder(HE8,"doom",EL8)
set HE8=null
endif
if GetTriggerEventId()==EVENT_WIDGET_DEATH or BY8<(TimerGetElapsed(W))or E8H(EL8)==false or E8H(O_7)==false then
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
if GetTriggerUnit()==EL8 then
call E4H(O_7,HF8,GetTriggerUnit())
else
call E4H(EL8,HF8,GetTriggerUnit())
endif
endif
call UnitRemoveAbility(EL8,1110459975)
call UnitRemoveAbility(O_7,1110459975)
call DestroyEffect((LoadEffectHandle(L7,(OL7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(176))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
call SetUnitPathing(EL8,true)
call SetUnitPathing(O_7,true)
elseif GetIssuedOrderId()!=851973 then
call SetUnitPathing(EL8,false)
call SetUnitPathing(O_7,false)
call DisableTrigger(t)
call IssueTargetOrder(EL8,"attack",O_7)
call IssueTargetOrder(O_7,"attack",EL8)
call EnableTrigger(t)
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function EDH takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local integer HF8=GetUnitAbilityLevel(EL8,1093813065)
local trigger t
local integer OL7
call SetUnitPathing(EL8,false)
call SetUnitPathing(O_7,false)
call IssueTargetOrder(EL8,"attack",O_7)
call IssueTargetOrder(O_7,"attack",EL8)
set t=CreateTrigger()
set OL7=GetHandleId(t)
call SaveEffectHandle(L7,(OL7),(175),(AddSpecialEffectTarget("war3mapImported\\DuelFX.mdx",EL8,"overhead")))
call SaveEffectHandle(L7,(OL7),(176),(AddSpecialEffectTarget("war3mapImported\\DuelFX.mdx",O_7,"overhead")))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveInteger(L7,(OL7),(5),(HF8))
call SaveReal(L7,(OL7),(442),(((TimerGetElapsed(W))+0.75*HF8+3.25)*1.0))
call TriggerAddCondition(t,Condition(function E9H))
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerRegisterTimerEvent(t,0.01,false)
call TriggerRegisterDeathEvent(t,EL8)
call TriggerRegisterDeathEvent(t,O_7)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_ISSUED_TARGET_ORDER)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_ISSUED_POINT_ORDER)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_ISSUED_ORDER)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_ISSUED_TARGET_ORDER)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_ISSUED_POINT_ORDER)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_ISSUED_ORDER)
set EL8=null
set O_7=null
set t=null
endfunction
function EEH takes nothing returns boolean
if GetSpellAbilityId()==1093813065 and CY7(GetSpellTargetUnit())==false then
call EDH()
endif
return false
endfunction
function VH8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function EEH))
set t=null
set H77[0]=1093814091
set H77[1]=1093814090
set H77[2]=1093814089
set H77[3]=1093814088
set H77[4]=1093814094
set H77[5]=1093814095
set H77[6]=1093814093
set H77[7]=1093814092
set H77[8]=1093814096
endfunction
function EFH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local integer HF8=(LoadInteger(L7,(OL7),(5)))
local integer CS8=(LoadInteger(L7,(OL7),(34)))
local real d
local unit O27
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
set d=GetEventDamage()
if IG8(d)and d>50 then
set CS8=CS8+1
call SaveInteger(L7,(OL7),(34),(CS8))
set O27=GetEventDamageSource()
if IsUnitType(O27,UNIT_TYPE_HERO)==false and GetUnitAbilityLevel(O27,1093678162)!=0 then
set O27=M7[GetPlayerId(GetOwningPlayer(O27))]
endif
call DW8(EL8,d)
set d=d*(0.4+0.2*HF8)
if IsUnitAlly(O_7,GetOwningPlayer(EL8))==true then
call SetUnitState(O_7,UNIT_STATE_LIFE,GetUnitState(O_7,UNIT_STATE_LIFE)+d)
else
call HG8(EL8,O_7,3,d)
endif
endif
endif
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED or CS8==3 then
call DestroyEffect((LoadEffectHandle(L7,(OL7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OL7),(176))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function EGH takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local integer HF8=GetUnitAbilityLevel(EL8,1093814609)
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call DB8("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkZapTarget.mdl",EL8,"chest",1.9)
call DB8("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkZapTarget.mdl",O_7,"chest",1.9)
call SaveEffectHandle(L7,(OL7),(175),(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkTarget.mdl",EL8,"chest")))
call SaveEffectHandle(L7,(OL7),(176),(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkTarget.mdl",O_7,"chest")))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveInteger(L7,(OL7),(5),(HF8))
call SaveInteger(L7,(OL7),(34),(0))
call TriggerAddCondition(t,Condition(function EFH))
call TriggerRegisterTimerEvent(t,10,false)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_DAMAGED)
set EL8=null
set O_7=null
set t=null
endfunction
function EHH takes nothing returns boolean
if GetSpellAbilityId()==1093814609 then
call EGH()
endif
return false
endfunction
function Register_Deflection takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function EHH))
set t=null
endfunction
function EIH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local integer HF8=(LoadInteger(L7,(OL7),(5)))
local integer CS8=(LoadInteger(L7,(OL7),(34)))
set CS8=CS8+1
call SaveInteger(L7,(OL7),(34),(CS8))
if GetTriggerEventId()==EVENT_WIDGET_DEATH or CS8>4 then
call UnitRemoveAbility(O_7,H87[HF8])
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
else
call SetUnitState(O_7,UNIT_STATE_LIFE,GetUnitState(O_7,UNIT_STATE_LIFE)+20+10*HF8)
call DB8("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkZapTarget.mdl",O_7,"chest",1.9)
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function EJH takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local integer HF8=GetUnitAbilityLevel(EL8,1093814834)
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call E49(O_7)
call D59(O_7,0,0)
call LP7(O_7,H87[HF8])
call SetPlayerAbilityAvailable(GetOwningPlayer(O_7),H87[HF8],false)
call SaveEffectHandle(L7,(OL7),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Human\\InnerFire\\InnerFireTarget.mdl",O_7,"overhead")))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveInteger(L7,(OL7),(5),(HF8))
call SaveInteger(L7,(OL7),(34),(0))
call TriggerAddCondition(t,Condition(function EIH))
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterDeathEvent(t,O_7)
call TriggerEvaluate(t)
set EL8=null
set O_7=null
set t=null
endfunction
function EKH takes nothing returns boolean
if GetSpellAbilityId()==1093814834 then
call EJH()
endif
return false
endfunction
function VE8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function EKH))
set H87[1]=1093814841
set H87[2]=1093814849
set H87[3]=1093814840
set H87[4]=1093814839
set t=null
endfunction
function EMH takes unit EL8,integer HF8 returns nothing
local unit HE8=CreateUnit(GetOwningPlayer(EL8),1697656901,GetUnitX(EL8),GetUnitY(EL8),0)
call LP7(HE8,1093814851)
call SetUnitAbilityLevel(HE8,1093814851,HF8/3)
call IssueTargetOrder(HE8,"bloodlust",EL8)
set HE8=null
endfunction
function ENH takes nothing returns nothing
if IsUnitType(GetEnumUnit(),UNIT_TYPE_SUMMONED)==true or IsUnitIllusion(GetEnumUnit())==true then
call HG8(GetTriggerUnit(),GetEnumUnit(),1,GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)*0.25)
endif
call HG8(GetTriggerUnit(),GetEnumUnit(),1,60*HE7+10*(HD7+H97))
endfunction
function EOH takes nothing returns nothing
if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true then
set HD7=HD7+1
else
set H97=H97+1
endif
endfunction
function EPH takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local integer HF8=GetUnitAbilityLevel(EL8,1093814850)
local group g=CA7()
call DestroyEffect(AddSpecialEffect("war3mapImported\\OverwhelmingOdds.mdx",x,y))
call GroupEnumUnitsInRange(g,x,y,315+25,Condition(function G48))
set H97=0
set HD7=0
set HE7=HF8
call ForGroup(g,function EOH)
call ForGroup(g,function ENH)
call CZ7(g)
call EMH(EL8,9*HD7+3*H97)
set EL8=null
set g=null
endfunction
function EQH takes nothing returns boolean
if GetSpellAbilityId()==1093814850 then
call EPH()
endif
return false
endfunction
function VG8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function EQH))
call DH8(1093814851)
set t=null
endfunction
function ERH takes nothing returns nothing
set HI7=true
call HG8(HF7,GetEnumUnit(),1,((300+300*HH7)/HG7)/20)
set HI7=false
endfunction
function ESH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local real x=(LoadReal(L7,(OL7),(6)))
local real y=(LoadReal(L7,(OL7),(7)))
local group g
if GetTriggerEvalCount(t)>20 then
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
else
set g=CA7()
set IN4=EL8
call GroupEnumUnitsInRange(g,x,y,170+25,Condition(function GO8))
set HH7=GetUnitAbilityLevel(EL8,1093812807)
set HF7=EL8
set HG7=CountUnitsInGroup(g)
call ForGroup(g,function ERH)
call CZ7(g)
set g=null
endif
set t=null
set EL8=null
return false
endfunction
function ETH takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local string s="war3mapImported\\DivineWrathTarget.mdx"
local location l=GetSpellTargetLoc()
call PlaySoundAtPointBJ(H_7,100,l,0)
call RemoveLocation(l)
set l=null
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function ESH))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveReal(L7,(OL7),(6),((x)*1.0))
call SaveReal(L7,(OL7),(7),((y)*1.0))
call DestroyEffect(AddSpecialEffect(s,x,y))
set t=null
set EL8=null
endfunction
function EUH takes nothing returns boolean
if GetSpellAbilityId()==1093812807 then
call ETH()
endif
return false
endfunction
function VJ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function EUH))
set t=null
set H_7=CreateSound("Abilities\\Spells\\Demon\\RainOfFire\\RainOfFireTarget2.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(H_7,"StarfallTarget")
call SetSoundDuration(H_7,3000)
endfunction
function EVH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local integer HF8=GetUnitAbilityLevel(EL8,1093812820)
local real d
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
set d=GetEventDamage()*(0.2+0.05*HF8)
else
call SaveInteger(L7,(GetHandleId((O_7))),((4317)),(2))
call UnitRemoveAbility(O_7,1093814582)
call UnitRemoveAbility(O_7,1093814581)
call UnitRemoveAbility(O_7,1093814583)
call UnitRemoveAbility(O_7,1093814584)
call UnitRemoveAbility(O_7,1110459987)
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function EWH takes unit EL8,unit O_7 returns nothing
local trigger t
local integer OL7
local integer HF8=GetUnitAbilityLevel(EL8,1093812820)
local unit LastTarget=(LoadUnitHandle(L7,(GetHandleId(EL8)),(741)))
local integer CS8=(LoadInteger(L7,(GetHandleId(O_7)),(742)))
local integer id
if((LoadInteger(L7,(GetHandleId((O_7))),((4317))))==1)==true then
call SaveInteger(L7,(GetHandleId(O_7)),(742),(0))
call SaveReal(L7,(GetHandleId(O_7)),(743),(((TimerGetElapsed(W)))*1.0))
else
if(LoadReal(L7,(GetHandleId(O_7)),(743)))+10<(TimerGetElapsed(W))then
set CS8=1
else
set CS8=CS8+1
endif
if IsUnitType(O_7,UNIT_TYPE_HERO)==true or IsUnitIllusion(O_7)==true then
call D18(GetOwningPlayer(EL8),I2S(CS8)+"!",2,O_7,0.026,50,0,255,216)
endif
call SaveInteger(L7,(GetHandleId(O_7)),(742),(CS8))
call SaveReal(L7,(GetHandleId(O_7)),(743),(((TimerGetElapsed(W)))*1.0))
if CS8==4 then
call SaveInteger(L7,(GetHandleId(O_7)),(742),(0))
call SaveInteger(L7,(GetHandleId((O_7))),((4317)),(1))
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.5+0.5*HF8,false)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DAMAGED)
call TriggerRegisterDeathEvent(t,O_7)
call TriggerAddCondition(t,Condition(function EVH))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
if HF8==1 then
set id=1093814582
elseif HF8==2 then
set id=1093814581
elseif HF8==3 then
set id=1093814583
elseif HF8==4 then
set id=1093814584
endif
call LP7(O_7,id)
call SetPlayerAbilityAvailable(GetOwningPlayer(O_7),id,false)
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\FarseerMissile_Purple_2.mdx",O_7,"chest"))
endif
endif
set t=null
endfunction
function EXH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==EL8 then
call DisableTrigger(t)
call EWH(EL8,O_7)
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
else
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function EYH takes nothing returns nothing
local trigger t=CreateTrigger()
local unit O_7=GetTriggerUnit()
local unit EL8=GetAttacker()
local integer OL7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,1.2,false)
call TriggerAddCondition(t,Condition(function EXH))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
set O_7=null
set EL8=null
set t=null
endfunction
function EZH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
if GetAttacker()==EL8 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(EL8))then
if UX7(EL8,"4315")==false then
call U07(EL8,"4315",0.3)
call EYH()
endif
endif
set t=null
set EL8=null
return false
endfunction
function EAH takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
call D28(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function EZH))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
set t=null
set EL8=null
endfunction
function EBH takes nothing returns boolean
if GetLearnedSkill()==1093812820 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093812820)==1 then
call EAH()
endif
return false
endfunction
function Register_Amp takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function EBH))
set t=null
endfunction
function ECH takes nothing returns nothing
local integer OL7=GetHandleId(GetTriggeringTrigger())
local unit EL8=IN4
local unit O_7=IP4
local integer HF8=GetUnitAbilityLevel(EL8,1093812805)
local real B29=40+20*HF8+1.6*GetHeroInt(EL8,true)
set HI7=true
call HG8(EL8,O_7,1,B29)
set HI7=false
set EL8=null
set O_7=null
endfunction
function E3H takes nothing returns nothing
local trigger t=EO8(GetTriggerUnit(),GetSpellTargetUnit(),1747993681,"ECH",500)
local integer OL7=GetHandleId(t)
set t=null
endfunction
function E6H takes nothing returns boolean
if GetSpellAbilityId()==1093812805 and CY7(GetSpellTargetUnit())==false then
call E3H()
endif
return false
endfunction
function VK8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function E6H))
set t=null
endfunction
function ELH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local real d
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
else
call UnitRemoveAbility(O_7,1093814360)
call UnitRemoveAbility(O_7,1093814576)
call UnitRemoveAbility(O_7,1093814361)
call UnitRemoveAbility(O_7,1093814362)
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set O_7=null
set t=null
return false
endfunction
function E1H takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local integer HF8=GetUnitAbilityLevel(EL8,1093814350)
local real RD7=2+HF8
local integer id=1093814360
if HF8==1 then
set id=1093814360
elseif HF8==2 then
set id=1093814576
elseif HF8==3 then
set id=1093814361
elseif HF8==4 then
set id=1093814362
endif
call LP7(O_7,id)
call SetPlayerAbilityAvailable(GetOwningPlayer(O_7),id,false)
call TriggerRegisterTimerEvent(t,RD7,false)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function ELH))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
set EL8=null
set O_7=null
set t=null
endfunction
function E0H takes nothing returns boolean
if GetSpellAbilityId()==1093814350 and IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO)==true and CY7(GetSpellTargetUnit())==false then
call E1H()
endif
return false
endfunction
function VM8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function E0H))
set t=null
endfunction
function E5H takes nothing returns nothing
local integer OL7=GetHandleId(GetTriggeringTrigger())
local unit EL8=IN4
local unit O_7=IP4
local real x=GetUnitX(O_7)
local real y=GetUnitY(O_7)
local integer HF8=GetUnitAbilityLevel(EL8,1093814612)
local unit HE8=CreateUnit(GetOwningPlayer(EL8),1697656901,x,y,0)
call UnitAddAbility(HE8,1093814613)
call SetUnitAbilityLevel(HE8,1093814613,HF8)
call IssueImmediateOrder(HE8,"thunderclap")
set EL8=null
set O_7=null
set HE8=null
endfunction
function E2H takes unit EL8,group g returns unit
local unit E_H=null
local real d=99999
local unit KYE=FirstOfGroup(g)
call GroupRemoveUnit(g,KYE)
loop
exitwhen KYE==null
if RH7(EL8,KYE)<d then
set d=RH7(EL8,KYE)
set E_H=KYE
endif
set KYE=FirstOfGroup(g)
call GroupRemoveUnit(g,KYE)
endloop
return E_H
endfunction
function F4H takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit O_7=null
local group g=CA7()
call GroupEnumUnitsInRange(g,GetUnitX(EL8),GetUnitY(EL8),1600+25,Condition(function GN8))
set O_7=E2H(EL8,g)
call CZ7(g)
if O_7!=null then
call EO8(EL8,O_7,1747993910,"E5H",800)
endif
set g=null
set O_7=null
set EL8=null
endfunction
function F7H takes nothing returns boolean
if GetSpellAbilityId()==1093814612 then
call F4H()
endif
return false
endfunction
function VI8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function F7H))
set t=null
endfunction
function F8H takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local integer HF8=GetUnitAbilityLevel(EL8,1093813335)
local unit B28
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
if GetTriggerEventId()==EVENT_UNIT_DEATH and IsPlayerEnemy(GetOwningPlayer(GetKillingUnit()),GetOwningPlayer(O_7))==true then
set B28=GetKillingUnit()
if IF8(B28)then
set B28=(M7[GetPlayerId(GetOwningPlayer((B28)))])
endif
if IsUnitType(B28,UNIT_TYPE_STRUCTURE)==true then
call HG8(EL8,B28,1,25*HF8)
else
call HG8(EL8,B28,1,100*HF8)
endif
call HD8(EL8,GetKillingUnit(),0.5+0.5*HF8)
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function F9H takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,10,false)
call TriggerAddCondition(t,Condition(function F8H))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveEffectHandle(L7,(OL7),(32),(AddSpecialEffectTarget("war3mapImported\\GaiaShield.mdx",O_7,"origin")))
set t=null
set EL8=null
set O_7=null
endfunction
function FDH takes nothing returns boolean
if GetSpellAbilityId()==1093813335 then
call F9H()
endif
return false
endfunction
function Register_DeathWatch takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function FDH))
set t=null
endfunction
function FEH takes nothing returns nothing
if RH7(HJ7,GetEnumUnit())>HK7 then
call UnitRemoveAbility(GetEnumUnit(),1093813337)
endif
endfunction
function FFH takes nothing returns nothing
call UnitRemoveAbility(GetEnumUnit(),1093813337)
endfunction
function FGH takes nothing returns boolean
return(IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LR7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FG8(GetFilterUnit())))
endfunction
function FHH takes nothing returns nothing
call GroupAddUnit(HM7,GetEnumUnit())
call UnitAddAbility(GetEnumUnit(),1093813337)
endfunction
function FIH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit HE8=(LoadUnitHandle(L7,(OL7),(19)))
local group G3D=(LoadGroupHandle(L7,(OL7),(187)))
local group g
local integer HF8=GetUnitAbilityLevel(EL8,1093813336)
if LR7(HE8)or GetTriggerEvalCount(t)>200 then
call FlushChildHashtable(L7,(OL7))
call U37(t)
call ForGroup(G3D,function FFH)
call CZ7(G3D)
else
set HK7=250+25
set HJ7=HE8
set IN4=EL8
call ForGroup(G3D,function FEH)
set HM7=G3D
set g=CA7()
call GroupEnumUnitsInRange(g,GetUnitX(HE8),GetUnitY(HE8),HK7,Condition(function FGH))
call ForGroup(g,function FHH)
call CZ7(g)
set g=null
endif
set t=null
set EL8=null
return false
endfunction
function FJH takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local integer id
local unit HE8
local integer HF8=GetUnitAbilityLevel(EL8,1093813336)
if HF8==1 then
set id=1865429330
elseif HF8==2 then
set id=1865429331
elseif HF8==3 then
set id=1865429329
else
set id=1865429332
endif
set HE8=CreateUnit(GetOwningPlayer(EL8),id,x,y,0)
call UnitApplyTimedLife(HE8,1112820806,10)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function FIH))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(19),(HE8))
call SaveGroupHandle(L7,(OL7),(187),(CA7()))
set t=null
set EL8=null
set HE8=null
endfunction
function FKH takes nothing returns boolean
if GetSpellAbilityId()==1093813336 then
call FJH()
endif
return false
endfunction
function Register_RealityShift takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function FKH))
set t=null
endfunction
function FMH takes nothing returns nothing
call HG8(HN7,GetEnumUnit(),1,50+50*HO7)
endfunction
function FNH takes unit EL8,real x,real y returns nothing
local unit HE8=CreateUnit(GetOwningPlayer(EL8),1697656901,x,y,0)
local group g=CA7()
call UnitAddAbility(HE8,1093813553)
call IssuePointOrder(HE8,"silence",x,y)
set IN4=EL8
set HO7=GetUnitAbilityLevel(EL8,1093813552)
set HN7=EL8
call GroupEnumUnitsInRange(g,x,y,325,Condition(function FW8))
call ForGroup(g,function FMH)
call CZ7(g)
call DestroyEffect(AddSpecialEffect("",x,y))
set g=null
set HE8=null
endfunction
function FOH takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local integer i=0
local unit FPH
local boolean FQH=false
local real x
local real y
local integer OL7=GetHandleId(EL8)
loop
exitwhen i>2 or FQH
set FPH=(LoadUnitHandle(L7,(OL7),(724+i)))
if FPH!=null and LR7(FPH)==false then
call KillUnit(FPH)
call RemoveSavedHandle(L7,(OL7),(724+i))
set FQH=true
endif
set i=i+1
endloop
if FQH then
set x=GetSpellTargetX()
set y=GetSpellTargetY()
call FNH(EL8,x,y)
endif
set FPH=null
set EL8=null
endfunction
function FRH takes nothing returns boolean
if GetSpellAbilityId()==1093813552 then
call FOH()
endif
return false
endfunction
function FSH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit FPH
local integer i=0
local real x
local real y
set OL7=GetHandleId(EL8)
loop
exitwhen i>2
set FPH=(LoadUnitHandle(L7,(OL7),(724+i)))
if FPH!=null and LR7(FPH)==false then
set x=GetUnitX(EL8)
set y=GetUnitY(EL8)
if i==0 then
set x=x-125
set y=y-125
elseif i==1 then
set x=x+125
set y=y-125
else
set x=x-125
set y=y+125
endif
call SetUnitX(FPH,x)
call SetUnitY(FPH,y)
if GetTriggerEventId()==EVENT_WIDGET_DEATH or LR7(EL8)then
call KillUnit(FPH)
call RemoveSavedHandle(L7,(OL7),(724+i))
endif
endif
set i=i+1
endloop
set FPH=null
set EL8=null
set t=null
return false
endfunction
function FTH takes unit EL8,integer O17 returns nothing
local real x=GetUnitX(EL8)
local real y=GetUnitY(EL8)
local unit FPH
if O17==0 then
set x=x-125
set y=y-125
elseif O17==1 then
set x=x+125
set y=y-125
else
set x=x-125
set y=y+125
endif
set FPH=CreateUnit(GetOwningPlayer(EL8),1747993682,x,y,0)
call SaveUnitHandle(L7,(GetHandleId(EL8)),(724+O17),(FPH))
set FPH=null
endfunction
function FUH takes unit EL8 returns nothing
local integer i=0
local boolean FVH=false
local integer FWH=-1
local unit FPH
local integer OL7=GetHandleId(EL8)
loop
exitwhen i>2 or FVH
set FPH=(LoadUnitHandle(L7,(OL7),(724+i)))
if FPH==null or LR7(FPH)then
set FWH=i
set FVH=true
endif
set i=i+1
endloop
if FVH then
call FTH(EL8,FWH)
endif
set FPH=null
endfunction
function FXH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local integer HF8=GetUnitAbilityLevel(EL8,1093813552)
if LR7(EL8)==false then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_DEATH then
if IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(EL8))==true and GetUnitAbilityLevel(GetTriggerUnit(),1093678162)==0 then
if RH7(GetTriggerUnit(),EL8)<1025 and GetRandomInt(0,100)<(10+5*HF8)then
call FUH(EL8)
endif
endif
else
call FUH(EL8)
endif
endif
set t=null
set EL8=null
return false
endfunction
function FYH takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=GetTriggerUnit()
call TriggerRegisterTimerEvent(t,20,true)
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function FXH))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterDeathEvent(t,EL8)
call TriggerAddCondition(t,Condition(function FSH))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
set t=null
set EL8=null
endfunction
function FZH takes nothing returns boolean
if GetLearnedSkill()==1093813552 and GetUnitAbilityLevel(GetTriggerUnit(),1093813552)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call FYH()
endif
return false
endfunction
function Register_HauntingEchos takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function FRH))
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function FZH))
set t=null
endfunction
function FAH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local real ZC9=(LoadReal(L7,(OL7),(6)))
local real Z39=(LoadReal(L7,(OL7),(7)))
local integer HF8=GetUnitAbilityLevel(EL8,1093813338)
local real JND=(30*HF8)/10
local real a=PR7(O_7,EL8)*bj_DEGTORAD
local real x=ZC9+JND*Cos(a)
local real y=Z39+JND*Sin(a)
call SetUnitX(O_7,x)
call SetUnitY(O_7,y)
call SaveReal(L7,(OL7),(6),((x)*1.0))
call SaveReal(L7,(OL7),(7),((y)*1.0))
if GetTriggerEvalCount(t)==10 then
call FlushChildHashtable(L7,(OL7))
call U37(t)
call HG8(EL8,O_7,1,10+10*HF8)
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function FBH takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit O_7=GetEnumUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.025,true)
call TriggerAddCondition(t,Condition(function FAH))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveReal(L7,(OL7),(6),((GetUnitX(O_7))*1.0))
call SaveReal(L7,(OL7),(7),((GetUnitY(O_7))*1.0))
set t=null
set EL8=null
set O_7=null
endfunction
function FCH takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local integer i=0
local boolean FQH=false
local integer OL7
local unit FPH
local group g
if GetSpellAbilityId()==1093813552 then
set OL7=GetHandleId(EL8)
loop
exitwhen i>2
set FPH=(LoadUnitHandle(L7,(OL7),(724+i)))
if FPH!=null and LR7(FPH)==false then
set FQH=true
endif
set i=i+1
endloop
set FPH=null
if FQH==false then
set EL8=null
return
endif
endif
set g=CA7()
call GroupEnumUnitsInRange(g,GetUnitX(EL8),GetUnitY(EL8),725,Condition(function G48))
call ForGroup(g,function FBH)
call CZ7(g)
set g=null
set EL8=null
endfunction
function F3H takes nothing returns boolean
if GetSpellAbilityId()==1093813552 or GetSpellAbilityId()==1093813336 or GetSpellAbilityId()==1093813335 then
if GetUnitAbilityLevel(GetTriggerUnit(),1093813338)>0 then
call FCH()
endif
endif
return false
endfunction
function Register_FatalAttraction takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function F3H))
set t=null
endfunction
function F6H takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local integer X_E=(LoadInteger(L7,(OL7),(422)))
local integer Y4E=(LoadInteger(L7,(OL7),(423)))
local integer YAD=(LoadInteger(L7,(OL7),(424)))
call SetHeroAgi(O_7,GetHeroAgi(O_7,false)+X_E,true)
call SetHeroStr(O_7,GetHeroStr(O_7,false)+Y4E,true)
call SetHeroInt(O_7,GetHeroInt(O_7,false)+YAD,true)
call FlushChildHashtable(L7,(OL7))
call U37(t)
set t=null
set O_7=null
return false
endfunction
function FLH takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit O_7=GetEnumUnit()
local integer HF8=GetUnitAbilityLevel(EL8,1093813835)
local trigger t
local integer OL7
local integer EAD
local integer X_E
local integer Y4E
local integer YAD
local real JND
if IsUnitType(O_7,UNIT_TYPE_HERO)==true then
set EAD=CQ7(O_7)
set JND=0.15
if EAD==2 then
set X_E=R2I(JND*GetHeroAgi(O_7,false))-1
set Y4E=0
set YAD=0
elseif EAD==3 then
set X_E=0
set Y4E=R2I(JND*GetHeroStr(O_7,false))-1
set YAD=0
elseif EAD==1 then
set X_E=0
set Y4E=0
set YAD=R2I(JND*GetHeroInt(O_7,false))-1
endif
call SetHeroAgi(O_7,GetHeroAgi(O_7,false)-X_E,true)
call SetHeroStr(O_7,GetHeroStr(O_7,false)-Y4E,true)
call SetHeroInt(O_7,GetHeroInt(O_7,false)-YAD,true)
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,7,false)
call TriggerRegisterDeathEvent(t,O_7)
call TriggerAddCondition(t,Condition(function F6H))
call SaveInteger(L7,(OL7),(422),(X_E))
call SaveInteger(L7,(OL7),(424),(YAD))
call SaveInteger(L7,(OL7),(423),(Y4E))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
set t=null
endif
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",O_7,"chest"))
call HG8(EL8,O_7,HQ7,50+50*HF8)
set EL8=null
set O_7=null
endfunction
function F1H takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local group g=CA7()
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local real a=PS7(GetUnitX(EL8),GetUnitY(EL8),x,y)*bj_DEGTORAD
set x=GetUnitX(EL8)
set y=GetUnitY(EL8)
if E78(x,y,HP7)>0 then
set HQ7=3
else
set HQ7=1
endif
call GroupEnumUnitsInRange(g,x,y,HP7+25,Condition(function G48))
call ForGroup(g,function FLH)
call CZ7(g)
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\WhirlingDeath_01.mdx",EL8,"origin"))
set EL8=null
set g=null
endfunction
function F0H takes nothing returns boolean
if GetSpellAbilityId()==1093813835 then
call F1H()
endif
return false
endfunction
function VN8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function F0H))
set t=null
endfunction
function F5H takes unit EL8,unit O_7 returns nothing
local integer HF8=GetUnitAbilityLevel(EL8,1093813555)
call HG8(EL8,O_7,3,60+40*HF8)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",O_7,"origin"))
endfunction
function F2H takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),IQ4)==false then
call GroupAddUnit(IQ4,GetEnumUnit())
call F5H(IN4,GetEnumUnit())
endif
endfunction
function F_H takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit CL7=(LoadUnitHandle(L7,(OL7),(14)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local integer G4H=(LoadInteger(L7,(OL7),(18)))
local integer CS8=GetTriggerEvalCount(t)
local unit G7H
local group G8H=(LoadGroupHandle(L7,(OL7),(16)))
local group g
local boolean G9H=(LoadBoolean(L7,(OL7),(727)))
local boolean GDH=(LoadBoolean(L7,(OL7),(740)))
if DY9(CL7)then
set GDH=true
call SaveBoolean(L7,(OL7),(740),(GDH))
endif
if G9H==false then
set G7H=(LoadUnitHandle(L7,(OL7),(700+G4H+1-CS8)))
call RemoveUnit(G7H)
else
set G7H=(LoadUnitHandle(L7,(OL7),(700+CS8)))
if GDH==false then
call SetUnitX(CL7,GetUnitX(G7H))
call SetUnitY(CL7,GetUnitY(G7H))
endif
call RemoveUnit(G7H)
set g=CA7()
set IN4=CL7
set IQ4=G8H
call GroupEnumUnitsInRange(g,GetUnitX(CL7),GetUnitY(CL7),250,Condition(function F38))
call ForGroup(g,function F2H)
call CZ7(g)
endif
if CS8==(G4H)then
call E78(GetUnitX(CL7),GetUnitY(CL7),90)
call CZ7(G8H)
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set t=null
set CL7=null
set G7H=null
set G8H=null
set g=null
return false
endfunction
function GEH takes nothing returns nothing
if BY7(GetEnumDestructable())and IsDestructableDeadBJ(GetEnumDestructable())==false then
set HR7=HR7+1
endif
endfunction
function GFH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit CL7=(LoadUnitHandle(L7,(OL7),(14)))
local real A89=(LoadReal(L7,(OL7),(13)))
local integer END=(LoadInteger(L7,(OL7),(12)))
local integer CS8=GetTriggerEvalCount(t)
local real x=(LoadReal(L7,(OL7),(6)))+CS8*50*Cos(A89*bj_DEGTORAD)
local real y=(LoadReal(L7,(OL7),(7)))+CS8*50*Sin(A89*bj_DEGTORAD)
local boolean ZPD=(LoadBoolean(L7,(OL7),(15)))
local unit GGH
local trigger GHH=(LoadTriggerHandle(L7,(OL7),(11)))
local integer GIH=GetHandleId(GHH)
local integer ID=1966092625
local real ABG=250
local rect r
local real d=90
set r=Rect(x-d,y-d,x+d,y+d)
set HR7=0
call EnumDestructablesInRect(r,Condition(function ZY7),function GEH)
if HR7>0 or CS8==END or CS8==(END-1)or CS8==(END-2)then
set ID=1966092624
endif
set GGH=CreateUnit(GetOwningPlayer(CL7),ID,x,y,A89)
call SaveUnitHandle(L7,(GIH),(700+CS8),(GGH))
if HR7>0 then
call FlushChildHashtable(L7,(OL7))
call U37(t)
call TriggerRegisterTimerEvent(GHH,0.5/END,true)
call TriggerAddCondition(GHH,Condition(function F_H))
call SaveInteger(L7,(GIH),(18),(CS8))
call SaveBoolean(L7,(GIH),(727),(true))
call SaveUnitHandle(L7,(GIH),(14),(CL7))
call SaveGroupHandle(L7,(GIH),(16),(CA7()))
call SaveReal(L7,(GIH),(6),((x)*1.0))
call SaveReal(L7,(GIH),(7),((y)*1.0))
call SaveBoolean(L7,(GIH),(740),(false))
elseif CS8>END then
call FlushChildHashtable(L7,(OL7))
call U37(t)
call TriggerRegisterTimerEvent(GHH,0.5/END,true)
call TriggerAddCondition(GHH,Condition(function F_H))
call SaveInteger(L7,(GIH),(18),(CS8))
call SaveBoolean(L7,(GIH),(727),(false))
call SaveUnitHandle(L7,(GIH),(14),(CL7))
call SaveGroupHandle(L7,(GIH),(16),(CA7()))
call SaveBoolean(L7,(GIH),(740),(false))
endif
set t=null
set CL7=null
set GGH=null
set GHH=null
return false
endfunction
function GJH takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit CL7=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real A89=PS7(GetUnitX(CL7),GetUnitY(CL7),GetLocationX(l),GetLocationY(l))
local integer HF8=GetUnitAbilityLevel(CL7,1093813555)
local integer GKH
local integer END
local trigger GMH=CreateTrigger()
set GKH=600+200*HF8
set END=GKH/50
call SaveUnitHandle(L7,(OL7),(14),(CL7))
call SaveInteger(L7,(OL7),(5),(HF8))
call SaveReal(L7,(OL7),(13),((A89)*1.0))
call SaveInteger(L7,(OL7),(12),(END))
call SaveTriggerHandle(L7,(OL7),(11),(GMH))
call SaveReal(L7,(OL7),(6),((GetUnitX(CL7))*1.0))
call SaveReal(L7,(OL7),(7),((GetUnitY(CL7))*1.0))
call TriggerRegisterTimerEvent(t,0.5/END,true)
call TriggerAddCondition(t,Condition(function GFH))
call RemoveLocation(l)
set t=null
set CL7=null
set l=null
endfunction
function GNH takes nothing returns boolean
if GetSpellAbilityId()==1093813555 then
call GJH()
endif
return false
endfunction
function VO8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function GNH))
set t=null
endfunction
function GOH takes unit EL8 returns nothing
local integer CS8=(LoadInteger(L7,(GetHandleId(EL8)),(728)))
local integer HF8=GetUnitAbilityLevel(EL8,1093813556)
local integer i=1
set CS8=IMinBJ(CS8,4*HF8)
loop
exitwhen i>16
if CS8==i then
call LP7(EL8,HS7[i])
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),HS7[i],false)
else
call UnitRemoveAbility(EL8,HS7[i])
endif
set i=i+1
endloop
endfunction
function GPH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local integer CS8=(LoadInteger(L7,(GetHandleId(EL8)),(728)))-1
call SaveInteger(L7,(GetHandleId(EL8)),(728),(CS8))
call GOH(EL8)
call FlushChildHashtable(L7,(OL7))
call U37(t)
set t=null
set EL8=null
return false
endfunction
function GQH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local integer CS8=(LoadInteger(L7,(GetHandleId(EL8)),(728)))+1
if IsUnitEnemy(GetAttacker(),GetOwningPlayer(EL8))==true then
call SaveInteger(L7,(GetHandleId(EL8)),(728),(CS8))
call GOH(EL8)
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,16,false)
call TriggerRegisterDeathEvent(t,EL8)
call TriggerAddCondition(t,Condition(function GPH))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
endif
set t=null
set EL8=null
return false
endfunction
function GRH takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function GQH))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
set t=null
set EL8=null
endfunction
function GSH takes nothing returns boolean
if GetLearnedSkill()==1093813556 and GetUnitAbilityLevel(GetTriggerUnit(),1093813556)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call GRH()
endif
return false
endfunction
function VP8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function GSH))
set t=null
set HS7[1]=1093813319
set HS7[2]=1093813318
set HS7[3]=1093813324
set HS7[4]=1093813325
set HS7[5]=1093813322
set HS7[6]=1093813321
set HS7[7]=1093813326
set HS7[8]=1093813327
set HS7[9]=1093813320
set HS7[10]=1093813333
set HS7[11]=1093813328
set HS7[12]=1093813329
set HS7[13]=1093813330
set HS7[14]=1093813331
set HS7[15]=1093813332
set HS7[16]=1093813323
endfunction
function GTH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
call UnitRemoveAbility(EL8,1114663271)
call UnitRemoveAbility(EL8,1111845217)
call UnitRemoveAbility(EL8,1093813848)
call FlushChildHashtable(L7,(OL7))
call U37(t)
set t=null
set EL8=null
return false
endfunction
function GUH takes unit EL8,unit O_7 returns nothing
local unit HE8=CreateUnit(GetOwningPlayer(O_7),1697656901,GetUnitX(O_7),GetUnitY(O_7),0)
local integer FSD=R2I(100*GetUnitState(O_7,UNIT_STATE_LIFE)/GetUnitState(O_7,UNIT_STATE_MAX_LIFE))
local integer HF8=DR8(DQ8(R2I(100-FSD)/5,20),1)
call UnitAddAbility(HE8,1093813334)
call SetUnitAbilityLevel(HE8,1093813334,HF8)
call IssueTargetOrder(HE8,"slow",O_7)
set HE8=null
endfunction
function GVH takes nothing returns nothing
if D9==false then
call HG8(HW7,GetEnumUnit(),3,(25+25*HX7)*0.5)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",GetEnumUnit(),"origin"))
call GUH(HW7,GetEnumUnit())
endif
endfunction
function GWH takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),HV7)==false then
call GroupAddUnit(HV7,GetEnumUnit())
call HG8(HW7,GetEnumUnit(),3,60+40*HX7)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",GetEnumUnit(),"origin"))
call GUH(HW7,GetEnumUnit())
endif
endfunction
function GXH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit EF8=(LoadUnitHandle(L7,(OL7),(45)))
local real EG8=(LoadReal(L7,(OL7),(6)))
local real EH8=(LoadReal(L7,(OL7),(7)))
local real x
local real y
local real a
local integer GYH=(LoadInteger(L7,(OL7),(33)))
local group G3D=(LoadGroupHandle(L7,(OL7),(187)))
local group g
local integer CS8=(LoadInteger(L7,(OL7),(34)))
local real GZH
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093813848 then
call SaveInteger(L7,(OL7),(33),(2))
call GroupClear(G3D)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093813848,false)
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function GTH))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
endif
elseif GetTriggerEventId()==EVENT_WIDGET_DEATH or(LoadInteger(L7,(GetHandleId(EL8)),(704)))==-1 then
call FT8(EL8)
if(LoadInteger(L7,(GetHandleId(EL8)),(704)))==0 or(LoadInteger(L7,(GetHandleId(EL8)),(704)))==1093813557 then
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093813557,true)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093813848,false)
call UnitRemoveAbility(EL8,1093813848)
call UnitRemoveAbility(EL8,1114663271)
call UnitRemoveAbility(EL8,1111845217)
call KillUnit(EF8)
call CZ7(G3D)
call FlushChildHashtable(L7,(OL7))
call U37(t)
elseif GYH==0 then
set a=PS7(GetUnitX(EF8),GetUnitY(EF8),EG8,EH8)*bj_DEGTORAD
set x=GetUnitX(EF8)+16*Cos(a)
set y=GetUnitY(EF8)+16*Sin(a)
call E78(x,y,175)
if RI7(x,y,EG8,EH8)<40 then
set x=EG8
set y=EH8
endif
call SetUnitX(EF8,x)
call SetUnitY(EF8,y)
set IN4=EL8
set HW7=EL8
set HX7=GetUnitAbilityLevel(EL8,1093813557)
set HV7=G3D
set g=CA7()
call GroupEnumUnitsInRange(g,x,y,HT7+25,Condition(function FW8))
call ForGroup(g,function GWH)
call CZ7(g)
if x==EG8 and y==EH8 then
call SaveInteger(L7,(OL7),(33),(1))
call GroupClear(G3D)
endif
elseif GYH==1 then
set CS8=CS8+1
if CS8==25 then
set x=GetUnitX(EF8)
set y=GetUnitY(EF8)
call E78(x,y,175)
set CS8=0
set IN4=EL8
set HW7=EL8
set HX7=GetUnitAbilityLevel(EL8,1093813557)
set g=CA7()
call GroupEnumUnitsInRange(g,x,y,HU7+25,Condition(function FW8))
call ForGroup(g,function GVH)
call CZ7(g)
set GZH=(15+5*HX7)/2
if GetUnitState(EL8,UNIT_STATE_MANA)<GZH or RH7(EL8,EF8)>2000 then
call SaveInteger(L7,(OL7),(33),(2))
call GroupClear(G3D)
call UnitRemoveAbility(EL8,1093813848)
call UnitRemoveAbility(EL8,1114663271)
call UnitRemoveAbility(EL8,1111845217)
else
call SetUnitState(EL8,UNIT_STATE_MANA,GetUnitState(EL8,UNIT_STATE_MANA)-GZH)
endif
endif
call SaveInteger(L7,(OL7),(34),(CS8))
elseif GYH==2 then
set a=PS7(GetUnitX(EF8),GetUnitY(EF8),GetUnitX(EL8),GetUnitY(EL8))*bj_DEGTORAD
set x=GetUnitX(EF8)+16*Cos(a)
set y=GetUnitY(EF8)+16*Sin(a)
call E78(x,y,175)
call SetUnitX(EF8,x)
call SetUnitY(EF8,y)
set IN4=EL8
set HW7=EL8
set HX7=GetUnitAbilityLevel(EL8,1093813557)
set HV7=G3D
set g=CA7()
call GroupEnumUnitsInRange(g,x,y,HT7+25,Condition(function FW8))
call ForGroup(g,function GWH)
call CZ7(g)
if RI7(x,y,GetUnitX(EL8),GetUnitY(EL8))<40 then
call FT8(EL8)
call KillUnit(EF8)
call CZ7(G3D)
call FlushChildHashtable(L7,(OL7))
call U37(t)
if(LoadInteger(L7,(GetHandleId(EL8)),(704)))==0 or(LoadInteger(L7,(GetHandleId(EL8)),(704)))==1093813557 then
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093813557,true)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093813848,false)
endif
endif
set t=null
set EL8=null
set EF8=null
set G3D=null
set g=null
return false
endfunction
function GAH takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local real a=PS7(GetUnitX(EL8),GetUnitY(EL8),x,y)*bj_DEGTORAD
local unit EF8=CreateUnit(GetOwningPlayer(EL8),1747993683,GetUnitX(EL8),GetUnitY(EL8),a*bj_RADTODEG)
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterDeathEvent(t,EL8)
call TriggerRegisterUnitEvent(t,EL8,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function GXH))
call SaveUnitHandle(L7,(OL7),(45),(EF8))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveReal(L7,(OL7),(6),((x)*1.0))
call SaveReal(L7,(OL7),(7),((y)*1.0))
call SaveInteger(L7,(OL7),(33),(0))
call SaveGroupHandle(L7,(OL7),(187),(CA7()))
call FR8(EL8)
call LP7(EL8,1093813848)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093813557,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(EL8),1093813848,true)
set EL8=null
set t=null
set EF8=null
endfunction
function GBH takes nothing returns boolean
if GetSpellAbilityId()==1093813557 then
call GAH()
endif
return false
endfunction
function VQ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function GBH))
call DH8(1093813334)
set t=null
endfunction
function Trap_RemoveBonus takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
if((LoadInteger(L7,(GetHandleId(EL8)),(754)))==(LoadInteger(L7,(OL7),(754))))then
call HN8((EL8),(0))
endif
call FlushChildHashtable(L7,(OL7))
call U37(t)
set t=null
set EL8=null
return false
endfunction
function GCH takes nothing returns nothing
if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true then
set I57=I57+60
else
set I57=I57+20
endif
call UnitRemoveAbility(GetEnumUnit(),J77)
call UnitRemoveAbility(GetEnumUnit(),J87)
endfunction
function G3H takes nothing returns nothing
if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true then
set I57=I57+60
else
set I57=I57+20
endif
endfunction
function G6H takes nothing returns nothing
call HD8(I27,GetEnumUnit(),0.5+I_7*0.5)
call HG8(I27,GetEnumUnit(),ZG4,I57)
endfunction
function GLH takes nothing returns boolean
return GetUnitAbilityLevel(GetFilterUnit(),J87)>0
endfunction
function G1H takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local group g=CA7()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
set I27=EL8
set I_7=GetUnitAbilityLevel(EL8,J47)
set I57=0
call GroupEnumUnitsInRange(g,0,0,9999,Condition(function GLH))
call ForGroup(g,function GCH)
call ForGroup(g,function G6H)
call CZ7(g)
set g=null
set EL8=null
endfunction
function G0H takes nothing returns boolean
if GetSpellAbilityId()==J47 then
call G1H()
endif
return false
endfunction
function G5H takes string D08,unit O_7,unit CL7 returns nothing
local texttag tt=CreateTextTag()
call SetTextTagText(tt,D08,0.033)
call SetTextTagPosUnit(tt,O_7,64)
call SetTextTagColor(tt,0,75,255,255)
call SetTextTagVelocity(tt,0,0.0355)
call SetTextTagFadepoint(tt,0.15)
call SetTextTagPermanent(tt,false)
call SetTextTagLifespan(tt,1.0)
if IsUnitAlly(CL7,GetLocalPlayer())or CP7(GetLocalPlayer())then
call SetTextTagVisibility(tt,true)
else
call SetTextTagVisibility(tt,false)
endif
set tt=null
endfunction
function G2H takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local real E09=(LoadReal(L7,(GetHandleId(O_7)),(753)))
if GetTriggerEventId()==EVENT_WIDGET_DEATH or E09<(TimerGetElapsed(W))then
call UnitRemoveAbility(O_7,J77)
call UnitRemoveAbility(O_7,J87)
call SaveReal(L7,(GetHandleId(O_7)),(753),((0)*1.0))
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set t=null
set O_7=null
return false
endfunction
function G_H takes unit EL8,unit O_7 returns nothing
local trigger t
local integer OL7
local group g=CA7()
call SaveReal(L7,(GetHandleId(O_7)),(753),(((TimerGetElapsed(W))+I07)*1.0))
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerRegisterDeathEvent(t,O_7)
call TriggerAddCondition(t,Condition(function G2H))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call LP7(O_7,J77)
call SetPlayerAbilityAvailable(GetOwningPlayer(O_7),J77,false)
set I27=EL8
set I_7=GetUnitAbilityLevel(EL8,J47)
set I57=0
call GroupEnumUnitsInRange(g,0,0,9999,Condition(function GLH))
call ForGroup(g,function G3H)
call CZ7(g)
call G5H(I2S(I57),O_7,EL8)
set t=null
endfunction
function H4H takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
call FlushChildHashtable(L7,(OL7))
call U37(t)
else
if GetEventDamageSource()==EL8 and GetEventDamage()>0 then
call FlushChildHashtable(L7,(OL7))
call U37(t)
if D69(O_7)==false then
call G_H(EL8,O_7)
endif
endif
endif
set t=null
set EL8=null
set O_7=null
return false
endfunction
function H7H takes nothing returns nothing
local unit EL8=GetAttacker()
local unit O_7=GetTriggerUnit()
local trigger t
local integer OL7
if UX7(EL8,"4325")==false then
call U07(EL8,"4325",0.2)
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,O_7,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,2.5,false)
call TriggerAddCondition(t,Condition(function H4H))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
endif
set EL8=null
set O_7=null
endfunction
function H8H takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),J47)>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitTypeId(GetTriggerUnit())!=1848651852 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))then
call H7H()
endif
return false
endfunction
function VU8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function G0H))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function H8H))
set t=null
endfunction
function H9H takes nothing returns nothing
local integer OL7=GetHandleId(GetTriggeringTrigger())
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit HDH=IN4
local unit O_7=IP4
local integer HF8=GetUnitAbilityLevel(EL8,J97)
if CO7(O_7)==false then
call HG8(EL8,O_7,ZG4,20+80*HF8)
call FE8(O_7,JD7,1,4,JE7)
call SetPlayerAbilityAvailable(GetOwningPlayer(O_7),JD7,false)
call UnitMakeAbilityPermanent(O_7,true,1093815626)
endif
set EL8=null
set O_7=null
set HDH=null
endfunction
function HEH takes nothing returns nothing
local unit EL8=JF7
local unit O_7=GetEnumUnit()
local trigger t=EO8(JG7,O_7,1747993925,"H9H",600)
local integer OL7=GetHandleId(t)
call SaveUnitHandle(L7,(OL7),(2),(EL8))
set EL8=null
set O_7=null
set t=null
endfunction
function HFH takes unit EL8,unit O_7 returns nothing
local integer HF8=GetUnitAbilityLevel(EL8,J97)
local group g=CA7()
set IN4=EL8
set JF7=EL8
set JG7=O_7
call GroupEnumUnitsInRange(g,GetUnitX(O_7),GetUnitY(O_7),500+25,Condition(function FW8))
call GroupRemoveUnit(g,O_7)
call ForGroup(g,function HEH)
call CZ7(g)
set EL8=null
set O_7=null
set g=null
endfunction
function HGH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local unit EF8=(LoadUnitHandle(L7,(OL7),(45)))
local real x=GetUnitX(EF8)
local real y=GetUnitY(EF8)
local real EG8=GetUnitX(O_7)
local real EH8=GetUnitY(O_7)
local real HHH=RI7(EG8,EH8,x,y)
local integer CS8=GetTriggerEvalCount(t)
local real EJ8=PS7(x,y,EG8,EH8)
local real EK8
local real EM8
local real EI8=HHH/((JH7/.02)-CS8)
if EI8<JI7*0.02 then
set EI8=JI7*0.02
endif
set EK8=x+EI8*Cos(EJ8*bj_DEGTORAD)
set EM8=y+EI8*Sin(EJ8*bj_DEGTORAD)
call SetUnitX(EF8,EK8)
call SetUnitY(EF8,EM8)
call SetUnitFacing(EF8,EJ8)
if RI7(EG8,EH8,EK8,EM8)<=EI8 then
call KillUnit(EF8)
call HFH(EL8,O_7)
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set t=null
set O_7=null
set EL8=null
set EF8=null
return false
endfunction
function HIH takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit EF8=CreateUnit(GetOwningPlayer(EL8),1747993930,GetUnitX(EL8),GetUnitY(EL8),0)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function HGH))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveUnitHandle(L7,(OL7),(45),(EF8))
set EL8=null
set O_7=null
set EF8=null
set t=null
endfunction
function HJH takes nothing returns boolean
if GetSpellAbilityId()==J97 then
call HIH()
endif
return false
endfunction
function VT8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function HJH))
set t=null
endfunction
function HKH takes nothing returns nothing
call HD8(HY7,GetEnumUnit(),1.5)
call HG8(HY7,GetEnumUnit(),2,50+50*HZ7)
endfunction
function HMH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local real a=(LoadReal(L7,(OL7),(137)))
local real EG8=(LoadReal(L7,(OL7),(47)))
local real EH8=(LoadReal(L7,(OL7),(48)))
local real x=GetUnitX(EL8)
local real y=GetUnitY(EL8)
local group g=CA7()
local integer HF8=GetUnitAbilityLevel(EL8,1093813812)
set x=DD8(x+32*Cos(a))
set y=DE8(y+32*Sin(a))
if RI7(x,y,EG8,EH8)<40 then
set x=EG8
set y=EH8
endif
call SetUnitX(EL8,x)
call SetUnitY(EL8,y)
call SetUnitFacing(EL8,a*bj_RADTODEG)
set IN4=EL8
call GroupEnumUnitsInRange(g,x,y,125+25,Condition(function FW8))
if FirstOfGroup(g)!=null or(x==EG8 and y==EH8)or GetTriggerEvalCount(t)>200 or GetTriggerEventId()==EVENT_WIDGET_DEATH then
call DestroyEffect(AddSpecialEffect("war3mapImported\\BlackDragonMissile.mdx",x,y))
call GroupEnumUnitsInRange(g,x,y,300+25,Condition(function FW8))
set HZ7=HF8
set HY7=EL8
if GetTriggerEventId()!=EVENT_WIDGET_DEATH then
call ForGroup(g,function HKH)
endif
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
call CZ7(g)
set t=null
set EL8=null
set g=null
return false
endfunction
function HNH takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local real x=GetUnitX(EL8)
local real y=GetUnitY(EL8)
local real EG8=GetSpellTargetX()
local real EH8=GetSpellTargetY()
local real a=PS7(x,y,EG8,EH8)*bj_DEGTORAD
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterDeathEvent(t,EL8)
call TriggerAddCondition(t,Condition(function HMH))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveReal(L7,(OL7),(137),((a)*1.0))
call SaveReal(L7,(OL7),(47),((EG8)*1.0))
call SaveReal(L7,(OL7),(48),((EH8)*1.0))
set EL8=null
set t=null
endfunction
function HOH takes nothing returns boolean
if GetSpellAbilityId()==1093813812 then
call HNH()
endif
return false
endfunction
function Register_SonicBoom takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function HOH))
set t=null
endfunction
function HPH takes nothing returns nothing
local unit EL8=HA7
local unit O_7=GetEnumUnit()
call F78(O_7,1093813811,1,10)
call HG8(EL8,O_7,2,50*HB7+2*GetHeroAgi(EL8,true))
set EL8=null
set O_7=null
endfunction
function HQH takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local real HRH=DT8((TimerGetElapsed(W))-(LoadReal(L7,(GetHandleId(EL8)),(358))),5.0)
local integer HF8=GetUnitAbilityLevel(EL8,1093813573)
local real B29=(40+80*HF8)*(HRH)
local group g=CA7()
local real d=HRH*600
local real a=(LoadReal(L7,(GetHandleId(EL8)),(736)))
local real x=GetUnitX(EL8)+d*Cos(a)
local real y=GetUnitY(EL8)+d*Sin(a)
set IN4=EL8
call GroupEnumUnitsInRange(g,x,y,325,Condition(function FW8))
set HB7=HF8
set HA7=EL8
call ForGroup(g,function HPH)
call CZ7(g)
call DC8("effects\\BasicWaterFlash.mdx",x,y,1)
set EL8=null
set g=null
endfunction
function HSH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit CL7=(LoadUnitHandle(L7,(OL7),(14)))
call SetUnitTimeScale(CL7,1)
call FlushChildHashtable(L7,(OL7))
call U37(t)
if GetTriggerEventId()!=EVENT_UNIT_DEATH then
call RU7(CL7)
endif
set t=null
set CL7=null
return false
endfunction
function HTH takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit CL7=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local real a=PS7(GetUnitX(CL7),GetUnitY(CL7),x,y)*bj_DEGTORAD
local real GP9=RMaxBJ(RI7(GetUnitX(CL7),GetUnitY(CL7),x,y)/600,0.32)
call RemoveLocation(l)
call SaveReal(L7,(GetHandleId(CL7)),(356),((x)*1.0))
call SaveReal(L7,(GetHandleId(CL7)),(357),((y)*1.0))
call SaveReal(L7,(GetHandleId(CL7)),(736),((a)*1.0))
call SaveReal(L7,(GetHandleId(CL7)),(358),(((TimerGetElapsed(W)))*1.0))
call SetUnitTimeScale(CL7,0.75)
call SaveUnitHandle(L7,(OL7),(14),(CL7))
call TriggerRegisterTimerEvent(t,GP9-0.01,false)
call TriggerRegisterUnitEvent(t,CL7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function HSH))
set t=null
set l=null
set CL7=null
endfunction
function HUH takes nothing returns boolean
if GetSpellAbilityId()==1093813573 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST then
call SaveBoolean(L7,(GetHandleId(GetTriggerUnit())),(360),(false))
call HTH()
elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
call SaveBoolean(L7,(GetHandleId(GetTriggerUnit())),(360),(true))
elseif(LoadBoolean(L7,(GetHandleId(GetTriggerUnit())),(360)))==true then
call HQH()
endif
endif
return false
endfunction
function Register_WindBlast takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call D28(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function HUH))
set t=null
endfunction
function HVH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
if GetUnitAbilityLevel(EL8,1110456374)==0 and GetUnitAbilityLevel(EL8,1110456375)==0 then
call FlushChildHashtable(L7,(OL7))
call U37(t)
call UnitRemoveAbility(EL8,1093813810)
call UnitRemoveAbility(EL8,1110459959)
endif
set t=null
set EL8=null
return false
endfunction
function HWH takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
local unit O_7=GetSpellTargetUnit()
call SetPlayerAbilityAvailable(GetOwningPlayer(O_7),1093813810,false)
call LP7(O_7,1093813810)
call TriggerRegisterTimerEvent(t,0.2,true)
call TriggerAddCondition(t,Condition(function HVH))
call SaveUnitHandle(L7,(OL7),(2),(O_7))
set EL8=null
set t=null
endfunction
function HXH takes nothing returns boolean
if GetSpellAbilityId()==1093813808 then
call HWH()
endif
return false
endfunction
function Register_WindBarrier takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function HXH))
set t=null
endfunction
function HYH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local integer HF8=GetUnitAbilityLevel(EL8,1093813813)
local integer id
local integer HZH
call FlushChildHashtable(L7,(OL7))
call U37(t)
if IsUnitAlly(O_7,GetOwningPlayer(EL8))==true then
set HZH=1110459960
if HF8==1 then
set id=1093813831
elseif HF8==2 then
set id=1093813830
elseif HF8==3 then
set id=1093813832
endif
call SetUnitState(O_7,UNIT_STATE_LIFE,GetUnitState(O_7,UNIT_STATE_LIFE)+100+50*HF8)
else
set HZH=1110459961
if HF8==1 then
set id=1093813828
elseif HF8==2 then
set id=1093813827
elseif HF8==3 then
set id=1093813829
endif
call HG8(EL8,O_7,1,100+50*HF8)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(O_7),id,false)
call FE8(O_7,id,1,4,HZH)
set t=null
set EL8=null
set O_7=null
return false
endfunction
function HAH takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit O_7=GetEnumUnit()
local unit HE8=CreateUnit(GetOwningPlayer(O_7),1697656901,GetUnitX(O_7),GetUnitY(O_7),0)
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call E49(O_7)
call D59(O_7,0,0)
call UnitAddAbility(HE8,1093813833)
call IssueTargetOrder(HE8,"cyclone",O_7)
call TriggerRegisterTimerEvent(t,4,false)
call TriggerAddCondition(t,Condition(function HYH))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
set t=null
set EL8=null
set O_7=null
set HE8=null
endfunction
function HBH takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local real EG8=GetSpellTargetX()
local real EH8=GetSpellTargetY()
local group g=CA7()
call EE8(GetOwningPlayer(EL8),4,EG8,EH8,300)
call GroupEnumUnitsInRange(g,EG8,EH8,400+25,Condition(function FH8))
call ForGroup(g,function HAH)
call CZ7(g)
set EL8=null
set g=null
endfunction
function HCH takes nothing returns boolean
if GetSpellAbilityId()==1093813813 then
call HBH()
endif
return false
endfunction
function Register_PrevailingWinds takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function HCH))
set t=null
endfunction
function H3H takes nothing returns nothing
local integer OL7=GetHandleId(GetTriggeringTrigger())
local unit EL8=IN4
local unit O_7=IP4
local unit HE8=CreateUnit(GetOwningPlayer(O_7),1697656901,GetUnitX(O_7),GetUnitY(O_7),0)
local real B29=GetUnitAbilityLevel(EL8,1093813844)*60+40
call UnitAddAbility(HE8,1093813845)
call IssueTargetOrder(HE8,"ensnare",O_7)
call HG8(EL8,O_7,1,B29)
set HE8=null
set EL8=null
set O_7=null
endfunction
function H6H takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local group g=CA7()
local real x=GetUnitX(EL8)
local real y=GetUnitY(EL8)
local unit u1=null
local unit u2=null
local unit u3=null
local integer QG7=0
local unit u
local trigger t
call GroupEnumUnitsInRange(g,x,y,425,Condition(function G48))
loop
exitwhen FirstOfGroup(g)==null or QG7==3
set u=GroupPickRandomUnit(g)
if u!=null then
if QG7==0 then
set u1=u
elseif QG7==1 then
set u2=u
elseif QG7==2 then
set u3=u
endif
set QG7=QG7+1
call GroupRemoveUnit(g,u)
endif
endloop
call CZ7(g)
if u1!=null then
call EO8(EL8,u1,1747993690,"H3H",400)
endif
if u2!=null then
call EO8(EL8,u2,1747993690,"H3H",400)
endif
if u3!=null then
call EO8(EL8,u3,1747993690,"H3H",400)
endif
set g=null
set EL8=null
set u=null
set u1=null
set u2=null
set u3=null
endfunction
function HLH takes nothing returns boolean
if GetSpellAbilityId()==1093813844 then
call H6H()
endif
return false
endfunction
function Register_HolyShackles takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function HLH))
set t=null
endfunction
function H1H takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local integer ZS9=(LoadInteger(L7,(OL7),(30)))
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local integer CS8=(LoadInteger(L7,(GetHandleId(EL8)),(737)))
local trigger H0H=(LoadTriggerHandle(L7,(GetHandleId(EL8)),(738)))
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==EL8 then
call DisableTrigger(t)
call FlushChildHashtable(L7,(OL7))
call U37(t)
set CS8=CS8-1
if CS8==0 then
call FlushChildHashtable(L7,(GetHandleId(H0H)))
call U37(H0H)
call RemoveSavedHandle(L7,(GetHandleId(EL8)),(738))
call SaveInteger(L7,(GetHandleId(EL8)),(737),(-1))
call UnitRemoveAbility(EL8,1093813838)
call UnitRemoveAbility(EL8,1110459969)
else
call SaveInteger(L7,(GetHandleId(EL8)),(737),(CS8))
endif
endif
else
call FlushChildHashtable(L7,(OL7))
call U37(t)
endif
set t=null
set O_7=null
set EL8=null
set H0H=null
return false
endfunction
function H5H takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit EL8=(LoadUnitHandle(L7,(OL7),(2)))
if GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED then
call FlushChildHashtable(L7,(OL7))
call U37(t)
call RemoveSavedHandle(L7,(GetHandleId(EL8)),(738))
call SaveInteger(L7,(GetHandleId(EL8)),(737),(-1))
call UnitRemoveAbility(EL8,1093813838)
call UnitRemoveAbility(EL8,1110459969)
elseif GetAttacker()==EL8 then
set t=CreateTrigger()
set OL7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,2,false)
call TriggerAddCondition(t,Condition(function H1H))
call SaveUnitHandle(L7,(OL7),(2),(EL8))
call SaveUnitHandle(L7,(OL7),(17),(GetTriggerUnit()))
endif
set t=null
set EL8=null
return false
endfunction
function H2H takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call SetPlayerAbilityAvailable(GetOwningPlayer(O_7),1093813838,false)
call LP7(O_7,1093813838)
call D28(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterTimerEvent(t,12,false)
call TriggerAddCondition(t,Condition(function H5H))
call SaveUnitHandle(L7,(OL7),(2),(O_7))
call SaveInteger(L7,(GetHandleId(O_7)),(737),(GetUnitAbilityLevel(EL8,1093813841)+1))
call SaveTriggerHandle(L7,(GetHandleId(O_7)),(738),(t))
set O_7=null
set t=null
set EL8=null
endfunction
function H_H takes nothing returns boolean
if GetSpellAbilityId()==1093813841 then
call H2H()
endif
return false
endfunction
function Register_Focus takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function H_H))
set t=null
endfunction
function I4H takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OL7=GetHandleId(t)
local unit O_7=(LoadUnitHandle(L7,(OL7),(17)))
local integer HF8=(LoadInteger(L7,(OL7),(5)))
local unit HE8
if GetTriggerEvalCount(t)==1 then
set HE8=CreateUnit(GetOwningPlayer(O_7),1697656901,GetUnitX(O_7),GetUnitY(O_7),0)
call UnitAddAbility(HE8,1093813847)
call IssueTargetOrder(HE8,"doom",O_7)
endif
if(HF8+3)*10<GetTriggerEvalCount(t)then
call UnitRemoveAbility(O_7,1110459974)
call UnitRemoveAbility(O_7,1098282348)
call UnitRemoveAbility(O_7,1093678162)
call UnitRemoveAbility(O_7,1096971630)
call DestroyEffect((LoadEffectHandle(L7,(OL7),(32))))
call FlushChildHashtable(L7,(OL7))
call U37(t)
else
call E49(O_7)
call D59(O_7,0,0)
endif
set t=null
set O_7=null
return false
endfunction
function I7H takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer OL7=GetHandleId(t)
call LP7(O_7,1098282348)
call LP7(O_7,1096971630)
call LP7(O_7,1093678162)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function I4H))
call SaveInteger(L7,(OL7),(5),(GetUnitAbilityLevel(EL8,1093813836)))
call SaveUnitHandle(L7,(OL7),(17),(O_7))
call SaveEffectHandle(L7,(OL7),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Human\\DivineShield\\DivineShieldTarget.mdl",O_7,"origin")))
call E49(O_7)
call D59(O_7,0,0)
set t=null
set O_7=null
set EL8=null
endfunction
function I8H takes nothing returns boolean
if GetSpellAbilityId()==1093813836 then
call I7H()
endif
return false
endfunction
function Register_DivineIntervention takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function I8H))
set t=null
endfunction
function I9H takes nothing returns nothing
local unit EL8=GetTriggerUnit()
local unit O_7=GetSpellTargetUnit()
local unit HE8=CreateUnit(GetOwningPlayer(O_7),1697656901,GetUnitX(O_7),GetUnitY(O_7),0)
local integer HF8=GetUnitAbilityLevel(EL8,1093813583)
call UnitAddAbility(HE8,1093813584)
call IssuePointOrder(HE8,"silence",GetUnitX(O_7),GetUnitY(O_7))
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\FrozenOrb_NoTrail.mdx",O_7,"chest"))
call HG8(EL8,O_7,1,HF8*75)
set EL8=null
set HE8=null
set O_7=null
endfunction
function IDH takes nothing returns boolean
if GetSpellAbilityId()==1093813583 then
call I9H()
endif
return false
endfunction
function Register_Chill takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function IDH))
set t=null
endfunction
function InitCustomTeams takes nothing returns nothing
call SetPlayerTeam(Player(1),0)
call SetPlayerTeam(Player(2),0)
call SetPlayerTeam(Player(3),0)
call SetPlayerTeam(Player(4),0)
call SetPlayerTeam(Player(5),0)
call SetPlayerTeam(Player(7),1)
call SetPlayerTeam(Player(8),1)
call SetPlayerTeam(Player(9),1)
call SetPlayerTeam(Player(10),1)
call SetPlayerTeam(Player(11),1)
endfunction
function IEH takes string IFH,string IGH,integer IHH returns integer
local integer i=IHH
local string IIH=null
loop
exitwhen i==StringLength(IFH)
set IIH=SubString(IFH,i,i+1)
if(IIH==IGH)then
return i
endif
set i=i+1
endloop
return-1
endfunction
function IJH takes nothing returns nothing
local string IKH=GetEventPlayerChatString()
local integer IMH=IEH(IKH," ",0)
local integer INH=IEH(IKH," ",IMH+1)
local integer IOH=S2I(SubString(IKH,IMH,INH+1))
local string IPH=SubString(IKH,INH+1,StringLength(IKH))
local boolean IQH=false
local integer i=0
set IPH="+"+IPH
if IOH<12 then
loop
exitwhen i==14
if(IPH==GetPlayerName(Player(i)))then
set IQH=true
endif
set i=i+1
endloop
if((not IQH)and(UG4>0)and(GetPlayerController(Player(IOH))==MAP_CONTROL_COMPUTER)and(IOH!=0)and(IOH!=6)and(IOH<12)and(StringLength(IPH)<20))then
set KZ4[IOH]=IPH
call SetPlayerName(Player(IOH),IPH)
set UG4=UG4-1
endif
endif
endfunction
function IRH takes nothing returns nothing
local trigger t=CreateTrigger()
local integer i=0
loop
exitwhen i==14
call TriggerRegisterPlayerChatEvent(t,Player(i),"-rn ",false)
set i=i+1
endloop
call TriggerAddAction(t,function IJH)
set t=null
endfunction
function ISH takes nothing returns nothing
local real dt=TimerGetElapsed(W)
local real X
local real Y
local real dx
local real dy
local real Vx
local real Vy
local group g=CA7()
local unit CL7=GetOrderedUnit()
local unit O_7
local integer i=1
local integer HF8
call SyncSelections()
call GroupEnumUnitsSelected(g,GetTriggerPlayer(),null)
set O_7=FirstOfGroup(g)
call CZ7(g)
set g=null
set dx=GetUnitX(O_7)
set dy=GetUnitY(O_7)
call R97(0.1)
set dt=TimerGetElapsed(W)-dt
set X=GetUnitX(O_7)
set Y=GetUnitY(O_7)
set dx=(X-dx)/dt
set dy=(Y-dy)/dt
loop
set CL7=M7[i]
set HF8=GetUnitAbilityLevel(CL7,1093678665)
if HF8>0 then
set dt=CB7(40./0.03,X+dx*0.3-GetUnitX(CL7),Y+dy*0.3-GetUnitY(CL7),dx,dy)
if dt>0 and dt<=((400.+200.*HF8)*0.03/40.)then
call IssuePointOrderById(CL7,852600,X+dx*(dt+0.3),Y+dy*(dt+0.3))
endif
endif
set i=i+1
exitwhen i>10
endloop
set O_7=null
set CL7=null
endfunction
function Test_70 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterPlayerEvent(t,Z7[1],EVENT_PLAYER_END_CINEMATIC)
call TriggerRegisterPlayerEvent(t,Z7[2],EVENT_PLAYER_END_CINEMATIC)
call TriggerRegisterPlayerEvent(t,Z7[3],EVENT_PLAYER_END_CINEMATIC)
call TriggerRegisterPlayerEvent(t,Z7[4],EVENT_PLAYER_END_CINEMATIC)
call TriggerRegisterPlayerEvent(t,Z7[5],EVENT_PLAYER_END_CINEMATIC)
call TriggerRegisterPlayerEvent(t,A7[1],EVENT_PLAYER_END_CINEMATIC)
call TriggerRegisterPlayerEvent(t,A7[2],EVENT_PLAYER_END_CINEMATIC)
call TriggerRegisterPlayerEvent(t,A7[3],EVENT_PLAYER_END_CINEMATIC)
call TriggerRegisterPlayerEvent(t,A7[4],EVENT_PLAYER_END_CINEMATIC)
call TriggerRegisterPlayerEvent(t,A7[5],EVENT_PLAYER_END_CINEMATIC)
call TriggerAddAction(t,function ISH)
endfunction
function Test_3 takes nothing returns boolean
call TriggerSleepAction(2)
return false
endfunction
function Test_32 takes nothing returns nothing
call TriggerSleepAction(2)
endfunction
function Test_33 takes nothing returns boolean
call TriggerSleepAction(2)
return false
endfunction
function Test_34 takes nothing returns nothing
call TriggerSleepAction(2)
endfunction
function Test_35 takes nothing returns nothing
call TriggerSleepAction(2)
endfunction
function Test01 takes nothing returns nothing
call KillUnit(JH4)
call KillUnit(JK4)
call HM9()
call HM9()
call HM9()
call HM9()
call HM9()
call G_9()
endfunction
function testKill takes nothing returns nothing
call UnitDamageTarget(JA4,GetEnumUnit(),10000000,true,true,ATTACK_TYPE_HERO,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
endfunction
function test141 takes nothing returns boolean
return true
endfunction
function test142 takes nothing returns boolean
return true
endfunction
function aiDEBUG122 takes nothing returns nothing
endfunction
function ITH takes nothing returns nothing
endfunction
function Test takes nothing returns nothing
local unit j5=M7[GetPlayerId(Player(2))]
local unit m5=M7[GetPlayerId(Player(7))]
local boolean V57=false
local item V07=null
local integer i=0
local integer UP=0
local group g
local trigger t=null
local timer t2=null
set UP=S2I(SubString(GetEventPlayerChatString(),3,255))
if UP==0 then
call KillUnit(JL4)
call KillUnit(J54)
call HM9()
call HM9()
call HM9()
call HM9()
call HM9()
call G29()
elseif UP==1 then
call KillUnit(JL4)
call KillUnit(J64)
call KillUnit(J14)
call HM9()
call HM9()
call KillUnit(M7[7])
call KillUnit(M7[8])
call G29()
elseif UP==2 then
set i=1
loop
exitwhen i>11
if i==6 then
set i=7
endif
if M7[i]!=null then
call DisplayTextToPlayer(GetLocalPlayer(),0,0,"EHP Modifier "+I2S(i)+": "+R2S(hq[752+i])+"/"+R2S(hq[720+i])+" - d% = "+R2S(hq[704+i]))
endif
set i=i+1
endloop
elseif UP==3 then
call JCF(M7[7],M7[1])
elseif UP==4 then
call EnumItemsInRect(ED,Q24,function ITH)
elseif UP==5 then
set MX7=true
elseif UP==110 then
call LP7(M7[1],1093813555)
call SetUnitAbilityLevel(M7[1],1093813555,4)
call VO8()
elseif UP==111 then
set bj_lastLoadedUnit=UE7(GetHandleId(Player(1)),"MyBear")
if C57(M7[1],bj_lastLoadedUnit,2800,0.8,1400)!=null then
set EN7=ZX7(M7[1],1400)
call UnitResetCooldown(M7[1])
call SetUnitState(M7[1],UNIT_STATE_MANA,99999.)
call DestroyEffect(AddSpecialEffectLoc("UI\\Feedback\\GoldCredit\\GoldCredit.mdl",GN7))
call IssuePointOrderByIdLoc(M7[1],852662,GN7)
if EN7 then
elseif bj_enumDestructableRadius==0 then
else
endif
endif
elseif UP==120 then
set i=0
loop
exitwhen i>5
set EQ7=UnitItemInSlot(MV7,i)
set i=i+1
endloop
elseif UP==121 then
set i=1
loop
exitwhen i>5
call SetUnitState(M7[GetPlayerId(A7[i])],UNIT_STATE_LIFE,50)
set i=i+1
endloop
elseif UP==122 then
elseif UP==123 then
call SetItemPlayer(CreateItem(SU[EW],GetUnitX(M7[1]),GetUnitY(M7[1])),Player(2),false)
else
call GroupClear(H8)
call GroupEnumUnitsSelected(H8,Player(1),null)
set bj_lastLoadedUnit=FirstOfGroup(H8)
set bj_forLoopAIndex=GetPlayerId(GetOwningPlayer(bj_lastLoadedUnit))
call DisableTrigger(Q04[bj_forLoopAIndex])
call EnableTrigger(Q04[bj_forLoopAIndex])
endif
set j5=null
set m5=null
set V07=null
set g=null
endfunction
function IUH takes nothing returns nothing
set XE4=CreateRegion()
call RegionAddRect(XE4,OD)
set XF4=CreateRegion()
call RegionAddRect(XF4,PD)
set XG4=CreateRegion()
call RegionAddRect(XG4,WD)
call RegionAddRect(XG4,XD)
call RegionAddRect(XG4,YD)
set XH4=CreateRegion()
call RegionAddRect(XH4,ZD)
call RegionAddRect(XH4,AD)
call RegionAddRect(XH4,BD)
set IU4=CreateRegion()
call RegionAddRect(IU4,LD)
call RegionAddRect(IU4,KE)
call RegionAddRect(IU4,RE)
call RegionAddRect(IU4,SE)
call RegionAddRect(IU4,TE)
call RegionAddRect(IU4,WE)
call RegionAddRect(IU4,YE)
call RegionAddRect(IU4,ZE)
call RegionAddRect(IU4,EF)
call RegionAddRect(IU4,FF)
call RegionAddRect(IU4,GF)
call RegionAddRect(IU4,HF)
call RegionAddRect(IU4,JF)
call RegionAddRect(IU4,KF)
call RegionAddRect(IU4,MF)
call RegionAddRect(IU4,NF)
call RegionAddRect(IU4,OF)
call RegionAddRect(IU4,PF)
call RegionAddRect(IU4,QF)
call RegionAddRect(IU4,RF)
call RegionAddRect(IU4,SF)
call RegionAddRect(IU4,TF)
call RegionAddRect(IU4,UF)
call RegionAddRect(IU4,WF)
call RegionAddRect(IU4,XF)
call RegionAddRect(IU4,YF)
call RegionAddRect(IU4,ZF)
call RegionAddRect(IU4,BF)
call RegionAddRect(IU4,CF)
call RegionAddRect(IU4,LF)
call RegionAddRect(IU4,DG)
call RegionAddRect(IU4,EG)
call RegionAddRect(IU4,FG)
call RegionAddRect(IU4,GG)
call RegionAddRect(IU4,JG)
call RegionAddRect(IU4,MG)
call RegionAddRect(IU4,OG)
call RegionAddRect(IU4,PG)
call RegionAddRect(IU4,QG)
call RegionAddRect(IU4,RG)
call RegionAddRect(IU4,SG)
call RegionAddRect(IU4,TG)
call RegionAddRect(IU4,UG)
call RegionAddRect(IU4,VG)
call RegionAddRect(IU4,WG)
call RegionAddRect(IU4,XG)
call RegionAddRect(IU4,ZG)
call RegionAddRect(IU4,AG)
call RegionAddRect(IU4,BG)
call RegionAddRect(IU4,CG)
call RegionAddRect(IU4,LG)
call RegionAddRect(IU4,DH)
call RegionAddRect(IU4,EH)
call RegionAddRect(IU4,HH)
call RegionAddRect(IU4,OH)
call RegionAddRect(IU4,PH)
call RegionAddRect(IU4,QH)
call RegionAddRect(IU4,RH)
call RegionAddRect(IU4,TH)
call RegionAddRect(IU4,UH)
call RegionAddRect(IU4,WH)
call RegionAddRect(IU4,XH)
call RegionAddRect(IU4,YH)
call RegionAddRect(IU4,ZH)
call RegionAddRect(IU4,AH)
call RegionAddRect(IU4,CH)
call RegionAddRect(IU4,DI)
call RegionAddRect(IU4,EI)
call RegionAddRect(IU4,GI)
call RegionAddRect(IU4,HI)
call RegionAddRect(IU4,II)
call RegionAddRect(IU4,JI)
call RegionAddRect(IU4,NI)
call RegionAddRect(IU4,PI)
call RegionAddRect(IU4,SI)
call RegionAddRect(IU4,TI)
call RegionAddRect(IU4,UI)
call RegionAddRect(IU4,WI)
call RegionAddRect(IU4,XI)
call RegionAddRect(IU4,YI)
call RegionAddRect(IU4,BI)
call RegionAddRect(IU4,CI)
call RegionAddRect(IU4,LI)
call RegionAddRect(IU4,TJ)
call RegionAddRect(IU4,MK)
call RegionAddRect(IU4,UK)
call RegionAddRect(IU4,YK)
call RegionAddRect(IU4,SM)
call RegionAddRect(IU4,TM)
call RegionAddRect(IU4,UM)
call RegionAddRect(IU4,WM)
call RegionAddRect(IU4,YM)
call RegionAddRect(IU4,ZM)
call RegionAddRect(IU4,JN)
call RegionAddRect(IU4,MN)
endfunction
function IVH takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SELL)
call TriggerAddCondition(t,Condition(function EZG))
set t=null
endfunction
function IWH takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerAddCondition(t,Condition(function EAG))
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
set XN4=t
set t=null
endfunction
function IXH takes nothing returns nothing
local trigger t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(t,Condition(function I7G))
set t=null
endfunction
function IYH takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterTimerEvent(t,14.,false)
call TriggerAddCondition(t,Condition(function YG9))
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,15.,false)
call TriggerAddCondition(t,Condition(function YE9))
set t=null
endfunction
function IZH takes nothing returns nothing
set XI4=CreateTrigger()
call TriggerRegisterTimerEventSingle(XI4,65.00)
call TriggerAddAction(XI4,function YH9)
endfunction
function IAH takes nothing returns nothing
set XJ4=CreateTrigger()
call TriggerRegisterTimerEventSingle(XJ4,90.00)
call TriggerAddAction(XJ4,function YI9)
endfunction
function IBH takes nothing returns nothing
set H54=CreateTrigger()
call TriggerRegisterTimerEventSingle(H54,120.00)
call TriggerAddAction(H54,function YJ9)
endfunction
function ICH takes nothing returns nothing
local location J89
set J89=GetRectCenter(ND)
set V4=CreateUnitAtLoc(Player(12),1848651852,J89,bj_UNIT_FACING)
call SetUnitAcquireRange(V4,150)
call RemoveLocation(J89)
call UnitAddItem(V4,CreateItem(ZU[X0],0,0))
call UnitAddAbility(V4,1093743666)
set J89=GetRectCenter(Br)
call RemoveUnit(CreateUnitAtLoc(B7,1966092337,J89,0))
call RemoveLocation(J89)
set J89=GetRectCenter(cr)
call RemoveUnit(CreateUnitAtLoc(B7,1966092337,J89,0))
call RemoveLocation(J89)
set J89=GetRectCenter(Cr)
call RemoveUnit(CreateUnitAtLoc(B7,1966092337,J89,0))
call RemoveLocation(J89)
set J89=GetRectCenter(fr)
call RemoveUnit(CreateUnitAtLoc(B7,1966092337,J89,0))
call RemoveLocation(J89)
set J89=GetRectCenter(Fr)
call RemoveUnit(CreateUnitAtLoc(B7,1966092337,J89,0))
call RemoveLocation(J89)
set J89=GetRectCenter(Hr)
call RemoveUnit(CreateUnitAtLoc(B7,1966092337,J89,0))
call RemoveLocation(J89)
set J89=GetRectCenter(jr)
call RemoveUnit(CreateUnitAtLoc(B7,1966092337,J89,0))
call RemoveLocation(J89)
set J89=GetRectCenter(Jr)
call RemoveUnit(CreateUnitAtLoc(B7,1966092337,J89,0))
call RemoveLocation(J89)
set J89=GetRectCenter(lr)
call RemoveUnit(CreateUnitAtLoc(B7,1966092337,J89,0))
call RemoveLocation(J89)
set J89=GetRectCenter(mr)
call RemoveUnit(CreateUnitAtLoc(B7,1966092337,J89,0))
call RemoveLocation(J89)
set J89=GetRectCenter(Ni)
call RemoveUnit(CreateUnitAtLoc(B7,1966092337,J89,0))
call RemoveLocation(J89)
set J89=GetRectCenter(Bi)
call RemoveUnit(CreateUnitAtLoc(B7,1966092337,J89,0))
call RemoveLocation(J89)
set J89=null
endfunction
function aiAutoInitDEDG takes nothing returns nothing
if not LT then
call V79()
endif
if not WT then
call V89()
endif
endfunction
function WZ9 takes nothing returns nothing
local integer O5=1
local integer I3H=0
local integer I6H=0
local boolean ILH=false
local boolean I1H=false
local trigger t=null
call DestroyTrigger(GetTriggeringTrigger())
set G47=GetObjectName(1496396339)
set G77=F57+GetObjectName(1496396340)
set G87=DA7+GetObjectName(1496396341)
set G97=DB7+GetObjectName(1496396342)
if LO4 then
return
endif
set O5=1
loop
exitwhen(O5>5 or(Z44!=null and Z74!=null))
if(GetPlayerSlotState(Z7[O5])==PLAYER_SLOT_STATE_PLAYING)and Z44==null then
set Z44=Z7[O5]
endif
if(GetPlayerSlotState(A7[O5])==PLAYER_SLOT_STATE_PLAYING)and Z74==null then
set Z74=A7[O5]
endif
set O5=O5+1
endloop
set O5=1
loop
exitwhen O5>5
if Z27(Z7[O5])then
if(I3H<3)then
set eY[64+GetPlayerId(Z7[O5])]=I3H
elseif(I3H==3)then
set eY[64+GetPlayerId(Z7[O5])]=0
else
set eY[64+GetPlayerId(Z7[O5])]=GetRandomInt(1,2)
endif
call ForceAddPlayer(QX4,Z7[O5])
set QY4[GetPlayerId(Z7[O5])]=true
set I3H=I3H+1
set ILH=true
endif
if Z27(A7[O5])then
if(I6H<3)then
if I6H==1 then
set eY[64+GetPlayerId(A7[O5])]=2
elseif I6H==2 then
set eY[64+GetPlayerId(A7[O5])]=1
else
set eY[64+GetPlayerId(A7[O5])]=I6H
endif
elseif(I6H==3)then
set eY[64+GetPlayerId(A7[O5])]=0
else
set eY[64+GetPlayerId(A7[O5])]=GetRandomInt(1,2)
endif
call ForceAddPlayer(QX4,A7[O5])
set QY4[GetPlayerId(A7[O5])]=true
set I6H=I6H+1
set I1H=true
endif
set O5=O5+1
endloop
set O5=1
loop
exitwhen O5>5
if(Z27(Z7[O5]))then
call XIF(Z7[O5],I3H)
endif
if(Z27(A7[O5]))then
call XIF(A7[O5],I6H)
endif
set O5=O5+1
endloop
if((ILH)or(I1H))then
set O5=1
loop
exitwhen O5>5
if Z27(Z7[O5])then
call XHF(Z7[O5])
endif
if Z27(A7[O5])then
call XHF(A7[O5])
endif
set O5=O5+1
endloop
set O5=1
loop
exitwhen O5>5
if(Z57(Z7[O5]))then
set QT4=Z7[O5]
if(ILH)then
call DisplayTimedTextToForce(X7,10.,Q[GetPlayerId(QT4)]+GetPlayerName(QT4)+GetObjectName(1496331828)+Q[0]+GetPlayerName(Z7[0])+"|r")
call DisplayTimedTextToPlayer(QT4,0,0,10.,GetObjectName(1496331833))
call RS9(QT4)
else
set FM7=false
endif
exitwhen true
endif
set O5=O5+1
endloop
set O5=1
loop
exitwhen O5>5
if(Z57(A7[O5]))then
set QU4=A7[O5]
if(I1H)then
call DisplayTimedTextToForce(Y7,10.,Q[GetPlayerId(QU4)]+GetPlayerName(QU4)+GetObjectName(1496331828)+Q[6]+GetPlayerName(A7[0])+"|r")
call DisplayTimedTextToPlayer(QU4,0,0,10.,GetObjectName(1496331833))
call RS9(QU4)
else
set FN7=false
endif
exitwhen true
endif
set O5=O5+1
endloop
if(ILH and QT4==null and QU4!=null)then
call DisplayTimedTextToPlayer(QU4,0,0,10.,GetObjectName(1496331832))
endif
if(I1H and QT4!=null and QU4==null)then
call DisplayTimedTextToPlayer(QT4,0,0,10.,GetObjectName(1496331832))
endif
set DV7=CreateTrigger()
call XJF(DV7,true,ILH,I1H)
call TriggerAddAction(DV7,function WIF)
set DW7=CreateTrigger()
call XJF(DW7,false,I1H,ILH)
call TriggerAddAction(DW7,function WIF)
call TriggerAddAction(QA4,function DDF)
if((not D4)and(not RZ4)and(not A8)and(not P74)and(not P84)and(not H34)and(not O9)and(not O04)and(not W8)and(not SN4))then
set t=CreateTrigger()
if(QT4!=null)then
call TriggerRegisterPlayerChatEvent(t,QT4,"-airepick",false)
call DisplayTimedTextToPlayer(QT4,0,0,10.,GetObjectName(1496396343)+F57+"-airepick|r")
endif
if(QU4!=null)then
call TriggerRegisterPlayerChatEvent(t,QU4,"-airepick",false)
call DisplayTimedTextToPlayer(QU4,0,0,10.,GetObjectName(1496396343)+F57+"-airepick|r")
endif
call TriggerAddAction(t,function D9F)
endif
if(QT4!=null)then
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,QT4,"-aigrant",false)
call TriggerAddAction(t,function XPF)
endif
if(QU4!=null)then
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,QU4,"-aigrant",false)
call TriggerAddAction(t,function XPF)
endif
set t=CreateTrigger()
call TriggerAddAction(t,function D9F)
call DisplayTimedTextToPlayer(QT4,0,0,10.," ")
call DisplayTimedTextToPlayer(QU4,0,0,10.," ")
if(TL4)then
set T14[1]=ZU[F5]
set T14[2]=ZU[G5]
set T14[3]=ZU[J5]
set T14[4]=ZU[M5]
set T14[5]=ZU[N5]
set T04[1]=180.
set T04[2]=160.
set T04[3]=140.
set T04[4]=120.
set T04[5]=100.
endif
call I4F()
set Q64=CreateTrigger()
call TriggerRegisterUnitInRange(Q64,JA4,6000.,null)
call TriggerRegisterUnitInRange(Q64,J34,1500.,null)
call TriggerAddCondition(Q64,Condition(function I1F))
call DisableTrigger(Q64)
set Q14=CreateTrigger()
call TriggerRegisterTimerEvent(Q14,5.,true)
call TriggerAddCondition(Q14,Condition(function I0F))
call DisableTrigger(Q14)
set Q34=CreateTrigger()
call TriggerRegisterUnitInRange(Q34,IZ4,6000.,null)
call TriggerRegisterUnitInRange(Q34,JF4,1500.,null)
call TriggerAddCondition(Q34,Condition(function I5F))
call DisableTrigger(Q34)
set QL4=CreateTrigger()
call TriggerRegisterTimerEvent(QL4,5.,true)
call TriggerAddCondition(QL4,Condition(function I2F))
call DisableTrigger(QL4)
set E67[0]=GetUnitX(IZ4)
set E67[1]=GetUnitY(IZ4)
set E67[2]=(GetUnitX(JF4)+GetUnitX(JQ4)+GetUnitX(JR4))/3
set E67[3]=(GetUnitY(JF4)+GetUnitY(JQ4)+GetUnitY(JR4))/3
set E67[4]=(GetUnitX(JG4)+GetUnitX(JS4)+GetUnitX(JV4))/3
set E67[5]=(GetUnitY(JG4)+GetUnitY(JS4)+GetUnitY(JV4))/3
set E67[6]=(GetUnitX(JH4)+GetUnitX(JT4)+GetUnitX(JW4))/3
set E67[7]=(GetUnitY(JH4)+GetUnitY(JT4)+GetUnitY(JW4))/3
set E67[8]=(GetUnitX(JI4)+GetUnitX(JU4)+GetUnitX(JX4))/3
set E67[9]=(GetUnitY(JI4)+GetUnitY(JU4)+GetUnitY(JX4))/3
set E67[24]=GetUnitX(JA4)
set E67[25]=GetUnitY(JA4)
set E67[26]=(GetUnitX(J34)+GetUnitX(K84)+GetUnitX(K94))/3
set E67[27]=(GetUnitY(J34)+GetUnitY(K84)+GetUnitY(K94))/3
set E67[28]=(GetUnitX(J64)+GetUnitX(KD4)+GetUnitX(KG4))/3
set E67[29]=(GetUnitY(J64)+GetUnitY(KD4)+GetUnitY(KG4))/3
set E67[30]=(GetUnitX(JL4)+GetUnitX(KE4)+GetUnitX(KH4))/3
set E67[31]=(GetUnitY(JL4)+GetUnitY(KE4)+GetUnitY(KH4))/3
set E67[32]=(GetUnitX(J14)+GetUnitX(KF4)+GetUnitX(KI4))/3
set E67[33]=(GetUnitY(J14)+GetUnitY(KF4)+GetUnitY(KI4))/3
set O5=0
loop
exitwhen O5>23
set E37[O5]=null
set E37[24+O5]=null
set O5=O5+1
endloop
set t=CreateTrigger()
call TriggerRegisterUnitInRange(t,JA4,1200.,Q24)
call TriggerAddCondition(t,Condition(function MIF))
call TriggerAddAction(t,function MMF)
set t=CreateTrigger()
call TriggerRegisterUnitInRange(t,IZ4,1200.,Q24)
call TriggerAddCondition(t,Condition(function MJF))
call TriggerAddAction(t,function MMF)
set t=CreateTrigger()
call TriggerRegisterEnterRectSimple(t,bj_mapInitialPlayableArea)
call TriggerAddCondition(t,Condition(function TNF))
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,45.,false)
call TriggerAddAction(t,function XOF)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,20.,false)
call TriggerAddCondition(t,Condition(function TA9))
set O5=1
loop
if(IsPlayerInForce(Player(O5),QX4))then
set NJ7[NK7+O5]=Location(0,0)
set NJ7[NM7+O5]=Location(0,0)
set Q04[O5]=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(Q04[O5],Player(O5),EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER,Q24)
call TriggerRegisterPlayerUnitEvent(Q04[O5],Player(O5),EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER,Q24)
call TriggerAddCondition(Q04[O5],Condition(function SPF))
call TriggerAddAction(Q04[O5],function SQF)
set Q04[16+O5]=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(Q04[16+O5],Player(O5),EVENT_PLAYER_UNIT_ISSUED_ORDER,Q24)
call TriggerAddCondition(Q04[16+O5],Condition(function SPF))
call TriggerAddAction(Q04[16+O5],function SVF)
set Q04[96+O5]=CreateTrigger()
call DisableTrigger(Q04[96+O5])
call TriggerRegisterTimerEvent(Q04[96+O5],0.2,true)
call TriggerAddCondition(Q04[96+O5],Condition(function VC7))
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ATTACKED,Q24)
call TriggerAddCondition(t,Condition(function MFF))
call TriggerAddAction(t,function MGF)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ATTACKED,Q24)
call TriggerAddCondition(t,Condition(function MNF))
call TriggerAddAction(t,function MOF)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER,Q24)
call TriggerAddCondition(t,Condition(function JXF))
call TriggerAddAction(t,function JYF)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_USE_ITEM,Q24)
call TriggerAddCondition(t,Condition(function Y07))
call TriggerAddAction(t,function SWF)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ATTACKED,Q24)
call TriggerAddCondition(t,Condition(function TEF))
call TriggerAddAction(t,function TFF)
endif
if(GetPlayerSlotState(Player(O5))==PLAYER_SLOT_STATE_PLAYING)then
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER,Q24)
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER,Q24)
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ISSUED_ORDER,Q24)
call TriggerAddCondition(t,Condition(function SOF))
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_DEATH,Q24)
call TriggerAddCondition(t,Condition(function MEF))
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ATTACKED,Q24)
call TriggerAddCondition(t,Condition(function MQF))
call TriggerAddAction(t,function MXF)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_SPELL_EFFECT,Q24)
call TriggerAddCondition(t,Condition(function MYF))
call TriggerAddAction(t,function MZF)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_SPELL_EFFECT,Q24)
call TriggerAddCondition(t,Condition(function Y57))
call TriggerAddAction(t,function SBF)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_SPELL_FINISH,Q24)
call TriggerAddCondition(t,Condition(function Y57))
call TriggerAddAction(t,function S6F)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_SPELL_EFFECT,Q24)
call TriggerAddCondition(t,Condition(function Y57))
call TriggerAddAction(t,function S1F)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_SPELL_EFFECT,Q24)
call TriggerAddCondition(t,Condition(function TDF))
call TriggerAddAction(t,function TFF)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_SPELL_CAST,Q24)
call TriggerAddCondition(t,Condition(function UFF))
call TriggerAddAction(t,function VQF)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_SPELL_ENDCAST,Q24)
call TriggerAddAction(t,function VSF)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER,Q24)
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER,Q24)
call TriggerAddCondition(t,Condition(function STF))
call TriggerAddAction(t,function SUF)
if GetPlayerController(Player(O5))==MAP_CONTROL_USER and(not SN4)then
call WR9(Player(O5),true)
call WS9(Player(O5),true)
endif
endif
set O5=O5+1
exitwhen O5>11
endloop
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Z7[0],EVENT_PLAYER_UNIT_ATTACKED,Q24)
call TriggerRegisterPlayerUnitEvent(t,A7[0],EVENT_PLAYER_UNIT_ATTACKED,Q24)
call TriggerAddCondition(t,Condition(function MCF))
call TriggerAddAction(t,function M1F)
call NVF()
call NAF()
set t=CreateTrigger()
call B6(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEvent(t,Z7[0],EVENT_PLAYER_UNIT_ATTACKED,Q24)
call TriggerAddCondition(t,Condition(function S0F))
call TriggerAddAction(t,function T8F)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Z7[0],EVENT_PLAYER_UNIT_DEATH,Q24)
call TriggerRegisterPlayerUnitEvent(t,A7[0],EVENT_PLAYER_UNIT_DEATH,Q24)
call TriggerAddCondition(t,Condition(function M0F))
set t=CreateTrigger()
call c6(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEvent(t,A7[0],EVENT_PLAYER_UNIT_ATTACKED,Q24)
call TriggerRegisterPlayerUnitEvent(t,Player(12),EVENT_PLAYER_UNIT_ATTACKED,Q24)
call TriggerAddCondition(t,Condition(function S0F))
call TriggerAddAction(t,function T8F)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,200.,false)
call TriggerAddAction(t,function XGF)
set GW7=CreateTrigger()
call TriggerRegisterTimerEvent(GW7,9.,true)
call TriggerAddAction(GW7,function WNF)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,B7,EVENT_PLAYER_UNIT_DEATH,Condition(function ZY7))
call TriggerAddAction(t,function O8F)
call OG7()
set PZ4=true
set PA4=true
if(((TK7(true)==1)and(TK7(false)>2))or((TK7(true)==2)and(TK7(false)==5)))then
set PC4=10
else
set PC4=GetRandomInt(11,15)
endif
if(((TK7(false)==1)and(TK7(true)>2))or((TK7(false)==2)and(TK7(true)==5)))then
set PB4=10
else
set PB4=GetRandomInt(11,15)
endif
if(R4)then
call BL7(bj_FORCE_ALL_PLAYERS,30.,"
The AI has a system that enables them to simulate Item Drop Mode
They keep a duplicate of dropped items in exchange for their gold")
endif
else
call DestroyTrigger(HK)
call DestroyTrigger(QZ4)
call DestroyTrigger(HN)
call DestroyTrigger(Ho)
call DestroyTrigger(QA4)
set QA4=null
call DestroyTrigger(Hn)
call DestroyTrigger(QB4)
call ForceClear(QX4)
endif
if(not C4)then
call DestroyTrigger(OS)
endif
if(not AT)then
call DestroyTrigger(QC4)
endif
call DH8(1093678665)
call DH8(1093677645)
call DH8(1093750089)
if HB4!=0 then
set EG7=5/I2R(HB4)
endif
if HC4!=0 then
set EH7=5/I2R(HC4)
endif
call ExecuteFunc("QS7")
set t=null
endfunction
function main takes nothing returns nothing
local weathereffect we
local integer i
local player p
local unit u
local integer unitID
local trigger t
local real life
local integer D_8
local integer I0H
local version I5H
local integer L1F
local real I2H
local real I_H
local real J4H
local real J7H
local real J8H
local real J9H
local real JDH
local real JEH
local real JFH
local real JGH
local real JHH
local real JIH
local real JJH
local real JKH
local real JMH
local real JNH
local real JOH
local real JPH
local real JQH
local real JRH
local integer IC8
local player j8
local real JSH
local real JTH
local real JUH
local real JVH
local real JWH
local real JXH
local real JYH
local real JZH
local real JAH
local real JBH
local real JCH
local real J3H
local real J6H
local real JLH
local real J1H
local real J0H
local real J5H
local real J2H
local real J_H
local real K4H
local real K7H
local real K8H
local real K9H
local real KDH
local location J89
local region S3D
local integer UL7
local integer x
local integer y
call IRH()
set NN7[0]=CreateTrigger()
set NO7=GetHandleId(NN7[0])
set i=1
loop
exitwhen i>9
set NN7[i]=CreateTrigger()
set i=i+1
endloop
set i=0
call SetCameraBounds(-7552.0+GetCameraMargin(CAMERA_MARGIN_LEFT),-7936.0+GetCameraMargin(CAMERA_MARGIN_BOTTOM),7552.0-GetCameraMargin(CAMERA_MARGIN_RIGHT),7424.0-GetCameraMargin(CAMERA_MARGIN_TOP),-7552.0+GetCameraMargin(CAMERA_MARGIN_LEFT),7424.0-GetCameraMargin(CAMERA_MARGIN_TOP),7552.0-GetCameraMargin(CAMERA_MARGIN_RIGHT),-7936.0+GetCameraMargin(CAMERA_MARGIN_BOTTOM))
call SetDayNightModels("Environment\\DNC\\DNCFelwood\\DNCFelwoodTerrain\\DNCFelwoodTerrain.mdl","Environment\\DNC\\DNCFelwood\\DNCFelwoodUnit\\DNCFelwoodUnit.mdl")
call SetWaterBaseColor(0,0,255,255)
call NewSoundEnvironment("Default")
call SetAmbientDaySound("FelwoodDay")
call SetAmbientNightSound("FelwoodNight")
call SetMapMusic("Music",true,0)
set yE=CreateSound("Abilities\\Spells\\Human\\Avatar\\Avatar.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(yE,"Avatar")
call SetSoundDuration(yE,3199)
set zE=CreateSound("Abilities\\Spells\\NightElf\\Blink\\BlinkArrival1.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(zE,"BlinkTarget")
call SetSoundDuration(zE,1466)
call SetSoundPitch(zE,1.6)
set vX=CreateSound("Abilities\\Spells\\Human\\Blizzard\\BlizzardLoop1.wav",true,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(vX,"BlizzardLoop")
call SetSoundDuration(vX,4000)
set WN=CreateSound("Buildings\\Undead\\TempleOfTheDamned\\TempleOfTheDamnedWhat.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(WN,"TempleOfTheDamnedWhat")
call SetSoundDuration(WN,3518)
call SetSoundDistanceCutoff(WN,2000.0)
set YN=CreateSound("Abilities\\Spells\\Human\\Flare\\FlareTarget2.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(YN,"Flare2")
call SetSoundDuration(YN,1344)
call SetSoundDistanceCutoff(YN,2000.0)
set ZN=CreateSound("Sounds\\Dominating.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(ZN,1802)
call SetSoundChannel(ZN,0)
call SetSoundVolume(ZN,127)
call SetSoundPitch(ZN,1.0)
set nX=CreateSound("Sounds\\Double_Kill.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(nX,2012)
call SetSoundChannel(nX,0)
call SetSoundVolume(nX,127)
call SetSoundPitch(nX,1.0)
set EX=CreateSound("Sounds\\firstblood.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(EX,1567)
call SetSoundChannel(EX,0)
call SetSoundVolume(EX,127)
call SetSoundPitch(EX,1.0)
set OX=CreateSound("Units\\Creeps\\GoblinSapper\\GoblinSapperPissed1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(OX,"GoblinSapperPissed")
call SetSoundDuration(OX,1515)
call SetSoundChannel(OX,0)
set AN=CreateSound("Units\\Creeps\\GoblinSapper\\GoblinSapperYesAttack1.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(AN,"GoblinSapperYesAttack")
call SetSoundDuration(AN,813)
call SetSoundChannel(AN,0)
set BN=CreateSound("Sounds\\GodLike.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(BN,1828)
call SetSoundChannel(BN,0)
call SetSoundVolume(BN,127)
call SetSoundPitch(BN,1.0)
set bX=CreateSound("Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed1.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(bX,"HEROGoblinALCHEMISTPissed")
call SetSoundDuration(bX,1948)
set BX=CreateSound("Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed2.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(BX,"HEROGoblinALCHEMISTPissed")
call SetSoundDuration(BX,1733)
set cX=CreateSound("Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed3.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(cX,"HEROGoblinALCHEMISTPissed")
call SetSoundDuration(cX,3570)
set CX=CreateSound("Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed4.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(CX,"HEROGoblinALCHEMISTPissed")
call SetSoundDuration(CX,3576)
set fX=CreateSound("Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed5.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(fX,"HEROGoblinALCHEMISTPissed")
call SetSoundDuration(fX,3558)
set kX=CreateSound("Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed6.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(kX,"HEROGoblinALCHEMISTPissed")
call SetSoundDuration(kX,10867)
set LX=CreateSound("Units\\Orc\\HeroBladeMaster\\HeroBladeMasterPissed1.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(LX,"HeroBladeMasterPissed")
call SetSoundDuration(LX,2235)
set mX=CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed1.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(mX,"HeroDreadLordPissed")
call SetSoundDuration(mX,2921)
set MX=CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed2.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(MX,"HeroDreadLordPissed")
call SetSoundDuration(MX,7125)
set PX=CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed3.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(PX,"HeroDreadLordPissed")
call SetSoundDuration(PX,3998)
set qX=CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed4.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(qX,"HeroDreadLordPissed")
call SetSoundDuration(qX,1727)
set QX=CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed5.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(QX,"HeroDreadLordPissed")
call SetSoundDuration(QX,8893)
set tX=CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed6.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(tX,"HeroDreadLordPissed")
call SetSoundDuration(tX,6066)
set TX=CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed7.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(TX,"HeroDreadLordPissed")
call SetSoundDuration(TX,1277)
set CN=CreateSound("Sounds\\HolyShit.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(CN,2325)
call SetSoundChannel(CN,0)
call SetSoundVolume(CN,127)
call SetSoundPitch(CN,1.0)
set UX=CreateSound("Buildings\\NightElf\\MoonWell\\MoonWellWhat1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(UX,"MoonWellWhat")
call SetSoundDuration(UX,2972)
call SetSoundDistances(UX,600.0,10000.0)
call SetSoundDistanceCutoff(UX,2000.0)
set JO=CreateSound("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaos.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(JO,"MarkOfChaos")
call SetSoundDuration(JO,4000)
set TO=CreateSound("Sounds\\Killing_Spree.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(TO,2377)
call SetSoundChannel(TO,0)
call SetSoundVolume(TO,127)
call SetSoundPitch(TO,1.0)
set oO=CreateSound("Sound\\Buildings\\Death\\NightElfBuildingDeathSmall1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(oO,"DeathNightElfBuildingCancel")
call SetSoundDuration(oO,3675)
set VO=CreateSound("Sounds\\MegaKill.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(VO,2612)
call SetSoundChannel(VO,0)
call SetSoundVolume(VO,127)
call SetSoundPitch(VO,1.0)
set aO=CreateSound("Abilities\\Spells\\NightElf\\ShadowMeld\\ShadowMeld1.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(aO,"ShadowMeld")
call SetSoundDuration(aO,941)
set YO=CreateSound("Sounds\\MonsterKill.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(YO,3344)
call SetSoundChannel(YO,0)
call SetSoundVolume(YO,127)
call SetSoundPitch(YO,1.0)
set EO=CreateSound("Units\\Creeps\\Ogre\\OgrePissed1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(EO,"OgrePissed")
call SetSoundDuration(EO,3309)
set XO=CreateSound("Sounds\\Ownage.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(XO,2586)
call SetSoundChannel(XO,0)
call SetSoundVolume(XO,127)
call SetSoundPitch(XO,1.0)
set OO=CreateSound("Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed1.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(OO,"PandarenBrewmasterPissed")
call SetSoundDuration(OO,2316)
set AO=CreateSound("Abilities\\Spells\\Human\\Polymorph\\PolymorphDone.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(AO,"PolymorphDone")
call SetSoundDuration(AO,1498)
set NO=CreateSound("Buildings\\Naga\\TempleofTides\\TempleOfTidesWhat1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(NO,"TempleOfTidesWhat")
call SetSoundDuration(NO,3483)
call SetSoundDistanceCutoff(NO,2000.0)
set bO=CreateSound("Buildings\\Undead\\TombOfRelics\\TombOfRelicsWhat1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(bO,"TombOfRelicsWhat")
call SetSoundDuration(bO,3065)
call SetSoundDistanceCutoff(bO,2000.0)
set BO=CreateSound("Abilities\\Spells\\Orc\\Disenchant\\Disenchant.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(BO,"Disenchant")
call SetSoundDuration(BO,2043)
set cO=CreateSound("Sound\\Interface\\Rescue.wav",false,false,false,10,10,"")
call SetSoundParamsFromLabel(cO,"Rescue")
call SetSoundDuration(cO,3796)
set CO=CreateSound("Units\\Human\\Rifleman\\RiflemanPissed1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(CO,"RiflemanPissed")
call SetSoundDuration(CO,3158)
set fO=CreateSound("Units\\Human\\Rifleman\\RiflemanPissed2.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(fO,"RiflemanPissed")
call SetSoundDuration(fO,1306)
set FO=CreateSound("Units\\Human\\Rifleman\\RiflemanPissed3.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(FO,"RiflemanPissed")
call SetSoundDuration(FO,2624)
set gO=CreateSound("Units\\Human\\Rifleman\\RiflemanPissed4.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(gO,"RiflemanPissed")
call SetSoundDuration(gO,3785)
set hO=CreateSound("Units\\Human\\Rifleman\\RiflemanPissed5.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(hO,"RiflemanPissed")
call SetSoundDuration(hO,4168)
set HO=CreateSound("Units\\Human\\Rifleman\\RiflemanPissed6.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(HO,"RiflemanPissed")
call SetSoundDuration(HO,2810)
set kO=CreateSound("Units\\Human\\Rifleman\\RiflemanPissed7.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(kO,"RiflemanPissed")
call SetSoundDuration(kO,4609)
set lO=CreateSound("Units\\Human\\Rifleman\\RiflemanPissed8.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(lO,"RiflemanPissed")
call SetSoundDuration(lO,5480)
set mO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed1.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(mO,"HeroShadowHunterPissed")
call SetSoundDuration(mO,2293)
set pO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed2.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(pO,"HeroShadowHunterPissed")
call SetSoundDuration(pO,1789)
set qO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed3.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(qO,"HeroShadowHunterPissed")
call SetSoundDuration(qO,2301)
set QO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed4.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(QO,"HeroShadowHunterPissed")
call SetSoundDuration(QO,2752)
set tO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed5.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(tO,"HeroShadowHunterPissed")
call SetSoundDuration(tO,3129)
set UO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed6.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(UO,"HeroShadowHunterPissed")
call SetSoundDuration(UO,1666)
set wO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed7.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(wO,"HeroShadowHunterPissed")
call SetSoundDuration(wO,1187)
set WO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed8.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(WO,"HeroShadowHunterPissed")
call SetSoundDuration(WO,2148)
set zO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed9.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(zO,"HeroShadowHunterPissed")
call SetSoundDuration(zO,2026)
set vR=CreateSound("Abilities\\Spells\\Undead\\Sleep\\SleepBirth1.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(vR,"Sleep")
call SetSoundDuration(vR,3203)
set eR=CreateSound("Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(eR,"SpellBreakerPissed")
call SetSoundDuration(eR,3901)
set oR=CreateSound("Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed2.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(oR,"SpellBreakerPissed")
call SetSoundDuration(oR,3367)
set rR=CreateSound("Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed3.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(rR,"SpellBreakerPissed")
call SetSoundDuration(rR,3651)
set aR=CreateSound("Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed4.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(aR,"SpellBreakerPissed")
call SetSoundDuration(aR,2490)
set RR=CreateSound("Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed5.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(RR,"SpellBreakerPissed")
call SetSoundDuration(RR,14402)
set bR=CreateSound("Abilities\\Spells\\Undead\\DevourMagic\\DevourMagic.wav",false,true,true,10,10,"MissilesEAX")
call SetSoundParamsFromLabel(bR,"DevourMagicLaunch")
call SetSoundDuration(bR,1225)
set BR=CreateSound("Abilities\\Spells\\Other\\BlackArrow\\TheBlackArrow.wav",false,true,true,10,10,"MissilesEAX")
call SetSoundParamsFromLabel(BR,"BlackArrowHit")
call SetSoundDuration(BR,1776)
call SetSoundVolume(BR,50)
set ZO=CreateSound("Sound\\Ambient\\DoodadEffects\\TheHornOfCenarius.wav",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(ZO,"HornOfCenariusSound")
call SetSoundDuration(ZO,12121)
call SetSoundVolume(ZO,115)
set CR=CreateSound("Sounds\\triple_kill.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(CR,1907)
call SetSoundChannel(CR,0)
call SetSoundVolume(CR,127)
call SetSoundPitch(CR,1.0)
set LO=CreateSound("Sounds\\Unstoppable.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(LO,2038)
call SetSoundChannel(LO,0)
call SetSoundVolume(LO,127)
call SetSoundPitch(LO,1.0)
set DP=CreateSound("Abilities\\Spells\\Human\\DivineShield\\PaladinDivineShieldDeath1.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(DP,"DivineShieldDeath")
call SetSoundDuration(DP,1043)
call SetSoundDistanceCutoff(DP,1500.0)
set hR=CreateSound("Abilities\\Spells\\Items\\AIso\\SoulGem.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(hR,"SoulGem")
call SetSoundDuration(hR,4474)
set EP=CreateSound("Sounds\\WhickedSick.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(EP,2612)
call SetSoundChannel(EP,0)
call SetSoundVolume(EP,127)
call SetSoundPitch(EP,1.0)
set JR=CreateSound("Units\\Orc\\WitchDoctor\\WitchDoctorPissed1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(JR,"WitchDoctorPissed")
call SetSoundDuration(JR,1282)
set lR=CreateSound("Units\\Orc\\WitchDoctor\\WitchDoctorPissed2.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(lR,"WitchDoctorPissed")
call SetSoundDuration(lR,1248)
set LR=CreateSound("Units\\Orc\\WitchDoctor\\WitchDoctorPissed3.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(LR,"WitchDoctorPissed")
call SetSoundDuration(LR,1524)
set mR=CreateSound("Units\\Orc\\WitchDoctor\\WitchDoctorPissed4.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(mR,"WitchDoctorPissed")
call SetSoundDuration(mR,1200)
set pR=CreateSound("Units\\Orc\\WitchDoctor\\WitchDoctorPissed5.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(pR,"WitchDoctorPissed")
call SetSoundDuration(pR,2762)
set PR=CreateSound("Units\\Orc\\WitchDoctor\\WitchDoctorPissed6.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(PR,"WitchDoctorPissed")
call SetSoundDuration(PR,2849)
set qR=CreateSound("Units\\Creeps\\GoblinSapper\\GoblinSapperYesAttack4.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(qR,"GoblinSapperYesAttack")
call SetSoundDuration(qR,1091)
call SetSoundChannel(qR,0)
set QR=CreateSound("Abilities\\Spells\\NightElf\\shadowstrike\\ShadowStrikeBirth1.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(QR,"ShadowStrikeBirth")
call SetSoundDuration(QR,2194)
call SetSoundPitch(QR,1.2)
set sR=CreateSound("Abilities\\Spells\\NightElf\\CorrosiveBreath\\CorrosiveBreathMissileLaunch1.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(sR,"CorrosiveBreathMissileLaunch")
call SetSoundDuration(sR,1301)
call SetSoundPitch(sR,1.2)
set SR=CreateSound("Sound\\Interface\\Warning\\NightElf\\SentinelAllyHeroDies1.wav",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(SR,"AllyHeroDiesNightElf")
call SetSoundDuration(SR,1963)
call SetSoundVolume(SR,127)
set UR=CreateSound("Sound\\Interface\\Warning\\Undead\\NecromancerAllyHeroDies1.wav",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(UR,"AllyHeroDiesUndead")
call SetSoundDuration(UR,1933)
call SetSoundVolume(UR,127)
set WR=CreateSound("Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(WR,"ReviveHuman")
call SetSoundDuration(WR,3196)
call SetSoundChannel(WR,8)
set zR=CreateSound("Sound\\Interface\\SecretFound.wav",false,false,false,10,10,"")
call SetSoundParamsFromLabel(zR,"SecretFound")
call SetSoundDuration(zR,2525)
set GP=CreateSound("Sounds\\UltraKill.mp3",false,false,false,10,10,"")
call SetSoundDuration(GP,1958)
call SetSoundChannel(GP,0)
call SetSoundVolume(GP,127)
call SetSoundPitch(GP,1.0)
set IP=CreateSound("Sounds\\Rampage.mp3",false,false,false,10,10,"")
call SetSoundDuration(IP,1195)
call SetSoundChannel(IP,0)
call SetSoundVolume(IP,127)
call SetSoundPitch(IP,1.0)
set eI=CreateSound("Units\\Orc\\AncestralGuardian\\AncestralGuardianAttack1.wav",false,true,true,10,10,"CombatSoundsEAX")
call SetSoundParamsFromLabel(eI,"AncestralGuardianAttack1")
call SetSoundDuration(eI,1181)
set oI=CreateSound("Abilities\\Spells\\Human\\Feedback\\Feedback.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(oI,"Feedback")
call SetSoundDuration(oI,1222)
set JP=CreateSound("Units\\Undead\\Abomination\\AbominationPissed5.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(JP,"AbominationPissed")
call SetSoundDuration(JP,1735)
set KP=CreateSound("Sound\\Units\\Death\\ArtilleryCorpseExplodeDeath1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(KP,"ArtilleryExplodeDeath")
call SetSoundDuration(KP,1486)
set RI=CreateSound("Units\\Undead\\CryptFiend\\CryptFiendPissed2.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(RI,"CryptFiendPissed")
call SetSoundDuration(RI,3541)
set OP=CreateSound("Units\\Undead\\Banshee\\BansheeDeath.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(OP,"BansheeDeath")
call SetSoundDuration(OP,2380)
set V44=CreateSound("Abilities\\Spells\\Human\\FlameStrike\\FlameStrikeTargetWaveNonLoop1.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(V44,"FlameStrikeTarget")
call SetSoundDuration(V44,1927)
set V74=CreateSound("Abilities\\Spells\\Other\\Volcano\\VolcanoLoop.wav",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(V74,"VolcanoLoop")
call SetSoundDuration(V74,7616)
set V84=CreateSound("Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.wav",false,false,false,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(V84,"ThunderClap")
call SetSoundDuration(V84,3451)
set V94=CreateSound("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImage.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(V94,"MirrorImage")
call SetSoundDuration(V94,1756)
set VD4=CreateSound("Abilities\\Spells\\Human\\CloudOfFog\\CloudOfFogLoop1.wav",true,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(VD4,"CloudOfFogLoop")
call SetSoundDuration(VD4,2038)
call SetSoundPitch(VD4,0.9)
set VK4=CreateSound("Units\\Human\\Gyrocopter\\GyrocopterPissed1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(VK4,"GyrocopterPissed")
call SetSoundDuration(VK4,3913)
set VM4="Sound\\Music\\mp3Music\\Tension.mp3"
set VN4="Sound\\Music\\mp3Music\\ArthasTheme.mp3"
set VO4="Sound\\Music\\mp3Music\\NightElfDefeat.mp3"
set VP4="Sound\\Music\\mp3Music\\NightElfVictory.mp3"
set VQ4=CreateSound("Sound\\Interface\\SecretFound.wav",false,false,false,10,10,"")
call SetSoundParamsFromLabel(VQ4,"SecretFound")
call SetSoundDuration(VQ4,2525)
set VR4=CreateSound("Sound\\Interface\\Hint.wav",false,false,false,10,10,"")
call SetSoundParamsFromLabel(VR4,"Hint")
call SetSoundDuration(VR4,2006)
set XQ4=CreateSound("war3mapImported\\pl_impact_stun.mp3",false,true,true,10,10,"SpellsEAX")
call SetSoundDuration(XQ4,1340)
call SetSoundChannel(XQ4,11)
call SetSoundVolume(XQ4,127)
call SetSoundPitch(XQ4,1.0)
call SetSoundDistances(XQ4,600.0,10000.0)
call SetSoundDistanceCutoff(XQ4,2000.0)
call SetSoundConeAngles(XQ4,0.0,0.0,127)
call SetSoundConeOrientation(XQ4,0.0,0.0,0.0)
set XR4=CreateSound("Sound\\Buildings\\Fire\\OrcHumanLargeBuildingFire1.wav",true,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(XR4,"HumanFireLarge")
call SetSoundDuration(XR4,3471)
set XS4=CreateSound("Units\\Human\\Phoenix\\PhoenixEggWhat1.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(XS4,"PhoenixEggWhat")
call SetSoundDuration(XS4,1579)
call SetSoundChannel(XS4,0)
set A84=CreateSound("Abilities\\Spells\\NightElf\\BattleRoar\\BattleRoar.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(A84,"BattleRoar")
call SetSoundDuration(A84,1991)
set A94=CreateSound("Buildings\\Undead\\Ziggurat\\ZigguratUpgrade.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(A94,"ZigguratUpgradeWhat")
call SetSoundDuration(A94,4203)
call SetSoundDistances(A94,600.0,10000.0)
call SetSoundDistanceCutoff(A94,3000.0)
set AD4=CreateSound("Abilities\\Spells\\Human\\SpellSteal\\SpellStealMissile.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(AD4,"SpellStealMissileLaunch")
call SetSoundDuration(AD4,1541)
set AE4=CreateSound("Abilities\\Spells\\Human\\SpellSteal\\SpellStealTarget.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(AE4,"SpellStealTarget")
call SetSoundDuration(AE4,984)
set AF4=CreateSound("Abilities\\Spells\\Undead\\UndeadMine\\AcolyteMining.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(AF4,"AcolyteMining")
call SetSoundDuration(AF4,4233)
call SetSoundChannel(AF4,0)
set AG4=CreateSound("Abilities\\Weapons\\AvengerMissile\\DestroyerMissile.wav",false,true,true,10,10,"MissilesEAX")
call SetSoundParamsFromLabel(AG4,"DestroyerMissileLaunch")
call SetSoundDuration(AG4,817)
set AH4=CreateSound("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouch.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(AH4,"SpiritTouch")
call SetSoundDuration(AH4,2043)
call SetSoundChannel(AH4,11)
set AI4=CreateSound("Abilities\\Spells\\Human\\FlameStrike\\FlameStrikeTargetWaveNonLoop1.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(AI4,"FlameStrikeTarget")
call SetSoundDuration(AI4,1927)
set pH=Rect(6900,-7800,7600,-7000)
set go=Rect(6176.0,3136.0,6400.0,3392.0)
set jo=Rect(3616.0,3584.0,3872.0,3872.0)
set lo=Rect(2304.0,5280.0,2752.0,5728.0)
set L9=Rect(6176.0,5952.0,6624.0,6240.0)
set Qo=Rect(-4224.0,-6848.0,-3968.0,-6592.0)
set to=Rect(-6304.0,-4384.0,-6080.0,-4224.0)
set Uo=Rect(-4928.0,-5760.0,-4736.0,-5536.0)
set wo=Rect(6048.0,3424.0,6304.0,3776.0)
set zo=Rect(4128.0,3776.0,4352.0,4032.0)
set er=Rect(2752.0,5408.0,3040.0,5632.0)
set ED=Rect(-7040.0,-6912.0,-6688.0,-6656.0)
set ar=Rect(-3648.0,-6880.0,-3424.0,-6688.0)
set Er=Rect(-6336.0,-4224.0,-5984.0,-3904.0)
set Xr=Rect(-4896.0,-5504.0,-4608.0,-5184.0)
set FD=Rect(2912.0,-2944.0,3104.0,-2720.0)
set GD=Rect(5696.0,5504.0,7296.0,7392.0)
set HD=Rect(-7680.0,-8032.0,-6176.0,-6240.0)
set MD=Rect(-2464.0,1536.0,-2240.0,1760.0)
set Br=Rect(4288.0,-2688.0,4544.0,-2400.0)
set cr=Rect(-3328.0,-416.0,-3104.0,-96.0)
set Cr=Rect(1440.0,-4096.0,1728.0,-3872.0)
set fr=Rect(-4576.0,3328.0,-4448.0,3488.0)
set Fr=Rect(-3264.0,4192.0,-2912.0,4320.0)
set Hr=Rect(2848.0,-5088.0,3072.0,-4928.0)
set jr=Rect(-1824.0,2240.0,-1472.0,2464.0)
set Jr=Rect(3008.0,-3776.0,3136.0,-3648.0)
set lr=Rect(1184.0,2976.0,1280.0,3104.0)
set mr=Rect(-512.0,-3648.0,-320.0,-3520.0)
set pr=Rect(-7104.0,6656.0,-6848.0,6912.0)
set qr=Rect(-7104.0,6656.0,-6880.0,6880.0)
set ND=Rect(2304.0,-672.0,2592.0,-384.0)
set Sr=Rect(3872.0,-3008.0,4928.0,-1952.0)
set Ur=Rect(-3552.0,-768.0,-2528.0,320.0)
set Wr=Rect(1056.0,-5216.0,2368.0,-3744.0)
set zr=Rect(-5120.0,3008.0,-3648.0,4320.0)
set Zr=Rect(-3456.0,3808.0,-2656.0,4864.0)
set vi=Rect(2272.0,-6080.0,3776.0,-4928.0)
set ei=Rect(-1888.0,2208.0,-992.0,3040.0)
set xi=Rect(416.0,2624.0,1632.0,3648.0)
set oi=Rect(2592.0,-4800.0,3744.0,-3328.0)
set ai=Rect(-1024.0,-3808.0,192.0,-2752.0)
set OD=Rect(-7936.0,-7776.0,-5920.0,-5760.0)
set PD=Rect(5504.0,5184.0,7744.0,7136.0)
set Ai=Rect(-800.0,3072.0,64.0,4032.0)
set Ni=Rect(-384.0,3392.0,-192.0,3520.0)
set bi=Rect(-1728.0,-5056.0,-768.0,-3840.0)
set Bi=Rect(-1152.0,-4704.0,-960.0,-4480.0)
set QD=Rect(-480.0,-800.0,-256.0,-512.0)
set TD=Rect(2112.0,-736.0,2752.0,-160.0)
set di=Rect(2112.0,-960.0,2720.0,-640.0)
set fi=Rect(2112.0,-1088.0,2720.0,-864.0)
set Fi=Rect(2656.0,-1120.0,2784.0,-416.0)
set Gi=Rect(2752.0,-1248.0,2880.0,-544.0)
set Ji=Rect(2848.0,-1344.0,2912.0,-640.0)
set li=Rect(2912.0,-1408.0,2976.0,-704.0)
set Li=Rect(2208.0,-1216.0,2816.0,-992.0)
set pi=Rect(2464.0,-1472.0,3200.0,-1152.0)
set WD=Rect(-8160.0,-8192.0,-3712.0,-4352.0)
set XD=Rect(-8192.0,-4960.0,-4640.0,-3552.0)
set YD=Rect(-4000.0,-7744.0,-3072.0,-5152.0)
set ZD=Rect(2304.0,4064.0,8032.0,7776.0)
set AD=Rect(4640.0,1952.0,8000.0,4384.0)
set BD=Rect(3136.0,2816.0,5216.0,4960.0)
set LD=Rect(-7968.0,5216.0,-7456.0,5920.0)
set KE=Rect(-8064.0,2880.0,-7648.0,4512.0)
set RE=Rect(-3296.0,3712.0,-2688.0,3968.0)
set SE=Rect(-2400.0,2016.0,-1952.0,2624.0)
set TE=Rect(-2016.0,1600.0,-1216.0,2048.0)
set WE=Rect(-2144.0,2528.0,-1888.0,2944.0)
set YE=Rect(-1280.0,1728.0,-736.0,2176.0)
set ZE=Rect(-1696.0,-768.0,-1376.0,-448.0)
set EF=Rect(-576.0,0.0,-352.0,256.0)
set FF=Rect(3104.0,-2784.0,3680.0,-2304.0)
set GF=Rect(3264.0,-3040.0,3872.0,-2656.0)
set HF=Rect(4960.0,-3104.0,5632.0,-2816.0)
set JF=Rect(4896.0,-3744.0,5280.0,-3456.0)
set KF=Rect(7488.0,-3520.0,8192.0,-2336.0)
set MF=Rect(6656.0,-3328.0,7808.0,-2656.0)
set NF=Rect(7104.0,-8192.0,8192.0,-5920.0)
set OF=Rect(5952.0,-8192.0,7200.0,-7712.0)
set PF=Rect(7168.0,-6240.0,8128.0,-5184.0)
set QF=Rect(5824.0,-8032.0,6400.0,-7776.0)
set RF=Rect(6976.0,-6560.0,7488.0,-5920.0)
set SF=Rect(-5856.0,2944.0,-5600.0,3200.0)
set TF=Rect(6784.0,-7776.0,7264.0,-7456.0)
set UF=Rect(-8128.0,-8192.0,5536.0,-7744.0)
set WF=Rect(2368.0,-7904.0,2688.0,-7584.0)
set XF=Rect(-1664.0,-7808.0,-1344.0,-7552.0)
set YF=Rect(-2944.0,-8192.0,-1664.0,-7680.0)
set ZF=Rect(-4000.0,-8192.0,-3168.0,-7616.0)
set BF=Rect(-5760.0,-8000.0,-5184.0,-7584.0)
set CF=Rect(-3296.0,3744.0,-3104.0,3872.0)
set LF=Rect(-8192.0,-8192.0,-6720.0,-7744.0)
set DG=Rect(-8192.0,-6432.0,-7456.0,-4928.0)
set EG=Rect(-8192.0,-8128.0,-7904.0,8160.0)
set FG=Rect(-7744.0,3936.0,-7328.0,5600.0)
set GG=Rect(-7680.0,1984.0,-6560.0,2816.0)
set JG=Rect(-7776.0,1696.0,-6944.0,2176.0)
set MG=Rect(-8032.0,-3040.0,-7680.0,-2720.0)
set OG=Rect(-7904.0,-2656.0,-7552.0,-2336.0)
set PG=Rect(-3936.0,-2720.0,-3584.0,-2400.0)
set QG=Rect(-3168.0,-1952.0,-2912.0,-1696.0)
set RG=Rect(-4128.0,-1632.0,-3776.0,-1152.0)
set SG=Rect(-4992.0,-1792.0,-3968.0,-1440.0)
set TG=Rect(-5536.0,-1664.0,-4832.0,-1280.0)
set UG=Rect(-2304.0,3872.0,-2048.0,4096.0)
set VG=Rect(-5664.0,-1440.0,-5344.0,0.0)
set WG=Rect(-5824.0,-1504.0,-5472.0,-544.0)
set XG=Rect(-5216.0,-1216.0,-4480.0,-384.0)
set ZG=Rect(-5632.0,448.0,-5152.0,1856.0)
set AG=Rect(-5856.0,1440.0,-5248.0,2592.0)
set BG=Rect(-5408.0,1888.0,-4928.0,2368.0)
set CG=Rect(-5056.0,1664.0,-4064.0,2144.0)
set LG=Rect(-4320.0,1344.0,-3808.0,1952.0)
set DH=Rect(-4224.0,1440.0,-3200.0,2016.0)
set EH=Rect(-2112.0,3424.0,-1856.0,3744.0)
set HH=Rect(-2400.0,640.0,-2208.0,896.0)
set OH=Rect(-3392.0,640.0,-3200.0,896.0)
set PH=Rect(-3744.0,-1024.0,-3232.0,384.0)
set QH=Rect(-2016.0,-5504.0,-1664.0,-4768.0)
set RH=Rect(-1760.0,-5248.0,-1312.0,-4800.0)
set TH=Rect(896.0,-3328.0,1088.0,-3072.0)
set UH=Rect(2368.0,-3808.0,2688.0,-3360.0)
set WH=Rect(1952.0,-3744.0,2208.0,-3456.0)
set XH=Rect(-768.0,-1344.0,-480.0,-1024.0)
set YH=Rect(1152.0,-6560.0,1376.0,-6272.0)
set ZH=Rect(1216.0,-6368.0,1504.0,-6176.0)
set AH=Rect(-1376.0,-6784.0,-1184.0,-6528.0)
set CH=Rect(7616.0,-6528.0,8192.0,8160.0)
set DI=Rect(7072.0,-2304.0,7264.0,-2048.0)
set EI=Rect(-7872.0,7872.0,8192.0,8192.0)
set GI=Rect(1792.0,7776.0,2112.0,8192.0)
set HI=Rect(-2656.0,0.0,-2496.0,256.0)
set II=Rect(-768.0,7232.0,-416.0,7424.0)
set JI=Rect(-7968.0,5472.0,-7648.0,5792.0)
set NI=Rect(1120.0,7904.0,1312.0,8160.0)
set PI=Rect(736.0,4480.0,1120.0,4800.0)
set SI=Rect(2208.0,4928.0,2400.0,5152.0)
set TI=Rect(576.0,4384.0,1120.0,4928.0)
set UI=Rect(2560.0,4160.0,2784.0,4576.0)
set WI=Rect(-5984.0,-3776.0,-5504.0,-3232.0)
set XI=Rect(576.0,4256.0,1024.0,4672.0)
set YI=Rect(544.0,4352.0,992.0,4768.0)
set BI=Rect(704.0,2496.0,1376.0,2784.0)
set CI=Rect(-2240.0,1792.0,-1856.0,2240.0)
set LI=Rect(-1472.0,1472.0,-992.0,1728.0)
set TJ=Rect(2368.0,-3200.0,2656.0,-2880.0)
set MK=Rect(2624.0,-3584.0,2816.0,-2848.0)
set UK=Rect(2464.0,-3392.0,2656.0,-3136.0)
set YK=Rect(2784.0,-3232.0,2976.0,-2976.0)
set SM=Rect(2784.0,-3424.0,2976.0,-3168.0)
set TM=Rect(7328.0,7808.0,8192.0,8192.0)
set UM=Rect(1984.0,7584.0,3296.0,8192.0)
set WM=Rect(2240.0,7392.0,2560.0,8192.0)
set YM=Rect(-1888.0,416.0,-1696.0,576.0)
set ZM=Rect(7776.0,2720.0,8192.0,3648.0)
set JN=Rect(5280.0,640.0,5664.0,1184.0)
set MN=Rect(-3104.0,2720.0,-2624.0,3232.0)
set UH=Rect(2816.0,-3488.0,3008.0,-3232.0)
set WH=Rect(1568.0,-2976.0,1760.0,-2656.0)
set TJ=Rect(2368.0,-3264.0,2656.0,-2944.0)
set MK=Rect(2624.0,-3648.0,2816.0,-2912.0)
set UK=Rect(2464.0,-3456.0,2656.0,-3200.0)
set UF=Rect(-8192.0,-8128.0,5472.0,-7648.0)
set eE=Rect(-8192.0,-3712.0,-7008.0,-2144.0)
set oE=Rect(-3360.0,-8192.0,-1472.0,-7648.0)
set aE=Rect(-2528.0,-7840.0,-1696.0,-7488.0)
set nE=Rect(-2336.0,-7584.0,-1600.0,-7456.0)
set VE=Rect(-8192.0,2016.0,-6816.0,2880.0)
set EE=Rect(6880.0,-3328.0,8000.0,-2624.0)
set XE=Rect(3904.0,2976.0,4160.0,3264.0)
set OE=Rect(2336.0,5952.0,2592.0,6240.0)
set IE=Rect(6304.0,1984.0,6560.0,2272.0)
set AE=Rect(-3328.0,-6912.0,-3072.0,-6624.0)
set bE=Rect(-4384.0,-4800.0,-4128.0,-4512.0)
set BE=Rect(-6432.0,-3840.0,-6176.0,-3552.0)
set cE=Rect(-7584.0,6176.0,-6304.0,7552.0)
set CE=Rect(2208.0,-1152.0,2720.0,-352.0)
set dE=Rect(2560.0,-1440.0,2976.0,-1024.0)
set fE=Rect(-1088.0,5376.0,768.0,6624.0)
set FE=Rect(1600.0,1024.0,3456.0,2432.0)
set gE=Rect(5504.0,-1056.0,7200.0,512.0)
set GE=Rect(-6944.0,-1792.0,-5248.0,-224.0)
set JE=Rect(-1536.0,-7424.0,640.0,-6048.0)
set lE=Rect(-3328.0,-7200.0,-2464.0,-6368.0)
set LE=Rect(-4288.0,-4544.0,-3424.0,-3712.0)
set ME=Rect(-6784.0,-3616.0,-5920.0,-2784.0)
set pE=Rect(1472.0,5440.0,2336.0,6272.0)
set PE=Rect(2656.0,2336.0,3520.0,3168.0)
set qE=Rect(5984.0,1152.0,6848.0,1984.0)
set QE=Rect(-4128.0,-3712.0,-2496.0,-2272.0)
set TN=Rect(-8192.0,-8128.0,-5120.0,-5536.0)
set UN=Rect(4608.0,4352.0,8192.0,8192.0)
set cz=Rect(3536.0,3148.0,6248.0,5832.0)
set Cz=Rect(-6348.0,-6900.0,-3628.0,-4480.0)
set He=Rect(0.,0.,0.,0.)
set Q24=null
set iL=Condition(function JZF)
set Q_4=Condition(function MLF)
set ip=Condition(function JAF)
set iP=Condition(function MRF)
set EL7=Condition(function ODF)
set Ha=Location(0.,0.)
set HA=Location(0.,0.)
set Hb=Location(0.,0.)
set HB=Location(0.,0.)
set p=Player(15)
set LT4=CreateUnit(p,1966092378,7360.0,-4416.0,270.000)
call SetUnitColor(LT4,ConvertPlayerColor(12))
set LS4=CreateUnit(p,1966092378,-7296.0,4224.0,270.000)
call SetUnitColor(LS4,ConvertPlayerColor(12))
set IF4=CreateUnit(p,1848657231,-7168.0,6464.0,270.000)
call SetUnitColor(IF4,ConvertPlayerColor(0))
set wJ=CreateUnit(p,1848652102,-7424.0,-6976.0,270.000)
set SJ=CreateUnit(p,1848657231,-7360.0,6464.0,270.000)
call SetUnitColor(SJ,ConvertPlayerColor(0))
set WJ=CreateUnit(p,1848652102,-7424.0,-6592.0,270.000)
set yJ=CreateUnit(p,1848652102,-7424.0,-6464.0,270.000)
set qK=CreateUnit(p,1848657231,-7360.0,6784.0,270.000)
call SetUnitColor(qK,ConvertPlayerColor(0))
set LK=CreateUnit(p,1848657231,-6848.0,6784.0,270.000)
call SetUnitColor(LK,ConvertPlayerColor(0))
set zJ=CreateUnit(p,1848652102,-7424.0,-6720.0,270.000)
set ZJ=CreateUnit(p,1848652102,-7424.0,-6848.0,270.000)
set vk=CreateUnit(p,1852206952,-7232.0,-7136.0,270.000)
set u=CreateUnit(p,1967339316,3200.0,-64.0,270.000)
set cJ=CreateUnit(p,1848657231,-6848.0,6464.0,270.000)
call SetUnitColor(cJ,ConvertPlayerColor(0))
set FK=CreateUnit(p,1848652102,7040.0,6272.0,270.000)
set gK=CreateUnit(p,1848652102,7040.0,5888.0,270.000)
set GK=CreateUnit(p,1848652102,7040.0,5760.0,270.000)
set JK=CreateUnit(p,1848652102,7040.0,6016.0,270.000)
set fK=CreateUnit(p,1848652102,7040.0,6144.0,270.000)
set lK=CreateUnit(p,1852073580,6784.0,6368.0,270.000)
set gJ=CreateUnit(p,1848657231,-7360.0,7104.0,270.000)
call SetUnitColor(gJ,ConvertPlayerColor(0))
set PK=CreateUnit(p,1848657231,-7168.0,7104.0,270.000)
call SetUnitColor(PK,ConvertPlayerColor(0))
set u=CreateUnit(p,1967339316,-4544.0,1152.0,270.000)
set tJ=CreateUnit(p,1848657231,-7168.0,6784.0,270.000)
call SetUnitColor(tJ,ConvertPlayerColor(0))
set Cl=CreateUnit(p,1848657231,-6848.0,7104.0,270.000)
call SetUnitColor(Cl,ConvertPlayerColor(0))
set LV4=CreateUnit(p,1966092592,-7296.0,4416.0,270.000)
call SetUnitColor(LV4,ConvertPlayerColor(12))
set LU4=CreateUnit(p,1966092592,7360.0,-4224.0,270.000)
call SetUnitColor(LU4,ConvertPlayerColor(12))
set XU4=CreateUnit(p,1848657231,-6656.0,7104.0,270.000)
call SetUnitColor(XU4,ConvertPlayerColor(0))
set XV4=CreateUnit(p,1848657231,-6656.0,6464.0,270.000)
call SetUnitColor(XV4,ConvertPlayerColor(0))
set XT4=CreateUnit(p,1848657231,-6656.0,6784.0,270.000)
call SetUnitColor(XT4,ConvertPlayerColor(0))
set p=Player(0)
set ek=CreateUnit(p,1849897784,-7264.0,-6880.0,270.000)
call SetUnitColor(ek,ConvertPlayerColor(12))
set xk=CreateUnit(p,1848652107,-7264.0,-6688.0,270.000)
call SetUnitColor(xk,ConvertPlayerColor(12))
set ak=CreateUnit(p,1848651833,-6560.0,-6432.0,270.000)
call SetUnitColor(ak,ConvertPlayerColor(12))
set LJ=CreateUnit(p,1848651864,-7072.0,-6368.0,270.000)
call SetUnitColor(LJ,ConvertPlayerColor(1))
set JJ=CreateUnit(p,1848651862,-6816.0,-6368.0,270.000)
call SetUnitColor(JJ,ConvertPlayerColor(12))
set GJ=CreateUnit(p,1848651863,-7200.0,-6432.0,270.000)
call SetUnitColor(GJ,ConvertPlayerColor(12))
set dJ=CreateUnit(p,1848651826,-6688.0,-6368.0,270.000)
call SetUnitColor(dJ,ConvertPlayerColor(12))
set Wk=CreateUnit(p,1697657397,-6624.0,-7136.0,270.000)
set ik=CreateUnit(p,1749236021,-6880.0,-7136.0,270.000)
call SetUnitColor(ik,ConvertPlayerColor(0))
set BJ=CreateUnit(p,1702129516,-5632.0,-6144.0,270.000)
set Ak=CreateUnit(p,1697656915,-4448.0,-4960.0,270.000)
set bk=CreateUnit(p,1697656915,-5280.0,-6112.0,270.000)
set Nk=CreateUnit(p,1697656915,-6368.0,-4256.0,270.000)
set Bk=CreateUnit(p,1697656915,-5600.0,-5728.0,270.000)
set ck=CreateUnit(p,1700884333,-6080.0,-4480.0,270.000)
set Ck=CreateUnit(p,1700884325,-6656.0,-4480.0,270.000)
set fk=CreateUnit(p,1700884333,-4416.0,-5312.0,270.000)
set Gk=CreateUnit(p,1700884325,-4864.0,-4992.0,270.000)
set Fk=CreateUnit(p,1697656915,-3744.0,-6816.0,270.000)
set dk=CreateUnit(p,1700884333,-4032.0,-7040.0,270.000)
set gk=CreateUnit(p,1700884325,-4032.0,-6528.0,270.000)
set lk=CreateUnit(p,1701670775,-5792.0,-5408.0,270.000)
set Jk=CreateUnit(p,1701670775,-6624.0,-5088.0,270.000)
set jk=CreateUnit(p,1701670775,-5088.0,-5536.0,270.000)
set Lk=CreateUnit(p,1701670775,-5344.0,-3936.0,270.000)
set pk=CreateUnit(p,1701670775,-5088.0,-4576.0,270.000)
set Pk=CreateUnit(p,1701670775,-3936.0,-5344.0,270.000)
set qk=CreateUnit(p,1701670775,-4512.0,-7072.0,270.000)
set Qk=CreateUnit(p,1701670775,-4896.0,-6240.0,270.000)
set Sk=CreateUnit(p,1701670775,-3808.0,-5856.0,270.000)
set tk=CreateUnit(p,1701670775,-5472.0,-4704.0,270.000)
set Uk=CreateUnit(p,1701670775,-4512.0,-5856.0,270.000)
set wk=CreateUnit(p,1700884343,-4544.0,-6528.0,270.000)
set Rk=CreateUnit(p,1697656915,-6112.0,-1248.0,270.000)
set ok=CreateUnit(p,1700884343,-6080.0,-5120.0,270.000)
set Ok=CreateUnit(p,1697656915,-6112.0,1568.0,270.000)
set Ek=CreateUnit(p,1697656915,-1504.0,-1824.0,270.000)
set Vk=CreateUnit(p,1697656915,-544.0,-6688.0,270.000)
set nk=CreateUnit(p,1697656915,4960.0,-6752.0,270.000)
set MJ=CreateUnit(p,1697656915,-3488.0,-3296.0,270.000)
set dl=CreateUnit(p,1848657989,-6944.0,-6368.0,270.000)
call SetUnitColor(dl,ConvertPlayerColor(12))
set QJ=CreateUnit(p,1848657989,5920.0,6176.0,270.000)
call SetUnitColor(QJ,ConvertPlayerColor(12))
set p=Player(1)
set zk=CreateUnit(p,1701080930,-6400.0,-5696.0,270.000)
set yk=CreateUnit(p,1701080930,-5248.0,-6848.0,270.000)
set p=Player(6)
set XK=CreateUnit(p,1848651826,5920.0,5920.0,270.000)
call SetUnitColor(XK,ConvertPlayerColor(12))
set OK=CreateUnit(p,1848651863,5984.0,6432.0,270.000)
call SetUnitColor(OK,ConvertPlayerColor(12))
set AK=CreateUnit(p,1848651862,5920.0,6048.0,270.000)
call SetUnitColor(AK,ConvertPlayerColor(12))
set NK=CreateUnit(p,1848651864,5920.0,6304.0,270.000)
call SetUnitColor(NK,ConvertPlayerColor(1))
set dK=CreateUnit(p,1849897784,6496.0,6368.0,270.000)
call SetUnitColor(dK,ConvertPlayerColor(12))
set CK=CreateUnit(p,1848652107,6304.0,6368.0,270.000)
call SetUnitColor(CK,ConvertPlayerColor(12))
set QK=CreateUnit(p,1970496880,4352.0,3584.0,270.000)
set BK=CreateUnit(p,1848651833,5984.0,5792.0,270.000)
call SetUnitColor(BK,ConvertPlayerColor(12))
set cK=CreateUnit(p,1849897781,6816.0,5984.0,270.000)
call SetUnitColor(cK,ConvertPlayerColor(12))
set bK=CreateUnit(p,1966092369,6816.0,5664.0,270.000)
set qJ=CreateUnit(p,1966092365,6048.0,-2080.0,270.000)
set PJ=CreateUnit(p,1966092356,6304.0,-96.0,270.000)
set ol=CreateUnit(p,1970956647,4384.0,4256.0,270.000)
set WK=CreateUnit(p,1970172012,5184.0,4864.0,220.000)
set zK=CreateUnit(p,1970564964,3904.0,3904.0,270.000)
set ZK=CreateUnit(p,1966092365,1056.0,-96.0,270.000)
set vl=CreateUnit(p,1966092356,2528.0,1824.0,270.000)
set el=CreateUnit(p,1966092366,3936.0,3488.0,270.000)
set xl=CreateUnit(p,1966092372,4832.0,4832.0,270.000)
set SK=CreateUnit(p,1966092372,5152.0,4512.0,270.000)
set rl=CreateUnit(p,1970956647,3168.0,4064.0,270.000)
set al=CreateUnit(p,1970956647,5728.0,4000.0,270.000)
set EK=CreateUnit(p,1966092366,2976.0,5792.0,270.000)
set VK=CreateUnit(p,1970496880,3392.0,5504.0,270.000)
set aK=CreateUnit(p,1970564964,3392.0,6080.0,270.000)
set xK=CreateUnit(p,1970956647,4128.0,6240.0,270.000)
set eK=CreateUnit(p,1970495856,3968.0,5888.0,270.000)
set Vl=CreateUnit(p,1969385326,4992.0,5952.0,270.000)
set El=CreateUnit(p,1970956647,2656.0,4704.0,270.000)
set Xl=CreateUnit(p,1970956647,5536.0,2464.0,270.000)
set Ol=CreateUnit(p,1970956647,4064.0,5280.0,270.000)
set Rl=CreateUnit(p,1970956647,3488.0,4832.0,270.000)
set Al=CreateUnit(p,1970495856,6400.0,3584.0,270.000)
set Nl=CreateUnit(p,1970564964,6080.0,2944.0,270.000)
set bl=CreateUnit(p,1970496880,6656.0,2880.0,270.000)
set Bl=CreateUnit(p,1966092366,6368.0,2528.0,270.000)
set cl=CreateUnit(p,1970956647,5024.0,3744.0,270.000)
set vK=CreateUnit(p,1970956647,6880.0,3936.0,270.000)
set wK=CreateUnit(p,1969385326,6464.0,4608.0,270.000)
set TK=CreateUnit(p,1970956647,4640.0,2848.0,270.000)
set HJ=CreateUnit(p,1966092365,-4704.0,5920.0,270.000)
set UJ=CreateUnit(p,1966092356,32.0,5920.0,270.000)
set p=Player(15)
set DJ=CreateUnit(p,1697656900,-6005.1,5458.6,212.150)
set lJ=CreateUnit(p,1697656898,-561.7,-651.7,325.600)
set FJ=CreateUnit(p,1697656897,5717.5,-6070.9,64.000)
set fJ=CreateUnit(p,1697656888,-5467.9,-5891.1,307.304)
set CJ=CreateUnit(p,1697656881,4901.8,4536.6,212.110)
call ConfigureNeutralVictim()
set bH=Filter(function ZY7)
set filterIssueHauntOrderAtLocBJ=Filter(function IssueHauntOrderAtLocBJFilter)
set filterEnumDestructablesInCircleBJ=Filter(function L4)
set filterGetUnitsInRectOfPlayer=Filter(function GetUnitsInRectOfPlayerFilter)
set filterGetUnitsOfTypeIdAll=Filter(function GetUnitsOfTypeIdAllFilter)
set filterGetUnitsOfPlayerAndTypeId=Filter(function GetUnitsOfPlayerAndTypeIdFilter)
set filterMeleeTrainedUnitIsHeroBJ=Filter(function MeleeTrainedUnitIsHeroBJFilter)
set filterLivingPlayerUnitsOfTypeId=Filter(function LivingPlayerUnitsOfTypeIdFilter)
set D_8=0
loop
exitwhen D_8==16
set bj_FORCE_PLAYER[D_8]=CreateForce()
call ForceAddPlayer(bj_FORCE_PLAYER[D_8],Player(D_8))
set D_8=D_8+1
endloop
set bj_FORCE_ALL_PLAYERS=CreateForce()
call ForceEnumPlayers(bj_FORCE_ALL_PLAYERS,null)
set bj_cineModePriorSpeed=GetGameSpeed()
set bj_cineModePriorFogSetting=IsFogEnabled()
set bj_cineModePriorMaskSetting=IsFogMaskEnabled()
set D_8=0
loop
exitwhen D_8>=bj_MAX_QUEUED_TRIGGERS
set bj_queuedExecTriggers[D_8]=null
set bj_queuedExecUseConds[D_8]=false
set D_8=D_8+1
endloop
set bj_isSinglePlayer=false
set I0H=0
set D_8=0
loop
exitwhen D_8>=12
if(GetPlayerController(Player(D_8))==MAP_CONTROL_USER and GetPlayerSlotState(Player(D_8))==PLAYER_SLOT_STATE_PLAYING)then
set I0H=I0H+1
endif
set D_8=D_8+1
endloop
set T34[0]=""
set T34[1]="CLG.Pajkatt"
set T34[2]="CLG.Mirakel"
set T34[3]="CLG.Akke"
set T34[4]="CLG.MiSeRy"
set T34[5]="CLG.Lacoste"
set T34[6]="Darer.M"
set T34[7]="Darer.G"
set T34[8]="Darer.Artstyle"
set T34[9]="Darer.Funn1k"
set T34[10]="M5.Admiration"
set T34[11]="M5.Vigoss"
set T34[12]="M5.Bl00DAnGeL-"
set T34[13]="M5.PGG"
set T34[14]="M5.Silent"
set T34[15]="Na`Vi.XBOCT"
set T34[16]="Na`Vi.Dendi"
set T34[17]="Na`Vi.Puppey"
set T34[18]="Na`Vi.LighTofHeaveN"
set T34[19]="Na`Vi.ARS-ART"
set T34[20]="EG.Fear"
set T34[21]="EG.Bulba"
set T34[22]="EG.Maelk"
set T34[23]="EG.DeMoN"
set T34[24]="EG.Universe"
set T34[25]="IG.Ferrari_430"
set T34[26]="IG.Faith"
set T34[27]="IG.Zhou"
set T34[28]="IG.ChuaN"
set T34[29]="IG.YYF"
set T34[30]="LGD.xiao8"
set T34[31]="LGD.Sylar"
set T34[32]="LGD.Yao"
set T34[33]="LGD.DD"
set T34[34]="LGD.ddc"
set T34[35]="EHOME.357"
set T34[36]="EHOME.KingJ"
set T34[37]="EHOME.LaNm"
set T34[38]="EHOME.MMY!"
set T34[39]="EHOME.PCT"
set T34[40]="DK.Super"
set T34[41]="DK.Zippo"
set T34[42]="DK.LongDD"
set T34[43]="DK.Burning"
set T34[44]="DK.rOtk"
set T34[45]="AL.bleek"
set T34[46]="AL.Musica"
set T34[47]="AL.Snoopy"
set T34[48]="AL.Shatan"
set T34[49]="AL.Godot"
set T34[50]="TZ.iceiceice"
set T34[51]="TZ.xFreedom"
set T34[52]="TZ.xy-"
set T34[53]="TZ.YamateH"
set T34[54]="TZ.Ice"
set T34[55]="TongFu.Kabu"
set T34[56]="TongFu.SanSheng"
set T34[57]="13abyKnight"
set T34[58]="dLxYan"
set T34[59]="TongFu.Awoke"
set T34[60]="Green"
set T34[61]="TongFu.Mu"
set T34[62]="TongFu.Hao"
set T34[63]="MS.SexyBamboe"
set T34[64]="Bane"
set T34[65]="MS.Black^"
set T34[66]="MS.1437"
set T34[67]="MS.KuroKy"
set T34[68]="MS.SingSing"
set T34[69]="Yrk"
set T34[70]="sExtasY"
set T34[71]="Tayschrenn"
set T34[72]="theCupofteA"
set T34[73]="idef!x"
set T34[74]="kEEper"
set T34[75]="nEKro"
set T34[76]="Tulex"
set T34[77]="Warlog"
set T34[78]="Radge"
set T34[79]="Bu1LD0z3R"
set T34[80]="r1sk"
set T34[81]="Toneeh"
set T34[82]="Mr.Escobar"
set T34[83]="Ghost0"
set T34[84]="Blackshatan"
set T34[85]="TeG-Hyperion"
set T34[86]="TeG-Ly0n"
set T34[87]="TeG-ppasarel"
set T34[88]="Ro-Coco"
set T34[89]="TeG-RMP"
set T34[90]="TeG-jackass"
set T34[91]="NozG"
set T34[92]="lacosteeeee"
set T34[93]="NlKE"
set T34[94]="Swoopie"
set T34[95]="Soundchaosdebug"
set T34[96]="Luck_Duck"
set T34[97]="Simba"
set T34[98]="AMXZAKU"
set T34[99]="HurDur"
set T34[100]="Zaetr"
set T34[101]="Dargon_Knight"
set T34[102]="Ciel"
set T34[103]="SaDJ0KeR"
set T34[104]="Phaselock"
set T34[105]="PleaseBugMeNot"
set T34[106]="changeling"
set T34[107]="Deel"
set T34[108]="xbox619"
set T34[109]="Uncle_Zhuge"
set T34[110]="Thedeath"
set T34[111]="gAmmAlysE"
set T34[112]="Ace_Tobi"
set T34[113]="RisingDemon"
set T34[114]="Harreke"
set T34[115]="cipd"
set T34[116]="Sebra"
set T34[117]="Simple-.-"
set T34[118]="gaibo1"
set T34[119]="Cloud_str"
set bj_isSinglePlayer=(I0H==1)
set bj_rescueSound=CreateSoundFromLabel("Rescue",false,false,false,10000,10000)
set bj_questDiscoveredSound=CreateSoundFromLabel("QuestNew",false,false,false,10000,10000)
set bj_questUpdatedSound=CreateSoundFromLabel("QuestUpdate",false,false,false,10000,10000)
set bj_questCompletedSound=CreateSoundFromLabel("QuestCompleted",false,false,false,10000,10000)
set bj_questFailedSound=CreateSoundFromLabel("QuestFailed",false,false,false,10000,10000)
set bj_questHintSound=CreateSoundFromLabel("Hint",false,false,false,10000,10000)
set bj_questSecretSound=CreateSoundFromLabel("SecretFound",false,false,false,10000,10000)
set bj_questItemAcquiredSound=CreateSoundFromLabel("ItemReward",false,false,false,10000,10000)
set bj_questWarningSound=CreateSoundFromLabel("Warning",false,false,false,10000,10000)
set bj_victoryDialogSound=CreateSoundFromLabel("QuestCompleted",false,false,false,10000,10000)
set bj_defeatDialogSound=CreateSoundFromLabel("QuestFailed",false,false,false,10000,10000)
call DelayedSuspendDecayCreate()
set I5H=VersionGet()
if(I5H==VERSION_REIGN_OF_CHAOS)then
set bj_MELEE_MAX_TWINKED_HEROES=bj_MELEE_MAX_TWINKED_HEROES_V0
else
set bj_MELEE_MAX_TWINKED_HEROES=bj_MELEE_MAX_TWINKED_HEROES_V1
endif
call InitQueuedTriggers()
call InitRescuableBehaviorBJ()
call InitDNCSounds()
call InitMapRects()
call InitSummonableCaps()
call V5()
set L1F=0
loop
set bj_stockAllowedPermanent[L1F]=false
set bj_stockAllowedCharged[L1F]=false
set bj_stockAllowedArtifact[L1F]=false
set L1F=L1F+1
exitwhen L1F>10
endloop
call SetAllItemTypeSlots(11)
call SetAllUnitTypeSlots(11)
set bj_stockUpdateTimer=CreateTimer()
call TimerStart(bj_stockUpdateTimer,bj_STOCK_RESTOCK_INITIAL_DELAY,false,function D4G)
set bj_stockItemPurchased=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(bj_stockItemPurchased,Player(15),EVENT_PLAYER_UNIT_SELL_ITEM,null)
call TriggerAddAction(bj_stockItemPurchased,function RemovePurchasedItem)
call DetectGameStarted()
set i=0
set i=0
loop
exitwhen(i>16)
set K[i]=0
set M[i]=0
set H[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>100)
set J[i]=false
set je[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>4)
set N[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>2)
set L[i]=0
set S7[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>12)
set Q[i]=""
set A[i]=CreateTimer()
set T[i]=0
set V[i]=0
set GZ[i]=false
set GZ[256+i]=false
set GZ[272+i]=false
set GZ[304+i]=false
set G0[48+i]=false
set G0[i]=false
set hG[i]=0
set eY[80+i]=3
set eY[i]=0
set eY[544+i]=0
set h4[i]=null
set MC7[i]=null
set hq[288+i]=0.
set hq[304+i]=0.
set hq[640+i]=0.
set hq[656+i]=0.
set HC[i]=Location(0.,0.)
set HC[16+i]=Location(0.,0.)
set HC[32+i]=Location(0.,0.)
set HC[48+i]=Location(0.,0.)
set HC[256+i]=Location(0.,0.)
set h9[i]=null
set h8[i]=null
set eY[208+i]=0
set eY[224+i]=0
set eY[240+i]=999999
set hG[192+i]=0
set hG[288+i]=0
set hq[624+i]=0
set DQ7[i]=true
set DQ7[16+i]=true
set DQ7[32+i]=false
set DQ7[48+i]=false
set DQ7[64+i]=true
set DQ7[112+i]=true
set EC7[48+i]=-1
set EC7[64+i]=-1
set G0[224+i]=false
set h8[144+i]=null
set GZ[176+i]=false
set K07[i]=0
set K07[16+i]=0
set K07[32+i]=0
set K07[48+i]=0
set K07[96+i]=0
set K07[112+i]=0
set K07[160+i]=0
set K07[176+i]=0
set K07[240+i]=0
set K07[272+i]=0
set K07[288+i]=0
set K07[464+i]=0
set K27[48+i]=false
set K27[320+i]=true
set K07[208+i]=StringHash("aiBuy|"+I2S(i))
set K07[224+i]=StringHash("aiBuyS|"+I2S(i))
set K07[256+i]=StringHash("aiBuyBear|"+I2S(i))
set K07[352+i]=StringHash("aiIt#|"+I2S(i))
set K07[368+i]=StringHash("aiIt#copy|"+I2S(i))
set K07[448+i]=StringHash("aiBuyLux|"+I2S(i))
set i=i+1
endloop
set i=0
loop
exitwhen(i>13)
set I[i]=false
set U[i]=CreateTimer()
set W4[i]=false
set T7[i]=0
set U7[i]=0
set Be[i]=0
set oo[i]=false
set i=i+1
endloop
set W=CreateTimer()
set i=0
loop
exitwhen(i>1)
set F[i]=0
set mx[i]=false
set B8[i]=0
set eo[i]=false
set i=i+1
endloop
set X4=150
set av=true
set Ev=true
set Ov=true
set Rv=true
set Av=true
set Nv=true
set bv=true
set Bv=true
set cv=true
set Cv=true
set Dv=true
set fv=true
set D7=3
set E7=1
set i=0
loop
exitwhen(i>17)
set M7[i]=null
set i=i+1
endloop
set X7=CreateForce()
set Y7=CreateForce()
set R8=CreateGroup()
set L8=CreateForce()
set E9=0.00
set F9=true
set G9=true
set i=0
loop
exitwhen(i>14)
set P9[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>15)
set C9[i]="Here"
set i=i+1
endloop
call LM7()
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,15.,true)
call TriggerAddCondition(t,Condition(function l8))
set t=null
set IG4[0]=false
set IG4[1]=false
set IG4[2]=false
set IG4[3]=false
set IG4[4]=false
set IG4[5]=false
set IG4[6]=false
set IG4[7]=false
set IG4[8]=false
set IG4[9]=false
set IG4[10]=false
set IG4[11]=false
set IG4[12]=false
set IG4[13]=false
set IG4[14]=false
set IG4[15]=false
set IG4[16]=false
call IUH()
call D_9(1110455898)
call D_9(1112560453)
call D_9(1110455889)
call D_9(1112757326)
call D_9(1112044643)
call D_9(1110458957)
call D_9(1110458962)
call D_9(1110459185)
call D_9(1111844210)
call D_9(1110454869)
call D_9(1110456133)
call D_9(1110459206)
call D_9(1110455885)
call D_9(1110456142)
call D_9(1110456403)
call D_9(1110454353)
call D_9(1110456114)
call D_9(1112891758)
call D_9(1110456629)
call D_9(1110456371)
call D_9(1110454870)
call D_9(1110454617)
call D_9(1112432994)
call D_9(1110456402)
call D_9(1110455862)
call D_9(1110455113)
call D_9(1110455859)
call D_9(1113943649)
call D_9(1113943655)
call D_9(1110455107)
call D_9(1110454348)
call D_9(1112040289)
call D_9(1113813860)
call D_9(1110456121)
call D_9(1110458961)
call D_9(1110458937)
call D_9(1114665575)
call D_9(1110456397)
call D_9(1110454855)
call D_9(1110454616)
call D_9(1110454596)
call D_9(1110456626)
call D_9(1110458705)
call D_9(1111847784)
call D_9(1110454321)
call D_9(1110454583)
call D_9(1110458693)
call D_9(1110458692)
call D_9(1110456399)
call D_9(1114010223)
call D_9(1110454839)
call D_9(1110454840)
call D_9(1110455624)
call D_9(1110458963)
call D_9(1113813609)
call D_9(1110458950)
call D_9(1110458949)
call D_9(1110456624)
call D_9(1110454328)
call D_9(1110455362)
call D_9(1110454854)
call D_9(1112896368)
call D_9(1114993524)
call D_9(1110459203)
call D_9(1111716457)
call D_9(1110455114)
call D_9(1111847784)
call D_9(1110454321)
call D_9(1110458705)
call D_9(1113943649)
call D_9(1113943655)
call D_9(1110456120)
call D_9(1113875828)
call D_9(1110454356)
call D_9(1114860655)
call D_9(1112433768)
call D_9(1093749828)
call D_9(1110459204)
call D_9(1093749313)
call D_9(1110455347)
call D_9(1112436833)
call D_9(1110454606)
call D_9(1112105826)
call D_9(1110455377)
call D_9(1110454339)
call D_9(1110456651)
call D_9(1110455091)
call D_9(1110456390)
call D_9(1110456389)
call D_9(1114664809)
call D_9(1110458701)
call D_9(1112437348)
call D_9(1110454344)
call D_9(1112500344)
call D_9(1110455110)
call D_9(1110454862)
call D_9(1110459703)
call D_9(1110455876)
call D_9(1110458958)
call D_9(1110456657)
call D_9(1110459465)
call D_9(1110458946)
call D_9(1110456650)
call D_9(1110458694)
call D_9(1110456386)
call D_9(1110456113)
call D_9(1110456398)
call D_9(1110454857)
call D_9(1110456401)
call D_9(1110459186)
call D_9(1110455891)
call D_9(1110454867)
call D_9(1110454871)
call D_9(1110455633)
call D_9(1110454852)
call D_9(1110458969)
call D_9(1110454864)
call D_9(1110455622)
call D_9(1110459728)
call D_9(1110459730)
call D_9(1110459732)
call D_9(1110459982)
call D_9(1110459993)
call D_9(1110459988)
call D_9(1110459994)
call D_9(1110460208)
call D_9(1110459957)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function E99))
set t=null
call FlushGameCache(InitGameCache("dr.x"))
set IV4=InitGameCache("dr.x")
set H64[0]=1093744454
set H64[1]=1093744455
set H64[2]=1093744456
set H64[3]=1093744451
set H64[4]=1093744452
set H64[5]=1093744453
set H64[6]=1093744458
set H64[7]=1093744457
set H64[8]=1093744460
set TK4[0]=1093751109
set TK4[1]=1093751110
set TK4[2]=1093751113
set TK4[3]=1093751115
set TK4[4]=1093751114
set TK4[5]=1093751112
set TK4[6]=1093751119
set TK4[7]=1093751118
set TK4[8]=1093751117
set TK4[9]=1093751111
set TK4[10]=1093751121
set HL4[0]=1093748555
set HL4[1]=1093748556
set HL4[2]=1093748554
set HL4[3]=1093748560
set HL4[4]=1093748557
set HL4[5]=1093748558
set HL4[6]=1093748559
set HL4[7]=1093748553
set HL4[8]=1093748561
set H14[0]=1093747533
set H14[1]=1093747531
set H14[2]=1093747526
set H14[3]=1093747529
set H14[4]=1093747527
set H14[5]=1093747528
set U9=CreateTrigger()
call TriggerAddCondition(U9,Condition(function I48))
set V9[0]=1747990855
set X9[0]=50
set V9[1]=1747990868
set X9[1]=100
set V9[2]=1747990854
set X9[2]=150
set V9[3]=1747990856
set X9[3]=200
set V9[4]=1747990853
set X9[4]=250
set V9[5]=1747990852
set X9[5]=300
set V9[6]=1747990851
set X9[6]=350
set V9[7]=1747990850
set X9[7]=400
set V9[8]=1747990841
set X9[8]=450
set V9[9]=1747990849
set X9[9]=500
set V9[10]=1747990858
set X9[10]=550
set V9[11]=1747990859
set X9[11]=600
set V9[12]=1747990860
set X9[12]=650
set V9[13]=1747990861
set X9[13]=700
set V9[14]=1747990862
set X9[14]=750
set V9[15]=1747990863
set X9[15]=800
set V9[16]=1747990864
set X9[16]=850
set V9[17]=1747990865
set X9[17]=900
set V9[18]=1747990866
set X9[18]=950
set V9[19]=1747990867
set X9[19]=1000
set V9[20]=1747990857
set X9[20]=1050
set V9[21]=1747990874
set X9[21]=1100
set V9[22]=1747990872
set X9[22]=1150
set V9[23]=1747992881
set X9[23]=1200
set V9[24]=1747992882
set X9[24]=1250
set V9[25]=1747992886
set X9[25]=1300
set V9[26]=1747992883
set X9[26]=1350
set V9[27]=1747992884
set X9[27]=1400
set V9[28]=1747990873
set X9[28]=1450
set V9[29]=1747990870
set X9[29]=1500
set V9[30]=1747992880
set X9[30]=1550
set V9[31]=1747990869
set X9[31]=1600
set V9[32]=1747992902
set X9[32]=1650
set V9[33]=1747992900
set X9[33]=1700
set V9[34]=1747992901
set X9[34]=1750
set V9[35]=1747992899
set X9[35]=1800
set V9[36]=1747992898
set X9[36]=1850
set V9[37]=1747992897
set X9[37]=1900
set V9[38]=1747992889
set X9[38]=1950
set V9[39]=1747992903
set X9[39]=2000
set V9[40]=1747992887
set X9[40]=2050
set V9[41]=1747992911
set X9[41]=2100
set V9[42]=1747992921
set X9[42]=2150
set V9[43]=1747992904
set X9[43]=2200
set V9[44]=1747992905
set X9[44]=2250
set V9[45]=1747992906
set X9[45]=2300
set V9[46]=1747992912
set X9[46]=2350
set V9[47]=1747992913
set X9[47]=2400
set V9[48]=1747992907
set X9[48]=2450
set V9[49]=1747992914
set X9[49]=2500
set V9[50]=1747992908
set X9[50]=2550
set V9[51]=1747992915
set X9[51]=2600
set V9[52]=1747990871
set X9[52]=2650
set V9[53]=1747992909
set X9[53]=2700
set V9[54]=1747992888
set X9[54]=2750
set V9[55]=1747992916
set X9[55]=2800
set V9[56]=1747992917
set X9[56]=2850
set V9[57]=1747992910
set X9[57]=2900
set V9[58]=1747992918
set X9[58]=2950
set V9[59]=1747992919
set X9[59]=3000
set W9[0]=V9[HC8(1)]
set W9[1]=V9[HC8(1)]
set W9[2]=V9[HC8(1)]
set W9[3]=V9[HC8(1)]
set W9[4]=V9[HC8(1)]
set W9[5]=V9[HC8(1)]
set W9[6]=V9[HC8(1)]
set W9[7]=V9[HC8(1)]
set W9[8]=V9[HC8(1)]
set W9[9]=V9[HC8(1)]
set W9[10]=V9[HC8(1)]
set W9[11]=V9[HC8(1)]
set W9[12]=V9[HC8(1)]
set W9[13]=V9[HC8(1)]
set W9[14]=V9[HC8(1)]
set L7=InitHashtable()
set IW4=Rect(-7040,-7680,7040,7168)
call SetFloatGameState(GAME_STATE_TIME_OF_DAY,6.00)
call SuspendTimeOfDay(false)
call SetTimeOfDayScale(0.5)
call SetSkyModel("Environment\\Sky\\FoggedSky\\FoggedSky.mdl")
call SetCreepCampFilterState(true)
set vo="Normal Mode"
call TimerStart(W,99999.00,false,null)
set Bo=AddWeatherEffect(bj_mapInitialPlayableArea,1380018290)
set bo=AddWeatherEffect(bj_mapInitialPlayableArea,1397645939)
set fL=AddWeatherEffect(bj_mapInitialPlayableArea,1280470369)
set FL=AddWeatherEffect(bj_mapInitialPlayableArea,1464822903)
set Z7[0]=Player(0)
set Z7[1]=Player(1)
set Z7[2]=Player(2)
set Z7[3]=Player(3)
set Z7[4]=Player(4)
set Z7[5]=Player(5)
set A7[0]=Player(6)
set A7[1]=Player(7)
set A7[2]=Player(8)
set A7[3]=Player(9)
set A7[4]=Player(10)
set A7[5]=Player(11)
set B7=Player(12)
set C7=Player(15)
call SetUnitPathing(fJ,false)
call SetUnitPathing(FJ,false)
call SetUnitPathing(lJ,false)
call SetUnitPathing(DJ,false)
call SetUnitPathing(CJ,false)
call DL9(CJ,true)
call DL9(DJ,true)
call DL9(lJ,true)
call DL9(FJ,true)
call DL9(fJ,true)
set Z=GetUnitLoc(CJ)
set vv=GetUnitLoc(fJ)
set ev=GetUnitLoc(lJ)
set ov=GetUnitLoc(DJ)
set rv=GetUnitLoc(FJ)
set N8=1093678663
set O8[1]=vv
set O8[2]=ov
set O8[3]=ev
set O8[4]=rv
set O8[5]=Z
set Jv=GetRectCenter(jo)
set lv=GetRectCenter(lo)
set Lv=GetRectCenter(go)
set mv=GetRectCenter(zo)
set qv=GetRectCenter(er)
set pv=GetRectCenter(wo)
set Qv=GetRectCenter(Xr)
set tv=GetRectCenter(Er)
set sv=GetRectCenter(ar)
set Tv=GetRectCenter(Uo)
set Wv=GetRectCenter(to)
set Uv=GetRectCenter(Qo)
set F7=GetRectCenter(MD)
set G7=GetRectCenter(FD)
set Y8=true
set IX4=GetUnitX(vk)
set IY4=GetUnitY(vk)
set ML=GetUnitX(ik)
set PL=GetUnitY(ik)
set QL=GetUnitX(xk)
set SL=GetUnitY(xk)
set tL=GetUnitX(ek)
set TL=GetUnitY(ek)
set UL=GetUnitX(Wk)
set wL=GetUnitY(Wk)
set zL=GetUnitX(JJ)
set vm=GetUnitY(JJ)
set em=GetUnitX(GJ)
set xm=GetUnitY(GJ)
set om=GetUnitX(dJ)
set rm=GetUnitY(dJ)
set im=GetUnitX(LJ)
set am=GetUnitY(LJ)
set Vm=GetUnitX(ak)
set Em=GetUnitY(ak)
set Xm=GetUnitX(dl)
set Om=GetUnitY(dl)
set Am=GetUnitX(BJ)
set Nm=GetUnitY(BJ)
set bm=GetUnitX(Ok)
set Bm=GetUnitY(Ok)
set cm=GetUnitX(Ek)
set Cm=GetUnitY(Ek)
set dm=GetUnitX(nk)
set fm=GetUnitY(nk)
set Fm=GetUnitX(Rk)
set hm=GetUnitY(Rk)
set Jm=GetUnitX(MJ)
set lm=GetUnitY(MJ)
set Mm=GetUnitX(Vk)
set pm=GetUnitY(Vk)
set Pm=GetUnitX(Nk)
set Qm=GetUnitY(Nk)
set Tm=GetUnitX(Ak)
set Um=GetUnitY(Ak)
set wm=GetUnitX(Fk)
set Wm=GetUnitY(Fk)
set zm=GetUnitX(Bk)
set vM=GetUnitY(Bk)
set eM=GetUnitX(bk)
set oM=GetUnitY(bk)
set rM=GetUnitX(ck)
set iM=GetUnitY(ck)
set aM=GetUnitX(fk)
set nM=GetUnitY(fk)
set VM=GetUnitX(dk)
set XM=GetUnitY(dk)
set AM=GetUnitX(Ck)
set bM=GetUnitY(Ck)
set BM=GetUnitX(Gk)
set cM=GetUnitY(Gk)
set dM=GetUnitX(gk)
set fM=GetUnitY(gk)
set gM=GetUnitX(lk)
set hM=GetUnitY(lk)
set HM=GetUnitX(Jk)
set JM=GetUnitY(Jk)
set kM=GetUnitX(Lk)
set lM=GetUnitY(Lk)
set pM=GetUnitX(pk)
set sM=GetUnitY(pk)
set tM=GetUnitX(Pk)
set wM=GetUnitY(Pk)
set zM=GetUnitX(jk)
set vp=GetUnitY(jk)
set ep=GetUnitX(Qk)
set op=GetUnitY(Qk)
set rp=GetUnitX(Sk)
set ap=GetUnitY(Sk)
set Vp=GetUnitX(qk)
set Ep=GetUnitY(qk)
set Xp=GetUnitX(tk)
set Rp=GetUnitY(tk)
set Ap=GetUnitX(Uk)
set bp=GetUnitY(Uk)
set Bp=GetUnitX(ok)
set cp=GetUnitY(ok)
set Cp=GetUnitX(wk)
set dp=GetUnitY(wk)
set fp=GetUnitX(zk)
set Fp=GetUnitY(zk)
set gp=GetUnitX(yk)
set Hp=GetUnitY(yk)
call RemoveUnit(Nk)
call RemoveUnit(Ck)
call RemoveUnit(ck)
call RemoveUnit(Ak)
call RemoveUnit(Gk)
call RemoveUnit(fk)
call RemoveUnit(Fk)
call RemoveUnit(gk)
call RemoveUnit(dk)
call RemoveUnit(ok)
call RemoveUnit(wk)
call RemoveUnit(BJ)
call RemoveUnit(Bk)
call RemoveUnit(bk)
call RemoveUnit(lk)
call RemoveUnit(Jk)
call RemoveUnit(Lk)
call RemoveUnit(pk)
call RemoveUnit(Pk)
call RemoveUnit(jk)
call RemoveUnit(Qk)
call RemoveUnit(Sk)
call RemoveUnit(qk)
call RemoveUnit(tk)
call RemoveUnit(Uk)
call RemoveUnit(ak)
call RemoveUnit(dl)
call RemoveUnit(LJ)
call RemoveUnit(dJ)
call RemoveUnit(GJ)
call RemoveUnit(JJ)
call RemoveUnit(xk)
call RemoveUnit(ek)
call RemoveUnit(vk)
call RemoveUnit(ik)
call RemoveUnit(Wk)
call RemoveUnit(Ok)
call RemoveUnit(Ek)
call RemoveUnit(nk)
call RemoveUnit(Rk)
call RemoveUnit(MJ)
call RemoveUnit(Vk)
call RemoveUnit(zk)
call RemoveUnit(yk)
set IZ4=CreateUnit(Z7[0],1852206952,IX4,IY4,270)
set I34=CreateUnit(C7,1749236021,ML,PL,270)
set IL4=CreateUnit(C7,1848652107,QL,SL,270)
set I04=CreateUnit(C7,1849897784,tL,TL,270)
set I_4=CreateUnit(C7,1697657397,UL,wL,270)
set J44=CreateUnit(C7,1848651862,zL,vm,270)
set J74=CreateUnit(C7,1848651863,em,xm,270)
set J84=CreateUnit(C7,1848651826,om,rm,270)
set J94=CreateUnit(C7,1848651864,im,am,270)
set JD4=CreateUnit(C7,1848651833,Vm,Em,270)
set JE4=CreateUnit(C7,1848657989,Xm,Om,270)
set JF4=CreateUnit(Z7[0],1702129516,Am,Nm,270)
set JG4=CreateUnit(Z7[0],1697656914,bm,Bm,90)
set JH4=CreateUnit(Z7[0],1697656914,cm,Cm,45)
set JI4=CreateUnit(Z7[0],1697656914,dm,fm,0)
set JJ4=CreateUnit(Z7[0],1697657137,Fm,hm,90)
set JK4=CreateUnit(Z7[0],1697657137,Jm,lm,45)
set JM4=CreateUnit(Z7[0],1697657137,Mm,pm,0)
set JN4=CreateUnit(Z7[0],1697656915,Pm,Qm,90)
set JO4=CreateUnit(Z7[0],1697656915,Tm,Um,45)
set JP4=CreateUnit(Z7[0],1697656915,wm,Wm,0)
set JQ4=CreateUnit(Z7[0],1697657145,zm,vM,45)
set JR4=CreateUnit(Z7[0],1697657145,eM,oM,45)
set JS4=CreateUnit(Z7[0],1700884333,rM,iM,90)
set JT4=CreateUnit(Z7[0],1700884333,aM,nM,45)
set JU4=CreateUnit(Z7[0],1700884333,VM,XM,0)
set JV4=CreateUnit(Z7[0],1700884325,AM,bM,90)
set JW4=CreateUnit(Z7[0],1700884325,BM,cM,45)
set JX4=CreateUnit(Z7[0],1700884325,dM,fM,0)
set fP=CreateUnit(Z7[0],1701670775,gM,hM,270)
set FP=CreateUnit(Z7[0],1701670775,HM,JM,270)
set lP=CreateUnit(Z7[0],1701670775,kM,lM,270)
set LP=CreateUnit(Z7[0],1701670775,pM,sM,270)
set MP=CreateUnit(Z7[0],1701670775,tM,wM,270)
set pP=CreateUnit(Z7[0],1701670775,zM,vp,270)
set PP=CreateUnit(Z7[0],1701670775,ep,op,270)
set qP=CreateUnit(Z7[0],1701670775,rp,ap,270)
set QP=CreateUnit(Z7[0],1701670775,Vp,Ep,270)
set sP=CreateUnit(Z7[0],1701670775,Xp,Rp,270)
set tP=CreateUnit(Z7[0],1701670775,Ap,bp,270)
set WP=CreateUnit(Z7[0],1700884343,Bp,cp,270)
set zP=CreateUnit(Z7[0],1700884343,Cp,dp,270)
set vq=CreateUnit(Z7[0],1701080930,fp,Fp,270)
set eq=CreateUnit(Z7[0],1701080930,gp,Hp,270)
set QQ4=Rect(GetRectMinX(bj_mapInitialPlayableArea),GetRectMinY(bj_mapInitialPlayableArea),GetUnitX(JN4)+800,GetUnitY(JN4)+800)
set QR4=Rect(GetRectMinX(bj_mapInitialPlayableArea),GetRectMinY(bj_mapInitialPlayableArea),GetUnitX(JO4)+1132,GetUnitY(JO4)+1132)
set QS4=Rect(GetRectMinX(bj_mapInitialPlayableArea),GetRectMinY(bj_mapInitialPlayableArea),GetUnitX(JP4)+800,GetUnitY(JP4)+800)
call SetPlayerAbilityAvailable(C7,1098018609,false)
call SetUnitColor(I34,gL)
call SetUnitColor(I_4,gL)
call SetUnitColor(I04,JL)
call SetUnitColor(IL4,JL)
call SetUnitColor(J44,JL)
call SetUnitColor(J74,JL)
call SetUnitColor(J84,JL)
call SetUnitColor(J94,JL)
call SetUnitColor(JD4,JL)
call DL9(JG4,true)
call DL9(JH4,true)
call DL9(JI4,true)
call DL9(JJ4,true)
call DL9(JK4,true)
call DL9(JM4,true)
call DL9(JN4,true)
call DL9(JO4,true)
call DL9(JP4,true)
call DL9(JQ4,true)
call DL9(JR4,true)
call DL9(JF4,true)
call DL9(JS4,true)
call DL9(JT4,true)
call DL9(JU4,true)
call DL9(JV4,true)
call DL9(JW4,true)
call DL9(JX4,true)
call DL9(WP,true)
call DL9(zP,true)
call DL9(vq,true)
call DL9(eq,true)
call DL9(fP,true)
call DL9(FP,true)
call DL9(lP,true)
call DL9(LP,true)
call DL9(MP,true)
call DL9(pP,true)
call DL9(PP,true)
call DL9(qP,true)
call DL9(QP,true)
call DL9(sP,true)
call DL9(tP,true)
set JY4=GetUnitX(lK)
set JZ4=GetUnitY(lK)
set rq=GetUnitX(cK)
set iq=GetUnitY(cK)
set aq=GetUnitX(CK)
set Eq=GetUnitY(CK)
set Rq=GetUnitX(dK)
set Aq=GetUnitY(dK)
set Nq=GetUnitX(bK)
set bq=GetUnitY(bK)
set Bq=GetUnitX(AK)
set cq=GetUnitY(AK)
set Cq=GetUnitX(OK)
set Dq=GetUnitY(OK)
set fq=GetUnitX(XK)
set Fq=GetUnitY(XK)
set Hq=GetUnitX(NK)
set jq=GetUnitY(NK)
set Jq=GetUnitX(BK)
set Mq=GetUnitY(BK)
set qq=GetUnitX(QJ)
set Qq=GetUnitY(QJ)
set Sq=GetUnitX(WK)
set tq=GetUnitY(WK)
set Uq=GetUnitX(HJ)
set zq=GetUnitY(HJ)
set Zq=GetUnitX(ZK)
set vQ=GetUnitY(ZK)
set eQ=GetUnitX(qJ)
set xQ=GetUnitY(qJ)
set oQ=GetUnitX(UJ)
set iQ=GetUnitY(UJ)
set aQ=GetUnitX(vl)
set EQ=GetUnitY(vl)
set OQ=GetUnitX(PJ)
set RQ=GetUnitY(PJ)
set AQ=GetUnitX(EK)
set NQ=GetUnitY(EK)
set bQ=GetUnitX(el)
set BQ=GetUnitY(el)
set cQ=GetUnitX(Bl)
set CQ=GetUnitY(Bl)
set fQ=GetUnitX(xl)
set FQ=GetUnitY(xl)
set hQ=GetUnitX(SK)
set HQ=GetUnitY(SK)
set lQ=GetUnitX(VK)
set LQ=GetUnitY(VK)
set mQ=GetUnitX(QK)
set MQ=GetUnitY(QK)
set PQ=GetUnitX(bl)
set QQ=GetUnitY(bl)
set SQ=GetUnitX(aK)
set UQ=GetUnitY(aK)
set WQ=GetUnitX(zK)
set zQ=GetUnitY(zK)
set ZQ=GetUnitX(Nl)
set vs=GetUnitY(Nl)
set es=GetUnitX(El)
set os=GetUnitY(El)
set rs=GetUnitX(rl)
set as=GetUnitY(rl)
set ns=GetUnitX(Rl)
set Vs=GetUnitY(Rl)
set Es=GetUnitX(xK)
set Xs=GetUnitY(xK)
set Rs=GetUnitX(Ol)
set As=GetUnitY(Ol)
set Ns=GetUnitX(ol)
set bs=GetUnitY(ol)
set Bs=GetUnitX(al)
set cs=GetUnitY(al)
set Cs=GetUnitX(Xl)
set Ds=GetUnitY(Xl)
set fs=GetUnitX(cl)
set Fs=GetUnitY(cl)
set Hs=GetUnitX(vK)
set js=GetUnitY(vK)
set Js=GetUnitX(TK)
set Ks=GetUnitY(TK)
set ls=GetUnitX(eK)
set Ls=GetUnitY(eK)
set ms=GetUnitX(Al)
set Ms=GetUnitY(Al)
set ps=GetUnitX(Vl)
set Ps=GetUnitY(Vl)
set Qs=GetUnitX(wK)
set Ss=GetUnitY(wK)
call RemoveUnit(El)
call RemoveUnit(rl)
call RemoveUnit(Rl)
call RemoveUnit(xK)
call RemoveUnit(Ol)
call RemoveUnit(ol)
call RemoveUnit(al)
call RemoveUnit(Xl)
call RemoveUnit(cl)
call RemoveUnit(vK)
call RemoveUnit(TK)
call RemoveUnit(HJ)
call RemoveUnit(UJ)
call RemoveUnit(EK)
call RemoveUnit(ZK)
call RemoveUnit(vl)
call RemoveUnit(el)
call RemoveUnit(qJ)
call RemoveUnit(PJ)
call RemoveUnit(Bl)
call RemoveUnit(xl)
call RemoveUnit(SK)
call RemoveUnit(VK)
call RemoveUnit(QK)
call RemoveUnit(bl)
call RemoveUnit(aK)
call RemoveUnit(zK)
call RemoveUnit(Nl)
call RemoveUnit(eK)
call RemoveUnit(Al)
call RemoveUnit(Vl)
call RemoveUnit(wK)
call RemoveUnit(WK)
call RemoveUnit(AK)
call RemoveUnit(OK)
call RemoveUnit(XK)
call RemoveUnit(NK)
call RemoveUnit(BK)
call RemoveUnit(QJ)
call RemoveUnit(dK)
call RemoveUnit(CK)
call RemoveUnit(lK)
call RemoveUnit(cK)
call RemoveUnit(bK)
set JA4=CreateUnit(A7[0],1852073580,JY4,JZ4,270)
set JB4=CreateUnit(C7,1849897781,rq,iq,270)
set zs=CreateUnit(C7,1848652107,aq,Eq,270)
set Zs=CreateUnit(C7,1849897784,Rq,Aq,270)
set JC4=CreateUnit(C7,1966092369,Nq,bq,270)
set eS=CreateUnit(C7,1848651862,Bq,cq,0)
set oS=CreateUnit(C7,1848651863,Cq,Dq,0)
set rS=CreateUnit(C7,1848651826,fq,Fq,0)
set aS=CreateUnit(C7,1848651864,Hq,jq,0)
set nS=CreateUnit(C7,1848651833,Jq,Mq,0)
set VS=CreateUnit(C7,1848657989,qq,Qq,0)
set J34=CreateUnit(A7[0],1970172012,Sq,tq,220)
set J64=CreateUnit(A7[0],1966092365,Uq,zq,270)
set JL4=CreateUnit(A7[0],1966092365,Zq,vQ,270)
set J14=CreateUnit(A7[0],1966092365,eQ,xQ,270)
set J04=CreateUnit(A7[0],1966092356,oQ,iQ,270)
set J54=CreateUnit(A7[0],1966092356,aQ,EQ,270)
set J24=CreateUnit(A7[0],1966092356,OQ,RQ,270)
set J_4=CreateUnit(A7[0],1966092366,AQ,NQ,270)
set K44=CreateUnit(A7[0],1966092366,bQ,BQ,270)
set K74=CreateUnit(A7[0],1966092366,cQ,CQ,270)
set K84=CreateUnit(A7[0],1966092372,fQ,FQ,270)
set K94=CreateUnit(A7[0],1966092372,hQ,HQ,270)
set KD4=CreateUnit(A7[0],1970496880,lQ,LQ,270)
set KE4=CreateUnit(A7[0],1970496880,mQ,MQ,270)
set KF4=CreateUnit(A7[0],1970496880,PQ,QQ,270)
set KG4=CreateUnit(A7[0],1970564964,SQ,UQ,270)
set KH4=CreateUnit(A7[0],1970564964,WQ,zQ,270)
set KI4=CreateUnit(A7[0],1970564964,ZQ,vs,270)
call PG7()
set PS=CreateUnit(A7[0],1970956647,es,os,270)
set QS=CreateUnit(A7[0],1970956647,rs,as,270)
set SS=CreateUnit(A7[0],1970956647,ns,Vs,270)
set tS=CreateUnit(A7[0],1970956647,Es,Xs,270)
set TS=CreateUnit(A7[0],1970956647,Rs,As,270)
set US=CreateUnit(A7[0],1970956647,Ns,bs,270)
set WS=CreateUnit(A7[0],1970956647,Bs,cs,270)
set ZS=CreateUnit(A7[0],1970956647,Cs,Ds,270)
set vt=CreateUnit(A7[0],1970956647,fs,Fs,270)
set et=CreateUnit(A7[0],1970956647,Hs,js,270)
set xt=CreateUnit(A7[0],1970956647,Js,Ks,270)
set ot=CreateUnit(A7[0],1970495856,ls,Ls,270)
set rt=CreateUnit(A7[0],1970495856,ms,Ms,270)
set at=CreateUnit(A7[0],1969385326,ps,Ps,270)
set Vt=CreateUnit(A7[0],1969385326,Qs,Ss,270)
set QN4=Rect(GetUnitX(J_4)-800,GetUnitY(J_4)-800,GetRectMaxX(bj_mapInitialPlayableArea),GetRectMaxY(bj_mapInitialPlayableArea))
set QO4=Rect(GetUnitX(K44)-1132,GetUnitY(K44)-1132,GetRectMaxX(bj_mapInitialPlayableArea),GetRectMaxY(bj_mapInitialPlayableArea))
set QP4=Rect(GetUnitX(K74)-800,GetUnitY(K74)-800,GetRectMaxX(bj_mapInitialPlayableArea),GetRectMaxY(bj_mapInitialPlayableArea))
call SetUnitColor(JB4,hL)
call SetUnitColor(Zs,JL)
call SetUnitColor(zs,JL)
call SetUnitColor(eS,JL)
call SetUnitColor(oS,JL)
call SetUnitColor(rS,JL)
call SetUnitColor(aS,JL)
call SetUnitColor(nS,JL)
call DL9(J64,true)
call DL9(JL4,true)
call DL9(J14,true)
call DL9(J04,true)
call DL9(J54,true)
call DL9(J24,true)
call DL9(J_4,true)
call DL9(K44,true)
call DL9(K74,true)
call DL9(K84,true)
call DL9(K94,true)
call DL9(J34,true)
call DL9(KD4,true)
call DL9(KE4,true)
call DL9(KF4,true)
call DL9(KG4,true)
call DL9(KH4,true)
call DL9(KI4,true)
call DL9(ot,true)
call DL9(rt,true)
call DL9(at,true)
call DL9(Vt,true)
call DL9(PS,true)
call DL9(QS,true)
call DL9(SS,true)
call DL9(tS,true)
call DL9(TS,true)
call DL9(US,true)
call DL9(WS,true)
call DL9(ZS,true)
call DL9(vt,true)
call DL9(et,true)
call DL9(xt,true)
set I2H=GetUnitX(wJ)
set I_H=GetUnitY(wJ)
set J4H=GetUnitX(ZJ)
set J7H=GetUnitY(ZJ)
set J8H=GetUnitX(zJ)
set J9H=GetUnitY(zJ)
set JDH=GetUnitX(WJ)
set JEH=GetUnitY(WJ)
set JFH=GetUnitX(yJ)
set JGH=GetUnitY(yJ)
set JHH=GetUnitX(FK)
set JIH=GetUnitY(FK)
set JJH=GetUnitX(fK)
set JKH=GetUnitY(fK)
set JMH=GetUnitX(JK)
set JNH=GetUnitY(JK)
set JOH=GetUnitX(gK)
set JPH=GetUnitY(gK)
set JQH=GetUnitX(GK)
set JRH=GetUnitY(GK)
set IC8=125
call RemoveUnit(wJ)
call RemoveUnit(ZJ)
call RemoveUnit(zJ)
call RemoveUnit(WJ)
call RemoveUnit(yJ)
call RemoveUnit(FK)
call RemoveUnit(fK)
call RemoveUnit(JK)
call RemoveUnit(gK)
call RemoveUnit(GK)
set KJ4=CreateUnit(Player(1),1852010352,I2H,I_H,270)
call UnitAddAbility(KJ4,1093743665)
call ClearSelectionForPlayer(Player(1))
call SelectUnitAddForPlayer(KJ4,Player(1))
if GetLocalPlayer()==Player(1)then
call SetUnitVertexColor(KJ4,255,255,255,255)
else
call SetUnitVertexColor(KJ4,255,255,255,IC8)
endif
set KK4=CreateUnit(Player(2),1852010352,J4H,J7H,270)
call UnitAddAbility(KK4,1093743665)
call ClearSelectionForPlayer(Player(2))
call SelectUnitAddForPlayer(KK4,Player(2))
if GetLocalPlayer()==Player(2)then
call SetUnitVertexColor(KK4,255,255,255,255)
else
call SetUnitVertexColor(KK4,255,255,255,IC8)
endif
set KM4=CreateUnit(Player(3),1852010352,J8H,J9H,270)
call UnitAddAbility(KM4,1093743665)
call ClearSelectionForPlayer(Player(3))
call SelectUnitAddForPlayer(KM4,Player(3))
if GetLocalPlayer()==Player(3)then
call SetUnitVertexColor(KM4,255,255,255,255)
else
call SetUnitVertexColor(KM4,255,255,255,IC8)
endif
set KN4=CreateUnit(Player(4),1852010352,JDH,JEH,270)
call UnitAddAbility(KN4,1093743665)
call ClearSelectionForPlayer(Player(4))
call SelectUnitAddForPlayer(KN4,Player(4))
if GetLocalPlayer()==Player(4)then
call SetUnitVertexColor(KN4,255,255,255,255)
else
call SetUnitVertexColor(KN4,255,255,255,IC8)
endif
set KO4=CreateUnit(Player(5),1852010352,JFH,JGH,270)
call UnitAddAbility(KO4,1093743665)
call ClearSelectionForPlayer(Player(5))
call SelectUnitAddForPlayer(KO4,Player(5))
if GetLocalPlayer()==Player(5)then
call SetUnitVertexColor(KO4,255,255,255,255)
else
call SetUnitVertexColor(KO4,255,255,255,IC8)
endif
set KP4=CreateUnit(Player(7),1852010352,JHH,JIH,270)
call UnitAddAbility(KP4,1093752649)
call ClearSelectionForPlayer(Player(7))
call SelectUnitAddForPlayer(KP4,Player(7))
if GetLocalPlayer()==Player(7)then
call SetUnitVertexColor(KP4,255,255,255,255)
else
call SetUnitVertexColor(KP4,255,255,255,IC8)
endif
set KQ4=CreateUnit(Player(8),1852010352,JJH,JKH,270)
call UnitAddAbility(KQ4,1093752649)
call ClearSelectionForPlayer(Player(8))
call SelectUnitAddForPlayer(KQ4,Player(8))
if GetLocalPlayer()==Player(8)then
call SetUnitVertexColor(KQ4,255,255,255,255)
else
call SetUnitVertexColor(KQ4,255,255,255,IC8)
endif
set KR4=CreateUnit(Player(9),1852010352,JMH,JNH,270)
call UnitAddAbility(KR4,1093752649)
call ClearSelectionForPlayer(Player(9))
call SelectUnitAddForPlayer(KR4,Player(9))
if GetLocalPlayer()==Player(9)then
call SetUnitVertexColor(KR4,255,255,255,255)
else
call SetUnitVertexColor(KR4,255,255,255,IC8)
endif
set KS4=CreateUnit(Player(10),1852010352,JOH,JPH,270)
call UnitAddAbility(KS4,1093752649)
call ClearSelectionForPlayer(Player(10))
call SelectUnitAddForPlayer(KS4,Player(10))
if GetLocalPlayer()==Player(10)then
call SetUnitVertexColor(KS4,255,255,255,255)
else
call SetUnitVertexColor(KS4,255,255,255,IC8)
endif
set KT4=CreateUnit(Player(11),1852010352,JQH,JRH,270)
call UnitAddAbility(KT4,1093752649)
call ClearSelectionForPlayer(Player(11))
call SelectUnitAddForPlayer(KT4,Player(11))
if GetLocalPlayer()==Player(11)then
call SetUnitVertexColor(KT4,255,255,255,255)
else
call SetUnitVertexColor(KT4,255,255,255,IC8)
endif
set KU4[1]=KJ4
set KU4[2]=KK4
set KU4[3]=KM4
set KU4[4]=KN4
set KU4[5]=KO4
set KU4[7]=KP4
set KU4[8]=KQ4
set KU4[9]=KR4
set KU4[10]=KS4
set KU4[11]=KT4
set KV4[1]=GetUnitX(KJ4)
set KV4[2]=GetUnitX(KK4)
set KV4[3]=GetUnitX(KM4)
set KV4[4]=GetUnitX(KN4)
set KV4[5]=GetUnitX(KO4)
set KV4[7]=GetUnitX(KP4)
set KV4[8]=GetUnitX(KQ4)
set KV4[9]=GetUnitX(KR4)
set KV4[10]=GetUnitX(KS4)
set KV4[11]=GetUnitX(KT4)
set KW4[1]=GetUnitY(KJ4)
set KW4[2]=GetUnitY(KK4)
set KW4[3]=GetUnitY(KM4)
set KW4[4]=GetUnitY(KN4)
set KW4[5]=GetUnitY(KO4)
set KW4[7]=GetUnitY(KP4)
set KW4[8]=GetUnitY(KQ4)
set KW4[9]=GetUnitY(KR4)
set KW4[10]=GetUnitY(KS4)
set KW4[11]=GetUnitY(KT4)
call I18()
call J48()
call L07(1702061422,"stand 4")
call L07(1697656918,"stand 4")
call L07(1701081721,"spell")
call L07(1697656919,"spell")
call L07(1969711215,"stand victory")
call L07(1966092337,"stand victory")
call L07(1970169187,"stand channel")
call L07(1966092338,"stand channel")
call L37(V24,0.4,V24)
call L37(W44,0.5,W44)
call L37(V14,1.2,V14)
call L37(V04,0.5,V04)
call L37(V54,0.5,V54)
call L37(W74,1,W74)
set t=CreateTrigger()
set j8=Player(15)
set JSH=GetUnitX(qK)
set JTH=GetUnitY(qK)
set JUH=GetUnitX(tJ)
set JVH=GetUnitY(tJ)
set JWH=GetUnitX(LK)
set JXH=GetUnitY(LK)
set JYH=GetUnitX(SJ)
set JZH=GetUnitY(SJ)
set JAH=GetUnitX(IF4)
set JBH=GetUnitY(IF4)
set JCH=GetUnitX(cJ)
set J3H=GetUnitY(cJ)
set J6H=GetUnitX(gJ)
set JLH=GetUnitY(gJ)
set J1H=GetUnitX(PK)
set J0H=GetUnitY(PK)
set J5H=GetUnitX(Cl)
set J2H=GetUnitY(Cl)
set K7H=GetUnitX(XT4)
set K8H=GetUnitY(XT4)
set J_H=GetUnitX(XV4)
set K4H=GetUnitY(XV4)
set K9H=GetUnitX(XU4)
set KDH=GetUnitY(XU4)
call RemoveUnit(qK)
call RemoveUnit(IF4)
call RemoveUnit(tJ)
call RemoveUnit(SJ)
call RemoveUnit(LK)
call RemoveUnit(cJ)
call RemoveUnit(gJ)
call RemoveUnit(PK)
call RemoveUnit(Cl)
call RemoveUnit(XT4)
call RemoveUnit(XV4)
call RemoveUnit(XU4)
set MP4=CreateUnit(j8,1848651832,JYH,JZH,270)
set MQ4=CreateUnit(j8,1848657738,JAH,JBH,270)
set MR4=CreateUnit(j8,1848652100,JCH,J3H,270)
set MS4=CreateUnit(j8,1848659016,J_H,K4H,270)
set MT4=CreateUnit(j8,1848652110,JSH,JTH,270)
set MU4=CreateUnit(j8,1848651831,JUH,JVH,270)
set MV4=CreateUnit(j8,1848651829,JWH,JXH,270)
set MW4=CreateUnit(j8,1848659017,K7H,K8H,270)
set MX4=CreateUnit(j8,1848652098,J6H,JLH,270)
set MY4=CreateUnit(j8,1848652112,J1H,J0H,270)
set MZ4=CreateUnit(j8,1848657739,J5H,J2H,270)
set MA4=CreateUnit(j8,1848659018,K9H,KDH,270)
call SetUnitColor(MP4,ConvertPlayerColor(1))
call SetUnitColor(MQ4,ConvertPlayerColor(1))
call SetUnitColor(MR4,ConvertPlayerColor(9))
call SetUnitColor(MS4,ConvertPlayerColor(9))
call SetUnitColor(MT4,ConvertPlayerColor(6))
call SetUnitColor(MU4,ConvertPlayerColor(6))
call SetUnitColor(MV4,ConvertPlayerColor(10))
call SetUnitColor(MW4,ConvertPlayerColor(10))
call SetUnitColor(MX4,ConvertPlayerColor(0))
call SetUnitColor(MY4,ConvertPlayerColor(0))
call SetUnitColor(MZ4,ConvertPlayerColor(11))
call SetUnitColor(MA4,ConvertPlayerColor(11))
set D87[1]=MP4
set D87[2]=MQ4
set D87[3]=MR4
set D87[4]=MS4
set D87[5]=MT4
set D87[6]=MU4
set D87[7]=MV4
set D87[8]=MW4
set D87[9]=MX4
set D87[10]=MY4
set D87[11]=MZ4
set D87[12]=MA4
call VW9()
call VV9()
set t=null
call J88()
call JJ8()
set ZR=CreateTrigger()
call TriggerRegisterTimerEventSingle(ZR,0.01)
call TriggerAddAction(ZR,function JK8)
set t=CreateTrigger()
call TriggerRegisterPlayerEventLeave(t,Z7[1])
call TriggerRegisterPlayerEventLeave(t,Z7[2])
call TriggerRegisterPlayerEventLeave(t,Z7[3])
call TriggerRegisterPlayerEventLeave(t,Z7[4])
call TriggerRegisterPlayerEventLeave(t,Z7[5])
call TriggerRegisterPlayerEventLeave(t,A7[1])
call TriggerRegisterPlayerEventLeave(t,A7[2])
call TriggerRegisterPlayerEventLeave(t,A7[3])
call TriggerRegisterPlayerEventLeave(t,A7[4])
call TriggerRegisterPlayerEventLeave(t,A7[5])
call TriggerAddAction(t,function JW8)
if V8 then
call JN8()
set t=CreateTrigger()
if IsPlayerObserver(KX4)then
call TriggerRegisterPlayerEventLeave(t,KX4)
endif
if IsPlayerObserver(KY4)then
call TriggerRegisterPlayerEventLeave(t,KY4)
endif
call TriggerAddAction(t,function JQ8)
endif
set U2[0]=false
set U2[1]=false
set U2[2]=false
set U2[3]=false
set U2[4]=false
set U2[5]=false
set U2[6]=false
set U2[7]=false
set U2[8]=false
set U2[9]=false
set U2[10]=false
set U2[11]=false
set U2[12]=false
set U2[13]=false
set U2[14]=false
set U2[15]=false
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_HERO_REVIVE_FINISH)
call TriggerAddAction(t,function V4G)
set t=CreateTrigger()
call TriggerRegisterEnterRectSimple(t,bj_mapInitialPlayableArea)
call TriggerAddCondition(t,Condition(function WG8))
call TriggerAddAction(t,function W68)
set ML4=t
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SELL)
call TriggerAddAction(t,function W28)
call TriggerAddCondition(t,Condition(function W58))
set M04=t
set M54=CreateTrigger()
call TriggerRegisterTimerEvent(M54,0.8,true)
call TriggerAddCondition(M54,Condition(function W_8))
call DisableTrigger(M54)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,.5,true)
call TriggerAddAction(t,function EF9)
set M24=t
call DB9(0,0,false)
call X88()
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.5,true)
call D28(t,EVENT_PLAYER_UNIT_SELL)
call TriggerAddCondition(t,Condition(function X98))
set t=null
call DH8(1093809990)
call DH8(1093810008)
call DH8(1093809992)
call DH8(1093810006)
call DH8(1093809991)
call DH8(1093809993)
call DH8(1093809995)
call DH8(1093809994)
set DS=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(DS,Z7[0],EVENT_PLAYER_UNIT_DEATH,Condition(function ZY7))
call TriggerRegisterPlayerUnitEvent(DS,A7[0],EVENT_PLAYER_UNIT_DEATH,Condition(function ZY7))
call TriggerRegisterPlayerUnitEvent(DS,B7,EVENT_PLAYER_UNIT_DEATH,Condition(function ZY7))
call TriggerAddAction(DS,function XF8)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerAddCondition(t,Condition(function BB8))
set t=null
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function CY8))
call TriggerAddAction(t,function C18)
set ES=t
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function LX8))
set t=null
set NZ4=CreateTrigger()
call TriggerAddCondition(NZ4,Condition(function LC8))
set ZI=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(ZI,B7,EVENT_PLAYER_UNIT_DEATH,Condition(function ZY7))
call TriggerAddCondition(ZI,Condition(function L08))
call TriggerAddAction(ZI,function L_8)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Z7[0],EVENT_PLAYER_UNIT_DEATH,Condition(function ZY7))
call TriggerRegisterPlayerUnitEvent(t,A7[0],EVENT_PLAYER_UNIT_DEATH,Condition(function ZY7))
call TriggerAddCondition(t,Condition(function DF9))
set t=CreateTrigger()
call TriggerAddCondition(t,Condition(function DT9))
call TriggerRegisterTimerEvent(t,6,false)
set t=null
set EV=EV+1
set SU[EV]=1227900486
set ZU[EV]=1227900487
set AU[EV]=0
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSelectHeroOn.blp"
set LU[EV]=0
set EV=EV+1
set SU[EV]=1227895377
set ZU[EV]=1227895375
set AU[EV]=1747988785
set BU[EV]=1227894849
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBootsOfSpeed.blp"
set LU[EV]=0
set FV=EV
set EV=EV+1
set SU[EV]=1227895379
set ZU[EV]=1227895376
set AU[EV]=1747988786
set BU[EV]=1227899713
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNGlove.blp"
set LU[EV]=0
set JV=EV
set EV=EV+1
set SU[EV]=1227895374
set ZU[EV]=1227895378
set AU[EV]=1747988787
set BU[EV]=1227899731
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBoots.blp"
set LU[EV]=0
set MV=EV
set EV=EV+1
set SU[EV]=1227895384
set ZU[EV]=1227895385
set AU[EV]=1747988789
set BU[EV]=1227899956
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNCirclet.blp"
set LU[EV]=0
set NV=EV
set EV=EV+1
set SU[EV]=1227895386
set ZU[EV]=1227895859
set AU[EV]=1747988790
set BU[EV]=1227899734
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBelt.blp"
set LU[EV]=0
set OV=EV
set EV=EV+1
set SU[EV]=1227895600
set ZU[EV]=1227895860
set AU[EV]=1747988791
set BU[EV]=1227899954
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_ThrowingKnife_03.blp"
set LU[EV]=0
set QV=EV
set EV=EV+1
set SU[EV]=1227895601
set ZU[EV]=1227895861
set AU[EV]=1747988792
set BU[EV]=1227899957
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNClawsOfAttack.blp"
set LU[EV]=0
set SV=EV
set EV=EV+1
set SU[EV]=1227895602
set ZU[EV]=1227895862
set AU[EV]=1747988793
set BU[EV]=1227899738
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSteelMelee.blp"
set LU[EV]=0
set TV=EV
set EV=EV+1
set SU[EV]=1227895603
set ZU[EV]=1227895863
set AU[EV]=1747988801
set BU[EV]=1227899959
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Chest_Chain_12.blp"
set LU[EV]=0
set UV=EV
set EV=EV+1
set SU[EV]=1227895604
set ZU[EV]=1227895864
set AU[EV]=1747988802
set BU[EV]=1227899736
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Sword_19.blp"
set LU[EV]=0
set XV=EV
set EV=EV+1
set SU[EV]=1227895605
set ZU[EV]=1227895865
set AU[EV]=1747988803
set BU[EV]=1227899721
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNFrostMourne.blp"
set LU[EV]=0
set AV=EV
set EV=EV+1
set SU[EV]=1227895606
set ZU[EV]=1227895873
set AU[EV]=1747988804
set BU[EV]=1227899720
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Weapon_Bow_06.blp"
set LU[EV]=0
set BV=EV
set EV=EV+1
set SU[EV]=1227895607
set ZU[EV]=1227895874
set AU[EV]=1747988805
set BU[EV]=1227899730
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNEnchantedGemstone.blp"
set LU[EV]=0
set CV=EV
set EV=EV+1
set SU[EV]=1227895608
set ZU[EV]=1227895875
set AU[EV]=1747988806
set BU[EV]=1227899722
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNGauntletsOfOgrePower.blp"
set LU[EV]=0
set LV=EV
set EV=EV+1
set SU[EV]=1227895609
set ZU[EV]=1227895876
set AU[EV]=1747988807
set BU[EV]=1227899975
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNGem.blp"
set LU[EV]=0
set EW=EV
set EV=EV+1
set SU[EV]=1227902291
set ZU[EV]=1227902290
set AU[EV]=0
set BU[EV]=1227902292
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNGem.blp"
set LU[EV]=0
set HW=EV
set EV=EV+1
set EV=EV+1
set SU[EV]=1227895618
set ZU[EV]=1227895877
set AU[EV]=1747988808
set BU[EV]=1227899969
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNHelmutPurple.blp"
set LU[EV]=0
set NW=EV
set EV=EV+1
set SU[EV]=1227895619
set ZU[EV]=1227895878
set AU[EV]=1747988809
set BU[EV]=1227899729
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNPeriapt1.blp"
set LU[EV]=0
set OW=EV
set EV=EV+1
set SU[EV]=1227895620
set ZU[EV]=1227895879
set AU[EV]=1747988810
set BU[EV]=1227899733
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNNatureTouchGrow.blp"
set LU[EV]=0
set QW=EV
set EV=EV+1
set SU[EV]=1227895621
set ZU[EV]=1227895880
set AU[EV]=1747988811
set BU[EV]=1227899703
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNDaggerOfEscape.blp"
set LU[EV]=14
set RW=EV
set EV=EV+1
set SU[EV]=1227895621
set ZU[EV]=1227895881
set AU[EV]=1747988811
set BU[EV]=1227899976
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNDaggerOfEscape.blp"
set LU[EV]=0
set TW=EV
set EV=EV+1
set SU[EV]=1227895622
set ZU[EV]=1227895882
set AU[EV]=1747988812
set BU[EV]=1227899725
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNMantleOfIntelligence.blp"
set LU[EV]=0
set UW=EV
set EV=EV+1
set SU[EV]=1227895623
set ZU[EV]=1227895883
set AU[EV]=1747988813
set BU[EV]=1227899716
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNUndeadShrine.blp"
set LU[EV]=0
set VW=EV
set EV=EV+1
set SU[EV]=1227895624
set ZU[EV]=1227895884
set AU[EV]=1747988814
set BU[EV]=1227899719
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSpiritWalkerMasterTraining.blp"
set LU[EV]=0
set YW=EV
set EV=EV+1
set SU[EV]=1227895625
set ZU[EV]=1227895885
set AU[EV]=1747988815
set BU[EV]=1227899952
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNHammer.blp"
set LU[EV]=0
set ZW=EV
set EV=EV+1
set SU[EV]=1227895626
set ZU[EV]=1227895886
set AU[EV]=1747988816
set BU[EV]=1227899726
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNStaffOfNegation.blp"
set LU[EV]=0
set GX=EV
set EV=EV+1
set SU[EV]=1227895627
set ZU[EV]=1227895887
set AU[EV]=1747988817
set BU[EV]=1227899960
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSpiritWalkerAdeptTraining.tga"
set LU[EV]=0
set NX=EV
set EV=EV+1
set SU[EV]=1227895628
set ZU[EV]=1227895888
set AU[EV]=1747988818
set BU[EV]=1227899717
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Misc_Cape_08.blp"
set LU[EV]=0
set RX=EV
set EV=EV+1
set SU[EV]=1227895629
set ZU[EV]=1227895889
set AU[EV]=1747988819
set BU[EV]=1227899970
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Chest_Plate13.blp"
set LU[EV]=0
set SX=EV
set EV=EV+1
set SU[EV]=1227895630
set ZU[EV]=1227895890
set AU[EV]=1747988820
set BU[EV]=1227899724
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNUsedSoulGem.blp"
set LU[EV]=0
set WX=EV
set EV=EV+1
set SU[EV]=1227895632
set ZU[EV]=1227895891
set AU[EV]=1747988821
set BU[EV]=1227899737
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNAlleriaFlute.blp"
set LU[EV]=0
set YX=EV
set EV=EV+1
set SU[EV]=1227895633
set ZU[EV]=1227895892
set AU[EV]=1747988822
set BU[EV]=1227899977
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNGoldRing.blp"
set LU[EV]=0
set ZX=EV
set EV=EV+1
set SU[EV]=1227895634
set ZU[EV]=1227895893
set AU[EV]=1747988823
set BU[EV]=1227899735
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRingPurple.blp"
set LU[EV]=0
set AX=EV
set EV=EV+1
set SU[EV]=1227895635
set ZU[EV]=1227895894
set AU[EV]=1747988824
set BU[EV]=1227899978
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRingSkull.blp"
set LU[EV]=0
set GY=EV
set EV=EV+1
set SU[EV]=1227895636
set ZU[EV]=1227895895
set AU[EV]=1747988825
set BU[EV]=1227899728
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRobeOfTheMagi.blp"
set LU[EV]=0
set HY=EV
set EV=EV+1
set SU[EV]=1227895637
set ZU[EV]=1227895896
set AU[EV]=1747988826
set BU[EV]=1227899715
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNStaffOfTeleportation.blp"
set LU[EV]=0
set SY=EV
set EV=EV+1
set SU[EV]=1227895638
set ZU[EV]=1227895897
set AU[EV]=1747989040
set BU[EV]=1227899701
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSlippersOfAgility.blp"
set LU[EV]=0
set UY=EV
set EV=EV+1
set SU[EV]=1227895639
set ZU[EV]=1227895898
set AU[EV]=1747989041
set BU[EV]=1227899979
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSobiMask.blp"
set LU[EV]=0
set ZY=EV
set EV=EV+1
set SU[EV]=1227895640
set ZU[EV]=1227896112
set AU[EV]=1747989042
set BU[EV]=1227899953
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNWandOfCyclone.blp"
set LU[EV]=0
set DZ=EV
set EV=EV+1
set SU[EV]=1227895617
set ZU[EV]=1227896113
set AU[EV]=1747989043
set BU[EV]=1227899961
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSteelArmor.blp"
set LU[EV]=0
set EZ=EV
set EV=EV+1
set SU[EV]=1227901762
set ZU[EV]=1227901761
set AU[EV]=0
set BU[EV]=1227901763
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSteelArmor.blp"
set LU[EV]=0
set HZ=EV
set EV=EV+1
set SU[EV]=1227895641
set ZU[EV]=1227896114
set AU[EV]=1747989044
set BU[EV]=1227899705
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNOrbofSlowness.blp"
set LU[EV]=0
set NZ=EV
set EV=EV+1
set SU[EV]=1227895642
set ZU[EV]=1227896115
set AU[EV]=1747989045
set BU[EV]=1227899723
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSoulGem.blp"
set LU[EV]=0
set OZ=EV
set EV=EV+1
set SU[EV]=1227895856
set ZU[EV]=1227896116
set AU[EV]=1747989046
set BU[EV]=1227899980
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNPeriapt.blp"
set LU[EV]=0
set RZ=EV
set EV=EV+1
set SU[EV]=1227895857
set ZU[EV]=1227896117
set AU[EV]=1747989047
set BU[EV]=1227899958
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSteelRanged.blp"
set LU[EV]=0
set UZ=EV
set EV=EV+1
set SU[EV]=1227894860
set ZU[EV]=1227899222
set AU[EV]=1747989058
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBottle0.blp"
set LU[EV]=0
set XZ=EV
set EV=EV+1
set SU[EV]=1227896133
set ZU[EV]=1227899213
set AU[EV]=0
set BU[EV]=1227899982
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBottle0.blp"
set LU[EV]=0
set AZ=EV
set EV=EV+1
set SU[EV]=1227899221
set ZU[EV]=1227899214
set AU[EV]=0
set BU[EV]=1227899983
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBottle1.blp"
set LU[EV]=0
set BZ=EV
set EV=EV+1
set SU[EV]=1227899219
set ZU[EV]=1227899215
set AU[EV]=0
set BU[EV]=1227899984
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBottle2.blp"
set LU[EV]=0
set CZ=EV
set EV=EV+1
set SU[EV]=1227899220
set ZU[EV]=1227899216
set AU[EV]=0
set BU[EV]=1227899985
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBottle3.blp"
set LU[EV]=0
set IA=EV
set EV=EV+1
set SU[EV]=1227900759
set ZU[EV]=1227900761
set AU[EV]=0
set BU[EV]=1227900979
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBottle_Illusion.blp"
set LU[EV]=0
set YA=EV
set EV=EV+1
set SU[EV]=1227900978
set ZU[EV]=1227900760
set AU[EV]=0
set BU[EV]=1227899986
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBottle_Regeneration.blp"
set LU[EV]=0
set WA=EV
set EV=EV+1
set SU[EV]=1227900758
set ZU[EV]=1227900977
set AU[EV]=0
set BU[EV]=1227900980
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBottle_Haste.blp"
set LU[EV]=0
set QA=EV
set EV=EV+1
set SU[EV]=1227899218
set ZU[EV]=1227900976
set AU[EV]=0
set BU[EV]=1227900982
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBottle_DoubleDamage.blp"
set LU[EV]=0
set NA=EV
set EV=EV+1
set SU[EV]=1227899217
set ZU[EV]=1227900762
set AU[EV]=0
set BU[EV]=1227900981
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBottle_Invisibility.blp"
set LU[EV]=0
set JA=EV
set EV=EV+1
set SU[EV]=1227900740
set ZU[EV]=1227900739
set AU[EV]=1747990324
set BU[EV]=1227900741
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNWand.blp"
set LU[EV]=17
set ZA=EV
set EV=EV+1
set SU[EV]=1227900995
set ZU[EV]=1227900994
set AU[EV]=0
set BU[EV]=1227900993
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNStarWand.blp"
set LU[EV]=17
set DT4=EV
set EV=EV+1
set SU[EV]=1227901012
set ZU[EV]=1227901010
set AU[EV]=1747990359
set BU[EV]=1227901014
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNOrcMeleeUpTwo.blp"
set LU[EV]=5
set BA=EV
set EV=EV+1
set SU[EV]=1227901013
set ZU[EV]=1227901008
set AU[EV]=0
set BU[EV]=1227901015
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNOrcMeleeUpTwo.blp"
set LU[EV]=5
set GB=EV
set EV=EV+1
set SU[EV]=1227902516
set ZU[EV]=1227902515
set AU[EV]=0
set BU[EV]=1227902517
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNPoisonBlade.blp"
set LU[EV]=30
set QB=EV
set EV=EV+1
set SU[EV]=1227902519
set ZU[EV]=1227902518
set AU[EV]=0
set BU[EV]=1227902520
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNPoisonBlade.blp"
set LU[EV]=30
set RB=EV
set EV=EV+1
set SU[EV]=1227901495
set ZU[EV]=1227901494
set AU[EV]=1747990579
set BU[EV]=1227901496
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNAmulet.blp"
set LU[EV]=0
set JB=EV
set EV=EV+1
set SU[EV]=1227901514
set ZU[EV]=1227901513
set AU[EV]=1747990583
set BU[EV]=1227901515
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNGreenStaff.blp"
set LU[EV]=30
set DA4=EV
set EV=EV+1
set SU[EV]=1227903033
set ZU[EV]=1227903042
set AU[EV]=1747993929
set BU[EV]=1227903041
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNPendantOfMana.blp"
set LU[EV]=0
set W3=EV
set EV=EV+1
set SU[EV]=1227902273
set ZU[EV]=1227902265
set AU[EV]=1747993421
set BU[EV]=1227902274
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNOrbOfVenom.blp"
set LU[EV]=0
set E_4=EV
set EV=EV+1
set SU[EV]=1227902276
set ZU[EV]=1227902277
set AU[EV]=0
set BU[EV]=1227902275
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNOrbOfVenom.blp"
set LU[EV]=0
set F44=EV
set EV=EV+1
set SU[EV]=1227896119
set ZU[EV]=1227896131
set AU[EV]=1747989057
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNAncientOfTheEarth.blp"
set LU[EV]=0
set TC=EV
set EV=EV+1
set SU[EV]=1227895858
set ZU[EV]=1227896132
set AU[EV]=1747989048
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNLesserClarityPotion.blp"
set LU[EV]=0
set OC=EV
set EV=EV+1
set SU[EV]=1227901007
set ZU[EV]=1227901006
set AU[EV]=1747990358
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNVialFull.blp"
set LU[EV]=0
set PC=EV
set EV=EV+1
set SU[EV]=1227896118
set ZU[EV]=1227896134
set AU[EV]=1747989049
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNHealingSalve.blp"
set LU[EV]=0
set QC=EV
set EV=EV+1
set SU[EV]=1227896120
set ZU[EV]=1227896135
set AU[EV]=1747989059
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSentryWard.blp"
set LU[EV]=0
set VC=EV
set EV=EV+1
set SU[EV]=1227896121
set ZU[EV]=1227896136
set AU[EV]=1747989060
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBlueSentryWard.blp"
set LU[EV]=0
set WC=EV
set EV=EV+1
set SU[EV]=1227896129
set ZU[EV]=1227896137
set AU[EV]=1747989061
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNScrollUber.blp"
set LU[EV]=0
set XC=EV
set EV=EV+1
set SU[EV]=1227896130
set ZU[EV]=1227896138
set AU[EV]=1747989062
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNCritterChicken.blp"
set LU[EV]=0
set ZC=EV
set EV=EV+1
set SU[EV]=1227899440
set ZU[EV]=1227899441
set AU[EV]=0
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNCheese.blp"
set LU[EV]=0
set AC=EV
set EV=EV+1
set SU[EV]=1227900743
set ZU[EV]=1227900742
set AU[EV]=1747990325
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNPotionOfDivinity.blp"
set LU[EV]=30
set BC=EV
set EV=EV+1
set SU[EV]=1227900745
set ZU[EV]=1227900744
set AU[EV]=1747990326
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNDustOfAppearance.blp"
set LU[EV]=60
set CC=EV
set EV=EV+1
set SU[EV]=1227901780
set ZU[EV]=1227901779
set AU[EV]=1747993145
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNWandOfManaSteal.blp"
set LU[EV]=0
set LC=EV
set EV=EV+1
set SU[EV]=1227902534
set ZU[EV]=1227902535
set AU[EV]=1747993651
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSmokePotion.blp"
set LU[EV]=90
set H3=EV
set EV=EV+1
set SU[EV]=1227896369
set ZU[EV]=1227896370
set AU[EV]=0
set BU[EV]=1227895114
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNOrbOfFire.blp"
set LU[EV]=0
set Y3=EV
set EV=EV+1
set SU[EV]=1227896372
set ZU[EV]=1227896371
set AU[EV]=0
set BU[EV]=1227895115
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Helmet_17.blp"
set LU[EV]=0
set Z3=EV
set EV=EV+1
set SU[EV]=1227896373
set ZU[EV]=1227896374
set AU[EV]=0
set BU[EV]=1227895116
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNThoriumArmor.blp"
set LU[EV]=25
set B3=EV
set EV=EV+1
set SU[EV]=1227896376
set ZU[EV]=1227896375
set AU[EV]=0
set BU[EV]=1227895117
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRingVioletSpider.tga"
set LU[EV]=0
set C3=EV
set EV=EV+1
set SU[EV]=1227896377
set ZU[EV]=1227896385
set AU[EV]=0
set BU[EV]=1227899702
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRingVioletSpider.tga"
set LU[EV]=0
set E6=EV
set EV=EV+1
set SU[EV]=1227896387
set ZU[EV]=1227896386
set AU[EV]=0
set BU[EV]=1227895120
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNAbility_Rogue_Sprint.blp"
set LU[EV]=60
set F6=EV
set EV=EV+1
set SU[EV]=1227895631
set ZU[EV]=1227895380
set AU[EV]=0
set BU[EV]=1227895122
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNWirtsLegGreen.blp"
set LU[EV]=0
set G6=EV
set EV=EV+1
set SU[EV]=1227895381
set ZU[EV]=1227896153
set AU[EV]=0
set BU[EV]=1227895121
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNWirtsLeg.blp"
set LU[EV]=0
set H6=EV
set EV=EV+1
set SU[EV]=1227896368
set ZU[EV]=1227896154
set AU[EV]=0
set BU[EV]=1227895123
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNWirtsLegBlue.blp"
set LU[EV]=0
set N6=EV
set EV=EV+1
set SU[EV]=1227896389
set ZU[EV]=1227896388
set AU[EV]=0
set BU[EV]=1227895124
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNGoldGloves.BLP"
set LU[EV]=100
set S6=EV
set EV=EV+1
set SU[EV]=1227902543
set ZU[EV]=1227902542
set AU[EV]=0
set BU[EV]=1227902544
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNGoldGloves.BLP"
set LU[EV]=100
set V6=EV
set EV=EV+1
set SU[EV]=1227896391
set ZU[EV]=1227896390
set AU[EV]=0
set BU[EV]=1227895125
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Mace_10.blp"
set LU[EV]=0
set W6=EV
set EV=EV+1
set SU[EV]=1227896393
set ZU[EV]=1227896392
set AU[EV]=0
set BU[EV]=1227895126
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRunedBracers.blp"
set LU[EV]=0
set A6=EV
set EV=EV+1
set SU[EV]=1227896395
set ZU[EV]=1227896394
set AU[EV]=0
set BU[EV]=1227895127
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRevenant.blp"
set LU[EV]=0
set DL=EV
set EV=EV+1
set SU[EV]=1227896397
set ZU[EV]=1227896396
set AU[EV]=0
set BU[EV]=1227895128
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNTalisman.tga"
set LU[EV]=0
set HL=EV
set EV=EV+1
set SU[EV]=1227896902
set ZU[EV]=1227896903
set AU[EV]=0
set BU[EV]=1227895129
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Sword_10.blp"
set LU[EV]=0
set OL=EV
set EV=EV+1
set SU[EV]=1227896905
set ZU[EV]=1227896904
set AU[EV]=0
set BU[EV]=1227895130
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNJapaneseSword.BLP"
set LU[EV]=0
set RL=EV
set EV=EV+1
set SU[EV]=1227896906
set ZU[EV]=1227896907
set AU[EV]=0
set BU[EV]=1227895344
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Hammer_10.blp"
set LU[EV]=0
set WL=EV
set EV=EV+1
set SU[EV]=1227896909
set ZU[EV]=1227896908
set AU[EV]=0
set BU[EV]=1227899704
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Hammer_10.blp"
set LU[EV]=0
set ZL=EV
set EV=EV+1
set SU[EV]=1227896910
set ZU[EV]=1227896911
set AU[EV]=0
set BU[EV]=1227895345
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Chest_Plate06.blp"
set LU[EV]=22
set AL=EV
set EV=EV+1
set SU[EV]=1227896913
set ZU[EV]=1227896912
set AU[EV]=0
set BU[EV]=1227895346
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNStormHammer.blp"
set LU[EV]=0
set LL=EV
set EV=EV+1
set SU[EV]=1227896915
set ZU[EV]=1227896914
set AU[EV]=0
set BU[EV]=1227895347
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Sword_11.blp"
set LU[EV]=12
set D1=EV
set EV=EV+1
set SU[EV]=1227901506
set ZU[EV]=1227901497
set AU[EV]=0
set BU[EV]=1227901508
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNDiffusal2.blp"
set LU[EV]=12
set E1=EV
set EV=EV+1
set SU[EV]=1227900247
set ZU[EV]=1227900246
set AU[EV]=0
set BU[EV]=1227900248
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Sword_11.blp"
set LU[EV]=0
set F1=EV
set EV=EV+1
set SU[EV]=1227901507
set ZU[EV]=1227901505
set AU[EV]=0
set BU[EV]=1227901509
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNDiffusal2.blp"
set LU[EV]=0
set H1=EV
set EV=EV+1
set SU[EV]=1227896917
set ZU[EV]=1227896916
set AU[EV]=0
set BU[EV]=1227895348
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Helmet_13.blp"
set LU[EV]=60
set J1=EV
set EV=EV+1
set SU[EV]=1227896919
set ZU[EV]=1227896918
set AU[EV]=0
set BU[EV]=1227899727
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Helmet_13.blp"
set LU[EV]=0
set O1=EV
set EV=EV+1
set SU[EV]=1227896920
set ZU[EV]=1227896921
set AU[EV]=0
set BU[EV]=1227895349
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNHelmOfValor.blp"
set LU[EV]=22
set P1=EV
set EV=EV+1
set SU[EV]=1227897136
set ZU[EV]=1227896922
set AU[EV]=0
set BU[EV]=1227895350
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNStaffofpurification.blp"
set LU[EV]=30
set Q1=EV
set EV=EV+1
set SU[EV]=1227897138
set ZU[EV]=1227897137
set AU[EV]=0
set BU[EV]=1227895351
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNPhilosophersStone.blp"
set LU[EV]=0
set R1=EV
set EV=EV+1
set SU[EV]=1227897140
set ZU[EV]=1227897139
set AU[EV]=0
set BU[EV]=1227895352
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSpellShieldAmulet.blp"
set LU[EV]=45
set T1=EV
set EV=EV+1
set SU[EV]=1227897142
set ZU[EV]=1227897141
set AU[EV]=0
set BU[EV]=1227895353
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSpell_Holy_BlessingOfStrength.blp"
set LU[EV]=0
set U1=EV
set EV=EV+1
set SU[EV]=1227897144
set ZU[EV]=1227897143
set AU[EV]=0
set BU[EV]=1227895361
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNAbility_Gouge.blp"
set LU[EV]=0
set V1=EV
set EV=EV+1
set SU[EV]=1227897153
set ZU[EV]=1227897145
set AU[EV]=0
set BU[EV]=1227895362
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_ThrowingAxe_06.blp"
set LU[EV]=0
set X1=EV
set EV=EV+1
set SU[EV]=1227897154
set ZU[EV]=1227897155
set AU[EV]=0
set BU[EV]=1227895363
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNThoriumMelee.blp"
set LU[EV]=0
set A1=EV
set EV=EV+1
set SU[EV]=1227900722
set ZU[EV]=1227900506
set AU[EV]=0
set BU[EV]=1227900728
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"
set LU[EV]=80
set D0=EV
set EV=EV+1
set SU[EV]=1227900726
set ZU[EV]=1227900720
set AU[EV]=0
set BU[EV]=1227900729
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"
set LU[EV]=75
set E0=EV
set EV=EV+1
set SU[EV]=1227897157
set ZU[EV]=1227900505
set AU[EV]=0
set BU[EV]=1227900727
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"
set LU[EV]=70
set J0=EV
set EV=EV+1
set SU[EV]=1227900725
set ZU[EV]=1227900499
set AU[EV]=0
set BU[EV]=1227895364
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"
set LU[EV]=65
set N0=EV
set EV=EV+1
set SU[EV]=1227900723
set ZU[EV]=1227897156
set AU[EV]=0
set BU[EV]=1227900738
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"
set LU[EV]=60
set O0=EV
set EV=EV+1
set SU[EV]=1227900724
set ZU[EV]=1227900721
set AU[EV]=0
set BU[EV]=1227900737
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"
set LU[EV]=55
set R0=EV
set EV=EV+1
set SU[EV]=1227903030
set ZU[EV]=1227903032
set AU[EV]=0
set BU[EV]=1227903031
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"
set LU[EV]=50
set T0=EV
set EV=EV+1
set SU[EV]=1227899224
set ZU[EV]=1227899223
set AU[EV]=0
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNArcaniteArmor.blp"
set LU[EV]=0
set X0=EV
set EV=EV+1
set SU[EV]=1227897159
set ZU[EV]=1227897158
set AU[EV]=0
set BU[EV]=1227895365
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_ThrowingAxe_02.blp"
set LU[EV]=35
set Y0=EV
set EV=EV+1
set SU[EV]=1227902294
set ZU[EV]=1227902293
set AU[EV]=0
set BU[EV]=1227902295
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_ThrowingAxe_02.blp"
set LU[EV]=50
set B0=EV
set EV=EV+1
set SU[EV]=1227897161
set ZU[EV]=1227897160
set AU[EV]=0
set BU[EV]=1227895366
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNLothars.BLP"
set LU[EV]=22
set C0=EV
set EV=EV+1
set SU[EV]=1227897163
set ZU[EV]=1227897165
set AU[EV]=0
set BU[EV]=1227895111
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_06.blp"
set LU[EV]=40
set F5=EV
set EV=EV+1
set SU[EV]=1227897162
set ZU[EV]=1227897168
set AU[EV]=0
set BU[EV]=1227895367
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_06.blp"
set LU[EV]=36
set G5=EV
set EV=EV+1
set SU[EV]=1227897169
set ZU[EV]=1227897166
set AU[EV]=0
set BU[EV]=1227899971
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_06.blp"
set LU[EV]=32
set J5=EV
set EV=EV+1
set SU[EV]=1227897171
set ZU[EV]=1227897167
set AU[EV]=0
set BU[EV]=1227899972
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_06.blp"
set LU[EV]=28
set M5=EV
set EV=EV+1
set SU[EV]=1227897170
set ZU[EV]=1227897164
set AU[EV]=0
set BU[EV]=1227899955
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_06.blp"
set LU[EV]=24
set N5=EV
set EV=EV+1
set SU[EV]=1227897173
set ZU[EV]=1227897172
set AU[EV]=0
set BU[EV]=1227895368
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNNecromancerAdept.blp"
set LU[EV]=90
set R5=EV
set EV=EV+1
set SU[EV]=1227897174
set ZU[EV]=1227897176
set AU[EV]=0
set BU[EV]=1227895369
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBookOfTheDead.blp"
set LU[EV]=90
set S5=EV
set EV=EV+1
set SU[EV]=1227897175
set ZU[EV]=1227897177
set AU[EV]=0
set BU[EV]=1227895370
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNNecromancerMaster.blp"
set LU[EV]=90
set T5=EV
set EV=EV+1
set SU[EV]=1227899184
set ZU[EV]=1227897178
set AU[EV]=0
set BU[EV]=1227899471
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNOrb of Water.blp"
set LU[EV]=0
set W5=EV
set EV=EV+1
set SU[EV]=1227901003
set ZU[EV]=1227901002
set AU[EV]=0
set BU[EV]=1227901004
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNOrb of Water.blp"
set LU[EV]=0
set A5=EV
set EV=EV+1
set SU[EV]=1227899186
set ZU[EV]=1227899185
set AU[EV]=0
set BU[EV]=1227899472
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Sword_25.blp"
set LU[EV]=0
set B5=EV
set EV=EV+1
set SU[EV]=1227902025
set ZU[EV]=1227902026
set AU[EV]=0
set BU[EV]=1227902027
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Sword_25.blp"
set LU[EV]=0
set C5=EV
set EV=EV+1
set SU[EV]=1227899188
set ZU[EV]=1227899187
set AU[EV]=0
set BU[EV]=1227899473
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Weapon_Crossbow_10.blp"
set LU[EV]=0
set L5=EV
set EV=EV+1
set SU[EV]=1227899190
set ZU[EV]=1227899189
set AU[EV]=0
set BU[EV]=1227899474
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Weapon_Halberd_10.blp"
set LU[EV]=0
set E2=EV
set EV=EV+1
set SU[EV]=1227901752
set ZU[EV]=1227901751
set AU[EV]=0
set BU[EV]=1227901753
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Weapon_Halberd_10.blp"
set LU[EV]=0
set F2=EV
set EV=EV+1
set SU[EV]=1227899191
set ZU[EV]=1227899192
set AU[EV]=0
set BU[EV]=1227899475
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNTransmute.blp"
set LU[EV]=0
set H2=EV
set EV=EV+1
set SU[EV]=1227901777
set ZU[EV]=1227901776
set AU[EV]=0
set BU[EV]=1227901778
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNTransmute.blp"
set LU[EV]=0
set P2=EV
set EV=EV+1
set SU[EV]=1227899201
set ZU[EV]=1227899193
set AU[EV]=0
set BU[EV]=1227899476
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNHeartOfAszune.blp"
set LU[EV]=0
set R2=EV
set EV=EV+1
set SU[EV]=1227899201
set ZU[EV]=1227901772
set BU[EV]=1227901773
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNHeartOfAszune.blp"
set LU[EV]=0
set S2=EV
set EV=EV+1
set SU[EV]=1227899203
set ZU[EV]=1227899202
set AU[EV]=0
set BU[EV]=1227899477
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNHornOfDoom.blp"
set LU[EV]=35
set T2=EV
set EV=EV+1
set SU[EV]=1227899204
set ZU[EV]=1227899205
set AU[EV]=0
set BU[EV]=1227899478
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNIceShard.blp"
set LU[EV]=0
set W2=EV
set EV=EV+1
set SU[EV]=1227899207
set ZU[EV]=1227899206
set AU[EV]=0
set BU[EV]=1227899732
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNIceShard.blp"
set LU[EV]=0
set X2=EV
set EV=EV+1
set SU[EV]=1227899208
set ZU[EV]=1227899209
set AU[EV]=0
set BU[EV]=1227899479
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_ThrowingKnife_04.blp"
set LU[EV]=0
set Z2=EV
set EV=EV+1
set SU[EV]=1227899448
set ZU[EV]=1227899225
set AU[EV]=0
set BU[EV]=1227894850
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set FR4=EV
set EV=EV+1
set SU[EV]=1227899211
set ZU[EV]=1227899210
set AU[EV]=0
set BU[EV]=1227899480
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNHeartOfSearinox.blp"
set LU[EV]=210
set D44=EV
set EV=EV+1
set SU[EV]=1227896651
set ZU[EV]=1227899212
set AU[EV]=0
set BU[EV]=1227899481
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Sword_09.blp"
set LU[EV]=35
set D74=EV
set EV=EV+1
set SU[EV]=1227899458
set ZU[EV]=1227899457
set AU[EV]=0
set BU[EV]=1227899482
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNAdvancedUnholyArmor.blp"
set LU[EV]=0
set D84=EV
set EV=EV+1
set SU[EV]=1227902021
set ZU[EV]=1227902019
set AU[EV]=0
set BU[EV]=1227902020
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNAdvancedUnholyArmor.blp"
set LU[EV]=0
set D94=EV
set EV=EV+1
set SU[EV]=1227899459
set ZU[EV]=1227899460
set AU[EV]=0
set BU[EV]=1227894851
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNArcaneRing.blp"
set LU[EV]=33
set DD4=EV
set EV=EV+1
set SU[EV]=1227899462
set ZU[EV]=1227899461
set AU[EV]=0
set BU[EV]=1227899696
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNThunderMallet.blp"
set LU[EV]=35
set DE4=EV
set EV=EV+1
set SU[EV]=1227895092
set ZU[EV]=1227895108
set AU[EV]=0
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRavenForm.blp"
set LU[EV]=0
set DF4=EV
set EV=EV+1
set SU[EV]=1227899464
set ZU[EV]=1227899463
set AU[EV]=0
set BU[EV]=1227899697
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNCloakOfFlames.blp"
set LU[EV]=0
set DG4=EV
set EV=EV+1
set SU[EV]=1227899465
set ZU[EV]=1227899466
set AU[EV]=0
set BU[EV]=1227899698
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Chest_Chain_14.blp"
set LU[EV]=0
set DH4=EV
set EV=EV+1
set SU[EV]=1227899468
set ZU[EV]=1227899467
set AU[EV]=0
set BU[EV]=1227899699
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Misc_Gem_Bloodstone_02.blp"
set LU[EV]=0
set DI4=EV
set EV=EV+1
set SU[EV]=1227899470
set ZU[EV]=1227899469
set AU[EV]=0
set BU[EV]=1227899700
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNHoodOfCunning.blp"
set LU[EV]=0
set DJ4=EV
set EV=EV+1
set SU[EV]=1227894867
set ZU[EV]=1227894861
set AU[EV]=0
set BU[EV]=1227895107
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNImprovedUnholyStrength.blp"
set LU[EV]=0
set DK4=EV
set EV=EV+1
set SU[EV]=1227894868
set ZU[EV]=1227894865
set AU[EV]=0
set BU[EV]=1227895109
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNUnholyStrength.blp"
set LU[EV]=0
set DM4=EV
set EV=EV+1
set SU[EV]=1227894870
set ZU[EV]=1227894862
set AU[EV]=0
set BU[EV]=1227895110
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNImprovedUnholyStrength.blp"
set LU[EV]=0
set DN4=EV
set EV=EV+1
set SU[EV]=1227894871
set ZU[EV]=1227894866
set AU[EV]=0
set BU[EV]=1227899973
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNUnholyStrength.blp"
set LU[EV]=0
set DO4=EV
set EV=EV+1
set SU[EV]=1227894872
set ZU[EV]=1227894874
set AU[EV]=0
set BU[EV]=1227899718
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNAdvancedMoonArmor.blp"
set LU[EV]=30
set DP4=EV
set EV=EV+1
set SU[EV]=1227894873
set ZU[EV]=1227895088
set AU[EV]=0
set BU[EV]=1227899974
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNAdvancedMoonArmor.blp"
set LU[EV]=0
set DQ4=EV
set EV=EV+1
set SU[EV]=1227895091
set ZU[EV]=1227895090
set AU[EV]=0
set BU[EV]=1227899714
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNStaffOfSilence.blp"
set LU[EV]=18
set DR4=EV
set EV=EV+1
set SU[EV]=1227900747
set ZU[EV]=1227900746
set AU[EV]=0
set BU[EV]=1227900748
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNPhaseBoots.blp"
set LU[EV]=8
set DS4=EV
set EV=EV+1
set SU[EV]=1227900999
set ZU[EV]=1227901001
set AU[EV]=0
set BU[EV]=1227901000
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNForceStaff.blp"
set LU[EV]=25
set DU4=EV
set EV=EV+1
set SU[EV]=1227901232
set ZU[EV]=1227901750
set AU[EV]=0
set BU[EV]=1227901234
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNPipeOfInsight.blp"
set LU[EV]=25
set DV4=EV
set EV=EV+1
set SU[EV]=1227901511
set ZU[EV]=1227901510
set AU[EV]=0
set BU[EV]=1227901512
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNImprovedUnholyArmor.blp"
set LU[EV]=12
set DW4=EV
set EV=EV+1
set SU[EV]=1227901764
set ZU[EV]=1227901766
set AU[EV]=0
set BU[EV]=1227901765
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNImprovedUnholyArmor.blp"
set LU[EV]=12
set DX4=EV
set EV=EV+1
set SU[EV]=1227901784
set ZU[EV]=1227901785
set AU[EV]=0
set BU[EV]=1227901786
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNUrnOfKelThuzad.blp"
set LU[EV]=8
set DY4=EV
set EV=EV+1
set SU[EV]=1227902023
set ZU[EV]=1227902022
set AU[EV]=0
set BU[EV]=1227902024
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNUrnOfKelThuzad.blp"
set LU[EV]=0
set DZ4=EV
set EV=EV+1
set SU[EV]=1227902032
set ZU[EV]=1227902028
set AU[EV]=0
set BU[EV]=1227902033
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSoulRing.blp"
set LU[EV]=25
set E54=EV
set EV=EV+1
set SU[EV]=1227902034
set ZU[EV]=1227902036
set AU[EV]=0
set BU[EV]=1227902035
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNGhostBlade.blp"
set LU[EV]=30
set E24=EV
set EV=EV+1
set SU[EV]=1227902282
set ZU[EV]=1227902281
set AU[EV]=0
set BU[EV]=1227902283
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNArcaneBoots.blp"
set LU[EV]=45
set F74=EV
set EV=EV+1
set SU[EV]=1227902513
set ZU[EV]=1227902512
set AU[EV]=0
set BU[EV]=1227902514
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNMedalionOfCourage.blp"
set LU[EV]=7
set M3=EV
set EV=EV+1
set SU[EV]=1227902532
set ZU[EV]=1227902533
set AU[EV]=0
set BU[EV]=1227902531
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNJanggo.blp"
set LU[EV]=30
set VB=EV
set EV=EV+1
set SU[EV]=1227902540
set ZU[EV]=1227902539
set AU[EV]=0
set BU[EV]=1227902541
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNJanggo.blp"
set LU[EV]=0
set WB=EV
set EV=EV+1
set SU[EV]=1227902770
set ZU[EV]=1227902771
set AU[EV]=0
set BU[EV]=1227902772
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBoneChimes.blp"
set LU[EV]=30
set N3=EV
set EV=EV+1
set SU[EV]=1227902787
set ZU[EV]=1227902789
set AU[EV]=0
set BU[EV]=1227902788
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBoneChimes.blp"
set LU[EV]=30
set YB=EV
set EV=EV+1
set SU[EV]=1227902790
set ZU[EV]=1227902791
set AU[EV]=0
set BU[EV]=1227902792
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNTranquilBoots.blp"
set LU[EV]=30
set LB=EV
set EV=EV+1
set SU[EV]=1227902794
set ZU[EV]=1227902793
set AU[EV]=0
set BU[EV]=1227902795
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNTranquilBoots.blp"
set LU[EV]=30
set EC=EV
set EV=EV+1
set SU[EV]=1227902797
set ZU[EV]=1227902796
set AU[EV]=0
set BU[EV]=1227902798
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNWitchDoctorMaster.blp"
set LU[EV]=16
set FC=EV
set EV=EV+1
set SU[EV]=1227902800
set ZU[EV]=1227902799
set AU[EV]=0
set BU[EV]=1227902801
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNPendantOfMana.blp"
set LU[EV]=20
set GC=EV
set EV=EV+1
set SU[EV]=1227902805
set ZU[EV]=1227902806
set AU[EV]=0
set BU[EV]=1227902807
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNHalberd.blp"
set LU[EV]=30
set R3=EV
set EV=EV+1
set SU[EV]=1227902809
set ZU[EV]=1227902808
set AU[EV]=0
set BU[EV]=1227902810
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNAnnihilator.blp"
set LU[EV]=60
set U3=EV
set EV=EV+1
set SU[EV]=1227903024
set ZU[EV]=1227903025
set AU[EV]=0
set BU[EV]=1227903026
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRingJadeFalcon.blp"
set LU[EV]=0
set JC=EV
set EV=EV+1
set SU[EV]=1227903027
set ZU[EV]=1227903028
set AU[EV]=0
set BU[EV]=1227903029
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRingJadeFalcon.blp"
set LU[EV]=0
set NC=EV
set EV=EV+1
set SU[EV]=1346522445
set ZU[EV]=1346522446
set AU[EV]=0
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNScrollUber.blp"
set LU[EV]=0
set YC=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747989063
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747990582
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=1227896140
set ZU[EV]=1227896146
set AU[EV]=1747989064
set BU[EV]=1227899987
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set DB4=EV
set EV=EV+1
set SU[EV]=1227896141
set ZU[EV]=1227896147
set AU[EV]=1747989065
set BU[EV]=1227899988
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set DC4=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747989066
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=1227896143
set ZU[EV]=1227896148
set AU[EV]=1747989067
set BU[EV]=1227899989
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set D34=EV
set EV=EV+1
set AU[EV]=1747988788
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set D64=EV
set EV=EV+1
set SU[EV]=1227896144
set ZU[EV]=1227896149
set AU[EV]=1747989068
set BU[EV]=1227899991
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set DL4=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747989069
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=1227896139
set ZU[EV]=1227896150
set AU[EV]=1747989070
set BU[EV]=1227899992
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set D04=EV
set EV=EV+1
set SU[EV]=1227896142
set ZU[EV]=1227896151
set AU[EV]=1747989071
set BU[EV]=1227899993
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set D54=EV
set EV=EV+1
set SU[EV]=1227896145
set ZU[EV]=1227896152
set AU[EV]=1747989072
set BU[EV]=1227899994
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set D24=EV
set EV=EV+1
set SU[EV]=1227896398
set ZU[EV]=1227896399
set AU[EV]=1747989073
set BU[EV]=1227900208
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set D_4=EV
set EV=EV+1
set SU[EV]=1227896401
set ZU[EV]=1227896400
set AU[EV]=1747989074
set BU[EV]=1227900209
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set E44=EV
set EV=EV+1
set SU[EV]=1227896402
set ZU[EV]=1227896403
set AU[EV]=1747989075
set BU[EV]=1227900210
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set E74=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747989076
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=1227896407
set ZU[EV]=1227896406
set AU[EV]=1747989077
set BU[EV]=1227900212
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set E84=EV
set EV=EV+1
set SU[EV]=1227896408
set ZU[EV]=1227896409
set AU[EV]=1747989078
set BU[EV]=1227900213
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set E94=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747989079
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=1227896624
set ZU[EV]=1227896410
set AU[EV]=1747989080
set BU[EV]=1227900214
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set ED4=EV
set EV=EV+1
set SU[EV]=1227896625
set ZU[EV]=1227896626
set AU[EV]=1747989081
set BU[EV]=1227900215
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EE4=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747989082
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=1227896628
set ZU[EV]=1227896627
set AU[EV]=1747989296
set BU[EV]=1227900216
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EF4=EV
set EV=EV+1
set AU[EV]=1747989297
set CU[EV]=""
set LU[EV]=0
set EG4=EV
set EV=EV+1
set SU[EV]=1227896630
set ZU[EV]=1227896662
set AU[EV]=1747989298
set BU[EV]=1227900225
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EH4=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747989299
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=1227896631
set ZU[EV]=1227896663
set AU[EV]=1747989300
set BU[EV]=1227900226
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EI4=EV
set EV=EV+1
set SU[EV]=1227896632
set ZU[EV]=1227896664
set AU[EV]=1747989301
set BU[EV]=1227900227
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EJ4=EV
set EV=EV+1
set SU[EV]=1227896633
set ZU[EV]=1227896665
set AU[EV]=1747989302
set BU[EV]=1227900228
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EK4=EV
set EV=EV+1
set SU[EV]=1227896641
set ZU[EV]=1227896666
set AU[EV]=0
set BU[EV]=1227900229
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EM4=EV
set EV=EV+1
set SU[EV]=1227896642
set ZU[EV]=1227896880
set AU[EV]=1747989304
set BU[EV]=1227900230
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EN4=EV
set EV=EV+1
set SU[EV]=1227896643
set ZU[EV]=1227896881
set AU[EV]=1747989305
set BU[EV]=1227900231
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EO4=EV
set EV=EV+1
set SU[EV]=1227896644
set ZU[EV]=1227896882
set AU[EV]=1747989313
set BU[EV]=1227900232
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EP4=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747989315
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=1227896645
set ZU[EV]=1227896883
set AU[EV]=1747989316
set BU[EV]=1227900233
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EQ4=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747989317
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=1227896647
set ZU[EV]=1227896646
set AU[EV]=1747989318
set BU[EV]=1227900234
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set ER4=EV
set EV=EV+1
set SU[EV]=1227896648
set ZU[EV]=1227896884
set AU[EV]=1747989319
set BU[EV]=1227900235
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set ES4=EV
set EV=EV+1
set SU[EV]=1227896655
set ZU[EV]=1227896885
set AU[EV]=1747989320
set BU[EV]=1227900236
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set ET4=EV
set EV=EV+1
set AU[EV]=1747989322
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EU4=EV
set EV=EV+1
set SU[EV]=1227896650
set ZU[EV]=1227896888
set AU[EV]=1747989324
set BU[EV]=1227900239
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EV4=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747989325
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747989326
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=1227896653
set ZU[EV]=1227896889
set AU[EV]=1747989327
set BU[EV]=1227900240
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EW4=EV
set EV=EV+1
set SU[EV]=1227896656
set ZU[EV]=1227896897
set AU[EV]=1747989329
set BU[EV]=1227900241
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EX4=EV
set EV=EV+1
set SU[EV]=1227896657
set ZU[EV]=1227896898
set AU[EV]=1747989330
set BU[EV]=1227900242
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EY4=EV
set EV=EV+1
set SU[EV]=1227896658
set ZU[EV]=1227896899
set AU[EV]=1747989331
set BU[EV]=1227900243
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EZ4=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747989332
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747989333
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=1227896659
set ZU[EV]=1227896900
set AU[EV]=1747989334
set BU[EV]=1227900244
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EA4=EV
set EV=EV+1
set SU[EV]=1227896660
set ZU[EV]=1227896901
set AU[EV]=1747989335
set BU[EV]=1227900245
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EB4=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747990329
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=1227900984
set ZU[EV]=1227900983
set AU[EV]=1747990355
set BU[EV]=1227900985
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EC4=EV
set EV=EV+1
set SU[EV]=1227900996
set ZU[EV]=1227900998
set AU[EV]=1747990356
set BU[EV]=1227900997
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set E34=EV
set EV=EV+1
set SU[EV]=1227903044
set ZU[EV]=1227903045
set AU[EV]=0
set BU[EV]=1227903046
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set FH4=EV
set EV=EV+1
set SU[EV]=1227901016
set ZU[EV]=1227901018
set AU[EV]=1747990360
set BU[EV]=1227901017
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set E64=EV
set EV=EV+1
set SU[EV]=1227896652
set ZU[EV]=1227901774
set AU[EV]=1747989328
set BU[EV]=1227901775
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EL4=EV
set EV=EV+1
set SU[EV]=1227901783
set ZU[EV]=1227901782
set AU[EV]=1747993153
set BU[EV]=1227901781
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set E14=EV
set EV=EV+1
set SU[EV]=1227902029
set ZU[EV]=1227902030
set AU[EV]=1747993169
set BU[EV]=1227902031
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set E04=EV
set EV=EV+1
set SU[EV]=1227902521
set ZU[EV]=1227902529
set AU[EV]=1747993649
set BU[EV]=1227902530
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set F84=EV
set EV=EV+1
set SU[EV]=1227902536
set ZU[EV]=1227902537
set AU[EV]=1747993433
set BU[EV]=1227902538
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set F94=EV
set EV=EV+1
set SU[EV]=1227902773
set ZU[EV]=1227902774
set AU[EV]=1747993668
set BU[EV]=1227902775
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set FD4=EV
set EV=EV+1
set SU[EV]=1227902786
set ZU[EV]=1227902785
set AU[EV]=1747989336
set BU[EV]=1227902777
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set FE4=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747993684
set CU[EV]=""
set LU[EV]=0
set FF4=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747993685
set CU[EV]=""
set LU[EV]=0
set FG4=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747993913
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747993921
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747993923
set CU[EV]=""
set LU[EV]=0
set t=CreateTrigger()
call TriggerAddCondition(t,Condition(function ND9))
set H04=t
set t=null
set FQ4=FQ4+1
set FJ4[FQ4]=ZX
set FK4[FQ4]=RZ
set FP4[FQ4]=Y3
set FQ4=FQ4+1
set FJ4[FQ4]=GY
set FK4[FQ4]=QW
set FM4[FQ4]=DB4
set FP4[FQ4]=Z3
set FQ4=FQ4+1
set FJ4[FQ4]=UV
set FK4[FQ4]=QW
set FM4[FQ4]=DC4
set FP4[FQ4]=B3
set FQ4=FQ4+1
set FJ4[FQ4]=AX
set FK4[FQ4]=ZY
set FP4[FQ4]=C3
set FQ4=FQ4+1
set FJ4[FQ4]=FV
set FK4[FQ4]=D34
set FP4[FQ4]=F6
set FQ4=FQ4+1
set FJ4[FQ4]=FV
set FK4[FQ4]=MV
set FM4[FQ4]=JV
set FP4[FQ4]=G6
set FQ4=FQ4+1
set FJ4[FQ4]=FV
set FK4[FQ4]=OV
set FM4[FQ4]=JV
set FP4[FQ4]=H6
set FQ4=FQ4+1
set FJ4[FQ4]=FV
set FK4[FQ4]=HY
set FM4[FQ4]=JV
set FP4[FQ4]=N6
set FQ4=FQ4+1
set FJ4[FQ4]=JV
set FK4[FQ4]=DL4
set FP4[FQ4]=S6
set FQ4=FQ4+1
set FJ4[FQ4]=YX
set FK4[FQ4]=HY
set FM4[FQ4]=ZY
set FP4[FQ4]=W6
set FQ4=FQ4+1
set FJ4[FQ4]=NV
set FK4[FQ4]=LV
set FM4[FQ4]=D04
set FP4[FQ4]=A6
set FQ4=FQ4+1
set FJ4[FQ4]=NV
set FK4[FQ4]=UY
set FM4[FQ4]=D54
set FP4[FQ4]=DL
set FQ4=FQ4+1
set FJ4[FQ4]=NV
set FK4[FQ4]=UW
set FM4[FQ4]=D24
set FP4[FQ4]=HL
set FQ4=FQ4+1
set FJ4[FQ4]=QV
set FK4[FQ4]=MV
set FM4[FQ4]=D_4
set FP4[FQ4]=OL
set FQ4=FQ4+1
set FJ4[FQ4]=NX
set FK4[FQ4]=OV
set FM4[FQ4]=E44
set FP4[FQ4]=RL
set FQ4=FQ4+1
set FJ4[FQ4]=UZ
set FK4[FQ4]=OV
set FM4[FQ4]=E74
set FP4[FQ4]=WL
set FQ4=FQ4+1
set FJ4[FQ4]=TV
set FK4[FQ4]=UV
set FM4[FQ4]=HY
set FP4[FQ4]=AL
set FQ4=FQ4+1
set FJ4[FQ4]=ZW
set FK4[FQ4]=JV
set FM4[FQ4]=E84
set FP4[FQ4]=LL
set FQ4=FQ4+1
set FJ4[FQ4]=QV
set FK4[FQ4]=QV
set FM4[FQ4]=HY
set FN4[FQ4]=E94
set FP4[FQ4]=D1
set FQ4=FQ4+1
set FJ4[FQ4]=D1
set FK4[FQ4]=E94
set FP4[FQ4]=E1
set FQ4=FQ4+1
set FJ4[FQ4]=F1
set FK4[FQ4]=E94
set FP4[FQ4]=E1
set FQ4=FQ4+1
set FJ4[FQ4]=NW
set FK4[FQ4]=VW
set FP4[FQ4]=J1
set FQ4=FQ4+1
set FJ4[FQ4]=VW
set FK4[FQ4]=ED4
set FP4[FQ4]=P1
set FQ4=FQ4+1
set FJ4[FQ4]=RZ
set FK4[FQ4]=DZ
set FM4[FQ4]=ZY
set FN4[FQ4]=EE4
set FP4[FQ4]=Q1
set FQ4=FQ4+1
set FJ4[FQ4]=WX
set FK4[FQ4]=CV
set FM4[FQ4]=OZ
set FP4[FQ4]=R1
set FQ4=FQ4+1
set FJ4[FQ4]=Z3
set FK4[FQ4]=B3
set FM4[FQ4]=EF4
set FP4[FQ4]=T1
set FQ4=FQ4+1
set FJ4[FQ4]=RL
set FK4[FQ4]=OL
set FP4[FQ4]=U1
set FQ4=FQ4+1
set FJ4[FQ4]=ZW
set FK4[FQ4]=ZW
set FM4[FQ4]=EH4
set FP4[FQ4]=V1
set FQ4=FQ4+1
set FJ4[FQ4]=Y3
set FK4[FQ4]=TV
set FM4[FQ4]=XV
set FP4[FQ4]=X1
set FQ4=FQ4+1
set FJ4[FQ4]=SV
set FK4[FQ4]=TV
set FM4[FQ4]=EI4
set FP4[FQ4]=A1
set FQ4=FQ4+1
set FJ4[FQ4]=ZW
set FK4[FQ4]=NX
set FM4[FQ4]=EJ4
set FP4[FQ4]=D0
set FQ4=FQ4+1
set FJ4[FQ4]=OL
set FK4[FQ4]=NZ
set FM4[FQ4]=EK4
set FP4[FQ4]=B0
set FQ4=FQ4+1
set FJ4[FQ4]=XV
set FK4[FQ4]=W3
set FP4[FQ4]=C0
set FQ4=FQ4+1
set FJ4[FQ4]=DZ
set FK4[FQ4]=HL
set FM4[FQ4]=EN4
set FP4[FQ4]=F5
set FQ4=FQ4+1
set FJ4[FQ4]=F5
set FK4[FQ4]=EN4
set FP4[FQ4]=G5
set FQ4=FQ4+1
set FJ4[FQ4]=G5
set FK4[FQ4]=EN4
set FP4[FQ4]=J5
set FQ4=FQ4+1
set FJ4[FQ4]=J5
set FK4[FQ4]=EN4
set FP4[FQ4]=M5
set FQ4=FQ4+1
set FJ4[FQ4]=M5
set FK4[FQ4]=EN4
set FP4[FQ4]=N5
set FQ4=FQ4+1
set FJ4[FQ4]=DZ
set FK4[FQ4]=OV
set FM4[FQ4]=EO4
set FP4[FQ4]=R5
set FQ4=FQ4+1
set FJ4[FQ4]=R5
set FK4[FQ4]=EO4
set FP4[FQ4]=S5
set FQ4=FQ4+1
set FJ4[FQ4]=S5
set FK4[FQ4]=EO4
set FP4[FQ4]=T5
set FQ4=FQ4+1
set FJ4[FQ4]=NZ
set FK4[FQ4]=Y3
set FM4[FQ4]=EP4
set FP4[FQ4]=W5
set FQ4=FQ4+1
set FJ4[FQ4]=AV
set FK4[FQ4]=SY
set FP4[FQ4]=B5
set FQ4=FQ4+1
set FJ4[FQ4]=A1
set FK4[FQ4]=AV
set FM4[FQ4]=EQ4
set FP4[FQ4]=L5
set FQ4=FQ4+1
set FJ4[FQ4]=AV
set FK4[FQ4]=UZ
set FM4[FQ4]=UZ
set FP4[FQ4]=E2
set FQ4=FQ4+1
set FJ4[FQ4]=SY
set FK4[FQ4]=ER4
set FP4[FQ4]=H2
set FQ4=FQ4+1
set FJ4[FQ4]=YW
set FK4[FQ4]=OZ
set FM4[FQ4]=ES4
set FP4[FQ4]=R2
set FQ4=FQ4+1
set FJ4[FQ4]=YW
set FK4[FQ4]=J1
set FM4[FQ4]=ET4
set FP4[FQ4]=T2
set FQ4=FQ4+1
set FJ4[FQ4]=YW
set FK4[FQ4]=O1
set FM4[FQ4]=ET4
set FP4[FQ4]=T2
set FQ4=FQ4+1
set FJ4[FQ4]=NZ
set FK4[FQ4]=NZ
set FM4[FQ4]=WX
set FN4[FQ4]=E_4
set FP4[FQ4]=W2
set FQ4=FQ4+1
set FJ4[FQ4]=NZ
set FK4[FQ4]=NZ
set FM4[FQ4]=WX
set FN4[FQ4]=F44
set FP4[FQ4]=W2
set FQ4=FQ4+1
set FJ4[FQ4]=BV
set FK4[FQ4]=YX
set FM4[FQ4]=JB
set FP4[FQ4]=Z2
set FQ4=FQ4+1
set FJ4[FQ4]=ZY
set FK4[FQ4]=UV
set FM4[FQ4]=F94
set FP4[FQ4]=M3
set FQ4=FQ4+1
set FJ4[FQ4]=QV
set FK4[FQ4]=NX
set FM4[FQ4]=WX
set FN4[FQ4]=DZ
set FP4[FQ4]=FR4
set FQ4=FQ4+1
set FJ4[FQ4]=Y3
set FK4[FQ4]=W6
set FM4[FQ4]=EV4
set FP4[FQ4]=D44
set FQ4=FQ4+1
set FJ4[FQ4]=NZ
set FK4[FQ4]=GX
set FM4[FQ4]=RZ
set FP4[FQ4]=D74
set FQ4=FQ4+1
set FJ4[FQ4]=OZ
set FK4[FQ4]=ZX
set FM4[FQ4]=EZ
set FP4[FQ4]=D84
set FQ4=FQ4+1
set FJ4[FQ4]=OZ
set FK4[FQ4]=ZX
set FM4[FQ4]=HZ
set FP4[FQ4]=D84
set FQ4=FQ4+1
set FJ4[FQ4]=CV
set FK4[FQ4]=AX
set FM4[FQ4]=EW4
set FP4[FQ4]=DD4
set FQ4=FQ4+1
set FJ4[FQ4]=OW
set FK4[FQ4]=LL
set FM4[FQ4]=EL4
set FP4[FQ4]=DE4
set FQ4=FQ4+1
set FJ4[FQ4]=ZC
set FM4[FQ4]=EX4
set FP4[FQ4]=DF4
set FQ4=FQ4+1
set FJ4[FQ4]=GY
set FK4[FQ4]=C3
set FM4[FQ4]=VW
set FN4[FQ4]=EY4
set FP4[FQ4]=DG4
set FQ4=FQ4+1
set FJ4[FQ4]=GY
set FK4[FQ4]=E6
set FM4[FQ4]=VW
set FN4[FQ4]=EY4
set FP4[FQ4]=DG4
set FQ4=FQ4+1
set FJ4[FQ4]=OW
set FK4[FQ4]=SX
set FM4[FQ4]=UV
set FN4[FQ4]=EZ4
set FP4[FQ4]=DH4
set FQ4=FQ4+1
set FJ4[FQ4]=R1
set FK4[FQ4]=Y3
set FP4[FQ4]=DI4
set FQ4=FQ4+1
set FJ4[FQ4]=GY
set FK4[FQ4]=GY
set FM4[FQ4]=ZX
set FN4[FQ4]=RX
set FP4[FQ4]=DJ4
set FQ4=FQ4+1
set FJ4[FQ4]=JV
set FK4[FQ4]=NW
set FM4[FQ4]=SV
set FN4[FQ4]=EA4
set FP4[FQ4]=DM4
set FQ4=FQ4+1
set FJ4[FQ4]=GX
set FK4[FQ4]=SX
set FM4[FQ4]=EB4
set FP4[FQ4]=DP4
set FQ4=FQ4+1
set FJ4[FQ4]=W6
set FK4[FQ4]=W6
set FM4[FQ4]=FE4
set FP4[FQ4]=DR4
set FQ4=FQ4+1
set FJ4[FQ4]=FV
set FK4[FQ4]=SV
set FM4[FQ4]=SV
set FP4[FQ4]=DS4
set FQ4=FQ4+1
set FJ4[FQ4]=ZA
set FK4[FQ4]=QW
set FM4[FQ4]=QW
set FN4[FQ4]=QW
set FO4[FQ4]=EC4
set FP4[FQ4]=DT4
set FQ4=FQ4+1
set FJ4[FQ4]=DZ
set FK4[FQ4]=GY
set FM4[FQ4]=E34
set FP4[FQ4]=DU4
set FQ4=FQ4+1
set FJ4[FQ4]=DJ4
set FK4[FQ4]=Z3
set FM4[FQ4]=E64
set FP4[FQ4]=DV4
set FQ4=FQ4+1
set FJ4[FQ4]=EZ
set FK4[FQ4]=UY
set FM4[FQ4]=UY
set FP4[FQ4]=DW4
set FQ4=FQ4+1
set FJ4[FQ4]=HZ
set FK4[FQ4]=UY
set FM4[FQ4]=UY
set FP4[FQ4]=DW4
set FQ4=FQ4+1
set FJ4[FQ4]=ZY
set FK4[FQ4]=LV
set FM4[FQ4]=LV
set FN4[FQ4]=E14
set FP4[FQ4]=DY4
set FQ4=FQ4+1
set FJ4[FQ4]=ZY
set FK4[FQ4]=GY
set FM4[FQ4]=E04
set FP4[FQ4]=E54
set FQ4=FQ4+1
set FJ4[FQ4]=BV
set FK4[FQ4]=DA4
set FP4[FQ4]=E24
set FQ4=FQ4+1
set FJ4[FQ4]=FV
set FK4[FQ4]=CV
set FP4[FQ4]=F74
set FQ4=FQ4+1
set FJ4[FQ4]=HY
set FK4[FQ4]=A6
set FM4[FQ4]=F84
set FP4[FQ4]=VB
set FQ4=FQ4+1
set FJ4[FQ4]=VB
set FK4[FQ4]=F84
set FP4[FQ4]=VB
set FQ4=FQ4+1
set FJ4[FQ4]=WB
set FK4[FQ4]=F84
set FP4[FQ4]=VB
set FQ4=FQ4+1
set FJ4[FQ4]=NW
set FK4[FQ4]=HY
set FM4[FQ4]=FD4
set FP4[FQ4]=N3
set FQ4=FQ4+1
set FJ4[FQ4]=FV
set FK4[FQ4]=AX
set FM4[FQ4]=GY
set FP4[FQ4]=LB
set FQ4=FQ4+1
set FJ4[FQ4]=DZ
set FK4[FQ4]=DZ
set FM4[FQ4]=OZ
set FP4[FQ4]=FC
set FQ4=FQ4+1
set FJ4[FQ4]=RL
set FK4[FQ4]=JB
set FP4[FQ4]=R3
set FQ4=FQ4+1
set FJ4[FQ4]=WL
set FK4[FQ4]=SY
set FP4[FQ4]=U3
set FQ4=FQ4+1
set FJ4[FQ4]=DL
set FK4[FQ4]=C3
set FP4[FQ4]=JC
set FQ4=FQ4+1
set FJ4[FQ4]=DL
set FK4[FQ4]=E6
set FP4[FQ4]=NC
set EV=EV+1
set SU[EV]=1227899226
set ZU[EV]=1227895089
set AU[EV]=0
set BU[EV]=1227900249
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set FS4=EV
set EV=EV+1
set SU[EV]=1227894854
set ZU[EV]=1227894852
set AU[EV]=0
set BU[EV]=1227900250
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set FT4=EV
set EV=EV+1
set SU[EV]=1227895096
set ZU[EV]=1227894841
set AU[EV]=0
set BU[EV]=1227900464
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set FU4=EV
set EV=EV+1
set SU[EV]=1227895097
set ZU[EV]=1227894837
set AU[EV]=0
set BU[EV]=1227900470
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set FV4=EV
set EV=EV+1
set SU[EV]=1227895105
set ZU[EV]=1227894855
set AU[EV]=0
set BU[EV]=1227900465
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set FW4=EV
set EV=EV+1
set SU[EV]=1227895106
set ZU[EV]=1227894836
set AU[EV]=0
set BU[EV]=1227900466
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set FX4=EV
set EV=EV+1
set SU[EV]=1227895112
set ZU[EV]=1227894835
set AU[EV]=0
set BU[EV]=1227900467
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set FY4=EV
set EV=EV+1
set SU[EV]=1227895113
set ZU[EV]=1227894834
set AU[EV]=0
set BU[EV]=1227900469
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set FZ4=EV
set EV=EV+1
set SU[EV]=1227895371
set ZU[EV]=1227894833
set AU[EV]=0
set BU[EV]=1227900468
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set FA4=EV
set EV=EV+1
set SU[EV]=1227895372
set ZU[EV]=1227894857
set AU[EV]=0
set BU[EV]=1227900485
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set FB4=EV
set EV=EV+1
set SU[EV]=1227899442
set ZU[EV]=1227894856
set AU[EV]=0
set BU[EV]=1227900473
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set F34=EV
set EV=EV+1
set SU[EV]=1227899443
set ZU[EV]=1227894864
set AU[EV]=0
set BU[EV]=1227900481
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set F64=EV
set EV=EV+1
set SU[EV]=1227899444
set ZU[EV]=1227894869
set AU[EV]=0
set BU[EV]=1227900471
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set FL4=EV
set EV=EV+1
set SU[EV]=1227899447
set ZU[EV]=1227894832
set AU[EV]=0
set BU[EV]=1227900484
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set F14=EV
set EV=EV+1
set SU[EV]=1227899446
set ZU[EV]=1227895094
set AU[EV]=0
set BU[EV]=1227900483
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set F04=EV
set EV=EV+1
set SU[EV]=1227899445
set ZU[EV]=1227895095
set AU[EV]=0
set BU[EV]=1227900482
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set F54=EV
set EV=EV+1
set SU[EV]=1227899449
set ZU[EV]=1227894863
set AU[EV]=0
set BU[EV]=1227900472
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set F24=EV
set EV=EV+1
set SU[EV]=1227901493
set ZU[EV]=1227901268
set AU[EV]=0
set BU[EV]=1227901258
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set F_4=EV
set EV=EV+1
set SU[EV]=1227901270
set ZU[EV]=1227901269
set AU[EV]=0
set BU[EV]=1227901241
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set G44=EV
set EV=EV+1
set SU[EV]=1227901271
set ZU[EV]=1227901267
set AU[EV]=0
set BU[EV]=1227901257
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set G74=EV
set EV=EV+1
set SU[EV]=1227901272
set ZU[EV]=1227901266
set AU[EV]=0
set BU[EV]=1227901249
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set G84=EV
set EV=EV+1
set SU[EV]=1227901273
set ZU[EV]=1227901265
set AU[EV]=0
set BU[EV]=1227901256
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set G94=EV
set EV=EV+1
set SU[EV]=1227901274
set ZU[EV]=1227901259
set AU[EV]=0
set BU[EV]=1227901255
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GD4=EV
set EV=EV+1
set SU[EV]=1227901488
set ZU[EV]=1227901260
set AU[EV]=0
set BU[EV]=1227901254
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GE4=EV
set EV=EV+1
set SU[EV]=1227901489
set ZU[EV]=1227901261
set AU[EV]=0
set BU[EV]=1227901253
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GG4=EV
set EV=EV+1
set SU[EV]=1227901490
set ZU[EV]=1227901264
set AU[EV]=0
set BU[EV]=1227901252
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GH4=EV
set EV=EV+1
set SU[EV]=1227901491
set ZU[EV]=1227901263
set AU[EV]=0
set BU[EV]=1227901251
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GI4=EV
set EV=EV+1
set SU[EV]=1227901492
set ZU[EV]=1227901262
set AU[EV]=0
set BU[EV]=1227901250
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GJ4=EV
set EV=EV+1
set SU[EV]=1227901238
set ZU[EV]=1227901239
set AU[EV]=0
set BU[EV]=1227901240
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GK4=EV
set EV=EV+1
set SU[EV]=1227901530
set ZU[EV]=1227901523
set AU[EV]=0
set BU[EV]=1227901522
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GM4=EV
set EV=EV+1
set SU[EV]=1227901744
set ZU[EV]=1227901524
set AU[EV]=0
set BU[EV]=1227901516
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GN4=EV
set EV=EV+1
set SU[EV]=1227901745
set ZU[EV]=1227901525
set AU[EV]=0
set BU[EV]=1227901517
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GO4=EV
set EV=EV+1
set SU[EV]=1227901746
set ZU[EV]=1227901527
set AU[EV]=0
set BU[EV]=1227901518
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GP4=EV
set EV=EV+1
set SU[EV]=1227901747
set ZU[EV]=1227901526
set AU[EV]=0
set BU[EV]=1227901521
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GQ4=EV
set EV=EV+1
set SU[EV]=1227901748
set ZU[EV]=1227901529
set AU[EV]=0
set BU[EV]=1227901520
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GR4=EV
set EV=EV+1
set SU[EV]=1227901749
set ZU[EV]=1227901528
set AU[EV]=0
set BU[EV]=1227901519
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GS4=EV
set EV=EV+1
set SU[EV]=1227901769
set ZU[EV]=1227901768
set AU[EV]=0
set BU[EV]=1227901770
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GT4=EV
set EV=EV+1
set SU[EV]=1227902004
set ZU[EV]=1227902005
set AU[EV]=0
set BU[EV]=1227902008
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set FC4=EV
set EV=EV+1
set SU[EV]=1227902003
set ZU[EV]=1227902000
set AU[EV]=0
set BU[EV]=1227902009
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GU4=EV
set EV=EV+1
set SU[EV]=1227902002
set ZU[EV]=1227902007
set AU[EV]=0
set BU[EV]=1227902017
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GV4=EV
set EV=EV+1
set SU[EV]=1227902037
set ZU[EV]=1227902038
set AU[EV]=0
set BU[EV]=1227902039
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GW4=EV
set EV=EV+1
set SU[EV]=1227902257
set ZU[EV]=1227902256
set AU[EV]=0
set BU[EV]=1227902258
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GY4=EV
set EV=EV+1
set SU[EV]=1227902261
set ZU[EV]=1227902260
set AU[EV]=0
set BU[EV]=1227902259
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GZ4=EV
set EV=EV+1
set SU[EV]=1227902262
set ZU[EV]=1227902263
set AU[EV]=0
set BU[EV]=1227902264
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GA4=EV
set EV=EV+1
set SU[EV]=1227902278
set ZU[EV]=1227902279
set AU[EV]=0
set BU[EV]=1227902280
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GB4=EV
set EV=EV+1
set SU[EV]=1227902285
set ZU[EV]=1227902284
set AU[EV]=0
set BU[EV]=1227902286
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set G34=EV
set EV=EV+1
set SU[EV]=1227902287
set ZU[EV]=1227902288
set AU[EV]=0
set BU[EV]=1227902289
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set G64=EV
set EV=EV+1
set SU[EV]=1227902545
set ZU[EV]=1227902546
set AU[EV]=0
set BU[EV]=1227902547
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GL4=EV
set EV=EV+1
set SU[EV]=1227902548
set ZU[EV]=1227902549
set AU[EV]=0
set BU[EV]=1227902550
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set G14=EV
set EV=EV+1
set SU[EV]=1227902551
set ZU[EV]=1227902552
set AU[EV]=0
set BU[EV]=1227902553
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set G04=EV
set EV=EV+1
set SU[EV]=1227902554
set ZU[EV]=1227902768
set AU[EV]=0
set BU[EV]=1227902769
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set G54=EV
set EV=EV+1
set SU[EV]=1227902802
set ZU[EV]=1227902803
set AU[EV]=0
set BU[EV]=1227902804
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set G24=EV
set EV=EV+1
set SU[EV]=1227895617
set ZU[EV]=1227896113
set AU[EV]=1747990603
set BU[EV]=1227899961
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSteelArmor.blp"
set LU[EV]=0
set DV[EV]=EZ
set EV=EV+1
set SU[EV]=1227895641
set ZU[EV]=1227896114
set AU[EV]=1747990616
set BU[EV]=1227899705
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNOrbofSlowness.blp"
set LU[EV]=0
set DV[EV]=NZ
set EV=EV+1
set SU[EV]=1227895379
set ZU[EV]=1227895376
set AU[EV]=1747990611
set BU[EV]=1227899713
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNGlove.blp"
set LU[EV]=0
set DV[EV]=JV
set EV=EV+1
set SU[EV]=1227895374
set ZU[EV]=1227895378
set AU[EV]=1747990608
set BU[EV]=1227899731
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBoots.blp"
set LU[EV]=0
set DV[EV]=MV
set EV=EV+1
set SU[EV]=1227895386
set ZU[EV]=1227895859
set AU[EV]=1747990609
set BU[EV]=1227899734
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBelt.blp"
set LU[EV]=0
set DV[EV]=OV
set EV=EV+1
set SU[EV]=1227895601
set ZU[EV]=1227895861
set AU[EV]=1747990612
set BU[EV]=1227899957
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNClawsOfAttack.blp"
set LU[EV]=0
set DV[EV]=SV
set EV=EV+1
set SU[EV]=1227895618
set ZU[EV]=1227895877
set AU[EV]=1747990606
set BU[EV]=1227899969
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNHelmutPurple.blp"
set LU[EV]=0
set DV[EV]=NW
set EV=EV+1
set SU[EV]=1227895621
set ZU[EV]=1227895880
set AU[EV]=1747990615
set BU[EV]=1227899703
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNDaggerOfEscape.blp"
set LU[EV]=14
set DV[EV]=RW
set EV=EV+1
set SU[EV]=1227895623
set ZU[EV]=1227895883
set AU[EV]=1747990607
set BU[EV]=1227899716
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNUndeadShrine.blp"
set LU[EV]=0
set DV[EV]=VW
set EV=EV+1
set SU[EV]=1227895632
set ZU[EV]=1227895891
set AU[EV]=1747990613
set BU[EV]=1227899737
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNAlleriaFlute.blp"
set LU[EV]=0
set DV[EV]=YX
set EV=EV+1
set SU[EV]=1227895633
set ZU[EV]=1227895892
set AU[EV]=1747990599
set BU[EV]=1227899977
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNGoldRing.blp"
set LU[EV]=0
set DV[EV]=ZX
set EV=EV+1
set SU[EV]=1227895635
set ZU[EV]=1227895894
set AU[EV]=1747990604
set BU[EV]=1227899978
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRingSkull.blp"
set LU[EV]=0
set DV[EV]=GY
set EV=EV+1
set SU[EV]=1227895636
set ZU[EV]=1227895895
set AU[EV]=1747990610
set BU[EV]=1227899728
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRobeOfTheMagi.blp"
set LU[EV]=0
set DV[EV]=HY
set EV=EV+1
set SU[EV]=1227895638
set ZU[EV]=1227895897
set AU[EV]=1747990597
set BU[EV]=1227899701
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSlippersOfAgility.blp"
set LU[EV]=0
set DV[EV]=UY
set EV=EV+1
set SU[EV]=1227895639
set ZU[EV]=1227895898
set AU[EV]=1747990602
set BU[EV]=1227899979
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSobiMask.blp"
set LU[EV]=0
set DV[EV]=ZY
set EV=EV+1
set SU[EV]=1227900740
set ZU[EV]=1227900739
set AU[EV]=1747990601
set BU[EV]=1227900741
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNWand.blp"
set LU[EV]=0
set DV[EV]=ZA
set EV=EV+1
set SU[EV]=1227901012
set ZU[EV]=1227901010
set AU[EV]=1747990598
set BU[EV]=1227901015
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNOrcMeleeUpTwo.blp"
set LU[EV]=0
set DV[EV]=BA
set EV=EV+1
set SU[EV]=1227901495
set ZU[EV]=1227901494
set AU[EV]=1747990614
set BU[EV]=1227901496
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNAmulet.blp"
set LU[EV]=0
set DV[EV]=JB
set EV=EV+1
set SU[EV]=1227895628
set ZU[EV]=1227895888
set AU[EV]=1747990605
set BU[EV]=1227899717
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Misc_Cape_08.blp"
set LU[EV]=0
set DV[EV]=RX
set EV=EV+1
set SU[EV]=1227896129
set ZU[EV]=1227896137
set AU[EV]=1747990600
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNScrollUber.blp"
set LU[EV]=0
set DV[EV]=XC
set EV=EV+1
set SU[EV]=1227895607
set ZU[EV]=1227895874
set AU[EV]=1747990835
set BU[EV]=1227899730
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNEnchantedGemstone.blp"
set LU[EV]=0
set DV[EV]=CV
set EV=EV+1
set SU[EV]=1227895377
set ZU[EV]=1227895375
set AU[EV]=1747993167
set BU[EV]=1227894849
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Misc_Cape_08.blp"
set LU[EV]=0
set DV[EV]=FV
set EV=EV+1
set SU[EV]=1227902273
set ZU[EV]=1227902265
set AU[EV]=1747993422
set BU[EV]=1227902274
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNOrbOfVenom.blp"
set LU[EV]=0
set DV[EV]=E_4
set EV=EV+1
set SU[EV]=1227895603
set ZU[EV]=1227895863
set AU[EV]=1747993648
set BU[EV]=1227899959
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNGlove.blp"
set LU[EV]=0
set DV[EV]=UV
set EV=EV+1
set SU[EV]=1228222513
set ZU[EV]=1228222512
set AU[EV]=0
set BU[EV]=1228222514
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=0
set GX4=EV
call E5()
set EE7=InitHashtable()
call IVH()
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call D28(t,EVENT_PLAYER_UNIT_DROP_ITEM)
call D28(t,EVENT_PLAYER_UNIT_PAWN_ITEM)
call TriggerAddCondition(t,Condition(function FFG))
set H94=t
set t=null
call IWH()
call IXH()
call J9G()
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddCondition(t,Condition(function NJ9))
set BH=t
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,1.,true)
call TriggerAddCondition(t,Condition(function NH9))
if M34 then
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)
call D28(t,EVENT_PLAYER_UNIT_ISSUED_ORDER)
call D28(t,EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)
call TriggerAddCondition(t,Condition(function FRG))
endif
set t=null
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function XWF))
set t=null
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call D28(t,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(t,Condition(function FUG))
set cH=t
set t=null
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(t,function KF9)
call TriggerAddCondition(t,Condition(function K89))
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,1.,true)
call TriggerAddCondition(t,Condition(function KI9))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddAction(t,function F19)
call TriggerAddCondition(t,Condition(function FB9))
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.33,true)
call TriggerAddCondition(t,Condition(function GS9))
set t=null
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.75,true)
call TriggerAddCondition(t,Condition(function GW9))
set t=null
call SetPlayerAbilityAvailable(Z7[1],1093744436,false)
call SetPlayerAbilityAvailable(Z7[2],1093744436,false)
call SetPlayerAbilityAvailable(Z7[3],1093744436,false)
call SetPlayerAbilityAvailable(Z7[4],1093744436,false)
call SetPlayerAbilityAvailable(Z7[5],1093744436,false)
call SetPlayerAbilityAvailable(A7[1],1093744436,false)
call SetPlayerAbilityAvailable(A7[2],1093744436,false)
call SetPlayerAbilityAvailable(A7[3],1093744436,false)
call SetPlayerAbilityAvailable(A7[4],1093744436,false)
call SetPlayerAbilityAvailable(A7[5],1093744436,false)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function GY9))
set t=null
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(t,Condition(function FWG))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(t,Condition(function FVG))
set t=null
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call D28(t,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(t,Condition(function FYG))
set t=null
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(t,Condition(function FBG))
set t=null
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerAddCondition(t,Condition(function F2G))
set t=null
set t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddAction(t,function HNG)
call SetAltMinimapIcon("war3mapImported\\black.blp")
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function K_G))
call SetPlayerAbilityAvailable(Z7[1],1093752406,false)
call SetPlayerAbilityAvailable(Z7[2],1093752406,false)
call SetPlayerAbilityAvailable(Z7[3],1093752406,false)
call SetPlayerAbilityAvailable(Z7[4],1093752406,false)
call SetPlayerAbilityAvailable(Z7[5],1093752406,false)
call SetPlayerAbilityAvailable(A7[1],1093752406,false)
call SetPlayerAbilityAvailable(A7[2],1093752406,false)
call SetPlayerAbilityAvailable(A7[3],1093752406,false)
call SetPlayerAbilityAvailable(A7[4],1093752406,false)
call SetPlayerAbilityAvailable(A7[5],1093752406,false)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddCondition(t,Condition(function M4G))
set t=null
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(t,function H09)
call TriggerAddCondition(t,Condition(function H19))
call ICH()
set t=CreateTrigger()
call TriggerRegisterUnitInRange(t,FJ,300,Condition(function ZY7))
call TriggerRegisterUnitInRange(t,lJ,300,Condition(function ZY7))
call TriggerRegisterUnitInRange(t,DJ,300,Condition(function ZY7))
call TriggerAddCondition(t,Condition(function H59))
set t=null
set GS=CreateTrigger()
call TriggerAddAction(GS,function H29)
set HS=CreateTrigger()
call TriggerAddAction(HS,function H_9)
set t=CreateTrigger()
set S3D=CreateRegion()
call RegionAddRect(S3D,Xr)
call TriggerRegisterEnterRegion(t,S3D,Condition(function ZY7))
set S3D=CreateRegion()
call RegionAddRect(S3D,Uo)
call TriggerRegisterEnterRegion(t,S3D,Condition(function ZY7))
set S3D=CreateRegion()
call RegionAddRect(S3D,bE)
call TriggerRegisterEnterRegion(t,S3D,Condition(function ZY7))
call TriggerAddCondition(t,Condition(function I49))
set t=null
set S3D=null
set t=CreateTrigger()
set S3D=CreateRegion()
call RegionAddRect(S3D,zo)
call TriggerRegisterEnterRegion(t,S3D,Condition(function ZY7))
set S3D=CreateRegion()
call RegionAddRect(S3D,jo)
call TriggerRegisterEnterRegion(t,S3D,Condition(function ZY7))
set S3D=CreateRegion()
call RegionAddRect(S3D,XE)
call TriggerRegisterEnterRegion(t,S3D,Condition(function ZY7))
call TriggerAddCondition(t,Condition(function I79))
set t=null
set S3D=null
set t=CreateTrigger()
set S3D=CreateRegion()
call RegionAddRect(S3D,Er)
call TriggerRegisterEnterRegion(t,S3D,Condition(function ZY7))
set S3D=CreateRegion()
call RegionAddRect(S3D,to)
call TriggerRegisterEnterRegion(t,S3D,Condition(function ZY7))
set S3D=CreateRegion()
call RegionAddRect(S3D,BE)
call TriggerRegisterEnterRegion(t,S3D,Condition(function ZY7))
call TriggerAddCondition(t,Condition(function I89))
set t=null
set S3D=null
set t=CreateTrigger()
set S3D=CreateRegion()
call RegionAddRect(S3D,er)
call TriggerRegisterEnterRegion(t,S3D,Condition(function ZY7))
set S3D=CreateRegion()
call RegionAddRect(S3D,lo)
call TriggerRegisterEnterRegion(t,S3D,Condition(function ZY7))
set S3D=CreateRegion()
call RegionAddRect(S3D,OE)
call TriggerRegisterEnterRegion(t,S3D,Condition(function ZY7))
call TriggerAddCondition(t,Condition(function I99))
set t=null
set S3D=null
set t=CreateTrigger()
set S3D=CreateRegion()
call RegionAddRect(S3D,Qo)
call TriggerRegisterEnterRegion(t,S3D,Condition(function ZY7))
set S3D=CreateRegion()
call RegionAddRect(S3D,ar)
call TriggerRegisterEnterRegion(t,S3D,Condition(function ZY7))
set S3D=CreateRegion()
call RegionAddRect(S3D,AE)
call TriggerRegisterEnterRegion(t,S3D,Condition(function ZY7))
call TriggerAddCondition(t,Condition(function ID9))
set t=null
set S3D=null
set t=CreateTrigger()
set S3D=CreateRegion()
call RegionAddRect(S3D,wo)
call TriggerRegisterEnterRegion(t,S3D,Condition(function ZY7))
set S3D=CreateRegion()
call RegionAddRect(S3D,go)
call TriggerRegisterEnterRegion(t,S3D,Condition(function ZY7))
set S3D=CreateRegion()
call RegionAddRect(S3D,IE)
call TriggerRegisterEnterRegion(t,S3D,Condition(function ZY7))
call TriggerAddCondition(t,Condition(function IE9))
set t=null
set S3D=null
set JS=CreateTrigger()
call TriggerAddAction(JS,function IQ9)
set cA=CreateTrigger()
call TriggerRegisterUnitEvent(cA,JV4,EVENT_UNIT_DEATH)
call TriggerAddAction(cA,function IS9)
set CA=CreateTrigger()
call TriggerRegisterUnitEvent(CA,JW4,EVENT_UNIT_DEATH)
call TriggerAddAction(CA,function IT9)
set dA=CreateTrigger()
call TriggerRegisterUnitEvent(dA,JX4,EVENT_UNIT_DEATH)
call TriggerAddAction(dA,function IU9)
set DA=CreateTrigger()
call TriggerRegisterUnitEvent(DA,JS4,EVENT_UNIT_DEATH)
call TriggerAddAction(DA,function IV9)
set fA=CreateTrigger()
call TriggerRegisterUnitEvent(fA,JT4,EVENT_UNIT_DEATH)
call TriggerAddAction(fA,function IW9)
set FA=CreateTrigger()
call TriggerRegisterUnitEvent(FA,JU4,EVENT_UNIT_DEATH)
call TriggerAddAction(FA,function IX9)
set gA=CreateTrigger()
call TriggerRegisterUnitEvent(gA,KG4,EVENT_UNIT_DEATH)
call TriggerAddAction(gA,function IY9)
set GA=CreateTrigger()
call TriggerRegisterUnitEvent(GA,KH4,EVENT_UNIT_DEATH)
call TriggerAddAction(GA,function IZ9)
set LA=CreateTrigger()
call TriggerRegisterUnitEvent(LA,KI4,EVENT_UNIT_DEATH)
call TriggerAddAction(LA,function IA9)
set mA=CreateTrigger()
call TriggerRegisterUnitEvent(mA,KD4,EVENT_UNIT_DEATH)
call TriggerAddAction(mA,function IB9)
set MA=CreateTrigger()
call TriggerRegisterUnitEvent(MA,KE4,EVENT_UNIT_DEATH)
call TriggerAddAction(MA,function IC9)
set PA=CreateTrigger()
call TriggerRegisterUnitEvent(PA,KF4,EVENT_UNIT_DEATH)
call TriggerAddAction(PA,function I39)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JF4,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function I69))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,J34,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function I19))
set t=null
set SA=CreateTrigger()
call D28(SA,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(SA,Condition(function I09))
call TriggerAddAction(SA,function I59)
set TA=CreateTrigger()
call D28(TA,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(TA,Condition(function I29))
call TriggerAddAction(TA,function I_9)
set KS=CreateTrigger()
call TriggerAddAction(KS,function J49)
set wA=CreateTrigger()
call TriggerRegisterTimerEventSingle(wA,75.00)
call TriggerAddAction(wA,function J79)
set MS=CreateTrigger()
call TriggerAddCondition(MS,Condition(function K49))
set OS=CreateTrigger()
call TriggerAddAction(OS,function K79)
set vA=CreateTrigger()
call TriggerAddAction(vA,function XN8)
set eA=CreateTrigger()
call D28(eA,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(eA,Condition(function XP8))
call TriggerAddAction(eA,function XQ8)
set xA=CreateTrigger()
call D28(xA,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(xA,Condition(function XR8))
call TriggerAddAction(xA,function XS8)
set FS=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(FS,1.00)
call TriggerAddAction(FS,function XX8)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SELECTED)
call TriggerAddCondition(t,Condition(function XC9))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_DESELECTED)
call TriggerAddCondition(t,Condition(function XA9))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JJ4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,JJ4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YR8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JK4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,JK4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YS8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JM4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,JM4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YT8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JN4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,JN4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YU8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JO4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,JO4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YV8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JP4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,JP4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YW8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JQ4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,JQ4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YX8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JR4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,JR4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YY8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JS4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,JS4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YZ8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JT4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,JT4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YA8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JU4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,JU4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YB8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JV4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,JV4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YC8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JW4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,JW4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function Y38))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JX4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,JX4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function Y68))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,J04,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,J04,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function Y98))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,J54,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,J54,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YD8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,J24,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,J24,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YE8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,J_4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,J_4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YF8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,K44,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,K44,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YG8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,K74,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,K74,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YH8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,K84,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,K84,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YI8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,K94,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,K94,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YJ8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,KD4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,KD4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YK8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,KE4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,KE4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YM8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,KF4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,KF4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YN8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,KG4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,KG4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YO8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,KH4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,KH4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YP8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,KI4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,KI4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YQ8))
set VA=CreateTrigger()
call TriggerRegisterTimerEvent(VA,1.,true)
call TriggerAddCondition(VA,Condition(function Y48))
set t=null
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,5.,true)
call TriggerAddCondition(t,Condition(function Z88))
set t=null
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,4.,true)
call TriggerAddCondition(t,Condition(function ZG8))
set t=null
set KU=CA7()
set t=CreateTrigger()
set S3D=CreateRegion()
call RegionAddRect(S3D,bj_mapInitialPlayableArea)
call TriggerRegisterEnterRegion(t,S3D,Condition(function ZY7))
call TriggerAddCondition(t,Condition(function ZN8))
set t=null
set S3D=null
set t=CreateTrigger()
call TriggerAddCondition(t,Condition(function ZO8))
call TriggerRegisterTimerEvent(t,5.,true)
set t=null
call DestroyFogModifier(CreateFogModifierRadius(Z7[0],FOG_OF_WAR_VISIBLE,-4550,1250,300,true,true))
call DestroyFogModifier(CreateFogModifierRadius(A7[0],FOG_OF_WAR_VISIBLE,-4550,1250,300,true,true))
call DestroyFogModifier(CreateFogModifierRadius(Z7[0],FOG_OF_WAR_VISIBLE,3200,1,300,true,true))
call DestroyFogModifier(CreateFogModifierRadius(A7[0],FOG_OF_WAR_VISIBLE,3200,1,300,true,true))
call DestroyFogModifier(CreateFogModifierRadius(Z7[0],FOG_OF_WAR_VISIBLE,-7292,4186,450,true,true))
call DestroyFogModifier(CreateFogModifierRadius(A7[0],FOG_OF_WAR_VISIBLE,-7292,4186,450,true,true))
call DestroyFogModifier(CreateFogModifierRadius(Z7[0],FOG_OF_WAR_VISIBLE,7348,-4334,450,true,true))
call DestroyFogModifier(CreateFogModifierRadius(A7[0],FOG_OF_WAR_VISIBLE,7348,-4334,450,true,true))
call DestroyFogModifier(CreateFogModifierRect(Z7[0],FOG_OF_WAR_VISIBLE,IW4,true,true))
call DestroyFogModifier(CreateFogModifierRect(A7[0],FOG_OF_WAR_VISIBLE,IW4,true,true))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function MKG))
set t=null
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,3.5,true)
call TriggerAddCondition(t,Condition(function DX9))
set t=null
set OE4=CreateTrigger()
call TriggerRegisterUnitEvent(OE4,J34,EVENT_UNIT_DEATH)
call TriggerAddAction(OE4,function EA9)
set OF4=CreateTrigger()
call TriggerRegisterUnitEvent(OF4,JF4,EVENT_UNIT_DEATH)
call TriggerAddAction(OF4,function EY9)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function FN9))
set t=null
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function FQ9))
set t=null
set OH4=CreateTrigger()
call TriggerAddAction(OH4,function FU9)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,B7,EVENT_PLAYER_UNIT_ATTACKED,Condition(function ZY7))
call TriggerAddCondition(t,Condition(function FW9))
set t=null
set ow=CreateRegion()
call RegionAddRect(ow,TD)
call RegionAddRect(ow,di)
call RegionAddRect(ow,fi)
call RegionAddRect(ow,Fi)
call RegionAddRect(ow,Gi)
call RegionAddRect(ow,Ji)
call RegionAddRect(ow,li)
call RegionAddRect(ow,Li)
call RegionAddRect(ow,pi)
set T94=CreateRegion()
call RegionAddRect(T94,TN)
call RegionAddRect(T94,UN)
set EA=CreateTrigger()
call TriggerRegisterEnterRectSimple(EA,bj_mapInitialPlayableArea)
call TriggerAddCondition(EA,Condition(function GZ9))
call TriggerAddAction(EA,function GA9)
set OA=CreateTrigger()
call D28(OA,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(OA,Condition(function GB9))
call TriggerAddAction(OA,function GC9)
set RA=CreateTrigger()
call D28(RA,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(RA,Condition(function G39))
call TriggerAddAction(RA,function G69)
if(bj_isSinglePlayer and GL9())then
call HB9()
endif
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Le,"-wtf",true)
call TriggerAddAction(t,function H39)
call TriggerAddCondition(t,Condition(function HC9))
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Z7[1],EVENT_PLAYER_HERO_LEVEL,Condition(function ZY7))
call TriggerRegisterPlayerUnitEvent(t,Z7[2],EVENT_PLAYER_HERO_LEVEL,Condition(function ZY7))
call TriggerRegisterPlayerUnitEvent(t,Z7[3],EVENT_PLAYER_HERO_LEVEL,Condition(function ZY7))
call TriggerRegisterPlayerUnitEvent(t,Z7[4],EVENT_PLAYER_HERO_LEVEL,Condition(function ZY7))
call TriggerRegisterPlayerUnitEvent(t,Z7[5],EVENT_PLAYER_HERO_LEVEL,Condition(function ZY7))
call TriggerRegisterPlayerUnitEvent(t,A7[1],EVENT_PLAYER_HERO_LEVEL,Condition(function ZY7))
call TriggerRegisterPlayerUnitEvent(t,A7[2],EVENT_PLAYER_HERO_LEVEL,Condition(function ZY7))
call TriggerRegisterPlayerUnitEvent(t,A7[3],EVENT_PLAYER_HERO_LEVEL,Condition(function ZY7))
call TriggerRegisterPlayerUnitEvent(t,A7[4],EVENT_PLAYER_HERO_LEVEL,Condition(function ZY7))
call TriggerRegisterPlayerUnitEvent(t,A7[5],EVENT_PLAYER_HERO_LEVEL,Condition(function ZY7))
call TriggerAddCondition(t,Condition(function H69))
set t=null
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Le,"-test",true)
call TriggerAddCondition(t,Condition(function HL9))
set t=null
set t=CreateTrigger()
set S3D=CreateRegion()
call RegionAddRect(S3D,GetWorldBounds())
call TriggerRegisterEnterRegion(t,S3D,null)
call TriggerAddCondition(t,Condition(function O49))
call TriggerAddAction(t,function L1E)
set t=null
set S3D=null
call KMF(JH4,14,0)
call KMF(JK4,12,0)
call KMF(JG4,34,1)
call KMF(JJ4,33,1)
call KMF(JI4,55,2)
call KMF(JM4,52,2)
call KMF(JL4,14,0)
call KMF(J54,16,0)
call KMF(J64,35,1)
call KMF(J04,37,1)
call KMF(J14,57,2)
call KMF(J24,58,2)
set t=CreateTrigger()
call TriggerRegisterUnitInRange(t,FJ,300,Condition(function ZY7))
call TriggerRegisterUnitInRange(t,lJ,300,Condition(function ZY7))
call TriggerRegisterUnitInRange(t,DJ,300,Condition(function ZY7))
call TriggerAddCondition(t,Condition(function O79))
set t=null
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,25.,false)
call TriggerAddAction(t,function OJ9)
set t=null
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,2.,false)
call TriggerAddCondition(t,Condition(function N_9))
set t=null
set SC4=CreateRegion()
call RegionAddRect(SC4,HD)
call RegionAddRect(SC4,GD)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,25.,false)
call TriggerAddAction(t,function OH9)
set t=null
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-",false)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-",false)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-",false)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-",false)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-",false)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-",false)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-",false)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-",false)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-",false)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-",false)
call TriggerAddAction(t,function OR9)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_FINISH)
call TriggerAddCondition(t,Condition(function SD9))
call TriggerAddAction(t,function SH9)
set AW[0]=false
set AW[1]=false
set AW[2]=false
set AW[3]=false
set AW[4]=false
set AW[5]=false
set AW[6]=false
set AW[7]=false
set AW[8]=false
set AW[9]=false
set AW[10]=false
set AW[11]=false
set AW[12]=false
set AW[13]=false
set AW[14]=false
set AW[15]=false
set AW[16]=false
set OL4[0]=false
set OL4[1]=false
set OL4[2]=false
set OL4[3]=false
set OL4[4]=false
set OL4[5]=false
set OL4[6]=false
set OL4[7]=false
set OL4[8]=false
set OL4[9]=false
set OL4[10]=false
set OL4[11]=false
set OL4[12]=false
set OL4[13]=false
set OL4[14]=false
set OL4[15]=false
set OL4[16]=false
set OL4[GetPlayerId(Z7[1])]=true
set OL4[GetPlayerId(Z7[2])]=true
set OL4[GetPlayerId(Z7[3])]=true
set OL4[GetPlayerId(Z7[4])]=true
set OL4[GetPlayerId(Z7[5])]=true
set OL4[GetPlayerId(A7[1])]=true
set OL4[GetPlayerId(A7[2])]=true
set OL4[GetPlayerId(A7[3])]=true
set OL4[GetPlayerId(A7[4])]=true
set OL4[GetPlayerId(A7[5])]=true
call SV9()
set eb[0]=true
set eb[1]=true
set eb[2]=true
set eb[3]=true
set eb[4]=true
set eb[5]=true
set eb[6]=true
set eb[7]=true
set eb[8]=true
set eb[9]=true
set eb[10]=true
set eb[11]=true
set eb[12]=true
set eb[13]=true
set eb[14]=true
set eb[15]=true
set ib[0]=false
set ib[1]=false
set ib[2]=false
set ib[3]=false
set ib[4]=false
set ib[5]=false
set ib[6]=false
set ib[7]=false
set ib[8]=false
set ib[9]=false
set ib[10]=false
set ib[11]=false
set ib[12]=false
set ib[13]=false
set ib[14]=false
set CW[GetPlayerId(Z7[1])]=false
set CW[GetPlayerId(Z7[2])]=false
set CW[GetPlayerId(Z7[3])]=false
set CW[GetPlayerId(Z7[4])]=false
set CW[GetPlayerId(Z7[5])]=false
set CW[GetPlayerId(A7[1])]=false
set CW[GetPlayerId(A7[2])]=false
set CW[GetPlayerId(A7[3])]=false
set CW[GetPlayerId(A7[4])]=false
set CW[GetPlayerId(A7[5])]=false
set ab[GetPlayerId(Z7[1])]=false
set ab[GetPlayerId(Z7[2])]=false
set ab[GetPlayerId(Z7[3])]=false
set ab[GetPlayerId(Z7[4])]=false
set ab[GetPlayerId(Z7[5])]=false
set ab[GetPlayerId(A7[1])]=false
set ab[GetPlayerId(A7[2])]=false
set ab[GetPlayerId(A7[3])]=false
set ab[GetPlayerId(A7[4])]=false
set ab[GetPlayerId(A7[5])]=false
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_ISSUED_ORDER)
call D28(t,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)
call D28(t,EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)
call TriggerAddCondition(t,Condition(function OQ9))
set QT[GetPlayerId(Z7[1])]=false
set QT[GetPlayerId(Z7[2])]=false
set QT[GetPlayerId(Z7[3])]=false
set QT[GetPlayerId(Z7[4])]=false
set QT[GetPlayerId(Z7[5])]=false
set QT[GetPlayerId(A7[1])]=false
set QT[GetPlayerId(A7[2])]=false
set QT[GetPlayerId(A7[3])]=false
set QT[GetPlayerId(A7[4])]=false
set QT[GetPlayerId(A7[5])]=false
set Ob[0]=false
set Ob[1]=false
set Ob[2]=false
set Ob[3]=false
set Ob[4]=false
set Ob[5]=false
set Ob[6]=false
set Ob[7]=false
set Ob[8]=false
set Ob[9]=false
set Ob[10]=false
set Ob[11]=false
set Ob[12]=false
set Ob[13]=false
set Ob[14]=false
set Ob[15]=false
set Ob[16]=false
set Ab[0]=true
set Ab[1]=true
set Ab[2]=true
set Ab[3]=true
set Ab[4]=true
set Ab[5]=true
set Ab[6]=true
set Ab[7]=true
set Ab[8]=true
set Ab[9]=true
set Ab[10]=true
set Ab[11]=true
set Ab[12]=true
set Ab[13]=true
set Ab[14]=true
set Ab[15]=true
set Ab[16]=true
set OT[GetPlayerId(Z7[1])]=false
set OT[GetPlayerId(Z7[2])]=false
set OT[GetPlayerId(Z7[3])]=false
set OT[GetPlayerId(Z7[4])]=false
set OT[GetPlayerId(Z7[5])]=false
set OT[GetPlayerId(A7[1])]=false
set OT[GetPlayerId(A7[2])]=false
set OT[GetPlayerId(A7[3])]=false
set OT[GetPlayerId(A7[4])]=false
set OT[GetPlayerId(A7[5])]=false
call SB9()
set Nb[0]=false
set Nb[1]=false
set Nb[2]=false
set Nb[3]=false
set Nb[4]=false
set Nb[5]=false
set Nb[6]=false
set Nb[7]=false
set Nb[8]=false
set Nb[9]=false
set Nb[10]=false
set Nb[11]=false
set Nb[12]=false
set Nb[13]=false
set Nb[14]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\WitchDoctor\\WitchDoctorPissed1.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\WitchDoctor\\WitchDoctorPissed2.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\WitchDoctor\\WitchDoctorPissed3.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\WitchDoctor\\WitchDoctorPissed4.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\WitchDoctor\\WitchDoctorPissed5.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\WitchDoctor\\WitchDoctorPissed6.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed1.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed2.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed3.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed4.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed5.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed6.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed7.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed1.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed2.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed3.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed4.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed5.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed6.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed1.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed2.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed3.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed4.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed5.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Human\\Rifleman\\RiflemanPissed1.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Human\\Rifleman\\RiflemanPissed2.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Human\\Rifleman\\RiflemanPissed3.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Human\\Rifleman\\RiflemanPissed4.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Human\\Rifleman\\RiflemanPissed5.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Human\\Rifleman\\RiflemanPissed6.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Human\\Rifleman\\RiflemanPissed7.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Human\\Rifleman\\RiflemanPissed8.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed1.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed2.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed3.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed4.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed5.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed6.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed7.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed8.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed9.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\Ogre\\OgrePissed1.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\Ogre\\OgrePissed2.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\Ogre\\OgrePissed3.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\Ogre\\OgrePissed4.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\Ogre\\OgrePissed5.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\GoblinSapper\\GoblinSapperPissed1.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\GoblinSapper\\GoblinSapperPissed2.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\GoblinSapper\\GoblinSapperPissed3.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\GoblinSapper\\GoblinSapperPissed4.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\GoblinSapper\\GoblinSapperPissed5.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\GoblinSapper\\GoblinSapperPissed6.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\GoblinSapper\\GoblinSapperPissed7.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Orc\\HeroBladeMaster\\HeroBladeMasterPissed1.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Orc\\HeroBladeMaster\\HeroBladeMasterPissed2.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Orc\\HeroBladeMaster\\HeroBladeMasterPissed3.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Orc\\HeroBladeMaster\\HeroBladeMasterPissed4.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed1.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed2.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed3.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed4.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed5.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed6.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed7.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed8.wav"
set db[Fb]=false
set RT[0]=false
set RT[1]=false
set RT[2]=false
set RT[3]=false
set RT[4]=false
set RT[5]=false
set RT[6]=false
set RT[7]=false
set RT[8]=false
set RT[9]=false
set RT[10]=false
set RT[11]=false
set RT[12]=false
set RT[13]=false
set t=CreateTrigger()
set UL7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function TP9))
call TU7(UL7,"T_CurrentX",(0)*1.0)
call TU7(UL7,"T_CurrentY",(0)*1.0)
call TU7(UL7,"T_MaxX",(160)*1.0)
set fb[0]=false
set fb[1]=false
set fb[2]=false
set fb[3]=false
set fb[4]=false
set fb[5]=false
set fb[6]=false
set fb[7]=false
set fb[8]=false
set fb[9]=false
set fb[10]=false
set fb[11]=false
set fb[12]=false
set t=null
set t=CreateTrigger()
call TriggerAddAction(t,function VG9)
call TriggerAddCondition(t,Condition(function TV9))
set ZT4=t
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.01,false)
call TriggerAddCondition(t,Condition(function VH9))
set t=null
if V8 then
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,1.,true)
call TriggerAddCondition(t,Condition(function XZ9))
endif
set t=null
set Tj=CreateTrigger()
call TriggerRegisterTimerExpireEvent(Tj,A[1])
call TriggerAddAction(Tj,function XL9)
set Uj=CreateTrigger()
call TriggerRegisterTimerExpireEvent(Uj,A[2])
call TriggerAddAction(Uj,function X19)
set wj=CreateTrigger()
call TriggerRegisterTimerExpireEvent(wj,A[3])
call TriggerAddAction(wj,function X09)
set zj=CreateTrigger()
call TriggerRegisterTimerExpireEvent(zj,A[4])
call TriggerAddAction(zj,function X59)
set Zj=CreateTrigger()
call TriggerRegisterTimerExpireEvent(Zj,A[5])
call TriggerAddAction(Zj,function X29)
set vJ=CreateTrigger()
call TriggerRegisterTimerExpireEvent(vJ,A[7])
call TriggerAddAction(vJ,function X_9)
set eJ=CreateTrigger()
call TriggerRegisterTimerExpireEvent(eJ,A[8])
call TriggerAddAction(eJ,function Y49)
set xJ=CreateTrigger()
call TriggerRegisterTimerExpireEvent(xJ,A[9])
call TriggerAddAction(xJ,function Y79)
set oJ=CreateTrigger()
call TriggerRegisterTimerExpireEvent(oJ,A[10])
call TriggerAddAction(oJ,function Y89)
set iJ=CreateTrigger()
call TriggerRegisterTimerExpireEvent(iJ,A[11])
call TriggerAddAction(iJ,function Y99)
call IYH()
call IZH()
call IAH()
call IBH()
set OJ=CreateTrigger()
call D28(OJ,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OJ,Condition(function W1D))
call TriggerAddAction(OJ,function W0D)
set t=CreateTrigger()
set S3D=CreateRegion()
call RegionAddRect(S3D,GetWorldBounds())
call TriggerRegisterEnterRegion(t,S3D,Condition(function ZY7))
call TriggerAddCondition(t,Condition(function Y2F))
set BS[1]=1093686867
set BS[2]=1093686859
set BS[3]=1093686865
set BS[4]=1093687372
set BS[5]=1093686861
set BS[6]=1093686862
set BS[7]=1093686863
set BS[8]=1093686864
set BS[9]=1093686855
set BS[10]=1093686874
set t=null
set S3D=null
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function T_G))
set t=null
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(t,function CPE)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call D28(t,EVENT_PLAYER_UNIT_DROP_ITEM)
call D28(t,EVENT_PLAYER_UNIT_PAWN_ITEM)
call TriggerAddCondition(t,Condition(function U7G))
set SV4=t
set t=null
set bj[GetPlayerId(Z7[1])]=false
set bj[GetPlayerId(Z7[2])]=false
set bj[GetPlayerId(Z7[3])]=false
set bj[GetPlayerId(Z7[4])]=false
set bj[GetPlayerId(Z7[5])]=false
set bj[GetPlayerId(A7[1])]=false
set bj[GetPlayerId(A7[2])]=false
set bj[GetPlayerId(A7[3])]=false
set bj[GetPlayerId(A7[4])]=false
set bj[GetPlayerId(A7[5])]=false
set NU[0]=GetRandomInt(1,2)
set NU[1]=GetRandomInt(1,2)
set NU[2]=GetRandomInt(1,2)
set NU[3]=GetRandomInt(1,2)
set NU[4]=GetRandomInt(1,2)
set NU[5]=GetRandomInt(1,2)
set NU[6]=GetRandomInt(1,2)
set NU[7]=GetRandomInt(1,2)
set NU[8]=GetRandomInt(1,2)
set NU[9]=GetRandomInt(1,2)
set NU[10]=GetRandomInt(1,2)
set NU[11]=GetRandomInt(1,2)
set NU[12]=GetRandomInt(1,2)
set NU[13]=GetRandomInt(1,2)
set NU[14]=GetRandomInt(1,2)
set NU[15]=GetRandomInt(1,2)
set E17[0]=254
set E17[1]=255
set E17[2]=257
set E17[3]=261
set E17[4]=259
set E17[5]=262
set E17[6]=260
set E17[7]=253
set E17[8]=256
set E17[9]=258
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,15.,false)
call TriggerAddAction(t,function WZ9)
set EW7=CreateTrigger()
call DisableTrigger(EW7)
call TriggerRegisterTimerEvent(EW7,FT7,true)
call TriggerAddAction(EW7,function HEF)
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(t,function PPG)
call TriggerRegisterTimerEventPeriodic(HK,5.)
call TriggerAddAction(HK,function DHF)
call TriggerRegisterTimerEventPeriodic(QZ4,5.)
call TriggerAddAction(QZ4,function J5F)
call DisableTrigger(QZ4)
call TriggerRegisterTimerEventPeriodic(Hn,1.)
call TriggerAddAction(Hn,function P9F)
call TriggerRegisterTimerEventPeriodic(HN,1.)
call TriggerAddAction(HN,function PFF)
call TriggerRegisterTimerEventPeriodic(Ho,2.)
call TriggerAddAction(Ho,function PMF)
call DisableTrigger(QB4)
call TriggerRegisterTimerEventPeriodic(QB4,2.)
call TriggerAddAction(QB4,function UEF)
set t=CreateTrigger()
call ky(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(t,function HGF)
set t=CreateTrigger()
call TriggerRegisterUnitInRange(t,JA4,700.,null)
call TriggerAddCondition(t,Condition(function D6))
call TriggerAddAction(t,function IVF)
set t=CreateTrigger()
call TriggerRegisterUnitInRange(t,IZ4,700.,null)
call TriggerAddCondition(t,Condition(function C6))
call TriggerAddAction(t,function IYF)
call DisableTrigger(QC4)
call TriggerRegisterTimerEventPeriodic(QC4,120.)
call TriggerAddAction(QC4,function W6F)
set PB4=12
set PC4=12
call H_F()
if GetPlayerController(Z7[1])==MAP_CONTROL_COMPUTER or GetPlayerController(Z7[2])==MAP_CONTROL_COMPUTER or GetPlayerController(Z7[3])==MAP_CONTROL_COMPUTER or GetPlayerController(Z7[4])==MAP_CONTROL_COMPUTER or GetPlayerController(Z7[5])==MAP_CONTROL_COMPUTER or GetPlayerController(A7[1])==MAP_CONTROL_COMPUTER or GetPlayerController(A7[2])==MAP_CONTROL_COMPUTER or GetPlayerController(A7[3])==MAP_CONTROL_COMPUTER or GetPlayerController(A7[4])==MAP_CONTROL_COMPUTER or GetPlayerController(A7[5])==MAP_CONTROL_COMPUTER then
call DisplayTimedTextToPlayer(Le,0,0,10.,F57+GetObjectName(1496332600))
call DisplayTimedTextToPlayer(Le,0,0,10.,F57+GetObjectName(1496332601))
call DisplayTimedTextToPlayer(Le,0,0,10," ")
endif
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(t,Condition(function Y6F))
set t=CreateTrigger()
call D28(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(t,Condition(function T0G))
call ExecuteFunc("IP8")
set t=null
call ExecuteFunc("PF7")
call OG7()
endfunction
function config takes nothing returns nothing
call SetMapName("TRIGSTR_50000")
call SetMapDescription("TRIGSTR_50001")
call SetPlayers(10)
call SetTeams(10)
call SetGamePlacement(MAP_PLACEMENT_TEAMS_TOGETHER)
call DefineStartLocation(0,-6990.0,6840.0)
call DefineStartLocation(1,-6990.0,6840.0)
call DefineStartLocation(2,-6990.0,6840.0)
call DefineStartLocation(3,-6990.0,6840.0)
call DefineStartLocation(4,-6990.0,6840.0)
call DefineStartLocation(5,-6990.0,6840.0)
call DefineStartLocation(6,-6990.0,6840.0)
call DefineStartLocation(7,-6990.0,6840.0)
call DefineStartLocation(8,-6990.0,6840.0)
call DefineStartLocation(9,-6990.0,6840.0)
call SetPlayerStartLocation(Player(1),0)
call ForcePlayerStartLocation(Player(1),0)
call SetPlayerColor(Player(1),ConvertPlayerColor(1))
call SetPlayerRacePreference(Player(1),RACE_PREF_NIGHTELF)
call SetPlayerRaceSelectable(Player(1),false)
call SetPlayerController(Player(1),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(2),1)
call ForcePlayerStartLocation(Player(2),1)
call SetPlayerColor(Player(2),ConvertPlayerColor(2))
call SetPlayerRacePreference(Player(2),RACE_PREF_NIGHTELF)
call SetPlayerRaceSelectable(Player(2),false)
call SetPlayerController(Player(2),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(3),2)
call ForcePlayerStartLocation(Player(3),2)
call SetPlayerColor(Player(3),ConvertPlayerColor(3))
call SetPlayerRacePreference(Player(3),RACE_PREF_NIGHTELF)
call SetPlayerRaceSelectable(Player(3),false)
call SetPlayerController(Player(3),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(4),3)
call ForcePlayerStartLocation(Player(4),3)
call SetPlayerColor(Player(4),ConvertPlayerColor(4))
call SetPlayerRacePreference(Player(4),RACE_PREF_NIGHTELF)
call SetPlayerRaceSelectable(Player(4),false)
call SetPlayerController(Player(4),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(5),4)
call ForcePlayerStartLocation(Player(5),4)
call SetPlayerColor(Player(5),ConvertPlayerColor(5))
call SetPlayerRacePreference(Player(5),RACE_PREF_NIGHTELF)
call SetPlayerRaceSelectable(Player(5),false)
call SetPlayerController(Player(5),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(7),5)
call ForcePlayerStartLocation(Player(7),5)
call SetPlayerColor(Player(7),ConvertPlayerColor(7))
call SetPlayerRacePreference(Player(7),RACE_PREF_UNDEAD)
call SetPlayerRaceSelectable(Player(7),false)
call SetPlayerController(Player(7),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(8),6)
call ForcePlayerStartLocation(Player(8),6)
call SetPlayerColor(Player(8),ConvertPlayerColor(8))
call SetPlayerRacePreference(Player(8),RACE_PREF_UNDEAD)
call SetPlayerRaceSelectable(Player(8),false)
call SetPlayerController(Player(8),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(9),7)
call ForcePlayerStartLocation(Player(9),7)
call SetPlayerColor(Player(9),ConvertPlayerColor(9))
call SetPlayerRacePreference(Player(9),RACE_PREF_UNDEAD)
call SetPlayerRaceSelectable(Player(9),false)
call SetPlayerController(Player(9),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(10),8)
call ForcePlayerStartLocation(Player(10),8)
call SetPlayerColor(Player(10),ConvertPlayerColor(10))
call SetPlayerRacePreference(Player(10),RACE_PREF_UNDEAD)
call SetPlayerRaceSelectable(Player(10),false)
call SetPlayerController(Player(10),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(11),9)
call ForcePlayerStartLocation(Player(11),9)
call SetPlayerColor(Player(11),ConvertPlayerColor(11))
call SetPlayerRacePreference(Player(11),RACE_PREF_UNDEAD)
call SetPlayerRaceSelectable(Player(11),false)
call SetPlayerController(Player(11),MAP_CONTROL_USER)
call InitCustomTeams()
call SetPlayerAlliance(Player(15),Player(1),ConvertAllianceType(6),true)
call SetPlayerAlliance(Player(15),Player(2),ConvertAllianceType(6),true)
call SetPlayerAlliance(Player(15),Player(3),ConvertAllianceType(6),true)
call SetPlayerAlliance(Player(15),Player(4),ConvertAllianceType(6),true)
call SetPlayerAlliance(Player(15),Player(5),ConvertAllianceType(6),true)
call SetPlayerAlliance(Player(15),Player(7),ConvertAllianceType(6),true)
call SetPlayerAlliance(Player(15),Player(8),ConvertAllianceType(6),true)
call SetPlayerAlliance(Player(15),Player(9),ConvertAllianceType(6),true)
call SetPlayerAlliance(Player(15),Player(10),ConvertAllianceType(6),true)
call SetPlayerAlliance(Player(15),Player(11),ConvertAllianceType(6),true)
call SetStartLocPrioCount(0,9)
call SetStartLocPrio(0,0,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,1,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,2,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,3,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,4,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,5,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,6,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(1,9)
call SetStartLocPrio(1,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,1,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,2,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,3,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,4,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,5,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,6,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(2,9)
call SetStartLocPrio(2,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,2,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,3,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,4,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,5,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,6,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(3,9)
call SetStartLocPrio(3,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,3,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,4,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,5,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,6,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(4,9)
call SetStartLocPrio(4,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,3,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,4,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,5,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,6,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(5,9)
call SetStartLocPrio(5,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,3,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,4,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,5,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,6,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(6,9)
call SetStartLocPrio(6,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,3,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,4,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,5,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,6,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(7,9)
call SetStartLocPrio(7,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,3,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,4,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,5,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,6,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(8,9)
call SetStartLocPrio(8,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,3,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,4,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,5,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,6,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,7,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(9,9)
call SetStartLocPrio(9,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,3,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,4,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,5,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,6,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,7,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,8,8,MAP_LOC_PRIO_HIGH)
call PlayMusic("Sound\\Music\\mp3Music\\PH1.mp3")
endfunction
